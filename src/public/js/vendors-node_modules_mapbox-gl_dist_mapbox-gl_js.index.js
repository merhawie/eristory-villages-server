/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkeristory_villages_ui"] = self["webpackChunkeristory_villages_ui"] || []).push([["vendors-node_modules_mapbox-gl_dist_mapbox-gl_js"],{

/***/ "./node_modules/mapbox-gl/dist/mapbox-gl.js":
/*!**************************************************!*\
  !*** ./node_modules/mapbox-gl/dist/mapbox-gl.js ***!
  \**************************************************/
/***/ (function(module) {

eval("/* Mapbox GL JS is Copyright Â© 2020 Mapbox and subject to the Mapbox Terms of Service ((https://www.mapbox.com/legal/tos/). */\n(function (global, factory) {\n true ? module.exports = factory() :\n0;\n})(this, (function () { 'use strict';\n\n/* eslint-disable */\n\nvar shared, worker, mapboxgl;\n// define gets called three times: one for each chunk. we rely on the order\n// they're imported to know which is which\nfunction define(_, chunk) {\nif (!shared) {\n    shared = chunk;\n} else if (!worker) {\n    worker = chunk;\n} else {\n    var workerBundleString = \"self.onerror = function() { console.error('An error occurred while parsing the WebWorker bundle. This is most likely due to improper transpilation by Babel; please see https://docs.mapbox.com/mapbox-gl-js/guides/install/#transpiling'); }; var sharedChunk = {}; (\" + shared + \")(sharedChunk); (\" + worker + \")(sharedChunk); self.onerror = null;\"\n\n    var sharedChunk = {};\n    shared(sharedChunk);\n    mapboxgl = chunk(sharedChunk);\n    if (typeof window !== 'undefined' && window && window.URL && window.URL.createObjectURL) {\n        mapboxgl.workerUrl = window.URL.createObjectURL(new Blob([workerBundleString], { type: 'text/javascript' }));\n    }\n}\n}\n\n\ndefine([\"exports\"],(function(t){\"use strict\";var e=\"undefined\"!=typeof self?self:{},r=\"2.11.0\";let n;const i={API_URL:\"https://api.mapbox.com\",get API_URL_REGEX(){if(null==n){const t=/^((https?:)?\\/\\/)?([^\\/]+\\.)?mapbox\\.c(n|om)(\\/|\\?|$)/i;try{n=null!=process.env.API_URL_REGEX?new RegExp(process.env.API_URL_REGEX):t;}catch(e){n=t;}}return n},get API_TILEJSON_REGEX(){return /^((https?:)?\\/\\/)?([^\\/]+\\.)?mapbox\\.c(n|om)(\\/v[0-9]*\\/.*\\.json.*$)/i},get API_SPRITE_REGEX(){return /^((https?:)?\\/\\/)?([^\\/]+\\.)?mapbox\\.c(n|om)(\\/styles\\/v[0-9]*\\/)(.*\\/sprite.*\\..*$)/i},get API_FONTS_REGEX(){return /^((https?:)?\\/\\/)?([^\\/]+\\.)?mapbox\\.c(n|om)(\\/fonts\\/v[0-9]*\\/)(.*\\.pbf.*$)/i},get API_STYLE_REGEX(){return /^((https?:)?\\/\\/)?([^\\/]+\\.)?mapbox\\.c(n|om)(\\/styles\\/v[0-9]*\\/)(.*$)/i},get EVENTS_URL(){return this.API_URL?0===this.API_URL.indexOf(\"https://api.mapbox.cn\")?\"https://events.mapbox.cn/events/v2\":0===this.API_URL.indexOf(\"https://api.mapbox.com\")?\"https://events.mapbox.com/events/v2\":null:null},SESSION_PATH:\"/map-sessions/v1\",FEEDBACK_URL:\"https://apps.mapbox.com/feedback\",TILE_URL_VERSION:\"v4\",RASTER_URL_PREFIX:\"raster/v1\",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},s={supported:!1,testSupport:function(t){!l&&o&&(u?c(t):a=t);}};let a,o,l=!1,u=!1;function c(t){const e=t.createTexture();t.bindTexture(t.TEXTURE_2D,e);try{if(t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,o),t.isContextLost())return;s.supported=!0;}catch(t){}t.deleteTexture(e),l=!0;}e.document&&(o=e.document.createElement(\"img\"),o.onload=function(){a&&c(a),a=null,u=!0;},o.onerror=function(){l=!0,a=null;},o.src=\"data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=\");const h=\"01\";var p=f;function f(t,e,r,n){this.cx=3*t,this.bx=3*(r-t)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*e,this.by=3*(n-e)-this.cy,this.ay=1-this.cy-this.by,this.p1x=t,this.p1y=e,this.p2x=r,this.p2y=n;}f.prototype={sampleCurveX:function(t){return ((this.ax*t+this.bx)*t+this.cx)*t},sampleCurveY:function(t){return ((this.ay*t+this.by)*t+this.cy)*t},sampleCurveDerivativeX:function(t){return (3*this.ax*t+2*this.bx)*t+this.cx},solveCurveX:function(t,e){if(void 0===e&&(e=1e-6),t<0)return 0;if(t>1)return 1;for(var r=t,n=0;n<8;n++){var i=this.sampleCurveX(r)-t;if(Math.abs(i)<e)return r;var s=this.sampleCurveDerivativeX(r);if(Math.abs(s)<1e-6)break;r-=i/s;}var a=0,o=1;for(r=t,n=0;n<20&&(i=this.sampleCurveX(r),!(Math.abs(i-t)<e));n++)t>i?a=r:o=r,r=.5*(o-a)+a;return r},solve:function(t,e){return this.sampleCurveY(this.solveCurveX(t,e))}};var d=y;function y(t,e){this.x=t,this.y=e;}y.prototype={clone:function(){return new y(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},multByPoint:function(t){return this.clone()._multByPoint(t)},divByPoint:function(t){return this.clone()._divByPoint(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},rotateAround:function(t,e){return this.clone()._rotateAround(t,e)},matMult:function(t){return this.clone()._matMult(t)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(t){return this.x===t.x&&this.y===t.y},dist:function(t){return Math.sqrt(this.distSqr(t))},distSqr:function(t){var e=t.x-this.x,r=t.y-this.y;return e*e+r*r},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function(t,e){return Math.atan2(this.x*e-this.y*t,this.x*t+this.y*e)},_matMult:function(t){var e=t[2]*this.x+t[3]*this.y;return this.x=t[0]*this.x+t[1]*this.y,this.y=e,this},_add:function(t){return this.x+=t.x,this.y+=t.y,this},_sub:function(t){return this.x-=t.x,this.y-=t.y,this},_mult:function(t){return this.x*=t,this.y*=t,this},_div:function(t){return this.x/=t,this.y/=t,this},_multByPoint:function(t){return this.x*=t.x,this.y*=t.y,this},_divByPoint:function(t){return this.x/=t.x,this.y/=t.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function(t){var e=Math.cos(t),r=Math.sin(t),n=r*this.x+e*this.y;return this.x=e*this.x-r*this.y,this.y=n,this},_rotateAround:function(t,e){var r=Math.cos(t),n=Math.sin(t),i=e.y+n*(this.x-e.x)+r*(this.y-e.y);return this.x=e.x+r*(this.x-e.x)-n*(this.y-e.y),this.y=i,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},y.convert=function(t){return t instanceof y?t:Array.isArray(t)?new y(t[0],t[1]):t};const m=Math.PI/180,g=180/Math.PI;function x(t){return t*m}function v(t){return t*g}const b=[[0,0],[1,0],[1,1],[0,1]];function _(t){if(t<=0)return 0;if(t>=1)return 1;const e=t*t,r=e*t;return 4*(t<.5?r:3*(t-e)+r-.75)}function w(t,e,r,n){const i=new p(t,e,r,n);return function(t){return i.solve(t)}}const A=w(.25,.1,.25,1);function S(t,e,r){return Math.min(r,Math.max(e,t))}function k(t,e,r){return (r=S((r-t)/(e-t),0,1))*r*(3-2*r)}function I(t,e,r){const n=r-e,i=((t-e)%n+n)%n+e;return i===e?r:i}function M(t,e,r){if(!t.length)return r(null,[]);let n=t.length;const i=new Array(t.length);let s=null;t.forEach(((t,a)=>{e(t,((t,e)=>{t&&(s=t),i[a]=e,0==--n&&r(s,i);}));}));}function z(t){const e=[];for(const r in t)e.push(t[r]);return e}function T(t,...e){for(const r of e)for(const e in r)t[e]=r[e];return t}let B=1;function E(){return B++}function P(){return function t(e){return e?(e^Math.random()*(16>>e/4)).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,t)}()}function C(t){return t<=1?1:Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function D(t){return !!t&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(t)}function V(t,e){t.forEach((t=>{e[t]&&(e[t]=e[t].bind(e));}));}function F(t,e){return -1!==t.indexOf(e,t.length-e.length)}function L(t,e,r){const n={};for(const i in t)n[i]=e.call(r||this,t[i],i,t);return n}function R(t,e,r){const n={};for(const i in t)e.call(r||this,t[i],i,t)&&(n[i]=t[i]);return n}function U(t){return Array.isArray(t)?t.map(U):\"object\"==typeof t&&t?L(t,U):t}const j={};function $(t){j[t]||(\"undefined\"!=typeof console&&console.warn(t),j[t]=!0);}function O(t,e,r){return (r.y-t.y)*(e.x-t.x)>(e.y-t.y)*(r.x-t.x)}function q(t){let e=0;for(let r,n,i=0,s=t.length,a=s-1;i<s;a=i++)r=t[i],n=t[a],e+=(n.x-r.x)*(r.y+n.y);return e}function N(){return \"undefined\"!=typeof WorkerGlobalScope&&\"undefined\"!=typeof self&&self instanceof WorkerGlobalScope}function G(t){const e={};if(t.replace(/(?:^|(?:\\s*\\,\\s*))([^\\x00-\\x20\\(\\)<>@\\,;\\:\\\\\"\\/\\[\\]\\?\\=\\{\\}\\x7F]+)(?:\\=(?:([^\\x00-\\x20\\(\\)<>@\\,;\\:\\\\\"\\/\\[\\]\\?\\=\\{\\}\\x7F]+)|(?:\\\"((?:[^\"\\\\]|\\\\.)*)\\\")))?/g,((t,r,n,i)=>{const s=n||i;return e[r]=!s||s.toLowerCase(),\"\"})),e[\"max-age\"]){const t=parseInt(e[\"max-age\"],10);isNaN(t)?delete e[\"max-age\"]:e[\"max-age\"]=t;}return e}let Z=null;function X(t){if(null==Z){const e=t.navigator?t.navigator.userAgent:null;Z=!!t.safari||!(!e||!(/\\b(iPad|iPhone|iPod)\\b/.test(e)||e.match(\"Safari\")&&!e.match(\"Chrome\")));}return Z}function K(t){try{const r=e[t];return r.setItem(\"_mapbox_test_\",1),r.removeItem(\"_mapbox_test_\"),!0}catch(t){return !1}}function H(t,e){return [t[4*e],t[4*e+1],t[4*e+2],t[4*e+3]]}const Y=\"mapbox-tiles\";let W,J,Q=500,tt=50;function et(){try{return e.caches}catch(t){}}function rt(){et()&&!W&&(W=e.caches.open(Y));}function nt(t){const e=t.indexOf(\"?\");if(e<0)return t;const r=function(t){const e=t.indexOf(\"?\");return e>0?t.slice(e+1).split(\"&\"):[]}(t),n=r.filter((t=>{const e=t.split(\"=\");return \"language\"===e[0]||\"worldview\"===e[0]}));return n.length?`${t.slice(0,e)}?${n.join(\"&\")}`:t.slice(0,e)}let it=1/0;const st={Unknown:\"Unknown\",Style:\"Style\",Source:\"Source\",Tile:\"Tile\",Glyphs:\"Glyphs\",SpriteImage:\"SpriteImage\",SpriteJSON:\"SpriteJSON\",Image:\"Image\"};\"function\"==typeof Object.freeze&&Object.freeze(st);class at extends Error{constructor(t,e,r){401===e&&gt(r)&&(t+=\": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes\"),super(t),this.status=e,this.url=r;}toString(){return `${this.name}: ${this.message} (${this.status}): ${this.url}`}}const ot=N()?()=>self.worker&&self.worker.referrer:()=>(\"blob:\"===e.location.protocol?e.parent:e).location.href;const lt=function(t,r){if(!(/^file:/.test(n=t.url)||/^file:/.test(ot())&&!/^\\w+:/.test(n))){if(e.fetch&&e.Request&&e.AbortController&&e.Request.prototype.hasOwnProperty(\"signal\"))return function(t,r){const n=new e.AbortController,i=new e.Request(t.url,{method:t.method||\"GET\",body:t.body,credentials:t.credentials,headers:t.headers,referrer:ot(),signal:n.signal});let s=!1,a=!1;const o=(l=i.url).indexOf(\"sku=\")>0&&gt(l);var l;\"json\"===t.type&&i.headers.set(\"Accept\",\"application/json\");const u=(n,s,l)=>{if(a)return;if(n&&\"SecurityError\"!==n.message&&$(n),s&&l)return c(s);const u=Date.now();e.fetch(i).then((e=>{if(e.ok){const t=o?e.clone():null;return c(e,t,u)}return r(new at(e.statusText,e.status,t.url))})).catch((t=>{20!==t.code&&r(new Error(t.message));}));},c=(n,o,l)=>{(\"arrayBuffer\"===t.type?n.arrayBuffer():\"json\"===t.type?n.json():n.text()).then((t=>{a||(o&&l&&function(t,r,n){if(rt(),!W)return;const i={status:r.status,statusText:r.statusText,headers:new e.Headers};r.headers.forEach(((t,e)=>i.headers.set(e,t)));const s=G(r.headers.get(\"Cache-Control\")||\"\");if(s[\"no-store\"])return;s[\"max-age\"]&&i.headers.set(\"Expires\",new Date(n+1e3*s[\"max-age\"]).toUTCString());const a=i.headers.get(\"Expires\");a&&(new Date(a).getTime()-n<42e4||function(t,e){if(void 0===J)try{new Response(new ReadableStream),J=!0;}catch(t){J=!1;}J?e(t.body):t.blob().then(e);}(r,(r=>{const n=new e.Response(r,i);rt(),W&&W.then((e=>e.put(nt(t.url),n))).catch((t=>$(t.message)));})));}(i,o,l),s=!0,r(null,t,n.headers.get(\"Cache-Control\"),n.headers.get(\"Expires\")));})).catch((t=>{a||r(new Error(t.message));}));};return o?function(t,e){if(rt(),!W)return e(null);const r=nt(t.url);W.then((t=>{t.match(r).then((n=>{const i=function(t){if(!t)return !1;const e=new Date(t.headers.get(\"Expires\")||0),r=G(t.headers.get(\"Cache-Control\")||\"\");return e>Date.now()&&!r[\"no-cache\"]}(n);t.delete(r),i&&t.put(r,n.clone()),e(null,n,i);})).catch(e);})).catch(e);}(i,u):u(null,null),{cancel:()=>{a=!0,s||n.abort();}}}(t,r);if(N()&&self.worker&&self.worker.actor)return self.worker.actor.send(\"getResource\",t,r,void 0,!0)}var n;return function(t,r){const n=new e.XMLHttpRequest;n.open(t.method||\"GET\",t.url,!0),\"arrayBuffer\"===t.type&&(n.responseType=\"arraybuffer\");for(const e in t.headers)n.setRequestHeader(e,t.headers[e]);return \"json\"===t.type&&(n.responseType=\"text\",n.setRequestHeader(\"Accept\",\"application/json\")),n.withCredentials=\"include\"===t.credentials,n.onerror=()=>{r(new Error(n.statusText));},n.onload=()=>{if((n.status>=200&&n.status<300||0===n.status)&&null!==n.response){let e=n.response;if(\"json\"===t.type)try{e=JSON.parse(n.response);}catch(t){return r(t)}r(null,e,n.getResponseHeader(\"Cache-Control\"),n.getResponseHeader(\"Expires\"));}else r(new at(n.statusText,n.status,t.url));},n.send(t.body),{cancel:()=>n.abort()}}(t,r)},ut=function(t,e){return lt(T(t,{type:\"arrayBuffer\"}),e)};function ct(t){const r=e.document.createElement(\"a\");return r.href=t,r.protocol===e.document.location.protocol&&r.host===e.document.location.host}const ht=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=\";let pt,ft;pt=[],ft=0;const dt=function(t,r){if(s.supported&&(t.headers||(t.headers={}),t.headers.accept=\"image/webp,*/*\"),ft>=i.MAX_PARALLEL_IMAGE_REQUESTS){const e={requestParameters:t,callback:r,cancelled:!1,cancel(){this.cancelled=!0;}};return pt.push(e),e}ft++;let n=!1;const a=()=>{if(!n)for(n=!0,ft--;pt.length&&ft<i.MAX_PARALLEL_IMAGE_REQUESTS;){const t=pt.shift(),{requestParameters:e,callback:r,cancelled:n}=t;n||(t.cancel=dt(e,r).cancel);}},o=ut(t,((t,n,i,s)=>{a(),t?r(t):n&&(e.createImageBitmap?function(t,r){const n=new e.Blob([new Uint8Array(t)],{type:\"image/png\"});e.createImageBitmap(n).then((t=>{r(null,t);})).catch((t=>{r(new Error(`Could not load image because of ${t.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`));}));}(n,((t,e)=>r(t,e,i,s))):function(t,r){const n=new e.Image,i=e.URL;n.onload=()=>{r(null,n),i.revokeObjectURL(n.src),n.onload=null,e.requestAnimationFrame((()=>{n.src=ht;}));},n.onerror=()=>r(new Error(\"Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.\"));const s=new e.Blob([new Uint8Array(t)],{type:\"image/png\"});n.src=t.byteLength?i.createObjectURL(s):ht;}(n,((t,e)=>r(t,e,i,s))));}));return {cancel:()=>{o.cancel(),a();}}},yt=\"NO_ACCESS_TOKEN\";function mt(t){return 0===t.indexOf(\"mapbox:\")}function gt(t){return i.API_URL_REGEX.test(t)}function xt(t){return i.API_STYLE_REGEX.test(t)&&!vt(t)}function vt(t){return i.API_SPRITE_REGEX.test(t)}const bt=/^(\\w+):\\/\\/([^/?]*)(\\/[^?]+)?\\??(.+)?/;function _t(t){const e=t.match(bt);if(!e)throw new Error(\"Unable to parse URL object\");return {protocol:e[1],authority:e[2],path:e[3]||\"/\",params:e[4]?e[4].split(\"&\"):[]}}function wt(t){const e=t.params.length?`?${t.params.join(\"&\")}`:\"\";return `${t.protocol}://${t.authority}${t.path}${e}`}function At(t){if(!t)return null;const r=t.split(\".\");if(!r||3!==r.length)return null;try{return JSON.parse(decodeURIComponent(e.atob(r[1]).split(\"\").map((t=>\"%\"+(\"00\"+t.charCodeAt(0).toString(16)).slice(-2))).join(\"\")))}catch(t){return null}}class St{constructor(t){this.type=t,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null;}getStorageKey(t){const r=At(i.ACCESS_TOKEN);let n=\"\";return n=r&&r.u?e.btoa(encodeURIComponent(r.u).replace(/%([0-9A-F]{2})/g,((t,e)=>String.fromCharCode(Number(\"0x\"+e))))):i.ACCESS_TOKEN||\"\",t?`mapbox.eventData.${t}:${n}`:`mapbox.eventData:${n}`}fetchEventData(){const t=K(\"localStorage\"),r=this.getStorageKey(),n=this.getStorageKey(\"uuid\");if(t)try{const t=e.localStorage.getItem(r);t&&(this.eventData=JSON.parse(t));const i=e.localStorage.getItem(n);i&&(this.anonId=i);}catch(t){$(\"Unable to read from LocalStorage\");}}saveEventData(){const t=K(\"localStorage\"),r=this.getStorageKey(),n=this.getStorageKey(\"uuid\");if(t)try{e.localStorage.setItem(n,this.anonId),Object.keys(this.eventData).length>=1&&e.localStorage.setItem(r,JSON.stringify(this.eventData));}catch(t){$(\"Unable to write to LocalStorage\");}}processRequests(t){}postEvent(t,e,r,n){if(!i.EVENTS_URL)return;const s=_t(i.EVENTS_URL);s.params.push(`access_token=${n||i.ACCESS_TOKEN||\"\"}`);const a={event:this.type,created:new Date(t).toISOString()},o=e?T(a,e):a,l={url:wt(s),headers:{\"Content-Type\":\"text/plain\"},body:JSON.stringify([o])};this.pendingRequest=function(t,e){return lt(T(t,{method:\"POST\"}),e)}(l,(t=>{this.pendingRequest=null,r(t),this.saveEventData(),this.processRequests(n);}));}queueRequest(t,e){this.queue.push(t),this.processRequests(e);}}const kt=new class extends St{constructor(t){super(\"appUserTurnstile\"),this._customAccessToken=t;}postTurnstileEvent(t,e){i.EVENTS_URL&&i.ACCESS_TOKEN&&Array.isArray(t)&&t.some((t=>mt(t)||gt(t)))&&this.queueRequest(Date.now(),e);}processRequests(t){if(this.pendingRequest||0===this.queue.length)return;this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();const e=At(i.ACCESS_TOKEN),n=e?e.u:i.ACCESS_TOKEN;let s=n!==this.eventData.tokenU;D(this.anonId)||(this.anonId=P(),s=!0);const a=this.queue.shift();if(this.eventData.lastSuccess){const t=new Date(this.eventData.lastSuccess),e=new Date(a),r=(a-this.eventData.lastSuccess)/864e5;s=s||r>=1||r<-1||t.getDate()!==e.getDate();}else s=!0;s?this.postEvent(a,{sdkIdentifier:\"mapbox-gl-js\",sdkVersion:r,skuId:h,\"enabled.telemetry\":!1,userId:this.anonId},(t=>{t||(this.eventData.lastSuccess=a,this.eventData.tokenU=n);}),t):this.processRequests();}},It=kt.postTurnstileEvent.bind(kt),Mt=new class extends St{constructor(){super(\"map.load\"),this.success={},this.skuToken=\"\";}postMapLoadEvent(t,e,r,n){this.skuToken=e,this.errorCb=n,i.EVENTS_URL&&(r||i.ACCESS_TOKEN?this.queueRequest({id:t,timestamp:Date.now()},r):this.errorCb(new Error(yt)));}processRequests(t){if(this.pendingRequest||0===this.queue.length)return;const{id:e,timestamp:n}=this.queue.shift();e&&this.success[e]||(this.anonId||this.fetchEventData(),D(this.anonId)||(this.anonId=P()),this.postEvent(n,{sdkIdentifier:\"mapbox-gl-js\",sdkVersion:r,skuId:h,skuToken:this.skuToken,userId:this.anonId},(t=>{t?this.errorCb(t):e&&(this.success[e]=!0);}),t));}},zt=Mt.postMapLoadEvent.bind(Mt),Tt=new class extends St{constructor(){super(\"gljs.performance\");}postPerformanceEvent(t,e){i.EVENTS_URL&&(t||i.ACCESS_TOKEN)&&this.queueRequest({timestamp:Date.now(),performanceData:e},t);}processRequests(t){if(this.pendingRequest||0===this.queue.length)return;const{timestamp:n,performanceData:i}=this.queue.shift(),s=function(t){const n=e.performance.getEntriesByType(\"resource\"),i=e.performance.getEntriesByType(\"mark\"),s=function(t){const e={};if(t)for(const r in t)if(\"other\"!==r)for(const n of t[r]){const t=`${r}RequestCount`,i=`${r}ResolveRangeMin`,s=`${r}ResolveRangeMax`;e[i]=Math.min(e[i]||1/0,n.startTime),e[s]=Math.max(e[s]||-1/0,n.responseEnd),void 0===e[t]&&(e[t]=0),++e[t];}return e}(function(t,e){const r={};if(t)for(const n of t){const t=e(n);void 0===r[t]&&(r[t]=[]),r[t].push(n);}return r}(n,Ft)),a=e.devicePixelRatio,o=e.navigator.connection||e.navigator.mozConnection||e.navigator.webkitConnection,l={counters:[],metadata:[],attributes:[]},u=(t,e,r)=>{null!=r&&t.push({name:e,value:r.toString()});};for(const t in s)u(l.counters,t,s[t]);if(t.interactionRange[0]!==1/0&&t.interactionRange[1]!==-1/0&&(u(l.counters,\"interactionRangeMin\",t.interactionRange[0]),u(l.counters,\"interactionRangeMax\",t.interactionRange[1])),i)for(const t of Object.keys(Dt)){const e=Dt[t],r=i.find((t=>t.name===e));r&&u(l.counters,e,r.startTime);}return u(l.attributes,\"style\",function(t){if(t)for(const e of t){const t=e.name.split(\"?\")[0];if(xt(t)){const e=t.split(\"/\").slice(-2);if(2===e.length)return `mapbox://styles/${e[0]}/${e[1]}`}}}(n)),u(l.attributes,\"terrainEnabled\",t.terrainEnabled?\"true\":\"false\"),u(l.attributes,\"fogEnabled\",t.fogEnabled?\"true\":\"false\"),u(l.attributes,\"projection\",t.projection.name),u(l.attributes,\"zoom\",t.zoom),u(l.metadata,\"devicePixelRatio\",a),u(l.metadata,\"connectionEffectiveType\",o?o.effectiveType:void 0),u(l.metadata,\"navigatorUserAgent\",e.navigator.userAgent),u(l.metadata,\"screenWidth\",e.screen.width),u(l.metadata,\"screenHeight\",e.screen.height),u(l.metadata,\"windowWidth\",e.innerWidth),u(l.metadata,\"windowHeight\",e.innerHeight),u(l.metadata,\"mapWidth\",t.width/a),u(l.metadata,\"mapHeight\",t.height/a),u(l.metadata,\"webglRenderer\",t.renderer),u(l.metadata,\"webglVendor\",t.vendor),u(l.metadata,\"sdkVersion\",r),u(l.metadata,\"sdkIdentifier\",\"mapbox-gl-js\"),l}(i);for(const t of s.metadata);for(const t of s.counters);for(const t of s.attributes);this.postEvent(n,s,(()=>{}),t);}},Bt=Tt.postPerformanceEvent.bind(Tt),Et=new class extends St{constructor(){super(\"map.auth\"),this.success={},this.skuToken=\"\";}getSession(t,e,r,n){if(!i.API_URL||!i.SESSION_PATH)return;const s=_t(i.API_URL+i.SESSION_PATH);s.params.push(`sku=${e||\"\"}`),s.params.push(`access_token=${n||i.ACCESS_TOKEN||\"\"}`);const a={url:wt(s),headers:{\"Content-Type\":\"text/plain\"}};this.pendingRequest=function(t,e){return lt(T(t,{method:\"GET\"}),e)}(a,(t=>{this.pendingRequest=null,r(t),this.saveEventData(),this.processRequests(n);}));}getSessionAPI(t,e,r,n){this.skuToken=e,this.errorCb=n,i.SESSION_PATH&&i.API_URL&&(r||i.ACCESS_TOKEN?this.queueRequest({id:t,timestamp:Date.now()},r):this.errorCb(new Error(yt)));}processRequests(t){if(this.pendingRequest||0===this.queue.length)return;const{id:e,timestamp:r}=this.queue.shift();e&&this.success[e]||this.getSession(r,this.skuToken,(t=>{t?this.errorCb(t):e&&(this.success[e]=!0);}),t);}},Pt=Et.getSessionAPI.bind(Et),Ct=new Set,Dt={create:\"create\",load:\"load\",fullLoad:\"fullLoad\"},Vt={mark(t){e.performance.mark(t);},measure(t,r,n){e.performance.measure(t,r,n);}};function Ft(t){const e=t.name.split(\"?\")[0];return e.includes(\"mapbox-gl.js\")?\"javascript\":e.includes(\"mapbox-gl.css\")?\"css\":function(t){return i.API_FONTS_REGEX.test(t)}(e)?\"fontRange\":vt(e)?\"sprite\":xt(e)?\"style\":function(t){return i.API_TILEJSON_REGEX.test(t)}(e)?\"tilejson\":\"other\"}const Lt=e.performance;function Rt(t){const e=t?t.url.toString():void 0;return Lt.getEntriesByName(e)}let Ut,jt,$t,Ot;const qt={now:()=>void 0!==$t?$t:e.performance.now(),setNow(t){$t=t;},restoreNow(){$t=void 0;},frame(t){const r=e.requestAnimationFrame(t);return {cancel:()=>e.cancelAnimationFrame(r)}},getImageData(t,r=0){const{width:n,height:i}=t;Ot||(Ot=e.document.createElement(\"canvas\"));const s=Ot.getContext(\"2d\");if(!s)throw new Error(\"failed to create canvas 2d context\");return (n>Ot.width||i>Ot.height)&&(Ot.width=n,Ot.height=i),s.clearRect(-r,-r,n+2*r,i+2*r),s.drawImage(t,0,0,n,i),s.getImageData(-r,-r,n+2*r,i+2*r)},resolveURL:t=>(Ut||(Ut=e.document.createElement(\"a\")),Ut.href=t,Ut.href),get devicePixelRatio(){return e.devicePixelRatio},get prefersReducedMotion(){return !!e.matchMedia&&(null==jt&&(jt=e.matchMedia(\"(prefers-reduced-motion: reduce)\")),jt.matches)}};function Nt(t,e,r){r[t]&&-1!==r[t].indexOf(e)||(r[t]=r[t]||[],r[t].push(e));}function Gt(t,e,r){if(r&&r[t]){const n=r[t].indexOf(e);-1!==n&&r[t].splice(n,1);}}class Zt{constructor(t,e={}){T(this,e),this.type=t;}}class Xt extends Zt{constructor(t,e={}){super(\"error\",T({error:t},e));}}class Kt{on(t,e){return this._listeners=this._listeners||{},Nt(t,e,this._listeners),this}off(t,e){return Gt(t,e,this._listeners),Gt(t,e,this._oneTimeListeners),this}once(t,e){return e?(this._oneTimeListeners=this._oneTimeListeners||{},Nt(t,e,this._oneTimeListeners),this):new Promise((e=>this.once(t,e)))}fire(t,e){\"string\"==typeof t&&(t=new Zt(t,e||{}));const r=t.type;if(this.listens(r)){t.target=this;const e=this._listeners&&this._listeners[r]?this._listeners[r].slice():[];for(const r of e)r.call(this,t);const n=this._oneTimeListeners&&this._oneTimeListeners[r]?this._oneTimeListeners[r].slice():[];for(const e of n)Gt(r,e,this._oneTimeListeners),e.call(this,t);const i=this._eventedParent;i&&(T(t,\"function\"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),i.fire(t));}else t instanceof Xt&&console.error(t.error);return this}listens(t){return !!(this._listeners&&this._listeners[t]&&this._listeners[t].length>0||this._oneTimeListeners&&this._oneTimeListeners[t]&&this._oneTimeListeners[t].length>0||this._eventedParent&&this._eventedParent.listens(t))}setEventedParent(t,e){return this._eventedParent=t,this._eventedParentData=e,this}}var Ht=JSON.parse('{\"$version\":8,\"$root\":{\"version\":{\"required\":true,\"type\":\"enum\",\"values\":[8]},\"name\":{\"type\":\"string\"},\"metadata\":{\"type\":\"*\"},\"center\":{\"type\":\"array\",\"value\":\"number\"},\"zoom\":{\"type\":\"number\"},\"bearing\":{\"type\":\"number\",\"default\":0,\"period\":360,\"units\":\"degrees\"},\"pitch\":{\"type\":\"number\",\"default\":0,\"units\":\"degrees\"},\"light\":{\"type\":\"light\"},\"terrain\":{\"type\":\"terrain\"},\"fog\":{\"type\":\"fog\"},\"sources\":{\"required\":true,\"type\":\"sources\"},\"sprite\":{\"type\":\"string\"},\"glyphs\":{\"type\":\"string\"},\"transition\":{\"type\":\"transition\"},\"projection\":{\"type\":\"projection\"},\"layers\":{\"required\":true,\"type\":\"array\",\"value\":\"layer\"}},\"sources\":{\"*\":{\"type\":\"source\"}},\"source\":[\"source_vector\",\"source_raster\",\"source_raster_dem\",\"source_geojson\",\"source_video\",\"source_image\"],\"source_vector\":{\"type\":{\"required\":true,\"type\":\"enum\",\"values\":{\"vector\":{}}},\"url\":{\"type\":\"string\"},\"tiles\":{\"type\":\"array\",\"value\":\"string\"},\"bounds\":{\"type\":\"array\",\"value\":\"number\",\"length\":4,\"default\":[-180,-85.051129,180,85.051129]},\"scheme\":{\"type\":\"enum\",\"values\":{\"xyz\":{},\"tms\":{}},\"default\":\"xyz\"},\"minzoom\":{\"type\":\"number\",\"default\":0},\"maxzoom\":{\"type\":\"number\",\"default\":22},\"attribution\":{\"type\":\"string\"},\"promoteId\":{\"type\":\"promoteId\"},\"volatile\":{\"type\":\"boolean\",\"default\":false},\"*\":{\"type\":\"*\"}},\"source_raster\":{\"type\":{\"required\":true,\"type\":\"enum\",\"values\":{\"raster\":{}}},\"url\":{\"type\":\"string\"},\"tiles\":{\"type\":\"array\",\"value\":\"string\"},\"bounds\":{\"type\":\"array\",\"value\":\"number\",\"length\":4,\"default\":[-180,-85.051129,180,85.051129]},\"minzoom\":{\"type\":\"number\",\"default\":0},\"maxzoom\":{\"type\":\"number\",\"default\":22},\"tileSize\":{\"type\":\"number\",\"default\":512,\"units\":\"pixels\"},\"scheme\":{\"type\":\"enum\",\"values\":{\"xyz\":{},\"tms\":{}},\"default\":\"xyz\"},\"attribution\":{\"type\":\"string\"},\"volatile\":{\"type\":\"boolean\",\"default\":false},\"*\":{\"type\":\"*\"}},\"source_raster_dem\":{\"type\":{\"required\":true,\"type\":\"enum\",\"values\":{\"raster-dem\":{}}},\"url\":{\"type\":\"string\"},\"tiles\":{\"type\":\"array\",\"value\":\"string\"},\"bounds\":{\"type\":\"array\",\"value\":\"number\",\"length\":4,\"default\":[-180,-85.051129,180,85.051129]},\"minzoom\":{\"type\":\"number\",\"default\":0},\"maxzoom\":{\"type\":\"number\",\"default\":22},\"tileSize\":{\"type\":\"number\",\"default\":512,\"units\":\"pixels\"},\"attribution\":{\"type\":\"string\"},\"encoding\":{\"type\":\"enum\",\"values\":{\"terrarium\":{},\"mapbox\":{}},\"default\":\"mapbox\"},\"volatile\":{\"type\":\"boolean\",\"default\":false},\"*\":{\"type\":\"*\"}},\"source_geojson\":{\"type\":{\"required\":true,\"type\":\"enum\",\"values\":{\"geojson\":{}}},\"data\":{\"type\":\"*\"},\"maxzoom\":{\"type\":\"number\",\"default\":18},\"attribution\":{\"type\":\"string\"},\"buffer\":{\"type\":\"number\",\"default\":128,\"maximum\":512,\"minimum\":0},\"filter\":{\"type\":\"*\"},\"tolerance\":{\"type\":\"number\",\"default\":0.375},\"cluster\":{\"type\":\"boolean\",\"default\":false},\"clusterRadius\":{\"type\":\"number\",\"default\":50,\"minimum\":0},\"clusterMaxZoom\":{\"type\":\"number\"},\"clusterMinPoints\":{\"type\":\"number\"},\"clusterProperties\":{\"type\":\"*\"},\"lineMetrics\":{\"type\":\"boolean\",\"default\":false},\"generateId\":{\"type\":\"boolean\",\"default\":false},\"promoteId\":{\"type\":\"promoteId\"}},\"source_video\":{\"type\":{\"required\":true,\"type\":\"enum\",\"values\":{\"video\":{}}},\"urls\":{\"required\":true,\"type\":\"array\",\"value\":\"string\"},\"coordinates\":{\"required\":true,\"type\":\"array\",\"length\":4,\"value\":{\"type\":\"array\",\"length\":2,\"value\":\"number\"}}},\"source_image\":{\"type\":{\"required\":true,\"type\":\"enum\",\"values\":{\"image\":{}}},\"url\":{\"required\":true,\"type\":\"string\"},\"coordinates\":{\"required\":true,\"type\":\"array\",\"length\":4,\"value\":{\"type\":\"array\",\"length\":2,\"value\":\"number\"}}},\"layer\":{\"id\":{\"type\":\"string\",\"required\":true},\"type\":{\"type\":\"enum\",\"values\":{\"fill\":{},\"line\":{},\"symbol\":{},\"circle\":{},\"heatmap\":{},\"fill-extrusion\":{},\"raster\":{},\"hillshade\":{},\"background\":{},\"sky\":{}},\"required\":true},\"metadata\":{\"type\":\"*\"},\"source\":{\"type\":\"string\"},\"source-layer\":{\"type\":\"string\"},\"minzoom\":{\"type\":\"number\",\"minimum\":0,\"maximum\":24},\"maxzoom\":{\"type\":\"number\",\"minimum\":0,\"maximum\":24},\"filter\":{\"type\":\"filter\"},\"layout\":{\"type\":\"layout\"},\"paint\":{\"type\":\"paint\"}},\"layout\":[\"layout_fill\",\"layout_line\",\"layout_circle\",\"layout_heatmap\",\"layout_fill-extrusion\",\"layout_symbol\",\"layout_raster\",\"layout_hillshade\",\"layout_background\",\"layout_sky\"],\"layout_background\":{\"visibility\":{\"type\":\"enum\",\"values\":{\"visible\":{},\"none\":{}},\"default\":\"visible\",\"property-type\":\"constant\"}},\"layout_sky\":{\"visibility\":{\"type\":\"enum\",\"values\":{\"visible\":{},\"none\":{}},\"default\":\"visible\",\"property-type\":\"constant\"}},\"layout_fill\":{\"fill-sort-key\":{\"type\":\"number\",\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"visibility\":{\"type\":\"enum\",\"values\":{\"visible\":{},\"none\":{}},\"default\":\"visible\",\"property-type\":\"constant\"}},\"layout_circle\":{\"circle-sort-key\":{\"type\":\"number\",\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"visibility\":{\"type\":\"enum\",\"values\":{\"visible\":{},\"none\":{}},\"default\":\"visible\",\"property-type\":\"constant\"}},\"layout_heatmap\":{\"visibility\":{\"type\":\"enum\",\"values\":{\"visible\":{},\"none\":{}},\"default\":\"visible\",\"property-type\":\"constant\"}},\"layout_fill-extrusion\":{\"visibility\":{\"type\":\"enum\",\"values\":{\"visible\":{},\"none\":{}},\"default\":\"visible\",\"property-type\":\"constant\"},\"fill-extrusion-edge-radius\":{\"type\":\"number\",\"private\":true,\"default\":0,\"minimum\":0,\"maximum\":1,\"property-type\":\"constant\"}},\"layout_line\":{\"line-cap\":{\"type\":\"enum\",\"values\":{\"butt\":{},\"round\":{},\"square\":{}},\"default\":\"butt\",\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"line-join\":{\"type\":\"enum\",\"values\":{\"bevel\":{},\"round\":{},\"miter\":{}},\"default\":\"miter\",\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"line-miter-limit\":{\"type\":\"number\",\"default\":2,\"requires\":[{\"line-join\":\"miter\"}],\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"line-round-limit\":{\"type\":\"number\",\"default\":1.05,\"requires\":[{\"line-join\":\"round\"}],\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"line-sort-key\":{\"type\":\"number\",\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"visibility\":{\"type\":\"enum\",\"values\":{\"visible\":{},\"none\":{}},\"default\":\"visible\",\"property-type\":\"constant\"}},\"layout_symbol\":{\"symbol-placement\":{\"type\":\"enum\",\"values\":{\"point\":{},\"line\":{},\"line-center\":{}},\"default\":\"point\",\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"symbol-spacing\":{\"type\":\"number\",\"default\":250,\"minimum\":1,\"units\":\"pixels\",\"requires\":[{\"symbol-placement\":\"line\"}],\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"symbol-avoid-edges\":{\"type\":\"boolean\",\"default\":false,\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"symbol-sort-key\":{\"type\":\"number\",\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"symbol-z-order\":{\"type\":\"enum\",\"values\":{\"auto\":{},\"viewport-y\":{},\"source\":{}},\"default\":\"auto\",\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"icon-allow-overlap\":{\"type\":\"boolean\",\"default\":false,\"requires\":[\"icon-image\"],\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"icon-ignore-placement\":{\"type\":\"boolean\",\"default\":false,\"requires\":[\"icon-image\"],\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"icon-optional\":{\"type\":\"boolean\",\"default\":false,\"requires\":[\"icon-image\",\"text-field\"],\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"icon-rotation-alignment\":{\"type\":\"enum\",\"values\":{\"map\":{},\"viewport\":{},\"auto\":{}},\"default\":\"auto\",\"requires\":[\"icon-image\"],\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"icon-size\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"units\":\"factor of the original icon size\",\"requires\":[\"icon-image\"],\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"icon-text-fit\":{\"type\":\"enum\",\"values\":{\"none\":{},\"width\":{},\"height\":{},\"both\":{}},\"default\":\"none\",\"requires\":[\"icon-image\",\"text-field\"],\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"icon-text-fit-padding\":{\"type\":\"array\",\"value\":\"number\",\"length\":4,\"default\":[0,0,0,0],\"units\":\"pixels\",\"requires\":[\"icon-image\",\"text-field\",{\"icon-text-fit\":[\"both\",\"width\",\"height\"]}],\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"icon-image\":{\"type\":\"resolvedImage\",\"tokens\":true,\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"icon-rotate\":{\"type\":\"number\",\"default\":0,\"period\":360,\"units\":\"degrees\",\"requires\":[\"icon-image\"],\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"icon-padding\":{\"type\":\"number\",\"default\":2,\"minimum\":0,\"units\":\"pixels\",\"requires\":[\"icon-image\"],\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"icon-keep-upright\":{\"type\":\"boolean\",\"default\":false,\"requires\":[\"icon-image\",{\"icon-rotation-alignment\":\"map\"},{\"symbol-placement\":[\"line\",\"line-center\"]}],\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"icon-offset\":{\"type\":\"array\",\"value\":\"number\",\"length\":2,\"default\":[0,0],\"requires\":[\"icon-image\"],\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"icon-anchor\":{\"type\":\"enum\",\"values\":{\"center\":{},\"left\":{},\"right\":{},\"top\":{},\"bottom\":{},\"top-left\":{},\"top-right\":{},\"bottom-left\":{},\"bottom-right\":{}},\"default\":\"center\",\"requires\":[\"icon-image\"],\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"icon-pitch-alignment\":{\"type\":\"enum\",\"values\":{\"map\":{},\"viewport\":{},\"auto\":{}},\"default\":\"auto\",\"requires\":[\"icon-image\"],\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"text-pitch-alignment\":{\"type\":\"enum\",\"values\":{\"map\":{},\"viewport\":{},\"auto\":{}},\"default\":\"auto\",\"requires\":[\"text-field\"],\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"text-rotation-alignment\":{\"type\":\"enum\",\"values\":{\"map\":{},\"viewport\":{},\"auto\":{}},\"default\":\"auto\",\"requires\":[\"text-field\"],\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"text-field\":{\"type\":\"formatted\",\"default\":\"\",\"tokens\":true,\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"text-font\":{\"type\":\"array\",\"value\":\"string\",\"default\":[\"Open Sans Regular\",\"Arial Unicode MS Regular\"],\"requires\":[\"text-field\"],\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"text-size\":{\"type\":\"number\",\"default\":16,\"minimum\":0,\"units\":\"pixels\",\"requires\":[\"text-field\"],\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"text-max-width\":{\"type\":\"number\",\"default\":10,\"minimum\":0,\"units\":\"ems\",\"requires\":[\"text-field\",{\"symbol-placement\":[\"point\"]}],\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"text-line-height\":{\"type\":\"number\",\"default\":1.2,\"units\":\"ems\",\"requires\":[\"text-field\"],\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"text-letter-spacing\":{\"type\":\"number\",\"default\":0,\"units\":\"ems\",\"requires\":[\"text-field\"],\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"text-justify\":{\"type\":\"enum\",\"values\":{\"auto\":{},\"left\":{},\"center\":{},\"right\":{}},\"default\":\"center\",\"requires\":[\"text-field\"],\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"text-radial-offset\":{\"type\":\"number\",\"units\":\"ems\",\"default\":0,\"requires\":[\"text-field\"],\"property-type\":\"data-driven\",\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\"]}},\"text-variable-anchor\":{\"type\":\"array\",\"value\":\"enum\",\"values\":{\"center\":{},\"left\":{},\"right\":{},\"top\":{},\"bottom\":{},\"top-left\":{},\"top-right\":{},\"bottom-left\":{},\"bottom-right\":{}},\"requires\":[\"text-field\",{\"symbol-placement\":[\"point\"]}],\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"text-anchor\":{\"type\":\"enum\",\"values\":{\"center\":{},\"left\":{},\"right\":{},\"top\":{},\"bottom\":{},\"top-left\":{},\"top-right\":{},\"bottom-left\":{},\"bottom-right\":{}},\"default\":\"center\",\"requires\":[\"text-field\",{\"!\":\"text-variable-anchor\"}],\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"text-max-angle\":{\"type\":\"number\",\"default\":45,\"units\":\"degrees\",\"requires\":[\"text-field\",{\"symbol-placement\":[\"line\",\"line-center\"]}],\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"text-writing-mode\":{\"type\":\"array\",\"value\":\"enum\",\"values\":{\"horizontal\":{},\"vertical\":{}},\"requires\":[\"text-field\"],\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"text-rotate\":{\"type\":\"number\",\"default\":0,\"period\":360,\"units\":\"degrees\",\"requires\":[\"text-field\"],\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"text-padding\":{\"type\":\"number\",\"default\":2,\"minimum\":0,\"units\":\"pixels\",\"requires\":[\"text-field\"],\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"text-keep-upright\":{\"type\":\"boolean\",\"default\":true,\"requires\":[\"text-field\",{\"text-rotation-alignment\":\"map\"},{\"symbol-placement\":[\"line\",\"line-center\"]}],\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"text-transform\":{\"type\":\"enum\",\"values\":{\"none\":{},\"uppercase\":{},\"lowercase\":{}},\"default\":\"none\",\"requires\":[\"text-field\"],\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"text-offset\":{\"type\":\"array\",\"value\":\"number\",\"units\":\"ems\",\"length\":2,\"default\":[0,0],\"requires\":[\"text-field\",{\"!\":\"text-radial-offset\"}],\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"text-allow-overlap\":{\"type\":\"boolean\",\"default\":false,\"requires\":[\"text-field\"],\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"text-ignore-placement\":{\"type\":\"boolean\",\"default\":false,\"requires\":[\"text-field\"],\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"text-optional\":{\"type\":\"boolean\",\"default\":false,\"requires\":[\"text-field\",\"icon-image\"],\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"visibility\":{\"type\":\"enum\",\"values\":{\"visible\":{},\"none\":{}},\"default\":\"visible\",\"property-type\":\"constant\"}},\"layout_raster\":{\"visibility\":{\"type\":\"enum\",\"values\":{\"visible\":{},\"none\":{}},\"default\":\"visible\",\"property-type\":\"constant\"}},\"layout_hillshade\":{\"visibility\":{\"type\":\"enum\",\"values\":{\"visible\":{},\"none\":{}},\"default\":\"visible\",\"property-type\":\"constant\"}},\"filter\":{\"type\":\"array\",\"value\":\"*\"},\"filter_symbol\":{\"type\":\"boolean\",\"default\":false,\"transition\":false,\"property-type\":\"data-driven\",\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\",\"feature\",\"pitch\",\"distance-from-center\"]}},\"filter_fill\":{\"type\":\"boolean\",\"default\":false,\"transition\":false,\"property-type\":\"data-driven\",\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\",\"feature\"]}},\"filter_line\":{\"type\":\"boolean\",\"default\":false,\"transition\":false,\"property-type\":\"data-driven\",\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\",\"feature\"]}},\"filter_circle\":{\"type\":\"boolean\",\"default\":false,\"transition\":false,\"property-type\":\"data-driven\",\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\",\"feature\"]}},\"filter_fill-extrusion\":{\"type\":\"boolean\",\"default\":false,\"transition\":false,\"property-type\":\"data-driven\",\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\",\"feature\"]}},\"filter_heatmap\":{\"type\":\"boolean\",\"default\":false,\"transition\":false,\"property-type\":\"data-driven\",\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\",\"feature\"]}},\"filter_operator\":{\"type\":\"enum\",\"values\":{\"==\":{},\"!=\":{},\">\":{},\">=\":{},\"<\":{},\"<=\":{},\"in\":{},\"!in\":{},\"all\":{},\"any\":{},\"none\":{},\"has\":{},\"!has\":{},\"within\":{}}},\"geometry_type\":{\"type\":\"enum\",\"values\":{\"Point\":{},\"LineString\":{},\"Polygon\":{}}},\"function\":{\"expression\":{\"type\":\"expression\"},\"stops\":{\"type\":\"array\",\"value\":\"function_stop\"},\"base\":{\"type\":\"number\",\"default\":1,\"minimum\":0},\"property\":{\"type\":\"string\",\"default\":\"$zoom\"},\"type\":{\"type\":\"enum\",\"values\":{\"identity\":{},\"exponential\":{},\"interval\":{},\"categorical\":{}},\"default\":\"exponential\"},\"colorSpace\":{\"type\":\"enum\",\"values\":{\"rgb\":{},\"lab\":{},\"hcl\":{}},\"default\":\"rgb\"},\"default\":{\"type\":\"*\",\"required\":false}},\"function_stop\":{\"type\":\"array\",\"minimum\":0,\"maximum\":24,\"value\":[\"number\",\"color\"],\"length\":2},\"expression\":{\"type\":\"array\",\"value\":\"*\",\"minimum\":1},\"fog\":{\"range\":{\"type\":\"array\",\"default\":[0.5,10],\"minimum\":-20,\"maximum\":20,\"length\":2,\"value\":\"number\",\"property-type\":\"data-constant\",\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]}},\"color\":{\"type\":\"color\",\"property-type\":\"data-constant\",\"default\":\"#ffffff\",\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"transition\":true},\"high-color\":{\"type\":\"color\",\"property-type\":\"data-constant\",\"default\":\"#245cdf\",\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"transition\":true},\"space-color\":{\"type\":\"color\",\"property-type\":\"data-constant\",\"default\":[\"interpolate\",[\"linear\"],[\"zoom\"],4,\"#010b19\",7,\"#367ab9\"],\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"transition\":true},\"horizon-blend\":{\"type\":\"number\",\"property-type\":\"data-constant\",\"default\":[\"interpolate\",[\"linear\"],[\"zoom\"],4,0.2,7,0.1],\"minimum\":0,\"maximum\":1,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"transition\":true},\"star-intensity\":{\"type\":\"number\",\"property-type\":\"data-constant\",\"default\":[\"interpolate\",[\"linear\"],[\"zoom\"],5,0.35,6,0],\"minimum\":0,\"maximum\":1,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"transition\":true}},\"light\":{\"anchor\":{\"type\":\"enum\",\"default\":\"viewport\",\"values\":{\"map\":{},\"viewport\":{}},\"property-type\":\"data-constant\",\"transition\":false,\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\"]}},\"position\":{\"type\":\"array\",\"default\":[1.15,210,30],\"length\":3,\"value\":\"number\",\"property-type\":\"data-constant\",\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]}},\"color\":{\"type\":\"color\",\"property-type\":\"data-constant\",\"default\":\"#ffffff\",\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"transition\":true},\"intensity\":{\"type\":\"number\",\"property-type\":\"data-constant\",\"default\":0.5,\"minimum\":0,\"maximum\":1,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"transition\":true}},\"projection\":{\"name\":{\"type\":\"enum\",\"values\":{\"albers\":{},\"equalEarth\":{},\"equirectangular\":{},\"lambertConformalConic\":{},\"mercator\":{},\"naturalEarth\":{},\"winkelTripel\":{},\"globe\":{}},\"default\":\"mercator\",\"required\":true},\"center\":{\"type\":\"array\",\"length\":2,\"value\":\"number\",\"property-type\":\"data-constant\",\"minimum\":[-180,-90],\"maximum\":[180,90],\"transition\":false,\"requires\":[{\"name\":[\"albers\",\"lambertConformalConic\"]}]},\"parallels\":{\"type\":\"array\",\"length\":2,\"value\":\"number\",\"property-type\":\"data-constant\",\"minimum\":[-90,-90],\"maximum\":[90,90],\"transition\":false,\"requires\":[{\"name\":[\"albers\",\"lambertConformalConic\"]}]}},\"terrain\":{\"source\":{\"type\":\"string\",\"required\":true},\"exaggeration\":{\"type\":\"number\",\"property-type\":\"data-constant\",\"default\":1,\"minimum\":0,\"maximum\":1000,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"transition\":true,\"requires\":[\"source\"]}},\"paint\":[\"paint_fill\",\"paint_line\",\"paint_circle\",\"paint_heatmap\",\"paint_fill-extrusion\",\"paint_symbol\",\"paint_raster\",\"paint_hillshade\",\"paint_background\",\"paint_sky\"],\"paint_fill\":{\"fill-antialias\":{\"type\":\"boolean\",\"default\":true,\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"fill-opacity\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"maximum\":1,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\"]},\"property-type\":\"data-driven\"},\"fill-color\":{\"type\":\"color\",\"default\":\"#000000\",\"transition\":true,\"requires\":[{\"!\":\"fill-pattern\"}],\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\"]},\"property-type\":\"data-driven\"},\"fill-outline-color\":{\"type\":\"color\",\"transition\":true,\"requires\":[{\"!\":\"fill-pattern\"},{\"fill-antialias\":true}],\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\"]},\"property-type\":\"data-driven\"},\"fill-translate\":{\"type\":\"array\",\"value\":\"number\",\"length\":2,\"default\":[0,0],\"transition\":true,\"units\":\"pixels\",\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"fill-translate-anchor\":{\"type\":\"enum\",\"values\":{\"map\":{},\"viewport\":{}},\"default\":\"map\",\"requires\":[\"fill-translate\"],\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"fill-pattern\":{\"type\":\"resolvedImage\",\"transition\":true,\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"cross-faded-data-driven\"}},\"paint_fill-extrusion\":{\"fill-extrusion-opacity\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"maximum\":1,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"fill-extrusion-color\":{\"type\":\"color\",\"default\":\"#000000\",\"transition\":true,\"requires\":[{\"!\":\"fill-extrusion-pattern\"}],\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\"]},\"property-type\":\"data-driven\"},\"fill-extrusion-translate\":{\"type\":\"array\",\"value\":\"number\",\"length\":2,\"default\":[0,0],\"transition\":true,\"units\":\"pixels\",\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"fill-extrusion-translate-anchor\":{\"type\":\"enum\",\"values\":{\"map\":{},\"viewport\":{}},\"default\":\"map\",\"requires\":[\"fill-extrusion-translate\"],\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"fill-extrusion-pattern\":{\"type\":\"resolvedImage\",\"transition\":true,\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"cross-faded-data-driven\"},\"fill-extrusion-height\":{\"type\":\"number\",\"default\":0,\"minimum\":0,\"units\":\"meters\",\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\"]},\"property-type\":\"data-driven\"},\"fill-extrusion-base\":{\"type\":\"number\",\"default\":0,\"minimum\":0,\"units\":\"meters\",\"transition\":true,\"requires\":[\"fill-extrusion-height\"],\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\"]},\"property-type\":\"data-driven\"},\"fill-extrusion-vertical-gradient\":{\"type\":\"boolean\",\"default\":true,\"transition\":false,\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"fill-extrusion-ambient-occlusion-intensity\":{\"property-type\":\"data-constant\",\"type\":\"number\",\"private\":true,\"default\":0,\"minimum\":0,\"maximum\":1,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"transition\":true},\"fill-extrusion-ambient-occlusion-radius\":{\"property-type\":\"data-constant\",\"type\":\"number\",\"private\":true,\"default\":3,\"minimum\":0,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"transition\":true,\"requires\":[\"fill-extrusion-edge-radius\"]}},\"paint_line\":{\"line-opacity\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"maximum\":1,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\"]},\"property-type\":\"data-driven\"},\"line-color\":{\"type\":\"color\",\"default\":\"#000000\",\"transition\":true,\"requires\":[{\"!\":\"line-pattern\"}],\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\"]},\"property-type\":\"data-driven\"},\"line-translate\":{\"type\":\"array\",\"value\":\"number\",\"length\":2,\"default\":[0,0],\"transition\":true,\"units\":\"pixels\",\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"line-translate-anchor\":{\"type\":\"enum\",\"values\":{\"map\":{},\"viewport\":{}},\"default\":\"map\",\"requires\":[\"line-translate\"],\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"line-width\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"transition\":true,\"units\":\"pixels\",\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\"]},\"property-type\":\"data-driven\"},\"line-gap-width\":{\"type\":\"number\",\"default\":0,\"minimum\":0,\"transition\":true,\"units\":\"pixels\",\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\"]},\"property-type\":\"data-driven\"},\"line-offset\":{\"type\":\"number\",\"default\":0,\"transition\":true,\"units\":\"pixels\",\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\"]},\"property-type\":\"data-driven\"},\"line-blur\":{\"type\":\"number\",\"default\":0,\"minimum\":0,\"transition\":true,\"units\":\"pixels\",\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\"]},\"property-type\":\"data-driven\"},\"line-dasharray\":{\"type\":\"array\",\"value\":\"number\",\"minimum\":0,\"transition\":true,\"units\":\"line widths\",\"requires\":[{\"!\":\"line-pattern\"}],\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"cross-faded-data-driven\"},\"line-pattern\":{\"type\":\"resolvedImage\",\"transition\":true,\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"cross-faded-data-driven\"},\"line-gradient\":{\"type\":\"color\",\"transition\":false,\"requires\":[{\"!\":\"line-pattern\"},{\"source\":\"geojson\",\"has\":{\"lineMetrics\":true}}],\"expression\":{\"interpolated\":true,\"parameters\":[\"line-progress\"]},\"property-type\":\"color-ramp\"},\"line-trim-offset\":{\"type\":\"array\",\"value\":\"number\",\"length\":2,\"default\":[0,0],\"minimum\":[0,0],\"maximum\":[1,1],\"transition\":false,\"requires\":[{\"source\":\"geojson\",\"has\":{\"lineMetrics\":true}}],\"property-type\":\"constant\"}},\"paint_circle\":{\"circle-radius\":{\"type\":\"number\",\"default\":5,\"minimum\":0,\"transition\":true,\"units\":\"pixels\",\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\"]},\"property-type\":\"data-driven\"},\"circle-color\":{\"type\":\"color\",\"default\":\"#000000\",\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\"]},\"property-type\":\"data-driven\"},\"circle-blur\":{\"type\":\"number\",\"default\":0,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\"]},\"property-type\":\"data-driven\"},\"circle-opacity\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"maximum\":1,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\"]},\"property-type\":\"data-driven\"},\"circle-translate\":{\"type\":\"array\",\"value\":\"number\",\"length\":2,\"default\":[0,0],\"transition\":true,\"units\":\"pixels\",\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"circle-translate-anchor\":{\"type\":\"enum\",\"values\":{\"map\":{},\"viewport\":{}},\"default\":\"map\",\"requires\":[\"circle-translate\"],\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"circle-pitch-scale\":{\"type\":\"enum\",\"values\":{\"map\":{},\"viewport\":{}},\"default\":\"map\",\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"circle-pitch-alignment\":{\"type\":\"enum\",\"values\":{\"map\":{},\"viewport\":{}},\"default\":\"viewport\",\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"circle-stroke-width\":{\"type\":\"number\",\"default\":0,\"minimum\":0,\"transition\":true,\"units\":\"pixels\",\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\"]},\"property-type\":\"data-driven\"},\"circle-stroke-color\":{\"type\":\"color\",\"default\":\"#000000\",\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\"]},\"property-type\":\"data-driven\"},\"circle-stroke-opacity\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"maximum\":1,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\"]},\"property-type\":\"data-driven\"}},\"paint_heatmap\":{\"heatmap-radius\":{\"type\":\"number\",\"default\":30,\"minimum\":1,\"transition\":true,\"units\":\"pixels\",\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\"]},\"property-type\":\"data-driven\"},\"heatmap-weight\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"transition\":false,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\"]},\"property-type\":\"data-driven\"},\"heatmap-intensity\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"heatmap-color\":{\"type\":\"color\",\"default\":[\"interpolate\",[\"linear\"],[\"heatmap-density\"],0,\"rgba(0, 0, 255, 0)\",0.1,\"royalblue\",0.3,\"cyan\",0.5,\"lime\",0.7,\"yellow\",1,\"red\"],\"transition\":false,\"expression\":{\"interpolated\":true,\"parameters\":[\"heatmap-density\"]},\"property-type\":\"color-ramp\"},\"heatmap-opacity\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"maximum\":1,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"}},\"paint_symbol\":{\"icon-opacity\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"maximum\":1,\"transition\":true,\"requires\":[\"icon-image\"],\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\"]},\"property-type\":\"data-driven\"},\"icon-color\":{\"type\":\"color\",\"default\":\"#000000\",\"transition\":true,\"requires\":[\"icon-image\"],\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\"]},\"property-type\":\"data-driven\"},\"icon-halo-color\":{\"type\":\"color\",\"default\":\"rgba(0, 0, 0, 0)\",\"transition\":true,\"requires\":[\"icon-image\"],\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\"]},\"property-type\":\"data-driven\"},\"icon-halo-width\":{\"type\":\"number\",\"default\":0,\"minimum\":0,\"transition\":true,\"units\":\"pixels\",\"requires\":[\"icon-image\"],\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\"]},\"property-type\":\"data-driven\"},\"icon-halo-blur\":{\"type\":\"number\",\"default\":0,\"minimum\":0,\"transition\":true,\"units\":\"pixels\",\"requires\":[\"icon-image\"],\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\"]},\"property-type\":\"data-driven\"},\"icon-translate\":{\"type\":\"array\",\"value\":\"number\",\"length\":2,\"default\":[0,0],\"transition\":true,\"units\":\"pixels\",\"requires\":[\"icon-image\"],\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"icon-translate-anchor\":{\"type\":\"enum\",\"values\":{\"map\":{},\"viewport\":{}},\"default\":\"map\",\"requires\":[\"icon-image\",\"icon-translate\"],\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"text-opacity\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"maximum\":1,\"transition\":true,\"requires\":[\"text-field\"],\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\"]},\"property-type\":\"data-driven\"},\"text-color\":{\"type\":\"color\",\"default\":\"#000000\",\"transition\":true,\"overridable\":true,\"requires\":[\"text-field\"],\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\"]},\"property-type\":\"data-driven\"},\"text-halo-color\":{\"type\":\"color\",\"default\":\"rgba(0, 0, 0, 0)\",\"transition\":true,\"requires\":[\"text-field\"],\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\"]},\"property-type\":\"data-driven\"},\"text-halo-width\":{\"type\":\"number\",\"default\":0,\"minimum\":0,\"transition\":true,\"units\":\"pixels\",\"requires\":[\"text-field\"],\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\"]},\"property-type\":\"data-driven\"},\"text-halo-blur\":{\"type\":\"number\",\"default\":0,\"minimum\":0,\"transition\":true,\"units\":\"pixels\",\"requires\":[\"text-field\"],\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\"]},\"property-type\":\"data-driven\"},\"text-translate\":{\"type\":\"array\",\"value\":\"number\",\"length\":2,\"default\":[0,0],\"transition\":true,\"units\":\"pixels\",\"requires\":[\"text-field\"],\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"text-translate-anchor\":{\"type\":\"enum\",\"values\":{\"map\":{},\"viewport\":{}},\"default\":\"map\",\"requires\":[\"text-field\",\"text-translate\"],\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"}},\"paint_raster\":{\"raster-opacity\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"maximum\":1,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"raster-hue-rotate\":{\"type\":\"number\",\"default\":0,\"period\":360,\"transition\":true,\"units\":\"degrees\",\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"raster-brightness-min\":{\"type\":\"number\",\"default\":0,\"minimum\":0,\"maximum\":1,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"raster-brightness-max\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"maximum\":1,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"raster-saturation\":{\"type\":\"number\",\"default\":0,\"minimum\":-1,\"maximum\":1,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"raster-contrast\":{\"type\":\"number\",\"default\":0,\"minimum\":-1,\"maximum\":1,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"raster-resampling\":{\"type\":\"enum\",\"values\":{\"linear\":{},\"nearest\":{}},\"default\":\"linear\",\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"raster-fade-duration\":{\"type\":\"number\",\"default\":300,\"minimum\":0,\"transition\":false,\"units\":\"milliseconds\",\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"}},\"paint_hillshade\":{\"hillshade-illumination-direction\":{\"type\":\"number\",\"default\":335,\"minimum\":0,\"maximum\":359,\"transition\":false,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"hillshade-illumination-anchor\":{\"type\":\"enum\",\"values\":{\"map\":{},\"viewport\":{}},\"default\":\"viewport\",\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"hillshade-exaggeration\":{\"type\":\"number\",\"default\":0.5,\"minimum\":0,\"maximum\":1,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"hillshade-shadow-color\":{\"type\":\"color\",\"default\":\"#000000\",\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"hillshade-highlight-color\":{\"type\":\"color\",\"default\":\"#FFFFFF\",\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"hillshade-accent-color\":{\"type\":\"color\",\"default\":\"#000000\",\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"}},\"paint_background\":{\"background-color\":{\"type\":\"color\",\"default\":\"#000000\",\"transition\":true,\"requires\":[{\"!\":\"background-pattern\"}],\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"background-pattern\":{\"type\":\"resolvedImage\",\"transition\":true,\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\"]},\"property-type\":\"cross-faded\"},\"background-opacity\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"maximum\":1,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"}},\"paint_sky\":{\"sky-type\":{\"type\":\"enum\",\"values\":{\"gradient\":{},\"atmosphere\":{}},\"default\":\"atmosphere\",\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"sky-atmosphere-sun\":{\"type\":\"array\",\"value\":\"number\",\"length\":2,\"units\":\"degrees\",\"minimum\":[0,0],\"maximum\":[360,180],\"transition\":false,\"requires\":[{\"sky-type\":\"atmosphere\"}],\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"sky-atmosphere-sun-intensity\":{\"type\":\"number\",\"requires\":[{\"sky-type\":\"atmosphere\"}],\"default\":10,\"minimum\":0,\"maximum\":100,\"transition\":false,\"property-type\":\"data-constant\"},\"sky-gradient-center\":{\"type\":\"array\",\"requires\":[{\"sky-type\":\"gradient\"}],\"value\":\"number\",\"default\":[0,0],\"length\":2,\"units\":\"degrees\",\"minimum\":[0,0],\"maximum\":[360,180],\"transition\":false,\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"sky-gradient-radius\":{\"type\":\"number\",\"requires\":[{\"sky-type\":\"gradient\"}],\"default\":90,\"minimum\":0,\"maximum\":180,\"transition\":false,\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"sky-gradient\":{\"type\":\"color\",\"default\":[\"interpolate\",[\"linear\"],[\"sky-radial-progress\"],0.8,\"#87ceeb\",1,\"white\"],\"transition\":false,\"requires\":[{\"sky-type\":\"gradient\"}],\"expression\":{\"interpolated\":true,\"parameters\":[\"sky-radial-progress\"]},\"property-type\":\"color-ramp\"},\"sky-atmosphere-halo-color\":{\"type\":\"color\",\"default\":\"white\",\"transition\":false,\"requires\":[{\"sky-type\":\"atmosphere\"}],\"property-type\":\"data-constant\"},\"sky-atmosphere-color\":{\"type\":\"color\",\"default\":\"white\",\"transition\":false,\"requires\":[{\"sky-type\":\"atmosphere\"}],\"property-type\":\"data-constant\"},\"sky-opacity\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"maximum\":1,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"}},\"transition\":{\"duration\":{\"type\":\"number\",\"default\":300,\"minimum\":0,\"units\":\"milliseconds\"},\"delay\":{\"type\":\"number\",\"default\":0,\"minimum\":0,\"units\":\"milliseconds\"}},\"property-type\":{\"data-driven\":{\"type\":\"property-type\"},\"cross-faded\":{\"type\":\"property-type\"},\"cross-faded-data-driven\":{\"type\":\"property-type\"},\"color-ramp\":{\"type\":\"property-type\"},\"data-constant\":{\"type\":\"property-type\"},\"constant\":{\"type\":\"property-type\"}},\"promoteId\":{\"*\":{\"type\":\"string\"}}}');function Yt(t,...e){for(const r of e)for(const e in r)t[e]=r[e];return t}function Wt(t){return t instanceof Number||t instanceof String||t instanceof Boolean?t.valueOf():t}function Jt(t){if(Array.isArray(t))return t.map(Jt);if(t instanceof Object&&!(t instanceof Number||t instanceof String||t instanceof Boolean)){const e={};for(const r in t)e[r]=Jt(t[r]);return e}return Wt(t)}class Qt extends Error{constructor(t,e){super(e),this.message=e,this.key=t;}}var te=Qt;class ee{constructor(t,e=[]){this.parent=t,this.bindings={};for(const[t,r]of e)this.bindings[t]=r;}concat(t){return new ee(this,t)}get(t){if(this.bindings[t])return this.bindings[t];if(this.parent)return this.parent.get(t);throw new Error(`${t} not found in scope.`)}has(t){return !!this.bindings[t]||!!this.parent&&this.parent.has(t)}}var re=ee;const ne={kind:\"null\"},ie={kind:\"number\"},se={kind:\"string\"},ae={kind:\"boolean\"},oe={kind:\"color\"},le={kind:\"object\"},ue={kind:\"value\"},ce={kind:\"collator\"},he={kind:\"formatted\"},pe={kind:\"resolvedImage\"};function fe(t,e){return {kind:\"array\",itemType:t,N:e}}function de(t){if(\"array\"===t.kind){const e=de(t.itemType);return \"number\"==typeof t.N?`array<${e}, ${t.N}>`:\"value\"===t.itemType.kind?\"array\":`array<${e}>`}return t.kind}const ye=[ne,ie,se,ae,oe,he,le,fe(ue),pe];function me(t,e){if(\"error\"===e.kind)return null;if(\"array\"===t.kind){if(\"array\"===e.kind&&(0===e.N&&\"value\"===e.itemType.kind||!me(t.itemType,e.itemType))&&(\"number\"!=typeof t.N||t.N===e.N))return null}else {if(t.kind===e.kind)return null;if(\"value\"===t.kind)for(const t of ye)if(!me(t,e))return null}return `Expected ${de(t)} but found ${de(e)} instead.`}function ge(t,e){return e.some((e=>e.kind===t.kind))}function xe(t,e){return e.some((e=>\"null\"===e?null===t:\"array\"===e?Array.isArray(t):\"object\"===e?t&&!Array.isArray(t)&&\"object\"==typeof t:e===typeof t))}var ve,be={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function _e(t){return (t=Math.round(t))<0?0:t>255?255:t}function we(t){return _e(\"%\"===t[t.length-1]?parseFloat(t)/100*255:parseInt(t))}function Ae(t){return (e=\"%\"===t[t.length-1]?parseFloat(t)/100:parseFloat(t))<0?0:e>1?1:e;var e;}function Se(t,e,r){return r<0?r+=1:r>1&&(r-=1),6*r<1?t+(e-t)*r*6:2*r<1?e:3*r<2?t+(e-t)*(2/3-r)*6:t}try{ve={}.parseCSSColor=function(t){var e,r=t.replace(/ /g,\"\").toLowerCase();if(r in be)return be[r].slice();if(\"#\"===r[0])return 4===r.length?(e=parseInt(r.substr(1),16))>=0&&e<=4095?[(3840&e)>>4|(3840&e)>>8,240&e|(240&e)>>4,15&e|(15&e)<<4,1]:null:7===r.length&&(e=parseInt(r.substr(1),16))>=0&&e<=16777215?[(16711680&e)>>16,(65280&e)>>8,255&e,1]:null;var n=r.indexOf(\"(\"),i=r.indexOf(\")\");if(-1!==n&&i+1===r.length){var s=r.substr(0,n),a=r.substr(n+1,i-(n+1)).split(\",\"),o=1;switch(s){case\"rgba\":if(4!==a.length)return null;o=Ae(a.pop());case\"rgb\":return 3!==a.length?null:[we(a[0]),we(a[1]),we(a[2]),o];case\"hsla\":if(4!==a.length)return null;o=Ae(a.pop());case\"hsl\":if(3!==a.length)return null;var l=(parseFloat(a[0])%360+360)%360/360,u=Ae(a[1]),c=Ae(a[2]),h=c<=.5?c*(u+1):c+u-c*u,p=2*c-h;return [_e(255*Se(p,h,l+1/3)),_e(255*Se(p,h,l)),_e(255*Se(p,h,l-1/3)),o];default:return null}}return null};}catch(t){}class ke{constructor(t,e,r,n=1){this.r=t,this.g=e,this.b=r,this.a=n;}static parse(t){if(!t)return;if(t instanceof ke)return t;if(\"string\"!=typeof t)return;const e=ve(t);return e?new ke(e[0]/255*e[3],e[1]/255*e[3],e[2]/255*e[3],e[3]):void 0}toString(){const[t,e,r,n]=this.toArray();return `rgba(${Math.round(t)},${Math.round(e)},${Math.round(r)},${n})`}toArray(){const{r:t,g:e,b:r,a:n}=this;return 0===n?[0,0,0,0]:[255*t/n,255*e/n,255*r/n,n]}toArray01(){const{r:t,g:e,b:r,a:n}=this;return 0===n?[0,0,0,0]:[t/n,e/n,r/n,n]}toArray01PremultipliedAlpha(){const{r:t,g:e,b:r,a:n}=this;return [t,e,r,n]}}ke.black=new ke(0,0,0,1),ke.white=new ke(1,1,1,1),ke.transparent=new ke(0,0,0,0),ke.red=new ke(1,0,0,1),ke.blue=new ke(0,0,1,1);var Ie=ke;class Me{constructor(t,e,r){this.sensitivity=t?e?\"variant\":\"case\":e?\"accent\":\"base\",this.locale=r,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:\"search\"});}compare(t,e){return this.collator.compare(t,e)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class ze{constructor(t,e,r,n,i){this.text=t.normalize?t.normalize():t,this.image=e,this.scale=r,this.fontStack=n,this.textColor=i;}}class Te{constructor(t){this.sections=t;}static fromString(t){return new Te([new ze(t,null,null,null,null)])}isEmpty(){return 0===this.sections.length||!this.sections.some((t=>0!==t.text.length||t.image&&0!==t.image.name.length))}static factory(t){return t instanceof Te?t:Te.fromString(t)}toString(){return 0===this.sections.length?\"\":this.sections.map((t=>t.text)).join(\"\")}serialize(){const t=[\"format\"];for(const e of this.sections){if(e.image){t.push([\"image\",e.image.name]);continue}t.push(e.text);const r={};e.fontStack&&(r[\"text-font\"]=[\"literal\",e.fontStack.split(\",\")]),e.scale&&(r[\"font-scale\"]=e.scale),e.textColor&&(r[\"text-color\"]=[\"rgba\"].concat(e.textColor.toArray())),t.push(r);}return t}}class Be{constructor(t){this.name=t.name,this.available=t.available;}toString(){return this.name}static fromString(t){return t?new Be({name:t,available:!1}):null}serialize(){return [\"image\",this.name]}}function Ee(t,e,r,n){return \"number\"==typeof t&&t>=0&&t<=255&&\"number\"==typeof e&&e>=0&&e<=255&&\"number\"==typeof r&&r>=0&&r<=255?void 0===n||\"number\"==typeof n&&n>=0&&n<=1?null:`Invalid rgba value [${[t,e,r,n].join(\", \")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(\"number\"==typeof n?[t,e,r,n]:[t,e,r]).join(\", \")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Pe(t){if(null===t)return !0;if(\"string\"==typeof t)return !0;if(\"boolean\"==typeof t)return !0;if(\"number\"==typeof t)return !0;if(t instanceof Ie)return !0;if(t instanceof Me)return !0;if(t instanceof Te)return !0;if(t instanceof Be)return !0;if(Array.isArray(t)){for(const e of t)if(!Pe(e))return !1;return !0}if(\"object\"==typeof t){for(const e in t)if(!Pe(t[e]))return !1;return !0}return !1}function Ce(t){if(null===t)return ne;if(\"string\"==typeof t)return se;if(\"boolean\"==typeof t)return ae;if(\"number\"==typeof t)return ie;if(t instanceof Ie)return oe;if(t instanceof Me)return ce;if(t instanceof Te)return he;if(t instanceof Be)return pe;if(Array.isArray(t)){const e=t.length;let r;for(const e of t){const t=Ce(e);if(r){if(r===t)continue;r=ue;break}r=t;}return fe(r||ue,e)}return le}function De(t){const e=typeof t;return null===t?\"\":\"string\"===e||\"number\"===e||\"boolean\"===e?String(t):t instanceof Ie||t instanceof Te||t instanceof Be?t.toString():JSON.stringify(t)}class Ve{constructor(t,e){this.type=t,this.value=e;}static parse(t,e){if(2!==t.length)return e.error(`'literal' expression requires exactly one argument, but found ${t.length-1} instead.`);if(!Pe(t[1]))return e.error(\"invalid value\");const r=t[1];let n=Ce(r);const i=e.expectedType;return \"array\"!==n.kind||0!==n.N||!i||\"array\"!==i.kind||\"number\"==typeof i.N&&0!==i.N||(n=i),new Ve(n,r)}evaluate(){return this.value}eachChild(){}outputDefined(){return !0}serialize(){return \"array\"===this.type.kind||\"object\"===this.type.kind?[\"literal\",this.value]:this.value instanceof Ie?[\"rgba\"].concat(this.value.toArray()):this.value instanceof Te?this.value.serialize():this.value}}var Fe=Ve,Le=class{constructor(t){this.name=\"ExpressionEvaluationError\",this.message=t;}toJSON(){return this.message}};const Re={string:se,number:ie,boolean:ae,object:le};class Ue{constructor(t,e){this.type=t,this.args=e;}static parse(t,e){if(t.length<2)return e.error(\"Expected at least one argument.\");let r,n=1;const i=t[0];if(\"array\"===i){let i,s;if(t.length>2){const r=t[1];if(\"string\"!=typeof r||!(r in Re)||\"object\"===r)return e.error('The item type argument of \"array\" must be one of string, number, boolean',1);i=Re[r],n++;}else i=ue;if(t.length>3){if(null!==t[2]&&(\"number\"!=typeof t[2]||t[2]<0||t[2]!==Math.floor(t[2])))return e.error('The length argument to \"array\" must be a positive integer literal',2);s=t[2],n++;}r=fe(i,s);}else r=Re[i];const s=[];for(;n<t.length;n++){const r=e.parse(t[n],n,ue);if(!r)return null;s.push(r);}return new Ue(r,s)}evaluate(t){for(let e=0;e<this.args.length;e++){const r=this.args[e].evaluate(t);if(!me(this.type,Ce(r)))return r;if(e===this.args.length-1)throw new Le(`Expected value to be of type ${de(this.type)}, but found ${de(Ce(r))} instead.`)}return null}eachChild(t){this.args.forEach(t);}outputDefined(){return this.args.every((t=>t.outputDefined()))}serialize(){const t=this.type,e=[t.kind];if(\"array\"===t.kind){const r=t.itemType;if(\"string\"===r.kind||\"number\"===r.kind||\"boolean\"===r.kind){e.push(r.kind);const n=t.N;(\"number\"==typeof n||this.args.length>1)&&e.push(n);}}return e.concat(this.args.map((t=>t.serialize())))}}var je=Ue;class $e{constructor(t){this.type=he,this.sections=t;}static parse(t,e){if(t.length<2)return e.error(\"Expected at least one argument.\");const r=t[1];if(!Array.isArray(r)&&\"object\"==typeof r)return e.error(\"First argument must be an image or text section.\");const n=[];let i=!1;for(let r=1;r<=t.length-1;++r){const s=t[r];if(i&&\"object\"==typeof s&&!Array.isArray(s)){i=!1;let t=null;if(s[\"font-scale\"]&&(t=e.parse(s[\"font-scale\"],1,ie),!t))return null;let r=null;if(s[\"text-font\"]&&(r=e.parse(s[\"text-font\"],1,fe(se)),!r))return null;let a=null;if(s[\"text-color\"]&&(a=e.parse(s[\"text-color\"],1,oe),!a))return null;const o=n[n.length-1];o.scale=t,o.font=r,o.textColor=a;}else {const s=e.parse(t[r],1,ue);if(!s)return null;const a=s.type.kind;if(\"string\"!==a&&\"value\"!==a&&\"null\"!==a&&\"resolvedImage\"!==a)return e.error(\"Formatted text type must be 'string', 'value', 'image' or 'null'.\");i=!0,n.push({content:s,scale:null,font:null,textColor:null});}}return new $e(n)}evaluate(t){return new Te(this.sections.map((e=>{const r=e.content.evaluate(t);return Ce(r)===pe?new ze(\"\",r,null,null,null):new ze(De(r),null,e.scale?e.scale.evaluate(t):null,e.font?e.font.evaluate(t).join(\",\"):null,e.textColor?e.textColor.evaluate(t):null)})))}eachChild(t){for(const e of this.sections)t(e.content),e.scale&&t(e.scale),e.font&&t(e.font),e.textColor&&t(e.textColor);}outputDefined(){return !1}serialize(){const t=[\"format\"];for(const e of this.sections){t.push(e.content.serialize());const r={};e.scale&&(r[\"font-scale\"]=e.scale.serialize()),e.font&&(r[\"text-font\"]=e.font.serialize()),e.textColor&&(r[\"text-color\"]=e.textColor.serialize()),t.push(r);}return t}}class Oe{constructor(t){this.type=pe,this.input=t;}static parse(t,e){if(2!==t.length)return e.error(\"Expected two arguments.\");const r=e.parse(t[1],1,se);return r?new Oe(r):e.error(\"No image name provided.\")}evaluate(t){const e=this.input.evaluate(t),r=Be.fromString(e);return r&&t.availableImages&&(r.available=t.availableImages.indexOf(e)>-1),r}eachChild(t){t(this.input);}outputDefined(){return !1}serialize(){return [\"image\",this.input.serialize()]}}const qe={\"to-boolean\":ae,\"to-color\":oe,\"to-number\":ie,\"to-string\":se};class Ne{constructor(t,e){this.type=t,this.args=e;}static parse(t,e){if(t.length<2)return e.error(\"Expected at least one argument.\");const r=t[0];if((\"to-boolean\"===r||\"to-string\"===r)&&2!==t.length)return e.error(\"Expected one argument.\");const n=qe[r],i=[];for(let r=1;r<t.length;r++){const n=e.parse(t[r],r,ue);if(!n)return null;i.push(n);}return new Ne(n,i)}evaluate(t){if(\"boolean\"===this.type.kind)return Boolean(this.args[0].evaluate(t));if(\"color\"===this.type.kind){let e,r;for(const n of this.args){if(e=n.evaluate(t),r=null,e instanceof Ie)return e;if(\"string\"==typeof e){const r=t.parseColor(e);if(r)return r}else if(Array.isArray(e)&&(r=e.length<3||e.length>4?`Invalid rbga value ${JSON.stringify(e)}: expected an array containing either three or four numeric values.`:Ee(e[0],e[1],e[2],e[3]),!r))return new Ie(e[0]/255,e[1]/255,e[2]/255,e[3])}throw new Le(r||`Could not parse color from value '${\"string\"==typeof e?e:String(JSON.stringify(e))}'`)}if(\"number\"===this.type.kind){let e=null;for(const r of this.args){if(e=r.evaluate(t),null===e)return 0;const n=Number(e);if(!isNaN(n))return n}throw new Le(`Could not convert ${JSON.stringify(e)} to number.`)}return \"formatted\"===this.type.kind?Te.fromString(De(this.args[0].evaluate(t))):\"resolvedImage\"===this.type.kind?Be.fromString(De(this.args[0].evaluate(t))):De(this.args[0].evaluate(t))}eachChild(t){this.args.forEach(t);}outputDefined(){return this.args.every((t=>t.outputDefined()))}serialize(){if(\"formatted\"===this.type.kind)return new $e([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(\"resolvedImage\"===this.type.kind)return new Oe(this.args[0]).serialize();const t=[`to-${this.type.kind}`];return this.eachChild((e=>{t.push(e.serialize());})),t}}var Ge=Ne;const Ze=[\"Unknown\",\"Point\",\"LineString\",\"Polygon\"];var Xe=class{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null;}id(){return this.feature&&void 0!==this.feature.id?this.feature.id:null}geometryType(){return this.feature?\"number\"==typeof this.feature.type?Ze[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&\"geometry\"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}distanceFromCenter(){if(this.featureTileCoord&&this.featureDistanceData){const t=this.featureDistanceData.center,e=this.featureDistanceData.scale,{x:r,y:n}=this.featureTileCoord;return this.featureDistanceData.bearing[0]*(r*e-t[0])+this.featureDistanceData.bearing[1]*(n*e-t[1])}return 0}parseColor(t){let e=this._parseColorCache[t];return e||(e=this._parseColorCache[t]=Ie.parse(t)),e}};class Ke{constructor(t,e,r,n){this.name=t,this.type=e,this._evaluate=r,this.args=n;}evaluate(t){return this._evaluate(t,this.args)}eachChild(t){this.args.forEach(t);}outputDefined(){return !1}serialize(){return [this.name].concat(this.args.map((t=>t.serialize())))}static parse(t,e){const r=t[0],n=Ke.definitions[r];if(!n)return e.error(`Unknown expression \"${r}\". If you wanted a literal array, use [\"literal\", [...]].`,0);const i=Array.isArray(n)?n[0]:n.type,s=Array.isArray(n)?[[n[1],n[2]]]:n.overloads,a=s.filter((([e])=>!Array.isArray(e)||e.length===t.length-1));let o=null;for(const[n,s]of a){o=new _r(e.registry,e.path,null,e.scope);const a=[];let l=!1;for(let e=1;e<t.length;e++){const r=t[e],i=Array.isArray(n)?n[e-1]:n.type,s=o.parse(r,1+a.length,i);if(!s){l=!0;break}a.push(s);}if(!l)if(Array.isArray(n)&&n.length!==a.length)o.error(`Expected ${n.length} arguments, but found ${a.length} instead.`);else {for(let t=0;t<a.length;t++){const e=Array.isArray(n)?n[t]:n.type,r=a[t];o.concat(t+1).checkSubtype(e,r.type);}if(0===o.errors.length)return new Ke(r,i,s,a)}}if(1===a.length)e.errors.push(...o.errors);else {const r=(a.length?a:s).map((([t])=>{return e=t,Array.isArray(e)?`(${e.map(de).join(\", \")})`:`(${de(e.type)}...)`;var e;})).join(\" | \"),n=[];for(let r=1;r<t.length;r++){const i=e.parse(t[r],1+n.length);if(!i)return null;n.push(de(i.type));}e.error(`Expected arguments of type ${r}, but found (${n.join(\", \")}) instead.`);}return null}static register(t,e){Ke.definitions=e;for(const r in e)t[r]=Ke;}}var He=Ke;class Ye{constructor(t,e,r){this.type=ce,this.locale=r,this.caseSensitive=t,this.diacriticSensitive=e;}static parse(t,e){if(2!==t.length)return e.error(\"Expected one argument.\");const r=t[1];if(\"object\"!=typeof r||Array.isArray(r))return e.error(\"Collator options argument must be an object.\");const n=e.parse(void 0!==r[\"case-sensitive\"]&&r[\"case-sensitive\"],1,ae);if(!n)return null;const i=e.parse(void 0!==r[\"diacritic-sensitive\"]&&r[\"diacritic-sensitive\"],1,ae);if(!i)return null;let s=null;return r.locale&&(s=e.parse(r.locale,1,se),!s)?null:new Ye(n,i,s)}evaluate(t){return new Me(this.caseSensitive.evaluate(t),this.diacriticSensitive.evaluate(t),this.locale?this.locale.evaluate(t):null)}eachChild(t){t(this.caseSensitive),t(this.diacriticSensitive),this.locale&&t(this.locale);}outputDefined(){return !1}serialize(){const t={};return t[\"case-sensitive\"]=this.caseSensitive.serialize(),t[\"diacritic-sensitive\"]=this.diacriticSensitive.serialize(),this.locale&&(t.locale=this.locale.serialize()),[\"collator\",t]}}const We=8192;function Je(t,e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),t[2]=Math.max(t[2],e[0]),t[3]=Math.max(t[3],e[1]);}function Qe(t,e){return !(t[0]<=e[0]||t[2]>=e[2]||t[1]<=e[1]||t[3]>=e[3])}function tr(t,e){const r=(180+t[0])/360,n=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t[1]*Math.PI/360)))/360,i=Math.pow(2,e.z);return [Math.round(r*i*We),Math.round(n*i*We)]}function er(t,e,r){const n=t[0]-e[0],i=t[1]-e[1],s=t[0]-r[0],a=t[1]-r[1];return n*a-s*i==0&&n*s<=0&&i*a<=0}function rr(t,e){let r=!1;for(let a=0,o=e.length;a<o;a++){const o=e[a];for(let e=0,a=o.length;e<a-1;e++){if(er(t,o[e],o[e+1]))return !1;(i=o[e])[1]>(n=t)[1]!=(s=o[e+1])[1]>n[1]&&n[0]<(s[0]-i[0])*(n[1]-i[1])/(s[1]-i[1])+i[0]&&(r=!r);}}var n,i,s;return r}function nr(t,e){for(let r=0;r<e.length;r++)if(rr(t,e[r]))return !0;return !1}function ir(t,e,r,n){const i=n[0]-r[0],s=n[1]-r[1],a=(t[0]-r[0])*s-i*(t[1]-r[1]),o=(e[0]-r[0])*s-i*(e[1]-r[1]);return a>0&&o<0||a<0&&o>0}function sr(t,e,r){for(const u of r)for(let r=0;r<u.length-1;++r)if(0!=(o=[(a=u[r+1])[0]-(s=u[r])[0],a[1]-s[1]])[0]*(l=[(i=e)[0]-(n=t)[0],i[1]-n[1]])[1]-o[1]*l[0]&&ir(n,i,s,a)&&ir(s,a,n,i))return !0;var n,i,s,a,o,l;return !1}function ar(t,e){for(let r=0;r<t.length;++r)if(!rr(t[r],e))return !1;for(let r=0;r<t.length-1;++r)if(sr(t[r],t[r+1],e))return !1;return !0}function or(t,e){for(let r=0;r<e.length;r++)if(ar(t,e[r]))return !0;return !1}function lr(t,e,r){const n=[];for(let i=0;i<t.length;i++){const s=[];for(let n=0;n<t[i].length;n++){const a=tr(t[i][n],r);Je(e,a),s.push(a);}n.push(s);}return n}function ur(t,e,r){const n=[];for(let i=0;i<t.length;i++){const s=lr(t[i],e,r);n.push(s);}return n}function cr(t,e,r,n){if(t[0]<r[0]||t[0]>r[2]){const e=.5*n;let i=t[0]-r[0]>e?-n:r[0]-t[0]>e?n:0;0===i&&(i=t[0]-r[2]>e?-n:r[2]-t[0]>e?n:0),t[0]+=i;}Je(e,t);}function hr(t,e,r,n){const i=Math.pow(2,n.z)*We,s=[n.x*We,n.y*We],a=[];if(!t)return a;for(const n of t)for(const t of n){const n=[t.x+s[0],t.y+s[1]];cr(n,e,r,i),a.push(n);}return a}function pr(t,e,r,n){const i=Math.pow(2,n.z)*We,s=[n.x*We,n.y*We],a=[];if(!t)return a;for(const r of t){const t=[];for(const n of r){const r=[n.x+s[0],n.y+s[1]];Je(e,r),t.push(r);}a.push(t);}if(e[2]-e[0]<=i/2){(o=e)[0]=o[1]=1/0,o[2]=o[3]=-1/0;for(const t of a)for(const n of t)cr(n,e,r,i);}var o;return a}class fr{constructor(t,e){this.type=ae,this.geojson=t,this.geometries=e;}static parse(t,e){if(2!==t.length)return e.error(`'within' expression requires exactly one argument, but found ${t.length-1} instead.`);if(Pe(t[1])){const e=t[1];if(\"FeatureCollection\"===e.type)for(let t=0;t<e.features.length;++t){const r=e.features[t].geometry.type;if(\"Polygon\"===r||\"MultiPolygon\"===r)return new fr(e,e.features[t].geometry)}else if(\"Feature\"===e.type){const t=e.geometry.type;if(\"Polygon\"===t||\"MultiPolygon\"===t)return new fr(e,e.geometry)}else if(\"Polygon\"===e.type||\"MultiPolygon\"===e.type)return new fr(e,e)}return e.error(\"'within' expression requires valid geojson object that contains polygon geometry type.\")}evaluate(t){if(null!=t.geometry()&&null!=t.canonicalID()){if(\"Point\"===t.geometryType())return function(t,e){const r=[1/0,1/0,-1/0,-1/0],n=[1/0,1/0,-1/0,-1/0],i=t.canonicalID();if(!i)return !1;if(\"Polygon\"===e.type){const s=lr(e.coordinates,n,i),a=hr(t.geometry(),r,n,i);if(!Qe(r,n))return !1;for(const t of a)if(!rr(t,s))return !1}if(\"MultiPolygon\"===e.type){const s=ur(e.coordinates,n,i),a=hr(t.geometry(),r,n,i);if(!Qe(r,n))return !1;for(const t of a)if(!nr(t,s))return !1}return !0}(t,this.geometries);if(\"LineString\"===t.geometryType())return function(t,e){const r=[1/0,1/0,-1/0,-1/0],n=[1/0,1/0,-1/0,-1/0],i=t.canonicalID();if(!i)return !1;if(\"Polygon\"===e.type){const s=lr(e.coordinates,n,i),a=pr(t.geometry(),r,n,i);if(!Qe(r,n))return !1;for(const t of a)if(!ar(t,s))return !1}if(\"MultiPolygon\"===e.type){const s=ur(e.coordinates,n,i),a=pr(t.geometry(),r,n,i);if(!Qe(r,n))return !1;for(const t of a)if(!or(t,s))return !1}return !0}(t,this.geometries)}return !1}eachChild(){}outputDefined(){return !0}serialize(){return [\"within\",this.geojson]}}var dr=fr;function yr(t){if(t instanceof He){if(\"get\"===t.name&&1===t.args.length)return !1;if(\"feature-state\"===t.name)return !1;if(\"has\"===t.name&&1===t.args.length)return !1;if(\"properties\"===t.name||\"geometry-type\"===t.name||\"id\"===t.name)return !1;if(/^filter-/.test(t.name))return !1}if(t instanceof dr)return !1;let e=!0;return t.eachChild((t=>{e&&!yr(t)&&(e=!1);})),e}function mr(t){if(t instanceof He&&\"feature-state\"===t.name)return !1;let e=!0;return t.eachChild((t=>{e&&!mr(t)&&(e=!1);})),e}function gr(t,e){if(t instanceof He&&e.indexOf(t.name)>=0)return !1;let r=!0;return t.eachChild((t=>{r&&!gr(t,e)&&(r=!1);})),r}class xr{constructor(t,e){this.type=e.type,this.name=t,this.boundExpression=e;}static parse(t,e){if(2!==t.length||\"string\"!=typeof t[1])return e.error(\"'var' expression requires exactly one string literal argument.\");const r=t[1];return e.scope.has(r)?new xr(r,e.scope.get(r)):e.error(`Unknown variable \"${r}\". Make sure \"${r}\" has been bound in an enclosing \"let\" expression before using it.`,1)}evaluate(t){return this.boundExpression.evaluate(t)}eachChild(){}outputDefined(){return !1}serialize(){return [\"var\",this.name]}}var vr=xr;class br{constructor(t,e=[],r,n=new re,i=[]){this.registry=t,this.path=e,this.key=e.map((t=>`[${t}]`)).join(\"\"),this.scope=n,this.errors=i,this.expectedType=r;}parse(t,e,r,n,i={}){return e?this.concat(e,r,n)._parse(t,i):this._parse(t,i)}_parse(t,e){function r(t,e,r){return \"assert\"===r?new je(e,[t]):\"coerce\"===r?new Ge(e,[t]):t}if(null!==t&&\"string\"!=typeof t&&\"boolean\"!=typeof t&&\"number\"!=typeof t||(t=[\"literal\",t]),Array.isArray(t)){if(0===t.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use [\"literal\", []].');const n=t[0];if(\"string\"!=typeof n)return this.error(`Expression name must be a string, but found ${typeof n} instead. If you wanted a literal array, use [\"literal\", [...]].`,0),null;const i=this.registry[n];if(i){let n=i.parse(t,this);if(!n)return null;if(this.expectedType){const t=this.expectedType,i=n.type;if(\"string\"!==t.kind&&\"number\"!==t.kind&&\"boolean\"!==t.kind&&\"object\"!==t.kind&&\"array\"!==t.kind||\"value\"!==i.kind)if(\"color\"!==t.kind&&\"formatted\"!==t.kind&&\"resolvedImage\"!==t.kind||\"value\"!==i.kind&&\"string\"!==i.kind){if(this.checkSubtype(t,i))return null}else n=r(n,t,e.typeAnnotation||\"coerce\");else n=r(n,t,e.typeAnnotation||\"assert\");}if(!(n instanceof Fe)&&\"resolvedImage\"!==n.type.kind&&wr(n)){const t=new Xe;try{n=new Fe(n.type,n.evaluate(t));}catch(t){return this.error(t.message),null}}return n}return this.error(`Unknown expression \"${n}\". If you wanted a literal array, use [\"literal\", [...]].`,0)}return this.error(void 0===t?\"'undefined' value invalid. Use null instead.\":\"object\"==typeof t?'Bare objects invalid. Use [\"literal\", {...}] instead.':`Expected an array, but found ${typeof t} instead.`)}concat(t,e,r){const n=\"number\"==typeof t?this.path.concat(t):this.path,i=r?this.scope.concat(r):this.scope;return new br(this.registry,n,e||null,i,this.errors)}error(t,...e){const r=`${this.key}${e.map((t=>`[${t}]`)).join(\"\")}`;this.errors.push(new te(r,t));}checkSubtype(t,e){const r=me(t,e);return r&&this.error(r),r}}var _r=br;function wr(t){if(t instanceof vr)return wr(t.boundExpression);if(t instanceof He&&\"error\"===t.name)return !1;if(t instanceof Ye)return !1;if(t instanceof dr)return !1;const e=t instanceof Ge||t instanceof je;let r=!0;return t.eachChild((t=>{r=e?r&&wr(t):r&&t instanceof Fe;})),!!r&&yr(t)&&gr(t,[\"zoom\",\"heatmap-density\",\"line-progress\",\"sky-radial-progress\",\"accumulated\",\"is-supported-script\",\"pitch\",\"distance-from-center\"])}function Ar(t,e){const r=t.length-1;let n,i,s=0,a=r,o=0;for(;s<=a;)if(o=Math.floor((s+a)/2),n=t[o],i=t[o+1],n<=e){if(o===r||e<i)return o;s=o+1;}else {if(!(n>e))throw new Le(\"Input is not a number.\");a=o-1;}return 0}class Sr{constructor(t,e,r){this.type=t,this.input=e,this.labels=[],this.outputs=[];for(const[t,e]of r)this.labels.push(t),this.outputs.push(e);}static parse(t,e){if(t.length-1<4)return e.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if((t.length-1)%2!=0)return e.error(\"Expected an even number of arguments.\");const r=e.parse(t[1],1,ie);if(!r)return null;const n=[];let i=null;e.expectedType&&\"value\"!==e.expectedType.kind&&(i=e.expectedType);for(let r=1;r<t.length;r+=2){const s=1===r?-1/0:t[r],a=t[r+1],o=r,l=r+1;if(\"number\"!=typeof s)return e.error('Input/output pairs for \"step\" expressions must be defined using literal numeric values (not computed expressions) for the input values.',o);if(n.length&&n[n.length-1][0]>=s)return e.error('Input/output pairs for \"step\" expressions must be arranged with input values in strictly ascending order.',o);const u=e.parse(a,l,i);if(!u)return null;i=i||u.type,n.push([s,u]);}return new Sr(i,r,n)}evaluate(t){const e=this.labels,r=this.outputs;if(1===e.length)return r[0].evaluate(t);const n=this.input.evaluate(t);if(n<=e[0])return r[0].evaluate(t);const i=e.length;return n>=e[i-1]?r[i-1].evaluate(t):r[Ar(e,n)].evaluate(t)}eachChild(t){t(this.input);for(const e of this.outputs)t(e);}outputDefined(){return this.outputs.every((t=>t.outputDefined()))}serialize(){const t=[\"step\",this.input.serialize()];for(let e=0;e<this.labels.length;e++)e>0&&t.push(this.labels[e]),t.push(this.outputs[e].serialize());return t}}var kr=Sr;function Ir(t,e,r){return t*(1-r)+e*r}var Mr=Object.freeze({__proto__:null,number:Ir,color:function(t,e,r){return new Ie(Ir(t.r,e.r,r),Ir(t.g,e.g,r),Ir(t.b,e.b,r),Ir(t.a,e.a,r))},array:function(t,e,r){return t.map(((t,n)=>Ir(t,e[n],r)))}});const zr=.95047,Tr=1.08883,Br=4/29,Er=6/29,Pr=3*Er*Er,Cr=Math.PI/180,Dr=180/Math.PI;function Vr(t){return t>.008856451679035631?Math.pow(t,1/3):t/Pr+Br}function Fr(t){return t>Er?t*t*t:Pr*(t-Br)}function Lr(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Rr(t){return (t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Ur(t){const e=Rr(t.r),r=Rr(t.g),n=Rr(t.b),i=Vr((.4124564*e+.3575761*r+.1804375*n)/zr),s=Vr((.2126729*e+.7151522*r+.072175*n)/1);return {l:116*s-16,a:500*(i-s),b:200*(s-Vr((.0193339*e+.119192*r+.9503041*n)/Tr)),alpha:t.a}}function jr(t){let e=(t.l+16)/116,r=isNaN(t.a)?e:e+t.a/500,n=isNaN(t.b)?e:e-t.b/200;return e=1*Fr(e),r=zr*Fr(r),n=Tr*Fr(n),new Ie(Lr(3.2404542*r-1.5371385*e-.4985314*n),Lr(-.969266*r+1.8760108*e+.041556*n),Lr(.0556434*r-.2040259*e+1.0572252*n),t.alpha)}function $r(t,e,r){const n=e-t;return t+r*(n>180||n<-180?n-360*Math.round(n/360):n)}const Or={forward:Ur,reverse:jr,interpolate:function(t,e,r){return {l:Ir(t.l,e.l,r),a:Ir(t.a,e.a,r),b:Ir(t.b,e.b,r),alpha:Ir(t.alpha,e.alpha,r)}}},qr={forward:function(t){const{l:e,a:r,b:n}=Ur(t),i=Math.atan2(n,r)*Dr;return {h:i<0?i+360:i,c:Math.sqrt(r*r+n*n),l:e,alpha:t.a}},reverse:function(t){const e=t.h*Cr,r=t.c;return jr({l:t.l,a:Math.cos(e)*r,b:Math.sin(e)*r,alpha:t.alpha})},interpolate:function(t,e,r){return {h:$r(t.h,e.h,r),c:Ir(t.c,e.c,r),l:Ir(t.l,e.l,r),alpha:Ir(t.alpha,e.alpha,r)}}};var Nr=Object.freeze({__proto__:null,lab:Or,hcl:qr});class Gr{constructor(t,e,r,n,i){this.type=t,this.operator=e,this.interpolation=r,this.input=n,this.labels=[],this.outputs=[];for(const[t,e]of i)this.labels.push(t),this.outputs.push(e);}static interpolationFactor(t,e,r,n){let i=0;if(\"exponential\"===t.name)i=Zr(e,t.base,r,n);else if(\"linear\"===t.name)i=Zr(e,1,r,n);else if(\"cubic-bezier\"===t.name){const s=t.controlPoints;i=new p(s[0],s[1],s[2],s[3]).solve(Zr(e,1,r,n));}return i}static parse(t,e){let[r,n,i,...s]=t;if(!Array.isArray(n)||0===n.length)return e.error(\"Expected an interpolation type expression.\",1);if(\"linear\"===n[0])n={name:\"linear\"};else if(\"exponential\"===n[0]){const t=n[1];if(\"number\"!=typeof t)return e.error(\"Exponential interpolation requires a numeric base.\",1,1);n={name:\"exponential\",base:t};}else {if(\"cubic-bezier\"!==n[0])return e.error(`Unknown interpolation type ${String(n[0])}`,1,0);{const t=n.slice(1);if(4!==t.length||t.some((t=>\"number\"!=typeof t||t<0||t>1)))return e.error(\"Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.\",1);n={name:\"cubic-bezier\",controlPoints:t};}}if(t.length-1<4)return e.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if((t.length-1)%2!=0)return e.error(\"Expected an even number of arguments.\");if(i=e.parse(i,2,ie),!i)return null;const a=[];let o=null;\"interpolate-hcl\"===r||\"interpolate-lab\"===r?o=oe:e.expectedType&&\"value\"!==e.expectedType.kind&&(o=e.expectedType);for(let t=0;t<s.length;t+=2){const r=s[t],n=s[t+1],i=t+3,l=t+4;if(\"number\"!=typeof r)return e.error('Input/output pairs for \"interpolate\" expressions must be defined using literal numeric values (not computed expressions) for the input values.',i);if(a.length&&a[a.length-1][0]>=r)return e.error('Input/output pairs for \"interpolate\" expressions must be arranged with input values in strictly ascending order.',i);const u=e.parse(n,l,o);if(!u)return null;o=o||u.type,a.push([r,u]);}return \"number\"===o.kind||\"color\"===o.kind||\"array\"===o.kind&&\"number\"===o.itemType.kind&&\"number\"==typeof o.N?new Gr(o,r,n,i,a):e.error(`Type ${de(o)} is not interpolatable.`)}evaluate(t){const e=this.labels,r=this.outputs;if(1===e.length)return r[0].evaluate(t);const n=this.input.evaluate(t);if(n<=e[0])return r[0].evaluate(t);const i=e.length;if(n>=e[i-1])return r[i-1].evaluate(t);const s=Ar(e,n),a=Gr.interpolationFactor(this.interpolation,n,e[s],e[s+1]),o=r[s].evaluate(t),l=r[s+1].evaluate(t);return \"interpolate\"===this.operator?Mr[this.type.kind.toLowerCase()](o,l,a):\"interpolate-hcl\"===this.operator?qr.reverse(qr.interpolate(qr.forward(o),qr.forward(l),a)):Or.reverse(Or.interpolate(Or.forward(o),Or.forward(l),a))}eachChild(t){t(this.input);for(const e of this.outputs)t(e);}outputDefined(){return this.outputs.every((t=>t.outputDefined()))}serialize(){let t;t=\"linear\"===this.interpolation.name?[\"linear\"]:\"exponential\"===this.interpolation.name?1===this.interpolation.base?[\"linear\"]:[\"exponential\",this.interpolation.base]:[\"cubic-bezier\"].concat(this.interpolation.controlPoints);const e=[this.operator,t,this.input.serialize()];for(let t=0;t<this.labels.length;t++)e.push(this.labels[t],this.outputs[t].serialize());return e}}function Zr(t,e,r,n){const i=n-r,s=t-r;return 0===i?0:1===e?s/i:(Math.pow(e,s)-1)/(Math.pow(e,i)-1)}var Xr=Gr;class Kr{constructor(t,e){this.type=t,this.args=e;}static parse(t,e){if(t.length<2)return e.error(\"Expectected at least one argument.\");let r=null;const n=e.expectedType;n&&\"value\"!==n.kind&&(r=n);const i=[];for(const n of t.slice(1)){const t=e.parse(n,1+i.length,r,void 0,{typeAnnotation:\"omit\"});if(!t)return null;r=r||t.type,i.push(t);}const s=n&&i.some((t=>me(n,t.type)));return new Kr(s?ue:r,i)}evaluate(t){let e,r=null,n=0;for(const i of this.args){if(n++,r=i.evaluate(t),r&&r instanceof Be&&!r.available&&(e||(e=r),r=null,n===this.args.length))return e;if(null!==r)break}return r}eachChild(t){this.args.forEach(t);}outputDefined(){return this.args.every((t=>t.outputDefined()))}serialize(){const t=[\"coalesce\"];return this.eachChild((e=>{t.push(e.serialize());})),t}}var Hr=Kr;class Yr{constructor(t,e){this.type=e.type,this.bindings=[].concat(t),this.result=e;}evaluate(t){return this.result.evaluate(t)}eachChild(t){for(const e of this.bindings)t(e[1]);t(this.result);}static parse(t,e){if(t.length<4)return e.error(`Expected at least 3 arguments, but found ${t.length-1} instead.`);const r=[];for(let n=1;n<t.length-1;n+=2){const i=t[n];if(\"string\"!=typeof i)return e.error(`Expected string, but found ${typeof i} instead.`,n);if(/[^a-zA-Z0-9_]/.test(i))return e.error(\"Variable names must contain only alphanumeric characters or '_'.\",n);const s=e.parse(t[n+1],n+1);if(!s)return null;r.push([i,s]);}const n=e.parse(t[t.length-1],t.length-1,e.expectedType,r);return n?new Yr(r,n):null}outputDefined(){return this.result.outputDefined()}serialize(){const t=[\"let\"];for(const[e,r]of this.bindings)t.push(e,r.serialize());return t.push(this.result.serialize()),t}}var Wr=Yr;class Jr{constructor(t,e,r){this.type=t,this.index=e,this.input=r;}static parse(t,e){if(3!==t.length)return e.error(`Expected 2 arguments, but found ${t.length-1} instead.`);const r=e.parse(t[1],1,ie),n=e.parse(t[2],2,fe(e.expectedType||ue));return r&&n?new Jr(n.type.itemType,r,n):null}evaluate(t){const e=this.index.evaluate(t),r=this.input.evaluate(t);if(e<0)throw new Le(`Array index out of bounds: ${e} < 0.`);if(e>=r.length)throw new Le(`Array index out of bounds: ${e} > ${r.length-1}.`);if(e!==Math.floor(e))throw new Le(`Array index must be an integer, but found ${e} instead.`);return r[e]}eachChild(t){t(this.index),t(this.input);}outputDefined(){return !1}serialize(){return [\"at\",this.index.serialize(),this.input.serialize()]}}var Qr=Jr;class tn{constructor(t,e){this.type=ae,this.needle=t,this.haystack=e;}static parse(t,e){if(3!==t.length)return e.error(`Expected 2 arguments, but found ${t.length-1} instead.`);const r=e.parse(t[1],1,ue),n=e.parse(t[2],2,ue);return r&&n?ge(r.type,[ae,se,ie,ne,ue])?new tn(r,n):e.error(`Expected first argument to be of type boolean, string, number or null, but found ${de(r.type)} instead`):null}evaluate(t){const e=this.needle.evaluate(t),r=this.haystack.evaluate(t);if(null==r)return !1;if(!xe(e,[\"boolean\",\"string\",\"number\",\"null\"]))throw new Le(`Expected first argument to be of type boolean, string, number or null, but found ${de(Ce(e))} instead.`);if(!xe(r,[\"string\",\"array\"]))throw new Le(`Expected second argument to be of type array or string, but found ${de(Ce(r))} instead.`);return r.indexOf(e)>=0}eachChild(t){t(this.needle),t(this.haystack);}outputDefined(){return !0}serialize(){return [\"in\",this.needle.serialize(),this.haystack.serialize()]}}var en=tn;class rn{constructor(t,e,r){this.type=ie,this.needle=t,this.haystack=e,this.fromIndex=r;}static parse(t,e){if(t.length<=2||t.length>=5)return e.error(`Expected 3 or 4 arguments, but found ${t.length-1} instead.`);const r=e.parse(t[1],1,ue),n=e.parse(t[2],2,ue);if(!r||!n)return null;if(!ge(r.type,[ae,se,ie,ne,ue]))return e.error(`Expected first argument to be of type boolean, string, number or null, but found ${de(r.type)} instead`);if(4===t.length){const i=e.parse(t[3],3,ie);return i?new rn(r,n,i):null}return new rn(r,n)}evaluate(t){const e=this.needle.evaluate(t),r=this.haystack.evaluate(t);if(!xe(e,[\"boolean\",\"string\",\"number\",\"null\"]))throw new Le(`Expected first argument to be of type boolean, string, number or null, but found ${de(Ce(e))} instead.`);if(!xe(r,[\"string\",\"array\"]))throw new Le(`Expected second argument to be of type array or string, but found ${de(Ce(r))} instead.`);if(this.fromIndex){const n=this.fromIndex.evaluate(t);return r.indexOf(e,n)}return r.indexOf(e)}eachChild(t){t(this.needle),t(this.haystack),this.fromIndex&&t(this.fromIndex);}outputDefined(){return !1}serialize(){if(null!=this.fromIndex&&void 0!==this.fromIndex){const t=this.fromIndex.serialize();return [\"index-of\",this.needle.serialize(),this.haystack.serialize(),t]}return [\"index-of\",this.needle.serialize(),this.haystack.serialize()]}}var nn=rn;class sn{constructor(t,e,r,n,i,s){this.inputType=t,this.type=e,this.input=r,this.cases=n,this.outputs=i,this.otherwise=s;}static parse(t,e){if(t.length<5)return e.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if(t.length%2!=1)return e.error(\"Expected an even number of arguments.\");let r,n;e.expectedType&&\"value\"!==e.expectedType.kind&&(n=e.expectedType);const i={},s=[];for(let a=2;a<t.length-1;a+=2){let o=t[a];const l=t[a+1];Array.isArray(o)||(o=[o]);const u=e.concat(a);if(0===o.length)return u.error(\"Expected at least one branch label.\");for(const t of o){if(\"number\"!=typeof t&&\"string\"!=typeof t)return u.error(\"Branch labels must be numbers or strings.\");if(\"number\"==typeof t&&Math.abs(t)>Number.MAX_SAFE_INTEGER)return u.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(\"number\"==typeof t&&Math.floor(t)!==t)return u.error(\"Numeric branch labels must be integer values.\");if(r){if(u.checkSubtype(r,Ce(t)))return null}else r=Ce(t);if(void 0!==i[String(t)])return u.error(\"Branch labels must be unique.\");i[String(t)]=s.length;}const c=e.parse(l,a,n);if(!c)return null;n=n||c.type,s.push(c);}const a=e.parse(t[1],1,ue);if(!a)return null;const o=e.parse(t[t.length-1],t.length-1,n);return o?\"value\"!==a.type.kind&&e.concat(1).checkSubtype(r,a.type)?null:new sn(r,n,a,i,s,o):null}evaluate(t){const e=this.input.evaluate(t);return (Ce(e)===this.inputType&&this.outputs[this.cases[e]]||this.otherwise).evaluate(t)}eachChild(t){t(this.input),this.outputs.forEach(t),t(this.otherwise);}outputDefined(){return this.outputs.every((t=>t.outputDefined()))&&this.otherwise.outputDefined()}serialize(){const t=[\"match\",this.input.serialize()],e=Object.keys(this.cases).sort(),r=[],n={};for(const t of e){const e=n[this.cases[t]];void 0===e?(n[this.cases[t]]=r.length,r.push([this.cases[t],[t]])):r[e][1].push(t);}const i=t=>\"number\"===this.inputType.kind?Number(t):t;for(const[e,n]of r)t.push(1===n.length?i(n[0]):n.map(i)),t.push(this.outputs[e].serialize());return t.push(this.otherwise.serialize()),t}}var an=sn;class on{constructor(t,e,r){this.type=t,this.branches=e,this.otherwise=r;}static parse(t,e){if(t.length<4)return e.error(`Expected at least 3 arguments, but found only ${t.length-1}.`);if(t.length%2!=0)return e.error(\"Expected an odd number of arguments.\");let r;e.expectedType&&\"value\"!==e.expectedType.kind&&(r=e.expectedType);const n=[];for(let i=1;i<t.length-1;i+=2){const s=e.parse(t[i],i,ae);if(!s)return null;const a=e.parse(t[i+1],i+1,r);if(!a)return null;n.push([s,a]),r=r||a.type;}const i=e.parse(t[t.length-1],t.length-1,r);return i?new on(r,n,i):null}evaluate(t){for(const[e,r]of this.branches)if(e.evaluate(t))return r.evaluate(t);return this.otherwise.evaluate(t)}eachChild(t){for(const[e,r]of this.branches)t(e),t(r);t(this.otherwise);}outputDefined(){return this.branches.every((([t,e])=>e.outputDefined()))&&this.otherwise.outputDefined()}serialize(){const t=[\"case\"];return this.eachChild((e=>{t.push(e.serialize());})),t}}var ln=on;class un{constructor(t,e,r,n){this.type=t,this.input=e,this.beginIndex=r,this.endIndex=n;}static parse(t,e){if(t.length<=2||t.length>=5)return e.error(`Expected 3 or 4 arguments, but found ${t.length-1} instead.`);const r=e.parse(t[1],1,ue),n=e.parse(t[2],2,ie);if(!r||!n)return null;if(!ge(r.type,[fe(ue),se,ue]))return e.error(`Expected first argument to be of type array or string, but found ${de(r.type)} instead`);if(4===t.length){const i=e.parse(t[3],3,ie);return i?new un(r.type,r,n,i):null}return new un(r.type,r,n)}evaluate(t){const e=this.input.evaluate(t),r=this.beginIndex.evaluate(t);if(!xe(e,[\"string\",\"array\"]))throw new Le(`Expected first argument to be of type array or string, but found ${de(Ce(e))} instead.`);if(this.endIndex){const n=this.endIndex.evaluate(t);return e.slice(r,n)}return e.slice(r)}eachChild(t){t(this.input),t(this.beginIndex),this.endIndex&&t(this.endIndex);}outputDefined(){return !1}serialize(){if(null!=this.endIndex&&void 0!==this.endIndex){const t=this.endIndex.serialize();return [\"slice\",this.input.serialize(),this.beginIndex.serialize(),t]}return [\"slice\",this.input.serialize(),this.beginIndex.serialize()]}}var cn=un;function hn(t,e){return \"==\"===t||\"!=\"===t?\"boolean\"===e.kind||\"string\"===e.kind||\"number\"===e.kind||\"null\"===e.kind||\"value\"===e.kind:\"string\"===e.kind||\"number\"===e.kind||\"value\"===e.kind}function pn(t,e,r,n){return 0===n.compare(e,r)}function fn(t,e,r){const n=\"==\"!==t&&\"!=\"!==t;return class i{constructor(t,e,r){this.type=ae,this.lhs=t,this.rhs=e,this.collator=r,this.hasUntypedArgument=\"value\"===t.type.kind||\"value\"===e.type.kind;}static parse(t,e){if(3!==t.length&&4!==t.length)return e.error(\"Expected two or three arguments.\");const r=t[0];let s=e.parse(t[1],1,ue);if(!s)return null;if(!hn(r,s.type))return e.concat(1).error(`\"${r}\" comparisons are not supported for type '${de(s.type)}'.`);let a=e.parse(t[2],2,ue);if(!a)return null;if(!hn(r,a.type))return e.concat(2).error(`\"${r}\" comparisons are not supported for type '${de(a.type)}'.`);if(s.type.kind!==a.type.kind&&\"value\"!==s.type.kind&&\"value\"!==a.type.kind)return e.error(`Cannot compare types '${de(s.type)}' and '${de(a.type)}'.`);n&&(\"value\"===s.type.kind&&\"value\"!==a.type.kind?s=new je(a.type,[s]):\"value\"!==s.type.kind&&\"value\"===a.type.kind&&(a=new je(s.type,[a])));let o=null;if(4===t.length){if(\"string\"!==s.type.kind&&\"string\"!==a.type.kind&&\"value\"!==s.type.kind&&\"value\"!==a.type.kind)return e.error(\"Cannot use collator to compare non-string types.\");if(o=e.parse(t[3],3,ce),!o)return null}return new i(s,a,o)}evaluate(i){const s=this.lhs.evaluate(i),a=this.rhs.evaluate(i);if(n&&this.hasUntypedArgument){const e=Ce(s),r=Ce(a);if(e.kind!==r.kind||\"string\"!==e.kind&&\"number\"!==e.kind)throw new Le(`Expected arguments for \"${t}\" to be (string, string) or (number, number), but found (${e.kind}, ${r.kind}) instead.`)}if(this.collator&&!n&&this.hasUntypedArgument){const t=Ce(s),r=Ce(a);if(\"string\"!==t.kind||\"string\"!==r.kind)return e(i,s,a)}return this.collator?r(i,s,a,this.collator.evaluate(i)):e(i,s,a)}eachChild(t){t(this.lhs),t(this.rhs),this.collator&&t(this.collator);}outputDefined(){return !0}serialize(){const e=[t];return this.eachChild((t=>{e.push(t.serialize());})),e}}}const dn=fn(\"==\",(function(t,e,r){return e===r}),pn),yn=fn(\"!=\",(function(t,e,r){return e!==r}),(function(t,e,r,n){return !pn(0,e,r,n)})),mn=fn(\"<\",(function(t,e,r){return e<r}),(function(t,e,r,n){return n.compare(e,r)<0})),gn=fn(\">\",(function(t,e,r){return e>r}),(function(t,e,r,n){return n.compare(e,r)>0})),xn=fn(\"<=\",(function(t,e,r){return e<=r}),(function(t,e,r,n){return n.compare(e,r)<=0})),vn=fn(\">=\",(function(t,e,r){return e>=r}),(function(t,e,r,n){return n.compare(e,r)>=0}));class bn{constructor(t,e,r,n,i,s){this.type=se,this.number=t,this.locale=e,this.currency=r,this.unit=n,this.minFractionDigits=i,this.maxFractionDigits=s;}static parse(t,e){if(3!==t.length)return e.error(\"Expected two arguments.\");const r=e.parse(t[1],1,ie);if(!r)return null;const n=t[2];if(\"object\"!=typeof n||Array.isArray(n))return e.error(\"NumberFormat options argument must be an object.\");let i=null;if(n.locale&&(i=e.parse(n.locale,1,se),!i))return null;let s=null;if(n.currency&&(s=e.parse(n.currency,1,se),!s))return null;let a=null;if(n.unit&&(a=e.parse(n.unit,1,se),!a))return null;let o=null;if(n[\"min-fraction-digits\"]&&(o=e.parse(n[\"min-fraction-digits\"],1,ie),!o))return null;let l=null;return n[\"max-fraction-digits\"]&&(l=e.parse(n[\"max-fraction-digits\"],1,ie),!l)?null:new bn(r,i,s,a,o,l)}evaluate(t){return new Intl.NumberFormat(this.locale?this.locale.evaluate(t):[],{style:(this.currency?\"currency\":this.unit&&\"unit\")||\"decimal\",currency:this.currency?this.currency.evaluate(t):void 0,unit:this.unit?this.unit.evaluate(t):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(t):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(t):void 0}).format(this.number.evaluate(t))}eachChild(t){t(this.number),this.locale&&t(this.locale),this.currency&&t(this.currency),this.unit&&t(this.unit),this.minFractionDigits&&t(this.minFractionDigits),this.maxFractionDigits&&t(this.maxFractionDigits);}outputDefined(){return !1}serialize(){const t={};return this.locale&&(t.locale=this.locale.serialize()),this.currency&&(t.currency=this.currency.serialize()),this.unit&&(t.unit=this.unit.serialize()),this.minFractionDigits&&(t[\"min-fraction-digits\"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(t[\"max-fraction-digits\"]=this.maxFractionDigits.serialize()),[\"number-format\",this.number.serialize(),t]}}class _n{constructor(t){this.type=ie,this.input=t;}static parse(t,e){if(2!==t.length)return e.error(`Expected 1 argument, but found ${t.length-1} instead.`);const r=e.parse(t[1],1);return r?\"array\"!==r.type.kind&&\"string\"!==r.type.kind&&\"value\"!==r.type.kind?e.error(`Expected argument of type string or array, but found ${de(r.type)} instead.`):new _n(r):null}evaluate(t){const e=this.input.evaluate(t);if(\"string\"==typeof e)return e.length;if(Array.isArray(e))return e.length;throw new Le(`Expected value to be of type string or array, but found ${de(Ce(e))} instead.`)}eachChild(t){t(this.input);}outputDefined(){return !1}serialize(){const t=[\"length\"];return this.eachChild((e=>{t.push(e.serialize());})),t}}const wn={\"==\":dn,\"!=\":yn,\">\":gn,\"<\":mn,\">=\":vn,\"<=\":xn,array:je,at:Qr,boolean:je,case:ln,coalesce:Hr,collator:Ye,format:$e,image:Oe,in:en,\"index-of\":nn,interpolate:Xr,\"interpolate-hcl\":Xr,\"interpolate-lab\":Xr,length:_n,let:Wr,literal:Fe,match:an,number:je,\"number-format\":bn,object:je,slice:cn,step:kr,string:je,\"to-boolean\":Ge,\"to-color\":Ge,\"to-number\":Ge,\"to-string\":Ge,var:vr,within:dr};function An(t,[e,r,n,i]){e=e.evaluate(t),r=r.evaluate(t),n=n.evaluate(t);const s=i?i.evaluate(t):1,a=Ee(e,r,n,s);if(a)throw new Le(a);return new Ie(e/255*s,r/255*s,n/255*s,s)}function Sn(t,e){return t in e}function kn(t,e){const r=e[t];return void 0===r?null:r}function In(t){return {type:t}}He.register(wn,{error:[{kind:\"error\"},[se],(t,[e])=>{throw new Le(e.evaluate(t))}],typeof:[se,[ue],(t,[e])=>de(Ce(e.evaluate(t)))],\"to-rgba\":[fe(ie,4),[oe],(t,[e])=>e.evaluate(t).toArray()],rgb:[oe,[ie,ie,ie],An],rgba:[oe,[ie,ie,ie,ie],An],has:{type:ae,overloads:[[[se],(t,[e])=>Sn(e.evaluate(t),t.properties())],[[se,le],(t,[e,r])=>Sn(e.evaluate(t),r.evaluate(t))]]},get:{type:ue,overloads:[[[se],(t,[e])=>kn(e.evaluate(t),t.properties())],[[se,le],(t,[e,r])=>kn(e.evaluate(t),r.evaluate(t))]]},\"feature-state\":[ue,[se],(t,[e])=>kn(e.evaluate(t),t.featureState||{})],properties:[le,[],t=>t.properties()],\"geometry-type\":[se,[],t=>t.geometryType()],id:[ue,[],t=>t.id()],zoom:[ie,[],t=>t.globals.zoom],pitch:[ie,[],t=>t.globals.pitch||0],\"distance-from-center\":[ie,[],t=>t.distanceFromCenter()],\"heatmap-density\":[ie,[],t=>t.globals.heatmapDensity||0],\"line-progress\":[ie,[],t=>t.globals.lineProgress||0],\"sky-radial-progress\":[ie,[],t=>t.globals.skyRadialProgress||0],accumulated:[ue,[],t=>void 0===t.globals.accumulated?null:t.globals.accumulated],\"+\":[ie,In(ie),(t,e)=>{let r=0;for(const n of e)r+=n.evaluate(t);return r}],\"*\":[ie,In(ie),(t,e)=>{let r=1;for(const n of e)r*=n.evaluate(t);return r}],\"-\":{type:ie,overloads:[[[ie,ie],(t,[e,r])=>e.evaluate(t)-r.evaluate(t)],[[ie],(t,[e])=>-e.evaluate(t)]]},\"/\":[ie,[ie,ie],(t,[e,r])=>e.evaluate(t)/r.evaluate(t)],\"%\":[ie,[ie,ie],(t,[e,r])=>e.evaluate(t)%r.evaluate(t)],ln2:[ie,[],()=>Math.LN2],pi:[ie,[],()=>Math.PI],e:[ie,[],()=>Math.E],\"^\":[ie,[ie,ie],(t,[e,r])=>Math.pow(e.evaluate(t),r.evaluate(t))],sqrt:[ie,[ie],(t,[e])=>Math.sqrt(e.evaluate(t))],log10:[ie,[ie],(t,[e])=>Math.log(e.evaluate(t))/Math.LN10],ln:[ie,[ie],(t,[e])=>Math.log(e.evaluate(t))],log2:[ie,[ie],(t,[e])=>Math.log(e.evaluate(t))/Math.LN2],sin:[ie,[ie],(t,[e])=>Math.sin(e.evaluate(t))],cos:[ie,[ie],(t,[e])=>Math.cos(e.evaluate(t))],tan:[ie,[ie],(t,[e])=>Math.tan(e.evaluate(t))],asin:[ie,[ie],(t,[e])=>Math.asin(e.evaluate(t))],acos:[ie,[ie],(t,[e])=>Math.acos(e.evaluate(t))],atan:[ie,[ie],(t,[e])=>Math.atan(e.evaluate(t))],min:[ie,In(ie),(t,e)=>Math.min(...e.map((e=>e.evaluate(t))))],max:[ie,In(ie),(t,e)=>Math.max(...e.map((e=>e.evaluate(t))))],abs:[ie,[ie],(t,[e])=>Math.abs(e.evaluate(t))],round:[ie,[ie],(t,[e])=>{const r=e.evaluate(t);return r<0?-Math.round(-r):Math.round(r)}],floor:[ie,[ie],(t,[e])=>Math.floor(e.evaluate(t))],ceil:[ie,[ie],(t,[e])=>Math.ceil(e.evaluate(t))],\"filter-==\":[ae,[se,ue],(t,[e,r])=>t.properties()[e.value]===r.value],\"filter-id-==\":[ae,[ue],(t,[e])=>t.id()===e.value],\"filter-type-==\":[ae,[se],(t,[e])=>t.geometryType()===e.value],\"filter-<\":[ae,[se,ue],(t,[e,r])=>{const n=t.properties()[e.value],i=r.value;return typeof n==typeof i&&n<i}],\"filter-id-<\":[ae,[ue],(t,[e])=>{const r=t.id(),n=e.value;return typeof r==typeof n&&r<n}],\"filter->\":[ae,[se,ue],(t,[e,r])=>{const n=t.properties()[e.value],i=r.value;return typeof n==typeof i&&n>i}],\"filter-id->\":[ae,[ue],(t,[e])=>{const r=t.id(),n=e.value;return typeof r==typeof n&&r>n}],\"filter-<=\":[ae,[se,ue],(t,[e,r])=>{const n=t.properties()[e.value],i=r.value;return typeof n==typeof i&&n<=i}],\"filter-id-<=\":[ae,[ue],(t,[e])=>{const r=t.id(),n=e.value;return typeof r==typeof n&&r<=n}],\"filter->=\":[ae,[se,ue],(t,[e,r])=>{const n=t.properties()[e.value],i=r.value;return typeof n==typeof i&&n>=i}],\"filter-id->=\":[ae,[ue],(t,[e])=>{const r=t.id(),n=e.value;return typeof r==typeof n&&r>=n}],\"filter-has\":[ae,[ue],(t,[e])=>e.value in t.properties()],\"filter-has-id\":[ae,[],t=>null!==t.id()&&void 0!==t.id()],\"filter-type-in\":[ae,[fe(se)],(t,[e])=>e.value.indexOf(t.geometryType())>=0],\"filter-id-in\":[ae,[fe(ue)],(t,[e])=>e.value.indexOf(t.id())>=0],\"filter-in-small\":[ae,[se,fe(ue)],(t,[e,r])=>r.value.indexOf(t.properties()[e.value])>=0],\"filter-in-large\":[ae,[se,fe(ue)],(t,[e,r])=>function(t,e,r,n){for(;r<=n;){const i=r+n>>1;if(e[i]===t)return !0;e[i]>t?n=i-1:r=i+1;}return !1}(t.properties()[e.value],r.value,0,r.value.length-1)],all:{type:ae,overloads:[[[ae,ae],(t,[e,r])=>e.evaluate(t)&&r.evaluate(t)],[In(ae),(t,e)=>{for(const r of e)if(!r.evaluate(t))return !1;return !0}]]},any:{type:ae,overloads:[[[ae,ae],(t,[e,r])=>e.evaluate(t)||r.evaluate(t)],[In(ae),(t,e)=>{for(const r of e)if(r.evaluate(t))return !0;return !1}]]},\"!\":[ae,[ae],(t,[e])=>!e.evaluate(t)],\"is-supported-script\":[ae,[se],(t,[e])=>{const r=t.globals&&t.globals.isSupportedScript;return !r||r(e.evaluate(t))}],upcase:[se,[se],(t,[e])=>e.evaluate(t).toUpperCase()],downcase:[se,[se],(t,[e])=>e.evaluate(t).toLowerCase()],concat:[se,In(ue),(t,e)=>e.map((e=>De(e.evaluate(t)))).join(\"\")],\"resolved-locale\":[se,[ce],(t,[e])=>e.evaluate(t).resolvedLocale()]});var Mn=wn;function zn(t){return {result:\"success\",value:t}}function Tn(t){return {result:\"error\",value:t}}function Bn(t){return \"data-driven\"===t[\"property-type\"]||\"cross-faded-data-driven\"===t[\"property-type\"]}function En(t){return !!t.expression&&t.expression.parameters.indexOf(\"zoom\")>-1}function Pn(t){return !!t.expression&&t.expression.interpolated}function Cn(t){return t instanceof Number?\"number\":t instanceof String?\"string\":t instanceof Boolean?\"boolean\":Array.isArray(t)?\"array\":null===t?\"null\":typeof t}function Dn(t){return \"object\"==typeof t&&null!==t&&!Array.isArray(t)}function Vn(t){return t}function Fn(t,e){const r=\"color\"===e.type,n=t.stops&&\"object\"==typeof t.stops[0][0],i=n||!(n||void 0!==t.property),s=t.type||(Pn(e)?\"exponential\":\"interval\");if(r&&((t=Yt({},t)).stops&&(t.stops=t.stops.map((t=>[t[0],Ie.parse(t[1])]))),t.default=Ie.parse(t.default?t.default:e.default)),t.colorSpace&&\"rgb\"!==t.colorSpace&&!Nr[t.colorSpace])throw new Error(`Unknown color space: ${t.colorSpace}`);let a,o,l;if(\"exponential\"===s)a=jn;else if(\"interval\"===s)a=Un;else if(\"categorical\"===s){a=Rn,o=Object.create(null);for(const e of t.stops)o[e[0]]=e[1];l=typeof t.stops[0][0];}else {if(\"identity\"!==s)throw new Error(`Unknown function type \"${s}\"`);a=$n;}if(n){const r={},n=[];for(let e=0;e<t.stops.length;e++){const i=t.stops[e],s=i[0].zoom;void 0===r[s]&&(r[s]={zoom:s,type:t.type,property:t.property,default:t.default,stops:[]},n.push(s)),r[s].stops.push([i[0].value,i[1]]);}const i=[];for(const t of n)i.push([r[t].zoom,Fn(r[t],e)]);const s={name:\"linear\"};return {kind:\"composite\",interpolationType:s,interpolationFactor:Xr.interpolationFactor.bind(void 0,s),zoomStops:i.map((t=>t[0])),evaluate:({zoom:r},n)=>jn({stops:i,base:t.base},e,r).evaluate(r,n)}}if(i){const r=\"exponential\"===s?{name:\"exponential\",base:void 0!==t.base?t.base:1}:null;return {kind:\"camera\",interpolationType:r,interpolationFactor:Xr.interpolationFactor.bind(void 0,r),zoomStops:t.stops.map((t=>t[0])),evaluate:({zoom:r})=>a(t,e,r,o,l)}}return {kind:\"source\",evaluate(r,n){const i=n&&n.properties?n.properties[t.property]:void 0;return void 0===i?Ln(t.default,e.default):a(t,e,i,o,l)}}}function Ln(t,e,r){return void 0!==t?t:void 0!==e?e:void 0!==r?r:void 0}function Rn(t,e,r,n,i){return Ln(typeof r===i?n[r]:void 0,t.default,e.default)}function Un(t,e,r){if(\"number\"!==Cn(r))return Ln(t.default,e.default);const n=t.stops.length;if(1===n)return t.stops[0][1];if(r<=t.stops[0][0])return t.stops[0][1];if(r>=t.stops[n-1][0])return t.stops[n-1][1];const i=Ar(t.stops.map((t=>t[0])),r);return t.stops[i][1]}function jn(t,e,r){const n=void 0!==t.base?t.base:1;if(\"number\"!==Cn(r))return Ln(t.default,e.default);const i=t.stops.length;if(1===i)return t.stops[0][1];if(r<=t.stops[0][0])return t.stops[0][1];if(r>=t.stops[i-1][0])return t.stops[i-1][1];const s=Ar(t.stops.map((t=>t[0])),r),a=function(t,e,r,n){const i=n-r,s=t-r;return 0===i?0:1===e?s/i:(Math.pow(e,s)-1)/(Math.pow(e,i)-1)}(r,n,t.stops[s][0],t.stops[s+1][0]),o=t.stops[s][1],l=t.stops[s+1][1];let u=Mr[e.type]||Vn;if(t.colorSpace&&\"rgb\"!==t.colorSpace){const e=Nr[t.colorSpace];u=(t,r)=>e.reverse(e.interpolate(e.forward(t),e.forward(r),a));}return \"function\"==typeof o.evaluate?{evaluate(...t){const e=o.evaluate.apply(void 0,t),r=l.evaluate.apply(void 0,t);if(void 0!==e&&void 0!==r)return u(e,r,a)}}:u(o,l,a)}function $n(t,e,r){return \"color\"===e.type?r=Ie.parse(r):\"formatted\"===e.type?r=Te.fromString(r.toString()):\"resolvedImage\"===e.type?r=Be.fromString(r.toString()):Cn(r)===e.type||\"enum\"===e.type&&e.values[r]||(r=void 0),Ln(r,t.default,e.default)}class On{constructor(t,e){this.expression=t,this._warningHistory={},this._evaluator=new Xe,this._defaultValue=e?function(t){return \"color\"===t.type&&(Dn(t.default)||Array.isArray(t.default))?new Ie(0,0,0,0):\"color\"===t.type?Ie.parse(t.default)||null:void 0===t.default?null:t.default}(e):null,this._enumValues=e&&\"enum\"===e.type?e.values:null;}evaluateWithoutErrorHandling(t,e,r,n,i,s,a,o){return this._evaluator.globals=t,this._evaluator.feature=e,this._evaluator.featureState=r,this._evaluator.canonical=n||null,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=s,this._evaluator.featureTileCoord=a||null,this._evaluator.featureDistanceData=o||null,this.expression.evaluate(this._evaluator)}evaluate(t,e,r,n,i,s,a,o){this._evaluator.globals=t,this._evaluator.feature=e||null,this._evaluator.featureState=r||null,this._evaluator.canonical=n||null,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=s||null,this._evaluator.featureTileCoord=a||null,this._evaluator.featureDistanceData=o||null;try{const t=this.expression.evaluate(this._evaluator);if(null==t||\"number\"==typeof t&&t!=t)return this._defaultValue;if(this._enumValues&&!(t in this._enumValues))throw new Le(`Expected value to be one of ${Object.keys(this._enumValues).map((t=>JSON.stringify(t))).join(\", \")}, but found ${JSON.stringify(t)} instead.`);return t}catch(t){return this._warningHistory[t.message]||(this._warningHistory[t.message]=!0,\"undefined\"!=typeof console&&console.warn(t.message)),this._defaultValue}}}function qn(t){return Array.isArray(t)&&t.length>0&&\"string\"==typeof t[0]&&t[0]in Mn}function Nn(t,e){const r=new _r(Mn,[],e?function(t){const e={color:oe,string:se,number:ie,enum:se,boolean:ae,formatted:he,resolvedImage:pe};return \"array\"===t.type?fe(e[t.value]||ue,t.length):e[t.type]}(e):void 0),n=r.parse(t,void 0,void 0,void 0,e&&\"string\"===e.type?{typeAnnotation:\"coerce\"}:void 0);return n?zn(new On(n,e)):Tn(r.errors)}class Gn{constructor(t,e){this.kind=t,this._styleExpression=e,this.isStateDependent=\"constant\"!==t&&!mr(e.expression);}evaluateWithoutErrorHandling(t,e,r,n,i,s){return this._styleExpression.evaluateWithoutErrorHandling(t,e,r,n,i,s)}evaluate(t,e,r,n,i,s){return this._styleExpression.evaluate(t,e,r,n,i,s)}}class Zn{constructor(t,e,r,n){this.kind=t,this.zoomStops=r,this._styleExpression=e,this.isStateDependent=\"camera\"!==t&&!mr(e.expression),this.interpolationType=n;}evaluateWithoutErrorHandling(t,e,r,n,i,s){return this._styleExpression.evaluateWithoutErrorHandling(t,e,r,n,i,s)}evaluate(t,e,r,n,i,s){return this._styleExpression.evaluate(t,e,r,n,i,s)}interpolationFactor(t,e,r){return this.interpolationType?Xr.interpolationFactor(this.interpolationType,t,e,r):0}}function Xn(t,e){if(\"error\"===(t=Nn(t,e)).result)return t;const r=t.value.expression,n=yr(r);if(!n&&!Bn(e))return Tn([new te(\"\",\"data expressions not supported\")]);const i=gr(r,[\"zoom\",\"pitch\",\"distance-from-center\"]);if(!i&&!En(e))return Tn([new te(\"\",\"zoom expressions not supported\")]);const s=Hn(r);return s||i?s instanceof te?Tn([s]):s instanceof Xr&&!Pn(e)?Tn([new te(\"\",'\"interpolate\" expressions cannot be used with this property')]):zn(s?new Zn(n?\"camera\":\"composite\",t.value,s.labels,s instanceof Xr?s.interpolation:void 0):new Gn(n?\"constant\":\"source\",t.value)):Tn([new te(\"\",'\"zoom\" expression may only be used as input to a top-level \"step\" or \"interpolate\" expression.')])}class Kn{constructor(t,e){this._parameters=t,this._specification=e,Yt(this,Fn(this._parameters,this._specification));}static deserialize(t){return new Kn(t._parameters,t._specification)}static serialize(t){return {_parameters:t._parameters,_specification:t._specification}}}function Hn(t){let e=null;if(t instanceof Wr)e=Hn(t.result);else if(t instanceof Hr){for(const r of t.args)if(e=Hn(r),e)break}else (t instanceof kr||t instanceof Xr)&&t.input instanceof He&&\"zoom\"===t.input.name&&(e=t);return e instanceof te||t.eachChild((t=>{const r=Hn(t);r instanceof te?e=r:!e&&r?e=new te(\"\",'\"zoom\" expression may only be used as input to a top-level \"step\" or \"interpolate\" expression.'):e&&r&&e!==r&&(e=new te(\"\",'Only one zoom-based \"step\" or \"interpolate\" subexpression may be used in an expression.'));})),e}class Yn{constructor(t,e,r,n){this.message=(t?`${t}: `:\"\")+r,n&&(this.identifier=n),null!=e&&e.__line__&&(this.line=e.__line__);}}function Wn(t){const e=t.key,r=t.value,n=t.valueSpec||{},i=t.objectElementValidators||{},s=t.style,a=t.styleSpec;let o=[];const l=Cn(r);if(\"object\"!==l)return [new Yn(e,r,`object expected, ${l} found`)];for(const t in r){const l=t.split(\".\")[0],u=n[l]||n[\"*\"];let c;i[l]?c=i[l]:n[l]?c=Bi:i[\"*\"]?c=i[\"*\"]:n[\"*\"]&&(c=Bi),c?o=o.concat(c({key:(e?`${e}.`:e)+t,value:r[t],valueSpec:u,style:s,styleSpec:a,object:r,objectKey:t},r)):o.push(new Yn(e,r[t],`unknown property \"${t}\"`));}for(const t in n)i[t]||n[t].required&&void 0===n[t].default&&void 0===r[t]&&o.push(new Yn(e,r,`missing required property \"${t}\"`));return o}function Jn(t){const e=t.value,r=t.valueSpec,n=t.style,i=t.styleSpec,s=t.key,a=t.arrayElementValidator||Bi;if(\"array\"!==Cn(e))return [new Yn(s,e,`array expected, ${Cn(e)} found`)];if(r.length&&e.length!==r.length)return [new Yn(s,e,`array length ${r.length} expected, length ${e.length} found`)];if(r[\"min-length\"]&&e.length<r[\"min-length\"])return [new Yn(s,e,`array length at least ${r[\"min-length\"]} expected, length ${e.length} found`)];let o={type:r.value,values:r.values,minimum:r.minimum,maximum:r.maximum,function:void 0};i.$version<7&&(o.function=r.function),\"object\"===Cn(r.value)&&(o=r.value);let l=[];for(let t=0;t<e.length;t++)l=l.concat(a({array:e,arrayIndex:t,value:e[t],valueSpec:o,style:n,styleSpec:i,key:`${s}[${t}]`}));return l}function Qn(t){const e=t.key,r=t.value,n=t.valueSpec;let i=Cn(r);if(\"number\"===i&&r!=r&&(i=\"NaN\"),\"number\"!==i)return [new Yn(e,r,`number expected, ${i} found`)];if(\"minimum\"in n){let i=n.minimum;if(\"array\"===Cn(n.minimum)&&(i=n.minimum[t.arrayIndex]),r<i)return [new Yn(e,r,`${r} is less than the minimum value ${i}`)]}if(\"maximum\"in n){let i=n.maximum;if(\"array\"===Cn(n.maximum)&&(i=n.maximum[t.arrayIndex]),r>i)return [new Yn(e,r,`${r} is greater than the maximum value ${i}`)]}return []}function ti(t){const e=t.valueSpec,r=Wt(t.value.type);let n,i,s,a={};const o=\"categorical\"!==r&&void 0===t.value.property,l=!o,u=\"array\"===Cn(t.value.stops)&&\"array\"===Cn(t.value.stops[0])&&\"object\"===Cn(t.value.stops[0][0]),c=Wn({key:t.key,value:t.value,valueSpec:t.styleSpec.function,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{stops:function(t){if(\"identity\"===r)return [new Yn(t.key,t.value,'identity function may not have a \"stops\" property')];let e=[];const n=t.value;return e=e.concat(Jn({key:t.key,value:n,valueSpec:t.valueSpec,style:t.style,styleSpec:t.styleSpec,arrayElementValidator:h})),\"array\"===Cn(n)&&0===n.length&&e.push(new Yn(t.key,n,\"array must have at least one stop\")),e},default:function(t){return Bi({key:t.key,value:t.value,valueSpec:e,style:t.style,styleSpec:t.styleSpec})}}});return \"identity\"===r&&o&&c.push(new Yn(t.key,t.value,'missing required property \"property\"')),\"identity\"===r||t.value.stops||c.push(new Yn(t.key,t.value,'missing required property \"stops\"')),\"exponential\"===r&&t.valueSpec.expression&&!Pn(t.valueSpec)&&c.push(new Yn(t.key,t.value,\"exponential functions not supported\")),t.styleSpec.$version>=8&&(l&&!Bn(t.valueSpec)?c.push(new Yn(t.key,t.value,\"property functions not supported\")):o&&!En(t.valueSpec)&&c.push(new Yn(t.key,t.value,\"zoom functions not supported\"))),\"categorical\"!==r&&!u||void 0!==t.value.property||c.push(new Yn(t.key,t.value,'\"property\" property is required')),c;function h(t){let r=[];const n=t.value,o=t.key;if(\"array\"!==Cn(n))return [new Yn(o,n,`array expected, ${Cn(n)} found`)];if(2!==n.length)return [new Yn(o,n,`array length 2 expected, length ${n.length} found`)];if(u){if(\"object\"!==Cn(n[0]))return [new Yn(o,n,`object expected, ${Cn(n[0])} found`)];if(void 0===n[0].zoom)return [new Yn(o,n,\"object stop key must have zoom\")];if(void 0===n[0].value)return [new Yn(o,n,\"object stop key must have value\")];const e=Wt(n[0].zoom);if(\"number\"!=typeof e)return [new Yn(o,n[0].zoom,\"stop zoom values must be numbers\")];if(s&&s>e)return [new Yn(o,n[0].zoom,\"stop zoom values must appear in ascending order\")];e!==s&&(s=e,i=void 0,a={}),r=r.concat(Wn({key:`${o}[0]`,value:n[0],valueSpec:{zoom:{}},style:t.style,styleSpec:t.styleSpec,objectElementValidators:{zoom:Qn,value:p}}));}else r=r.concat(p({key:`${o}[0]`,value:n[0],valueSpec:{},style:t.style,styleSpec:t.styleSpec},n));return qn(Jt(n[1]))?r.concat([new Yn(`${o}[1]`,n[1],\"expressions are not allowed in function stops.\")]):r.concat(Bi({key:`${o}[1]`,value:n[1],valueSpec:e,style:t.style,styleSpec:t.styleSpec}))}function p(t,s){const o=Cn(t.value),l=Wt(t.value),u=null!==t.value?t.value:s;if(n){if(o!==n)return [new Yn(t.key,u,`${o} stop domain type must match previous stop domain type ${n}`)]}else n=o;if(\"number\"!==o&&\"string\"!==o&&\"boolean\"!==o&&\"number\"!=typeof l&&\"string\"!=typeof l&&\"boolean\"!=typeof l)return [new Yn(t.key,u,\"stop domain value must be a number, string, or boolean\")];if(\"number\"!==o&&\"categorical\"!==r){let n=`number expected, ${o} found`;return Bn(e)&&void 0===r&&(n+='\\nIf you intended to use a categorical function, specify `\"type\": \"categorical\"`.'),[new Yn(t.key,u,n)]}return \"categorical\"!==r||\"number\"!==o||\"number\"==typeof l&&isFinite(l)&&Math.floor(l)===l?\"categorical\"!==r&&\"number\"===o&&\"number\"==typeof l&&\"number\"==typeof i&&void 0!==i&&l<i?[new Yn(t.key,u,\"stop domain values must appear in ascending order\")]:(i=l,\"categorical\"===r&&l in a?[new Yn(t.key,u,\"stop domain values must be unique\")]:(a[l]=!0,[])):[new Yn(t.key,u,`integer expected, found ${String(l)}`)]}}function ei(t){const e=(\"property\"===t.expressionContext?Xn:Nn)(Jt(t.value),t.valueSpec);if(\"error\"===e.result)return e.value.map((e=>new Yn(`${t.key}${e.key}`,t.value,e.message)));const r=e.value.expression||e.value._styleExpression.expression;if(\"property\"===t.expressionContext&&\"text-font\"===t.propertyKey&&!r.outputDefined())return [new Yn(t.key,t.value,`Invalid data expression for \"${t.propertyKey}\". Output values must be contained as literals within the expression.`)];if(\"property\"===t.expressionContext&&\"layout\"===t.propertyType&&!mr(r))return [new Yn(t.key,t.value,'\"feature-state\" data expressions are not supported with layout properties.')];if(\"filter\"===t.expressionContext)return ri(r,t);if(t.expressionContext&&0===t.expressionContext.indexOf(\"cluster\")){if(!gr(r,[\"zoom\",\"feature-state\"]))return [new Yn(t.key,t.value,'\"zoom\" and \"feature-state\" expressions are not supported with cluster properties.')];if(\"cluster-initial\"===t.expressionContext&&!yr(r))return [new Yn(t.key,t.value,\"Feature data expressions are not supported with initial expression part of cluster properties.\")]}return []}function ri(t,e){const r=new Set([\"zoom\",\"feature-state\",\"pitch\",\"distance-from-center\"]);if(e.valueSpec&&e.valueSpec.expression)for(const t of e.valueSpec.expression.parameters)r.delete(t);if(0===r.size)return [];const n=[];return t instanceof He&&r.has(t.name)?[new Yn(e.key,e.value,`[\"${t.name}\"] expression is not supported in a filter for a ${e.object.type} layer with id: ${e.object.id}`)]:(t.eachChild((t=>{n.push(...ri(t,e));})),n)}function ni(t){const e=t.key,r=t.value,n=t.valueSpec,i=[];return Array.isArray(n.values)?-1===n.values.indexOf(Wt(r))&&i.push(new Yn(e,r,`expected one of [${n.values.join(\", \")}], ${JSON.stringify(r)} found`)):-1===Object.keys(n.values).indexOf(Wt(r))&&i.push(new Yn(e,r,`expected one of [${Object.keys(n.values).join(\", \")}], ${JSON.stringify(r)} found`)),i}function ii(t){if(!0===t||!1===t)return !0;if(!Array.isArray(t)||0===t.length)return !1;switch(t[0]){case\"has\":return t.length>=2&&\"$id\"!==t[1]&&\"$type\"!==t[1];case\"in\":return t.length>=3&&(\"string\"!=typeof t[1]||Array.isArray(t[2]));case\"!in\":case\"!has\":case\"none\":return !1;case\"==\":case\"!=\":case\">\":case\">=\":case\"<\":case\"<=\":return 3!==t.length||Array.isArray(t[1])||Array.isArray(t[2]);case\"any\":case\"all\":for(const e of t.slice(1))if(!ii(e)&&\"boolean\"!=typeof e)return !1;return !0;default:return !0}}function si(t,e=\"fill\"){if(null==t)return {filter:()=>!0,needGeometry:!1,needFeature:!1};ii(t)||(t=pi(t));const r=t;let n=!0;try{n=function(t){if(!li(t))return t;let e=Jt(t);return oi(e),e=ai(e),e}(r);}catch(t){console.warn(`Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.\\nThis is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md\\nand paste the contents of this message in the report.\\nThank you!\\nFilter Expression:\\n${JSON.stringify(r,null,2)}\\n        `);}const i=Ht[`filter_${e}`],s=Nn(n,i);let a=null;if(\"error\"===s.result)throw new Error(s.value.map((t=>`${t.key}: ${t.message}`)).join(\", \"));a=(t,e,r)=>s.value.evaluate(t,e,{},r);let o=null,l=null;if(n!==r){const t=Nn(r,i);if(\"error\"===t.result)throw new Error(t.value.map((t=>`${t.key}: ${t.message}`)).join(\", \"));o=(e,r,n,i,s)=>t.value.evaluate(e,r,{},n,void 0,void 0,i,s),l=!yr(t.value.expression);}return {filter:a,dynamicFilter:o||void 0,needGeometry:hi(n),needFeature:!!l}}function ai(t){if(!Array.isArray(t))return t;const e=function(t){if(ui.has(t[0]))for(let e=1;e<t.length;e++)if(li(t[e]))return !0;return t}(t);return !0===e?e:e.map((t=>ai(t)))}function oi(t){let e=!1;const r=[];if(\"case\"===t[0]){for(let n=1;n<t.length-1;n+=2)e=e||li(t[n]),r.push(t[n+1]);r.push(t[t.length-1]);}else if(\"match\"===t[0]){e=e||li(t[1]);for(let e=2;e<t.length-1;e+=2)r.push(t[e+1]);r.push(t[t.length-1]);}else if(\"step\"===t[0]){e=e||li(t[1]);for(let e=1;e<t.length-1;e+=2)r.push(t[e+1]);}e&&(t.length=0,t.push(\"any\",...r));for(let e=1;e<t.length;e++)oi(t[e]);}function li(t){if(!Array.isArray(t))return !1;if(\"pitch\"===(e=t[0])||\"distance-from-center\"===e)return !0;var e;for(let e=1;e<t.length;e++)if(li(t[e]))return !0;return !1}const ui=new Set([\"in\",\"==\",\"!=\",\">\",\">=\",\"<\",\"<=\",\"to-boolean\"]);function ci(t,e){return t<e?-1:t>e?1:0}function hi(t){if(!Array.isArray(t))return !1;if(\"within\"===t[0])return !0;for(let e=1;e<t.length;e++)if(hi(t[e]))return !0;return !1}function pi(t){if(!t)return !0;const e=t[0];return t.length<=1?\"any\"!==e:\"==\"===e?fi(t[1],t[2],\"==\"):\"!=\"===e?mi(fi(t[1],t[2],\"==\")):\"<\"===e||\">\"===e||\"<=\"===e||\">=\"===e?fi(t[1],t[2],e):\"any\"===e?(r=t.slice(1),[\"any\"].concat(r.map(pi))):\"all\"===e?[\"all\"].concat(t.slice(1).map(pi)):\"none\"===e?[\"all\"].concat(t.slice(1).map(pi).map(mi)):\"in\"===e?di(t[1],t.slice(2)):\"!in\"===e?mi(di(t[1],t.slice(2))):\"has\"===e?yi(t[1]):\"!has\"===e?mi(yi(t[1])):\"within\"!==e||t;var r;}function fi(t,e,r){switch(t){case\"$type\":return [`filter-type-${r}`,e];case\"$id\":return [`filter-id-${r}`,e];default:return [`filter-${r}`,t,e]}}function di(t,e){if(0===e.length)return !1;switch(t){case\"$type\":return [\"filter-type-in\",[\"literal\",e]];case\"$id\":return [\"filter-id-in\",[\"literal\",e]];default:return e.length>200&&!e.some((t=>typeof t!=typeof e[0]))?[\"filter-in-large\",t,[\"literal\",e.sort(ci)]]:[\"filter-in-small\",t,[\"literal\",e]]}}function yi(t){switch(t){case\"$type\":return !0;case\"$id\":return [\"filter-has-id\"];default:return [\"filter-has\",t]}}function mi(t){return [\"!\",t]}function gi(t){return ii(Jt(t.value))?ei(Yt({},t,{expressionContext:\"filter\",valueSpec:t.styleSpec[`filter_${t.layerType||\"fill\"}`]})):xi(t)}function xi(t){const e=t.value,r=t.key;if(\"array\"!==Cn(e))return [new Yn(r,e,`array expected, ${Cn(e)} found`)];const n=t.styleSpec;let i,s=[];if(e.length<1)return [new Yn(r,e,\"filter array must have at least 1 element\")];switch(s=s.concat(ni({key:`${r}[0]`,value:e[0],valueSpec:n.filter_operator,style:t.style,styleSpec:t.styleSpec})),Wt(e[0])){case\"<\":case\"<=\":case\">\":case\">=\":e.length>=2&&\"$type\"===Wt(e[1])&&s.push(new Yn(r,e,`\"$type\" cannot be use with operator \"${e[0]}\"`));case\"==\":case\"!=\":3!==e.length&&s.push(new Yn(r,e,`filter array for operator \"${e[0]}\" must have 3 elements`));case\"in\":case\"!in\":e.length>=2&&(i=Cn(e[1]),\"string\"!==i&&s.push(new Yn(`${r}[1]`,e[1],`string expected, ${i} found`)));for(let a=2;a<e.length;a++)i=Cn(e[a]),\"$type\"===Wt(e[1])?s=s.concat(ni({key:`${r}[${a}]`,value:e[a],valueSpec:n.geometry_type,style:t.style,styleSpec:t.styleSpec})):\"string\"!==i&&\"number\"!==i&&\"boolean\"!==i&&s.push(new Yn(`${r}[${a}]`,e[a],`string, number, or boolean expected, ${i} found`));break;case\"any\":case\"all\":case\"none\":for(let n=1;n<e.length;n++)s=s.concat(xi({key:`${r}[${n}]`,value:e[n],style:t.style,styleSpec:t.styleSpec}));break;case\"has\":case\"!has\":i=Cn(e[1]),2!==e.length?s.push(new Yn(r,e,`filter array for \"${e[0]}\" operator must have 2 elements`)):\"string\"!==i&&s.push(new Yn(`${r}[1]`,e[1],`string expected, ${i} found`));break;case\"within\":i=Cn(e[1]),2!==e.length?s.push(new Yn(r,e,`filter array for \"${e[0]}\" operator must have 2 elements`)):\"object\"!==i&&s.push(new Yn(`${r}[1]`,e[1],`object expected, ${i} found`));}return s}function vi(t,e){const r=t.key,n=t.style,i=t.styleSpec,s=t.value,a=t.objectKey,o=i[`${e}_${t.layerType}`];if(!o)return [];const l=a.match(/^(.*)-transition$/);if(\"paint\"===e&&l&&o[l[1]]&&o[l[1]].transition)return Bi({key:r,value:s,valueSpec:i.transition,style:n,styleSpec:i});const u=t.valueSpec||o[a];if(!u)return [new Yn(r,s,`unknown property \"${a}\"`)];let c;if(\"string\"===Cn(s)&&Bn(u)&&!u.tokens&&(c=/^{([^}]+)}$/.exec(s)))return [new Yn(r,s,`\"${a}\" does not support interpolation syntax\\nUse an identity property function instead: \\`{ \"type\": \"identity\", \"property\": ${JSON.stringify(c[1])} }\\`.`)];const h=[];return \"symbol\"===t.layerType&&(\"text-field\"===a&&n&&!n.glyphs&&h.push(new Yn(r,s,'use of \"text-field\" requires a style \"glyphs\" property')),\"text-font\"===a&&Dn(Jt(s))&&\"identity\"===Wt(s.type)&&h.push(new Yn(r,s,'\"text-font\" does not support identity functions'))),h.concat(Bi({key:t.key,value:s,valueSpec:u,style:n,styleSpec:i,expressionContext:\"property\",propertyType:e,propertyKey:a}))}function bi(t){return vi(t,\"paint\")}function _i(t){return vi(t,\"layout\")}function wi(t){let e=[];const r=t.value,n=t.key,i=t.style,s=t.styleSpec;r.type||r.ref||e.push(new Yn(n,r,'either \"type\" or \"ref\" is required'));let a=Wt(r.type);const o=Wt(r.ref);if(r.id){const s=Wt(r.id);for(let a=0;a<t.arrayIndex;a++){const t=i.layers[a];Wt(t.id)===s&&e.push(new Yn(n,r.id,`duplicate layer id \"${r.id}\", previously used at line ${t.id.__line__}`));}}if(\"ref\"in r){let t;[\"type\",\"source\",\"source-layer\",\"filter\",\"layout\"].forEach((t=>{t in r&&e.push(new Yn(n,r[t],`\"${t}\" is prohibited for ref layers`));})),i.layers.forEach((e=>{Wt(e.id)===o&&(t=e);})),t?t.ref?e.push(new Yn(n,r.ref,\"ref cannot reference another ref layer\")):a=Wt(t.type):\"string\"==typeof o&&e.push(new Yn(n,r.ref,`ref layer \"${o}\" not found`));}else if(\"background\"!==a&&\"sky\"!==a)if(r.source){const t=i.sources&&i.sources[r.source],s=t&&Wt(t.type);t?\"vector\"===s&&\"raster\"===a?e.push(new Yn(n,r.source,`layer \"${r.id}\" requires a raster source`)):\"raster\"===s&&\"raster\"!==a?e.push(new Yn(n,r.source,`layer \"${r.id}\" requires a vector source`)):\"vector\"!==s||r[\"source-layer\"]?\"raster-dem\"===s&&\"hillshade\"!==a?e.push(new Yn(n,r.source,\"raster-dem source can only be used with layer type 'hillshade'.\")):\"line\"!==a||!r.paint||!r.paint[\"line-gradient\"]&&!r.paint[\"line-trim-offset\"]||\"geojson\"===s&&t.lineMetrics||e.push(new Yn(n,r,`layer \"${r.id}\" specifies a line-gradient, which requires a GeoJSON source with \\`lineMetrics\\` enabled.`)):e.push(new Yn(n,r,`layer \"${r.id}\" must specify a \"source-layer\"`)):e.push(new Yn(n,r.source,`source \"${r.source}\" not found`));}else e.push(new Yn(n,r,'missing required property \"source\"'));return e=e.concat(Wn({key:n,value:r,valueSpec:s.layer,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{\"*\":()=>[],type:()=>Bi({key:`${n}.type`,value:r.type,valueSpec:s.layer.type,style:t.style,styleSpec:t.styleSpec,object:r,objectKey:\"type\"}),filter:t=>gi(Yt({layerType:a},t)),layout:t=>Wn({layer:r,key:t.key,value:t.value,valueSpec:{},style:t.style,styleSpec:t.styleSpec,objectElementValidators:{\"*\":t=>_i(Yt({layerType:a},t))}}),paint:t=>Wn({layer:r,key:t.key,value:t.value,valueSpec:{},style:t.style,styleSpec:t.styleSpec,objectElementValidators:{\"*\":t=>bi(Yt({layerType:a},t))}})}})),e}function Ai(t){const e=t.value,r=t.key,n=Cn(e);return \"string\"!==n?[new Yn(r,e,`string expected, ${n} found`)]:[]}const Si={promoteId:function({key:t,value:e}){if(\"string\"===Cn(e))return Ai({key:t,value:e});{const r=[];for(const n in e)r.push(...Ai({key:`${t}.${n}`,value:e[n]}));return r}}};function ki(t){const e=t.value,r=t.key,n=t.styleSpec,i=t.style;if(!e.type)return [new Yn(r,e,'\"type\" is required')];const s=Wt(e.type);let a;switch(s){case\"vector\":case\"raster\":case\"raster-dem\":return a=Wn({key:r,value:e,valueSpec:n[`source_${s.replace(\"-\",\"_\")}`],style:t.style,styleSpec:n,objectElementValidators:Si}),a;case\"geojson\":if(a=Wn({key:r,value:e,valueSpec:n.source_geojson,style:i,styleSpec:n,objectElementValidators:Si}),e.cluster)for(const t in e.clusterProperties){const[n,i]=e.clusterProperties[t],s=\"string\"==typeof n?[n,[\"accumulated\"],[\"get\",t]]:n;a.push(...ei({key:`${r}.${t}.map`,value:i,expressionContext:\"cluster-map\"})),a.push(...ei({key:`${r}.${t}.reduce`,value:s,expressionContext:\"cluster-reduce\"}));}return a;case\"video\":return Wn({key:r,value:e,valueSpec:n.source_video,style:i,styleSpec:n});case\"image\":return Wn({key:r,value:e,valueSpec:n.source_image,style:i,styleSpec:n});case\"canvas\":return [new Yn(r,null,\"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.\",\"source.canvas\")];default:return ni({key:`${r}.type`,value:e.type,valueSpec:{values:[\"vector\",\"raster\",\"raster-dem\",\"geojson\",\"video\",\"image\"]},style:i,styleSpec:n})}}function Ii(t){const e=t.value,r=t.styleSpec,n=r.light,i=t.style;let s=[];const a=Cn(e);if(void 0===e)return s;if(\"object\"!==a)return s=s.concat([new Yn(\"light\",e,`object expected, ${a} found`)]),s;for(const t in e){const a=t.match(/^(.*)-transition$/);s=s.concat(a&&n[a[1]]&&n[a[1]].transition?Bi({key:t,value:e[t],valueSpec:r.transition,style:i,styleSpec:r}):n[t]?Bi({key:t,value:e[t],valueSpec:n[t],style:i,styleSpec:r}):[new Yn(t,e[t],`unknown property \"${t}\"`)]);}return s}function Mi(t){const e=t.value,r=t.key,n=t.style,i=t.styleSpec,s=i.terrain;let a=[];const o=Cn(e);if(void 0===e)return a;if(\"object\"!==o)return a=a.concat([new Yn(\"terrain\",e,`object expected, ${o} found`)]),a;for(const t in e){const r=t.match(/^(.*)-transition$/);a=a.concat(r&&s[r[1]]&&s[r[1]].transition?Bi({key:t,value:e[t],valueSpec:i.transition,style:n,styleSpec:i}):s[t]?Bi({key:t,value:e[t],valueSpec:s[t],style:n,styleSpec:i}):[new Yn(t,e[t],`unknown property \"${t}\"`)]);}if(e.source){const t=n.sources&&n.sources[e.source],i=t&&Wt(t.type);t?\"raster-dem\"!==i&&a.push(new Yn(r,e.source,`terrain cannot be used with a source of type ${String(i)}, it only be used with a \"raster-dem\" source type`)):a.push(new Yn(r,e.source,`source \"${e.source}\" not found`));}else a.push(new Yn(r,e,'terrain is missing required property \"source\"'));return a}function zi(t){const e=t.value,r=t.style,n=t.styleSpec,i=n.fog;let s=[];const a=Cn(e);if(void 0===e)return s;if(\"object\"!==a)return s=s.concat([new Yn(\"fog\",e,`object expected, ${a} found`)]),s;for(const t in e){const a=t.match(/^(.*)-transition$/);s=s.concat(a&&i[a[1]]&&i[a[1]].transition?Bi({key:t,value:e[t],valueSpec:n.transition,style:r,styleSpec:n}):i[t]?Bi({key:t,value:e[t],valueSpec:i[t],style:r,styleSpec:n}):[new Yn(t,e[t],`unknown property \"${t}\"`)]);}return s}const Ti={\"*\":()=>[],array:Jn,boolean:function(t){const e=t.value,r=t.key,n=Cn(e);return \"boolean\"!==n?[new Yn(r,e,`boolean expected, ${n} found`)]:[]},number:Qn,color:function(t){const e=t.key,r=t.value,n=Cn(r);return \"string\"!==n?[new Yn(e,r,`color expected, ${n} found`)]:null===ve(r)?[new Yn(e,r,`color expected, \"${r}\" found`)]:[]},enum:ni,filter:gi,function:ti,layer:wi,object:Wn,source:ki,light:Ii,terrain:Mi,fog:zi,string:Ai,formatted:function(t){return 0===Ai(t).length?[]:ei(t)},resolvedImage:function(t){return 0===Ai(t).length?[]:ei(t)},projection:function(t){const e=t.value,r=t.styleSpec,n=r.projection,i=t.style;let s=[];const a=Cn(e);if(\"object\"===a)for(const t in e)s=s.concat(Bi({key:t,value:e[t],valueSpec:n[t],style:i,styleSpec:r}));else \"string\"!==a&&(s=s.concat([new Yn(\"projection\",e,`object or string expected, ${a} found`)]));return s}};function Bi(t){const e=t.value,r=t.valueSpec,n=t.styleSpec;return r.expression&&Dn(Wt(e))?ti(t):r.expression&&qn(Jt(e))?ei(t):r.type&&Ti[r.type]?Ti[r.type](t):Wn(Yt({},t,{valueSpec:r.type?n[r.type]:r}))}function Ei(t){const e=t.value,r=t.key,n=Ai(t);return n.length||(-1===e.indexOf(\"{fontstack}\")&&n.push(new Yn(r,e,'\"glyphs\" url must include a \"{fontstack}\" token')),-1===e.indexOf(\"{range}\")&&n.push(new Yn(r,e,'\"glyphs\" url must include a \"{range}\" token'))),n}function Pi(t,e=Ht){return Vi(Bi({key:\"\",value:t,valueSpec:e.$root,styleSpec:e,style:t,objectElementValidators:{glyphs:Ei,\"*\":()=>[]}}))}const Ci=t=>Vi(bi(t)),Di=t=>Vi(_i(t));function Vi(t){return t.slice().sort(((t,e)=>t.line&&e.line?t.line-e.line:0))}function Fi(t,e){let r=!1;if(e&&e.length)for(const n of e)t.fire(new Xt(new Error(n.message))),r=!0;return r}var Li=Ri;function Ri(t,e,r){var n=this.cells=[];if(t instanceof ArrayBuffer){this.arrayBuffer=t;var i=new Int32Array(this.arrayBuffer);t=i[0],this.d=(e=i[1])+2*(r=i[2]);for(var s=0;s<this.d*this.d;s++){var a=i[3+s],o=i[3+s+1];n.push(a===o?null:i.subarray(a,o));}var l=i[3+n.length+1];this.keys=i.subarray(i[3+n.length],l),this.bboxes=i.subarray(l),this.insert=this._insertReadonly;}else {this.d=e+2*r;for(var u=0;u<this.d*this.d;u++)n.push([]);this.keys=[],this.bboxes=[];}this.n=e,this.extent=t,this.padding=r,this.scale=e/t,this.uid=0;var c=r/e*t;this.min=-c,this.max=t+c;}Ri.prototype.insert=function(t,e,r,n,i){this._forEachCell(e,r,n,i,this._insertCell,this.uid++),this.keys.push(t),this.bboxes.push(e),this.bboxes.push(r),this.bboxes.push(n),this.bboxes.push(i);},Ri.prototype._insertReadonly=function(){throw \"Cannot insert into a GridIndex created from an ArrayBuffer.\"},Ri.prototype._insertCell=function(t,e,r,n,i,s){this.cells[i].push(s);},Ri.prototype.query=function(t,e,r,n,i){var s=this.min,a=this.max;if(t<=s&&e<=s&&a<=r&&a<=n&&!i)return Array.prototype.slice.call(this.keys);var o=[];return this._forEachCell(t,e,r,n,this._queryCell,o,{},i),o},Ri.prototype._queryCell=function(t,e,r,n,i,s,a,o){var l=this.cells[i];if(null!==l)for(var u=this.keys,c=this.bboxes,h=0;h<l.length;h++){var p=l[h];if(void 0===a[p]){var f=4*p;(o?o(c[f+0],c[f+1],c[f+2],c[f+3]):t<=c[f+2]&&e<=c[f+3]&&r>=c[f+0]&&n>=c[f+1])?(a[p]=!0,s.push(u[p])):a[p]=!1;}}},Ri.prototype._forEachCell=function(t,e,r,n,i,s,a,o){for(var l=this._convertToCellCoord(t),u=this._convertToCellCoord(e),c=this._convertToCellCoord(r),h=this._convertToCellCoord(n),p=l;p<=c;p++)for(var f=u;f<=h;f++){var d=this.d*f+p;if((!o||o(this._convertFromCellCoord(p),this._convertFromCellCoord(f),this._convertFromCellCoord(p+1),this._convertFromCellCoord(f+1)))&&i.call(this,t,e,r,n,d,s,a,o))return}},Ri.prototype._convertFromCellCoord=function(t){return (t-this.padding)/this.scale},Ri.prototype._convertToCellCoord=function(t){return Math.max(0,Math.min(this.d-1,Math.floor(t*this.scale)+this.padding))},Ri.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var t=this.cells,e=3+this.cells.length+1+1,r=0,n=0;n<this.cells.length;n++)r+=this.cells[n].length;var i=new Int32Array(e+r+this.keys.length+this.bboxes.length);i[0]=this.extent,i[1]=this.n,i[2]=this.padding;for(var s=e,a=0;a<t.length;a++){var o=t[a];i[3+a]=s,i.set(o,s),s+=o.length;}return i[3+t.length]=s,i.set(this.keys,s),i[3+t.length+1]=s+=this.keys.length,i.set(this.bboxes,s),s+=this.bboxes.length,i.buffer};const Ui={};function ji(t,e,r={}){Object.defineProperty(t,\"_classRegistryKey\",{value:e,writeable:!1}),Ui[e]={klass:t,omit:r.omit||[]};}ji(Object,\"Object\"),Li.serialize=function(t,e){const r=t.toArrayBuffer();return e&&e.push(r),{buffer:r}},Li.deserialize=function(t){return new Li(t.buffer)},Object.defineProperty(Li,\"name\",{value:\"Grid\"}),ji(Li,\"Grid\"),ji(Ie,\"Color\"),ji(Error,\"Error\"),ji(at,\"AJAXError\"),ji(Be,\"ResolvedImage\"),ji(Kn,\"StylePropertyFunction\"),ji(On,\"StyleExpression\",{omit:[\"_evaluator\"]}),ji(Zn,\"ZoomDependentExpression\"),ji(Gn,\"ZoomConstantExpression\"),ji(He,\"CompoundExpression\",{omit:[\"_evaluate\"]});for(const t in Mn)Ui[Mn[t]._classRegistryKey]||ji(Mn[t],`Expression${t}`);function $i(t){return t&&\"undefined\"!=typeof ArrayBuffer&&(t instanceof ArrayBuffer||t.constructor&&\"ArrayBuffer\"===t.constructor.name)}function Oi(t){return e.ImageBitmap&&t instanceof e.ImageBitmap}function qi(t,r){if(null==t||\"boolean\"==typeof t||\"number\"==typeof t||\"string\"==typeof t||t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp)return t;if($i(t)||Oi(t))return r&&r.push(t),t;if(ArrayBuffer.isView(t)){const e=t;return r&&r.push(e.buffer),e}if(t instanceof e.ImageData)return r&&r.push(t.data.buffer),t;if(Array.isArray(t)){const e=[];for(const n of t)e.push(qi(n,r));return e}if(\"object\"==typeof t){const e=t.constructor,n=e._classRegistryKey;if(!n)throw new Error(`can't serialize object of unregistered class ${n}`);const i=e.serialize?e.serialize(t,r):{};if(!e.serialize){for(const e in t)t.hasOwnProperty(e)&&(Ui[n].omit.indexOf(e)>=0||(i[e]=qi(t[e],r)));t instanceof Error&&(i.message=t.message);}if(i.$name)throw new Error(\"$name property is reserved for worker serialization logic.\");return \"Object\"!==n&&(i.$name=n),i}throw new Error(\"can't serialize object of type \"+typeof t)}function Ni(t){if(null==t||\"boolean\"==typeof t||\"number\"==typeof t||\"string\"==typeof t||t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp||$i(t)||Oi(t)||ArrayBuffer.isView(t)||t instanceof e.ImageData)return t;if(Array.isArray(t))return t.map(Ni);if(\"object\"==typeof t){const e=t.$name||\"Object\",{klass:r}=Ui[e];if(!r)throw new Error(`can't deserialize unregistered class ${e}`);if(r.deserialize)return r.deserialize(t);const n=Object.create(r.prototype);for(const e of Object.keys(t))\"$name\"!==e&&(n[e]=Ni(t[e]));return n}throw new Error(\"can't deserialize object of type \"+typeof t)}class Gi{constructor(){this.first=!0;}update(t,e){const r=Math.floor(t);return this.first?(this.first=!1,this.lastIntegerZoom=r,this.lastIntegerZoomTime=0,this.lastZoom=t,this.lastFloorZoom=r,!0):(this.lastFloorZoom>r?(this.lastIntegerZoom=r+1,this.lastIntegerZoomTime=e):this.lastFloorZoom<r&&(this.lastIntegerZoom=r,this.lastIntegerZoomTime=e),t!==this.lastZoom&&(this.lastZoom=t,this.lastFloorZoom=r,!0))}}const Zi=t=>t>=1536&&t<=1791,Xi=t=>t>=1872&&t<=1919,Ki=t=>t>=2208&&t<=2303,Hi=t=>t>=11904&&t<=12031,Yi=t=>t>=12032&&t<=12255,Wi=t=>t>=12272&&t<=12287,Ji=t=>t>=12288&&t<=12351,Qi=t=>t>=12352&&t<=12447,ts=t=>t>=12448&&t<=12543,es=t=>t>=12544&&t<=12591,rs=t=>t>=12704&&t<=12735,ns=t=>t>=12736&&t<=12783,is=t=>t>=12784&&t<=12799,ss=t=>t>=12800&&t<=13055,as=t=>t>=13056&&t<=13311,os=t=>t>=13312&&t<=19903,ls=t=>t>=19968&&t<=40959,us=t=>t>=40960&&t<=42127,cs=t=>t>=42128&&t<=42191,hs=t=>t>=44032&&t<=55215,ps=t=>t>=63744&&t<=64255,fs=t=>t>=64336&&t<=65023,ds=t=>t>=65040&&t<=65055,ys=t=>t>=65072&&t<=65103,ms=t=>t>=65104&&t<=65135,gs=t=>t>=65136&&t<=65279,xs=t=>t>=65280&&t<=65519;function vs(t){for(const e of t)if(ws(e.charCodeAt(0)))return !0;return !1}function bs(t){for(const e of t)if(!_s(e.charCodeAt(0)))return !1;return !0}function _s(t){return !(Zi(t)||Xi(t)||Ki(t)||fs(t)||gs(t))}function ws(t){return !(746!==t&&747!==t&&(t<4352||!(rs(t)||es(t)||ys(t)&&!(t>=65097&&t<=65103)||ps(t)||as(t)||Hi(t)||ns(t)||!(!Ji(t)||t>=12296&&t<=12305||t>=12308&&t<=12319||12336===t)||os(t)||ls(t)||ss(t)||(t=>t>=12592&&t<=12687)(t)||(t=>t>=43360&&t<=43391)(t)||(t=>t>=55216&&t<=55295)(t)||(t=>t>=4352&&t<=4607)(t)||hs(t)||Qi(t)||Wi(t)||(t=>t>=12688&&t<=12703)(t)||Yi(t)||is(t)||ts(t)&&12540!==t||!(!xs(t)||65288===t||65289===t||65293===t||t>=65306&&t<=65310||65339===t||65341===t||65343===t||t>=65371&&t<=65503||65507===t||t>=65512&&t<=65519)||!(!ms(t)||t>=65112&&t<=65118||t>=65123&&t<=65126)||(t=>t>=5120&&t<=5759)(t)||(t=>t>=6320&&t<=6399)(t)||ds(t)||(t=>t>=19904&&t<=19967)(t)||us(t)||cs(t))))}function As(t){return !(ws(t)||function(t){return !!((t=>t>=128&&t<=255)(t)&&(167===t||169===t||174===t||177===t||188===t||189===t||190===t||215===t||247===t)||(t=>t>=8192&&t<=8303)(t)&&(8214===t||8224===t||8225===t||8240===t||8241===t||8251===t||8252===t||8258===t||8263===t||8264===t||8265===t||8273===t)||(t=>t>=8448&&t<=8527)(t)||(t=>t>=8528&&t<=8591)(t)||(t=>t>=8960&&t<=9215)(t)&&(t>=8960&&t<=8967||t>=8972&&t<=8991||t>=8996&&t<=9e3||9003===t||t>=9085&&t<=9114||t>=9150&&t<=9165||9167===t||t>=9169&&t<=9179||t>=9186&&t<=9215)||(t=>t>=9216&&t<=9279)(t)&&9251!==t||(t=>t>=9280&&t<=9311)(t)||(t=>t>=9312&&t<=9471)(t)||(t=>t>=9632&&t<=9727)(t)||(t=>t>=9728&&t<=9983)(t)&&!(t>=9754&&t<=9759)||(t=>t>=11008&&t<=11263)(t)&&(t>=11026&&t<=11055||t>=11088&&t<=11097||t>=11192&&t<=11243)||Ji(t)||ts(t)||(t=>t>=57344&&t<=63743)(t)||ys(t)||ms(t)||xs(t)||8734===t||8756===t||8757===t||t>=9984&&t<=10087||t>=10102&&t<=10131||65532===t||65533===t)}(t))}function Ss(t){return t>=1424&&t<=2303||fs(t)||gs(t)}function ks(t,e){return !(!e&&Ss(t)||t>=2304&&t<=3583||t>=3840&&t<=4255||(t=>t>=6016&&t<=6143)(t))}function Is(t){for(const e of t)if(Ss(e.charCodeAt(0)))return !0;return !1}const Ms=\"deferred\",zs=\"loading\",Ts=\"loaded\";let Bs=null,Es=\"unavailable\",Ps=null;const Cs=function(t){t&&\"string\"==typeof t&&t.indexOf(\"NetworkError\")>-1&&(Es=\"error\"),Bs&&Bs(t);};function Ds(){Vs.fire(new Zt(\"pluginStateChange\",{pluginStatus:Es,pluginURL:Ps}));}const Vs=new Kt,Fs=function(){return Es},Ls=function(){if(Es!==Ms||!Ps)throw new Error(\"rtl-text-plugin cannot be downloaded unless a pluginURL is specified\");Es=zs,Ds(),Ps&&ut({url:Ps},(t=>{t?Cs(t):(Es=Ts,Ds());}));},Rs={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>Es===Ts||null!=Rs.applyArabicShaping,isLoading:()=>Es===zs,setState(t){Es=t.pluginStatus,Ps=t.pluginURL;},isParsed:()=>null!=Rs.applyArabicShaping&&null!=Rs.processBidirectionalText&&null!=Rs.processStyledBidirectionalText,getPluginURL:()=>Ps};class Us{constructor(t,e){this.zoom=t,e?(this.now=e.now,this.fadeDuration=e.fadeDuration,this.zoomHistory=e.zoomHistory,this.transition=e.transition,this.pitch=e.pitch):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Gi,this.transition={},this.pitch=0);}isSupportedScript(t){return function(t,e){for(const r of t)if(!ks(r.charCodeAt(0),e))return !1;return !0}(t,Rs.isLoaded())}crossFadingFactor(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const t=this.zoom,e=t-Math.floor(t),r=this.crossFadingFactor();return t>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:e+(1-e)*r}:{fromScale:.5,toScale:1,t:1-(1-r)*e}}}class js{constructor(t,e){this.property=t,this.value=e,this.expression=function(t,e){if(Dn(t))return new Kn(t,e);if(qn(t)){const r=Xn(t,e);if(\"error\"===r.result)throw new Error(r.value.map((t=>`${t.key}: ${t.message}`)).join(\", \"));return r.value}{let r=t;return \"string\"==typeof t&&\"color\"===e.type&&(r=Ie.parse(t)),{kind:\"constant\",evaluate:()=>r}}}(void 0===e?t.specification.default:e,t.specification);}isDataDriven(){return \"source\"===this.expression.kind||\"composite\"===this.expression.kind}possiblyEvaluate(t,e,r){return this.property.possiblyEvaluate(this,t,e,r)}}class $s{constructor(t){this.property=t,this.value=new js(t,void 0);}transitioned(t,e){return new qs(this.property,this.value,e,T({},t.transition,this.transition),t.now)}untransitioned(){return new qs(this.property,this.value,null,{},0)}}class Os{constructor(t){this._properties=t,this._values=Object.create(t.defaultTransitionablePropertyValues);}getValue(t){return U(this._values[t].value.value)}setValue(t,e){this._values.hasOwnProperty(t)||(this._values[t]=new $s(this._values[t].property)),this._values[t].value=new js(this._values[t].property,null===e?void 0:U(e));}getTransition(t){return U(this._values[t].transition)}setTransition(t,e){this._values.hasOwnProperty(t)||(this._values[t]=new $s(this._values[t].property)),this._values[t].transition=U(e)||void 0;}serialize(){const t={};for(const e of Object.keys(this._values)){const r=this.getValue(e);void 0!==r&&(t[e]=r);const n=this.getTransition(e);void 0!==n&&(t[`${e}-transition`]=n);}return t}transitioned(t,e){const r=new Ns(this._properties);for(const n of Object.keys(this._values))r._values[n]=this._values[n].transitioned(t,e._values[n]);return r}untransitioned(){const t=new Ns(this._properties);for(const e of Object.keys(this._values))t._values[e]=this._values[e].untransitioned();return t}}class qs{constructor(t,e,r,n,i){const s=n.delay||0,a=n.duration||0;i=i||0,this.property=t,this.value=e,this.begin=i+s,this.end=this.begin+a,t.specification.transition&&(n.delay||n.duration)&&(this.prior=r);}possiblyEvaluate(t,e,r){const n=t.now||0,i=this.value.possiblyEvaluate(t,e,r),s=this.prior;if(s){if(n>this.end)return this.prior=null,i;if(this.value.isDataDriven())return this.prior=null,i;if(n<this.begin)return s.possiblyEvaluate(t,e,r);{const a=(n-this.begin)/(this.end-this.begin);return this.property.interpolate(s.possiblyEvaluate(t,e,r),i,_(a))}}return i}}class Ns{constructor(t){this._properties=t,this._values=Object.create(t.defaultTransitioningPropertyValues);}possiblyEvaluate(t,e,r){const n=new Xs(this._properties);for(const i of Object.keys(this._values))n._values[i]=this._values[i].possiblyEvaluate(t,e,r);return n}hasTransition(){for(const t of Object.keys(this._values))if(this._values[t].prior)return !0;return !1}}class Gs{constructor(t){this._properties=t,this._values=Object.create(t.defaultPropertyValues);}getValue(t){return U(this._values[t].value)}setValue(t,e){this._values[t]=new js(this._values[t].property,null===e?void 0:U(e));}serialize(){const t={};for(const e of Object.keys(this._values)){const r=this.getValue(e);void 0!==r&&(t[e]=r);}return t}possiblyEvaluate(t,e,r){const n=new Xs(this._properties);for(const i of Object.keys(this._values))n._values[i]=this._values[i].possiblyEvaluate(t,e,r);return n}}class Zs{constructor(t,e,r){this.property=t,this.value=e,this.parameters=r;}isConstant(){return \"constant\"===this.value.kind}constantOr(t){return \"constant\"===this.value.kind?this.value.value:t}evaluate(t,e,r,n){return this.property.evaluate(this.value,this.parameters,t,e,r,n)}}class Xs{constructor(t){this._properties=t,this._values=Object.create(t.defaultPossiblyEvaluatedValues);}get(t){return this._values[t]}}class Ks{constructor(t){this.specification=t;}possiblyEvaluate(t,e){return t.expression.evaluate(e)}interpolate(t,e,r){const n=Mr[this.specification.type];return n?n(t,e,r):t}}class Hs{constructor(t,e){this.specification=t,this.overrides=e;}possiblyEvaluate(t,e,r,n){return new Zs(this,\"constant\"===t.expression.kind||\"camera\"===t.expression.kind?{kind:\"constant\",value:t.expression.evaluate(e,null,{},r,n)}:t.expression,e)}interpolate(t,e,r){if(\"constant\"!==t.value.kind||\"constant\"!==e.value.kind)return t;if(void 0===t.value.value||void 0===e.value.value)return new Zs(this,{kind:\"constant\",value:void 0},t.parameters);const n=Mr[this.specification.type];return n?new Zs(this,{kind:\"constant\",value:n(t.value.value,e.value.value,r)},t.parameters):t}evaluate(t,e,r,n,i,s){return \"constant\"===t.kind?t.value:t.evaluate(e,r,n,i,s)}}class Ys extends Hs{possiblyEvaluate(t,e,r,n){if(void 0===t.value)return new Zs(this,{kind:\"constant\",value:void 0},e);if(\"constant\"===t.expression.kind){const i=t.expression.evaluate(e,null,{},r,n),s=\"resolvedImage\"===t.property.specification.type&&\"string\"!=typeof i?i.name:i,a=this._calculate(s,s,s,e);return new Zs(this,{kind:\"constant\",value:a},e)}if(\"camera\"===t.expression.kind){const r=this._calculate(t.expression.evaluate({zoom:e.zoom-1}),t.expression.evaluate({zoom:e.zoom}),t.expression.evaluate({zoom:e.zoom+1}),e);return new Zs(this,{kind:\"constant\",value:r},e)}return new Zs(this,t.expression,e)}evaluate(t,e,r,n,i,s){if(\"source\"===t.kind){const a=t.evaluate(e,r,n,i,s);return this._calculate(a,a,a,e)}return \"composite\"===t.kind?this._calculate(t.evaluate({zoom:Math.floor(e.zoom)-1},r,n),t.evaluate({zoom:Math.floor(e.zoom)},r,n),t.evaluate({zoom:Math.floor(e.zoom)+1},r,n),e):t.value}_calculate(t,e,r,n){return n.zoom>n.zoomHistory.lastIntegerZoom?{from:t,to:e,other:r}:{from:r,to:e,other:t}}interpolate(t){return t}}class Ws{constructor(t){this.specification=t;}possiblyEvaluate(t,e,r,n){if(void 0!==t.value){if(\"constant\"===t.expression.kind){const i=t.expression.evaluate(e,null,{},r,n);return this._calculate(i,i,i,e)}return this._calculate(t.expression.evaluate(new Us(Math.floor(e.zoom-1),e)),t.expression.evaluate(new Us(Math.floor(e.zoom),e)),t.expression.evaluate(new Us(Math.floor(e.zoom+1),e)),e)}}_calculate(t,e,r,n){return n.zoom>n.zoomHistory.lastIntegerZoom?{from:t,to:e}:{from:r,to:e}}interpolate(t){return t}}class Js{constructor(t){this.specification=t;}possiblyEvaluate(t,e,r,n){return !!t.expression.evaluate(e,null,{},r,n)}interpolate(){return !1}}class Qs{constructor(t){this.properties=t,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];const e=new Us(0,{});for(const r in t){const n=t[r];n.specification.overridable&&this.overridableProperties.push(r);const i=this.defaultPropertyValues[r]=new js(n,void 0),s=this.defaultTransitionablePropertyValues[r]=new $s(n);this.defaultTransitioningPropertyValues[r]=s.untransitioned(),this.defaultPossiblyEvaluatedValues[r]=i.possiblyEvaluate(e);}}}function ta(t,e){return 256*(t=S(Math.floor(t),0,255))+S(Math.floor(e),0,255)}ji(Hs,\"DataDrivenProperty\"),ji(Ks,\"DataConstantProperty\"),ji(Ys,\"CrossFadedDataDrivenProperty\"),ji(Ws,\"CrossFadedProperty\"),ji(Js,\"ColorRampProperty\");const ea={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class ra{constructor(t,e){this._structArray=t,this._pos1=e*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8;}}class na{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0);}static serialize(t,e){return t._trim(),e&&(t.isTransferred=!0,e.push(t.arrayBuffer)),{length:t.length,arrayBuffer:t.arrayBuffer}}static deserialize(t){const e=Object.create(this.prototype);return e.arrayBuffer=t.arrayBuffer,e.length=t.length,e.capacity=t.arrayBuffer.byteLength/e.bytesPerElement,e._refreshViews(),e}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews());}clear(){this.length=0;}resize(t){this.reserve(t),this.length=t;}reserve(t){if(t>this.capacity){this.capacity=Math.max(t,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const e=this.uint8;this._refreshViews(),e&&this.uint8.set(e);}}_refreshViews(){throw new Error(\"_refreshViews() must be implemented by each concrete StructArray layout\")}destroy(){this.int8=this.uint8=this.int16=this.uint16=this.int32=this.uint32=this.float32=null,this.arrayBuffer=null;}}function ia(t,e=1){let r=0,n=0;return {members:t.map((t=>{const i=ea[t.type].BYTES_PER_ELEMENT,s=r=sa(r,Math.max(e,i)),a=t.components||1;return n=Math.max(n,i),r+=i*a,{name:t.name,type:t.type,components:a,offset:s}})),size:sa(r,Math.max(n,e)),alignment:e}}function sa(t,e){return Math.ceil(t/e)*e}class aa extends na{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer);}emplaceBack(t,e){const r=this.length;return this.resize(r+1),this.emplace(r,t,e)}emplace(t,e,r){const n=2*t;return this.int16[n+0]=e,this.int16[n+1]=r,t}}aa.prototype.bytesPerElement=4,ji(aa,\"StructArrayLayout2i4\");class oa extends na{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer);}emplaceBack(t,e,r){const n=this.length;return this.resize(n+1),this.emplace(n,t,e,r)}emplace(t,e,r,n){const i=3*t;return this.int16[i+0]=e,this.int16[i+1]=r,this.int16[i+2]=n,t}}oa.prototype.bytesPerElement=6,ji(oa,\"StructArrayLayout3i6\");class la extends na{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer);}emplaceBack(t,e,r,n){const i=this.length;return this.resize(i+1),this.emplace(i,t,e,r,n)}emplace(t,e,r,n,i){const s=4*t;return this.int16[s+0]=e,this.int16[s+1]=r,this.int16[s+2]=n,this.int16[s+3]=i,t}}la.prototype.bytesPerElement=8,ji(la,\"StructArrayLayout4i8\");class ua extends na{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer);}emplaceBack(t,e,r,n,i,s,a){const o=this.length;return this.resize(o+1),this.emplace(o,t,e,r,n,i,s,a)}emplace(t,e,r,n,i,s,a,o){const l=6*t,u=12*t,c=3*t;return this.int16[l+0]=e,this.int16[l+1]=r,this.uint8[u+4]=n,this.uint8[u+5]=i,this.uint8[u+6]=s,this.uint8[u+7]=a,this.float32[c+2]=o,t}}ua.prototype.bytesPerElement=12,ji(ua,\"StructArrayLayout2i4ub1f12\");class ca extends na{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer);}emplaceBack(t,e,r,n){const i=this.length;return this.resize(i+1),this.emplace(i,t,e,r,n)}emplace(t,e,r,n,i){const s=4*t;return this.float32[s+0]=e,this.float32[s+1]=r,this.float32[s+2]=n,this.float32[s+3]=i,t}}ca.prototype.bytesPerElement=16,ji(ca,\"StructArrayLayout4f16\");class ha extends na{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer);}emplaceBack(t,e,r,n,i,s,a,o,l,u){const c=this.length;return this.resize(c+1),this.emplace(c,t,e,r,n,i,s,a,o,l,u)}emplace(t,e,r,n,i,s,a,o,l,u,c){const h=10*t;return this.uint16[h+0]=e,this.uint16[h+1]=r,this.uint16[h+2]=n,this.uint16[h+3]=i,this.uint16[h+4]=s,this.uint16[h+5]=a,this.uint16[h+6]=o,this.uint16[h+7]=l,this.uint16[h+8]=u,this.uint16[h+9]=c,t}}ha.prototype.bytesPerElement=20,ji(ha,\"StructArrayLayout10ui20\");class pa extends na{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer);}emplaceBack(t,e,r,n,i,s,a,o){const l=this.length;return this.resize(l+1),this.emplace(l,t,e,r,n,i,s,a,o)}emplace(t,e,r,n,i,s,a,o,l){const u=8*t;return this.uint16[u+0]=e,this.uint16[u+1]=r,this.uint16[u+2]=n,this.uint16[u+3]=i,this.uint16[u+4]=s,this.uint16[u+5]=a,this.uint16[u+6]=o,this.uint16[u+7]=l,t}}pa.prototype.bytesPerElement=16,ji(pa,\"StructArrayLayout8ui16\");class fa extends na{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer);}emplaceBack(t,e,r,n,i,s){const a=this.length;return this.resize(a+1),this.emplace(a,t,e,r,n,i,s)}emplace(t,e,r,n,i,s,a){const o=6*t;return this.int16[o+0]=e,this.int16[o+1]=r,this.int16[o+2]=n,this.int16[o+3]=i,this.int16[o+4]=s,this.int16[o+5]=a,t}}fa.prototype.bytesPerElement=12,ji(fa,\"StructArrayLayout6i12\");class da extends na{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer);}emplaceBack(t,e,r,n,i,s,a,o,l,u,c,h){const p=this.length;return this.resize(p+1),this.emplace(p,t,e,r,n,i,s,a,o,l,u,c,h)}emplace(t,e,r,n,i,s,a,o,l,u,c,h,p){const f=12*t;return this.int16[f+0]=e,this.int16[f+1]=r,this.int16[f+2]=n,this.int16[f+3]=i,this.uint16[f+4]=s,this.uint16[f+5]=a,this.uint16[f+6]=o,this.uint16[f+7]=l,this.int16[f+8]=u,this.int16[f+9]=c,this.int16[f+10]=h,this.int16[f+11]=p,t}}da.prototype.bytesPerElement=24,ji(da,\"StructArrayLayout4i4ui4i24\");class ya extends na{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer);}emplaceBack(t,e,r,n,i,s){const a=this.length;return this.resize(a+1),this.emplace(a,t,e,r,n,i,s)}emplace(t,e,r,n,i,s,a){const o=10*t,l=5*t;return this.int16[o+0]=e,this.int16[o+1]=r,this.int16[o+2]=n,this.float32[l+2]=i,this.float32[l+3]=s,this.float32[l+4]=a,t}}ya.prototype.bytesPerElement=20,ji(ya,\"StructArrayLayout3i3f20\");class ma extends na{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer);}emplaceBack(t){const e=this.length;return this.resize(e+1),this.emplace(e,t)}emplace(t,e){return this.uint32[1*t+0]=e,t}}ma.prototype.bytesPerElement=4,ji(ma,\"StructArrayLayout1ul4\");class ga extends na{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer);}emplaceBack(t,e,r,n,i,s,a,o,l,u,c,h,p){const f=this.length;return this.resize(f+1),this.emplace(f,t,e,r,n,i,s,a,o,l,u,c,h,p)}emplace(t,e,r,n,i,s,a,o,l,u,c,h,p,f){const d=20*t,y=10*t;return this.int16[d+0]=e,this.int16[d+1]=r,this.int16[d+2]=n,this.int16[d+3]=i,this.int16[d+4]=s,this.float32[y+3]=a,this.float32[y+4]=o,this.float32[y+5]=l,this.float32[y+6]=u,this.int16[d+14]=c,this.uint32[y+8]=h,this.uint16[d+18]=p,this.uint16[d+19]=f,t}}ga.prototype.bytesPerElement=40,ji(ga,\"StructArrayLayout5i4f1i1ul2ui40\");class xa extends na{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer);}emplaceBack(t,e,r,n,i,s,a){const o=this.length;return this.resize(o+1),this.emplace(o,t,e,r,n,i,s,a)}emplace(t,e,r,n,i,s,a,o){const l=8*t;return this.int16[l+0]=e,this.int16[l+1]=r,this.int16[l+2]=n,this.int16[l+4]=i,this.int16[l+5]=s,this.int16[l+6]=a,this.int16[l+7]=o,t}}xa.prototype.bytesPerElement=16,ji(xa,\"StructArrayLayout3i2i2i16\");class va extends na{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer);}emplaceBack(t,e,r,n,i){const s=this.length;return this.resize(s+1),this.emplace(s,t,e,r,n,i)}emplace(t,e,r,n,i,s){const a=4*t,o=8*t;return this.float32[a+0]=e,this.float32[a+1]=r,this.float32[a+2]=n,this.int16[o+6]=i,this.int16[o+7]=s,t}}va.prototype.bytesPerElement=16,ji(va,\"StructArrayLayout2f1f2i16\");class ba extends na{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer);}emplaceBack(t,e,r,n){const i=this.length;return this.resize(i+1),this.emplace(i,t,e,r,n)}emplace(t,e,r,n,i){const s=12*t,a=3*t;return this.uint8[s+0]=e,this.uint8[s+1]=r,this.float32[a+1]=n,this.float32[a+2]=i,t}}ba.prototype.bytesPerElement=12,ji(ba,\"StructArrayLayout2ub2f12\");class _a extends na{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer);}emplaceBack(t,e,r){const n=this.length;return this.resize(n+1),this.emplace(n,t,e,r)}emplace(t,e,r,n){const i=3*t;return this.float32[i+0]=e,this.float32[i+1]=r,this.float32[i+2]=n,t}}_a.prototype.bytesPerElement=12,ji(_a,\"StructArrayLayout3f12\");class wa extends na{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer);}emplaceBack(t,e,r){const n=this.length;return this.resize(n+1),this.emplace(n,t,e,r)}emplace(t,e,r,n){const i=3*t;return this.uint16[i+0]=e,this.uint16[i+1]=r,this.uint16[i+2]=n,t}}wa.prototype.bytesPerElement=6,ji(wa,\"StructArrayLayout3ui6\");class Aa extends na{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer);}emplaceBack(t,e,r,n,i,s,a,o,l,u,c,h,p,f,d,y,m,g,x,v,b){const _=this.length;return this.resize(_+1),this.emplace(_,t,e,r,n,i,s,a,o,l,u,c,h,p,f,d,y,m,g,x,v,b)}emplace(t,e,r,n,i,s,a,o,l,u,c,h,p,f,d,y,m,g,x,v,b,_){const w=30*t,A=15*t,S=60*t;return this.int16[w+0]=e,this.int16[w+1]=r,this.int16[w+2]=n,this.float32[A+2]=i,this.float32[A+3]=s,this.uint16[w+8]=a,this.uint16[w+9]=o,this.uint32[A+5]=l,this.uint32[A+6]=u,this.uint32[A+7]=c,this.uint16[w+16]=h,this.uint16[w+17]=p,this.uint16[w+18]=f,this.float32[A+10]=d,this.float32[A+11]=y,this.uint8[S+48]=m,this.uint8[S+49]=g,this.uint8[S+50]=x,this.uint32[A+13]=v,this.int16[w+28]=b,this.uint8[S+58]=_,t}}Aa.prototype.bytesPerElement=60,ji(Aa,\"StructArrayLayout3i2f2ui3ul3ui2f3ub1ul1i1ub60\");class Sa extends na{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer);}emplaceBack(t,e,r,n,i,s,a,o,l,u,c,h,p,f,d,y,m,g,x,v,b,_,w,A,S,k,I,M,z,T){const B=this.length;return this.resize(B+1),this.emplace(B,t,e,r,n,i,s,a,o,l,u,c,h,p,f,d,y,m,g,x,v,b,_,w,A,S,k,I,M,z,T)}emplace(t,e,r,n,i,s,a,o,l,u,c,h,p,f,d,y,m,g,x,v,b,_,w,A,S,k,I,M,z,T,B){const E=38*t,P=19*t;return this.int16[E+0]=e,this.int16[E+1]=r,this.int16[E+2]=n,this.float32[P+2]=i,this.float32[P+3]=s,this.int16[E+8]=a,this.int16[E+9]=o,this.int16[E+10]=l,this.int16[E+11]=u,this.int16[E+12]=c,this.int16[E+13]=h,this.uint16[E+14]=p,this.uint16[E+15]=f,this.uint16[E+16]=d,this.uint16[E+17]=y,this.uint16[E+18]=m,this.uint16[E+19]=g,this.uint16[E+20]=x,this.uint16[E+21]=v,this.uint16[E+22]=b,this.uint16[E+23]=_,this.uint16[E+24]=w,this.uint16[E+25]=A,this.uint16[E+26]=S,this.uint16[E+27]=k,this.uint16[E+28]=I,this.uint32[P+15]=M,this.float32[P+16]=z,this.float32[P+17]=T,this.float32[P+18]=B,t}}Sa.prototype.bytesPerElement=76,ji(Sa,\"StructArrayLayout3i2f6i15ui1ul3f76\");class ka extends na{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer);}emplaceBack(t){const e=this.length;return this.resize(e+1),this.emplace(e,t)}emplace(t,e){return this.float32[1*t+0]=e,t}}ka.prototype.bytesPerElement=4,ji(ka,\"StructArrayLayout1f4\");class Ia extends na{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer);}emplaceBack(t,e,r,n,i){const s=this.length;return this.resize(s+1),this.emplace(s,t,e,r,n,i)}emplace(t,e,r,n,i,s){const a=5*t;return this.float32[a+0]=e,this.float32[a+1]=r,this.float32[a+2]=n,this.float32[a+3]=i,this.float32[a+4]=s,t}}Ia.prototype.bytesPerElement=20,ji(Ia,\"StructArrayLayout5f20\");class Ma extends na{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer);}emplaceBack(t,e,r,n){const i=this.length;return this.resize(i+1),this.emplace(i,t,e,r,n)}emplace(t,e,r,n,i){const s=6*t;return this.uint32[3*t+0]=e,this.uint16[s+2]=r,this.uint16[s+3]=n,this.uint16[s+4]=i,t}}Ma.prototype.bytesPerElement=12,ji(Ma,\"StructArrayLayout1ul3ui12\");class za extends na{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer);}emplaceBack(t,e){const r=this.length;return this.resize(r+1),this.emplace(r,t,e)}emplace(t,e,r){const n=2*t;return this.uint16[n+0]=e,this.uint16[n+1]=r,t}}za.prototype.bytesPerElement=4,ji(za,\"StructArrayLayout2ui4\");class Ta extends na{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer);}emplaceBack(t){const e=this.length;return this.resize(e+1),this.emplace(e,t)}emplace(t,e){return this.uint16[1*t+0]=e,t}}Ta.prototype.bytesPerElement=2,ji(Ta,\"StructArrayLayout1ui2\");class Ba extends na{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer);}emplaceBack(t,e){const r=this.length;return this.resize(r+1),this.emplace(r,t,e)}emplace(t,e,r){const n=2*t;return this.float32[n+0]=e,this.float32[n+1]=r,t}}Ba.prototype.bytesPerElement=8,ji(Ba,\"StructArrayLayout2f8\");class Ea extends ra{get a_pos_30(){return this._structArray.int16[this._pos2+0]}get a_pos_31(){return this._structArray.int16[this._pos2+1]}get a_pos_32(){return this._structArray.int16[this._pos2+2]}get a_pos_normal_30(){return this._structArray.int16[this._pos2+3]}get a_pos_normal_31(){return this._structArray.int16[this._pos2+4]}get a_pos_normal_32(){return this._structArray.int16[this._pos2+5]}}Ea.prototype.size=12;class Pa extends fa{get(t){return new Ea(this,t)}}ji(Pa,\"FillExtrusionExtArray\");class Ca extends ra{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.int16[this._pos2+3]}get tileAnchorY(){return this._structArray.int16[this._pos2+4]}get x1(){return this._structArray.float32[this._pos4+3]}get y1(){return this._structArray.float32[this._pos4+4]}get x2(){return this._structArray.float32[this._pos4+5]}get y2(){return this._structArray.float32[this._pos4+6]}get padding(){return this._structArray.int16[this._pos2+14]}get featureIndex(){return this._structArray.uint32[this._pos4+8]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+18]}get bucketIndex(){return this._structArray.uint16[this._pos2+19]}}Ca.prototype.size=40;class Da extends ga{get(t){return new Ca(this,t)}}ji(Da,\"CollisionBoxArray\");class Va extends ra{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+8]}get numGlyphs(){return this._structArray.uint16[this._pos2+9]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+5]}get lineStartIndex(){return this._structArray.uint32[this._pos4+6]}get lineLength(){return this._structArray.uint32[this._pos4+7]}get segment(){return this._structArray.uint16[this._pos2+16]}get lowerSize(){return this._structArray.uint16[this._pos2+17]}get upperSize(){return this._structArray.uint16[this._pos2+18]}get lineOffsetX(){return this._structArray.float32[this._pos4+10]}get lineOffsetY(){return this._structArray.float32[this._pos4+11]}get writingMode(){return this._structArray.uint8[this._pos1+48]}get placedOrientation(){return this._structArray.uint8[this._pos1+49]}set placedOrientation(t){this._structArray.uint8[this._pos1+49]=t;}get hidden(){return this._structArray.uint8[this._pos1+50]}set hidden(t){this._structArray.uint8[this._pos1+50]=t;}get crossTileID(){return this._structArray.uint32[this._pos4+13]}set crossTileID(t){this._structArray.uint32[this._pos4+13]=t;}get associatedIconIndex(){return this._structArray.int16[this._pos2+28]}get flipState(){return this._structArray.uint8[this._pos1+58]}set flipState(t){this._structArray.uint8[this._pos1+58]=t;}}Va.prototype.size=60;class Fa extends Aa{get(t){return new Va(this,t)}}ji(Fa,\"PlacedSymbolArray\");class La extends ra{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+8]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+9]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+10]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+11]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+12]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+13]}get key(){return this._structArray.uint16[this._pos2+14]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+17]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+18]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+19]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+20]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+21]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+22]}get featureIndex(){return this._structArray.uint16[this._pos2+23]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+24]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+25]}get numIconVertices(){return this._structArray.uint16[this._pos2+26]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+27]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+28]}get crossTileID(){return this._structArray.uint32[this._pos4+15]}set crossTileID(t){this._structArray.uint32[this._pos4+15]=t;}get textOffset0(){return this._structArray.float32[this._pos4+16]}get textOffset1(){return this._structArray.float32[this._pos4+17]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+18]}}La.prototype.size=76;class Ra extends Sa{get(t){return new La(this,t)}}ji(Ra,\"SymbolInstanceArray\");class Ua extends ka{getoffsetX(t){return this.float32[1*t+0]}}ji(Ua,\"GlyphOffsetArray\");class ja extends oa{getx(t){return this.int16[3*t+0]}gety(t){return this.int16[3*t+1]}gettileUnitDistanceFromAnchor(t){return this.int16[3*t+2]}}ji(ja,\"SymbolLineVertexArray\");class $a extends ra{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}get layoutVertexArrayOffset(){return this._structArray.uint16[this._pos2+4]}}$a.prototype.size=12;class Oa extends Ma{get(t){return new $a(this,t)}}ji(Oa,\"FeatureIndexArray\");class qa extends ra{get a_centroid_pos0(){return this._structArray.uint16[this._pos2+0]}get a_centroid_pos1(){return this._structArray.uint16[this._pos2+1]}}qa.prototype.size=4;class Na extends za{get(t){return new qa(this,t)}}ji(Na,\"FillExtrusionCentroidArray\");class Ga extends ra{get a_pos_30(){return this._structArray.int16[this._pos2+0]}get a_pos_31(){return this._structArray.int16[this._pos2+1]}get a_pos_32(){return this._structArray.int16[this._pos2+2]}get a_pos_normal_30(){return this._structArray.int16[this._pos2+3]}get a_pos_normal_31(){return this._structArray.int16[this._pos2+4]}get a_pos_normal_32(){return this._structArray.int16[this._pos2+5]}}Ga.prototype.size=12;class Za extends fa{get(t){return new Ga(this,t)}}ji(Za,\"CircleGlobeExtArray\");const Xa=ia([{name:\"a_pattern_to\",components:4,type:\"Uint16\"},{name:\"a_pattern_from\",components:4,type:\"Uint16\"},{name:\"a_pixel_ratio_to\",components:1,type:\"Uint16\"},{name:\"a_pixel_ratio_from\",components:1,type:\"Uint16\"}]),Ka=ia([{name:\"a_dash_to\",components:4,type:\"Uint16\"},{name:\"a_dash_from\",components:4,type:\"Uint16\"}]);var Ha={exports:{}},Ya={exports:{}};Ya.exports=function(t,e){var r,n,i,s,a,o,l,u;for(n=t.length-(r=3&t.length),i=e,a=3432918353,o=461845907,u=0;u<n;)l=255&t.charCodeAt(u)|(255&t.charCodeAt(++u))<<8|(255&t.charCodeAt(++u))<<16|(255&t.charCodeAt(++u))<<24,++u,i=27492+(65535&(s=5*(65535&(i=(i^=l=(65535&(l=(l=(65535&l)*a+(((l>>>16)*a&65535)<<16)&4294967295)<<15|l>>>17))*o+(((l>>>16)*o&65535)<<16)&4294967295)<<13|i>>>19))+((5*(i>>>16)&65535)<<16)&4294967295))+((58964+(s>>>16)&65535)<<16);switch(l=0,r){case 3:l^=(255&t.charCodeAt(u+2))<<16;case 2:l^=(255&t.charCodeAt(u+1))<<8;case 1:i^=l=(65535&(l=(l=(65535&(l^=255&t.charCodeAt(u)))*a+(((l>>>16)*a&65535)<<16)&4294967295)<<15|l>>>17))*o+(((l>>>16)*o&65535)<<16)&4294967295;}return i^=t.length,i=2246822507*(65535&(i^=i>>>16))+((2246822507*(i>>>16)&65535)<<16)&4294967295,i=3266489909*(65535&(i^=i>>>13))+((3266489909*(i>>>16)&65535)<<16)&4294967295,(i^=i>>>16)>>>0};var Wa={exports:{}};Wa.exports=function(t,e){for(var r,n=t.length,i=e^n,s=0;n>=4;)r=1540483477*(65535&(r=255&t.charCodeAt(s)|(255&t.charCodeAt(++s))<<8|(255&t.charCodeAt(++s))<<16|(255&t.charCodeAt(++s))<<24))+((1540483477*(r>>>16)&65535)<<16),i=1540483477*(65535&i)+((1540483477*(i>>>16)&65535)<<16)^(r=1540483477*(65535&(r^=r>>>24))+((1540483477*(r>>>16)&65535)<<16)),n-=4,++s;switch(n){case 3:i^=(255&t.charCodeAt(s+2))<<16;case 2:i^=(255&t.charCodeAt(s+1))<<8;case 1:i=1540483477*(65535&(i^=255&t.charCodeAt(s)))+((1540483477*(i>>>16)&65535)<<16);}return i=1540483477*(65535&(i^=i>>>13))+((1540483477*(i>>>16)&65535)<<16),(i^=i>>>15)>>>0};var Ja=Ya.exports,Qa=Wa.exports;Ha.exports=Ja,Ha.exports.murmur3=Ja,Ha.exports.murmur2=Qa;class to{constructor(){this.ids=[],this.positions=[],this.indexed=!1;}add(t,e,r,n){this.ids.push(eo(t)),this.positions.push(e,r,n);}getPositions(t){const e=eo(t);let r=0,n=this.ids.length-1;for(;r<n;){const t=r+n>>1;this.ids[t]>=e?n=t:r=t+1;}const i=[];for(;this.ids[r]===e;)i.push({index:this.positions[3*r],start:this.positions[3*r+1],end:this.positions[3*r+2]}),r++;return i}static serialize(t,e){const r=new Float64Array(t.ids),n=new Uint32Array(t.positions);return ro(r,n,0,r.length-1),e&&e.push(r.buffer,n.buffer),{ids:r,positions:n}}static deserialize(t){const e=new to;return e.ids=t.ids,e.positions=t.positions,e.indexed=!0,e}}function eo(t){const e=+t;return !isNaN(e)&&Number.MIN_SAFE_INTEGER<=e&&e<=Number.MAX_SAFE_INTEGER?e:Ha.exports(String(t))}function ro(t,e,r,n){for(;r<n;){const i=t[r+n>>1];let s=r-1,a=n+1;for(;;){do{s++;}while(t[s]<i);do{a--;}while(t[a]>i);if(s>=a)break;no(t,s,a),no(e,3*s,3*a),no(e,3*s+1,3*a+1),no(e,3*s+2,3*a+2);}a-r<n-a?(ro(t,e,r,a),r=a+1):(ro(t,e,a+1,n),n=a);}}function no(t,e,r){const n=t[e];t[e]=t[r],t[r]=n;}ji(to,\"FeaturePositionMap\");class io{constructor(t){this.gl=t.gl,this.initialized=!1;}fetchUniformLocation(t,e){return this.location||this.initialized||(this.location=this.gl.getUniformLocation(t,e),this.initialized=!0),!!this.location}}class so extends io{constructor(t){super(t),this.current=0;}set(t,e,r){this.fetchUniformLocation(t,e)&&this.current!==r&&(this.current=r,this.gl.uniform1f(this.location,r));}}class ao extends io{constructor(t){super(t),this.current=[0,0,0,0];}set(t,e,r){this.fetchUniformLocation(t,e)&&(r[0]===this.current[0]&&r[1]===this.current[1]&&r[2]===this.current[2]&&r[3]===this.current[3]||(this.current=r,this.gl.uniform4f(this.location,r[0],r[1],r[2],r[3])));}}class oo extends io{constructor(t){super(t),this.current=Ie.transparent;}set(t,e,r){this.fetchUniformLocation(t,e)&&(r.r===this.current.r&&r.g===this.current.g&&r.b===this.current.b&&r.a===this.current.a||(this.current=r,this.gl.uniform4f(this.location,r.r,r.g,r.b,r.a)));}}const lo=new Float32Array(16),uo=new Float32Array(9),co=new Float32Array(4);function ho(t){return [ta(255*t.r,255*t.g),ta(255*t.b,255*t.a)]}class po{constructor(t,e,r){this.value=t,this.uniformNames=e.map((t=>`u_${t}`)),this.type=r;}setUniform(t,e,r,n,i){e.set(t,i,n.constantOr(this.value));}getBinding(t,e){return \"color\"===this.type?new oo(t):new so(t)}}class fo{constructor(t,e){this.uniformNames=e.map((t=>`u_${t}`)),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1;}setConstantPatternPositions(t,e){this.pixelRatioFrom=e.pixelRatio||1,this.pixelRatioTo=t.pixelRatio||1,this.patternFrom=e.tl.concat(e.br),this.patternTo=t.tl.concat(t.br);}setUniform(t,e,r,n,i){const s=\"u_pattern_to\"===i||\"u_dash_to\"===i?this.patternTo:\"u_pattern_from\"===i||\"u_dash_from\"===i?this.patternFrom:\"u_pixel_ratio_to\"===i?this.pixelRatioTo:\"u_pixel_ratio_from\"===i?this.pixelRatioFrom:null;s&&e.set(t,i,s);}getBinding(t,e){return \"u_pattern_from\"===e||\"u_pattern_to\"===e||\"u_dash_from\"===e||\"u_dash_to\"===e?new ao(t):new so(t)}}class yo{constructor(t,e,r,n){this.expression=t,this.type=r,this.maxValue=0,this.paintVertexAttributes=e.map((t=>({name:`a_${t}`,type:\"Float32\",components:\"color\"===r?2:1,offset:0}))),this.paintVertexArray=new n;}populatePaintArray(t,e,r,n,i,s){const a=this.paintVertexArray.length,o=this.expression.evaluate(new Us(0),e,{},i,n,s);this.paintVertexArray.resize(t),this._setPaintValue(a,t,o);}updatePaintArray(t,e,r,n,i){const s=this.expression.evaluate({zoom:0},r,n,void 0,i);this._setPaintValue(t,e,s);}_setPaintValue(t,e,r){if(\"color\"===this.type){const n=ho(r);for(let r=t;r<e;r++)this.paintVertexArray.emplace(r,n[0],n[1]);}else {for(let n=t;n<e;n++)this.paintVertexArray.emplace(n,r);this.maxValue=Math.max(this.maxValue,Math.abs(r));}}upload(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent));}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy();}}class mo{constructor(t,e,r,n,i,s){this.expression=t,this.uniformNames=e.map((t=>`u_${t}_t`)),this.type=r,this.useIntegerZoom=n,this.zoom=i,this.maxValue=0,this.paintVertexAttributes=e.map((t=>({name:`a_${t}`,type:\"Float32\",components:\"color\"===r?4:2,offset:0}))),this.paintVertexArray=new s;}populatePaintArray(t,e,r,n,i,s){const a=this.expression.evaluate(new Us(this.zoom),e,{},i,n,s),o=this.expression.evaluate(new Us(this.zoom+1),e,{},i,n,s),l=this.paintVertexArray.length;this.paintVertexArray.resize(t),this._setPaintValue(l,t,a,o);}updatePaintArray(t,e,r,n,i){const s=this.expression.evaluate({zoom:this.zoom},r,n,void 0,i),a=this.expression.evaluate({zoom:this.zoom+1},r,n,void 0,i);this._setPaintValue(t,e,s,a);}_setPaintValue(t,e,r,n){if(\"color\"===this.type){const i=ho(r),s=ho(n);for(let r=t;r<e;r++)this.paintVertexArray.emplace(r,i[0],i[1],s[0],s[1]);}else {for(let i=t;i<e;i++)this.paintVertexArray.emplace(i,r,n);this.maxValue=Math.max(this.maxValue,Math.abs(r),Math.abs(n));}}upload(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent));}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy();}setUniform(t,e,r,n,i){const s=this.useIntegerZoom?Math.floor(r.zoom):r.zoom,a=S(this.expression.interpolationFactor(s,this.zoom,this.zoom+1),0,1);e.set(t,i,a);}getBinding(t,e){return new so(t)}}class go{constructor(t,e,r,n,i,s,a){this.expression=t,this.type=r,this.useIntegerZoom=n,this.zoom=i,this.layerId=a,this.paintVertexAttributes=(\"array\"===r?Ka:Xa).members;for(let t=0;t<e.length;++t);this.zoomInPaintVertexArray=new s,this.zoomOutPaintVertexArray=new s;}populatePaintArray(t,e,r){const n=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(t),this.zoomOutPaintVertexArray.resize(t),this._setPaintValues(n,t,e.patterns&&e.patterns[this.layerId],r);}updatePaintArray(t,e,r,n,i,s){this._setPaintValues(t,e,r.patterns&&r.patterns[this.layerId],s);}_setPaintValues(t,e,r,n){if(!n||!r)return;const{min:i,mid:s,max:a}=r,o=n[i],l=n[s],u=n[a];if(o&&l&&u)for(let r=t;r<e;r++)this._setPaintValue(this.zoomInPaintVertexArray,r,l,o),this._setPaintValue(this.zoomOutPaintVertexArray,r,l,u);}_setPaintValue(t,e,r,n){t.emplace(e,r.tl[0],r.tl[1],r.br[0],r.br[1],n.tl[0],n.tl[1],n.br[0],n.br[1],r.pixelRatio,n.pixelRatio);}upload(t){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=t.createVertexBuffer(this.zoomInPaintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=t.createVertexBuffer(this.zoomOutPaintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent));}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy();}}class xo{constructor(t,e,r=(()=>!0)){this.binders={},this._buffers=[];const n=[];for(const i in t.paint._values){if(!r(i))continue;const s=t.paint.get(i);if(!(s instanceof Zs&&Bn(s.property.specification)))continue;const a=_o(i,t.type),o=s.value,l=s.property.specification.type,u=s.property.useIntegerZoom,c=s.property.specification[\"property-type\"],h=\"cross-faded\"===c||\"cross-faded-data-driven\"===c,p=\"line-dasharray\"===String(i)&&\"constant\"!==t.layout.get(\"line-cap\").value.kind;if(\"constant\"!==o.kind||p)if(\"source\"===o.kind||p||h){const r=So(i,l,\"source\");this.binders[i]=h?new go(o,a,l,u,e,r,t.id):new yo(o,a,l,r),n.push(`/a_${i}`);}else {const t=So(i,l,\"composite\");this.binders[i]=new mo(o,a,l,u,e,t),n.push(`/z_${i}`);}else this.binders[i]=h?new fo(o.value,a):new po(o.value,a,l),n.push(`/u_${i}`);}this.cacheKey=n.sort().join(\"\");}getMaxValue(t){const e=this.binders[t];return e instanceof yo||e instanceof mo?e.maxValue:0}populatePaintArrays(t,e,r,n,i,s){for(const a in this.binders){const o=this.binders[a];(o instanceof yo||o instanceof mo||o instanceof go)&&o.populatePaintArray(t,e,r,n,i,s);}}setConstantPatternPositions(t,e){for(const r in this.binders){const n=this.binders[r];n instanceof fo&&n.setConstantPatternPositions(t,e);}}updatePaintArrays(t,e,r,n,i,s){let a=!1;for(const o in t){const l=e.getPositions(o);for(const e of l){const l=r.feature(e.index);for(const r in this.binders){const u=this.binders[r];if((u instanceof yo||u instanceof mo||u instanceof go)&&!0===u.expression.isStateDependent){const c=n.paint.get(r);u.expression=c.value,u.updatePaintArray(e.start,e.end,l,t[o],i,s),a=!0;}}}}return a}defines(){const t=[];for(const e in this.binders){const r=this.binders[e];(r instanceof po||r instanceof fo)&&t.push(...r.uniformNames.map((t=>`#define HAS_UNIFORM_${t}`)));}return t}getBinderAttributes(){const t=[];for(const e in this.binders){const r=this.binders[e];if(r instanceof yo||r instanceof mo||r instanceof go)for(let e=0;e<r.paintVertexAttributes.length;e++)t.push(r.paintVertexAttributes[e].name);}return t}getBinderUniforms(){const t=[];for(const e in this.binders){const r=this.binders[e];if(r instanceof po||r instanceof fo||r instanceof mo)for(const e of r.uniformNames)t.push(e);}return t}getPaintVertexBuffers(){return this._buffers}getUniforms(t){const e=[];for(const r in this.binders){const n=this.binders[r];if(n instanceof po||n instanceof fo||n instanceof mo)for(const i of n.uniformNames)e.push({name:i,property:r,binding:n.getBinding(t,i)});}return e}setUniforms(t,e,r,n,i){for(const{name:e,property:s,binding:a}of r)this.binders[s].setUniform(t,a,i,n.get(s),e);}updatePaintBuffers(t){this._buffers=[];for(const e in this.binders){const r=this.binders[e];if(t&&r instanceof go){const e=2===t.fromScale?r.zoomInPaintVertexBuffer:r.zoomOutPaintVertexBuffer;e&&this._buffers.push(e);}else (r instanceof yo||r instanceof mo)&&r.paintVertexBuffer&&this._buffers.push(r.paintVertexBuffer);}}upload(t){for(const e in this.binders){const r=this.binders[e];(r instanceof yo||r instanceof mo||r instanceof go)&&r.upload(t);}this.updatePaintBuffers();}destroy(){for(const t in this.binders){const e=this.binders[t];(e instanceof yo||e instanceof mo||e instanceof go)&&e.destroy();}}}class vo{constructor(t,e,r=(()=>!0)){this.programConfigurations={};for(const n of t)this.programConfigurations[n.id]=new xo(n,e,r);this.needsUpload=!1,this._featureMap=new to,this._bufferOffset=0;}populatePaintArrays(t,e,r,n,i,s,a){for(const r in this.programConfigurations)this.programConfigurations[r].populatePaintArrays(t,e,n,i,s,a);void 0!==e.id&&this._featureMap.add(e.id,r,this._bufferOffset,t),this._bufferOffset=t,this.needsUpload=!0;}updatePaintArrays(t,e,r,n,i){for(const s of r)this.needsUpload=this.programConfigurations[s.id].updatePaintArrays(t,this._featureMap,e,s,n,i)||this.needsUpload;}get(t){return this.programConfigurations[t]}upload(t){if(this.needsUpload){for(const e in this.programConfigurations)this.programConfigurations[e].upload(t);this.needsUpload=!1;}}destroy(){for(const t in this.programConfigurations)this.programConfigurations[t].destroy();}}const bo={\"text-opacity\":[\"opacity\"],\"icon-opacity\":[\"opacity\"],\"text-color\":[\"fill_color\"],\"icon-color\":[\"fill_color\"],\"text-halo-color\":[\"halo_color\"],\"icon-halo-color\":[\"halo_color\"],\"text-halo-blur\":[\"halo_blur\"],\"icon-halo-blur\":[\"halo_blur\"],\"text-halo-width\":[\"halo_width\"],\"icon-halo-width\":[\"halo_width\"],\"line-gap-width\":[\"gapwidth\"],\"line-pattern\":[\"pattern_to\",\"pattern_from\",\"pixel_ratio_to\",\"pixel_ratio_from\"],\"fill-pattern\":[\"pattern_to\",\"pattern_from\",\"pixel_ratio_to\",\"pixel_ratio_from\"],\"fill-extrusion-pattern\":[\"pattern_to\",\"pattern_from\",\"pixel_ratio_to\",\"pixel_ratio_from\"],\"line-dasharray\":[\"dash_to\",\"dash_from\"]};function _o(t,e){return bo[t]||[t.replace(`${e}-`,\"\").replace(/-/g,\"_\")]}const wo={\"line-pattern\":{source:ha,composite:ha},\"fill-pattern\":{source:ha,composite:ha},\"fill-extrusion-pattern\":{source:ha,composite:ha},\"line-dasharray\":{source:pa,composite:pa}},Ao={color:{source:Ba,composite:ca},number:{source:ka,composite:Ba}};function So(t,e,r){const n=wo[t];return n&&n[r]||Ao[e][r]}ji(po,\"ConstantBinder\"),ji(fo,\"CrossFadedConstantBinder\"),ji(yo,\"SourceExpressionBinder\"),ji(go,\"CrossFadedCompositeBinder\"),ji(mo,\"CompositeExpressionBinder\"),ji(xo,\"ProgramConfiguration\",{omit:[\"_buffers\"]}),ji(vo,\"ProgramConfigurationSet\");const ko=\"-transition\";class Io extends Kt{constructor(t,e){if(super(),this.id=t.id,this.type=t.type,this._featureFilter={filter:()=>!0,needGeometry:!1,needFeature:!1},this._filterCompiled=!1,\"custom\"!==t.type&&(this.metadata=t.metadata,this.minzoom=t.minzoom,this.maxzoom=t.maxzoom,\"background\"!==t.type&&\"sky\"!==t.type&&(this.source=t.source,this.sourceLayer=t[\"source-layer\"],this.filter=t.filter),e.layout&&(this._unevaluatedLayout=new Gs(e.layout)),e.paint)){this._transitionablePaint=new Os(e.paint);for(const e in t.paint)this.setPaintProperty(e,t.paint[e],{validate:!1});for(const e in t.layout)this.setLayoutProperty(e,t.layout[e],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Xs(e.paint);}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(t){return \"visibility\"===t?this.visibility:this._unevaluatedLayout.getValue(t)}setLayoutProperty(t,e,r={}){null!=e&&this._validate(Di,`layers.${this.id}.layout.${t}`,t,e,r)||(\"visibility\"!==t?this._unevaluatedLayout.setValue(t,e):this.visibility=e);}getPaintProperty(t){return F(t,ko)?this._transitionablePaint.getTransition(t.slice(0,-ko.length)):this._transitionablePaint.getValue(t)}setPaintProperty(t,e,r={}){if(null!=e&&this._validate(Ci,`layers.${this.id}.paint.${t}`,t,e,r))return !1;if(F(t,ko))return this._transitionablePaint.setTransition(t.slice(0,-ko.length),e||void 0),!1;{const r=this._transitionablePaint._values[t],n=\"cross-faded-data-driven\"===r.property.specification[\"property-type\"],i=r.value.isDataDriven(),s=r.value;this._transitionablePaint.setValue(t,e),this._handleSpecialPaintPropertyUpdate(t);const a=this._transitionablePaint._values[t].value;return a.isDataDriven()||i||n||this._handleOverridablePaintPropertyUpdate(t,s,a)}}_handleSpecialPaintPropertyUpdate(t){}getProgramIds(){return null}getProgramConfiguration(t){return null}_handleOverridablePaintPropertyUpdate(t,e,r){return !1}isHidden(t){return !!(this.minzoom&&t<this.minzoom)||!!(this.maxzoom&&t>=this.maxzoom)||\"none\"===this.visibility}updateTransitions(t){this._transitioningPaint=this._transitionablePaint.transitioned(t,this._transitioningPaint);}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(t,e){t.getCrossfadeParameters&&(this._crossfadeParameters=t.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(t,void 0,e)),this.paint=this._transitioningPaint.possiblyEvaluate(t,void 0,e);}serialize(){const t={id:this.id,type:this.type,source:this.source,\"source-layer\":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(t.layout=t.layout||{},t.layout.visibility=this.visibility),R(t,((t,e)=>!(void 0===t||\"layout\"===e&&!Object.keys(t).length||\"paint\"===e&&!Object.keys(t).length)))}_validate(t,e,r,n,i={}){return (!i||!1!==i.validate)&&Fi(this,t.call(Pi,{key:e,layerType:this.type,objectKey:r,value:n,styleSpec:Ht,style:{glyphs:!0,sprite:!0}}))}is3D(){return !1}isSky(){return !1}isTileClipped(){return !1}hasOffscreenPass(){return !1}resize(){}isStateDependent(){for(const t in this.paint._values){const e=this.paint.get(t);if(e instanceof Zs&&Bn(e.property.specification)&&(\"source\"===e.value.kind||\"composite\"===e.value.kind)&&e.value.isStateDependent)return !0}return !1}compileFilter(){this._filterCompiled||(this._featureFilter=si(this.filter),this._filterCompiled=!0);}invalidateCompiledFilter(){this._filterCompiled=!1;}dynamicFilter(){return this._featureFilter.dynamicFilter}dynamicFilterNeedsFeature(){return this._featureFilter.needFeature}}const Mo=ia([{name:\"a_pos\",components:2,type:\"Int16\"}],4),zo=ia([{name:\"a_pos_3\",components:3,type:\"Int16\"},{name:\"a_pos_normal_3\",components:3,type:\"Int16\"}]);class To{constructor(t=[]){this.segments=t;}prepareSegment(t,e,r,n){let i=this.segments[this.segments.length-1];return t>To.MAX_VERTEX_ARRAY_LENGTH&&$(`Max vertices per segment is ${To.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${t}`),(!i||i.vertexLength+t>To.MAX_VERTEX_ARRAY_LENGTH||i.sortKey!==n)&&(i={vertexOffset:e.length,primitiveOffset:r.length,vertexLength:0,primitiveLength:0},void 0!==n&&(i.sortKey=n),this.segments.push(i)),i}get(){return this.segments}destroy(){for(const t of this.segments)for(const e in t.vaos)t.vaos[e].destroy();}static simpleSegment(t,e,r,n){return new To([{vertexOffset:t,primitiveOffset:e,vertexLength:r,primitiveLength:n,vaos:{},sortKey:0}])}}To.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,ji(To,\"SegmentVector\");var Bo=8192;class Eo{constructor(t,e){t&&(e?this.setSouthWest(t).setNorthEast(e):4===t.length?this.setSouthWest([t[0],t[1]]).setNorthEast([t[2],t[3]]):this.setSouthWest(t[0]).setNorthEast(t[1]));}setNorthEast(t){return this._ne=t instanceof Co?new Co(t.lng,t.lat):Co.convert(t),this}setSouthWest(t){return this._sw=t instanceof Co?new Co(t.lng,t.lat):Co.convert(t),this}extend(t){const e=this._sw,r=this._ne;let n,i;if(t instanceof Co)n=t,i=t;else {if(!(t instanceof Eo))return Array.isArray(t)?4===t.length||t.every(Array.isArray)?this.extend(Eo.convert(t)):this.extend(Co.convert(t)):\"object\"==typeof t&&null!==t&&t.hasOwnProperty(\"lat\")&&t.hasOwnProperty(\"lon\")?this.extend(Co.convert(t)):this;if(n=t._sw,i=t._ne,!n||!i)return this}return e||r?(e.lng=Math.min(n.lng,e.lng),e.lat=Math.min(n.lat,e.lat),r.lng=Math.max(i.lng,r.lng),r.lat=Math.max(i.lat,r.lat)):(this._sw=new Co(n.lng,n.lat),this._ne=new Co(i.lng,i.lat)),this}getCenter(){return new Co((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new Co(this.getWest(),this.getNorth())}getSouthEast(){return new Co(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return [this._sw.toArray(),this._ne.toArray()]}toString(){return `LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return !(this._sw&&this._ne)}contains(t){const{lng:e,lat:r}=Co.convert(t);let n=this._sw.lng<=e&&e<=this._ne.lng;return this._sw.lng>this._ne.lng&&(n=this._sw.lng>=e&&e>=this._ne.lng),this._sw.lat<=r&&r<=this._ne.lat&&n}static convert(t){return !t||t instanceof Eo?t:new Eo(t)}}const Po=6371008.8;class Co{constructor(t,e){if(isNaN(t)||isNaN(e))throw new Error(`Invalid LngLat object: (${t}, ${e})`);if(this.lng=+t,this.lat=+e,this.lat>90||this.lat<-90)throw new Error(\"Invalid LngLat latitude value: must be between -90 and 90\")}wrap(){return new Co(I(this.lng,-180,180),this.lat)}toArray(){return [this.lng,this.lat]}toString(){return `LngLat(${this.lng}, ${this.lat})`}distanceTo(t){const e=Math.PI/180,r=this.lat*e,n=t.lat*e,i=Math.sin(r)*Math.sin(n)+Math.cos(r)*Math.cos(n)*Math.cos((t.lng-this.lng)*e);return Po*Math.acos(Math.min(i,1))}toBounds(t=0){const e=360*t/40075017,r=e/Math.cos(Math.PI/180*this.lat);return new Eo(new Co(this.lng-r,this.lat-e),new Co(this.lng+r,this.lat+e))}static convert(t){if(t instanceof Co)return t;if(Array.isArray(t)&&(2===t.length||3===t.length))return new Co(Number(t[0]),Number(t[1]));if(!Array.isArray(t)&&\"object\"==typeof t&&null!==t)return new Co(Number(\"lng\"in t?t.lng:t.lon),Number(t.lat));throw new Error(\"`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]\")}}const Do=2*Math.PI*Po;function Vo(t){return Do*Math.cos(t*Math.PI/180)}function Fo(t){return (180+t)/360}function Lo(t){return (180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t*Math.PI/360)))/360}function Ro(t,e){return t/Vo(e)}function Uo(t){return 360*t-180}function jo(t){return 360/Math.PI*Math.atan(Math.exp((180-360*t)*Math.PI/180))-90}function $o(t,e){return t*Vo(jo(e))}const Oo=85.051129;function qo(t){return 1/Math.cos(t*Math.PI/180)}class No{constructor(t,e,r=0){this.x=+t,this.y=+e,this.z=+r;}static fromLngLat(t,e=0){const r=Co.convert(t);return new No(Fo(r.lng),Lo(r.lat),Ro(e,r.lat))}toLngLat(){return new Co(Uo(this.x),jo(this.y))}toAltitude(){return $o(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/Do*qo(jo(this.y))}}function Go(t,e,r,n,i,s,a,o,l){const u=(e+n)/2,c=(r+i)/2,h=new d(u,c);o(h),function(t,e,r,n,i,s){const a=r-i,o=n-s;return Math.abs((n-e)*a-(r-t)*o)/Math.hypot(a,o)}(h.x,h.y,s.x,s.y,a.x,a.y)>=l?(Go(t,e,r,u,c,s,h,o,l),Go(t,u,c,n,i,h,a,o,l)):t.push(a);}function Zo(t,e,r){let n=t[0],i=n.x,s=n.y;e(n);const a=[n];for(let o=1;o<t.length;o++){const l=t[o],{x:u,y:c}=l;e(l),Go(a,i,s,u,c,n,l,e,r),i=u,s=c,n=l;}return a}function Xo(t,e,r,n){if(n(e,r)){const i=e.add(r)._mult(.5);Xo(t,e,i,n),Xo(t,i,r,n);}else t.push(r);}function Ko(t,e){let r=t[0];const n=[r];for(let i=1;i<t.length;i++){const s=t[i];Xo(n,r,s,e),r=s;}return n}const Ho=Math.pow(2,14)-1,Yo=-Ho-1;function Wo(t,e){const r=Math.round(t.x*e),n=Math.round(t.y*e);return t.x=S(r,Yo,Ho),t.y=S(n,Yo,Ho),(r<t.x||r>t.x+1||n<t.y||n>t.y+1)&&$(\"Geometry exceeds allowed extent, reduce your vector tile buffer size\"),t}function Jo(t,e,r){const n=t.loadGeometry(),i=t.extent,s=Bo/i;if(e&&r&&r.projection.isReprojectedInTileSpace){const s=1<<e.z,{scale:a,x:o,y:l,projection:u}=r,c=t=>{const r=Uo((e.x+t.x/i)/s),n=jo((e.y+t.y/i)/s),c=u.project(r,n);t.x=(c.x*a-o)*i,t.y=(c.y*a-l)*i;};for(let e=0;e<n.length;e++)if(1!==t.type)n[e]=Zo(n[e],c,1);else {const t=[];for(const r of n[e])r.x<0||r.x>=i||r.y<0||r.y>=i||(c(r),t.push(r));n[e]=t;}}for(const t of n)for(const e of t)Wo(e,s);return n}function Qo(t,e){return {type:t.type,id:t.id,properties:t.properties,geometry:e?Jo(t):[]}}function tl(t,e,r,n,i){t.emplaceBack(2*e+(n+1)/2,2*r+(i+1)/2);}function el(t,e,r){const n=16384;t.emplaceBack(e.x,e.y,e.z,r[0]*n,r[1]*n,r[2]*n);}class rl{constructor(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((t=>t.id)),this.index=t.index,this.hasPattern=!1,this.projection=t.projection,this.layoutVertexArray=new aa,this.indexArray=new wa,this.segments=new To,this.programConfigurations=new vo(t.layers,t.zoom),this.stateDependentLayerIds=this.layers.filter((t=>t.isStateDependent())).map((t=>t.id));}populate(t,e,r,n){const i=this.layers[0],s=[];let a=null;\"circle\"===i.type&&(a=i.layout.get(\"circle-sort-key\"));for(const{feature:e,id:i,index:o,sourceLayerIndex:l}of t){const t=this.layers[0]._featureFilter.needGeometry,u=Qo(e,t);if(!this.layers[0]._featureFilter.filter(new Us(this.zoom),u,r))continue;const c=a?a.evaluate(u,{},r):void 0,h={id:i,properties:e.properties,type:e.type,sourceLayerIndex:l,index:o,geometry:t?u.geometry:Jo(e,r,n),patterns:{},sortKey:c};s.push(h);}a&&s.sort(((t,e)=>t.sortKey-e.sortKey));let o=null;\"globe\"===n.projection.name&&(this.globeExtVertexArray=new Za,o=n.projection);for(const n of s){const{geometry:i,index:s,sourceLayerIndex:a}=n,l=t[s].feature;this.addFeature(n,i,s,e.availableImages,r,o),e.featureIndex.insert(l,i,s,a,this.index);}}update(t,e,r,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,r,n);}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return !this.uploaded||this.programConfigurations.needsUpload}upload(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Mo.members),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.globeExtVertexArray&&(this.globeExtVertexBuffer=t.createVertexBuffer(this.globeExtVertexArray,zo.members))),this.programConfigurations.upload(t),this.uploaded=!0;}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy());}addFeature(t,e,r,n,i,s){for(const r of e)for(const e of r){const r=e.x,n=e.y;if(r<0||r>=Bo||n<0||n>=Bo)continue;if(s){const t=s.projectTilePoint(r,n,i),e=s.upVector(i,r,n),a=this.globeExtVertexArray;el(a,t,e),el(a,t,e),el(a,t,e),el(a,t,e);}const a=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,t.sortKey),o=a.vertexLength;tl(this.layoutVertexArray,r,n,-1,-1),tl(this.layoutVertexArray,r,n,1,-1),tl(this.layoutVertexArray,r,n,1,1),tl(this.layoutVertexArray,r,n,-1,1),this.indexArray.emplaceBack(o,o+1,o+2),this.indexArray.emplaceBack(o,o+2,o+3),a.vertexLength+=4,a.primitiveLength+=2;}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,r,{},n,i);}}function nl(t,e){for(let r=0;r<t.length;r++)if(pl(e,t[r]))return !0;for(let r=0;r<e.length;r++)if(pl(t,e[r]))return !0;return !!ol(t,e)}function il(t,e,r){return !!pl(t,e)||!!ul(e,t,r)}function sl(t,e){if(1===t.length)return hl(e,t[0]);for(let r=0;r<e.length;r++){const n=e[r];for(let e=0;e<n.length;e++)if(pl(t,n[e]))return !0}for(let r=0;r<t.length;r++)if(hl(e,t[r]))return !0;for(let r=0;r<e.length;r++)if(ol(t,e[r]))return !0;return !1}function al(t,e,r){if(t.length>1){if(ol(t,e))return !0;for(let n=0;n<e.length;n++)if(ul(e[n],t,r))return !0}for(let n=0;n<t.length;n++)if(ul(t[n],e,r))return !0;return !1}function ol(t,e){if(0===t.length||0===e.length)return !1;for(let r=0;r<t.length-1;r++){const n=t[r],i=t[r+1];for(let t=0;t<e.length-1;t++)if(ll(n,i,e[t],e[t+1]))return !0}return !1}function ll(t,e,r,n){return O(t,r,n)!==O(e,r,n)&&O(t,e,r)!==O(t,e,n)}function ul(t,e,r){const n=r*r;if(1===e.length)return t.distSqr(e[0])<n;for(let r=1;r<e.length;r++)if(cl(t,e[r-1],e[r])<n)return !0;return !1}function cl(t,e,r){const n=e.distSqr(r);if(0===n)return t.distSqr(e);const i=((t.x-e.x)*(r.x-e.x)+(t.y-e.y)*(r.y-e.y))/n;return t.distSqr(i<0?e:i>1?r:r.sub(e)._mult(i)._add(e))}function hl(t,e){let r,n,i,s=!1;for(let a=0;a<t.length;a++){r=t[a];for(let t=0,a=r.length-1;t<r.length;a=t++)n=r[t],i=r[a],n.y>e.y!=i.y>e.y&&e.x<(i.x-n.x)*(e.y-n.y)/(i.y-n.y)+n.x&&(s=!s);}return s}function pl(t,e){let r=!1;for(let n=0,i=t.length-1;n<t.length;i=n++){const s=t[n],a=t[i];s.y>e.y!=a.y>e.y&&e.x<(a.x-s.x)*(e.y-s.y)/(a.y-s.y)+s.x&&(r=!r);}return r}function fl(t,e,r,n,i){for(const s of t)if(e<=s.x&&r<=s.y&&n>=s.x&&i>=s.y)return !0;const s=[new d(e,r),new d(e,i),new d(n,i),new d(n,r)];if(t.length>2)for(const e of s)if(pl(t,e))return !0;for(let e=0;e<t.length-1;e++)if(dl(t[e],t[e+1],s))return !0;return !1}function dl(t,e,r){const n=r[0],i=r[2];if(t.x<n.x&&e.x<n.x||t.x>i.x&&e.x>i.x||t.y<n.y&&e.y<n.y||t.y>i.y&&e.y>i.y)return !1;const s=O(t,e,r[0]);return s!==O(t,e,r[1])||s!==O(t,e,r[2])||s!==O(t,e,r[3])}function yl(t,e,r){const n=e.paint.get(t).value;return \"constant\"===n.kind?n.value:r.programConfigurations.get(e.id).getMaxValue(t)}function ml(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function gl(t,e,r,n,i){if(!e[0]&&!e[1])return t;const s=d.convert(e)._mult(i);\"viewport\"===r&&s._rotate(-n);const a=[];for(let e=0;e<t.length;e++)a.push(t[e].sub(s));return a}function xl(t,e,r,n){const i=d.convert(t)._mult(n);return \"viewport\"===e&&i._rotate(-r),i}ji(rl,\"CircleBucket\",{omit:[\"layers\"]});const vl=new Qs({\"circle-sort-key\":new Hs(Ht.layout_circle[\"circle-sort-key\"])});var bl={paint:new Qs({\"circle-radius\":new Hs(Ht.paint_circle[\"circle-radius\"]),\"circle-color\":new Hs(Ht.paint_circle[\"circle-color\"]),\"circle-blur\":new Hs(Ht.paint_circle[\"circle-blur\"]),\"circle-opacity\":new Hs(Ht.paint_circle[\"circle-opacity\"]),\"circle-translate\":new Ks(Ht.paint_circle[\"circle-translate\"]),\"circle-translate-anchor\":new Ks(Ht.paint_circle[\"circle-translate-anchor\"]),\"circle-pitch-scale\":new Ks(Ht.paint_circle[\"circle-pitch-scale\"]),\"circle-pitch-alignment\":new Ks(Ht.paint_circle[\"circle-pitch-alignment\"]),\"circle-stroke-width\":new Hs(Ht.paint_circle[\"circle-stroke-width\"]),\"circle-stroke-color\":new Hs(Ht.paint_circle[\"circle-stroke-color\"]),\"circle-stroke-opacity\":new Hs(Ht.paint_circle[\"circle-stroke-opacity\"])}),layout:vl},_l=1e-6,wl=\"undefined\"!=typeof Float32Array?Float32Array:Array;function Al(){var t=new wl(9);return wl!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function Sl(t,e,r){var n=e[0],i=e[1],s=e[2],a=e[3],o=e[4],l=e[5],u=e[6],c=e[7],h=e[8],p=r[0],f=r[1],d=r[2],y=r[3],m=r[4],g=r[5],x=r[6],v=r[7],b=r[8];return t[0]=p*n+f*a+d*u,t[1]=p*i+f*o+d*c,t[2]=p*s+f*l+d*h,t[3]=y*n+m*a+g*u,t[4]=y*i+m*o+g*c,t[5]=y*s+m*l+g*h,t[6]=x*n+v*a+b*u,t[7]=x*i+v*o+b*c,t[8]=x*s+v*l+b*h,t}function kl(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Il(t,e){var r=e[0],n=e[1],i=e[2],s=e[3],a=e[4],o=e[5],l=e[6],u=e[7],c=e[8],h=e[9],p=e[10],f=e[11],d=e[12],y=e[13],m=e[14],g=e[15],x=r*o-n*a,v=r*l-i*a,b=r*u-s*a,_=n*l-i*o,w=n*u-s*o,A=i*u-s*l,S=c*y-h*d,k=c*m-p*d,I=c*g-f*d,M=h*m-p*y,z=h*g-f*y,T=p*g-f*m,B=x*T-v*z+b*M+_*I-w*k+A*S;return B?(t[0]=(o*T-l*z+u*M)*(B=1/B),t[1]=(i*z-n*T-s*M)*B,t[2]=(y*A-m*w+g*_)*B,t[3]=(p*w-h*A-f*_)*B,t[4]=(l*I-a*T-u*k)*B,t[5]=(r*T-i*I+s*k)*B,t[6]=(m*b-d*A-g*v)*B,t[7]=(c*A-p*b+f*v)*B,t[8]=(a*z-o*I+u*S)*B,t[9]=(n*I-r*z-s*S)*B,t[10]=(d*w-y*b+g*x)*B,t[11]=(h*b-c*w-f*x)*B,t[12]=(o*k-a*M-l*S)*B,t[13]=(r*M-n*k+i*S)*B,t[14]=(y*v-d*_-m*x)*B,t[15]=(c*_-h*v+p*x)*B,t):null}function Ml(t,e,r){var n=e[0],i=e[1],s=e[2],a=e[3],o=e[4],l=e[5],u=e[6],c=e[7],h=e[8],p=e[9],f=e[10],d=e[11],y=e[12],m=e[13],g=e[14],x=e[15],v=r[0],b=r[1],_=r[2],w=r[3];return t[0]=v*n+b*o+_*h+w*y,t[1]=v*i+b*l+_*p+w*m,t[2]=v*s+b*u+_*f+w*g,t[3]=v*a+b*c+_*d+w*x,t[4]=(v=r[4])*n+(b=r[5])*o+(_=r[6])*h+(w=r[7])*y,t[5]=v*i+b*l+_*p+w*m,t[6]=v*s+b*u+_*f+w*g,t[7]=v*a+b*c+_*d+w*x,t[8]=(v=r[8])*n+(b=r[9])*o+(_=r[10])*h+(w=r[11])*y,t[9]=v*i+b*l+_*p+w*m,t[10]=v*s+b*u+_*f+w*g,t[11]=v*a+b*c+_*d+w*x,t[12]=(v=r[12])*n+(b=r[13])*o+(_=r[14])*h+(w=r[15])*y,t[13]=v*i+b*l+_*p+w*m,t[14]=v*s+b*u+_*f+w*g,t[15]=v*a+b*c+_*d+w*x,t}function zl(t,e,r){var n,i,s,a,o,l,u,c,h,p,f,d,y=r[0],m=r[1],g=r[2];return e===t?(t[12]=e[0]*y+e[4]*m+e[8]*g+e[12],t[13]=e[1]*y+e[5]*m+e[9]*g+e[13],t[14]=e[2]*y+e[6]*m+e[10]*g+e[14],t[15]=e[3]*y+e[7]*m+e[11]*g+e[15]):(i=e[1],s=e[2],a=e[3],o=e[4],l=e[5],u=e[6],c=e[7],h=e[8],p=e[9],f=e[10],d=e[11],t[0]=n=e[0],t[1]=i,t[2]=s,t[3]=a,t[4]=o,t[5]=l,t[6]=u,t[7]=c,t[8]=h,t[9]=p,t[10]=f,t[11]=d,t[12]=n*y+o*m+h*g+e[12],t[13]=i*y+l*m+p*g+e[13],t[14]=s*y+u*m+f*g+e[14],t[15]=a*y+c*m+d*g+e[15]),t}function Tl(t,e,r){var n=r[0],i=r[1],s=r[2];return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*s,t[9]=e[9]*s,t[10]=e[10]*s,t[11]=e[11]*s,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function Bl(t,e,r){var n=Math.sin(r),i=Math.cos(r),s=e[4],a=e[5],o=e[6],l=e[7],u=e[8],c=e[9],h=e[10],p=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=s*i+u*n,t[5]=a*i+c*n,t[6]=o*i+h*n,t[7]=l*i+p*n,t[8]=u*i-s*n,t[9]=c*i-a*n,t[10]=h*i-o*n,t[11]=p*i-l*n,t}function El(t,e,r){var n=Math.sin(r),i=Math.cos(r),s=e[0],a=e[1],o=e[2],l=e[3],u=e[8],c=e[9],h=e[10],p=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=s*i-u*n,t[1]=a*i-c*n,t[2]=o*i-h*n,t[3]=l*i-p*n,t[8]=s*n+u*i,t[9]=a*n+c*i,t[10]=o*n+h*i,t[11]=l*n+p*i,t}function Pl(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Cl(t,e,r){var n,i,s,a=r[0],o=r[1],l=r[2],u=Math.hypot(a,o,l);return u<_l?null:(a*=u=1/u,o*=u,l*=u,n=Math.sin(e),i=Math.cos(e),t[0]=a*a*(s=1-i)+i,t[1]=o*a*s+l*n,t[2]=l*a*s-o*n,t[3]=0,t[4]=a*o*s-l*n,t[5]=o*o*s+i,t[6]=l*o*s+a*n,t[7]=0,t[8]=a*l*s+o*n,t[9]=o*l*s-a*n,t[10]=l*l*s+i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});var Dl=Ml;function Vl(){var t=new wl(3);return wl!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function Fl(t){var e=new wl(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function Ll(t){return Math.hypot(t[0],t[1],t[2])}function Rl(t,e,r){var n=new wl(3);return n[0]=t,n[1]=e,n[2]=r,n}function Ul(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t}function jl(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t}function $l(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t}function Ol(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t[2]=Math.min(e[2],r[2]),t}function ql(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t[2]=Math.max(e[2],r[2]),t}function Nl(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t}function Gl(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t}function Zl(t,e){var r=e[0],n=e[1],i=e[2],s=r*r+n*n+i*i;return s>0&&(s=1/Math.sqrt(s)),t[0]=e[0]*s,t[1]=e[1]*s,t[2]=e[2]*s,t}function Xl(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Kl(t,e,r){var n=e[0],i=e[1],s=e[2],a=r[0],o=r[1],l=r[2];return t[0]=i*l-s*o,t[1]=s*a-n*l,t[2]=n*o-i*a,t}function Hl(t,e,r){var n=e[0],i=e[1],s=e[2],a=r[3]*n+r[7]*i+r[11]*s+r[15];return t[0]=(r[0]*n+r[4]*i+r[8]*s+r[12])/(a=a||1),t[1]=(r[1]*n+r[5]*i+r[9]*s+r[13])/a,t[2]=(r[2]*n+r[6]*i+r[10]*s+r[14])/a,t}function Yl(t,e,r){var n=r[0],i=r[1],s=r[2],a=e[0],o=e[1],l=e[2],u=i*l-s*o,c=s*a-n*l,h=n*o-i*a,p=i*h-s*c,f=s*u-n*h,d=n*c-i*u,y=2*r[3];return c*=y,h*=y,f*=2,d*=2,t[0]=a+(u*=y)+(p*=2),t[1]=o+c+f,t[2]=l+h+d,t}var Wl,Jl=jl,Ql=$l,tu=Ll;function eu(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t}function ru(t,e){var r=e[0],n=e[1],i=e[2],s=e[3],a=r*r+n*n+i*i+s*s;return a>0&&(a=1/Math.sqrt(a)),t[0]=r*a,t[1]=n*a,t[2]=i*a,t[3]=s*a,t}function nu(t,e,r){var n=e[0],i=e[1],s=e[2],a=e[3];return t[0]=r[0]*n+r[4]*i+r[8]*s+r[12]*a,t[1]=r[1]*n+r[5]*i+r[9]*s+r[13]*a,t[2]=r[2]*n+r[6]*i+r[10]*s+r[14]*a,t[3]=r[3]*n+r[7]*i+r[11]*s+r[15]*a,t}function iu(){var t=new wl(4);return wl!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function su(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function au(t,e,r){r*=.5;var n=e[0],i=e[1],s=e[2],a=e[3],o=Math.sin(r),l=Math.cos(r);return t[0]=n*l+a*o,t[1]=i*l+s*o,t[2]=s*l-i*o,t[3]=a*l-n*o,t}function ou(t,e,r){r*=.5;var n=e[0],i=e[1],s=e[2],a=e[3],o=Math.sin(r),l=Math.cos(r);return t[0]=n*l-s*o,t[1]=i*l+a*o,t[2]=s*l+n*o,t[3]=a*l-i*o,t}Vl(),Wl=new wl(4),wl!=Float32Array&&(Wl[0]=0,Wl[1]=0,Wl[2]=0,Wl[3]=0);var lu=ru;Vl(),Rl(1,0,0),Rl(0,1,0),iu(),iu(),Al();class uu{constructor(t,e){this.pos=t,this.dir=e;}intersectsPlane(t,e,r){const n=Xl(e,this.dir);if(Math.abs(n)<1e-6)return !1;const i=((t[0]-this.pos[0])*e[0]+(t[1]-this.pos[1])*e[1]+(t[2]-this.pos[2])*e[2])/n;return r[0]=this.pos[0]+this.dir[0]*i,r[1]=this.pos[1]+this.dir[1]*i,r[2]=this.pos[2]+this.dir[2]*i,!0}closestPointOnSphere(t,e,r){if(function(t,e){var r=t[0],n=t[1],i=t[2],s=e[0],a=e[1],o=e[2];return Math.abs(r-s)<=_l*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(n-a)<=_l*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(i-o)<=_l*Math.max(1,Math.abs(i),Math.abs(o))}(this.pos,t)||0===e)return r[0]=r[1]=r[2]=0,!1;const[n,i,s]=this.dir,a=this.pos[0]-t[0],o=this.pos[1]-t[1],l=this.pos[2]-t[2],u=n*n+i*i+s*s,c=2*(a*n+o*i+l*s),h=c*c-4*u*(a*a+o*o+l*l-e*e);if(h<0){const t=Math.max(-c/2,0),u=a+n*t,h=o+i*t,p=l+s*t,f=Math.hypot(u,h,p);return r[0]=u*e/f,r[1]=h*e/f,r[2]=p*e/f,!1}{const t=(-c-Math.sqrt(h))/(2*u);if(t<0){const t=Math.hypot(a,o,l);return r[0]=a*e/t,r[1]=o*e/t,r[2]=l*e/t,!1}return r[0]=a+n*t,r[1]=o+i*t,r[2]=l+s*t,!0}}}class cu{constructor(t,e,r,n,i){this.TL=t,this.TR=e,this.BR=r,this.BL=n,this.horizon=i;}static fromInvProjectionMatrix(t,e,r){const n=[-1,1,1],i=[1,1,1],s=[1,-1,1],a=[-1,-1,1],o=Hl(n,n,t),l=Hl(i,i,t),u=Hl(s,s,t),c=Hl(a,a,t);return new cu(o,l,u,c,e/r)}}class hu{constructor(t,e){this.points=t,this.planes=e;}static fromInvProjectionMatrix(t,e,r,n){const i=Math.pow(2,r),s=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map((r=>{const s=nu([],r,t),a=1/s[3]/e*i;return function(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t[3]=e[3]*r[3],t}(s,s,[a,a,n?1/s[3]:a,a])})),a=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map((t=>{const e=Zl([],Kl([],Jl([],s[t[0]],s[t[1]]),Jl([],s[t[2]],s[t[1]]))),r=-Xl(e,s[t[1]]);return e.concat(r)}));return new hu(s,a)}}class pu{static fromPoints(t){const e=[1/0,1/0,1/0],r=[-1/0,-1/0,-1/0];for(const n of t)Ol(e,e,n),ql(r,r,n);return new pu(e,r)}static applyTransform(t,e){const r=t.getCorners();for(let t=0;t<r.length;++t)Hl(r[t],r[t],e);return pu.fromPoints(r)}constructor(t,e){this.min=t,this.max=e,this.center=Nl([],Ul([],this.min,this.max),.5);}quadrant(t){const e=[t%2==0,t<2],r=Fl(this.min),n=Fl(this.max);for(let t=0;t<e.length;t++)r[t]=e[t]?this.min[t]:this.center[t],n[t]=e[t]?this.center[t]:this.max[t];return n[2]=this.max[2],new pu(r,n)}distanceX(t){return Math.max(Math.min(this.max[0],t[0]),this.min[0])-t[0]}distanceY(t){return Math.max(Math.min(this.max[1],t[1]),this.min[1])-t[1]}distanceZ(t){return Math.max(Math.min(this.max[2],t[2]),this.min[2])-t[2]}getCorners(){const t=this.min,e=this.max;return [[t[0],t[1],t[2]],[e[0],t[1],t[2]],[e[0],e[1],t[2]],[t[0],e[1],t[2]],[t[0],t[1],e[2]],[e[0],t[1],e[2]],[e[0],e[1],e[2]],[t[0],e[1],e[2]]]}intersects(t){const e=this.getCorners();let r=!0;for(let n=0;n<t.planes.length;n++){const i=t.planes[n];let s=0;for(let t=0;t<e.length;t++)s+=Xl(i,e[t])+i[3]>=0;if(0===s)return 0;s!==e.length&&(r=!1);}if(r)return 2;for(let e=0;e<3;e++){let r=Number.MAX_VALUE,n=-Number.MAX_VALUE;for(let i=0;i<t.points.length;i++){const s=t.points[i][e]-this.min[e];r=Math.min(r,s),n=Math.max(n,s);}if(n<0||r>this.max[e]-this.min[e])return 0}return 1}}function fu(t,e,r,n,i,s,a,o,l){if(s&&t.queryGeometry.isAboveHorizon)return !1;s&&(l*=t.pixelToTileUnitsFactor);const u=t.tileID.canonical,c=r.projection.upVectorScale(u,r.center.lat,r.worldSize).metersToTile;for(const h of e)for(const e of h){const h=e.add(o),p=i&&r.elevation?r.elevation.exaggeration()*i.getElevationAt(h.x,h.y,!0):0,f=r.projection.projectTilePoint(h.x,h.y,u);if(p>0){const t=r.projection.upVector(u,h.x,h.y);f.x+=t[0]*c*p,f.y+=t[1]*c*p,f.z+=t[2]*c*p;}const d=s?h:du(f.x,f.y,f.z,n),y=s?t.tilespaceRays.map((t=>gu(t,p))):t.queryGeometry.screenGeometry,m=nu([],[f.x,f.y,f.z,1],n);if(!a&&s?l*=m[3]/r.cameraToCenterDistance:a&&!s&&(l*=r.cameraToCenterDistance/m[3]),s){const t=jo((e.y/Bo+u.y)/(1<<u.z));l/=r.projection.pixelsPerMeter(t,1)/Ro(1,t);}if(il(y,d,l))return !0}return !1}function du(t,e,r,n){const i=nu([],[t,e,r,1],n);return new d(i[0]/i[3],i[1]/i[3])}const yu=Rl(0,0,0),mu=Rl(0,0,1);function gu(t,e){const r=Vl();return yu[2]=e,t.intersectsPlane(yu,mu,r),new d(r[0],r[1])}class xu extends rl{}function vu(t,{width:e,height:r},n,i){if(i){if(i instanceof Uint8ClampedArray)i=new Uint8Array(i.buffer);else if(i.length!==e*r*n)throw new RangeError(\"mismatched image size\")}else i=new Uint8Array(e*r*n);return t.width=e,t.height=r,t.data=i,t}function bu(t,e,r){const{width:n,height:i}=e;n===t.width&&i===t.height||(_u(t,e,{x:0,y:0},{x:0,y:0},{width:Math.min(t.width,n),height:Math.min(t.height,i)},r),t.width=n,t.height=i,t.data=e.data);}function _u(t,e,r,n,i,s){if(0===i.width||0===i.height)return e;if(i.width>t.width||i.height>t.height||r.x>t.width-i.width||r.y>t.height-i.height)throw new RangeError(\"out of range source coordinates for image copy\");if(i.width>e.width||i.height>e.height||n.x>e.width-i.width||n.y>e.height-i.height)throw new RangeError(\"out of range destination coordinates for image copy\");const a=t.data,o=e.data;for(let l=0;l<i.height;l++){const u=((r.y+l)*t.width+r.x)*s,c=((n.y+l)*e.width+n.x)*s;for(let t=0;t<i.width*s;t++)o[c+t]=a[u+t];}return e}ji(xu,\"HeatmapBucket\",{omit:[\"layers\"]});class wu{constructor(t,e){vu(this,t,1,e);}resize(t){bu(this,new wu(t),1);}clone(){return new wu({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(t,e,r,n,i){_u(t,e,r,n,i,1);}}class Au{constructor(t,e){vu(this,t,4,e);}resize(t){bu(this,new Au(t),4);}replace(t,e){e?this.data.set(t):this.data=t instanceof Uint8ClampedArray?new Uint8Array(t.buffer):t;}clone(){return new Au({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(t,e,r,n,i){_u(t,e,r,n,i,4);}}ji(wu,\"AlphaImage\"),ji(Au,\"RGBAImage\");var Su={paint:new Qs({\"heatmap-radius\":new Hs(Ht.paint_heatmap[\"heatmap-radius\"]),\"heatmap-weight\":new Hs(Ht.paint_heatmap[\"heatmap-weight\"]),\"heatmap-intensity\":new Ks(Ht.paint_heatmap[\"heatmap-intensity\"]),\"heatmap-color\":new Js(Ht.paint_heatmap[\"heatmap-color\"]),\"heatmap-opacity\":new Ks(Ht.paint_heatmap[\"heatmap-opacity\"])})};function ku(t){const e={},r=t.resolution||256,n=t.clips?t.clips.length:1,i=t.image||new Au({width:r,height:n}),s=(r,n,s)=>{e[t.evaluationKey]=s;const a=t.expression.evaluate(e);i.data[r+n+0]=Math.floor(255*a.r/a.a),i.data[r+n+1]=Math.floor(255*a.g/a.a),i.data[r+n+2]=Math.floor(255*a.b/a.a),i.data[r+n+3]=Math.floor(255*a.a);};if(t.clips)for(let e=0,i=0;e<n;++e,i+=4*r)for(let n=0,a=0;n<r;n++,a+=4){const o=n/(r-1),{start:l,end:u}=t.clips[e];s(i,a,l*(1-o)+u*o);}else for(let t=0,e=0;t<r;t++,e+=4)s(0,e,t/(r-1));return i}var Iu={paint:new Qs({\"hillshade-illumination-direction\":new Ks(Ht.paint_hillshade[\"hillshade-illumination-direction\"]),\"hillshade-illumination-anchor\":new Ks(Ht.paint_hillshade[\"hillshade-illumination-anchor\"]),\"hillshade-exaggeration\":new Ks(Ht.paint_hillshade[\"hillshade-exaggeration\"]),\"hillshade-shadow-color\":new Ks(Ht.paint_hillshade[\"hillshade-shadow-color\"]),\"hillshade-highlight-color\":new Ks(Ht.paint_hillshade[\"hillshade-highlight-color\"]),\"hillshade-accent-color\":new Ks(Ht.paint_hillshade[\"hillshade-accent-color\"])})};const Mu=ia([{name:\"a_pos\",components:2,type:\"Int16\"}],4),{members:zu}=Mu;var Tu={exports:{}};function Bu(t,e,r){r=r||2;var n,i,s,a,o,l,u,c=e&&e.length,h=c?e[0]*r:t.length,p=Eu(t,0,h,r,!0),f=[];if(!p||p.next===p.prev)return f;if(c&&(p=function(t,e,r,n){var i,s,a,o=[];for(i=0,s=e.length;i<s;i++)(a=Eu(t,e[i]*n,i<s-1?e[i+1]*n:t.length,n,!1))===a.next&&(a.steiner=!0),o.push(Ou(a));for(o.sort(Ru),i=0;i<o.length;i++)r=Uu(o[i],r);return r}(t,e,p,r)),t.length>80*r){n=s=t[0],i=a=t[1];for(var d=r;d<h;d+=r)(o=t[d])<n&&(n=o),(l=t[d+1])<i&&(i=l),o>s&&(s=o),l>a&&(a=l);u=0!==(u=Math.max(s-n,a-i))?32767/u:0;}return Cu(p,f,r,n,i,u,0),f}function Eu(t,e,r,n,i){var s,a;if(i===ec(t,e,r,n)>0)for(s=e;s<r;s+=n)a=Ju(s,t[s],t[s+1],a);else for(s=r-n;s>=e;s-=n)a=Ju(s,t[s],t[s+1],a);return a&&Zu(a,a.next)&&(Qu(a),a=a.next),a}function Pu(t,e){if(!t)return t;e||(e=t);var r,n=t;do{if(r=!1,n.steiner||!Zu(n,n.next)&&0!==Gu(n.prev,n,n.next))n=n.next;else {if(Qu(n),(n=e=n.prev)===n.next)break;r=!0;}}while(r||n!==e);return e}function Cu(t,e,r,n,i,s,a){if(t){!a&&s&&function(t,e,r,n){var i=t;do{0===i.z&&(i.z=$u(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,function(t){var e,r,n,i,s,a,o,l,u=1;do{for(r=t,t=null,s=null,a=0;r;){for(a++,n=r,o=0,e=0;e<u&&(o++,n=n.nextZ);e++);for(l=u;o>0||l>0&&n;)0!==o&&(0===l||!n||r.z<=n.z)?(i=r,r=r.nextZ,o--):(i=n,n=n.nextZ,l--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;r=n;}s.nextZ=null,u*=2;}while(a>1)}(i);}(t,n,i,s);for(var o,l,u=t;t.prev!==t.next;)if(o=t.prev,l=t.next,s?Vu(t,n,i,s):Du(t))e.push(o.i/r|0),e.push(t.i/r|0),e.push(l.i/r|0),Qu(t),t=l.next,u=l.next;else if((t=l)===u){a?1===a?Cu(t=Fu(Pu(t),e,r),e,r,n,i,s,2):2===a&&Lu(t,e,r,n,i,s):Cu(Pu(t),e,r,n,i,s,1);break}}}function Du(t){var e=t.prev,r=t,n=t.next;if(Gu(e,r,n)>=0)return !1;for(var i=e.x,s=r.x,a=n.x,o=e.y,l=r.y,u=n.y,c=i<s?i<a?i:a:s<a?s:a,h=o<l?o<u?o:u:l<u?l:u,p=i>s?i>a?i:a:s>a?s:a,f=o>l?o>u?o:u:l>u?l:u,d=n.next;d!==e;){if(d.x>=c&&d.x<=p&&d.y>=h&&d.y<=f&&qu(i,o,s,l,a,u,d.x,d.y)&&Gu(d.prev,d,d.next)>=0)return !1;d=d.next;}return !0}function Vu(t,e,r,n){var i=t.prev,s=t,a=t.next;if(Gu(i,s,a)>=0)return !1;for(var o=i.x,l=s.x,u=a.x,c=i.y,h=s.y,p=a.y,f=o<l?o<u?o:u:l<u?l:u,d=c<h?c<p?c:p:h<p?h:p,y=o>l?o>u?o:u:l>u?l:u,m=c>h?c>p?c:p:h>p?h:p,g=$u(f,d,e,r,n),x=$u(y,m,e,r,n),v=t.prevZ,b=t.nextZ;v&&v.z>=g&&b&&b.z<=x;){if(v.x>=f&&v.x<=y&&v.y>=d&&v.y<=m&&v!==i&&v!==a&&qu(o,c,l,h,u,p,v.x,v.y)&&Gu(v.prev,v,v.next)>=0)return !1;if(v=v.prevZ,b.x>=f&&b.x<=y&&b.y>=d&&b.y<=m&&b!==i&&b!==a&&qu(o,c,l,h,u,p,b.x,b.y)&&Gu(b.prev,b,b.next)>=0)return !1;b=b.nextZ;}for(;v&&v.z>=g;){if(v.x>=f&&v.x<=y&&v.y>=d&&v.y<=m&&v!==i&&v!==a&&qu(o,c,l,h,u,p,v.x,v.y)&&Gu(v.prev,v,v.next)>=0)return !1;v=v.prevZ;}for(;b&&b.z<=x;){if(b.x>=f&&b.x<=y&&b.y>=d&&b.y<=m&&b!==i&&b!==a&&qu(o,c,l,h,u,p,b.x,b.y)&&Gu(b.prev,b,b.next)>=0)return !1;b=b.nextZ;}return !0}function Fu(t,e,r){var n=t;do{var i=n.prev,s=n.next.next;!Zu(i,s)&&Xu(i,n,n.next,s)&&Yu(i,s)&&Yu(s,i)&&(e.push(i.i/r|0),e.push(n.i/r|0),e.push(s.i/r|0),Qu(n),Qu(n.next),n=t=s),n=n.next;}while(n!==t);return Pu(n)}function Lu(t,e,r,n,i,s){var a=t;do{for(var o=a.next.next;o!==a.prev;){if(a.i!==o.i&&Nu(a,o)){var l=Wu(a,o);return a=Pu(a,a.next),l=Pu(l,l.next),Cu(a,e,r,n,i,s,0),void Cu(l,e,r,n,i,s,0)}o=o.next;}a=a.next;}while(a!==t)}function Ru(t,e){return t.x-e.x}function Uu(t,e){var r=function(t,e){var r,n=e,i=t.x,s=t.y,a=-1/0;do{if(s<=n.y&&s>=n.next.y&&n.next.y!==n.y){var o=n.x+(s-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(o<=i&&o>a&&(a=o,r=n.x<n.next.x?n:n.next,o===i))return r}n=n.next;}while(n!==e);if(!r)return null;var l,u=r,c=r.x,h=r.y,p=1/0;n=r;do{i>=n.x&&n.x>=c&&i!==n.x&&qu(s<h?i:a,s,c,h,s<h?a:i,s,n.x,n.y)&&(l=Math.abs(s-n.y)/(i-n.x),Yu(n,t)&&(l<p||l===p&&(n.x>r.x||n.x===r.x&&ju(r,n)))&&(r=n,p=l)),n=n.next;}while(n!==u);return r}(t,e);if(!r)return e;var n=Wu(r,t);return Pu(n,n.next),Pu(r,r.next)}function ju(t,e){return Gu(t.prev,t,e.prev)<0&&Gu(e.next,t,t.next)<0}function $u(t,e,r,n,i){return (t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-r)*i|0)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-n)*i|0)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function Ou(t){var e=t,r=t;do{(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next;}while(e!==t);return r}function qu(t,e,r,n,i,s,a,o){return (i-a)*(e-o)>=(t-a)*(s-o)&&(t-a)*(n-o)>=(r-a)*(e-o)&&(r-a)*(s-o)>=(i-a)*(n-o)}function Nu(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&Xu(r,r.next,t,e))return !0;r=r.next;}while(r!==t);return !1}(t,e)&&(Yu(t,e)&&Yu(e,t)&&function(t,e){var r=t,n=!1,i=(t.x+e.x)/2,s=(t.y+e.y)/2;do{r.y>s!=r.next.y>s&&r.next.y!==r.y&&i<(r.next.x-r.x)*(s-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;}while(r!==t);return n}(t,e)&&(Gu(t.prev,t,e.prev)||Gu(t,e.prev,e))||Zu(t,e)&&Gu(t.prev,t,t.next)>0&&Gu(e.prev,e,e.next)>0)}function Gu(t,e,r){return (e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function Zu(t,e){return t.x===e.x&&t.y===e.y}function Xu(t,e,r,n){var i=Hu(Gu(t,e,r)),s=Hu(Gu(t,e,n)),a=Hu(Gu(r,n,t)),o=Hu(Gu(r,n,e));return i!==s&&a!==o||!(0!==i||!Ku(t,r,e))||!(0!==s||!Ku(t,n,e))||!(0!==a||!Ku(r,t,n))||!(0!==o||!Ku(r,e,n))}function Ku(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function Hu(t){return t>0?1:t<0?-1:0}function Yu(t,e){return Gu(t.prev,t,t.next)<0?Gu(t,e,t.next)>=0&&Gu(t,t.prev,e)>=0:Gu(t,e,t.prev)<0||Gu(t,t.next,e)<0}function Wu(t,e){var r=new tc(t.i,t.x,t.y),n=new tc(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,s.next=n,n.prev=s,n}function Ju(t,e,r,n){var i=new tc(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function Qu(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ);}function tc(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1;}function ec(t,e,r,n){for(var i=0,s=e,a=r-n;s<r;s+=n)i+=(t[a]-t[s])*(t[s+1]+t[a+1]),a=s;return i}function rc(t,e,r,n,i){nc(t,e,r||0,n||t.length-1,i||sc);}function nc(t,e,r,n,i){for(;n>r;){if(n-r>600){var s=n-r+1,a=e-r+1,o=Math.log(s),l=.5*Math.exp(2*o/3),u=.5*Math.sqrt(o*l*(s-l)/s)*(a-s/2<0?-1:1);nc(t,e,Math.max(r,Math.floor(e-a*l/s+u)),Math.min(n,Math.floor(e+(s-a)*l/s+u)),i);}var c=t[e],h=r,p=n;for(ic(t,r,e),i(t[n],c)>0&&ic(t,r,n);h<p;){for(ic(t,h,p),h++,p--;i(t[h],c)<0;)h++;for(;i(t[p],c)>0;)p--;}0===i(t[r],c)?ic(t,r,p):ic(t,++p,n),p<=e&&(r=p+1),e<=p&&(n=p-1);}}function ic(t,e,r){var n=t[e];t[e]=t[r],t[r]=n;}function sc(t,e){return t<e?-1:t>e?1:0}function ac(t,e){const r=t.length;if(r<=1)return [t];const n=[];let i,s;for(let e=0;e<r;e++){const r=q(t[e]);0!==r&&(t[e].area=Math.abs(r),void 0===s&&(s=r<0),s===r<0?(i&&n.push(i),i=[t[e]]):i.push(t[e]));}if(i&&n.push(i),e>1)for(let t=0;t<n.length;t++)n[t].length<=e||(rc(n[t],e,1,n[t].length-1,oc),n[t]=n[t].slice(0,e));return n}function oc(t,e){return e.area-t.area}function lc(t,e,r){const n=r.patternDependencies;let i=!1;for(const r of e){const e=r.paint.get(`${t}-pattern`);e.isConstant()||(i=!0);const s=e.constantOr(null);s&&(i=!0,n[s.to]=!0,n[s.from]=!0);}return i}function uc(t,e,r,n,i){const s=i.patternDependencies;for(const a of e){const e=a.paint.get(`${t}-pattern`).value;if(\"constant\"!==e.kind){let t=e.evaluate({zoom:n-1},r,{},i.availableImages),o=e.evaluate({zoom:n},r,{},i.availableImages),l=e.evaluate({zoom:n+1},r,{},i.availableImages);t=t&&t.name?t.name:t,o=o&&o.name?o.name:o,l=l&&l.name?l.name:l,s[t]=!0,s[o]=!0,s[l]=!0,r.patterns[a.id]={min:t,mid:o,max:l};}}return r}Tu.exports=Bu,Tu.exports.default=Bu,Bu.deviation=function(t,e,r,n){var i=e&&e.length,s=Math.abs(ec(t,0,i?e[0]*r:t.length,r));if(i)for(var a=0,o=e.length;a<o;a++)s-=Math.abs(ec(t,e[a]*r,a<o-1?e[a+1]*r:t.length,r));var l=0;for(a=0;a<n.length;a+=3){var u=n[a]*r,c=n[a+1]*r,h=n[a+2]*r;l+=Math.abs((t[u]-t[h])*(t[c+1]-t[u+1])-(t[u]-t[c])*(t[h+1]-t[u+1]));}return 0===s&&0===l?0:Math.abs((l-s)/s)},Bu.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,i=0;i<t.length;i++){for(var s=0;s<t[i].length;s++)for(var a=0;a<e;a++)r.vertices.push(t[i][s][a]);i>0&&r.holes.push(n+=t[i-1].length);}return r};class cc{constructor(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((t=>t.id)),this.index=t.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new aa,this.indexArray=new wa,this.indexArray2=new za,this.programConfigurations=new vo(t.layers,t.zoom),this.segments=new To,this.segments2=new To,this.stateDependentLayerIds=this.layers.filter((t=>t.isStateDependent())).map((t=>t.id)),this.projection=t.projection;}populate(t,e,r,n){this.hasPattern=lc(\"fill\",this.layers,e);const i=this.layers[0].layout.get(\"fill-sort-key\"),s=[];for(const{feature:a,id:o,index:l,sourceLayerIndex:u}of t){const t=this.layers[0]._featureFilter.needGeometry,c=Qo(a,t);if(!this.layers[0]._featureFilter.filter(new Us(this.zoom),c,r))continue;const h=i?i.evaluate(c,{},r,e.availableImages):void 0,p={id:o,properties:a.properties,type:a.type,sourceLayerIndex:u,index:l,geometry:t?c.geometry:Jo(a,r,n),patterns:{},sortKey:h};s.push(p);}i&&s.sort(((t,e)=>t.sortKey-e.sortKey));for(const n of s){const{geometry:i,index:s,sourceLayerIndex:a}=n;if(this.hasPattern){const t=uc(\"fill\",this.layers,n,this.zoom,e);this.patternFeatures.push(t);}else this.addFeature(n,i,s,r,{},e.availableImages);e.featureIndex.insert(t[s].feature,i,s,a,this.index);}}update(t,e,r,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,r,n);}addFeatures(t,e,r,n,i){for(const t of this.patternFeatures)this.addFeature(t,t.geometry,t.index,e,r,n);}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return !this.uploaded||this.programConfigurations.needsUpload}upload(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,zu),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.indexBuffer2=t.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(t),this.uploaded=!0;}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy());}addFeature(t,e,r,n,i,s=[]){for(const t of ac(e,500)){let e=0;for(const r of t)e+=r.length;const r=this.segments.prepareSegment(e,this.layoutVertexArray,this.indexArray),n=r.vertexLength,i=[],s=[];for(const e of t){if(0===e.length)continue;e!==t[0]&&s.push(i.length/2);const r=this.segments2.prepareSegment(e.length,this.layoutVertexArray,this.indexArray2),n=r.vertexLength;this.layoutVertexArray.emplaceBack(e[0].x,e[0].y),this.indexArray2.emplaceBack(n+e.length-1,n),i.push(e[0].x),i.push(e[0].y);for(let t=1;t<e.length;t++)this.layoutVertexArray.emplaceBack(e[t].x,e[t].y),this.indexArray2.emplaceBack(n+t-1,n+t),i.push(e[t].x),i.push(e[t].y);r.vertexLength+=e.length,r.primitiveLength+=e.length;}const a=Tu.exports(i,s);for(let t=0;t<a.length;t+=3)this.indexArray.emplaceBack(n+a[t],n+a[t+1],n+a[t+2]);r.vertexLength+=e,r.primitiveLength+=a.length/3;}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,r,i,s,n);}}ji(cc,\"FillBucket\",{omit:[\"layers\",\"patternFeatures\"]});const hc=new Qs({\"fill-sort-key\":new Hs(Ht.layout_fill[\"fill-sort-key\"])});var pc={paint:new Qs({\"fill-antialias\":new Ks(Ht.paint_fill[\"fill-antialias\"]),\"fill-opacity\":new Hs(Ht.paint_fill[\"fill-opacity\"]),\"fill-color\":new Hs(Ht.paint_fill[\"fill-color\"]),\"fill-outline-color\":new Hs(Ht.paint_fill[\"fill-outline-color\"]),\"fill-translate\":new Ks(Ht.paint_fill[\"fill-translate\"]),\"fill-translate-anchor\":new Ks(Ht.paint_fill[\"fill-translate-anchor\"]),\"fill-pattern\":new Ys(Ht.paint_fill[\"fill-pattern\"])}),layout:hc};const fc=ia([{name:\"a_pos_normal_ed\",components:4,type:\"Int16\"}]),dc=ia([{name:\"a_centroid_pos\",components:2,type:\"Uint16\"}]),yc=ia([{name:\"a_pos_3\",components:3,type:\"Int16\"},{name:\"a_pos_normal_3\",components:3,type:\"Int16\"}]),{members:mc}=fc;var gc={},xc=d,vc=bc;function bc(t,e,r,n,i){this.properties={},this.extent=r,this.type=0,this._pbf=t,this._geometry=-1,this._keys=n,this._values=i,t.readFields(_c,this,e);}function _c(t,e,r){1==t?e.id=r.readVarint():2==t?function(t,e){for(var r=t.readVarint()+t.pos;t.pos<r;){var n=e._keys[t.readVarint()],i=e._values[t.readVarint()];e.properties[n]=i;}}(r,e):3==t?e.type=r.readVarint():4==t&&(e._geometry=r.pos);}function wc(t){for(var e,r,n=0,i=0,s=t.length,a=s-1;i<s;a=i++)n+=((r=t[a]).x-(e=t[i]).x)*(e.y+r.y);return n}bc.types=[\"Unknown\",\"Point\",\"LineString\",\"Polygon\"],bc.prototype.loadGeometry=function(){var t=this._pbf;t.pos=this._geometry;for(var e,r=t.readVarint()+t.pos,n=1,i=0,s=0,a=0,o=[];t.pos<r;){if(i<=0){var l=t.readVarint();n=7&l,i=l>>3;}if(i--,1===n||2===n)s+=t.readSVarint(),a+=t.readSVarint(),1===n&&(e&&o.push(e),e=[]),e.push(new xc(s,a));else {if(7!==n)throw new Error(\"unknown command \"+n);e&&e.push(e[0].clone());}}return e&&o.push(e),o},bc.prototype.bbox=function(){var t=this._pbf;t.pos=this._geometry;for(var e=t.readVarint()+t.pos,r=1,n=0,i=0,s=0,a=1/0,o=-1/0,l=1/0,u=-1/0;t.pos<e;){if(n<=0){var c=t.readVarint();r=7&c,n=c>>3;}if(n--,1===r||2===r)(i+=t.readSVarint())<a&&(a=i),i>o&&(o=i),(s+=t.readSVarint())<l&&(l=s),s>u&&(u=s);else if(7!==r)throw new Error(\"unknown command \"+r)}return [a,l,o,u]},bc.prototype.toGeoJSON=function(t,e,r){var n,i,s=this.extent*Math.pow(2,r),a=this.extent*t,o=this.extent*e,l=this.loadGeometry(),u=bc.types[this.type];function c(t){for(var e=0;e<t.length;e++){var r=t[e];t[e]=[360*(r.x+a)/s-180,360/Math.PI*Math.atan(Math.exp((180-360*(r.y+o)/s)*Math.PI/180))-90];}}switch(this.type){case 1:var h=[];for(n=0;n<l.length;n++)h[n]=l[n][0];c(l=h);break;case 2:for(n=0;n<l.length;n++)c(l[n]);break;case 3:for(l=function(t){var e=t.length;if(e<=1)return [t];for(var r,n,i=[],s=0;s<e;s++){var a=wc(t[s]);0!==a&&(void 0===n&&(n=a<0),n===a<0?(r&&i.push(r),r=[t[s]]):r.push(t[s]));}return r&&i.push(r),i}(l),n=0;n<l.length;n++)for(i=0;i<l[n].length;i++)c(l[n][i]);}1===l.length?l=l[0]:u=\"Multi\"+u;var p={type:\"Feature\",geometry:{type:u,coordinates:l},properties:this.properties};return \"id\"in this&&(p.id=this.id),p};var Ac=vc,Sc=kc;function kc(t,e){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=t,this._keys=[],this._values=[],this._features=[],t.readFields(Ic,this,e),this.length=this._features.length;}function Ic(t,e,r){15===t?e.version=r.readVarint():1===t?e.name=r.readString():5===t?e.extent=r.readVarint():2===t?e._features.push(r.pos):3===t?e._keys.push(r.readString()):4===t&&e._values.push(function(t){for(var e=null,r=t.readVarint()+t.pos;t.pos<r;){var n=t.readVarint()>>3;e=1===n?t.readString():2===n?t.readFloat():3===n?t.readDouble():4===n?t.readVarint64():5===n?t.readVarint():6===n?t.readSVarint():7===n?t.readBoolean():null;}return e}(r));}kc.prototype.feature=function(t){if(t<0||t>=this._features.length)throw new Error(\"feature index out of bounds\");this._pbf.pos=this._features[t];var e=this._pbf.readVarint()+this._pbf.pos;return new Ac(this._pbf,e,this.extent,this._keys,this._values)};var Mc=Sc;function zc(t,e,r){if(3===t){var n=new Mc(r,r.readVarint()+r.pos);n.length&&(e[n.name]=n);}}var Tc=gc.VectorTile=function(t,e){this.layers=t.readFields(zc,{},e);},Bc=gc.VectorTileFeature=vc;function Ec(t,e,r,n){const i=[],s=0===n?(t,e,r,n,i,s)=>{t.push(new d(s,r+(s-e)/(n-e)*(i-r)));}:(t,e,r,n,i,s)=>{t.push(new d(e+(s-r)/(i-r)*(n-e),s));};for(const a of t){const t=[];for(const i of a){if(i.length<=2)continue;const a=[];for(let t=0;t<i.length-1;t++){const o=i[t].x,l=i[t].y,u=i[t+1].x,c=i[t+1].y,h=0===n?o:l,p=0===n?u:c;h<e?p>e&&s(a,o,l,u,c,e):h>r?p<r&&s(a,o,l,u,c,r):a.push(i[t]),p<e&&h>=e&&s(a,o,l,u,c,e),p>r&&h<=r&&s(a,o,l,u,c,r);}let o=i[i.length-1];const l=0===n?o.x:o.y;l>=e&&l<=r&&a.push(o),a.length&&(o=a[a.length-1],a[0].x===o.x&&a[0].y===o.y||a.push(a[0]),t.push(a));}t.length&&i.push(t);}return i}gc.VectorTileLayer=Sc;const Pc=Bc.types,Cc=Math.pow(2,13);function Dc(t,e,r,n,i,s,a,o){t.emplaceBack((e<<1)+a,(r<<1)+s,(Math.floor(n*Cc)<<1)+i,Math.round(o));}function Vc(t,e,r){const n=16384;t.emplaceBack(e.x,e.y,e.z,r[0]*n,r[1]*n,r[2]*n);}class Fc{constructor(){this.acc=new d(0,0),this.polyCount=[];}startRing(t){this.currentPolyCount={edges:0,top:0},this.polyCount.push(this.currentPolyCount),this.min||(this.min=new d(t.x,t.y),this.max=new d(t.x,t.y));}append(t,e){this.currentPolyCount.edges++,this.acc._add(t);const r=this.min,n=this.max;t.x<r.x?r.x=t.x:t.x>n.x&&(n.x=t.x),t.y<r.y?r.y=t.y:t.y>n.y&&(n.y=t.y),((0===t.x||t.x===Bo)&&t.x===e.x)!=((0===t.y||t.y===Bo)&&t.y===e.y)&&this.processBorderOverlap(t,e),e.x<0!=t.x<0&&this.addBorderIntersection(0,Ir(e.y,t.y,(0-e.x)/(t.x-e.x))),e.x>Bo!=t.x>Bo&&this.addBorderIntersection(1,Ir(e.y,t.y,(Bo-e.x)/(t.x-e.x))),e.y<0!=t.y<0&&this.addBorderIntersection(2,Ir(e.x,t.x,(0-e.y)/(t.y-e.y))),e.y>Bo!=t.y>Bo&&this.addBorderIntersection(3,Ir(e.x,t.x,(Bo-e.y)/(t.y-e.y)));}addBorderIntersection(t,e){this.borders||(this.borders=[[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE]]);const r=this.borders[t];e<r[0]&&(r[0]=e),e>r[1]&&(r[1]=e);}processBorderOverlap(t,e){if(t.x===e.x){if(t.y===e.y)return;const r=0===t.x?0:1;this.addBorderIntersection(r,e.y),this.addBorderIntersection(r,t.y);}else {const r=0===t.y?2:3;this.addBorderIntersection(r,e.x),this.addBorderIntersection(r,t.x);}}centroid(){const t=this.polyCount.reduce(((t,e)=>t+e.edges),0);return 0!==t?this.acc.div(t)._round():new d(0,0)}span(){return new d(this.max.x-this.min.x,this.max.y-this.min.y)}intersectsCount(){return this.borders.reduce(((t,e)=>t+ +(e[0]!==Number.MAX_VALUE)),0)}}class Lc{constructor(t){this.zoom=t.zoom,this.canonical=t.canonical,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((t=>t.id)),this.index=t.index,this.hasPattern=!1,this.edgeRadius=0,this.projection=t.projection,this.layoutVertexArray=new la,this.centroidVertexArray=new Na,this.indexArray=new wa,this.programConfigurations=new vo(t.layers,t.zoom),this.segments=new To,this.stateDependentLayerIds=this.layers.filter((t=>t.isStateDependent())).map((t=>t.id)),this.enableTerrain=t.enableTerrain;}populate(t,e,r,n){this.features=[],this.hasPattern=lc(\"fill-extrusion\",this.layers,e),this.featuresOnBorder=[],this.borders=[[],[],[],[]],this.borderDoneWithNeighborZ=[-1,-1,-1,-1],this.tileToMeter=function(t){const e=Math.exp(Math.PI*(1-t.y/(1<<t.z)*2));return 80150034*e/(e*e+1)/Bo/(1<<t.z)}(r),this.edgeRadius=this.layers[0].layout.get(\"fill-extrusion-edge-radius\")/this.tileToMeter;for(const{feature:i,id:s,index:a,sourceLayerIndex:o}of t){const t=this.layers[0]._featureFilter.needGeometry,l=Qo(i,t);if(!this.layers[0]._featureFilter.filter(new Us(this.zoom),l,r))continue;const u={id:s,sourceLayerIndex:o,index:a,geometry:t?l.geometry:Jo(i,r,n),properties:i.properties,type:i.type,patterns:{}},c=this.layoutVertexArray.length;this.hasPattern?this.features.push(uc(\"fill-extrusion\",this.layers,u,this.zoom,e)):this.addFeature(u,u.geometry,a,r,{},e.availableImages,n),e.featureIndex.insert(i,u.geometry,a,o,this.index,c);}this.sortBorders();}addFeatures(t,e,r,n,i){for(const t of this.features){const{geometry:s}=t;this.addFeature(t,s,t.index,e,r,n,i);}this.sortBorders();}update(t,e,r,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,r,n);}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return !this.uploaded||this.programConfigurations.needsUpload}upload(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,mc),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.layoutVertexExtArray&&(this.layoutVertexExtBuffer=t.createVertexBuffer(this.layoutVertexExtArray,yc.members,!0))),this.programConfigurations.upload(t),this.uploaded=!0;}uploadCentroid(t){0!==this.centroidVertexArray.length&&(this.centroidVertexBuffer?this.needsCentroidUpdate&&this.centroidVertexBuffer.updateData(this.centroidVertexArray):this.centroidVertexBuffer=t.createVertexBuffer(this.centroidVertexArray,dc.members,!0),this.needsCentroidUpdate=!1);}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.centroidVertexBuffer&&this.centroidVertexBuffer.destroy(),this.layoutVertexExtBuffer&&this.layoutVertexExtBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy());}addFeature(t,e,r,n,i,s,a){const o=[new d(0,0),new d(Bo,Bo)],l=a.projection,u=\"globe\"===l.name,c=this.enableTerrain&&!u?new Fc:null,h=\"Polygon\"===Pc[t.type];u&&!this.layoutVertexExtArray&&(this.layoutVertexExtArray=new Pa);const p=ac(e,500);for(let t=p.length-1;t>=0;t--){const e=p[t];(0===e.length||(f=e[0]).every((t=>t.x<=0))||f.every((t=>t.x>=Bo))||f.every((t=>t.y<=0))||f.every((t=>t.y>=Bo)))&&p.splice(t,1);}var f;let y;if(u)y=Gc(p,o,n);else {y=[];for(const t of p)y.push({polygon:t,bounds:o});}const m=h?this.edgeRadius:0;for(const{polygon:t,bounds:e}of y){let r=0,i=0;for(const e of t)h&&!e[0].equals(e[e.length-1])&&e.push(e[0]),i+=h?e.length-1:e.length;const s=this.segments.prepareSegment((h?5:4)*i,this.layoutVertexArray,this.indexArray);if(h){const e=[],i=[];r=s.vertexLength;for(const r of t){let a,o;r.length&&r!==t[0]&&i.push(e.length/2),a=r[1].sub(r[0])._perp()._unit();for(let t=1;t<r.length;t++){const i=r[t],c=r[t===r.length-1?1:t+1];let{x:h,y:p}=i;if(m){o=c.sub(i)._perp()._unit();const t=a.add(o)._unit(),e=m*Math.min(4,1/(a.x*t.x+a.y*t.y));h+=e*t.x,p+=e*t.y,a=o;}Dc(this.layoutVertexArray,h,p,0,0,1,1,0),s.vertexLength++,e.push(i.x,i.y),u&&Vc(this.layoutVertexExtArray,l.projectTilePoint(h,p,n),l.upVector(n,h,p));}}const a=Tu.exports(e,i);for(let t=0;t<a.length;t+=3)this.indexArray.emplaceBack(r+a[t],r+a[t+2],r+a[t+1]),s.primitiveLength++;}for(const i of t){c&&i.length&&c.startRing(i[0]);let t,a,o,p=i.length>4&&Oc(i[i.length-2],i[0],i[1]),f=m?Uc(i[i.length-2],i[0],i[1],m):0;a=i[1].sub(i[0])._perp()._unit();let d=!0;for(let y=1,g=0;y<i.length;y++){let x=i[y-1],v=i[y];const b=i[y===i.length-1?1:y+1];if(c&&h&&c.currentPolyCount.top++,$c(v,x,e)){m&&(a=b.sub(v)._perp()._unit(),d=!d);continue}c&&c.append(v,x);const _=v.sub(x)._perp(),w=_.x/(Math.abs(_.x)+Math.abs(_.y)),A=_.y>0?1:0,S=x.dist(v);if(g+S>32768&&(g=0),m){o=b.sub(v)._perp()._unit();let t=jc(x,v,b,Rc(a,o),m);isNaN(t)&&(t=0);const e=v.sub(x)._unit();x=x.add(e.mult(f))._round(),v=v.add(e.mult(-t))._round(),f=t,a=o;}const k=s.vertexLength,I=i.length>4&&Oc(x,v,b);let M=qc(g,p,d);if(Dc(this.layoutVertexArray,x.x,x.y,w,A,0,0,M),Dc(this.layoutVertexArray,x.x,x.y,w,A,0,1,M),g+=S,M=qc(g,I,!d),p=I,Dc(this.layoutVertexArray,v.x,v.y,w,A,0,0,M),Dc(this.layoutVertexArray,v.x,v.y,w,A,0,1,M),s.vertexLength+=4,this.indexArray.emplaceBack(k+0,k+1,k+2),this.indexArray.emplaceBack(k+1,k+3,k+2),s.primitiveLength+=2,m){const n=r+(1===y?i.length-2:y-2),a=1===y?r:n+1;if(this.indexArray.emplaceBack(k+1,n,k+3),this.indexArray.emplaceBack(n,a,k+3),s.primitiveLength+=2,void 0===t&&(t=k),!$c(b,i[y],e)){const e=y===i.length-1?t:s.vertexLength;this.indexArray.emplaceBack(k+2,k+3,e),this.indexArray.emplaceBack(k+3,e+1,e),this.indexArray.emplaceBack(k+3,a,e+1),s.primitiveLength+=3;}d=!d;}if(u){const t=this.layoutVertexExtArray,e=l.projectTilePoint(x.x,x.y,n),r=l.projectTilePoint(v.x,v.y,n),i=l.upVector(n,x.x,x.y),s=l.upVector(n,v.x,v.y);Vc(t,e,i),Vc(t,e,i),Vc(t,r,s),Vc(t,r,s);}}h&&(r+=i.length-1);}}if(c&&c.polyCount.length>0){if(c.borders){c.vertexArrayOffset=this.centroidVertexArray.length;const t=c.borders,e=this.featuresOnBorder.push(c)-1;for(let r=0;r<4;r++)t[r][0]!==Number.MAX_VALUE&&this.borders[r].push(e);}this.encodeCentroid(c.borders?void 0:c.centroid(),c);}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,r,i,s,n);}sortBorders(){for(let t=0;t<4;t++)this.borders[t].sort(((e,r)=>this.featuresOnBorder[e].borders[t][0]-this.featuresOnBorder[r].borders[t][0]));}encodeCentroid(t,e,r=!0){let n,i;if(t)if(0!==t.y){const r=e.span()._mult(this.tileToMeter);n=(Math.max(t.x,1)<<3)+Math.min(7,Math.round(r.x/10)),i=(Math.max(t.y,1)<<3)+Math.min(7,Math.round(r.y/10));}else n=Math.ceil(7*(t.x+450)),i=0;else n=0,i=+r;let s=r?this.centroidVertexArray.length:e.vertexArrayOffset;for(const t of e.polyCount){r&&this.centroidVertexArray.resize(this.centroidVertexArray.length+4*t.edges+t.top);for(let e=0;e<t.top;e++)this.centroidVertexArray.emplace(s++,n,i);for(let e=0;e<2*t.edges;e++)this.centroidVertexArray.emplace(s++,0,i),this.centroidVertexArray.emplace(s++,n,i);}}}function Rc(t,e){const r=t.add(e)._unit();return t.x*r.x+t.y*r.y}function Uc(t,e,r,n){const i=e.sub(t)._perp()._unit(),s=r.sub(e)._perp()._unit();return jc(t,e,r,Rc(i,s),n)}function jc(t,e,r,n,i){const s=Math.sqrt(1-n*n);return Math.min(t.dist(e)/3,e.dist(r)/3,i*s/n)}function $c(t,e,r){return t.x<r[0].x&&e.x<r[0].x||t.x>r[1].x&&e.x>r[1].x||t.y<r[0].y&&e.y<r[0].y||t.y>r[1].y&&e.y>r[1].y}function Oc(t,e,r){if(t.x<0||t.x>=Bo||e.x<0||e.x>=Bo||r.x<0||r.x>=Bo)return !1;const n=r.sub(e),i=n.perp(),s=t.sub(e);return (n.x*s.x+n.y*s.y)/Math.sqrt((n.x*n.x+n.y*n.y)*(s.x*s.x+s.y*s.y))>-.866&&i.x*s.x+i.y*s.y<0}function qc(t,e,r){const n=e?2|t:-3&t;return r?1|n:-2&n}function Nc(){const t=Math.PI/32,e=Math.tan(t),r=Po;return r*Math.sqrt(1+2*e*e)-r}function Gc(t,e,r){const n=1<<r.z,i=Uo(r.x/n),s=Uo((r.x+1)/n),a=jo(r.y/n),o=jo((r.y+1)/n);return function(t,e,r,n,i=0,s){const a=[];if(!t.length||!r||!n)return a;const o=(t,e)=>{for(const r of t)a.push({polygon:r,bounds:e});},l=Math.ceil(Math.log2(r)),u=Math.ceil(Math.log2(n)),c=l-u,h=[];for(let t=0;t<Math.abs(c);t++)h.push(c>0?0:1);for(let t=0;t<Math.min(l,u);t++)h.push(0),h.push(1);let p=t;if(p=Ec(p,e[0].y-i,e[1].y+i,1),p=Ec(p,e[0].x-i,e[1].x+i,0),!p.length)return a;const f=[];for(h.length?f.push({polygons:p,bounds:e,depth:0}):o(p,e);f.length;){const t=f.pop(),e=t.depth,r=h[e],n=t.bounds[0],a=t.bounds[1],l=0===r?n.x:n.y,u=0===r?a.x:a.y,c=s?s(r,l,u):.5*(l+u),p=Ec(t.polygons,l-i,c+i,r),y=Ec(t.polygons,c-i,u+i,r);if(p.length){const t=[n,new d(0===r?c:a.x,1===r?c:a.y)];h.length>e+1?f.push({polygons:p,bounds:t,depth:e+1}):o(p,t);}if(y.length){const t=[new d(0===r?c:n.x,1===r?c:n.y),a];h.length>e+1?f.push({polygons:y,bounds:t,depth:e+1}):o(y,t);}}return a}(t,e,Math.ceil((s-i)/11.25),Math.ceil((a-o)/11.25),1,((t,e,i)=>{if(0===t)return .5*(e+i);{const t=jo((r.y+e/Bo)/n);return (Lo(.5*(jo((r.y+i/Bo)/n)+t))*n-r.y)*Bo}}))}ji(Lc,\"FillExtrusionBucket\",{omit:[\"layers\",\"features\"]}),ji(Fc,\"PartMetadata\");const Zc=new Qs({\"fill-extrusion-edge-radius\":new Ks(Ht[\"layout_fill-extrusion\"][\"fill-extrusion-edge-radius\"])});var Xc={paint:new Qs({\"fill-extrusion-opacity\":new Ks(Ht[\"paint_fill-extrusion\"][\"fill-extrusion-opacity\"]),\"fill-extrusion-color\":new Hs(Ht[\"paint_fill-extrusion\"][\"fill-extrusion-color\"]),\"fill-extrusion-translate\":new Ks(Ht[\"paint_fill-extrusion\"][\"fill-extrusion-translate\"]),\"fill-extrusion-translate-anchor\":new Ks(Ht[\"paint_fill-extrusion\"][\"fill-extrusion-translate-anchor\"]),\"fill-extrusion-pattern\":new Ys(Ht[\"paint_fill-extrusion\"][\"fill-extrusion-pattern\"]),\"fill-extrusion-height\":new Hs(Ht[\"paint_fill-extrusion\"][\"fill-extrusion-height\"]),\"fill-extrusion-base\":new Hs(Ht[\"paint_fill-extrusion\"][\"fill-extrusion-base\"]),\"fill-extrusion-vertical-gradient\":new Ks(Ht[\"paint_fill-extrusion\"][\"fill-extrusion-vertical-gradient\"]),\"fill-extrusion-ambient-occlusion-intensity\":new Ks(Ht[\"paint_fill-extrusion\"][\"fill-extrusion-ambient-occlusion-intensity\"]),\"fill-extrusion-ambient-occlusion-radius\":new Ks(Ht[\"paint_fill-extrusion\"][\"fill-extrusion-ambient-occlusion-radius\"])}),layout:Zc};function Kc(t,e,r){var n=2*Math.PI*6378137/256/Math.pow(2,r);return [t*n-2*Math.PI*6378137/2,e*n-2*Math.PI*6378137/2]}class Hc{constructor(t,e,r){this.z=t,this.x=e,this.y=r,this.key=Jc(0,t,t,e,r);}equals(t){return this.z===t.z&&this.x===t.x&&this.y===t.y}url(t,e){const r=function(t,e,r){var n=Kc(256*t,256*(e=Math.pow(2,r)-e-1),r),i=Kc(256*(t+1),256*(e+1),r);return n[0]+\",\"+n[1]+\",\"+i[0]+\",\"+i[1]}(this.x,this.y,this.z),n=function(t,e,r){let n,i=\"\";for(let s=t;s>0;s--)n=1<<s-1,i+=(e&n?1:0)+(r&n?2:0);return i}(this.z,this.x,this.y);return t[(this.x+this.y)%t.length].replace(\"{prefix}\",(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(\"tms\"===e?Math.pow(2,this.z)-this.y-1:this.y)).replace(\"{quadkey}\",n).replace(\"{bbox-epsg-3857}\",r)}toString(){return `${this.z}/${this.x}/${this.y}`}}class Yc{constructor(t,e){this.wrap=t,this.canonical=e,this.key=Jc(t,e.z,e.z,e.x,e.y);}}class Wc{constructor(t,e,r,n,i){this.overscaledZ=t,this.wrap=e,this.canonical=new Hc(r,+n,+i),this.key=0===e&&t===r?this.canonical.key:Jc(e,t,r,n,i);}equals(t){return this.overscaledZ===t.overscaledZ&&this.wrap===t.wrap&&this.canonical.equals(t.canonical)}scaledTo(t){const e=this.canonical.z-t;return t>this.canonical.z?new Wc(t,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Wc(t,this.wrap,t,this.canonical.x>>e,this.canonical.y>>e)}calculateScaledKey(t,e=!0){if(this.overscaledZ===t&&e)return this.key;if(t>this.canonical.z)return Jc(this.wrap*+e,t,this.canonical.z,this.canonical.x,this.canonical.y);{const r=this.canonical.z-t;return Jc(this.wrap*+e,t,t,this.canonical.x>>r,this.canonical.y>>r)}}isChildOf(t){if(t.wrap!==this.wrap)return !1;const e=this.canonical.z-t.canonical.z;return 0===t.overscaledZ||t.overscaledZ<this.overscaledZ&&t.canonical.x===this.canonical.x>>e&&t.canonical.y===this.canonical.y>>e}children(t){if(this.overscaledZ>=t)return [new Wc(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const e=this.canonical.z+1,r=2*this.canonical.x,n=2*this.canonical.y;return [new Wc(e,this.wrap,e,r,n),new Wc(e,this.wrap,e,r+1,n),new Wc(e,this.wrap,e,r,n+1),new Wc(e,this.wrap,e,r+1,n+1)]}isLessThan(t){return this.wrap<t.wrap||!(this.wrap>t.wrap)&&(this.overscaledZ<t.overscaledZ||!(this.overscaledZ>t.overscaledZ)&&(this.canonical.x<t.canonical.x||!(this.canonical.x>t.canonical.x)&&this.canonical.y<t.canonical.y))}wrapped(){return new Wc(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(t){return new Wc(this.overscaledZ,t,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new Yc(this.wrap,this.canonical)}toString(){return `${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}}function Jc(t,e,r,n,i){const s=1<<Math.min(r,22);let a=s*(i%s)+n%s;return t&&r<22&&(a+=s*s*((t<0?-2*t-1:2*t)%(1<<2*(22-r)))),16*(32*a+r)+(e-r)}ji(Hc,\"CanonicalTileID\"),ji(Wc,\"OverscaledTileID\",{omit:[\"projMatrix\"]});class Qc extends d{constructor(t,e,r){super(t,e),this.z=r;}}function th(t,e){return t.x*e.x+t.y*e.y}function eh(t,e){if(1===t.length){let r=0;const n=e[r++];let i;for(;!i||n.equals(i);)if(i=e[r++],!i)return 1/0;for(;r<e.length;r++){const s=e[r],a=t[0],o=i.sub(n),l=s.sub(n),u=a.sub(n),c=th(o,o),h=th(o,l),p=th(l,l),f=th(u,o),d=th(u,l),y=c*p-h*h,m=(p*f-h*d)/y,g=(c*d-h*f)/y,x=n.z*(1-m-g)+i.z*m+s.z*g;if(isFinite(x))return x}return 1/0}{let t=1/0;for(const r of e)t=Math.min(t,r.z);return t}}function rh(t,e,r,n,i,s,a,o){const l=a*i.getElevationAt(t,e,!0,!0),u=0!==s[0],c=u?0===s[1]?a*(s[0]/7-450):a*function(t,e,r){const n=Math.floor(e[0]/8),i=Math.floor(e[1]/8),s=10*(e[0]-8*n),a=10*(e[1]-8*i),o=t.getElevationAt(n,i,!0,!0),l=t.getMeterToDEM(r),u=Math.floor(.5*(s*l-1)),c=Math.floor(.5*(a*l-1)),h=t.tileCoordToPixel(n,i),p=2*u+1,f=2*c+1,d=function(t,e,r,n,i){return [t.getElevationAtPixel(e,r,!0),t.getElevationAtPixel(e+i,r,!0),t.getElevationAtPixel(e,r+i,!0),t.getElevationAtPixel(e+n,r+i,!0)]}(t,h.x-u,h.y-c,p,f),y=Math.abs(d[0]-d[1]),m=Math.abs(d[2]-d[3]),g=Math.abs(d[0]-d[2])+Math.abs(d[1]-d[3]),x=Math.min(.25,.5*l*(y+m)/p),v=Math.min(.25,.5*l*g/f);return o+Math.max(x*s,v*a)}(i,s,o):l;return {base:l+(0===r)?-1:r,top:u?Math.max(c+n,l+r+2):l+n}}const nh=ia([{name:\"a_pos_normal\",components:2,type:\"Int16\"},{name:\"a_data\",components:4,type:\"Uint8\"},{name:\"a_linesofar\",components:1,type:\"Float32\"}],4),{members:ih}=nh,sh=ia([{name:\"a_packed\",components:4,type:\"Float32\"}]),{members:ah}=sh,oh=Bc.types,lh=Math.cos(Math.PI/180*37.5);class uh{constructor(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((t=>t.id)),this.index=t.index,this.projection=t.projection,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach((t=>{this.gradients[t.id]={};})),this.layoutVertexArray=new ua,this.layoutVertexArray2=new ca,this.indexArray=new wa,this.programConfigurations=new vo(t.layers,t.zoom),this.segments=new To,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter((t=>t.isStateDependent())).map((t=>t.id));}populate(t,e,r,n){this.hasPattern=lc(\"line\",this.layers,e);const i=this.layers[0].layout.get(\"line-sort-key\"),s=[];for(const{feature:e,id:a,index:o,sourceLayerIndex:l}of t){const t=this.layers[0]._featureFilter.needGeometry,u=Qo(e,t);if(!this.layers[0]._featureFilter.filter(new Us(this.zoom),u,r))continue;const c=i?i.evaluate(u,{},r):void 0,h={id:a,properties:e.properties,type:e.type,sourceLayerIndex:l,index:o,geometry:t?u.geometry:Jo(e,r,n),patterns:{},sortKey:c};s.push(h);}i&&s.sort(((t,e)=>t.sortKey-e.sortKey));const{lineAtlas:a,featureIndex:o}=e,l=this.addConstantDashes(a);for(const n of s){const{geometry:i,index:s,sourceLayerIndex:u}=n;if(l&&this.addFeatureDashes(n,a),this.hasPattern){const t=uc(\"line\",this.layers,n,this.zoom,e);this.patternFeatures.push(t);}else this.addFeature(n,i,s,r,a.positions,e.availableImages);o.insert(t[s].feature,i,s,u,this.index);}}addConstantDashes(t){let e=!1;for(const r of this.layers){const n=r.paint.get(\"line-dasharray\").value,i=r.layout.get(\"line-cap\").value;if(\"constant\"!==n.kind||\"constant\"!==i.kind)e=!0;else {const e=i.value,r=n.value;if(!r)continue;t.addDash(r.from,e),t.addDash(r.to,e),r.other&&t.addDash(r.other,e);}}return e}addFeatureDashes(t,e){const r=this.zoom;for(const n of this.layers){const i=n.paint.get(\"line-dasharray\").value,s=n.layout.get(\"line-cap\").value;if(\"constant\"===i.kind&&\"constant\"===s.kind)continue;let a,o,l,u,c,h;if(\"constant\"===i.kind){const t=i.value;if(!t)continue;a=t.other||t.to,o=t.to,l=t.from;}else a=i.evaluate({zoom:r-1},t),o=i.evaluate({zoom:r},t),l=i.evaluate({zoom:r+1},t);\"constant\"===s.kind?u=c=h=s.value:(u=s.evaluate({zoom:r-1},t),c=s.evaluate({zoom:r},t),h=s.evaluate({zoom:r+1},t)),e.addDash(a,u),e.addDash(o,c),e.addDash(l,h);const p=e.getKey(a,u),f=e.getKey(o,c),d=e.getKey(l,h);t.patterns[n.id]={min:p,mid:f,max:d};}}update(t,e,r,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,r,n);}addFeatures(t,e,r,n,i){for(const t of this.patternFeatures)this.addFeature(t,t.geometry,t.index,e,r,n);}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return !this.uploaded||this.programConfigurations.needsUpload}upload(t){this.uploaded||(0!==this.layoutVertexArray2.length&&(this.layoutVertexBuffer2=t.createVertexBuffer(this.layoutVertexArray2,ah)),this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,ih),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0;}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy());}lineFeatureClips(t){if(t.properties&&t.properties.hasOwnProperty(\"mapbox_clip_start\")&&t.properties.hasOwnProperty(\"mapbox_clip_end\"))return {start:+t.properties.mapbox_clip_start,end:+t.properties.mapbox_clip_end}}addFeature(t,e,r,n,i,s){const a=this.layers[0].layout,o=a.get(\"line-join\").evaluate(t,{}),l=a.get(\"line-cap\").evaluate(t,{}),u=a.get(\"line-miter-limit\"),c=a.get(\"line-round-limit\");this.lineClips=this.lineFeatureClips(t);for(const r of e)this.addLine(r,t,o,l,u,c);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,r,i,s,n);}addLine(t,e,r,n,i,s){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineSoFar=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let e=0;e<t.length-1;e++)this.totalDistance+=t[e].dist(t[e+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance);}const a=\"Polygon\"===oh[e.type];let o=t.length;for(;o>=2&&t[o-1].equals(t[o-2]);)o--;let l=0;for(;l<o-1&&t[l].equals(t[l+1]);)l++;if(o<(a?3:2))return;\"bevel\"===r&&(i=1.05);const u=this.overscaling<=16?122880/(512*this.overscaling):0,c=this.segments.prepareSegment(10*o,this.layoutVertexArray,this.indexArray);let h,p,f,d,y;this.e1=this.e2=-1,a&&(h=t[o-2],y=t[l].sub(h)._unit()._perp());for(let e=l;e<o;e++){if(f=e===o-1?a?t[l+1]:void 0:t[e+1],f&&t[e].equals(f))continue;y&&(d=y),h&&(p=h),h=t[e],y=f?f.sub(h)._unit()._perp():d,d=d||y;let m=d.add(y);0===m.x&&0===m.y||m._unit();const g=d.x*y.x+d.y*y.y,x=m.x*y.x+m.y*y.y,v=0!==x?1/x:1/0,b=2*Math.sqrt(2-2*x),_=x<lh&&p&&f,w=d.x*y.y-d.y*y.x>0;if(_&&e>l){const t=h.dist(p);if(t>2*u){const e=h.sub(h.sub(p)._mult(u/t)._round());this.updateDistance(p,e),this.addCurrentVertex(e,d,0,0,c),p=e;}}const A=p&&f;let S=A?r:a?\"butt\":n;if(A&&\"round\"===S&&(v<s?S=\"miter\":v<=2&&(S=\"fakeround\")),\"miter\"===S&&v>i&&(S=\"bevel\"),\"bevel\"===S&&(v>2&&(S=\"flipbevel\"),v<i&&(S=\"miter\")),p&&this.updateDistance(p,h),\"miter\"===S)m._mult(v),this.addCurrentVertex(h,m,0,0,c);else if(\"flipbevel\"===S){if(v>100)m=y.mult(-1);else {const t=v*d.add(y).mag()/d.sub(y).mag();m._perp()._mult(t*(w?-1:1));}this.addCurrentVertex(h,m,0,0,c),this.addCurrentVertex(h,m.mult(-1),0,0,c);}else if(\"bevel\"===S||\"fakeround\"===S){const t=-Math.sqrt(v*v-1),e=w?t:0,r=w?0:t;if(p&&this.addCurrentVertex(h,d,e,r,c),\"fakeround\"===S){const t=Math.round(180*b/Math.PI/20);for(let e=1;e<t;e++){let r=e/t;if(.5!==r){const t=r-.5;r+=r*t*(r-1)*((1.0904+g*(g*(3.55645-1.43519*g)-3.2452))*t*t+(.848013+g*(.215638*g-1.06021)));}const n=y.sub(d)._mult(r)._add(d)._unit()._mult(w?-1:1);this.addHalfVertex(h,n.x,n.y,!1,w,0,c);}}f&&this.addCurrentVertex(h,y,-e,-r,c);}else if(\"butt\"===S)this.addCurrentVertex(h,m,0,0,c);else if(\"square\"===S){const t=p?1:-1;p||this.addCurrentVertex(h,m,t,t,c),this.addCurrentVertex(h,m,0,0,c),p&&this.addCurrentVertex(h,m,t,t,c);}else \"round\"===S&&(p&&(this.addCurrentVertex(h,d,0,0,c),this.addCurrentVertex(h,d,1,1,c,!0)),f&&(this.addCurrentVertex(h,y,-1,-1,c,!0),this.addCurrentVertex(h,y,0,0,c)));if(_&&e<o-1){const t=h.dist(f);if(t>2*u){const e=h.add(f.sub(h)._mult(u/t)._round());this.updateDistance(h,e),this.addCurrentVertex(e,y,0,0,c),h=e;}}}}addCurrentVertex(t,e,r,n,i,s=!1){const a=e.y*n-e.x,o=-e.y-e.x*n;this.addHalfVertex(t,e.x+e.y*r,e.y-e.x*r,s,!1,r,i),this.addHalfVertex(t,a,o,s,!0,-n,i);}addHalfVertex({x:t,y:e},r,n,i,s,a,o){this.layoutVertexArray.emplaceBack((t<<1)+(i?1:0),(e<<1)+(s?1:0),Math.round(63*r)+128,Math.round(63*n)+128,1+(0===a?0:a<0?-1:1),0,this.lineSoFar),this.lineClips&&this.layoutVertexArray2.emplaceBack(this.scaledDistance,this.lineClipsArray.length,this.lineClips.start,this.lineClips.end);const l=o.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,l),o.primitiveLength++),s?this.e2=l:this.e1=l;}updateScaledDistance(){if(this.lineClips){const t=this.totalDistance/(this.lineClips.end-this.lineClips.start);this.scaledDistance=this.distance/this.totalDistance,this.lineSoFar=t*this.lineClips.start+this.distance;}else this.lineSoFar=this.distance;}updateDistance(t,e){this.distance+=t.dist(e),this.updateScaledDistance();}}ji(uh,\"LineBucket\",{omit:[\"layers\",\"patternFeatures\"]});const ch=new Qs({\"line-cap\":new Hs(Ht.layout_line[\"line-cap\"]),\"line-join\":new Hs(Ht.layout_line[\"line-join\"]),\"line-miter-limit\":new Ks(Ht.layout_line[\"line-miter-limit\"]),\"line-round-limit\":new Ks(Ht.layout_line[\"line-round-limit\"]),\"line-sort-key\":new Hs(Ht.layout_line[\"line-sort-key\"])});var hh={paint:new Qs({\"line-opacity\":new Hs(Ht.paint_line[\"line-opacity\"]),\"line-color\":new Hs(Ht.paint_line[\"line-color\"]),\"line-translate\":new Ks(Ht.paint_line[\"line-translate\"]),\"line-translate-anchor\":new Ks(Ht.paint_line[\"line-translate-anchor\"]),\"line-width\":new Hs(Ht.paint_line[\"line-width\"]),\"line-gap-width\":new Hs(Ht.paint_line[\"line-gap-width\"]),\"line-offset\":new Hs(Ht.paint_line[\"line-offset\"]),\"line-blur\":new Hs(Ht.paint_line[\"line-blur\"]),\"line-dasharray\":new Ys(Ht.paint_line[\"line-dasharray\"]),\"line-pattern\":new Ys(Ht.paint_line[\"line-pattern\"]),\"line-gradient\":new Js(Ht.paint_line[\"line-gradient\"]),\"line-trim-offset\":new Ks(Ht.paint_line[\"line-trim-offset\"])}),layout:ch};const ph=new class extends Hs{possiblyEvaluate(t,e){return e=new Us(Math.floor(e.zoom),{now:e.now,fadeDuration:e.fadeDuration,zoomHistory:e.zoomHistory,transition:e.transition}),super.possiblyEvaluate(t,e)}evaluate(t,e,r,n){return e=T({},e,{zoom:Math.floor(e.zoom)}),super.evaluate(t,e,r,n)}}(hh.paint.properties[\"line-width\"].specification);function fh(t,e){return e>0?e+2*t:t}ph.useIntegerZoom=!0;const dh=ia([{name:\"a_pos_offset\",components:4,type:\"Int16\"},{name:\"a_tex_size\",components:4,type:\"Uint16\"},{name:\"a_pixeloffset\",components:4,type:\"Int16\"}],4),yh=ia([{name:\"a_globe_anchor\",components:3,type:\"Int16\"},{name:\"a_globe_normal\",components:3,type:\"Float32\"}],4),mh=ia([{name:\"a_projected_pos\",components:4,type:\"Float32\"}],4);ia([{name:\"a_fade_opacity\",components:1,type:\"Uint32\"}],4);const gh=ia([{name:\"a_placed\",components:2,type:\"Uint8\"},{name:\"a_shift\",components:2,type:\"Float32\"}]),xh=ia([{name:\"a_size_scale\",components:1,type:\"Float32\"},{name:\"a_padding\",components:2,type:\"Float32\"}]);ia([{type:\"Int16\",name:\"projectedAnchorX\"},{type:\"Int16\",name:\"projectedAnchorY\"},{type:\"Int16\",name:\"projectedAnchorZ\"},{type:\"Int16\",name:\"tileAnchorX\"},{type:\"Int16\",name:\"tileAnchorY\"},{type:\"Float32\",name:\"x1\"},{type:\"Float32\",name:\"y1\"},{type:\"Float32\",name:\"x2\"},{type:\"Float32\",name:\"y2\"},{type:\"Int16\",name:\"padding\"},{type:\"Uint32\",name:\"featureIndex\"},{type:\"Uint16\",name:\"sourceLayerIndex\"},{type:\"Uint16\",name:\"bucketIndex\"}]);const vh=ia([{name:\"a_pos\",components:3,type:\"Int16\"},{name:\"a_anchor_pos\",components:2,type:\"Int16\"},{name:\"a_extrude\",components:2,type:\"Int16\"}],4),bh=ia([{name:\"a_pos_2f\",components:2,type:\"Float32\"},{name:\"a_radius\",components:1,type:\"Float32\"},{name:\"a_flags\",components:2,type:\"Int16\"}],4);ia([{name:\"triangle\",components:3,type:\"Uint16\"}]),ia([{type:\"Int16\",name:\"projectedAnchorX\"},{type:\"Int16\",name:\"projectedAnchorY\"},{type:\"Int16\",name:\"projectedAnchorZ\"},{type:\"Float32\",name:\"tileAnchorX\"},{type:\"Float32\",name:\"tileAnchorY\"},{type:\"Uint16\",name:\"glyphStartIndex\"},{type:\"Uint16\",name:\"numGlyphs\"},{type:\"Uint32\",name:\"vertexStartIndex\"},{type:\"Uint32\",name:\"lineStartIndex\"},{type:\"Uint32\",name:\"lineLength\"},{type:\"Uint16\",name:\"segment\"},{type:\"Uint16\",name:\"lowerSize\"},{type:\"Uint16\",name:\"upperSize\"},{type:\"Float32\",name:\"lineOffsetX\"},{type:\"Float32\",name:\"lineOffsetY\"},{type:\"Uint8\",name:\"writingMode\"},{type:\"Uint8\",name:\"placedOrientation\"},{type:\"Uint8\",name:\"hidden\"},{type:\"Uint32\",name:\"crossTileID\"},{type:\"Int16\",name:\"associatedIconIndex\"},{type:\"Uint8\",name:\"flipState\"}]),ia([{type:\"Int16\",name:\"projectedAnchorX\"},{type:\"Int16\",name:\"projectedAnchorY\"},{type:\"Int16\",name:\"projectedAnchorZ\"},{type:\"Float32\",name:\"tileAnchorX\"},{type:\"Float32\",name:\"tileAnchorY\"},{type:\"Int16\",name:\"rightJustifiedTextSymbolIndex\"},{type:\"Int16\",name:\"centerJustifiedTextSymbolIndex\"},{type:\"Int16\",name:\"leftJustifiedTextSymbolIndex\"},{type:\"Int16\",name:\"verticalPlacedTextSymbolIndex\"},{type:\"Int16\",name:\"placedIconSymbolIndex\"},{type:\"Int16\",name:\"verticalPlacedIconSymbolIndex\"},{type:\"Uint16\",name:\"key\"},{type:\"Uint16\",name:\"textBoxStartIndex\"},{type:\"Uint16\",name:\"textBoxEndIndex\"},{type:\"Uint16\",name:\"verticalTextBoxStartIndex\"},{type:\"Uint16\",name:\"verticalTextBoxEndIndex\"},{type:\"Uint16\",name:\"iconBoxStartIndex\"},{type:\"Uint16\",name:\"iconBoxEndIndex\"},{type:\"Uint16\",name:\"verticalIconBoxStartIndex\"},{type:\"Uint16\",name:\"verticalIconBoxEndIndex\"},{type:\"Uint16\",name:\"featureIndex\"},{type:\"Uint16\",name:\"numHorizontalGlyphVertices\"},{type:\"Uint16\",name:\"numVerticalGlyphVertices\"},{type:\"Uint16\",name:\"numIconVertices\"},{type:\"Uint16\",name:\"numVerticalIconVertices\"},{type:\"Uint16\",name:\"useRuntimeCollisionCircles\"},{type:\"Uint32\",name:\"crossTileID\"},{type:\"Float32\",components:2,name:\"textOffset\"},{type:\"Float32\",name:\"collisionCircleDiameter\"}]),ia([{type:\"Float32\",name:\"offsetX\"}]),ia([{type:\"Int16\",name:\"x\"},{type:\"Int16\",name:\"y\"},{type:\"Int16\",name:\"tileUnitDistanceFromAnchor\"}]);var _h=24;const wh=128;function Ah(t,e){const{expression:r}=e;if(\"constant\"===r.kind)return {kind:\"constant\",layoutSize:r.evaluate(new Us(t+1))};if(\"source\"===r.kind)return {kind:\"source\"};{const{zoomStops:e,interpolationType:n}=r;let i=0;for(;i<e.length&&e[i]<=t;)i++;i=Math.max(0,i-1);let s=i;for(;s<e.length&&e[s]<t+1;)s++;s=Math.min(e.length-1,s);const a=e[i],o=e[s];return \"composite\"===r.kind?{kind:\"composite\",minZoom:a,maxZoom:o,interpolationType:n}:{kind:\"camera\",minZoom:a,maxZoom:o,minSize:r.evaluate(new Us(a)),maxSize:r.evaluate(new Us(o)),interpolationType:n}}}function Sh(t,{uSize:e,uSizeT:r},{lowerSize:n,upperSize:i}){return \"source\"===t.kind?n/wh:\"composite\"===t.kind?Ir(n/wh,i/wh,r):e}function kh(t,e){let r=0,n=0;if(\"constant\"===t.kind)n=t.layoutSize;else if(\"source\"!==t.kind){const{interpolationType:i,minZoom:s,maxZoom:a}=t,o=i?S(Xr.interpolationFactor(i,e,s,a),0,1):0;\"camera\"===t.kind?n=Ir(t.minSize,t.maxSize,o):r=o;}return {uSizeT:r,uSize:n}}var Ih=Object.freeze({__proto__:null,getSizeData:Ah,evaluateSizeForFeature:Sh,evaluateSizeForZoom:kh,SIZE_PACK_FACTOR:wh});function Mh(t,e,r){return t.sections.forEach((t=>{t.text=function(t,e,r){const n=e.layout.get(\"text-transform\").evaluate(r,{});return \"uppercase\"===n?t=t.toLocaleUpperCase():\"lowercase\"===n&&(t=t.toLocaleLowerCase()),Rs.applyArabicShaping&&(t=Rs.applyArabicShaping(t)),t}(t.text,e,r);})),t}const zh={\"!\":\"ï¸\",\"#\":\"ï¼\",$:\"ï¼\",\"%\":\"ï¼\",\"&\":\"ï¼\",\"(\":\"ï¸µ\",\")\":\"ï¸¶\",\"*\":\"ï¼\",\"+\":\"ï¼\",\",\":\"ï¸\",\"-\":\"ï¸²\",\".\":\"ã»\",\"/\":\"ï¼\",\":\":\"ï¸\",\";\":\"ï¸\",\"<\":\"ï¸¿\",\"=\":\"ï¼\",\">\":\"ï¹\",\"?\":\"ï¸\",\"@\":\"ï¼ \",\"[\":\"ï¹\",\"\\\\\":\"ï¼¼\",\"]\":\"ï¹\",\"^\":\"ï¼¾\",_:\"ï¸³\",\"`\":\"ï½\",\"{\":\"ï¸·\",\"|\":\"â\",\"}\":\"ï¸¸\",\"~\":\"ï½\",\"Â¢\":\"ï¿ \",\"Â£\":\"ï¿¡\",\"Â¥\":\"ï¿¥\",\"Â¦\":\"ï¿¤\",\"Â¬\":\"ï¿¢\",\"Â¯\":\"ï¿£\",\"â\":\"ï¸²\",\"â\":\"ï¸±\",\"â\":\"ï¹\",\"â\":\"ï¹\",\"â\":\"ï¹\",\"â\":\"ï¹\",\"â¦\":\"ï¸\",\"â§\":\"ã»\",\"â©\":\"ï¿¦\",\"ã\":\"ï¸\",\"ã\":\"ï¸\",\"ã\":\"ï¸¿\",\"ã\":\"ï¹\",\"ã\":\"ï¸½\",\"ã\":\"ï¸¾\",\"ã\":\"ï¹\",\"ã\":\"ï¹\",\"ã\":\"ï¹\",\"ã\":\"ï¹\",\"ã\":\"ï¸»\",\"ã\":\"ï¸¼\",\"ã\":\"ï¸¹\",\"ã\":\"ï¸º\",\"ã\":\"ï¸\",\"ã\":\"ï¸\",\"ï¼\":\"ï¸\",\"ï¼\":\"ï¸µ\",\"ï¼\":\"ï¸¶\",\"ï¼\":\"ï¸\",\"ï¼\":\"ï¸²\",\"ï¼\":\"ã»\",\"ï¼\":\"ï¸\",\"ï¼\":\"ï¸\",\"ï¼\":\"ï¸¿\",\"ï¼\":\"ï¹\",\"ï¼\":\"ï¸\",\"ï¼»\":\"ï¹\",\"ï¼½\":\"ï¹\",\"ï¼¿\":\"ï¸³\",\"ï½\":\"ï¸·\",\"ï½\":\"â\",\"ï½\":\"ï¸¸\",\"ï½\":\"ï¸µ\",\"ï½ \":\"ï¸¶\",\"ï½¡\":\"ï¸\",\"ï½¢\":\"ï¹\",\"ï½£\":\"ï¹\"};function Th(t){return \"ï¸¶\"===t||\"ï¹\"===t||\"ï¸¸\"===t||\"ï¹\"===t||\"ï¹\"===t||\"ï¸¾\"===t||\"ï¸¼\"===t||\"ï¸º\"===t||\"ï¸\"===t||\"ï¹\"===t||\"ï¸\"===t||\"ï¸\"===t||\"ï¸\"===t||\"ï½\"===t||\"ï¿£\"===t||\"ï¸\"===t||\"ï¸\"===t}function Bh(t){return \"ï¸µ\"===t||\"ï¹\"===t||\"ï¸·\"===t||\"ï¹\"===t||\"ï¹\"===t||\"ï¸½\"===t||\"ï¸»\"===t||\"ï¸¹\"===t||\"ï¸\"===t||\"ï¸¿\"===t}var Eh=Dh,Ph=function(t,e,r,n,i){var s,a,o=8*i-n-1,l=(1<<o)-1,u=l>>1,c=-7,h=r?i-1:0,p=r?-1:1,f=t[e+h];for(h+=p,s=f&(1<<-c)-1,f>>=-c,c+=o;c>0;s=256*s+t[e+h],h+=p,c-=8);for(a=s&(1<<-c)-1,s>>=-c,c+=n;c>0;a=256*a+t[e+h],h+=p,c-=8);if(0===s)s=1-u;else {if(s===l)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,n),s-=u;}return (f?-1:1)*a*Math.pow(2,s-n)},Ch=function(t,e,r,n,i,s){var a,o,l,u=8*s-i-1,c=(1<<u)-1,h=c>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:s-1,d=n?1:-1,y=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-a))<1&&(a--,l*=2),(e+=a+h>=1?p/l:p*Math.pow(2,1-h))*l>=2&&(a++,l/=2),a+h>=c?(o=0,a=c):a+h>=1?(o=(e*l-1)*Math.pow(2,i),a+=h):(o=e*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;t[r+f]=255&o,f+=d,o/=256,i-=8);for(a=a<<i|o,u+=i;u>0;t[r+f]=255&a,f+=d,a/=256,u-=8);t[r+f-d]|=128*y;};\n/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */function Dh(t){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.pos=0,this.type=0,this.length=this.buf.length;}Dh.Varint=0,Dh.Fixed64=1,Dh.Bytes=2,Dh.Fixed32=5;var Vh=4294967296,Fh=1/Vh,Lh=\"undefined\"==typeof TextDecoder?null:new TextDecoder(\"utf8\");function Rh(t){return t.type===Dh.Bytes?t.readVarint()+t.pos:t.pos+1}function Uh(t,e,r){return r?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}function jh(t,e,r){var n=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.floor(Math.log(e)/(7*Math.LN2));r.realloc(n);for(var i=r.pos-1;i>=t;i--)r.buf[i+n]=r.buf[i];}function $h(t,e){for(var r=0;r<t.length;r++)e.writeVarint(t[r]);}function Oh(t,e){for(var r=0;r<t.length;r++)e.writeSVarint(t[r]);}function qh(t,e){for(var r=0;r<t.length;r++)e.writeFloat(t[r]);}function Nh(t,e){for(var r=0;r<t.length;r++)e.writeDouble(t[r]);}function Gh(t,e){for(var r=0;r<t.length;r++)e.writeBoolean(t[r]);}function Zh(t,e){for(var r=0;r<t.length;r++)e.writeFixed32(t[r]);}function Xh(t,e){for(var r=0;r<t.length;r++)e.writeSFixed32(t[r]);}function Kh(t,e){for(var r=0;r<t.length;r++)e.writeFixed64(t[r]);}function Hh(t,e){for(var r=0;r<t.length;r++)e.writeSFixed64(t[r]);}function Yh(t,e){return (t[e]|t[e+1]<<8|t[e+2]<<16)+16777216*t[e+3]}function Wh(t,e,r){t[r]=e,t[r+1]=e>>>8,t[r+2]=e>>>16,t[r+3]=e>>>24;}function Jh(t,e){return (t[e]|t[e+1]<<8|t[e+2]<<16)+(t[e+3]<<24)}function Qh(t,e,r){e.glyphs=[],1===t&&r.readMessage(tp,e);}function tp(t,e,r){if(3===t){const{id:t,bitmap:n,width:i,height:s,left:a,top:o,advance:l}=r.readMessage(ep,{});e.glyphs.push({id:t,bitmap:new wu({width:i+6,height:s+6},n),metrics:{width:i,height:s,left:a,top:o,advance:l}});}else 4===t?e.ascender=r.readSVarint():5===t&&(e.descender=r.readSVarint());}function ep(t,e,r){1===t?e.id=r.readVarint():2===t?e.bitmap=r.readBytes():3===t?e.width=r.readVarint():4===t?e.height=r.readVarint():5===t?e.left=r.readSVarint():6===t?e.top=r.readSVarint():7===t&&(e.advance=r.readVarint());}function rp(t){let e=0,r=0;for(const n of t)e+=n.w*n.h,r=Math.max(r,n.w);t.sort(((t,e)=>e.h-t.h));const n=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(e/.95)),r),h:1/0}];let i=0,s=0;for(const e of t)for(let t=n.length-1;t>=0;t--){const r=n[t];if(!(e.w>r.w||e.h>r.h)){if(e.x=r.x,e.y=r.y,s=Math.max(s,e.y+e.h),i=Math.max(i,e.x+e.w),e.w===r.w&&e.h===r.h){const e=n.pop();t<n.length&&(n[t]=e);}else e.h===r.h?(r.x+=e.w,r.w-=e.w):e.w===r.w?(r.y+=e.h,r.h-=e.h):(n.push({x:r.x+e.w,y:r.y,w:r.w-e.w,h:e.h}),r.y+=e.h,r.h-=e.h);break}}return {w:i,h:s,fill:e/(i*s)||0}}Dh.prototype={destroy:function(){this.buf=null;},readFields:function(t,e,r){for(r=r||this.length;this.pos<r;){var n=this.readVarint(),i=n>>3,s=this.pos;this.type=7&n,t(i,e,this),this.pos===s&&this.skip(n);}return e},readMessage:function(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function(){var t=Yh(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function(){var t=Jh(this.buf,this.pos);return this.pos+=4,t},readFixed64:function(){var t=Yh(this.buf,this.pos)+Yh(this.buf,this.pos+4)*Vh;return this.pos+=8,t},readSFixed64:function(){var t=Yh(this.buf,this.pos)+Jh(this.buf,this.pos+4)*Vh;return this.pos+=8,t},readFloat:function(){var t=Ph(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:function(){var t=Ph(this.buf,this.pos,!0,52,8);return this.pos+=8,t},readVarint:function(t){var e,r,n=this.buf;return e=127&(r=n[this.pos++]),r<128?e:(e|=(127&(r=n[this.pos++]))<<7,r<128?e:(e|=(127&(r=n[this.pos++]))<<14,r<128?e:(e|=(127&(r=n[this.pos++]))<<21,r<128?e:function(t,e,r){var n,i,s=r.buf;if(n=(112&(i=s[r.pos++]))>>4,i<128)return Uh(t,n,e);if(n|=(127&(i=s[r.pos++]))<<3,i<128)return Uh(t,n,e);if(n|=(127&(i=s[r.pos++]))<<10,i<128)return Uh(t,n,e);if(n|=(127&(i=s[r.pos++]))<<17,i<128)return Uh(t,n,e);if(n|=(127&(i=s[r.pos++]))<<24,i<128)return Uh(t,n,e);if(n|=(1&(i=s[r.pos++]))<<31,i<128)return Uh(t,n,e);throw new Error(\"Expected varint not more than 10 bytes\")}(e|=(15&(r=n[this.pos]))<<28,t,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var t=this.readVarint();return t%2==1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,e=this.pos;return this.pos=t,t-e>=12&&Lh?function(t,e,r){return Lh.decode(t.subarray(e,r))}(this.buf,e,t):function(t,e,r){for(var n=\"\",i=e;i<r;){var s,a,o,l=t[i],u=null,c=l>239?4:l>223?3:l>191?2:1;if(i+c>r)break;1===c?l<128&&(u=l):2===c?128==(192&(s=t[i+1]))&&(u=(31&l)<<6|63&s)<=127&&(u=null):3===c?(a=t[i+2],128==(192&(s=t[i+1]))&&128==(192&a)&&((u=(15&l)<<12|(63&s)<<6|63&a)<=2047||u>=55296&&u<=57343)&&(u=null)):4===c&&(a=t[i+2],o=t[i+3],128==(192&(s=t[i+1]))&&128==(192&a)&&128==(192&o)&&((u=(15&l)<<18|(63&s)<<12|(63&a)<<6|63&o)<=65535||u>=1114112)&&(u=null)),null===u?(u=65533,c=1):u>65535&&(u-=65536,n+=String.fromCharCode(u>>>10&1023|55296),u=56320|1023&u),n+=String.fromCharCode(u),i+=c;}return n}(this.buf,e,t)},readBytes:function(){var t=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,t);return this.pos=t,e},readPackedVarint:function(t,e){if(this.type!==Dh.Bytes)return t.push(this.readVarint(e));var r=Rh(this);for(t=t||[];this.pos<r;)t.push(this.readVarint(e));return t},readPackedSVarint:function(t){if(this.type!==Dh.Bytes)return t.push(this.readSVarint());var e=Rh(this);for(t=t||[];this.pos<e;)t.push(this.readSVarint());return t},readPackedBoolean:function(t){if(this.type!==Dh.Bytes)return t.push(this.readBoolean());var e=Rh(this);for(t=t||[];this.pos<e;)t.push(this.readBoolean());return t},readPackedFloat:function(t){if(this.type!==Dh.Bytes)return t.push(this.readFloat());var e=Rh(this);for(t=t||[];this.pos<e;)t.push(this.readFloat());return t},readPackedDouble:function(t){if(this.type!==Dh.Bytes)return t.push(this.readDouble());var e=Rh(this);for(t=t||[];this.pos<e;)t.push(this.readDouble());return t},readPackedFixed32:function(t){if(this.type!==Dh.Bytes)return t.push(this.readFixed32());var e=Rh(this);for(t=t||[];this.pos<e;)t.push(this.readFixed32());return t},readPackedSFixed32:function(t){if(this.type!==Dh.Bytes)return t.push(this.readSFixed32());var e=Rh(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed32());return t},readPackedFixed64:function(t){if(this.type!==Dh.Bytes)return t.push(this.readFixed64());var e=Rh(this);for(t=t||[];this.pos<e;)t.push(this.readFixed64());return t},readPackedSFixed64:function(t){if(this.type!==Dh.Bytes)return t.push(this.readSFixed64());var e=Rh(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed64());return t},skip:function(t){var e=7&t;if(e===Dh.Varint)for(;this.buf[this.pos++]>127;);else if(e===Dh.Bytes)this.pos=this.readVarint()+this.pos;else if(e===Dh.Fixed32)this.pos+=4;else {if(e!==Dh.Fixed64)throw new Error(\"Unimplemented type: \"+e);this.pos+=8;}},writeTag:function(t,e){this.writeVarint(t<<3|e);},realloc:function(t){for(var e=this.length||16;e<this.pos+t;)e*=2;if(e!==this.length){var r=new Uint8Array(e);r.set(this.buf),this.buf=r,this.length=e;}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(t){this.realloc(4),Wh(this.buf,t,this.pos),this.pos+=4;},writeSFixed32:function(t){this.realloc(4),Wh(this.buf,t,this.pos),this.pos+=4;},writeFixed64:function(t){this.realloc(8),Wh(this.buf,-1&t,this.pos),Wh(this.buf,Math.floor(t*Fh),this.pos+4),this.pos+=8;},writeSFixed64:function(t){this.realloc(8),Wh(this.buf,-1&t,this.pos),Wh(this.buf,Math.floor(t*Fh),this.pos+4),this.pos+=8;},writeVarint:function(t){(t=+t||0)>268435455||t<0?function(t,e){var r,n;if(t>=0?(r=t%4294967296|0,n=t/4294967296|0):(n=~(-t/4294967296),4294967295^(r=~(-t%4294967296))?r=r+1|0:(r=0,n=n+1|0)),t>=0x10000000000000000||t<-0x10000000000000000)throw new Error(\"Given varint doesn't fit into 10 bytes\");e.realloc(10),function(t,e,r){r.buf[r.pos++]=127&t|128,t>>>=7,r.buf[r.pos++]=127&t|128,t>>>=7,r.buf[r.pos++]=127&t|128,t>>>=7,r.buf[r.pos++]=127&t|128,r.buf[r.pos]=127&(t>>>=7);}(r,0,e),function(t,e){var r=(7&t)<<4;e.buf[e.pos++]|=r|((t>>>=3)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t)))));}(n,e);}(t,this):(this.realloc(4),this.buf[this.pos++]=127&t|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=t>>>7&127))));},writeSVarint:function(t){this.writeVarint(t<0?2*-t-1:2*t);},writeBoolean:function(t){this.writeVarint(Boolean(t));},writeString:function(t){t=String(t),this.realloc(4*t.length),this.pos++;var e=this.pos;this.pos=function(t,e,r){for(var n,i,s=0;s<e.length;s++){if((n=e.charCodeAt(s))>55295&&n<57344){if(!i){n>56319||s+1===e.length?(t[r++]=239,t[r++]=191,t[r++]=189):i=n;continue}if(n<56320){t[r++]=239,t[r++]=191,t[r++]=189,i=n;continue}n=i-55296<<10|n-56320|65536,i=null;}else i&&(t[r++]=239,t[r++]=191,t[r++]=189,i=null);n<128?t[r++]=n:(n<2048?t[r++]=n>>6|192:(n<65536?t[r++]=n>>12|224:(t[r++]=n>>18|240,t[r++]=n>>12&63|128),t[r++]=n>>6&63|128),t[r++]=63&n|128);}return r}(this.buf,t,this.pos);var r=this.pos-e;r>=128&&jh(e,r,this),this.pos=e-1,this.writeVarint(r),this.pos+=r;},writeFloat:function(t){this.realloc(4),Ch(this.buf,t,this.pos,!0,23,4),this.pos+=4;},writeDouble:function(t){this.realloc(8),Ch(this.buf,t,this.pos,!0,52,8),this.pos+=8;},writeBytes:function(t){var e=t.length;this.writeVarint(e),this.realloc(e);for(var r=0;r<e;r++)this.buf[this.pos++]=t[r];},writeRawMessage:function(t,e){this.pos++;var r=this.pos;t(e,this);var n=this.pos-r;n>=128&&jh(r,n,this),this.pos=r-1,this.writeVarint(n),this.pos+=n;},writeMessage:function(t,e,r){this.writeTag(t,Dh.Bytes),this.writeRawMessage(e,r);},writePackedVarint:function(t,e){e.length&&this.writeMessage(t,$h,e);},writePackedSVarint:function(t,e){e.length&&this.writeMessage(t,Oh,e);},writePackedBoolean:function(t,e){e.length&&this.writeMessage(t,Gh,e);},writePackedFloat:function(t,e){e.length&&this.writeMessage(t,qh,e);},writePackedDouble:function(t,e){e.length&&this.writeMessage(t,Nh,e);},writePackedFixed32:function(t,e){e.length&&this.writeMessage(t,Zh,e);},writePackedSFixed32:function(t,e){e.length&&this.writeMessage(t,Xh,e);},writePackedFixed64:function(t,e){e.length&&this.writeMessage(t,Kh,e);},writePackedSFixed64:function(t,e){e.length&&this.writeMessage(t,Hh,e);},writeBytesField:function(t,e){this.writeTag(t,Dh.Bytes),this.writeBytes(e);},writeFixed32Field:function(t,e){this.writeTag(t,Dh.Fixed32),this.writeFixed32(e);},writeSFixed32Field:function(t,e){this.writeTag(t,Dh.Fixed32),this.writeSFixed32(e);},writeFixed64Field:function(t,e){this.writeTag(t,Dh.Fixed64),this.writeFixed64(e);},writeSFixed64Field:function(t,e){this.writeTag(t,Dh.Fixed64),this.writeSFixed64(e);},writeVarintField:function(t,e){this.writeTag(t,Dh.Varint),this.writeVarint(e);},writeSVarintField:function(t,e){this.writeTag(t,Dh.Varint),this.writeSVarint(e);},writeStringField:function(t,e){this.writeTag(t,Dh.Bytes),this.writeString(e);},writeFloatField:function(t,e){this.writeTag(t,Dh.Fixed32),this.writeFloat(e);},writeDoubleField:function(t,e){this.writeTag(t,Dh.Fixed64),this.writeDouble(e);},writeBooleanField:function(t,e){this.writeVarintField(t,Boolean(e));}};class np{constructor(t,{pixelRatio:e,version:r,stretchX:n,stretchY:i,content:s}){this.paddedRect=t,this.pixelRatio=e,this.stretchX=n,this.stretchY=i,this.content=s,this.version=r;}get tl(){return [this.paddedRect.x+1,this.paddedRect.y+1]}get br(){return [this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]}get displaySize(){return [(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]}}class ip{constructor(t,e){const r={},n={};this.haveRenderCallbacks=[];const i=[];this.addImages(t,r,i),this.addImages(e,n,i);const{w:s,h:a}=rp(i),o=new Au({width:s||1,height:a||1});for(const e in t){const n=t[e],i=r[e].paddedRect;Au.copy(n.data,o,{x:0,y:0},{x:i.x+1,y:i.y+1},n.data);}for(const t in e){const r=e[t],i=n[t].paddedRect,s=i.x+1,a=i.y+1,l=r.data.width,u=r.data.height;Au.copy(r.data,o,{x:0,y:0},{x:s,y:a},r.data),Au.copy(r.data,o,{x:0,y:u-1},{x:s,y:a-1},{width:l,height:1}),Au.copy(r.data,o,{x:0,y:0},{x:s,y:a+u},{width:l,height:1}),Au.copy(r.data,o,{x:l-1,y:0},{x:s-1,y:a},{width:1,height:u}),Au.copy(r.data,o,{x:0,y:0},{x:s+l,y:a},{width:1,height:u});}this.image=o,this.iconPositions=r,this.patternPositions=n;}addImages(t,e,r){for(const n in t){const i=t[n],s={x:0,y:0,w:i.data.width+2,h:i.data.height+2};r.push(s),e[n]=new np(s,i),i.hasRenderCallback&&this.haveRenderCallbacks.push(n);}}patchUpdatedImages(t,e){this.haveRenderCallbacks=this.haveRenderCallbacks.filter((e=>t.hasImage(e))),t.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const r in t.updatedImages)this.patchUpdatedImage(this.iconPositions[r],t.getImage(r),e),this.patchUpdatedImage(this.patternPositions[r],t.getImage(r),e);}patchUpdatedImage(t,e,r){if(!t||!e)return;if(t.version===e.version)return;t.version=e.version;const[n,i]=t.tl;r.update(e.data,void 0,{x:n,y:i});}}ji(np,\"ImagePosition\"),ji(ip,\"ImageAtlas\");const sp={horizontal:1,vertical:2,horizontalOnly:3};class ap{constructor(){this.scale=1,this.fontStack=\"\",this.imageName=null;}static forText(t,e){const r=new ap;return r.scale=t||1,r.fontStack=e,r}static forImage(t){const e=new ap;return e.imageName=t,e}}class op{constructor(){this.text=\"\",this.sectionIndex=[],this.sections=[],this.imageSectionID=null;}static fromFeature(t,e){const r=new op;for(let n=0;n<t.sections.length;n++){const i=t.sections[n];i.image?r.addImageSection(i):r.addTextSection(i,e);}return r}length(){return this.text.length}getSection(t){return this.sections[this.sectionIndex[t]]}getSections(){return this.sections}getSectionIndex(t){return this.sectionIndex[t]}getCharCode(t){return this.text.charCodeAt(t)}verticalizePunctuation(t){this.text=function(t,e){let r=\"\";for(let n=0;n<t.length;n++){const i=t.charCodeAt(n+1)||null,s=t.charCodeAt(n-1)||null;r+=!e&&(i&&As(i)&&!zh[t[n+1]]||s&&As(s)&&!zh[t[n-1]])||!zh[t[n]]?t[n]:zh[t[n]];}return r}(this.text,t);}trim(){let t=0;for(let e=0;e<this.text.length&&up[this.text.charCodeAt(e)];e++)t++;let e=this.text.length;for(let r=this.text.length-1;r>=0&&r>=t&&up[this.text.charCodeAt(r)];r--)e--;this.text=this.text.substring(t,e),this.sectionIndex=this.sectionIndex.slice(t,e);}substring(t,e){const r=new op;return r.text=this.text.substring(t,e),r.sectionIndex=this.sectionIndex.slice(t,e),r.sections=this.sections,r}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce(((t,e)=>Math.max(t,this.sections[e].scale)),0)}addTextSection(t,e){this.text+=t.text,this.sections.push(ap.forText(t.scale,t.fontStack||e));const r=this.sections.length-1;for(let e=0;e<t.text.length;++e)this.sectionIndex.push(r);}addImageSection(t){const e=t.image?t.image.name:\"\";if(0===e.length)return void $(\"Can't add FormattedSection with an empty image.\");const r=this.getNextImageSectionCharCode();r?(this.text+=String.fromCharCode(r),this.sections.push(ap.forImage(e)),this.sectionIndex.push(this.sections.length-1)):$(\"Reached maximum number of images 6401\");}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function lp(t,e,r,n,i,s,a,o,l,u,c,h,p,f,d,y){const m=op.fromFeature(t,i);let g;h===sp.vertical&&m.verticalizePunctuation(p);const{processBidirectionalText:x,processStyledBidirectionalText:v}=Rs;if(x&&1===m.sections.length){g=[];const t=x(m.toString(),mp(m,u,s,e,n,f,d));for(const e of t){const t=new op;t.text=e,t.sections=m.sections;for(let r=0;r<e.length;r++)t.sectionIndex.push(0);g.push(t);}}else if(v){g=[];const t=v(m.text,m.sectionIndex,mp(m,u,s,e,n,f,d));for(const e of t){const t=new op;t.text=e[0],t.sectionIndex=e[1],t.sections=m.sections,g.push(t);}}else g=function(t,e){const r=[],n=t.text;let i=0;for(const n of e)r.push(t.substring(i,n)),i=n;return i<n.length&&r.push(t.substring(i,n.length)),r}(m,mp(m,u,s,e,n,f,d));const b=[],_={positionedLines:b,text:m.toString(),top:c[1],bottom:c[1],left:c[0],right:c[0],writingMode:h,iconsInText:!1,verticalizable:!1,hasBaseline:!1};return function(t,e,r,n,i,s,a,o,l,u,c,h){let p=0,f=0,d=0;const y=\"right\"===o?1:\"left\"===o?0:.5;let m=!1;for(const t of i){const r=t.getSections();for(const t of r){if(t.imageName)continue;const r=e[t.fontStack];if(r&&(m=void 0!==r.ascender&&void 0!==r.descender,!m))break}if(!m)break}let g=0;for(const a of i){a.trim();const i=a.getMaxScale(),o=(i-1)*_h,v={positionedGlyphs:[],lineOffset:0};t.positionedLines[g]=v;const b=v.positionedGlyphs;let _=0;if(!a.length()){f+=s,++g;continue}let w=0,A=0;for(let s=0;s<a.length();s++){const o=a.getSection(s),d=a.getSectionIndex(s),y=a.getCharCode(s);let g=o.scale,v=null,S=null,k=null,I=_h,M=0;const z=!(l===sp.horizontal||!c&&!ws(y)||c&&(up[y]||(x=y,Zi(x)||Xi(x)||Ki(x)||fs(x)||gs(x))));if(o.imageName){const e=n[o.imageName];if(!e)continue;k=o.imageName,t.iconsInText=t.iconsInText||!0,S=e.paddedRect;const r=e.displaySize;g=g*_h/h,v={width:r[0],height:r[1],left:1,top:-3,advance:z?r[1]:r[0],localGlyph:!1},M=m?-v.height*g:i*_h-17-r[1]*g,I=v.advance;const s=(z?r[0]:r[1])*g-_h*i;s>0&&s>_&&(_=s);}else {const t=r[o.fontStack];if(!t)continue;t[y]&&(S=t[y]);const n=e[o.fontStack];if(!n)continue;const s=n.glyphs[y];if(!s)continue;if(v=s.metrics,I=8203!==y?_h:0,m){const t=void 0!==n.ascender?Math.abs(n.ascender):0,e=void 0!==n.descender?Math.abs(n.descender):0,r=(t+e)*g;w<r&&(w=r,A=(t-e)/2*g),M=-t*g;}else M=(i-g)*_h-17;}z?(t.verticalizable=!0,b.push({glyph:y,imageName:k,x:p,y:f+M,vertical:z,scale:g,localGlyph:v.localGlyph,fontStack:o.fontStack,sectionIndex:d,metrics:v,rect:S}),p+=I*g+u):(b.push({glyph:y,imageName:k,x:p,y:f+M,vertical:z,scale:g,localGlyph:v.localGlyph,fontStack:o.fontStack,sectionIndex:d,metrics:v,rect:S}),p+=v.advance*g+u);}0!==b.length&&(d=Math.max(p-u,d),m?xp(b,y,_,A,s*i/2):xp(b,y,_,0,s/2)),p=0;const S=s*i+_;v.lineOffset=Math.max(_,o),f+=S,++g;}var x;const v=f,{horizontalAlign:b,verticalAlign:_}=gp(a);((function(t,e,r,n,i,s){const a=(e-r)*i,o=-s*n;for(const e of t)for(const t of e.positionedGlyphs)t.x+=a,t.y+=o;}))(t.positionedLines,y,b,_,d,v),t.top+=-_*v,t.bottom=t.top+v,t.left+=-b*d,t.right=t.left+d,t.hasBaseline=m;}(_,e,r,n,g,a,o,l,h,u,p,y),!function(t){for(const e of t)if(0!==e.positionedGlyphs.length)return !1;return !0}(b)&&_}const up={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},cp={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function hp(t,e,r,n,i,s){if(e.imageName){const t=n[e.imageName];return t?t.displaySize[0]*e.scale*_h/s+i:0}{const n=r[e.fontStack],s=n&&n.glyphs[t];return s?s.metrics.advance*e.scale+i:0}}function pp(t,e,r,n){const i=Math.pow(t-e,2);return n?t<e?i/2:2*i:i+Math.abs(r)*r}function fp(t,e,r){let n=0;return 10===t&&(n-=1e4),r&&(n+=150),40!==t&&65288!==t||(n+=50),41!==e&&65289!==e||(n+=50),n}function dp(t,e,r,n,i,s){let a=null,o=pp(e,r,i,s);for(const t of n){const n=pp(e-t.x,r,i,s)+t.badness;n<=o&&(a=t,o=n);}return {index:t,x:e,priorBreak:a,badness:o}}function yp(t){return t?yp(t.priorBreak).concat(t.index):[]}function mp(t,e,r,n,i,s,a){if(\"point\"!==s)return [];if(!t)return [];const o=[],l=function(t,e,r,n,i,s){let a=0;for(let r=0;r<t.length();r++){const o=t.getSection(r);a+=hp(t.getCharCode(r),o,n,i,e,s);}return a/Math.max(1,Math.ceil(a/r))}(t,e,r,n,i,a),u=t.text.indexOf(\"â\")>=0;let c=0;for(let r=0;r<t.length();r++){const s=t.getSection(r),p=t.getCharCode(r);if(up[p]||(c+=hp(p,s,n,i,e,a)),r<t.length()-1){const e=!((h=p)<11904||!(rs(h)||es(h)||ys(h)||ps(h)||as(h)||Hi(h)||ns(h)||Ji(h)||os(h)||ls(h)||ss(h)||xs(h)||Qi(h)||Wi(h)||Yi(h)||is(h)||ts(h)||ds(h)||cs(h)||us(h)));(cp[p]||e||s.imageName)&&o.push(dp(r+1,c,l,o,fp(p,t.getCharCode(r+1),e&&u),!1));}}var h;return yp(dp(t.length(),c,l,o,0,!0))}function gp(t){let e=.5,r=.5;switch(t){case\"right\":case\"top-right\":case\"bottom-right\":e=1;break;case\"left\":case\"top-left\":case\"bottom-left\":e=0;}switch(t){case\"bottom\":case\"bottom-right\":case\"bottom-left\":r=1;break;case\"top\":case\"top-right\":case\"top-left\":r=0;}return {horizontalAlign:e,verticalAlign:r}}function xp(t,e,r,n,i){if(!(e||r||n||i))return;const s=t.length-1,a=t[s],o=(a.x+a.metrics.advance*a.scale)*e;for(let e=0;e<=s;e++)t[e].x-=o,t[e].y+=r+n+i;}function vp(t,e,r){const{horizontalAlign:n,verticalAlign:i}=gp(r),s=e[0]-t.displaySize[0]*n,a=e[1]-t.displaySize[1]*i;return {image:t,top:a,bottom:a+t.displaySize[1],left:s,right:s+t.displaySize[0]}}function bp(t,e,r,n,i,s){const a=t.image;let o;if(a.content){const t=a.content,e=a.pixelRatio||1;o=[t[0]/e,t[1]/e,a.displaySize[0]-t[2]/e,a.displaySize[1]-t[3]/e];}const l=e.left*s,u=e.right*s;let c,h,p,f;\"width\"===r||\"both\"===r?(f=i[0]+l-n[3],h=i[0]+u+n[1]):(f=i[0]+(l+u-a.displaySize[0])/2,h=f+a.displaySize[0]);const d=e.top*s,y=e.bottom*s;return \"height\"===r||\"both\"===r?(c=i[1]+d-n[0],p=i[1]+y+n[2]):(c=i[1]+(d+y-a.displaySize[1])/2,p=c+a.displaySize[1]),{image:a,top:c,right:h,bottom:p,left:f,collisionPadding:o}}class _p extends d{constructor(t,e,r,n,i){super(t,e),this.angle=n,this.z=r,void 0!==i&&(this.segment=i);}clone(){return new _p(this.x,this.y,this.z,this.angle,this.segment)}}function wp(t,e,r,n,i){if(void 0===e.segment)return !0;let s=e,a=e.segment+1,o=0;for(;o>-r/2;){if(a--,a<0)return !1;o-=t[a].dist(s),s=t[a];}o+=t[a].dist(t[a+1]),a++;const l=[];let u=0;for(;o<r/2;){const e=t[a],r=t[a+1];if(!r)return !1;let s=t[a-1].angleTo(e)-e.angleTo(r);for(s=Math.abs((s+3*Math.PI)%(2*Math.PI)-Math.PI),l.push({distance:o,angleDelta:s}),u+=s;o-l[0].distance>n;)u-=l.shift().angleDelta;if(u>i)return !1;a++,o+=e.dist(r);}return !0}function Ap(t){let e=0;for(let r=0;r<t.length-1;r++)e+=t[r].dist(t[r+1]);return e}function Sp(t,e,r){return t?.6*e*r:0}function kp(t,e){return Math.max(t?t.right-t.left:0,e?e.right-e.left:0)}function Ip(t,e,r,n,i,s){const a=Sp(r,i,s),o=kp(r,n)*s;let l=0;const u=Ap(t)/2;for(let r=0;r<t.length-1;r++){const n=t[r],i=t[r+1],s=n.dist(i);if(l+s>u){const c=(u-l)/s,h=Ir(n.x,i.x,c),p=Ir(n.y,i.y,c),f=new _p(h,p,0,i.angleTo(n),r);return !a||wp(t,f,o,a,e)?f:void 0}l+=s;}}function Mp(t,e,r,n,i,s,a,o,l){const u=Sp(n,s,a),c=kp(n,i),h=c*a,p=0===t[0].x||t[0].x===l||0===t[0].y||t[0].y===l;return e-h<e/4&&(e=h+e/4),zp(t,p?e/2*o%e:(c/2+2*s)*a*o%e,e,u,r,h,p,!1,l)}function zp(t,e,r,n,i,s,a,o,l){const u=s/2,c=Ap(t);let h=0,p=e-r,f=[];for(let e=0;e<t.length-1;e++){const a=t[e],o=t[e+1],d=a.dist(o),y=o.angleTo(a);for(;p+r<h+d;){p+=r;const m=(p-h)/d,g=Ir(a.x,o.x,m),x=Ir(a.y,o.y,m);if(g>=0&&g<l&&x>=0&&x<l&&p-u>=0&&p+u<=c){const r=new _p(g,x,0,y,e);r._round(),n&&!wp(t,r,s,n,i)||f.push(r);}}h+=d;}return o||f.length||a||(f=zp(t,h/2,r,n,i,s,a,!0,l)),f}function Tp(t,e,r,n,i){const s=[];for(let a=0;a<t.length;a++){const o=t[a];let l;for(let t=0;t<o.length-1;t++){let a=o[t],u=o[t+1];a.x<e&&u.x<e||(a.x<e?a=new d(e,a.y+(e-a.x)/(u.x-a.x)*(u.y-a.y))._round():u.x<e&&(u=new d(e,a.y+(e-a.x)/(u.x-a.x)*(u.y-a.y))._round()),a.y<r&&u.y<r||(a.y<r?a=new d(a.x+(r-a.y)/(u.y-a.y)*(u.x-a.x),r)._round():u.y<r&&(u=new d(a.x+(r-a.y)/(u.y-a.y)*(u.x-a.x),r)._round()),a.x>=n&&u.x>=n||(a.x>=n?a=new d(n,a.y+(n-a.x)/(u.x-a.x)*(u.y-a.y))._round():u.x>=n&&(u=new d(n,a.y+(n-a.x)/(u.x-a.x)*(u.y-a.y))._round()),a.y>=i&&u.y>=i||(a.y>=i?a=new d(a.x+(i-a.y)/(u.y-a.y)*(u.x-a.x),i)._round():u.y>=i&&(u=new d(a.x+(i-a.y)/(u.y-a.y)*(u.x-a.x),i)._round()),l&&a.equals(l[l.length-1])||(l=[a],s.push(l)),l.push(u)))));}}return s}ji(_p,\"Anchor\");const Bp=1e20;function Ep(t,e,r,n,i,s,a,o,l){for(let u=e;u<e+n;u++)Pp(t,r*s+u,s,i,a,o,l);for(let u=r;u<r+i;u++)Pp(t,u*s+e,1,n,a,o,l);}function Pp(t,e,r,n,i,s,a){s[0]=0,a[0]=-Bp,a[1]=Bp,i[0]=t[e];for(let o=1,l=0,u=0;o<n;o++){i[o]=t[e+o*r];const n=o*o;do{const t=s[l];u=(i[o]-i[t]+n-t*t)/(o-t)/2;}while(u<=a[l]&&--l>-1);l++,s[l]=o,a[l]=u,a[l+1]=Bp;}for(let o=0,l=0;o<n;o++){for(;a[l+1]<o;)l++;const n=s[l],u=o-n;t[e+o*r]=i[n]+u*u;}}const Cp={none:0,ideographs:1,all:2};class Dp{constructor(t,e,r){this.requestManager=t,this.localGlyphMode=e,this.localFontFamily=r,this.entries={},this.localGlyphs={200:{},400:{},500:{},900:{}};}setURL(t){this.url=t;}getGlyphs(t,e){const r=[];for(const e in t)for(const n of t[e])r.push({stack:e,id:n});M(r,(({stack:t,id:e},r)=>{let n=this.entries[t];n||(n=this.entries[t]={glyphs:{},requests:{},ranges:{},ascender:void 0,descender:void 0});let i=n.glyphs[e];if(void 0!==i)return void r(null,{stack:t,id:e,glyph:i});if(i=this._tinySDF(n,t,e),i)return n.glyphs[e]=i,void r(null,{stack:t,id:e,glyph:i});const s=Math.floor(e/256);if(256*s>65535)return void r(new Error(\"glyphs > 65535 not supported\"));if(n.ranges[s])return void r(null,{stack:t,id:e,glyph:i});let a=n.requests[s];a||(a=n.requests[s]=[],Dp.loadGlyphRange(t,s,this.url,this.requestManager,((t,e)=>{if(e){n.ascender=e.ascender,n.descender=e.descender;for(const t in e.glyphs)this._doesCharSupportLocalGlyph(+t)||(n.glyphs[+t]=e.glyphs[+t]);n.ranges[s]=!0;}for(const r of a)r(t,e);delete n.requests[s];}))),a.push(((n,i)=>{n?r(n):i&&r(null,{stack:t,id:e,glyph:i.glyphs[e]||null});}));}),((t,r)=>{if(t)e(t);else if(r){const t={};for(const{stack:e,id:n,glyph:i}of r)void 0===t[e]&&(t[e]={}),void 0===t[e].glyphs&&(t[e].glyphs={}),t[e].glyphs[n]=i&&{id:i.id,bitmap:i.bitmap.clone(),metrics:i.metrics},t[e].ascender=this.entries[e].ascender,t[e].descender=this.entries[e].descender;e(null,t);}}));}_doesCharSupportLocalGlyph(t){return this.localGlyphMode!==Cp.none&&(this.localGlyphMode===Cp.all?!!this.localFontFamily:!!this.localFontFamily&&(ls(t)||hs(t)||Qi(t)||ts(t)||Ji(t)))}_tinySDF(t,e,r){const n=this.localFontFamily;if(!n||!this._doesCharSupportLocalGlyph(r))return;let i=t.tinySDF;if(!i){let r=\"400\";/bold/i.test(e)?r=\"900\":/medium/i.test(e)?r=\"500\":/light/i.test(e)&&(r=\"200\"),i=t.tinySDF=new Dp.TinySDF({fontFamily:n,fontWeight:r,fontSize:48,buffer:6,radius:16}),i.fontWeight=r;}if(this.localGlyphs[i.fontWeight][r])return this.localGlyphs[i.fontWeight][r];const s=String.fromCharCode(r),{data:a,width:o,height:l,glyphWidth:u,glyphHeight:c,glyphLeft:h,glyphTop:p,glyphAdvance:f}=i.draw(s);return this.localGlyphs[i.fontWeight][r]={id:r,bitmap:new wu({width:o,height:l},a),metrics:{width:u/2,height:c/2,left:h/2,top:p/2-27,advance:f/2,localGlyph:!0}}}}function Vp(t,e,r,n){const i=[],s=t.image,a=s.pixelRatio,o=s.paddedRect.w-2,l=s.paddedRect.h-2,u=t.right-t.left,c=t.bottom-t.top,h=s.stretchX||[[0,o]],p=s.stretchY||[[0,l]],f=(t,e)=>t+e[1]-e[0],y=h.reduce(f,0),m=p.reduce(f,0),g=o-y,x=l-m;let v=0,b=y,_=0,w=m,A=0,S=g,k=0,I=x;if(s.content&&n){const t=s.content;v=Fp(h,0,t[0]),_=Fp(p,0,t[1]),b=Fp(h,t[0],t[2]),w=Fp(p,t[1],t[3]),A=t[0]-v,k=t[1]-_,S=t[2]-t[0]-b,I=t[3]-t[1]-w;}const M=(n,i,o,l)=>{const h=Rp(n.stretch-v,b,u,t.left),p=Up(n.fixed-A,S,n.stretch,y),f=Rp(i.stretch-_,w,c,t.top),g=Up(i.fixed-k,I,i.stretch,m),x=Rp(o.stretch-v,b,u,t.left),M=Up(o.fixed-A,S,o.stretch,y),z=Rp(l.stretch-_,w,c,t.top),T=Up(l.fixed-k,I,l.stretch,m),B=new d(h,f),E=new d(x,f),P=new d(x,z),C=new d(h,z),D=new d(p/a,g/a),V=new d(M/a,T/a),F=e*Math.PI/180;if(F){const t=Math.sin(F),e=Math.cos(F),r=[e,-t,t,e];B._matMult(r),E._matMult(r),C._matMult(r),P._matMult(r);}const L=n.stretch+n.fixed,R=i.stretch+i.fixed;return {tl:B,tr:E,bl:C,br:P,tex:{x:s.paddedRect.x+1+L,y:s.paddedRect.y+1+R,w:o.stretch+o.fixed-L,h:l.stretch+l.fixed-R},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:D,pixelOffsetBR:V,minFontScaleX:S/a/u,minFontScaleY:I/a/c,isSDF:r}};if(n&&(s.stretchX||s.stretchY)){const t=Lp(h,g,y),e=Lp(p,x,m);for(let r=0;r<t.length-1;r++){const n=t[r],s=t[r+1];for(let t=0;t<e.length-1;t++)i.push(M(n,e[t],s,e[t+1]));}}else i.push(M({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:o+1},{fixed:0,stretch:l+1}));return i}function Fp(t,e,r){let n=0;for(const i of t)n+=Math.max(e,Math.min(r,i[1]))-Math.max(e,Math.min(r,i[0]));return n}function Lp(t,e,r){const n=[{fixed:-1,stretch:0}];for(const[e,r]of t){const t=n[n.length-1];n.push({fixed:e-t.stretch,stretch:t.stretch}),n.push({fixed:e-t.stretch,stretch:t.stretch+(r-e)});}return n.push({fixed:e+1,stretch:r}),n}function Rp(t,e,r,n){return t/e*r+n}function Up(t,e,r,n){return t-e*r/n}function jp(t,e,r,n){const i=e+t.positionedLines[n].lineOffset;return 0===n?r+i/2:r+(i+(e+t.positionedLines[n-1].lineOffset))/2}Dp.loadGlyphRange=function(t,e,r,n,i){const s=256*e,a=s+255,o=n.transformRequest(n.normalizeGlyphsURL(r).replace(\"{fontstack}\",t).replace(\"{range}\",`${s}-${a}`),st.Glyphs);ut(o,((t,e)=>{if(t)i(t);else if(e){const t={},r=function(t){return new Eh(t).readFields(Qh,{})}(e);for(const e of r.glyphs)t[e.id]=e;i(null,{glyphs:t,ascender:r.ascender,descender:r.descender});}}));},Dp.TinySDF=class{constructor({fontSize:t=24,buffer:e=3,radius:r=8,cutoff:n=.25,fontFamily:i=\"sans-serif\",fontWeight:s=\"normal\",fontStyle:a=\"normal\"}={}){this.buffer=e,this.cutoff=n,this.radius=r;const o=this.size=t+4*e,l=this._createCanvas(o),u=this.ctx=l.getContext(\"2d\",{willReadFrequently:!0});u.font=`${a} ${s} ${t}px ${i}`,u.textBaseline=\"alphabetic\",u.textAlign=\"left\",u.fillStyle=\"black\",this.gridOuter=new Float64Array(o*o),this.gridInner=new Float64Array(o*o),this.f=new Float64Array(o),this.z=new Float64Array(o+1),this.v=new Uint16Array(o);}_createCanvas(t){const e=document.createElement(\"canvas\");return e.width=e.height=t,e}draw(t){const{width:e,actualBoundingBoxAscent:r,actualBoundingBoxDescent:n,actualBoundingBoxLeft:i,actualBoundingBoxRight:s}=this.ctx.measureText(t),a=Math.ceil(r),o=Math.min(this.size-this.buffer,Math.ceil(s-i)),l=Math.min(this.size-this.buffer,a+Math.ceil(n)),u=o+2*this.buffer,c=l+2*this.buffer,h=Math.max(u*c,0),p=new Uint8ClampedArray(h),f={data:p,width:u,height:c,glyphWidth:o,glyphHeight:l,glyphTop:a,glyphLeft:0,glyphAdvance:e};if(0===o||0===l)return f;const{ctx:d,buffer:y,gridInner:m,gridOuter:g}=this;d.clearRect(y,y,o,l),d.fillText(t,y,y+a);const x=d.getImageData(y,y,o,l);g.fill(Bp,0,h),m.fill(0,0,h);for(let t=0;t<l;t++)for(let e=0;e<o;e++){const r=x.data[4*(t*o+e)+3]/255;if(0===r)continue;const n=(t+y)*u+e+y;if(1===r)g[n]=0,m[n]=Bp;else {const t=.5-r;g[n]=t>0?t*t:0,m[n]=t<0?t*t:0;}}Ep(g,0,0,u,c,u,this.f,this.v,this.z),Ep(m,y,y,o,l,u,this.f,this.v,this.z);for(let t=0;t<h;t++){const e=Math.sqrt(g[t])-Math.sqrt(m[t]);p[t]=Math.round(255-255*(e/this.radius+this.cutoff));}return f}};class $p{constructor(t=[],e=Op){if(this.data=t,this.length=this.data.length,this.compare=e,this.length>0)for(let t=(this.length>>1)-1;t>=0;t--)this._down(t);}push(t){this.data.push(t),this.length++,this._up(this.length-1);}pop(){if(0===this.length)return;const t=this.data[0],e=this.data.pop();return this.length--,this.length>0&&(this.data[0]=e,this._down(0)),t}peek(){return this.data[0]}_up(t){const{data:e,compare:r}=this,n=e[t];for(;t>0;){const i=t-1>>1,s=e[i];if(r(n,s)>=0)break;e[t]=s,t=i;}e[t]=n;}_down(t){const{data:e,compare:r}=this,n=this.length>>1,i=e[t];for(;t<n;){let n=1+(t<<1),s=e[n];const a=n+1;if(a<this.length&&r(e[a],s)<0&&(n=a,s=e[a]),r(s,i)>=0)break;e[t]=s,t=n;}e[t]=i;}}function Op(t,e){return t<e?-1:t>e?1:0}function qp(t,e=1,r=!1){let n=1/0,i=1/0,s=-1/0,a=-1/0;const o=t[0];for(let t=0;t<o.length;t++){const e=o[t];(!t||e.x<n)&&(n=e.x),(!t||e.y<i)&&(i=e.y),(!t||e.x>s)&&(s=e.x),(!t||e.y>a)&&(a=e.y);}const l=Math.min(s-n,a-i);let u=l/2;const c=new $p([],Np);if(0===l)return new d(n,i);for(let e=n;e<s;e+=l)for(let r=i;r<a;r+=l)c.push(new Gp(e+u,r+u,u,t));let h=function(t){let e=0,r=0,n=0;const i=t[0];for(let t=0,s=i.length,a=s-1;t<s;a=t++){const s=i[t],o=i[a],l=s.x*o.y-o.x*s.y;r+=(s.x+o.x)*l,n+=(s.y+o.y)*l,e+=3*l;}return new Gp(r/e,n/e,0,t)}(t),p=c.length;for(;c.length;){const n=c.pop();(n.d>h.d||!h.d)&&(h=n,r&&console.log(\"found best %d after %d probes\",Math.round(1e4*n.d)/1e4,p)),n.max-h.d<=e||(u=n.h/2,c.push(new Gp(n.p.x-u,n.p.y-u,u,t)),c.push(new Gp(n.p.x+u,n.p.y-u,u,t)),c.push(new Gp(n.p.x-u,n.p.y+u,u,t)),c.push(new Gp(n.p.x+u,n.p.y+u,u,t)),p+=4);}return r&&(console.log(`num probes: ${p}`),console.log(`best distance: ${h.d}`)),h.p}function Np(t,e){return e.max-t.max}function Gp(t,e,r,n){this.p=new d(t,e),this.h=r,this.d=function(t,e){let r=!1,n=1/0;for(let i=0;i<e.length;i++){const s=e[i];for(let e=0,i=s.length,a=i-1;e<i;a=e++){const i=s[e],o=s[a];i.y>t.y!=o.y>t.y&&t.x<(o.x-i.x)*(t.y-i.y)/(o.y-i.y)+i.x&&(r=!r),n=Math.min(n,cl(t,i,o));}}return (r?1:-1)*Math.sqrt(n)}(this.p,n),this.max=this.d+this.h*Math.SQRT2;}const Zp=Number.POSITIVE_INFINITY,Xp=Math.sqrt(2);function Kp(t,e){return e[1]!==Zp?function(t,e,r){let n=0,i=0;switch(e=Math.abs(e),r=Math.abs(r),t){case\"top-right\":case\"top-left\":case\"top\":i=r-7;break;case\"bottom-right\":case\"bottom-left\":case\"bottom\":i=7-r;}switch(t){case\"top-right\":case\"bottom-right\":case\"right\":n=-e;break;case\"top-left\":case\"bottom-left\":case\"left\":n=e;}return [n,i]}(t,e[0],e[1]):function(t,e){let r=0,n=0;e<0&&(e=0);const i=e/Xp;switch(t){case\"top-right\":case\"top-left\":n=i-7;break;case\"bottom-right\":case\"bottom-left\":n=7-i;break;case\"bottom\":n=7-e;break;case\"top\":n=e-7;}switch(t){case\"top-right\":case\"bottom-right\":r=-i;break;case\"top-left\":case\"bottom-left\":r=i;break;case\"left\":r=e;break;case\"right\":r=-e;}return [r,n]}(t,e[0])}function Hp(t,e,r,n,i,s,a,o,l,u){t.createArrays(),t.tilePixelRatio=Bo/(512*t.overscaling),t.compareText={},t.iconsNeedLinear=!1;const c=t.layers[0].layout,h=t.layers[0]._unevaluatedLayout._values,p={};if(\"composite\"===t.textSizeData.kind){const{minZoom:e,maxZoom:r}=t.textSizeData;p.compositeTextSizes=[h[\"text-size\"].possiblyEvaluate(new Us(e),o),h[\"text-size\"].possiblyEvaluate(new Us(r),o)];}if(\"composite\"===t.iconSizeData.kind){const{minZoom:e,maxZoom:r}=t.iconSizeData;p.compositeIconSizes=[h[\"icon-size\"].possiblyEvaluate(new Us(e),o),h[\"icon-size\"].possiblyEvaluate(new Us(r),o)];}p.layoutTextSize=h[\"text-size\"].possiblyEvaluate(new Us(l+1),o),p.layoutIconSize=h[\"icon-size\"].possiblyEvaluate(new Us(l+1),o),p.textMaxSize=h[\"text-size\"].possiblyEvaluate(new Us(18),o);const f=\"map\"===c.get(\"text-rotation-alignment\")&&\"point\"!==c.get(\"symbol-placement\"),d=c.get(\"text-size\");for(const s of t.features){const l=c.get(\"text-font\").evaluate(s,{},o).join(\",\"),h=d.evaluate(s,{},o),y=p.layoutTextSize.evaluate(s,{},o),m=(p.layoutIconSize.evaluate(s,{},o),{horizontal:{},vertical:void 0}),g=s.text;let x,v=[0,0];if(g){const n=g.toString(),a=c.get(\"text-letter-spacing\").evaluate(s,{},o)*_h,u=c.get(\"text-line-height\").evaluate(s,{},o)*_h,p=bs(n)?a:0,d=c.get(\"text-anchor\").evaluate(s,{},o),x=c.get(\"text-variable-anchor\");if(!x){const t=c.get(\"text-radial-offset\").evaluate(s,{},o);v=t?Kp(d,[t*_h,Zp]):c.get(\"text-offset\").evaluate(s,{},o).map((t=>t*_h));}let b=f?\"center\":c.get(\"text-justify\").evaluate(s,{},o);const _=c.get(\"symbol-placement\"),w=\"point\"===_,A=\"point\"===_?c.get(\"text-max-width\").evaluate(s,{},o)*_h:0,S=s=>{t.allowVerticalPlacement&&vs(n)&&(m.vertical=lp(g,e,r,i,l,A,u,d,s,p,v,sp.vertical,!0,_,y,h));};if(!f&&x){const t=\"auto\"===b?x.map((t=>Yp(t))):[b];let n=!1;for(let s=0;s<t.length;s++){const a=t[s];if(!m.horizontal[a])if(n)m.horizontal[a]=m.horizontal[0];else {const t=lp(g,e,r,i,l,A,u,\"center\",a,p,v,sp.horizontal,!1,_,y,h);t&&(m.horizontal[a]=t,n=1===t.positionedLines.length);}}S(\"left\");}else {if(\"auto\"===b&&(b=Yp(d)),w||c.get(\"text-writing-mode\").indexOf(\"horizontal\")>=0||!vs(n)){const t=lp(g,e,r,i,l,A,u,d,b,p,v,sp.horizontal,!1,_,y,h);t&&(m.horizontal[b]=t);}S(\"point\"===_?\"left\":b);}}let b=!1;if(s.icon&&s.icon.name){const e=n[s.icon.name];e&&(x=vp(i[s.icon.name],c.get(\"icon-offset\").evaluate(s,{},o),c.get(\"icon-anchor\").evaluate(s,{},o)),b=e.sdf,void 0===t.sdfIcons?t.sdfIcons=e.sdf:t.sdfIcons!==e.sdf&&$(\"Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer\"),(e.pixelRatio!==t.pixelRatio||0!==c.get(\"icon-rotate\").constantOr(1))&&(t.iconsNeedLinear=!0));}const _=tf(m.horizontal)||m.vertical;t.iconsInText||(t.iconsInText=!!_&&_.iconsInText),(_||x)&&Wp(t,s,m,x,n,p,y,0,v,b,a,o,u);}s&&t.generateCollisionDebugBuffers(l,t.collisionBoxArray);}function Yp(t){switch(t){case\"right\":case\"top-right\":case\"bottom-right\":return \"right\";case\"left\":case\"top-left\":case\"bottom-left\":return \"left\"}return \"center\"}function Wp(t,e,r,n,i,s,a,o,l,u,c,h,p){let f=s.textMaxSize.evaluate(e,{},h);void 0===f&&(f=a);const d=t.layers[0].layout,y=d.get(\"icon-offset\").evaluate(e,{},h),m=tf(r.horizontal)||r.vertical,g=\"globe\"===p.name,v=a/24,b=t.tilePixelRatio*f/24,_=(T=t.overscaling,t.zoom>18&&T>2&&(T>>=1),Math.max(Bo/(512*T),1)*d.get(\"symbol-spacing\")),w=d.get(\"text-padding\")*t.tilePixelRatio,A=d.get(\"icon-padding\")*t.tilePixelRatio,S=x(d.get(\"text-max-angle\")),k=\"map\"===d.get(\"text-rotation-alignment\")&&\"point\"!==d.get(\"symbol-placement\"),I=\"map\"===d.get(\"icon-rotation-alignment\")&&\"point\"!==d.get(\"symbol-placement\"),M=d.get(\"symbol-placement\"),z=_/2;var T;const B=d.get(\"icon-text-fit\");let E;n&&\"none\"!==B&&(t.allowVerticalPlacement&&r.vertical&&(E=bp(n,r.vertical,B,d.get(\"icon-text-fit-padding\"),y,v)),m&&(n=bp(n,m,B,d.get(\"icon-text-fit-padding\"),y,v)));const P=(a,o,f)=>{if(o.x<0||o.x>=Bo||o.y<0||o.y>=Bo)return;let d=null;if(g){const{x:t,y:e,z:r}=p.projectTilePoint(o.x,o.y,f);d={anchor:new _p(t,e,r,0,void 0),up:p.upVector(f,o.x,o.y)};}!function(t,e,r,n,i,s,a,o,l,u,c,h,p,f,d,y,m,g,x,v,b,_,w,A,S){const k=t.addToLineVertexArray(e,n);let I,M,z,T,B,E,P,C=0,D=0,V=0,F=0,L=-1,R=-1;const U={};let j=Ha.exports(\"\");const O=r?r.anchor:e;let q=0,N=0;if(void 0===l._unevaluatedLayout.getValue(\"text-radial-offset\")?[q,N]=l.layout.get(\"text-offset\").evaluate(b,{},S).map((t=>t*_h)):(q=l.layout.get(\"text-radial-offset\").evaluate(b,{},S)*_h,N=Zp),t.allowVerticalPlacement&&i.vertical){const t=i.vertical;if(d)E=rf(t),o&&(P=rf(o));else {const r=l.layout.get(\"text-rotate\").evaluate(b,{},S)+90;z=ef(u,O,e,c,h,p,t,f,r,y),o&&(T=ef(u,O,e,c,h,p,o,g,r));}}if(s){const n=l.layout.get(\"icon-rotate\").evaluate(b,{},S),i=\"none\"!==l.layout.get(\"icon-text-fit\"),a=Vp(s,n,w,i),f=o?Vp(o,n,w,i):void 0;M=ef(u,O,e,c,h,p,s,g,n),C=4*a.length;const d=t.iconSizeData;let y=null;\"source\"===d.kind?(y=[wh*l.layout.get(\"icon-size\").evaluate(b,{},S)],y[0]>Jp&&$(`${t.layerIds[0]}: Value for \"icon-size\" is >= 255. Reduce your \"icon-size\".`)):\"composite\"===d.kind&&(y=[wh*_.compositeIconSizes[0].evaluate(b,{},S),wh*_.compositeIconSizes[1].evaluate(b,{},S)],(y[0]>Jp||y[1]>Jp)&&$(`${t.layerIds[0]}: Value for \"icon-size\" is >= 255. Reduce your \"icon-size\".`)),t.addSymbols(t.icon,a,y,v,x,b,!1,r,e,k.lineStartIndex,k.lineLength,-1,A,S),L=t.icon.placedSymbolArray.length-1,f&&(D=4*f.length,t.addSymbols(t.icon,f,y,v,x,b,sp.vertical,r,e,k.lineStartIndex,k.lineLength,-1,A,S),R=t.icon.placedSymbolArray.length-1);}for(const n in i.horizontal){const s=i.horizontal[n];I||(j=Ha.exports(s.text),d?B=rf(s):I=ef(u,O,e,c,h,p,s,f,l.layout.get(\"text-rotate\").evaluate(b,{},S),y));const o=1===s.positionedLines.length;if(V+=Qp(t,r,e,s,a,l,d,b,y,k,i.vertical?sp.horizontal:sp.horizontalOnly,o?Object.keys(i.horizontal):[n],U,L,_,A,S),o)break}i.vertical&&(F+=Qp(t,r,e,i.vertical,a,l,d,b,y,k,sp.vertical,[\"vertical\"],U,R,_,A,S));let G=-1;const Z=(t,e)=>t?Math.max(t,e):e;G=Z(B,G),G=Z(E,G),G=Z(P,G);const X=G>-1?1:0;t.glyphOffsetArray.length>=md.MAX_GLYPHS&&$(\"Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907\"),void 0!==b.sortKey&&t.addToSortKeyRanges(t.symbolInstances.length,b.sortKey),t.symbolInstances.emplaceBack(O.x,O.y,O.z,e.x,e.y,U.right>=0?U.right:-1,U.center>=0?U.center:-1,U.left>=0?U.left:-1,U.vertical>=0?U.vertical:-1,L,R,j,void 0!==I?I:t.collisionBoxArray.length,void 0!==I?I+1:t.collisionBoxArray.length,void 0!==z?z:t.collisionBoxArray.length,void 0!==z?z+1:t.collisionBoxArray.length,void 0!==M?M:t.collisionBoxArray.length,void 0!==M?M+1:t.collisionBoxArray.length,T||t.collisionBoxArray.length,T?T+1:t.collisionBoxArray.length,c,V,F,C,D,X,0,q,N,G);}(t,o,d,a,r,n,i,E,t.layers[0],t.collisionBoxArray,e.index,e.sourceLayerIndex,t.index,w,k,l,0,A,I,y,e,s,u,c,h);};if(\"line\"===M)for(const i of Tp(e.geometry,0,0,Bo,Bo)){const e=Mp(i,_,S,r.vertical||m,n,24,b,t.overscaling,Bo);for(const r of e){const e=m;e&&nf(t,e.text,z,r)||P(i,r,h);}}else if(\"line-center\"===M){for(const t of e.geometry)if(t.length>1){const e=Ip(t,S,r.vertical||m,n,24,b);e&&P(t,e,h);}}else if(\"Polygon\"===e.type)for(const t of ac(e.geometry,0)){const e=qp(t,16);P(t[0],new _p(e.x,e.y,0,0,void 0),h);}else if(\"LineString\"===e.type)for(const t of e.geometry)P(t,new _p(t[0].x,t[0].y,0,0,void 0),h);else if(\"Point\"===e.type)for(const t of e.geometry)for(const e of t)P([e],new _p(e.x,e.y,0,0,void 0),h);}const Jp=32640;function Qp(t,e,r,n,i,s,a,o,l,u,c,h,p,f,y,m,g){const x=function(t,e,r,n,i,s,a,o){const l=[];if(0===e.positionedLines.length)return l;const u=n.layout.get(\"text-rotate\").evaluate(s,{})*Math.PI/180,c=function(t){const e=t[0],r=t[1],n=e*r;return n>0?[e,-r]:n<0?[-e,r]:0===e?[r,e]:[r,-e]}(r);let h=Math.abs(e.top-e.bottom);for(const t of e.positionedLines)h-=t.lineOffset;const p=e.positionedLines.length,f=h/p;let y=e.top-r[1];for(let t=0;t<p;++t){const n=e.positionedLines[t];y=jp(e,f,y,t);for(const t of n.positionedGlyphs){if(!t.rect)continue;const n=t.rect||{};let s=4,h=!0,p=1,f=0;if(t.imageName){const e=a[t.imageName];if(!e)continue;if(e.sdf){$(\"SDF images are not supported in formatted text and will be ignored.\");continue}h=!1,p=e.pixelRatio,s=1/p;}const m=(i||o)&&t.vertical,g=t.metrics.advance*t.scale/2,x=t.metrics,v=t.rect;if(null===v)continue;o&&e.verticalizable&&(f=t.imageName?g-t.metrics.width*t.scale/2:0);const b=i?[t.x+g,t.y]:[0,0];let _=[0,0],w=[0,0],A=!1;i||(m?(w=[t.x+g+c[0],t.y+c[1]-f],A=!0):_=[t.x+g+r[0],t.y+r[1]-f]);const S=v.w*t.scale/(p*(t.localGlyph?2:1)),k=v.h*t.scale/(p*(t.localGlyph?2:1));let I,M,z,T;if(m){const e=t.y-y,r=new d(-g,g-e),n=-Math.PI/2,i=new d(...w);I=new d(-g+_[0],_[1]),I._rotateAround(n,r)._add(i),I.x+=-e+g,I.y-=(x.left-s)*t.scale;const a=t.imageName?x.advance*t.scale:_h*t.scale,o=String.fromCharCode(t.glyph);Th(o)?I.x+=(1-s)*t.scale:Bh(o)?I.x+=a-x.height*t.scale+(-s-1)*t.scale:I.x+=t.imageName||x.width+2*s===v.w&&x.height+2*s===v.h?(a-k)/2:(a-(x.height+2*s)*t.scale)/2,M=new d(I.x,I.y-S),z=new d(I.x+k,I.y),T=new d(I.x+k,I.y-S);}else {const e=(x.left-s)*t.scale-g+_[0],r=(-x.top-s)*t.scale+_[1],n=e+S,i=r+k;I=new d(e,r),M=new d(n,r),z=new d(e,i),T=new d(n,i);}if(u){let t;t=i?new d(0,0):A?new d(c[0],c[1]):new d(r[0],r[1]),I._rotateAround(u,t),M._rotateAround(u,t),z._rotateAround(u,t),T._rotateAround(u,t);}const B=new d(0,0),E=new d(0,0);l.push({tl:I,tr:M,bl:z,br:T,tex:n,writingMode:e.writingMode,glyphOffset:b,sectionIndex:t.sectionIndex,isSDF:h,pixelOffsetTL:B,pixelOffsetBR:E,minFontScaleX:0,minFontScaleY:0});}}return l}(0,n,l,s,a,o,i,t.allowVerticalPlacement),v=t.textSizeData;let b=null;\"source\"===v.kind?(b=[wh*s.layout.get(\"text-size\").evaluate(o,{},g)],b[0]>Jp&&$(`${t.layerIds[0]}: Value for \"text-size\" is >= 255. Reduce your \"text-size\".`)):\"composite\"===v.kind&&(b=[wh*y.compositeTextSizes[0].evaluate(o,{},g),wh*y.compositeTextSizes[1].evaluate(o,{},g)],(b[0]>Jp||b[1]>Jp)&&$(`${t.layerIds[0]}: Value for \"text-size\" is >= 255. Reduce your \"text-size\".`)),t.addSymbols(t.text,x,b,l,a,o,c,e,r,u.lineStartIndex,u.lineLength,f,m,g);for(const e of h)p[e]=t.text.placedSymbolArray.length-1;return 4*x.length}function tf(t){for(const e in t)return t[e];return null}function ef(t,e,r,n,i,s,a,o,l,u){let c=a.top,h=a.bottom,p=a.left,f=a.right;const y=a.collisionPadding;if(y&&(p-=y[0],c-=y[1],f+=y[2],h+=y[3]),l){const t=new d(p,c),e=new d(f,c),r=new d(p,h),n=new d(f,h),i=x(l);let s=new d(0,0);u&&(s=new d(u[0],u[1])),t._rotateAround(i,s),e._rotateAround(i,s),r._rotateAround(i,s),n._rotateAround(i,s),p=Math.min(t.x,e.x,r.x,n.x),f=Math.max(t.x,e.x,r.x,n.x),c=Math.min(t.y,e.y,r.y,n.y),h=Math.max(t.y,e.y,r.y,n.y);}return t.emplaceBack(e.x,e.y,e.z,r.x,r.y,p,c,f,h,o,n,i,s),t.length-1}function rf(t){t.collisionPadding&&(t.top-=t.collisionPadding[1],t.bottom+=t.collisionPadding[3]);const e=t.bottom-t.top;return e>0?Math.max(10,e):null}function nf(t,e,r,n){const i=t.compareText;if(e in i){const t=i[e];for(let e=t.length-1;e>=0;e--)if(n.dist(t[e])<r)return !0}else i[e]=[];return i[e].push(n),!1}const sf=ia([{type:\"Float32\",name:\"a_globe_pos\",components:3},{type:\"Float32\",name:\"a_uv\",components:2}]),{members:af}=sf,of=ia([{name:\"a_pos_3\",components:3,type:\"Int16\"}]);var lf=ia([{name:\"a_pos\",type:\"Int16\",components:2}]);const uf=Bo/Math.PI/2,cf=2*Ro(1,0)*uf*Math.PI,hf=64,pf=[hf,32,16],ff=-uf,df=uf,yf=[new pu([ff,ff,ff],[df,df,df]),new pu([ff,ff,ff],[0,0,df]),new pu([0,ff,ff],[df,0,df]),new pu([ff,0,ff],[0,df,df]),new pu([0,0,ff],[df,df,df])];function mf(t,e,r,n=!0){const i=Nl([],t._camera.position,t.worldSize),s=[e,r,1,1];nu(s,s,t.pixelMatrixInverse),eu(s,s,1/s[3]);const a=Zl([],Jl([],s,i)),o=t.globeMatrix,l=[o[12],o[13],o[14]],u=Jl([],l,i),c=Ll(u),h=Zl([],u),p=t.worldSize/(2*Math.PI),f=Xl(h,a),d=Math.asin(p/c);if(d<Math.acos(f)){if(!n)return null;const t=[],e=[];Nl(t,a,c/f),Zl(e,Jl(e,t,u)),Zl(a,Ul(a,u,Nl(a,e,Math.tan(d)*c)));}const y=[];new uu(i,a).closestPointOnSphere(l,p,y);const m=Zl([],H(o,0)),g=Zl([],H(o,1)),x=Zl([],H(o,2)),b=Xl(m,y),_=Xl(g,y),w=Xl(x,y),A=v(Math.asin(-_/p));let k=v(Math.atan2(b,w));k=t.center.lng+function(t,e){const r=(e-t+180)%360-180;return r<-180?r+360:r}(t.center.lng,k);const I=Fo(k),M=S(Lo(A),0,1);return new No(I,M)}class gf{constructor(t,e,r){this.a=Jl([],t,r),this.b=Jl([],e,r),this.center=r;const n=Zl([],this.a),i=Zl([],this.b);this.angle=Math.acos(Xl(n,i));}}function xf(t,e){if(0===t.angle)return null;let r;return r=0===t.a[e]?1/t.angle*.5*Math.PI:1/t.angle*Math.atan(t.b[e]/t.a[e]/Math.sin(t.angle)-1/Math.tan(t.angle)),r<0||r>1?null:function(t,e,r,n){const i=Math.sin(r);return t*(Math.sin((1-n)*r)/i)+e*(Math.sin(n*r)/i)}(t.a[e],t.b[e],t.angle,S(r,0,1))+t.center[e]}function vf(t){if(t.z<=1)return yf[t.z+2*t.y+t.x];const e=kf(Sf(t));return pu.fromPoints(e)}function bf(t,e,r){return Nl(t,t,1-r),Gl(t,t,e,r)}function _f(t,e){const r=Df(e.zoom);if(0===r)return vf(t);const n=Sf(t),i=kf(n),s=Fo(n.getWest())*e.worldSize,a=Fo(n.getEast())*e.worldSize,o=Lo(n.getNorth())*e.worldSize,l=Lo(n.getSouth())*e.worldSize,u=[s,o,0],c=[a,o,0],h=[s,l,0],p=[a,l,0],f=Il([],e.globeMatrix);return Hl(u,u,f),Hl(c,c,f),Hl(h,h,f),Hl(p,p,f),i[0]=bf(i[0],h,r),i[1]=bf(i[1],p,r),i[2]=bf(i[2],c,r),i[3]=bf(i[3],u,r),pu.fromPoints(i)}function wf(t,e,r){for(const n of t)Hl(n,n,e),Nl(n,n,r);}function Af(t,e,r){const n=e/t.worldSize,i=t.globeMatrix;if(r.z<=1){const t=vf(r).getCorners();return wf(t,i,n),pu.fromPoints(t)}const s=Sf(r),a=kf(s);wf(a,i,n);const o=Number.MAX_VALUE,l=[-o,-o,-o],u=[o,o,o];if(s.contains(t.center)){for(const t of a)Ol(u,u,t),ql(l,l,t);l[2]=0;const e=t.point,r=[e.x*n,e.y*n,0];return Ol(u,u,r),ql(l,l,r),new pu(u,l)}const c=[i[12]*n,i[13]*n,i[14]*n],h=s.getCenter(),p=S(t.center.lat,-85.051129,Oo),f=S(h.lat,-85.051129,Oo),d=Fo(t.center.lng),y=Lo(p);let m=d-Fo(h.lng);const g=y-Lo(f);m>.5?m-=1:m<-.5&&(m+=1);let v=0;Math.abs(m)>Math.abs(g)?v=m>=0?1:3:(v=g>=0?0:2,Gl(c,c,[i[4]*n,i[5]*n,i[6]*n],-Math.sin(x(g>=0?s.getSouth():s.getNorth()))*uf));const b=a[v],_=a[(v+1)%4],w=new gf(b,_,c),A=[xf(w,0)||b[0],xf(w,1)||b[1],xf(w,2)||b[2]],k=Df(t.zoom);if(k>0){const n=function({x:t,y:e,z:r},n,i,s,a){const o=1/(1<<r);let l=t*o,u=l+o,c=e*o,h=c+o,p=0;const f=(l+u)/2-s;return f>.5?p=-1:f<-.5&&(p=1),l=((l+p)*n-(s*=n))*i+s,u=((u+p)*n-s)*i+s,c=(c*n-(a*=n))*i+a,h=(h*n-a)*i+a,[[l,h,0],[u,h,0],[u,c,0],[l,c,0]]}(r,e,t._pixelsPerMercatorPixel,d,y);for(let t=0;t<a.length;t++)bf(a[t],n[t],k);const i=Ul([],n[v],n[(v+1)%4]);Nl(i,i,.5),bf(A,i,k);}for(const t of a)Ol(u,u,t),ql(l,l,t);return u[2]=Math.min(b[2],_[2]),Ol(u,u,A),ql(l,l,A),new pu(u,l)}function Sf({x:t,y:e,z:r}){const n=1/(1<<r),i=new Co(Uo(t*n),jo((e+1)*n)),s=new Co(Uo((t+1)*n),jo(e*n));return new Eo(i,s)}function kf(t){const e=x(t.getNorth()),r=x(t.getSouth()),n=Math.cos(e),i=Math.cos(r),s=Math.sin(e),a=Math.sin(r),o=t.getWest(),l=t.getEast();return [If(i,a,o),If(i,a,l),If(n,s,l),If(n,s,o)]}function If(t,e,r,n=uf){return r=x(r),[t*Math.sin(r)*n,-e*n,t*Math.cos(r)*n]}function Mf(t,e,r){return If(Math.cos(x(t)),Math.sin(x(t)),e,r)}function zf(t,e,r,n){const i=1<<r.z,s=(t/Bo+r.x)/i;return Mf(jo((e/Bo+r.y)/i),Uo(s),n)}function Tf({min:t,max:e}){return 16383/Math.max(e[0]-t[0],e[1]-t[1],e[2]-t[2])}const Bf=new Float64Array(16);function Ef(t){const e=Tf(t),r=Pl(Bf,[e,e,e]);return zl(r,r,((n=[])[0]=-(i=t.min)[0],n[1]=-i[1],n[2]=-i[2],n));var n,i;}function Pf(t){const e=(n=t.min,(r=Bf)[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=n[0],r[13]=n[1],r[14]=n[2],r[15]=1,r);var r,n;const i=1/Tf(t);return Tl(e,e,[i,i,i])}function Cf(t,e,r,n,i){const s=function(t){const e=Bo/(2*Math.PI);return t/(2*Math.PI)/e}(r),a=[t,e,-r/(2*Math.PI)],o=kl(new Float64Array(16));return zl(o,o,a),Tl(o,o,[s,s,s]),Bl(o,o,x(-i)),El(o,o,x(-n)),o}function Df(t){return k(5,6,t)}function Vf(t,e){const r=Mf(e.lat,e.lng),n=function(t){const e=Mf(t._center.lat,t._center.lng);let r=Kl([],Rl(0,1,0),e);const n=Cl([],-t.angle,e);r=Hl(r,r,n),Cl(n,-t._pitch,r);const i=Zl([],e);return Nl(i,i,t.cameraToCenterDistance/t.pixelsPerMeter*cf),Hl(i,i,n),Ul([],e,i)}(t);return a=(i=jl([],n,r))[0],o=i[1],l=i[2],u=(s=r)[0],c=s[1],h=s[2],f=(p=Math.sqrt(a*a+o*o+l*l)*Math.sqrt(u*u+c*c+h*h))&&Xl(i,s)/p,Math.acos(Math.min(Math.max(f,-1),1));var i,s,a,o,l,u,c,h,p,f;}const Ff=x(85),Lf=Math.cos(Ff),Rf=Math.sin(Ff);function Uf(t,e){const r=t.fovAboveCenter,n=t.elevation?t.elevation.getMinElevationBelowMSL()*e:0,i=(t._camera.position[2]*t.worldSize-n)/Math.cos(t._pitch),s=Math.sin(r)*i/Math.sin(Math.max(Math.PI/2-t._pitch-r,.01)),a=Math.sin(t._pitch)*s+i;return Math.min(1.01*a,i*(1/t._horizonShift))}function jf(t,e){if(!e.isReprojectedInTileSpace)return {scale:1<<t.z,x:t.x,y:t.y,x2:t.x+1,y2:t.y+1,projection:e};const r=Math.pow(2,-t.z),n=t.x*r,i=(t.x+1)*r,s=t.y*r,a=(t.y+1)*r,o=Uo(n),l=Uo(i),u=jo(s),c=jo(a),h=e.project(o,u),p=e.project(l,u),f=e.project(l,c),d=e.project(o,c);let y=Math.min(h.x,p.x,f.x,d.x),m=Math.min(h.y,p.y,f.y,d.y),g=Math.max(h.x,p.x,f.x,d.x),x=Math.max(h.y,p.y,f.y,d.y);const v=r/16;function b(t,r,n,i,s,a){const o=(n+s)/2,l=(i+a)/2,u=e.project(Uo(o),jo(l)),c=Math.max(0,y-u.x,m-u.y,u.x-g,u.y-x);y=Math.min(y,u.x),g=Math.max(g,u.x),m=Math.min(m,u.y),x=Math.max(x,u.y),c>v&&(b(t,u,n,i,o,l),b(u,r,o,l,s,a));}b(h,p,n,s,i,s),b(p,f,i,s,i,a),b(f,d,i,a,n,a),b(d,h,n,a,n,s),y-=v,m-=v,g+=v,x+=v;const _=1/Math.max(g-y,x-m);return {scale:_,x:y*_,y:m*_,x2:g*_,y2:x*_,projection:e}}const $f=kl(new Float32Array(16));class Of{constructor(t){this.spec=t,this.name=t.name,this.wrap=!1,this.requiresDraping=!1,this.supportsWorldCopies=!1,this.supportsTerrain=!1,this.supportsFog=!1,this.supportsFreeCamera=!1,this.zAxisUnit=\"meters\",this.isReprojectedInTileSpace=!0,this.unsupportedLayers=[\"custom\"],this.center=[0,0],this.range=[3.5,7];}project(t,e){return {x:0,y:0,z:0}}unproject(t,e){return new Co(0,0)}projectTilePoint(t,e,r){return {x:t,y:e,z:0}}locationPoint(t,e,r=!0){return t._coordinatePoint(t.locationCoordinate(e),r)}pixelsPerMeter(t,e){return Ro(1,t)*e}pixelSpaceConversion(t,e,r){return 1}farthestPixelDistance(t){return Uf(t,t.pixelsPerMeter)}pointCoordinate(t,e,r,n){const i=t.horizonLineFromTop(!1),s=new d(e,Math.max(i,r));return t.rayIntersectionCoordinate(t.pointRayIntersection(s,n))}pointCoordinate3D(t,e,r){const n=new d(e,r);if(t.elevation)return t.elevation.pointCoordinate(n);{const e=this.pointCoordinate(t,n.x,n.y,0);return [e.x,e.y,e.z]}}isPointAboveHorizon(t,e){if(t.elevation)return !this.pointCoordinate3D(t,e.x,e.y);const r=t.horizonLineFromTop();return e.y<r}createInversionMatrix(t,e){return $f}createTileMatrix(t,e,r){let n,i,s;const a=r.canonical,o=kl(new Float64Array(16));if(this.isReprojectedInTileSpace){const l=jf(a,this);n=1,i=l.x+r.wrap*l.scale,s=l.y,Tl(o,o,[n/l.scale,n/l.scale,t.pixelsPerMeter/e]);}else n=e/t.zoomScale(a.z),i=(a.x+Math.pow(2,a.z)*r.wrap)*n,s=a.y*n;return zl(o,o,[i,s,0]),Tl(o,o,[n/Bo,n/Bo,1]),o}upVector(t,e,r){return [0,0,1]}upVectorScale(t,e,r){return {metersToTile:1}}}class qf extends Of{constructor(t){super(t),this.range=[4,7],this.center=t.center||[-96,37.5];const[e,r]=this.parallels=t.parallels||[29.5,45.5],n=Math.sin(x(e));this.n=(n+Math.sin(x(r)))/2,this.c=1+n*(2*this.n-n),this.r0=Math.sqrt(this.c)/this.n;}project(t,e){const{n:r,c:n,r0:i}=this,s=x(t-this.center[0]),a=x(e),o=Math.sqrt(n-2*r*Math.sin(a))/r;return {x:o*Math.sin(s*r),y:o*Math.cos(s*r)-i,z:0}}unproject(t,e){const{n:r,c:n,r0:i}=this,s=i+e;let a=Math.atan2(t,Math.abs(s))*Math.sign(s);s*r<0&&(a-=Math.PI*Math.sign(t)*Math.sign(s));const o=x(this.center[0])*r;a=I(a,-Math.PI-o,Math.PI-o);const l=S(v(a/r)+this.center[0],-180,180),u=Math.asin(S((n-(t*t+s*s)*r*r)/(2*r),-1,1)),c=S(v(u),-85.051129,Oo);return new Co(l,c)}}const Nf=1.340264,Gf=-.081106,Zf=893e-6,Xf=.003796,Kf=Math.sqrt(3)/2;class Hf extends Of{project(t,e){e=e/180*Math.PI,t=t/180*Math.PI;const r=Math.asin(Kf*Math.sin(e)),n=r*r,i=n*n*n;return {x:.5*(t*Math.cos(r)/(Kf*(Nf+3*Gf*n+i*(7*Zf+9*Xf*n)))/Math.PI+.5),y:1-.5*(r*(Nf+Gf*n+i*(Zf+Xf*n))/Math.PI+1),z:0}}unproject(t,e){t=(2*t-.5)*Math.PI;let r=e=(2*(1-e)-1)*Math.PI,n=r*r,i=n*n*n;for(let t,s,a,o=0;o<12&&(s=r*(Nf+Gf*n+i*(Zf+Xf*n))-e,a=Nf+3*Gf*n+i*(7*Zf+9*Xf*n),t=s/a,r=S(r-t,-Math.PI/3,Math.PI/3),n=r*r,i=n*n*n,!(Math.abs(t)<1e-12));++o);const s=Kf*t*(Nf+3*Gf*n+i*(7*Zf+9*Xf*n))/Math.cos(r),a=Math.asin(Math.sin(r)/Kf),o=S(180*s/Math.PI,-180,180),l=S(180*a/Math.PI,-85.051129,Oo);return new Co(o,l)}}class Yf extends Of{constructor(t){super(t),this.wrap=!0,this.supportsWorldCopies=!0;}project(t,e){return {x:.5+t/360,y:.5-e/360,z:0}}unproject(t,e){const r=360*(t-.5),n=S(360*(.5-e),-85.051129,Oo);return new Co(r,n)}}const Wf=Math.PI/2;function Jf(t){return Math.tan((Wf+t)/2)}class Qf extends Of{constructor(t){super(t),this.center=t.center||[0,30];const[e,r]=this.parallels=t.parallels||[30,30];let n=x(e),i=x(r);this.southernCenter=n+i<0,this.southernCenter&&(n=-n,i=-i);const s=Math.cos(n),a=Jf(n);this.n=n===i?Math.sin(n):Math.log(s/Math.cos(i))/Math.log(Jf(i)/a),this.f=s*Math.pow(Jf(n),this.n)/this.n;}project(t,e){e=x(e),this.southernCenter&&(e=-e),t=x(t-this.center[0]);const r=1e-6,{n:n,f:i}=this;i>0?e<-Wf+r&&(e=-Wf+r):e>Wf-r&&(e=Wf-r);const s=i/Math.pow(Jf(e),n);let a=s*Math.sin(n*t),o=i-s*Math.cos(n*t);return a=.5*(a/Math.PI+.5),o=.5*(o/Math.PI+.5),{x:a,y:this.southernCenter?o:1-o,z:0}}unproject(t,e){t=(2*t-.5)*Math.PI,this.southernCenter&&(e=1-e),e=(2*(1-e)-.5)*Math.PI;const{n:r,f:n}=this,i=n-e,s=Math.sign(i),a=Math.sign(r)*Math.sqrt(t*t+i*i);let o=Math.atan2(t,Math.abs(i))*s;i*r<0&&(o-=Math.PI*Math.sign(t)*s);const l=S(v(o/r)+this.center[0],-180,180),u=S(v(2*Math.atan(Math.pow(n/a,1/r))-Wf),-85.051129,Oo);return new Co(l,this.southernCenter?-u:u)}}class td extends Of{constructor(t){super(t),this.wrap=!0,this.supportsWorldCopies=!0,this.supportsTerrain=!0,this.supportsFog=!0,this.supportsFreeCamera=!0,this.isReprojectedInTileSpace=!1,this.unsupportedLayers=[],this.range=null;}project(t,e){return {x:Fo(t),y:Lo(e),z:0}}unproject(t,e){const r=Uo(t),n=jo(e);return new Co(r,n)}}const ed=x(Oo);class rd extends Of{project(t,e){const r=(e=x(e))*e,n=r*r;return {x:.5*((t=x(t))*(.8707-.131979*r+n*(n*(.003971*r-.001529*n)-.013791))/Math.PI+.5),y:1-.5*(e*(1.007226+r*(.015085+n*(.028874*r-.044475-.005916*n)))/Math.PI+1),z:0}}unproject(t,e){t=(2*t-.5)*Math.PI;let r=e=(2*(1-e)-1)*Math.PI,n=25,i=0,s=r*r;do{s=r*r;const t=s*s;i=(r*(1.007226+s*(.015085+t*(.028874*s-.044475-.005916*t)))-e)/(1.007226+s*(.045255+t*(.259866*s-.311325-.005916*11*t))),r=S(r-i,-ed,ed);}while(Math.abs(i)>1e-6&&--n>0);s=r*r;const a=S(v(t/(.8707+s*(s*(s*s*s*(.003971-.001529*s)-.013791)-.131979))),-180,180),o=v(r);return new Co(a,o)}}const nd=x(Oo);class id extends Of{project(t,e){e=x(e),t=x(t);const r=Math.cos(e),n=2/Math.PI,i=Math.acos(r*Math.cos(t/2)),s=Math.sin(i)/i,a=.5*(t*n+2*r*Math.sin(t/2)/s)||0,o=.5*(e+Math.sin(e)/s)||0;return {x:.5*(a/Math.PI+.5),y:1-.5*(o/Math.PI+1),z:0}}unproject(t,e){let r=t=(2*t-.5)*Math.PI,n=e=(2*(1-e)-1)*Math.PI,i=25;const s=1e-6;let a=0,o=0;do{const i=Math.cos(n),s=Math.sin(n),l=2*s*i,u=s*s,c=i*i,h=Math.cos(r/2),p=Math.sin(r/2),f=2*h*p,d=p*p,y=1-c*h*h,m=y?1/y:0,g=y?Math.acos(i*h)*Math.sqrt(1/y):0,x=.5*(2*g*i*p+2*r/Math.PI)-t,v=.5*(g*s+n)-e,b=.5*m*(c*d+g*i*h*u)+1/Math.PI,_=m*(f*l/4-g*s*p),w=.125*m*(l*p-g*s*c*f),A=.5*m*(u*h+g*d*i)+.5,k=_*w-A*b;a=(v*_-x*A)/k,o=(x*w-v*b)/k,r=S(r-a,-Math.PI,Math.PI),n=S(n-o,-nd,nd);}while((Math.abs(a)>s||Math.abs(o)>s)&&--i>0);return new Co(v(r),v(n))}}class sd extends Of{constructor(t){super(t),this.center=t.center||[0,0],this.parallels=t.parallels||[0,0],this.cosPhi=Math.max(.01,Math.cos(x(this.parallels[0]))),this.scale=1/(2*Math.max(Math.PI*this.cosPhi,1/this.cosPhi)),this.wrap=!0,this.supportsWorldCopies=!0;}project(t,e){const{scale:r,cosPhi:n}=this;return {x:x(t)*n*r+.5,y:-Math.sin(x(e))/n*r+.5,z:0}}unproject(t,e){const{scale:r,cosPhi:n}=this,i=-(e-.5)/r,s=S(v((t-.5)/r)/n,-180,180),a=Math.asin(S(i*n,-1,1)),o=S(v(a),-85.051129,Oo);return new Co(s,o)}}class ad extends td{constructor(t){super(t),this.requiresDraping=!0,this.supportsWorldCopies=!1,this.supportsFog=!0,this.zAxisUnit=\"pixels\",this.unsupportedLayers=[\"debug\",\"custom\"],this.range=[3,5];}projectTilePoint(t,e,r){const n=zf(t,e,r);return Hl(n,n,Ef(vf(r))),{x:n[0],y:n[1],z:n[2]}}locationPoint(t,e){const r=Mf(e.lat,e.lng),n=Zl([],r),i=t.elevation?t.elevation.getAtPointOrZero(t.locationCoordinate(e),t._centerAltitude):t._centerAltitude;Gl(r,r,n,Ro(1,0)*Bo*i);const s=kl(new Float64Array(16));return Ml(s,t.pixelMatrix,t.globeMatrix),Hl(r,r,s),new d(r[0],r[1])}pixelsPerMeter(t,e){return Ro(1,0)*e}pixelSpaceConversion(t,e,r){const n=Ro(1,t)*e,i=Ir(Ro(1,45)*e,n,r);return this.pixelsPerMeter(t,e)/i}createTileMatrix(t,e,r){const n=Pf(vf(r.canonical));return Ml(new Float64Array(16),t.globeMatrix,n)}createInversionMatrix(t,e){const{center:r}=t,n=Ef(vf(e));return El(n,n,x(r.lng)),Bl(n,n,x(r.lat)),Tl(n,n,[t._pixelsPerMercatorPixel,t._pixelsPerMercatorPixel,1]),Float32Array.from(n)}pointCoordinate(t,e,r,n){return mf(t,e,r,!0)||new No(0,0)}pointCoordinate3D(t,e,r){const n=this.pointCoordinate(t,e,r,0);return [n.x,n.y,n.z]}isPointAboveHorizon(t,e){return !mf(t,e.x,e.y,!1)}farthestPixelDistance(t){const e=function(t,e){const r=t.cameraToCenterDistance,n=t._centerAltitude*e,i=t._camera,s=t._camera.forward(),a=Ul([],Nl([],s,-r),[0,0,n]),o=t.worldSize/(2*Math.PI),l=[0,0,-o],u=t.width/t.height,c=Math.tan(t.fovAboveCenter),h=Nl([],i.up(),c),p=Nl([],i.right(),c*u),f=Zl([],Ul([],Ul([],s,h),p)),d=[];let y;if(new uu(a,f).closestPointOnSphere(l,o,d)){const e=Ul([],d,l),r=Jl([],e,a);y=Math.cos(t.fovAboveCenter)*Ll(r);}else {const t=Jl([],a,l),e=Jl([],l,a);Zl(e,e);const r=Ll(t)-o;y=Math.sqrt(r*(r+2*o));const n=Math.acos(y/(o+r))-Math.acos(Xl(s,e));y*=Math.cos(n);}return 1.01*y}(t,this.pixelsPerMeter(t.center.lat,t.worldSize)),r=Df(t.zoom);if(r>0){const n=Uf(t,Ro(1,t.center.lat)*t.worldSize),i=t.worldSize/(2*Math.PI),s=Math.max(t.width,t.height)/t.worldSize*Math.PI;return Ir(e,n+i*(1-Math.cos(s)),Math.pow(r,10))}return e}upVector(t,e,r){return zf(e,r,t,1)}upVectorScale(t){return {metersToTile:cf*Tf(vf(t))}}}function od(t){const e=t.parallels,r=!!e&&Math.abs(e[0]+e[1])<.01;switch(t.name){case\"mercator\":return new td(t);case\"equirectangular\":return new Yf(t);case\"naturalEarth\":return new rd(t);case\"equalEarth\":return new Hf(t);case\"winkelTripel\":return new id(t);case\"albers\":return r?new sd(t):new qf(t);case\"lambertConformalConic\":return r?new sd(t):new Qf(t);case\"globe\":return new ad(t)}throw new Error(`Invalid projection name: ${t.name}`)}const ld=Bc.types,ud=[{name:\"a_fade_opacity\",components:1,type:\"Uint8\",offset:0}];function cd(t,e,r,n,i,s,a,o,l,u,c,h,p){const f=o?Math.min(Jp,Math.round(o[0])):0,d=o?Math.min(Jp,Math.round(o[1])):0;t.emplaceBack(e,r,Math.round(32*n),Math.round(32*i),s,a,(f<<1)+(l?1:0),d,16*u,16*c,256*h,256*p);}function hd(t,e,r,n,i,s,a){t.emplaceBack(e,r,n,i,s,a);}function pd(t,e,r,n,i){t.emplaceBack(e,r,n,i),t.emplaceBack(e,r,n,i),t.emplaceBack(e,r,n,i),t.emplaceBack(e,r,n,i);}function fd(t){for(const e of t.sections)if(Is(e.text))return !0;return !1}class dd{constructor(t){this.layoutVertexArray=new da,this.indexArray=new wa,this.programConfigurations=t,this.segments=new To,this.dynamicLayoutVertexArray=new ca,this.opacityVertexArray=new ma,this.placedSymbolArray=new Fa,this.globeExtVertexArray=new ya;}isEmpty(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length}upload(t,e,r,n){this.isEmpty()||(r&&(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,dh.members),this.indexBuffer=t.createIndexBuffer(this.indexArray,e),this.dynamicLayoutVertexBuffer=t.createVertexBuffer(this.dynamicLayoutVertexArray,mh.members,!0),this.opacityVertexBuffer=t.createVertexBuffer(this.opacityVertexArray,ud,!0),this.globeExtVertexArray.length>0&&(this.globeExtVertexBuffer=t.createVertexBuffer(this.globeExtVertexArray,yh.members,!0)),this.opacityVertexBuffer.itemSize=1),(r||n)&&this.programConfigurations.upload(t));}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy());}}ji(dd,\"SymbolBuffers\");class yd{constructor(t,e,r){this.layoutVertexArray=new t,this.layoutAttributes=e,this.indexArray=new r,this.segments=new To,this.collisionVertexArray=new ba,this.collisionVertexArrayExt=new _a;}upload(t){this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=t.createVertexBuffer(this.collisionVertexArray,gh.members,!0),this.collisionVertexBufferExt=t.createVertexBuffer(this.collisionVertexArrayExt,xh.members,!0);}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy(),this.collisionVertexBufferExt.destroy());}}ji(yd,\"CollisionBuffers\");class md{constructor(t){this.collisionBoxArray=t.collisionBoxArray,this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((t=>t.id)),this.index=t.index,this.pixelRatio=t.pixelRatio,this.sourceLayerIndex=t.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.fullyClipped=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=kl([]),this.placementViewportMatrix=kl([]);const e=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Ah(this.zoom,e[\"text-size\"]),this.iconSizeData=Ah(this.zoom,e[\"icon-size\"]);const r=this.layers[0].layout,n=r.get(\"symbol-sort-key\"),i=r.get(\"symbol-z-order\");this.canOverlap=r.get(\"text-allow-overlap\")||r.get(\"icon-allow-overlap\")||r.get(\"text-ignore-placement\")||r.get(\"icon-ignore-placement\"),this.sortFeaturesByKey=\"viewport-y\"!==i&&void 0!==n.constantOr(1),this.sortFeaturesByY=(\"viewport-y\"===i||\"auto\"===i&&!this.sortFeaturesByKey)&&this.canOverlap,this.writingModes=r.get(\"text-writing-mode\").map((t=>sp[t])),this.stateDependentLayerIds=this.layers.filter((t=>t.isStateDependent())).map((t=>t.id)),this.sourceID=t.sourceID,this.projection=t.projection;}createArrays(){this.text=new dd(new vo(this.layers,this.zoom,(t=>/^text/.test(t)))),this.icon=new dd(new vo(this.layers,this.zoom,(t=>/^icon/.test(t)))),this.glyphOffsetArray=new Ua,this.lineVertexArray=new ja,this.symbolInstances=new Ra;}calculateGlyphDependencies(t,e,r,n,i){for(let r=0;r<t.length;r++)if(e[t.charCodeAt(r)]=!0,n&&i){const n=zh[t.charAt(r)];n&&(e[n.charCodeAt(0)]=!0);}}populate(t,e,r,n){const i=this.layers[0],s=i.layout,a=\"globe\"===this.projection.name,o=s.get(\"text-font\"),l=s.get(\"text-field\"),u=s.get(\"icon-image\"),c=(\"constant\"!==l.value.kind||l.value.value instanceof Te&&!l.value.value.isEmpty()||l.value.value.toString().length>0)&&(\"constant\"!==o.value.kind||o.value.value.length>0),h=\"constant\"!==u.value.kind||!!u.value.value||Object.keys(u.parameters).length>0,p=s.get(\"symbol-sort-key\");if(this.features=[],!c&&!h)return;const f=e.iconDependencies,d=e.glyphDependencies,y=e.availableImages,m=new Us(this.zoom);for(const{feature:e,id:l,index:u,sourceLayerIndex:g}of t){const t=i._featureFilter.needGeometry,x=Qo(e,t);if(!i._featureFilter.filter(m,x,r))continue;if(t||(x.geometry=Jo(e,r,n)),a&&1!==e.type&&r.z<=5){const t=x.geometry,e=.98078528056,n=(t,n)=>Xl(zf(t.x,t.y,r,1),zf(n.x,n.y,r,1))<e;for(let e=0;e<t.length;e++)t[e]=Ko(t[e],n);}let v,b;if(c){const t=i.getValueAndResolveTokens(\"text-field\",x,r,y),e=Te.factory(t);fd(e)&&(this.hasRTLText=!0),(!this.hasRTLText||\"unavailable\"===Fs()||this.hasRTLText&&Rs.isParsed())&&(v=Mh(e,i,x));}if(h){const t=i.getValueAndResolveTokens(\"icon-image\",x,r,y);b=t instanceof Be?t:Be.fromString(t);}if(!v&&!b)continue;const _=this.sortFeaturesByKey?p.evaluate(x,{},r):void 0;if(this.features.push({id:l,text:v,icon:b,index:u,sourceLayerIndex:g,geometry:x.geometry,properties:e.properties,type:ld[e.type],sortKey:_}),b&&(f[b.name]=!0),v){const t=o.evaluate(x,{},r).join(\",\"),e=\"map\"===s.get(\"text-rotation-alignment\")&&\"point\"!==s.get(\"symbol-placement\");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(sp.vertical)>=0;for(const r of v.sections)if(r.image)f[r.image.name]=!0;else {const n=vs(v.toString()),i=r.fontStack||t,s=d[i]=d[i]||{};this.calculateGlyphDependencies(r.text,s,e,this.allowVerticalPlacement,n);}}}\"line\"===s.get(\"symbol-placement\")&&(this.features=function(t){const e={},r={},n=[];let i=0;function s(e){n.push(t[e]),i++;}function a(t,e,i){const s=r[t];return delete r[t],r[e]=s,n[s].geometry[0].pop(),n[s].geometry[0]=n[s].geometry[0].concat(i[0]),s}function o(t,r,i){const s=e[r];return delete e[r],e[t]=s,n[s].geometry[0].shift(),n[s].geometry[0]=i[0].concat(n[s].geometry[0]),s}function l(t,e,r){const n=r?e[0][e[0].length-1]:e[0][0];return `${t}:${n.x}:${n.y}`}for(let u=0;u<t.length;u++){const c=t[u],h=c.geometry,p=c.text?c.text.toString():null;if(!p){s(u);continue}const f=l(p,h),d=l(p,h,!0);if(f in r&&d in e&&r[f]!==e[d]){const t=o(f,d,h),i=a(f,d,n[t].geometry);delete e[f],delete r[d],r[l(p,n[i].geometry,!0)]=i,n[t].geometry=null;}else f in r?a(f,d,h):d in e?o(f,d,h):(s(u),e[f]=i-1,r[d]=i-1);}return n.filter((t=>t.geometry))}(this.features)),this.sortFeaturesByKey&&this.features.sort(((t,e)=>t.sortKey-e.sortKey));}update(t,e,r,n){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(t,e,this.layers,r,n),this.icon.programConfigurations.updatePaintArrays(t,e,this.layers,r,n));}isEmpty(){return 0===this.symbolInstances.length&&!this.hasRTLText}uploadPending(){return !this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(t){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(t),this.iconCollisionBox.upload(t)),this.text.upload(t,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(t,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0;}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy();}getProjection(){return this.projectionInstance||(this.projectionInstance=od(this.projection)),this.projectionInstance}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData();}addToLineVertexArray(t,e){const r=this.lineVertexArray.length,n=t.segment;if(void 0!==n){let r=t.dist(e[n+1]),i=t.dist(e[n]);const s={};for(let t=n+1;t<e.length;t++)s[t]={x:e[t].x,y:e[t].y,tileUnitDistanceFromAnchor:r},t<e.length-1&&(r+=e[t+1].dist(e[t]));for(let t=n||0;t>=0;t--)s[t]={x:e[t].x,y:e[t].y,tileUnitDistanceFromAnchor:i},t>0&&(i+=e[t-1].dist(e[t]));for(let t=0;t<e.length;t++){const e=s[t];this.lineVertexArray.emplaceBack(e.x,e.y,e.tileUnitDistanceFromAnchor);}}return {lineStartIndex:r,lineLength:this.lineVertexArray.length-r}}addSymbols(t,e,r,n,i,s,a,o,l,u,c,h,p,f){const d=t.indexArray,y=t.layoutVertexArray,m=t.globeExtVertexArray,g=t.segments.prepareSegment(4*e.length,y,d,this.canOverlap?s.sortKey:void 0),x=this.glyphOffsetArray.length,v=g.vertexLength,b=this.allowVerticalPlacement&&a===sp.vertical?Math.PI/2:0,_=s.text&&s.text.sections;for(let n=0;n<e.length;n++){const{tl:i,tr:a,bl:u,br:c,tex:h,pixelOffsetTL:x,pixelOffsetBR:v,minFontScaleX:w,minFontScaleY:A,glyphOffset:S,isSDF:k,sectionIndex:I}=e[n],M=g.vertexLength,z=S[1];if(cd(y,l.x,l.y,i.x,z+i.y,h.x,h.y,r,k,x.x,x.y,w,A),cd(y,l.x,l.y,a.x,z+a.y,h.x+h.w,h.y,r,k,v.x,x.y,w,A),cd(y,l.x,l.y,u.x,z+u.y,h.x,h.y+h.h,r,k,x.x,v.y,w,A),cd(y,l.x,l.y,c.x,z+c.y,h.x+h.w,h.y+h.h,r,k,v.x,v.y,w,A),o){const e=o.anchor,r=o.up;hd(m,e.x,e.y,e.z,r[0],r[1],r[2]),hd(m,e.x,e.y,e.z,r[0],r[1],r[2]),hd(m,e.x,e.y,e.z,r[0],r[1],r[2]),hd(m,e.x,e.y,e.z,r[0],r[1],r[2]),pd(t.dynamicLayoutVertexArray,e.x,e.y,e.z,b);}else pd(t.dynamicLayoutVertexArray,l.x,l.y,l.z,b);d.emplaceBack(M,M+1,M+2),d.emplaceBack(M+1,M+2,M+3),g.vertexLength+=4,g.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(S[0]),n!==e.length-1&&I===e[n+1].sectionIndex||t.programConfigurations.populatePaintArrays(y.length,s,s.index,{},p,f,_&&_[I]);}const w=o?o.anchor:l;t.placedSymbolArray.emplaceBack(w.x,w.y,w.z,l.x,l.y,x,this.glyphOffsetArray.length-x,v,u,c,l.segment,r?r[0]:0,r?r[1]:0,n[0],n[1],a,0,!1,0,h,0);}_commitLayoutVertex(t,e,r,n,i,s,a){t.emplaceBack(e,r,n,i,s,Math.round(a.x),Math.round(a.y));}_addCollisionDebugVertices(t,e,r,n,i,s,a){const o=r.segments.prepareSegment(4,r.layoutVertexArray,r.indexArray),l=o.vertexLength,u=a.tileAnchorX,c=a.tileAnchorY;for(let t=0;t<4;t++)r.collisionVertexArray.emplaceBack(0,0,0,0);r.collisionVertexArrayExt.emplaceBack(e,-t.padding,-t.padding),r.collisionVertexArrayExt.emplaceBack(e,t.padding,-t.padding),r.collisionVertexArrayExt.emplaceBack(e,t.padding,t.padding),r.collisionVertexArrayExt.emplaceBack(e,-t.padding,t.padding),this._commitLayoutVertex(r.layoutVertexArray,n,i,s,u,c,new d(t.x1,t.y1)),this._commitLayoutVertex(r.layoutVertexArray,n,i,s,u,c,new d(t.x2,t.y1)),this._commitLayoutVertex(r.layoutVertexArray,n,i,s,u,c,new d(t.x2,t.y2)),this._commitLayoutVertex(r.layoutVertexArray,n,i,s,u,c,new d(t.x1,t.y2)),o.vertexLength+=4;const h=r.indexArray;h.emplaceBack(l,l+1),h.emplaceBack(l+1,l+2),h.emplaceBack(l+2,l+3),h.emplaceBack(l+3,l),o.primitiveLength+=4;}_addTextDebugCollisionBoxes(t,e,r,n,i,s){for(let a=n;a<i;a++){const n=r.get(a),i=this.getSymbolInstanceTextSize(t,s,e,a);this._addCollisionDebugVertices(n,i,this.textCollisionBox,n.projectedAnchorX,n.projectedAnchorY,n.projectedAnchorZ,s);}}_addIconDebugCollisionBoxes(t,e,r,n,i,s){for(let a=n;a<i;a++){const n=r.get(a),i=this.getSymbolInstanceIconSize(t,e,s.placedIconSymbolIndex);this._addCollisionDebugVertices(n,i,this.iconCollisionBox,n.projectedAnchorX,n.projectedAnchorY,n.projectedAnchorZ,s);}}generateCollisionDebugBuffers(t,e){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new yd(xa,vh.members,za),this.iconCollisionBox=new yd(xa,vh.members,za);const r=kh(this.iconSizeData,t),n=kh(this.textSizeData,t);for(let i=0;i<this.symbolInstances.length;i++){const s=this.symbolInstances.get(i);this._addTextDebugCollisionBoxes(n,t,e,s.textBoxStartIndex,s.textBoxEndIndex,s),this._addTextDebugCollisionBoxes(n,t,e,s.verticalTextBoxStartIndex,s.verticalTextBoxEndIndex,s),this._addIconDebugCollisionBoxes(r,t,e,s.iconBoxStartIndex,s.iconBoxEndIndex,s),this._addIconDebugCollisionBoxes(r,t,e,s.verticalIconBoxStartIndex,s.verticalIconBoxEndIndex,s);}}getSymbolInstanceTextSize(t,e,r,n){const i=this.text.placedSymbolArray.get(e.rightJustifiedTextSymbolIndex>=0?e.rightJustifiedTextSymbolIndex:e.centerJustifiedTextSymbolIndex>=0?e.centerJustifiedTextSymbolIndex:e.leftJustifiedTextSymbolIndex>=0?e.leftJustifiedTextSymbolIndex:e.verticalPlacedTextSymbolIndex>=0?e.verticalPlacedTextSymbolIndex:n),s=Sh(this.textSizeData,t,i)/_h;return this.tilePixelRatio*s}getSymbolInstanceIconSize(t,e,r){const n=this.icon.placedSymbolArray.get(r),i=Sh(this.iconSizeData,t,n);return this.tilePixelRatio*i}_commitDebugCollisionVertexUpdate(t,e,r){t.emplaceBack(e,-r,-r),t.emplaceBack(e,r,-r),t.emplaceBack(e,r,r),t.emplaceBack(e,-r,r);}_updateTextDebugCollisionBoxes(t,e,r,n,i,s){for(let a=n;a<i;a++){const n=r.get(a),i=this.getSymbolInstanceTextSize(t,s,e,a);this._commitDebugCollisionVertexUpdate(this.textCollisionBox.collisionVertexArrayExt,i,n.padding);}}_updateIconDebugCollisionBoxes(t,e,r,n,i,s){for(let a=n;a<i;a++){const n=r.get(a),i=this.getSymbolInstanceIconSize(t,e,s);this._commitDebugCollisionVertexUpdate(this.iconCollisionBox.collisionVertexArrayExt,i,n.padding);}}updateCollisionDebugBuffers(t,e){if(!this.hasDebugData())return;this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexArrayExt.clear(),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexArrayExt.clear();const r=kh(this.iconSizeData,t),n=kh(this.textSizeData,t);for(let i=0;i<this.symbolInstances.length;i++){const s=this.symbolInstances.get(i);this._updateTextDebugCollisionBoxes(n,t,e,s.textBoxStartIndex,s.textBoxEndIndex,s),this._updateTextDebugCollisionBoxes(n,t,e,s.verticalTextBoxStartIndex,s.verticalTextBoxEndIndex,s),this._updateIconDebugCollisionBoxes(r,t,e,s.iconBoxStartIndex,s.iconBoxEndIndex,s.placedIconSymbolIndex),this._updateIconDebugCollisionBoxes(r,t,e,s.verticalIconBoxStartIndex,s.verticalIconBoxEndIndex,s.placedIconSymbolIndex);}this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexBufferExt&&this.textCollisionBox.collisionVertexBufferExt.updateData(this.textCollisionBox.collisionVertexArrayExt),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexBufferExt&&this.iconCollisionBox.collisionVertexBufferExt.updateData(this.iconCollisionBox.collisionVertexArrayExt);}_deserializeCollisionBoxesForSymbol(t,e,r,n,i,s,a,o,l){const u={};for(let n=e;n<r;n++){const e=t.get(n);u.textBox={x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,padding:e.padding,projectedAnchorX:e.projectedAnchorX,projectedAnchorY:e.projectedAnchorY,projectedAnchorZ:e.projectedAnchorZ,tileAnchorX:e.tileAnchorX,tileAnchorY:e.tileAnchorY},u.textFeatureIndex=e.featureIndex;break}for(let e=n;e<i;e++){const r=t.get(e);u.verticalTextBox={x1:r.x1,y1:r.y1,x2:r.x2,y2:r.y2,padding:r.padding,projectedAnchorX:r.projectedAnchorX,projectedAnchorY:r.projectedAnchorY,projectedAnchorZ:r.projectedAnchorZ,tileAnchorX:r.tileAnchorX,tileAnchorY:r.tileAnchorY},u.verticalTextFeatureIndex=r.featureIndex;break}for(let e=s;e<a;e++){const r=t.get(e);u.iconBox={x1:r.x1,y1:r.y1,x2:r.x2,y2:r.y2,padding:r.padding,projectedAnchorX:r.projectedAnchorX,projectedAnchorY:r.projectedAnchorY,projectedAnchorZ:r.projectedAnchorZ,tileAnchorX:r.tileAnchorX,tileAnchorY:r.tileAnchorY},u.iconFeatureIndex=r.featureIndex;break}for(let e=o;e<l;e++){const r=t.get(e);u.verticalIconBox={x1:r.x1,y1:r.y1,x2:r.x2,y2:r.y2,padding:r.padding,projectedAnchorX:r.projectedAnchorX,projectedAnchorY:r.projectedAnchorY,projectedAnchorZ:r.projectedAnchorZ,tileAnchorX:r.tileAnchorX,tileAnchorY:r.tileAnchorY},u.verticalIconFeatureIndex=r.featureIndex;break}return u}deserializeCollisionBoxes(t){this.collisionArrays=[];for(let e=0;e<this.symbolInstances.length;e++){const r=this.symbolInstances.get(e);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(t,r.textBoxStartIndex,r.textBoxEndIndex,r.verticalTextBoxStartIndex,r.verticalTextBoxEndIndex,r.iconBoxStartIndex,r.iconBoxEndIndex,r.verticalIconBoxStartIndex,r.verticalIconBoxEndIndex));}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(t,e){const r=t.placedSymbolArray.get(e),n=r.vertexStartIndex+4*r.numGlyphs;for(let e=r.vertexStartIndex;e<n;e+=4)t.indexArray.emplaceBack(e,e+1,e+2),t.indexArray.emplaceBack(e+1,e+2,e+3);}getSortedSymbolIndexes(t){if(this.sortedAngle===t&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;const e=Math.sin(t),r=Math.cos(t),n=[],i=[],s=[];for(let t=0;t<this.symbolInstances.length;++t){s.push(t);const a=this.symbolInstances.get(t);n.push(0|Math.round(e*a.tileAnchorX+r*a.tileAnchorY)),i.push(a.featureIndex);}return s.sort(((t,e)=>n[t]-n[e]||i[e]-i[t])),s}addToSortKeyRanges(t,e){const r=this.sortKeyRanges[this.sortKeyRanges.length-1];r&&r.sortKey===e?r.symbolInstanceEnd=t+1:this.sortKeyRanges.push({sortKey:e,symbolInstanceStart:t,symbolInstanceEnd:t+1});}sortFeatures(t){if(this.sortFeaturesByY&&this.sortedAngle!==t&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(t),this.sortedAngle=t,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const t of this.symbolInstanceIndexes){const e=this.symbolInstances.get(t);this.featureSortOrder.push(e.featureIndex),[e.rightJustifiedTextSymbolIndex,e.centerJustifiedTextSymbolIndex,e.leftJustifiedTextSymbolIndex].forEach(((t,e,r)=>{t>=0&&r.indexOf(t)===e&&this.addIndicesForPlacedSymbol(this.text,t);})),e.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,e.verticalPlacedTextSymbolIndex),e.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,e.placedIconSymbolIndex),e.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,e.verticalPlacedIconSymbolIndex);}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray);}}}ji(md,\"SymbolBucket\",{omit:[\"layers\",\"collisionBoxArray\",\"features\",\"compareText\"]}),md.MAX_GLYPHS=65535,md.addDynamicAttributes=pd;const gd=new Qs({\"symbol-placement\":new Ks(Ht.layout_symbol[\"symbol-placement\"]),\"symbol-spacing\":new Ks(Ht.layout_symbol[\"symbol-spacing\"]),\"symbol-avoid-edges\":new Ks(Ht.layout_symbol[\"symbol-avoid-edges\"]),\"symbol-sort-key\":new Hs(Ht.layout_symbol[\"symbol-sort-key\"]),\"symbol-z-order\":new Ks(Ht.layout_symbol[\"symbol-z-order\"]),\"icon-allow-overlap\":new Ks(Ht.layout_symbol[\"icon-allow-overlap\"]),\"icon-ignore-placement\":new Ks(Ht.layout_symbol[\"icon-ignore-placement\"]),\"icon-optional\":new Ks(Ht.layout_symbol[\"icon-optional\"]),\"icon-rotation-alignment\":new Ks(Ht.layout_symbol[\"icon-rotation-alignment\"]),\"icon-size\":new Hs(Ht.layout_symbol[\"icon-size\"]),\"icon-text-fit\":new Ks(Ht.layout_symbol[\"icon-text-fit\"]),\"icon-text-fit-padding\":new Ks(Ht.layout_symbol[\"icon-text-fit-padding\"]),\"icon-image\":new Hs(Ht.layout_symbol[\"icon-image\"]),\"icon-rotate\":new Hs(Ht.layout_symbol[\"icon-rotate\"]),\"icon-padding\":new Ks(Ht.layout_symbol[\"icon-padding\"]),\"icon-keep-upright\":new Ks(Ht.layout_symbol[\"icon-keep-upright\"]),\"icon-offset\":new Hs(Ht.layout_symbol[\"icon-offset\"]),\"icon-anchor\":new Hs(Ht.layout_symbol[\"icon-anchor\"]),\"icon-pitch-alignment\":new Ks(Ht.layout_symbol[\"icon-pitch-alignment\"]),\"text-pitch-alignment\":new Ks(Ht.layout_symbol[\"text-pitch-alignment\"]),\"text-rotation-alignment\":new Ks(Ht.layout_symbol[\"text-rotation-alignment\"]),\"text-field\":new Hs(Ht.layout_symbol[\"text-field\"]),\"text-font\":new Hs(Ht.layout_symbol[\"text-font\"]),\"text-size\":new Hs(Ht.layout_symbol[\"text-size\"]),\"text-max-width\":new Hs(Ht.layout_symbol[\"text-max-width\"]),\"text-line-height\":new Hs(Ht.layout_symbol[\"text-line-height\"]),\"text-letter-spacing\":new Hs(Ht.layout_symbol[\"text-letter-spacing\"]),\"text-justify\":new Hs(Ht.layout_symbol[\"text-justify\"]),\"text-radial-offset\":new Hs(Ht.layout_symbol[\"text-radial-offset\"]),\"text-variable-anchor\":new Ks(Ht.layout_symbol[\"text-variable-anchor\"]),\"text-anchor\":new Hs(Ht.layout_symbol[\"text-anchor\"]),\"text-max-angle\":new Ks(Ht.layout_symbol[\"text-max-angle\"]),\"text-writing-mode\":new Ks(Ht.layout_symbol[\"text-writing-mode\"]),\"text-rotate\":new Hs(Ht.layout_symbol[\"text-rotate\"]),\"text-padding\":new Ks(Ht.layout_symbol[\"text-padding\"]),\"text-keep-upright\":new Ks(Ht.layout_symbol[\"text-keep-upright\"]),\"text-transform\":new Hs(Ht.layout_symbol[\"text-transform\"]),\"text-offset\":new Hs(Ht.layout_symbol[\"text-offset\"]),\"text-allow-overlap\":new Ks(Ht.layout_symbol[\"text-allow-overlap\"]),\"text-ignore-placement\":new Ks(Ht.layout_symbol[\"text-ignore-placement\"]),\"text-optional\":new Ks(Ht.layout_symbol[\"text-optional\"])});var xd={paint:new Qs({\"icon-opacity\":new Hs(Ht.paint_symbol[\"icon-opacity\"]),\"icon-color\":new Hs(Ht.paint_symbol[\"icon-color\"]),\"icon-halo-color\":new Hs(Ht.paint_symbol[\"icon-halo-color\"]),\"icon-halo-width\":new Hs(Ht.paint_symbol[\"icon-halo-width\"]),\"icon-halo-blur\":new Hs(Ht.paint_symbol[\"icon-halo-blur\"]),\"icon-translate\":new Ks(Ht.paint_symbol[\"icon-translate\"]),\"icon-translate-anchor\":new Ks(Ht.paint_symbol[\"icon-translate-anchor\"]),\"text-opacity\":new Hs(Ht.paint_symbol[\"text-opacity\"]),\"text-color\":new Hs(Ht.paint_symbol[\"text-color\"],{runtimeType:oe,getOverride:t=>t.textColor,hasOverride:t=>!!t.textColor}),\"text-halo-color\":new Hs(Ht.paint_symbol[\"text-halo-color\"]),\"text-halo-width\":new Hs(Ht.paint_symbol[\"text-halo-width\"]),\"text-halo-blur\":new Hs(Ht.paint_symbol[\"text-halo-blur\"]),\"text-translate\":new Ks(Ht.paint_symbol[\"text-translate\"]),\"text-translate-anchor\":new Ks(Ht.paint_symbol[\"text-translate-anchor\"])}),layout:gd};class vd{constructor(t){this.type=t.property.overrides?t.property.overrides.runtimeType:ne,this.defaultValue=t;}evaluate(t){if(t.formattedSection){const e=this.defaultValue.property.overrides;if(e&&e.hasOverride(t.formattedSection))return e.getOverride(t.formattedSection)}return t.feature&&t.featureState?this.defaultValue.evaluate(t.feature,t.featureState):this.defaultValue.property.specification.default}eachChild(t){this.defaultValue.isConstant()||t(this.defaultValue.value._styleExpression.expression);}outputDefined(){return !1}serialize(){return null}}ji(vd,\"FormatSectionOverride\",{omit:[\"defaultValue\"]});class bd extends Io{constructor(t){super(t,xd);}recalculate(t,e){super.recalculate(t,e),\"auto\"===this.layout.get(\"icon-rotation-alignment\")&&(this.layout._values[\"icon-rotation-alignment\"]=\"point\"!==this.layout.get(\"symbol-placement\")?\"map\":\"viewport\"),\"auto\"===this.layout.get(\"text-rotation-alignment\")&&(this.layout._values[\"text-rotation-alignment\"]=\"point\"!==this.layout.get(\"symbol-placement\")?\"map\":\"viewport\"),\"auto\"===this.layout.get(\"text-pitch-alignment\")&&(this.layout._values[\"text-pitch-alignment\"]=this.layout.get(\"text-rotation-alignment\")),\"auto\"===this.layout.get(\"icon-pitch-alignment\")&&(this.layout._values[\"icon-pitch-alignment\"]=this.layout.get(\"icon-rotation-alignment\"));const r=this.layout.get(\"text-writing-mode\");if(r){const t=[];for(const e of r)t.indexOf(e)<0&&t.push(e);this.layout._values[\"text-writing-mode\"]=t;}else this.layout._values[\"text-writing-mode\"]=\"point\"===this.layout.get(\"symbol-placement\")?[\"horizontal\"]:[\"horizontal\",\"vertical\"];this._setPaintOverrides();}getValueAndResolveTokens(t,e,r,n){const i=this.layout.get(t).evaluate(e,{},r,n),s=this._unevaluatedLayout._values[t];return s.isDataDriven()||qn(s.value)||!i?i:function(t,e){return e.replace(/{([^{}]+)}/g,((e,r)=>r in t?String(t[r]):\"\"))}(e.properties,i)}createBucket(t){return new md(t)}queryRadius(){return 0}queryIntersectsFeature(){return !1}_setPaintOverrides(){for(const t of xd.paint.overridableProperties){if(!bd.hasPaintOverride(this.layout,t))continue;const e=this.paint.get(t),r=new vd(e),n=new On(r,e.property.specification);let i=null;i=\"constant\"===e.value.kind||\"source\"===e.value.kind?new Gn(\"source\",n):new Zn(\"composite\",n,e.value.zoomStops,e.value._interpolationType),this.paint._values[t]=new Zs(e.property,i,e.parameters);}}_handleOverridablePaintPropertyUpdate(t,e,r){return !(!this.layout||e.isDataDriven()||r.isDataDriven())&&bd.hasPaintOverride(this.layout,t)}static hasPaintOverride(t,e){const r=t.get(\"text-field\"),n=xd.paint.properties[e];let i=!1;const s=t=>{for(const e of t)if(n.overrides&&n.overrides.hasOverride(e))return void(i=!0)};if(\"constant\"===r.value.kind&&r.value.value instanceof Te)s(r.value.value.sections);else if(\"source\"===r.value.kind){const t=e=>{i||(e instanceof Fe&&Ce(e.value)===he?s(e.value.sections):e instanceof $e?s(e.sections):e.eachChild(t));},e=r.value;e._styleExpression&&t(e._styleExpression.expression);}return i}getProgramConfiguration(t){return new xo(this,t)}}var _d={paint:new Qs({\"background-color\":new Ks(Ht.paint_background[\"background-color\"]),\"background-pattern\":new Ws(Ht.paint_background[\"background-pattern\"]),\"background-opacity\":new Ks(Ht.paint_background[\"background-opacity\"])})},wd={paint:new Qs({\"raster-opacity\":new Ks(Ht.paint_raster[\"raster-opacity\"]),\"raster-hue-rotate\":new Ks(Ht.paint_raster[\"raster-hue-rotate\"]),\"raster-brightness-min\":new Ks(Ht.paint_raster[\"raster-brightness-min\"]),\"raster-brightness-max\":new Ks(Ht.paint_raster[\"raster-brightness-max\"]),\"raster-saturation\":new Ks(Ht.paint_raster[\"raster-saturation\"]),\"raster-contrast\":new Ks(Ht.paint_raster[\"raster-contrast\"]),\"raster-resampling\":new Ks(Ht.paint_raster[\"raster-resampling\"]),\"raster-fade-duration\":new Ks(Ht.paint_raster[\"raster-fade-duration\"])})};class Ad extends Io{constructor(t){super(t,{}),this.implementation=t;}is3D(){return \"3d\"===this.implementation.renderingMode}hasOffscreenPass(){return void 0!==this.implementation.prerender}recalculate(){}updateTransitions(){}hasTransition(){return !1}serialize(){}onAdd(t){this.implementation.onAdd&&this.implementation.onAdd(t,t.painter.context.gl);}onRemove(t){this.implementation.onRemove&&this.implementation.onRemove(t,t.painter.context.gl);}}var Sd={paint:new Qs({\"sky-type\":new Ks(Ht.paint_sky[\"sky-type\"]),\"sky-atmosphere-sun\":new Ks(Ht.paint_sky[\"sky-atmosphere-sun\"]),\"sky-atmosphere-sun-intensity\":new Ks(Ht.paint_sky[\"sky-atmosphere-sun-intensity\"]),\"sky-gradient-center\":new Ks(Ht.paint_sky[\"sky-gradient-center\"]),\"sky-gradient-radius\":new Ks(Ht.paint_sky[\"sky-gradient-radius\"]),\"sky-gradient\":new Js(Ht.paint_sky[\"sky-gradient\"]),\"sky-atmosphere-halo-color\":new Ks(Ht.paint_sky[\"sky-atmosphere-halo-color\"]),\"sky-atmosphere-color\":new Ks(Ht.paint_sky[\"sky-atmosphere-color\"]),\"sky-opacity\":new Ks(Ht.paint_sky[\"sky-opacity\"])})};function kd(t,e,r){const n=[0,0,1],i=su([]);return ou(i,i,r?-x(t)+Math.PI:x(t)),au(i,i,-x(e)),Yl(n,n,i),Zl(n,n)}const Id={circle:class extends Io{constructor(t){super(t,bl);}createBucket(t){return new rl(t)}queryRadius(t){const e=t;return yl(\"circle-radius\",this,e)+yl(\"circle-stroke-width\",this,e)+ml(this.paint.get(\"circle-translate\"))}queryIntersectsFeature(t,e,r,n,i,s,a,o){const l=xl(this.paint.get(\"circle-translate\"),this.paint.get(\"circle-translate-anchor\"),s.angle,t.pixelToTileUnitsFactor),u=this.paint.get(\"circle-radius\").evaluate(e,r)+this.paint.get(\"circle-stroke-width\").evaluate(e,r);return fu(t,n,s,a,o,\"map\"===this.paint.get(\"circle-pitch-alignment\"),\"map\"===this.paint.get(\"circle-pitch-scale\"),l,u)}getProgramIds(){return [\"circle\"]}getProgramConfiguration(t){return new xo(this,t)}},heatmap:class extends Io{createBucket(t){return new xu(t)}constructor(t){super(t,Su),this._updateColorRamp();}_handleSpecialPaintPropertyUpdate(t){\"heatmap-color\"===t&&this._updateColorRamp();}_updateColorRamp(){this.colorRamp=ku({expression:this._transitionablePaint._values[\"heatmap-color\"].value.expression,evaluationKey:\"heatmapDensity\",image:this.colorRamp}),this.colorRampTexture=null;}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null);}queryRadius(t){return yl(\"heatmap-radius\",this,t)}queryIntersectsFeature(t,e,r,n,i,s,a,o){const l=this.paint.get(\"heatmap-radius\").evaluate(e,r);return fu(t,n,s,a,o,!0,!0,new d(0,0),l)}hasOffscreenPass(){return 0!==this.paint.get(\"heatmap-opacity\")&&\"none\"!==this.visibility}getProgramIds(){return [\"heatmap\",\"heatmapTexture\"]}getProgramConfiguration(t){return new xo(this,t)}},hillshade:class extends Io{constructor(t){super(t,Iu);}hasOffscreenPass(){return 0!==this.paint.get(\"hillshade-exaggeration\")&&\"none\"!==this.visibility}getProgramIds(){return [\"hillshade\",\"hillshadePrepare\"]}},fill:class extends Io{constructor(t){super(t,pc);}getProgramIds(){const t=this.paint.get(\"fill-pattern\"),e=t&&t.constantOr(1),r=[e?\"fillPattern\":\"fill\"];return this.paint.get(\"fill-antialias\")&&r.push(e&&!this.getPaintProperty(\"fill-outline-color\")?\"fillOutlinePattern\":\"fillOutline\"),r}getProgramConfiguration(t){return new xo(this,t)}recalculate(t,e){super.recalculate(t,e);const r=this.paint._values[\"fill-outline-color\"];\"constant\"===r.value.kind&&void 0===r.value.value&&(this.paint._values[\"fill-outline-color\"]=this.paint._values[\"fill-color\"]);}createBucket(t){return new cc(t)}queryRadius(){return ml(this.paint.get(\"fill-translate\"))}queryIntersectsFeature(t,e,r,n,i,s){return !t.queryGeometry.isAboveHorizon&&sl(gl(t.tilespaceGeometry,this.paint.get(\"fill-translate\"),this.paint.get(\"fill-translate-anchor\"),s.angle,t.pixelToTileUnitsFactor),n)}isTileClipped(){return !0}},\"fill-extrusion\":class extends Io{constructor(t){super(t,Xc);}createBucket(t){return new Lc(t)}queryRadius(){return ml(this.paint.get(\"fill-extrusion-translate\"))}is3D(){return !0}getProgramIds(){return [this.paint.get(\"fill-extrusion-pattern\").constantOr(1)?\"fillExtrusionPattern\":\"fillExtrusion\"]}getProgramConfiguration(t){return new xo(this,t)}queryIntersectsFeature(t,e,r,n,i,s,a,o,l){const u=xl(this.paint.get(\"fill-extrusion-translate\"),this.paint.get(\"fill-extrusion-translate-anchor\"),s.angle,t.pixelToTileUnitsFactor),c=this.paint.get(\"fill-extrusion-height\").evaluate(e,r),h=this.paint.get(\"fill-extrusion-base\").evaluate(e,r),p=[0,0],f=o&&s.elevation,y=s.elevation?s.elevation.exaggeration():1,m=t.tile.getBucket(this);if(f&&m instanceof Lc){const t=m.centroidVertexArray,e=l+1;if(e<t.length){const r=t.get(e);p[0]=r.a_centroid_pos0,p[1]=r.a_centroid_pos1;}}if(0===p[0]&&1===p[1])return !1;\"globe\"===s.projection.name&&(n=Gc([n],[new d(0,0),new d(Bo,Bo)],t.tileID.canonical).map((t=>t.polygon)).flat());const g=f?o:null,[x,v]=function(t,e,r,n,i,s,a,o,l,u,c){return \"globe\"===t.projection.name?function(t,e,r,n,i,s,a,o,l,u,c){const h=[],p=[],f=t.projection.upVectorScale(c,t.center.lat,t.worldSize).metersToTile,d=[0,0,0,1],y=[0,0,0,1],m=(t,e,r,n)=>{t[0]=e,t[1]=r,t[2]=n,t[3]=1;},g=Nc();r>0&&(r+=g),n+=g;for(const g of e){const e=[],x=[];for(const h of g){const p=h.x+i.x,g=h.y+i.y,v=t.projection.projectTilePoint(p,g,c),b=t.projection.upVector(c,h.x,h.y);let _=r,w=n;if(a){const t=rh(p,g,r,n,a,o,l,u);_+=t.base,w+=t.top;}0!==r?m(d,v.x+b[0]*f*_,v.y+b[1]*f*_,v.z+b[2]*f*_):m(d,v.x,v.y,v.z),m(y,v.x+b[0]*f*w,v.y+b[1]*f*w,v.z+b[2]*f*w),Hl(d,d,s),Hl(y,y,s),e.push(new Qc(d[0],d[1],d[2])),x.push(new Qc(y[0],y[1],y[2]));}h.push(e),p.push(x);}return [h,p]}(t,e,r,n,i,s,a,o,l,u,c):a?function(t,e,r,n,i,s,a,o,l){const u=[],c=[],h=[0,0,0,1];for(const p of t){const t=[],f=[];for(const u of p){const c=u.x+n.x,p=u.y+n.y,d=rh(c,p,e,r,s,a,o,l);h[0]=c,h[1]=p,h[2]=d.base,h[3]=1,nu(h,h,i),h[3]=Math.max(h[3],1e-5);const y=new Qc(h[0]/h[3],h[1]/h[3],h[2]/h[3]);h[0]=c,h[1]=p,h[2]=d.top,h[3]=1,nu(h,h,i),h[3]=Math.max(h[3],1e-5);const m=new Qc(h[0]/h[3],h[1]/h[3],h[2]/h[3]);t.push(y),f.push(m);}u.push(t),c.push(f);}return [u,c]}(e,r,n,i,s,a,o,l,u):function(t,e,r,n,i){const s=[],a=[],o=i[8]*e,l=i[9]*e,u=i[10]*e,c=i[11]*e,h=i[8]*r,p=i[9]*r,f=i[10]*r,d=i[11]*r;for(const e of t){const t=[],r=[];for(const s of e){const e=s.x+n.x,a=s.y+n.y,y=i[0]*e+i[4]*a+i[12],m=i[1]*e+i[5]*a+i[13],g=i[2]*e+i[6]*a+i[14],x=i[3]*e+i[7]*a+i[15],v=y+o,b=m+l,_=g+u,w=Math.max(x+c,1e-5),A=y+h,S=m+p,k=g+f,I=Math.max(x+d,1e-5);t.push(new Qc(v/w,b/w,_/w)),r.push(new Qc(A/I,S/I,k/I));}s.push(t),a.push(r);}return [s,a]}(e,r,n,i,s)}(s,n,h,c,u,a,g,p,y,s.center.lat,t.tileID.canonical),b=t.queryGeometry;return function(t,e,r){let n=1/0;sl(r,e)&&(n=eh(r,e[0]));for(let i=0;i<e.length;i++){const s=e[i],a=t[i];for(let t=0;t<s.length-1;t++){const e=s[t],i=[e,s[t+1],a[t+1],a[t],e];nl(r,i)&&(n=Math.min(n,eh(r,i)));}}return n!==1/0&&n}(x,v,b.isPointQuery()?b.screenBounds:b.screenGeometry)}},line:class extends Io{constructor(t){super(t,hh),this.gradientVersion=0;}_handleSpecialPaintPropertyUpdate(t){if(\"line-gradient\"===t){const t=this._transitionablePaint._values[\"line-gradient\"].value.expression;this.stepInterpolant=t._styleExpression&&t._styleExpression.expression instanceof kr,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER;}}gradientExpression(){return this._transitionablePaint._values[\"line-gradient\"].value.expression}recalculate(t,e){super.recalculate(t,e),this.paint._values[\"line-floorwidth\"]=ph.possiblyEvaluate(this._transitioningPaint._values[\"line-width\"].value,t);}createBucket(t){return new uh(t)}getProgramIds(){return [this.paint.get(\"line-pattern\").constantOr(1)?\"linePattern\":\"line\"]}getProgramConfiguration(t){return new xo(this,t)}queryRadius(t){const e=t,r=fh(yl(\"line-width\",this,e),yl(\"line-gap-width\",this,e)),n=yl(\"line-offset\",this,e);return r/2+Math.abs(n)+ml(this.paint.get(\"line-translate\"))}queryIntersectsFeature(t,e,r,n,i,s){if(t.queryGeometry.isAboveHorizon)return !1;const a=gl(t.tilespaceGeometry,this.paint.get(\"line-translate\"),this.paint.get(\"line-translate-anchor\"),s.angle,t.pixelToTileUnitsFactor),o=t.pixelToTileUnitsFactor/2*fh(this.paint.get(\"line-width\").evaluate(e,r),this.paint.get(\"line-gap-width\").evaluate(e,r)),l=this.paint.get(\"line-offset\").evaluate(e,r);return l&&(n=function(t,e){const r=[],n=new d(0,0);for(let i=0;i<t.length;i++){const s=t[i],a=[];for(let t=0;t<s.length;t++){const r=s[t-1],i=s[t],o=s[t+1],l=0===t?n:i.sub(r)._unit()._perp(),u=t===s.length-1?n:o.sub(i)._unit()._perp(),c=l._add(u)._unit();c._mult(1/(c.x*u.x+c.y*u.y)),a.push(c._mult(e)._add(i));}r.push(a);}return r}(n,l*t.pixelToTileUnitsFactor)),function(t,e,r){for(let n=0;n<e.length;n++){const i=e[n];if(t.length>=3)for(let e=0;e<i.length;e++)if(pl(t,i[e]))return !0;if(al(t,i,r))return !0}return !1}(a,n,o)}isTileClipped(){return !0}},symbol:bd,background:class extends Io{constructor(t){super(t,_d);}getProgramIds(){return [this.paint.get(\"background-pattern\")?\"backgroundPattern\":\"background\"]}},raster:class extends Io{constructor(t){super(t,wd);}getProgramIds(){return [\"raster\"]}},sky:class extends Io{constructor(t){super(t,Sd),this._updateColorRamp();}_handleSpecialPaintPropertyUpdate(t){\"sky-gradient\"===t?this._updateColorRamp():\"sky-atmosphere-sun\"!==t&&\"sky-atmosphere-halo-color\"!==t&&\"sky-atmosphere-color\"!==t&&\"sky-atmosphere-sun-intensity\"!==t||(this._skyboxInvalidated=!0);}_updateColorRamp(){this.colorRamp=ku({expression:this._transitionablePaint._values[\"sky-gradient\"].value.expression,evaluationKey:\"skyRadialProgress\"}),this.colorRampTexture&&(this.colorRampTexture.destroy(),this.colorRampTexture=null);}needsSkyboxCapture(t){if(this._skyboxInvalidated||!this.skyboxTexture||!this.skyboxGeometry)return !0;if(!this.paint.get(\"sky-atmosphere-sun\")){const e=t.style.light.properties.get(\"position\");return this._lightPosition.azimuthal!==e.azimuthal||this._lightPosition.polar!==e.polar}return !1}getCenter(t,e){if(\"atmosphere\"===this.paint.get(\"sky-type\")){const r=this.paint.get(\"sky-atmosphere-sun\"),n=!r,i=t.style.light,s=i.properties.get(\"position\");return n&&\"viewport\"===i.properties.get(\"anchor\")&&$(\"The sun direction is attached to a light with viewport anchor, lighting may behave unexpectedly.\"),n?kd(s.azimuthal,90-s.polar,e):kd(r[0],90-r[1],e)}const r=this.paint.get(\"sky-gradient-center\");return kd(r[0],90-r[1],e)}is3D(){return !1}isSky(){return !0}markSkyboxValid(t){this._skyboxInvalidated=!1,this._lightPosition=t.style.light.properties.get(\"position\");}hasOffscreenPass(){return !0}getProgramIds(){const t=this.paint.get(\"sky-type\");return \"atmosphere\"===t?[\"skyboxCapture\",\"skybox\"]:\"gradient\"===t?[\"skyboxGradient\"]:null}}};class Md{constructor(t,e,r,n){this.context=t,this.format=r,this.texture=t.gl.createTexture(),this.update(e,n);}update(t,r,n){const{width:i,height:s}=t,{context:a}=this,{gl:o}=a,{HTMLImageElement:l,HTMLCanvasElement:u,HTMLVideoElement:c,ImageData:h,ImageBitmap:p}=e;if(o.bindTexture(o.TEXTURE_2D,this.texture),a.pixelStoreUnpackFlipY.set(!1),a.pixelStoreUnpack.set(1),a.pixelStoreUnpackPremultiplyAlpha.set(this.format===o.RGBA&&(!r||!1!==r.premultiply)),n||this.size&&this.size[0]===i&&this.size[1]===s){const{x:e,y:r}=n||{x:0,y:0};t instanceof l||t instanceof u||t instanceof c||t instanceof h||p&&t instanceof p?o.texSubImage2D(o.TEXTURE_2D,0,e,r,o.RGBA,o.UNSIGNED_BYTE,t):o.texSubImage2D(o.TEXTURE_2D,0,e,r,i,s,o.RGBA,o.UNSIGNED_BYTE,t.data);}else this.size=[i,s],t instanceof l||t instanceof u||t instanceof c||t instanceof h||p&&t instanceof p?o.texImage2D(o.TEXTURE_2D,0,this.format,this.format,o.UNSIGNED_BYTE,t):o.texImage2D(o.TEXTURE_2D,0,this.format,i,s,0,this.format,o.UNSIGNED_BYTE,t.data);this.useMipmap=Boolean(r&&r.useMipmap&&this.isSizePowerOfTwo()),this.useMipmap&&o.generateMipmap(o.TEXTURE_2D);}bind(t,e){const{context:r}=this,{gl:n}=r;n.bindTexture(n.TEXTURE_2D,this.texture),t!==this.filter&&(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,t),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,this.useMipmap?t===n.NEAREST?n.NEAREST_MIPMAP_NEAREST:n.LINEAR_MIPMAP_NEAREST:t),this.filter=t),e!==this.wrap&&(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,e),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,e),this.wrap=e);}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:t}=this.context;t.deleteTexture(this.texture),this.texture=null;}}class zd{constructor(t){this._callback=t,this._triggered=!1,\"undefined\"!=typeof MessageChannel&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback();});}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout((()=>{this._triggered=!1,this._callback();}),0));}remove(){this._channel=void 0,this._callback=()=>{};}}class Td{constructor(){this.tasks={},this.taskQueue=[],V([\"process\"],this),this.invoker=new zd(this.process),this.nextId=0;}add(t,e){const r=this.nextId++,n=function({type:t,isSymbolTile:e,zoom:r}){return r=r||0,\"message\"===t?0:\"maybePrepare\"!==t||e?\"parseTile\"!==t||e?\"parseTile\"===t&&e?300-r:\"maybePrepare\"===t&&e?400-r:500:200-r:100-r}(e);if(0===n){N();try{t();}finally{}return {cancel:()=>{}}}return this.tasks[r]={fn:t,metadata:e,priority:n,id:r},this.taskQueue.push(r),this.invoker.trigger(),{cancel:()=>{delete this.tasks[r];}}}process(){N();try{if(this.taskQueue=this.taskQueue.filter((t=>!!this.tasks[t])),!this.taskQueue.length)return;const t=this.pick();if(null===t)return;const e=this.tasks[t];if(delete this.tasks[t],this.taskQueue.length&&this.invoker.trigger(),!e)return;e.fn();}finally{}}pick(){let t=null,e=1/0;for(let r=0;r<this.taskQueue.length;r++){const n=this.tasks[this.taskQueue[r]];n.priority<e&&(e=n.priority,t=r);}if(null===t)return null;const r=this.taskQueue[t];return this.taskQueue.splice(t,1),r}remove(){this.invoker.remove();}}class Bd{constructor(t){this._stringToNumber={},this._numberToString=[];for(let e=0;e<t.length;e++){const r=t[e];this._stringToNumber[r]=e,this._numberToString[e]=r;}}encode(t){return this._stringToNumber[t]}decode(t){return this._numberToString[t]}}const Ed=[\"tile\",\"layer\",\"source\",\"sourceLayer\",\"state\"];class Pd{constructor(t,e,r,n,i){this.type=\"Feature\",this._vectorTileFeature=t,this._z=e,this._x=r,this._y=n,this.properties=t.properties,this.id=i;}get geometry(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._x,this._y,this._z).geometry),this._geometry}set geometry(t){this._geometry=t;}toJSON(){const t={type:\"Feature\",geometry:this.geometry,properties:this.properties};void 0!==this.id&&(t.id=this.id);for(const e of Ed)void 0!==this[e]&&(t[e]=this[e]);return t}}const Cd=32,Dd=33,Vd=new Uint16Array(8184);for(let t=0;t<2046;t++){let e=t+2,r=0,n=0,i=0,s=0,a=0,o=0;for(1&e?i=s=a=Cd:r=n=o=Cd;(e>>=1)>1;){const t=r+i>>1,l=n+s>>1;1&e?(i=r,s=n,r=a,n=o):(r=i,n=s,i=a,s=o),a=t,o=l;}const l=4*t;Vd[l+0]=r,Vd[l+1]=n,Vd[l+2]=i,Vd[l+3]=s;}const Fd=new Uint16Array(2178),Ld=new Uint8Array(1089),Rd=new Uint16Array(1089);function Ud(t){return 0===t?-.03125:32===t?.03125:0}var jd=ia([{name:\"a_pos\",type:\"Int16\",components:2},{name:\"a_texture_pos\",type:\"Int16\",components:2}]);const $d={type:2,extent:Bo,loadGeometry:()=>[[new d(0,0),new d(8193,0),new d(8193,8193),new d(0,8193),new d(0,0)]]};class Od{constructor(t,e,r,n,i){this.tileID=t,this.uid=E(),this.uses=0,this.tileSize=e,this.tileZoom=r,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.isRaster=i,this.expiredRequestCount=0,this.state=\"loading\",n&&n.transform&&(this.projection=n.transform.projection);}registerFadeDuration(t){const e=t+this.timeAdded;e<qt.now()||this.fadeEndTime&&e<this.fadeEndTime||(this.fadeEndTime=e);}wasRequested(){return \"errored\"===this.state||\"loaded\"===this.state||\"reloading\"===this.state}get tileTransform(){return this._tileTransform||(this._tileTransform=jf(this.tileID.canonical,this.projection)),this._tileTransform}loadVectorData(t,e,r){if(this.unloadVectorData(),this.state=\"loaded\",t){t.featureIndex&&(this.latestFeatureIndex=t.featureIndex,t.rawTileData?(this.latestRawTileData=t.rawTileData,this.latestFeatureIndex.rawTileData=t.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=t.collisionBoxArray,this.buckets=function(t,e){const r={};if(!e)return r;for(const n of t){const t=n.layerIds.map((t=>e.getLayer(t))).filter(Boolean);if(0!==t.length){n.layers=t,n.stateDependentLayerIds&&(n.stateDependentLayers=n.stateDependentLayerIds.map((e=>t.filter((t=>t.id===e))[0])));for(const e of t)r[e.id]=n;}}return r}(t.buckets,e.style),this.hasSymbolBuckets=!1;for(const t in this.buckets){const e=this.buckets[t];if(e instanceof md){if(this.hasSymbolBuckets=!0,!r)break;e.justReloaded=!0;}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const t in this.buckets){const e=this.buckets[t];if(e instanceof md&&e.hasRTLText){this.hasRTLText=!0,Rs.isLoading()||Rs.isLoaded()||\"deferred\"!==Fs()||Ls();break}}this.queryPadding=0;for(const t in this.buckets){const r=this.buckets[t];this.queryPadding=Math.max(this.queryPadding,e.style.getLayer(t).queryRadius(r));}t.imageAtlas&&(this.imageAtlas=t.imageAtlas),t.glyphAtlasImage&&(this.glyphAtlasImage=t.glyphAtlasImage),t.lineAtlas&&(this.lineAtlas=t.lineAtlas);}else this.collisionBoxArray=new Da;}unloadVectorData(){if(this.hasData()){for(const t in this.buckets)this.buckets[t].destroy();this.buckets={},this.imageAtlas&&(this.imageAtlas=null),this.lineAtlas&&(this.lineAtlas=null),this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.lineAtlasTexture&&this.lineAtlasTexture.destroy(),this._tileBoundsBuffer&&(this._tileBoundsBuffer.destroy(),this._tileBoundsIndexBuffer.destroy(),this._tileBoundsSegments.destroy(),this._tileBoundsBuffer=null),this._tileDebugBuffer&&(this._tileDebugBuffer.destroy(),this._tileDebugSegments.destroy(),this._tileDebugBuffer=null),this._tileDebugIndexBuffer&&(this._tileDebugIndexBuffer.destroy(),this._tileDebugIndexBuffer=null),this._globeTileDebugBorderBuffer&&(this._globeTileDebugBorderBuffer.destroy(),this._globeTileDebugBorderBuffer=null),this._tileDebugTextBuffer&&(this._tileDebugTextBuffer.destroy(),this._tileDebugTextSegments.destroy(),this._tileDebugTextIndexBuffer.destroy(),this._tileDebugTextBuffer=null),this._globeTileDebugTextBuffer&&(this._globeTileDebugTextBuffer.destroy(),this._globeTileDebugTextBuffer=null),this.latestFeatureIndex=null,this.state=\"unloaded\";}}getBucket(t){return this.buckets[t.id]}upload(t){for(const e in this.buckets){const r=this.buckets[e];r.uploadPending()&&r.upload(t);}const e=t.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Md(t,this.imageAtlas.image,e.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Md(t,this.glyphAtlasImage,e.ALPHA),this.glyphAtlasImage=null),this.lineAtlas&&!this.lineAtlas.uploaded&&(this.lineAtlasTexture=new Md(t,this.lineAtlas.image,e.ALPHA),this.lineAtlas.uploaded=!0);}prepare(t){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(t,this.imageAtlasTexture);}queryRenderedFeatures(t,e,r,n,i,s,a,o){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({tileResult:n,pixelPosMatrix:a,transform:s,params:i,tileTransform:this.tileTransform},t,e,r):{}}querySourceFeatures(t,e){const r=this.latestFeatureIndex;if(!r||!r.rawTileData)return;const n=r.loadVTLayers(),i=e?e.sourceLayer:\"\",s=n._geojsonTileLayer||n[i];if(!s)return;const a=si(e&&e.filter),{z:o,x:l,y:u}=this.tileID.canonical,c={z:o,x:l,y:u};for(let e=0;e<s.length;e++){const n=s.feature(e);if(a.needGeometry){const t=Qo(n,!0);if(!a.filter(new Us(this.tileID.overscaledZ),t,this.tileID.canonical))continue}else if(!a.filter(new Us(this.tileID.overscaledZ),n))continue;const h=r.getId(n,i),p=new Pd(n,o,l,u,h);p.tile=c,t.push(p);}}hasData(){return \"loaded\"===this.state||\"reloading\"===this.state||\"expired\"===this.state}patternsLoaded(){return !!this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(t){const e=this.expirationTime;if(t.cacheControl){const e=G(t.cacheControl);e[\"max-age\"]&&(this.expirationTime=Date.now()+1e3*e[\"max-age\"]);}else t.expires&&(this.expirationTime=new Date(t.expires).getTime());if(this.expirationTime){const t=Date.now();let r=!1;if(this.expirationTime>t)r=!1;else if(e)if(this.expirationTime<e)r=!0;else {const n=this.expirationTime-e;n?this.expirationTime=t+Math.max(n,3e4):r=!0;}else r=!0;r?(this.expiredRequestCount++,this.state=\"expired\"):this.expiredRequestCount=0;}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)}setFeatureState(t,e){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||0===Object.keys(t).length||!e)return;const r=this.latestFeatureIndex.loadVTLayers(),n=e.style.listImages();for(const i in this.buckets){if(!e.style.hasLayer(i))continue;const s=this.buckets[i],a=s.layers[0].sourceLayer||\"_geojsonTileLayer\",o=r[a],l=t[a];if(!o||!l||0===Object.keys(l).length)continue;if(s.update(l,o,n,this.imageAtlas&&this.imageAtlas.patternPositions||{}),s instanceof uh||s instanceof cc){const t=e.style._getSourceCache(s.layers[0].source);e._terrain&&e._terrain.enabled&&t&&s.programConfigurations.needsUpload&&e._terrain._clearRenderCacheForTile(t.id,this.tileID);}const u=e&&e.style&&e.style.getLayer(i);u&&(this.queryPadding=Math.max(this.queryPadding,u.queryRadius(s)));}}holdingForFade(){return void 0!==this.symbolFadeHoldUntil}symbolFadeFinished(){return !this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<qt.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0;}setHoldDuration(t){this.symbolFadeHoldUntil=qt.now()+t;}setTexture(t,e){const r=e.context,n=r.gl;this.texture=this.texture||e.getTileTexture(t.width),this.texture?this.texture.update(t,{useMipmap:!0}):(this.texture=new Md(r,t,n.RGBA,{useMipmap:!0}),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE),r.extTextureFilterAnisotropic&&n.texParameterf(n.TEXTURE_2D,r.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,r.extTextureFilterAnisotropicMax));}setDependencies(t,e){const r={};for(const t of e)r[t]=!0;this.dependencies[t]=r;}hasDependency(t,e){for(const r of t){const t=this.dependencies[r];if(t)for(const r of e)if(t[r])return !0}return !1}clearQueryDebugViz(){}_makeDebugTileBoundsBuffers(t,e){if(!e||\"mercator\"===e.name||this._tileDebugBuffer)return;const r=Jo($d,this.tileID.canonical,this.tileTransform)[0],n=new aa,i=new Ta;for(let t=0;t<r.length;t++){const{x:e,y:s}=r[t];n.emplaceBack(e,s),i.emplaceBack(t);}i.emplaceBack(0),this._tileDebugIndexBuffer=t.createIndexBuffer(i),this._tileDebugBuffer=t.createVertexBuffer(n,lf.members),this._tileDebugSegments=To.simpleSegment(0,0,n.length,i.length);}_makeTileBoundsBuffers(t,e){if(this._tileBoundsBuffer||!e||\"mercator\"===e.name)return;const r=Jo($d,this.tileID.canonical,this.tileTransform)[0];let n,i;if(this.isRaster){const t=function(t,e){const r=jf(t,e),n=Math.pow(2,t.z);for(let i=0;i<Dd;i++)for(let s=0;s<Dd;s++){const a=Uo((t.x+(s+Ud(s))/Cd)/n),o=jo((t.y+(i+Ud(i))/Cd)/n),l=e.project(a,o),u=i*Dd+s;Fd[2*u+0]=Math.round((l.x*r.scale-r.x)*Bo),Fd[2*u+1]=Math.round((l.y*r.scale-r.y)*Bo);}Ld.fill(0),Rd.fill(0);for(let t=2045;t>=0;t--){const e=4*t,r=Vd[e+0],n=Vd[e+1],i=Vd[e+2],s=Vd[e+3],a=r+i>>1,o=n+s>>1,l=a+o-n,u=o+r-a,c=n*Dd+r,h=s*Dd+i,p=o*Dd+a,f=Math.hypot((Fd[2*c+0]+Fd[2*h+0])/2-Fd[2*p+0],(Fd[2*c+1]+Fd[2*h+1])/2-Fd[2*p+1])>=16;if(Ld[p]=Ld[p]||(f?1:0),t<1022){const t=(n+u>>1)*Dd+(r+l>>1),e=(s+u>>1)*Dd+(i+l>>1);Ld[p]=Ld[p]||Ld[t]||Ld[e];}}const i=new la,s=new wa;let a=0;function o(t,e){const r=e*Dd+t;return 0===Rd[r]&&(i.emplaceBack(Fd[2*r+0],Fd[2*r+1],t*Bo/Cd,e*Bo/Cd),Rd[r]=++a),Rd[r]-1}function l(t,e,r,n,i,a){const u=t+r>>1,c=e+n>>1;if(Math.abs(t-i)+Math.abs(e-a)>1&&Ld[c*Dd+u])l(i,a,t,e,u,c),l(r,n,i,a,u,c);else {const l=o(t,e),u=o(r,n),c=o(i,a);s.emplaceBack(l,u,c);}}return l(0,0,Cd,Cd,Cd,0),l(Cd,Cd,0,0,0,Cd),{vertices:i,indices:s}}(this.tileID.canonical,e);n=t.vertices,i=t.indices;}else {n=new la,i=new wa;for(const{x:t,y:e}of r)n.emplaceBack(t,e,0,0);const t=Tu.exports(n.int16,void 0,4);for(let e=0;e<t.length;e+=3)i.emplaceBack(t[e],t[e+1],t[e+2]);}this._tileBoundsBuffer=t.createVertexBuffer(n,jd.members),this._tileBoundsIndexBuffer=t.createIndexBuffer(i),this._tileBoundsSegments=To.simpleSegment(0,0,n.length,i.length);}_makeGlobeTileDebugBuffers(t,e){const r=e.projection;if(!r||\"globe\"!==r.name||e.freezeTileCoverage)return;const n=this.tileID.canonical,i=Ef(_f(n,e)),s=Df(e.zoom);let a;s>0&&(a=Il(new Float64Array(16),e.globeMatrix)),this._makeGlobeTileDebugBorderBuffer(t,n,e,i,a,s),this._makeGlobeTileDebugTextBuffer(t,n,e,i,a,s);}_globePoint(t,e,r,n,i,s,a){let o=zf(t,e,r);if(s){const i=1<<r.z,l=Fo(n.center.lng),u=Lo(n.center.lat),c=(r.x+.5)/i-l;let h=0;c>.5?h=-1:c<-.5&&(h=1);let p=(t/Bo+r.x)/i+h,f=(e/Bo+r.y)/i;p=(p-l)*n._pixelsPerMercatorPixel+l,f=(f-u)*n._pixelsPerMercatorPixel+u;const d=[p*n.worldSize,f*n.worldSize,0];Hl(d,d,s),o=bf(o,d,a);}return Hl(o,o,i)}_makeGlobeTileDebugBorderBuffer(t,e,r,n,i,s){const a=new aa,o=new Ta,l=new oa,u=(t,u,c,h,p)=>{const f=(c-t)/(p-1),d=(h-u)/(p-1),y=a.length;for(let c=0;c<p;c++){const h=t+c*f,p=u+c*d;a.emplaceBack(h,p);const m=this._globePoint(h,p,e,r,n,i,s);l.emplaceBack(m[0],m[1],m[2]),o.emplaceBack(y+c);}},c=Bo;u(0,0,c,0,16),u(c,0,c,c,16),u(c,c,0,c,16),u(0,c,0,0,16),this._tileDebugIndexBuffer=t.createIndexBuffer(o),this._tileDebugBuffer=t.createVertexBuffer(a,lf.members),this._globeTileDebugBorderBuffer=t.createVertexBuffer(l,of.members),this._tileDebugSegments=To.simpleSegment(0,0,a.length,o.length);}_makeGlobeTileDebugTextBuffer(t,e,r,n,i,s){const a=new aa,o=new wa,l=new oa,u=25;o.reserve(32),a.reserve(u),l.reserve(u);const c=(t,e)=>u*t+e;for(let t=0;t<u;t++){const o=2048*t;for(let t=0;t<u;t++){const u=2048*t;a.emplaceBack(u,o);const c=this._globePoint(u,o,e,r,n,i,s);l.emplaceBack(c[0],c[1],c[2]);}}for(let t=0;t<4;t++)for(let e=0;e<4;e++){const r=c(t,e),n=c(t,e+1),i=c(t+1,e),s=c(t+1,e+1);o.emplaceBack(r,n,i),o.emplaceBack(i,n,s);}this._tileDebugTextIndexBuffer=t.createIndexBuffer(o),this._tileDebugTextBuffer=t.createVertexBuffer(a,lf.members),this._globeTileDebugTextBuffer=t.createVertexBuffer(l,of.members),this._tileDebugTextSegments=To.simpleSegment(0,0,u,32);}}class qd{constructor(){this.state={},this.stateChanges={},this.deletedStates={};}updateState(t,e,r){const n=String(e);if(this.stateChanges[t]=this.stateChanges[t]||{},this.stateChanges[t][n]=this.stateChanges[t][n]||{},T(this.stateChanges[t][n],r),null===this.deletedStates[t]){this.deletedStates[t]={};for(const e in this.state[t])e!==n&&(this.deletedStates[t][e]=null);}else if(this.deletedStates[t]&&null===this.deletedStates[t][n]){this.deletedStates[t][n]={};for(const e in this.state[t][n])r[e]||(this.deletedStates[t][n][e]=null);}else for(const e in r)this.deletedStates[t]&&this.deletedStates[t][n]&&null===this.deletedStates[t][n][e]&&delete this.deletedStates[t][n][e];}removeFeatureState(t,e,r){if(null===this.deletedStates[t])return;const n=String(e);if(this.deletedStates[t]=this.deletedStates[t]||{},r&&void 0!==e)null!==this.deletedStates[t][n]&&(this.deletedStates[t][n]=this.deletedStates[t][n]||{},this.deletedStates[t][n][r]=null);else if(void 0!==e)if(this.stateChanges[t]&&this.stateChanges[t][n])for(r in this.deletedStates[t][n]={},this.stateChanges[t][n])this.deletedStates[t][n][r]=null;else this.deletedStates[t][n]=null;else this.deletedStates[t]=null;}getState(t,e){const r=String(e),n=T({},(this.state[t]||{})[r],(this.stateChanges[t]||{})[r]);if(null===this.deletedStates[t])return {};if(this.deletedStates[t]){const r=this.deletedStates[t][e];if(null===r)return {};for(const t in r)delete n[t];}return n}initializeTileState(t,e){t.setFeatureState(this.state,e);}coalesceChanges(t,e){const r={};for(const t in this.stateChanges){this.state[t]=this.state[t]||{};const e={};for(const r in this.stateChanges[t])this.state[t][r]||(this.state[t][r]={}),T(this.state[t][r],this.stateChanges[t][r]),e[r]=this.state[t][r];r[t]=e;}for(const t in this.deletedStates){this.state[t]=this.state[t]||{};const e={};if(null===this.deletedStates[t])for(const r in this.state[t])e[r]={},this.state[t][r]={};else for(const r in this.deletedStates[t]){if(null===this.deletedStates[t][r])this.state[t][r]={};else for(const e of Object.keys(this.deletedStates[t][r]))delete this.state[t][r][e];e[r]=this.state[t][r];}r[t]=r[t]||{},T(r[t],e);}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(r).length)for(const n in t)t[n].setFeatureState(r,e);}}class Nd{constructor(t){this.size=t,this.minimums=[],this.maximums=[],this.leaves=[];}getElevation(t,e){const r=this.toIdx(t,e);return {min:this.minimums[r],max:this.maximums[r]}}isLeaf(t,e){return this.leaves[this.toIdx(t,e)]}toIdx(t,e){return e*this.size+t}}function Gd(t,e,r,n){let i=0,s=Number.MAX_VALUE;for(let a=0;a<3;a++)if(Math.abs(n[a])<1e-15){if(r[a]<t[a]||r[a]>e[a])return null}else {const o=1/n[a];let l=(t[a]-r[a])*o,u=(e[a]-r[a])*o;if(l>u){const t=l;l=u,u=t;}if(l>i&&(i=l),u<s&&(s=u),i>s)return null}return i}function Zd(t,e,r,n,i,s,a,o,l,u,c){const h=n-t,p=i-e,f=s-r,d=a-t,y=o-e,m=l-r,g=c[1]*m-c[2]*y,x=c[2]*d-c[0]*m,v=c[0]*y-c[1]*d,b=h*g+p*x+f*v;if(Math.abs(b)<1e-15)return null;const _=1/b,w=u[0]-t,A=u[1]-e,S=u[2]-r,k=(w*g+A*x+S*v)*_;if(k<0||k>1)return null;const I=A*f-S*p,M=S*h-w*f,z=w*p-A*h,T=(c[0]*I+c[1]*M+c[2]*z)*_;return T<0||k+T>1?null:(d*I+y*M+m*z)*_}function Xd(t,e,r){return (t-e)/(r-e)}function Kd(t,e,r,n,i,s,a,o,l){const u=1<<r,c=s-n,h=a-i,p=(t+1)/u*c+n,f=(e+0)/u*h+i,d=(e+1)/u*h+i;o[0]=(t+0)/u*c+n,o[1]=f,l[0]=p,l[1]=d;}class Hd{constructor(t){if(this.maximums=[],this.minimums=[],this.leaves=[],this.childOffsets=[],this.nodeCount=0,this.dem=t,this._siblingOffset=[[0,0],[1,0],[0,1],[1,1]],!this.dem)return;const e=function(t){const e=Math.ceil(Math.log2(t.dim/8)),r=[];let n=Math.ceil(Math.pow(2,e));const i=1/n,s=(t,e,r,n,i)=>{const s=n?1:0,a=(t+1)*r-s,o=e*r,l=(e+1)*r-s;i[0]=t*r,i[1]=o,i[2]=a,i[3]=l;};let a=new Nd(n);const o=[];for(let e=0;e<n*n;e++){s(e%n,Math.floor(e/n),i,!1,o);const r=Wd(o[0],o[1],t),l=Wd(o[2],o[1],t),u=Wd(o[2],o[3],t),c=Wd(o[0],o[3],t);a.minimums.push(Math.min(r,l,u,c)),a.maximums.push(Math.max(r,l,u,c)),a.leaves.push(1);}for(r.push(a),n/=2;n>=1;n/=2){const t=r[r.length-1];a=new Nd(n);for(let e=0;e<n*n;e++){s(e%n,Math.floor(e/n),2,!0,o);const r=t.getElevation(o[0],o[1]),i=t.getElevation(o[2],o[1]),l=t.getElevation(o[2],o[3]),u=t.getElevation(o[0],o[3]),c=t.isLeaf(o[0],o[1]),h=t.isLeaf(o[2],o[1]),p=t.isLeaf(o[2],o[3]),f=t.isLeaf(o[0],o[3]),d=Math.min(r.min,i.min,l.min,u.min),y=Math.max(r.max,i.max,l.max,u.max),m=c&&h&&p&&f;a.maximums.push(y),a.minimums.push(d),a.leaves.push(y-d<=5&&m?1:0);}r.push(a);}return r}(this.dem),r=e.length-1,n=e[r];this._addNode(n.minimums[0],n.maximums[0],n.leaves[0]),this._construct(e,0,0,r,0);}raycastRoot(t,e,r,n,i,s,a=1){return Gd([t,e,-100],[r,n,this.maximums[0]*a],i,s)}raycast(t,e,r,n,i,s,a=1){if(!this.nodeCount)return null;const o=this.raycastRoot(t,e,r,n,i,s,a);if(null==o)return null;const l=[],u=[],c=[],h=[],p=[{idx:0,t:o,nodex:0,nodey:0,depth:0}];for(;p.length>0;){const{idx:o,t:f,nodex:d,nodey:y,depth:m}=p.pop();if(this.leaves[o]){Kd(d,y,m,t,e,r,n,c,h);const o=1<<m,l=(d+0)/o,u=(d+1)/o,p=(y+0)/o,g=(y+1)/o,x=Wd(l,p,this.dem)*a,v=Wd(u,p,this.dem)*a,b=Wd(u,g,this.dem)*a,_=Wd(l,g,this.dem)*a,w=Zd(c[0],c[1],x,h[0],c[1],v,h[0],h[1],b,i,s),A=Zd(h[0],h[1],b,c[0],h[1],_,c[0],c[1],x,i,s),S=Math.min(null!==w?w:Number.MAX_VALUE,null!==A?A:Number.MAX_VALUE);if(S!==Number.MAX_VALUE)return S;{const t=Gl([],i,s,f);if(Yd(x,v,_,b,Xd(t[0],c[0],h[0]),Xd(t[1],c[1],h[1]))>=t[2])return f}continue}let g=0;for(let p=0;p<this._siblingOffset.length;p++){Kd((d<<1)+this._siblingOffset[p][0],(y<<1)+this._siblingOffset[p][1],m+1,t,e,r,n,c,h),c[2]=-100,h[2]=this.maximums[this.childOffsets[o]+p]*a;const f=Gd(c,h,i,s);if(null!=f){const t=f;l[p]=t;let e=!1;for(let r=0;r<g&&!e;r++)t>=l[u[r]]&&(u.splice(r,0,p),e=!0);e||(u[g]=p),g++;}}for(let t=0;t<g;t++){const e=u[t];p.push({idx:this.childOffsets[o]+e,t:l[e],nodex:(d<<1)+this._siblingOffset[e][0],nodey:(y<<1)+this._siblingOffset[e][1],depth:m+1});}}return null}_addNode(t,e,r){return this.minimums.push(t),this.maximums.push(e),this.leaves.push(r),this.childOffsets.push(0),this.nodeCount++}_construct(t,e,r,n,i){if(1===t[n].isLeaf(e,r))return;this.childOffsets[i]||(this.childOffsets[i]=this.nodeCount);const s=n-1,a=t[s];let o=0,l=0;for(let t=0;t<this._siblingOffset.length;t++){const n=2*e+this._siblingOffset[t][0],i=2*r+this._siblingOffset[t][1],s=a.getElevation(n,i),u=a.isLeaf(n,i),c=this._addNode(s.min,s.max,u);u&&(o|=1<<t),l||(l=c);}for(let n=0;n<this._siblingOffset.length;n++)o&1<<n||this._construct(t,2*e+this._siblingOffset[n][0],2*r+this._siblingOffset[n][1],s,l+n);}}function Yd(t,e,r,n,i,s){return Ir(Ir(t,r,s),Ir(e,n,s),i)}function Wd(t,e,r){const n=r.dim,i=S(t*n-.5,0,n-1),s=S(e*n-.5,0,n-1),a=Math.floor(i),o=Math.floor(s),l=Math.min(a+1,n-1),u=Math.min(o+1,n-1);return Yd(r.get(a,o),r.get(l,o),r.get(a,u),r.get(l,u),i-a,s-o)}const Jd={mapbox:[6553.6,25.6,.1,1e4],terrarium:[256,1,1/256,32768]};class Qd{get tree(){return this._tree||this._buildQuadTree(),this._tree}constructor(t,e,r,n=!1,i=!1){if(this.uid=t,e.height!==e.width)throw new RangeError(\"DEM tiles must be square\");if(r&&\"mapbox\"!==r&&\"terrarium\"!==r)return $(`\"${r}\" is not a valid encoding type. Valid types include \"mapbox\" and \"terrarium\".`);this.stride=e.height;const s=this.dim=e.height-2,a=new Uint32Array(e.data.buffer);if(this.pixels=new Uint8Array(e.data.buffer),this.encoding=r||\"mapbox\",this.borderReady=n,!n){for(let t=0;t<s;t++)a[this._idx(-1,t)]=a[this._idx(0,t)],a[this._idx(s,t)]=a[this._idx(s-1,t)],a[this._idx(t,-1)]=a[this._idx(t,0)],a[this._idx(t,s)]=a[this._idx(t,s-1)];a[this._idx(-1,-1)]=a[this._idx(0,0)],a[this._idx(s,-1)]=a[this._idx(s-1,0)],a[this._idx(-1,s)]=a[this._idx(0,s-1)],a[this._idx(s,s)]=a[this._idx(s-1,s-1)],i&&this._buildQuadTree();}}_buildQuadTree(){this._tree=new Hd(this);}get(t,e,r=!1){r&&(t=S(t,-1,this.dim),e=S(e,-1,this.dim));const n=4*this._idx(t,e);return (\"terrarium\"===this.encoding?this._unpackTerrarium:this._unpackMapbox)(this.pixels[n],this.pixels[n+1],this.pixels[n+2])}static getUnpackVector(t){return Jd[t]}get unpackVector(){return Jd[this.encoding]}_idx(t,e){if(t<-1||t>=this.dim+1||e<-1||e>=this.dim+1)throw new RangeError(\"out of range source coordinates for DEM data\");return (e+1)*this.stride+(t+1)}_unpackMapbox(t,e,r){return (256*t*256+256*e+r)/10-1e4}_unpackTerrarium(t,e,r){return 256*t+e+r/256-32768}static pack(t,e){const r=[0,0,0,0],n=Qd.getUnpackVector(e);let i=Math.floor((t+n[3])/n[2]);return r[2]=i%256,i=Math.floor(i/256),r[1]=i%256,i=Math.floor(i/256),r[0]=i,r}getPixels(){return new Au({width:this.stride,height:this.stride},this.pixels)}backfillBorder(t,e,r){if(this.dim!==t.dim)throw new Error(\"dem dimension mismatch\");let n=e*this.dim,i=e*this.dim+this.dim,s=r*this.dim,a=r*this.dim+this.dim;switch(e){case-1:n=i-1;break;case 1:i=n+1;}switch(r){case-1:s=a-1;break;case 1:a=s+1;}const o=-e*this.dim,l=-r*this.dim;for(let e=s;e<a;e++)for(let r=n;r<i;r++){const n=4*this._idx(r,e),i=4*this._idx(r+o,e+l);this.pixels[n+0]=t.pixels[i+0],this.pixels[n+1]=t.pixels[i+1],this.pixels[n+2]=t.pixels[i+2],this.pixels[n+3]=t.pixels[i+3];}}onDeserialize(){this._tree&&(this._tree.dem=this);}}ji(Qd,\"DEMData\"),ji(Hd,\"DemMinMaxQuadTree\",{omit:[\"dem\"]});class ty{constructor(t,e){this.max=t,this.onRemove=e,this.reset();}reset(){for(const t in this.data)for(const e of this.data[t])e.timeout&&clearTimeout(e.timeout),this.onRemove(e.value);return this.data={},this.order=[],this}add(t,e,r){const n=t.wrapped().key;void 0===this.data[n]&&(this.data[n]=[]);const i={value:e,timeout:void 0};if(void 0!==r&&(i.timeout=setTimeout((()=>{this.remove(t,i);}),r)),this.data[n].push(i),this.order.push(n),this.order.length>this.max){const t=this._getAndRemoveByKey(this.order[0]);t&&this.onRemove(t);}return this}has(t){return t.wrapped().key in this.data}getAndRemove(t){return this.has(t)?this._getAndRemoveByKey(t.wrapped().key):null}_getAndRemoveByKey(t){const e=this.data[t].shift();return e.timeout&&clearTimeout(e.timeout),0===this.data[t].length&&delete this.data[t],this.order.splice(this.order.indexOf(t),1),e.value}getByKey(t){const e=this.data[t];return e?e[0].value:null}get(t){return this.has(t)?this.data[t.wrapped().key][0].value:null}remove(t,e){if(!this.has(t))return this;const r=t.wrapped().key,n=void 0===e?0:this.data[r].indexOf(e),i=this.data[r][n];return this.data[r].splice(n,1),i.timeout&&clearTimeout(i.timeout),0===this.data[r].length&&delete this.data[r],this.onRemove(i.value),this.order.splice(this.order.indexOf(r),1),this}setMaxSize(t){for(this.max=t;this.order.length>this.max;){const t=this._getAndRemoveByKey(this.order[0]);t&&this.onRemove(t);}return this}filter(t){const e=[];for(const r in this.data)for(const n of this.data[r])t(n.value)||e.push(n);for(const t of e)this.remove(t.value.tileID,t);}}class ey{constructor(t,e,r){this.func=t,this.mask=e,this.range=r;}}ey.ReadOnly=!1,ey.ReadWrite=!0,ey.disabled=new ey(519,ey.ReadOnly,[0,1]);const ry=7680;class ny{constructor(t,e,r,n,i,s){this.test=t,this.ref=e,this.mask=r,this.fail=n,this.depthFail=i,this.pass=s;}}ny.disabled=new ny({func:519,mask:0},0,0,ry,ry,ry);class iy{constructor(t,e,r){this.blendFunction=t,this.blendColor=e,this.mask=r;}}iy.Replace=[1,0],iy.disabled=new iy(iy.Replace,Ie.transparent,[!1,!1,!1,!1]),iy.unblended=new iy(iy.Replace,Ie.transparent,[!0,!0,!0,!0]),iy.alphaBlended=new iy([1,771],Ie.transparent,[!0,!0,!0,!0]);const sy=1029,ay=2305;class oy{constructor(t,e,r){this.enable=t,this.mode=e,this.frontFace=r;}}oy.disabled=new oy(!1,sy,ay),oy.backCCW=new oy(!0,sy,ay),oy.backCW=new oy(!0,sy,2304),oy.frontCW=new oy(!0,1028,2304),oy.frontCCW=new oy(!0,1028,ay);class ly extends Kt{constructor(t,e,r){super(),this.id=t,this._onlySymbols=r,e.on(\"data\",(t=>{\"source\"===t.dataType&&\"metadata\"===t.sourceDataType&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&\"source\"===t.dataType&&\"content\"===t.sourceDataType&&(this.reload(),this.transform&&this.update(this.transform));})),e.on(\"error\",(()=>{this._sourceErrored=!0;})),this._source=e,this._tiles={},this._cache=new ty(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._minTileCacheSize=e.minTileCacheSize,this._maxTileCacheSize=e.maxTileCacheSize,this._loadedParentTiles={},this._coveredTiles={},this._state=new qd,this._isRaster=\"raster\"===this._source.type||\"raster-dem\"===this._source.type||\"custom\"===this._source.type&&\"raster\"===this._source._dataType;}onAdd(t){this.map=t,this._minTileCacheSize=void 0===this._minTileCacheSize&&t?t._minTileCacheSize:this._minTileCacheSize,this._maxTileCacheSize=void 0===this._maxTileCacheSize&&t?t._maxTileCacheSize:this._maxTileCacheSize;}loaded(){if(this._sourceErrored)return !0;if(!this._sourceLoaded)return !1;if(!this._source.loaded())return !1;for(const t in this._tiles){const e=this._tiles[t];if(\"loaded\"!==e.state&&\"errored\"!==e.state)return !1}return !0}getSource(){return this._source}pause(){this._paused=!0;}resume(){if(!this._paused)return;const t=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,t&&this.reload(),this.transform&&this.update(this.transform);}_loadTile(t,e){return t.isSymbolTile=this._onlySymbols,this._source.loadTile(t,e)}_unloadTile(t){if(this._source.unloadTile)return this._source.unloadTile(t,(()=>{}))}_abortTile(t){if(this._source.abortTile)return this._source.abortTile(t,(()=>{}))}serialize(){return this._source.serialize()}prepare(t){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const e in this._tiles){const r=this._tiles[e];r.upload(t),r.prepare(this.map.style.imageManager);}}getIds(){return z(this._tiles).map((t=>t.tileID)).sort(uy).map((t=>t.key))}getRenderableIds(t){const e=[];for(const r in this._tiles)this._isIdRenderable(+r,t)&&e.push(this._tiles[r]);return t?e.sort(((t,e)=>{const r=t.tileID,n=e.tileID,i=new d(r.canonical.x,r.canonical.y)._rotate(this.transform.angle),s=new d(n.canonical.x,n.canonical.y)._rotate(this.transform.angle);return r.overscaledZ-n.overscaledZ||s.y-i.y||s.x-i.x})).map((t=>t.tileID.key)):e.map((t=>t.tileID)).sort(uy).map((t=>t.key))}hasRenderableParent(t){const e=this.findLoadedParent(t,0);return !!e&&this._isIdRenderable(e.tileID.key)}_isIdRenderable(t,e){return this._tiles[t]&&this._tiles[t].hasData()&&!this._coveredTiles[t]&&(e||!this._tiles[t].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else {this._cache.reset();for(const t in this._tiles)\"errored\"!==this._tiles[t].state&&this._reloadTile(+t,\"reloading\");}}_reloadTile(t,e){const r=this._tiles[t];r&&(\"loading\"!==r.state&&(r.state=e),this._loadTile(r,this._tileLoaded.bind(this,r,t,e)));}_tileLoaded(t,e,r,n){if(n)if(t.state=\"errored\",404!==n.status)this._source.fire(new Xt(n,{tile:t}));else if(\"raster-dem\"===this._source.type&&this.usedForTerrain&&this.map.painter.terrain){const t=this.map.painter.terrain;this.update(this.transform,t.getScaledDemTileSize(),!0),t.resetTileLookupCache(this.id);}else this.update(this.transform);else t.timeAdded=qt.now(),\"expired\"===r&&(t.refreshedUponExpiration=!0),this._setTileReloadTimer(e,t),\"raster-dem\"===this._source.type&&t.dem&&this._backfillDEM(t),this._state.initializeTileState(t,this.map?this.map.painter:null),this._source.fire(new Zt(\"data\",{dataType:\"source\",tile:t,coord:t.tileID,sourceCacheId:this.id}));}_backfillDEM(t){const e=this.getRenderableIds();for(let n=0;n<e.length;n++){const i=e[n];if(t.neighboringTiles&&t.neighboringTiles[i]){const e=this.getTileByID(i);r(t,e),r(e,t);}}function r(t,e){if(!t.dem||t.dem.borderReady)return;t.needsHillshadePrepare=!0,t.needsDEMTextureUpload=!0;let r=e.tileID.canonical.x-t.tileID.canonical.x;const n=e.tileID.canonical.y-t.tileID.canonical.y,i=Math.pow(2,t.tileID.canonical.z),s=e.tileID.key;0===r&&0===n||Math.abs(n)>1||(Math.abs(r)>1&&(1===Math.abs(r+i)?r+=i:1===Math.abs(r-i)&&(r-=i)),e.dem&&t.dem&&(t.dem.backfillBorder(e.dem,r,n),t.neighboringTiles&&t.neighboringTiles[s]&&(t.neighboringTiles[s].backfilled=!0)));}}getTile(t){return this.getTileByID(t.key)}getTileByID(t){return this._tiles[t]}_retainLoadedChildren(t,e,r,n){for(const i in this._tiles){let s=this._tiles[i];if(n[i]||!s.hasData()||s.tileID.overscaledZ<=e||s.tileID.overscaledZ>r)continue;let a=s.tileID;for(;s&&s.tileID.overscaledZ>e+1;){const t=s.tileID.scaledTo(s.tileID.overscaledZ-1);s=this._tiles[t.key],s&&s.hasData()&&(a=t);}let o=a;for(;o.overscaledZ>e;)if(o=o.scaledTo(o.overscaledZ-1),t[o.key]){n[a.key]=a;break}}}findLoadedParent(t,e){if(t.key in this._loadedParentTiles){const r=this._loadedParentTiles[t.key];return r&&r.tileID.overscaledZ>=e?r:null}for(let r=t.overscaledZ-1;r>=e;r--){const e=t.scaledTo(r),n=this._getLoadedTile(e);if(n)return n}}_getLoadedTile(t){const e=this._tiles[t.key];return e&&e.hasData()?e:this._cache.getByKey(this._source.reparseOverscaled?t.wrapped().key:t.canonical.key)}updateCacheSize(t,e){e=e||this._source.tileSize;const r=Math.ceil(t.width/e)+1,n=Math.ceil(t.height/e)+1,i=Math.floor(r*n*5),s=\"number\"==typeof this._minTileCacheSize?Math.max(this._minTileCacheSize,i):i,a=\"number\"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,s):s;this._cache.setMaxSize(a);}handleWrapJump(t){const e=Math.round((t-(void 0===this._prevLng?t:this._prevLng))/360);if(this._prevLng=t,e){const t={};for(const r in this._tiles){const n=this._tiles[r];n.tileID=n.tileID.unwrapTo(n.tileID.wrap+e),t[n.tileID.key]=n;}this._tiles=t;for(const t in this._timers)clearTimeout(this._timers[t]),delete this._timers[t];for(const t in this._tiles)this._setTileReloadTimer(+t,this._tiles[t]);}}update(t,e,r){if(this.transform=t,!this._sourceLoaded||this._paused||this.transform.freezeTileCoverage)return;if(this.usedForTerrain&&!r)return;let n;this.updateCacheSize(t,e),\"globe\"!==this.transform.projection.name&&this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?n=t.getVisibleUnwrappedCoordinates(this._source.tileID).map((t=>new Wc(t.canonical.z,t.wrap,t.canonical.z,t.canonical.x,t.canonical.y))):(n=t.coveringTiles({tileSize:e||this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!r,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain}),this._source.hasTile&&(n=n.filter((t=>this._source.hasTile(t))))):n=[];const i=this._updateRetainedTiles(n);if(cy(this._source.type)&&0!==n.length){const t={},e={},r=Object.keys(i);for(const n of r){const r=i[n],s=this._tiles[n];if(!s||s.fadeEndTime&&s.fadeEndTime<=qt.now())continue;const a=this.findLoadedParent(r,Math.max(r.overscaledZ-ly.maxOverzooming,this._source.minzoom));a&&(this._addTile(a.tileID),t[a.tileID.key]=a.tileID),e[n]=r;}const s=n[n.length-1].overscaledZ;for(const t in this._tiles){const r=this._tiles[t];if(i[t]||!r.hasData())continue;let n=r.tileID;for(;n.overscaledZ>s;){n=n.scaledTo(n.overscaledZ-1);const s=this._tiles[n.key];if(s&&s.hasData()&&e[n.key]){i[t]=r.tileID;break}}}for(const e in t)i[e]||(this._coveredTiles[e]=!0,i[e]=t[e]);}for(const t in i)this._tiles[t].clearFadeHold();const s=function(t,e){const r=[];for(const n in t)n in e||r.push(n);return r}(this._tiles,i);for(const t of s){const e=this._tiles[t];e.hasSymbolBuckets&&!e.holdingForFade()?e.setHoldDuration(this.map._fadeDuration):e.hasSymbolBuckets&&!e.symbolFadeFinished()||this._removeTile(+t);}this._updateLoadedParentTileCache(),this._onlySymbols&&this._source.afterUpdate&&this._source.afterUpdate();}releaseSymbolFadeTiles(){for(const t in this._tiles)this._tiles[t].holdingForFade()&&this._removeTile(+t);}_updateRetainedTiles(t){const e={};if(0===t.length)return e;const r={},n=t.reduce(((t,e)=>Math.min(t,e.overscaledZ)),1/0),i=t[0].overscaledZ,s=Math.max(i-ly.maxOverzooming,this._source.minzoom),a=Math.max(i+ly.maxUnderzooming,this._source.minzoom),o={};for(const r of t){const t=this._addTile(r);e[r.key]=r,t.hasData()||n<this._source.maxzoom&&(o[r.key]=r);}this._retainLoadedChildren(o,n,a,e);for(const n of t){let t=this._tiles[n.key];if(t.hasData())continue;if(n.canonical.z>=this._source.maxzoom){const t=n.children(this._source.maxzoom)[0],r=this.getTile(t);if(r&&r.hasData()){e[t.key]=t;continue}}else {const t=n.children(this._source.maxzoom);if(e[t[0].key]&&e[t[1].key]&&e[t[2].key]&&e[t[3].key])continue}let i=t.wasRequested();for(let a=n.overscaledZ-1;a>=s;--a){const s=n.scaledTo(a);if(r[s.key])break;if(r[s.key]=!0,t=this.getTile(s),!t&&i&&(t=this._addTile(s)),t&&(e[s.key]=s,i=t.wasRequested(),t.hasData()))break}}return e}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const t in this._tiles){const e=[];let r,n=this._tiles[t].tileID;for(;n.overscaledZ>0;){if(n.key in this._loadedParentTiles){r=this._loadedParentTiles[n.key];break}e.push(n.key);const t=n.scaledTo(n.overscaledZ-1);if(r=this._getLoadedTile(t),r)break;n=t;}for(const t of e)this._loadedParentTiles[t]=r;}}_addTile(t){let e=this._tiles[t.key];if(e)return e;e=this._cache.getAndRemove(t),e&&(this._setTileReloadTimer(t.key,e),e.tileID=t,this._state.initializeTileState(e,this.map?this.map.painter:null),this._cacheTimers[t.key]&&(clearTimeout(this._cacheTimers[t.key]),delete this._cacheTimers[t.key],this._setTileReloadTimer(t.key,e)));const r=Boolean(e);if(!r){const r=this.map?this.map.painter:null;e=new Od(t,this._source.tileSize*t.overscaleFactor(),this.transform.tileZoom,r,this._isRaster),this._loadTile(e,this._tileLoaded.bind(this,e,t.key,e.state));}return e?(e.uses++,this._tiles[t.key]=e,r||this._source.fire(new Zt(\"dataloading\",{tile:e,coord:e.tileID,dataType:\"source\"})),e):null}_setTileReloadTimer(t,e){t in this._timers&&(clearTimeout(this._timers[t]),delete this._timers[t]);const r=e.getExpiryTimeout();r&&(this._timers[t]=setTimeout((()=>{this._reloadTile(t,\"expired\"),delete this._timers[t];}),r));}_removeTile(t){const e=this._tiles[t];e&&(e.uses--,delete this._tiles[t],this._timers[t]&&(clearTimeout(this._timers[t]),delete this._timers[t]),e.uses>0||(e.hasData()&&\"reloading\"!==e.state?this._cache.add(e.tileID,e,e.getExpiryTimeout()):(e.aborted=!0,this._abortTile(e),this._unloadTile(e))));}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const t in this._tiles)this._removeTile(+t);this._source._clear&&this._source._clear(),this._cache.reset(),this.map&&this.usedForTerrain&&this.map.painter.terrain&&this.map.painter.terrain.resetTileLookupCache(this.id);}tilesIn(t,e,r){const n=[],i=this.transform;if(!i)return n;const s=\"globe\"===i.projection.name,a=Fo(i.center.lng);for(const o in this._tiles){const l=this._tiles[o];if(r&&l.clearQueryDebugViz(),l.holdingForFade())continue;let u;if(s){const t=l.tileID.canonical;if(0===t.z){const e=[Math.abs(S(a,...hy(t,-1))-a),Math.abs(S(a,...hy(t,1))-a)];u=[0,2*e.indexOf(Math.min(...e))-1];}else {const e=[Math.abs(S(a,...hy(t,-1))-a),Math.abs(S(a,...hy(t,0))-a),Math.abs(S(a,...hy(t,1))-a)];u=[e.indexOf(Math.min(...e))-1];}}else u=[0];for(const r of u){const s=t.containsTile(l,i,e,r);s&&n.push(s);}}return n}getVisibleCoordinates(t){const e=this.getRenderableIds(t).map((t=>this._tiles[t].tileID));for(const t of e)t.projMatrix=this.transform.calculateProjMatrix(t.toUnwrapped());return e}hasTransition(){if(this._source.hasTransition())return !0;if(cy(this._source.type))for(const t in this._tiles){const e=this._tiles[t];if(void 0!==e.fadeEndTime&&e.fadeEndTime>=qt.now())return !0}return !1}setFeatureState(t,e,r){this._state.updateState(t=t||\"_geojsonTileLayer\",e,r);}removeFeatureState(t,e,r){this._state.removeFeatureState(t=t||\"_geojsonTileLayer\",e,r);}getFeatureState(t,e){return this._state.getState(t=t||\"_geojsonTileLayer\",e)}setDependencies(t,e,r){const n=this._tiles[t];n&&n.setDependencies(e,r);}reloadTilesForDependencies(t,e){for(const r in this._tiles)this._tiles[r].hasDependency(t,e)&&this._reloadTile(+r,\"reloading\");this._cache.filter((r=>!r.hasDependency(t,e)));}_preloadTiles(t,e){const r=new Map,n=Array.isArray(t)?t:[t],i=this.map.painter.terrain,s=this.usedForTerrain&&i?i.getScaledDemTileSize():this._source.tileSize;for(const t of n){const e=t.coveringTiles({tileSize:s,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!this.usedForTerrain,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain});for(const t of e)r.set(t.key,t);this.usedForTerrain&&t.updateElevation(!1);}M(Array.from(r.values()),((t,e)=>{const r=new Od(t,this._source.tileSize*t.overscaleFactor(),this.transform.tileZoom,this.map.painter,this._isRaster);this._loadTile(r,(t=>{\"raster-dem\"===this._source.type&&r.dem&&this._backfillDEM(r),e(t,r);}));}),e);}}function uy(t,e){const r=Math.abs(2*t.wrap)-+(t.wrap<0),n=Math.abs(2*e.wrap)-+(e.wrap<0);return t.overscaledZ-e.overscaledZ||n-r||e.canonical.y-t.canonical.y||e.canonical.x-t.canonical.x}function cy(t){return \"raster\"===t||\"image\"===t||\"video\"===t||\"custom\"===t}function hy(t,e){const r=1<<t.z;return [t.x/r+e,(t.x+1)/r+e]}ly.maxOverzooming=10,ly.maxUnderzooming=3;class py{constructor(t,e,r){this._demTile=t,this._dem=this._demTile.dem,this._scale=e,this._offset=r;}static create(t,e,r){const n=r||t.findDEMTileFor(e);if(!n||!n.dem)return;const i=n.dem,s=n.tileID,a=1<<e.canonical.z-s.canonical.z;return new py(n,n.tileSize/Bo/a,[(e.canonical.x/a-s.canonical.x)*i.dim,(e.canonical.y/a-s.canonical.y)*i.dim])}tileCoordToPixel(t,e){const r=e*this._scale+this._offset[1],n=Math.floor(t*this._scale+this._offset[0]),i=Math.floor(r);return new d(n,i)}getElevationAt(t,e,r,n){const i=t*this._scale+this._offset[0],s=e*this._scale+this._offset[1],a=Math.floor(i),o=Math.floor(s),l=this._dem;return n=!!n,r?Ir(Ir(l.get(a,o,n),l.get(a,o+1,n),s-o),Ir(l.get(a+1,o,n),l.get(a+1,o+1,n),s-o),i-a):l.get(a,o,n)}getElevationAtPixel(t,e,r){return this._dem.get(t,e,!!r)}getMeterToDEM(t){return (1<<this._demTile.tileID.canonical.z)*Ro(1,t)*this._dem.stride}}class fy{constructor(t,e){this.tileID=t,this.x=t.canonical.x,this.y=t.canonical.y,this.z=t.canonical.z,this.grid=new Li(Bo,16,0),this.featureIndexArray=new Oa,this.promoteId=e;}insert(t,e,r,n,i,s=0){const a=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(r,n,i,s);const o=this.grid;for(let t=0;t<e.length;t++){const r=e[t],n=[1/0,1/0,-1/0,-1/0];for(let t=0;t<r.length;t++){const e=r[t];n[0]=Math.min(n[0],e.x),n[1]=Math.min(n[1],e.y),n[2]=Math.max(n[2],e.x),n[3]=Math.max(n[3],e.y);}n[0]<Bo&&n[1]<Bo&&n[2]>=0&&n[3]>=0&&o.insert(a,n[0],n[1],n[2],n[3]);}}loadVTLayers(){if(!this.vtLayers){this.vtLayers=new Tc(new Eh(this.rawTileData)).layers,this.sourceLayerCoder=new Bd(this.vtLayers?Object.keys(this.vtLayers).sort():[\"_geojsonTileLayer\"]),this.vtFeatures={};for(const t in this.vtLayers)this.vtFeatures[t]=[];}return this.vtLayers}query(t,e,r,n){this.loadVTLayers();const i=t.params||{},s=si(i.filter),a=t.tileResult,o=t.transform,l=a.bufferedTilespaceBounds,u=this.grid.query(l.min.x,l.min.y,l.max.x,l.max.y,((t,e,r,n)=>fl(a.bufferedTilespaceGeometry,t,e,r,n)));u.sort(yy);let c=null;o.elevation&&u.length>0&&(c=py.create(o.elevation,this.tileID));const h={};let p;for(let o=0;o<u.length;o++){const l=u[o];if(l===p)continue;p=l;const f=this.featureIndexArray.get(l);let d=null;this.loadMatchingFeature(h,f,s,i.layers,i.availableImages,e,r,n,((e,r,n,i=0)=>(d||(d=Jo(e,this.tileID.canonical,t.tileTransform)),r.queryIntersectsFeature(a,e,n,d,this.z,t.transform,t.pixelPosMatrix,c,i))));}return h}loadMatchingFeature(t,e,r,n,i,s,a,o,l){const{featureIndex:u,bucketIndex:c,sourceLayerIndex:h,layoutVertexArrayOffset:p}=e,f=this.bucketLayerIDs[c];if(n&&!function(t,e){for(let r=0;r<t.length;r++)if(e.indexOf(t[r])>=0)return !0;return !1}(n,f))return;const d=this.sourceLayerCoder.decode(h),y=this.vtLayers[d].feature(u);if(r.needGeometry){const t=Qo(y,!0);if(!r.filter(new Us(this.tileID.overscaledZ),t,this.tileID.canonical))return}else if(!r.filter(new Us(this.tileID.overscaledZ),y))return;const m=this.getId(y,d);for(let e=0;e<f.length;e++){const r=f[e];if(n&&n.indexOf(r)<0)continue;const c=s[r];if(!c)continue;let h={};void 0!==m&&o&&(h=o.getState(c.sourceLayer||\"_geojsonTileLayer\",m));const d=T({},a[r]);d.paint=dy(d.paint,c.paint,y,h,i),d.layout=dy(d.layout,c.layout,y,h,i);const g=!l||l(y,c,h,p);if(!g)continue;const x=new Pd(y,this.z,this.x,this.y,m);x.layer=d;let v=t[r];void 0===v&&(v=t[r]=[]),v.push({featureIndex:u,feature:x,intersectionZ:g});}}lookupSymbolFeatures(t,e,r,n,i,s,a,o){const l={};this.loadVTLayers();const u=si(i);for(const i of t)this.loadMatchingFeature(l,{bucketIndex:r,sourceLayerIndex:n,featureIndex:i,layoutVertexArrayOffset:0},u,s,a,o,e);return l}loadFeature(t){const{featureIndex:e,sourceLayerIndex:r}=t;this.loadVTLayers();const n=this.sourceLayerCoder.decode(r),i=this.vtFeatures[n];if(i[e])return i[e];const s=this.vtLayers[n].feature(e);return i[e]=s,s}hasLayer(t){for(const e of this.bucketLayerIDs)for(const r of e)if(t===r)return !0;return !1}getId(t,e){let r=t.id;if(this.promoteId){const n=\"string\"==typeof this.promoteId?this.promoteId:this.promoteId[e];null!=n&&(r=t.properties[n]),\"boolean\"==typeof r&&(r=Number(r));}return r}}function dy(t,e,r,n,i){return L(t,((t,s)=>{const a=e instanceof Xs?e.get(s):null;return a&&a.evaluate?a.evaluate(r,n,i):a}))}function yy(t,e){return e-t}ji(fy,\"FeatureIndex\",{omit:[\"rawTileData\",\"sourceLayerCoder\"]});class my{constructor(t,e){this.width=t,this.height=e,this.nextRow=0,this.image=new wu({width:t,height:e}),this.positions={},this.uploaded=!1;}getDash(t,e){const r=this.getKey(t,e);return this.positions[r]}trim(){const t=this.width,e=this.height=C(this.nextRow);this.image.resize({width:t,height:e});}getKey(t,e){return t.join(\",\")+e}getDashRanges(t,e,r){const n=[];let i=t.length%2==1?-t[t.length-1]*r:0,s=t[0]*r,a=!0;n.push({left:i,right:s,isDash:a,zeroLength:0===t[0]});let o=t[0];for(let e=1;e<t.length;e++){a=!a;const l=t[e];i=o*r,o+=l,s=o*r,n.push({left:i,right:s,isDash:a,zeroLength:0===l});}return n}addRoundDash(t,e,r){const n=e/2;for(let e=-r;e<=r;e++){const i=this.width*(this.nextRow+r+e);let s=0,a=t[s];for(let o=0;o<this.width;o++){o/a.right>1&&(a=t[++s]);const l=Math.abs(o-a.left),u=Math.abs(o-a.right),c=Math.min(l,u);let h;const p=e/r*(n+1);if(a.isDash){const t=n-Math.abs(p);h=Math.sqrt(c*c+t*t);}else h=n-Math.sqrt(c*c+p*p);this.image.data[i+o]=Math.max(0,Math.min(255,h+128));}}}addRegularDash(t,e){for(let e=t.length-1;e>=0;--e){const r=t[e],n=t[e+1];r.zeroLength?t.splice(e,1):n&&n.isDash===r.isDash&&(n.left=r.left,t.splice(e,1));}const r=t[0],n=t[t.length-1];r.isDash===n.isDash&&(r.left=n.left-this.width,n.right=r.right+this.width);const i=this.width*this.nextRow;let s=0,a=t[s];for(let r=0;r<this.width;r++){r/a.right>1&&(a=t[++s]);const n=Math.abs(r-a.left),o=Math.abs(r-a.right),l=Math.min(n,o);this.image.data[i+r]=Math.max(0,Math.min(255,(a.isDash?l:-l)+e+128));}}addDash(t,e){const r=this.getKey(t,e);if(this.positions[r])return this.positions[r];const n=\"round\"===e,i=n?7:0,s=2*i+1;if(this.nextRow+s>this.height)return $(\"LineAtlas out of space\"),null;0===t.length&&t.push(1);let a=0;for(let e=0;e<t.length;e++)t[e]<0&&($(\"Negative value is found in line dasharray, replacing values with 0\"),t[e]=0),a+=t[e];if(0!==a){const r=this.width/a,s=this.getDashRanges(t,this.width,r);n?this.addRoundDash(s,r,i):this.addRegularDash(s,\"square\"===e?.5*r:0);}const o=this.nextRow+i;this.nextRow+=s;const l={tl:[o,i],br:[a,0]};return this.positions[r]=l,l}}ji(my,\"LineAtlas\");class gy{constructor(t){const e={},r=[];for(const n in t){const i=t[n],s=e[n]={};for(const t in i.glyphs){const e=i.glyphs[+t];if(!e||0===e.bitmap.width||0===e.bitmap.height)continue;const n=e.metrics.localGlyph?2:1,a={x:0,y:0,w:e.bitmap.width+2*n,h:e.bitmap.height+2*n};r.push(a),s[t]=a;}}const{w:n,h:i}=rp(r),s=new wu({width:n||1,height:i||1});for(const r in t){const n=t[r];for(const t in n.glyphs){const i=n.glyphs[+t];if(!i||0===i.bitmap.width||0===i.bitmap.height)continue;const a=e[r][t],o=i.metrics.localGlyph?2:1;wu.copy(i.bitmap,s,{x:0,y:0},{x:a.x+o,y:a.y+o},i.bitmap);}}this.image=s,this.positions=e;}}ji(gy,\"GlyphAtlas\");class xy{constructor(t){this.tileID=new Wc(t.tileID.overscaledZ,t.tileID.wrap,t.tileID.canonical.z,t.tileID.canonical.x,t.tileID.canonical.y),this.tileZoom=t.tileZoom,this.uid=t.uid,this.zoom=t.zoom,this.canonical=t.tileID.canonical,this.pixelRatio=t.pixelRatio,this.tileSize=t.tileSize,this.source=t.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=t.showCollisionBoxes,this.collectResourceTiming=!!t.collectResourceTiming,this.returnDependencies=!!t.returnDependencies,this.promoteId=t.promoteId,this.enableTerrain=!!t.enableTerrain,this.isSymbolTile=t.isSymbolTile,this.tileTransform=jf(t.tileID.canonical,t.projection),this.projection=t.projection;}parse(t,e,r,n,i){this.status=\"parsing\",this.data=t,this.collisionBoxArray=new Da;const s=new Bd(Object.keys(t.layers).sort()),a=new fy(this.tileID,this.promoteId);a.bucketLayerIDs=[];const o={},l=new my(256,256),u={featureIndex:a,iconDependencies:{},patternDependencies:{},glyphDependencies:{},lineAtlas:l,availableImages:r},c=e.familiesBySource[this.source];for(const e in c){const n=t.layers[e];if(!n)continue;let i=!1,l=!1;for(const t of c[e])\"symbol\"===t[0].type?i=!0:l=!0;if(!0===this.isSymbolTile&&!i)continue;if(!1===this.isSymbolTile&&!l)continue;1===n.version&&$(`Vector tile source \"${this.source}\" layer \"${e}\" does not use vector tile spec v2 and therefore may have some rendering errors.`);const h=s.encode(e),p=[];for(let t=0;t<n.length;t++){const r=n.feature(t),i=a.getId(r,e);p.push({feature:r,id:i,index:t,sourceLayerIndex:h});}for(const t of c[e]){const e=t[0];void 0!==this.isSymbolTile&&\"symbol\"===e.type!==this.isSymbolTile||e.minzoom&&this.zoom<Math.floor(e.minzoom)||e.maxzoom&&this.zoom>=e.maxzoom||\"none\"!==e.visibility&&(vy(t,this.zoom,r),(o[e.id]=e.createBucket({index:a.bucketLayerIDs.length,layers:t,zoom:this.zoom,canonical:this.canonical,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:h,sourceID:this.source,enableTerrain:this.enableTerrain,projection:this.projection.spec,availableImages:r})).populate(p,u,this.tileID.canonical,this.tileTransform),a.bucketLayerIDs.push(t.map((t=>t.id))));}}let h,p,f,d;l.trim();const y={type:\"maybePrepare\",isSymbolTile:this.isSymbolTile,zoom:this.zoom},m=L(u.glyphDependencies,(t=>Object.keys(t).map(Number)));Object.keys(m).length?n.send(\"getGlyphs\",{uid:this.uid,stacks:m},((t,e)=>{h||(h=t,p=e,v.call(this));}),void 0,!1,y):p={};const g=Object.keys(u.iconDependencies);g.length?n.send(\"getImages\",{icons:g,source:this.source,tileID:this.tileID,type:\"icons\"},((t,e)=>{h||(h=t,f=e,v.call(this));}),void 0,!1,y):f={};const x=Object.keys(u.patternDependencies);function v(){if(h)return i(h);if(p&&f&&d){const t=new gy(p),e=new ip(f,d);for(const n in o){const i=o[n];i instanceof md?(vy(i.layers,this.zoom,r),Hp(i,p,t.positions,f,e.iconPositions,this.showCollisionBoxes,r,this.tileID.canonical,this.tileZoom,this.projection)):i.hasPattern&&(i instanceof uh||i instanceof cc||i instanceof Lc)&&(vy(i.layers,this.zoom,r),i.addFeatures(u,this.tileID.canonical,e.patternPositions,r,this.tileTransform));}this.status=\"done\",i(null,{buckets:z(o).filter((t=>!t.isEmpty())),featureIndex:a,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:t.image,lineAtlas:l,imageAtlas:e,glyphMap:this.returnDependencies?p:null,iconMap:this.returnDependencies?f:null,glyphPositions:this.returnDependencies?t.positions:null});}}x.length?n.send(\"getImages\",{icons:x,source:this.source,tileID:this.tileID,type:\"patterns\"},((t,e)=>{h||(h=t,d=e,v.call(this));}),void 0,!1,y):d={},v.call(this);}}function vy(t,e,r){const n=new Us(e);for(const e of t)e.recalculate(n,r);}class by{constructor(t){this.entries={},this.scheduler=t;}request(t,e,r,n){const i=this.entries[t]=this.entries[t]||{callbacks:[]};if(i.result){const[t,r]=i.result;return this.scheduler?this.scheduler.add((()=>{n(t,r);}),e):n(t,r),()=>{}}return i.callbacks.push(n),i.cancel||(i.cancel=r(((r,n)=>{i.result=[r,n];for(const t of i.callbacks)this.scheduler?this.scheduler.add((()=>{t(r,n);}),e):t(r,n);setTimeout((()=>delete this.entries[t]),3e3);}))),()=>{i.result||(i.callbacks=i.callbacks.filter((t=>t!==n)),i.callbacks.length||(i.cancel(),delete this.entries[t]));}}}function _y(t,e,r){const n=JSON.stringify(t.request);return t.data&&(this.deduped.entries[n]={result:[null,t.data]}),this.deduped.request(n,{type:\"parseTile\",isSymbolTile:t.isSymbolTile,zoom:t.tileZoom},(e=>{const n=ut(t.request,((t,n,i,s)=>{t?e(t):n&&e(null,{vectorTile:r?void 0:new Tc(new Eh(n)),rawData:n,cacheControl:i,expires:s});}));return ()=>{n.cancel(),e();}}),e)}t.ARRAY_TYPE=wl,t.AUTH_ERR_MSG=yt,t.Aabb=pu,t.Actor=class{constructor(t,r,n){this.target=t,this.parent=r,this.mapId=n,this.callbacks={},this.cancelCallbacks={},V([\"receive\"],this),this.target.addEventListener(\"message\",this.receive,!1),this.globalScope=N()?t:e,this.scheduler=new Td;}send(t,e,r,n,i=!1,s){const a=Math.round(1e18*Math.random()).toString(36).substring(0,10);r&&(r.metadata=s,this.callbacks[a]=r);const o=X(this.globalScope)?void 0:[];return this.target.postMessage({id:a,type:t,hasCallback:!!r,targetMapId:n,mustQueue:i,sourceMapId:this.mapId,data:qi(e,o)},o),{cancel:()=>{r&&delete this.callbacks[a],this.target.postMessage({id:a,type:\"<cancel>\",targetMapId:n,sourceMapId:this.mapId});}}}receive(t){const e=t.data,r=e.id;if(r&&(!e.targetMapId||this.mapId===e.targetMapId))if(\"<cancel>\"===e.type){const t=this.cancelCallbacks[r];delete this.cancelCallbacks[r],t&&t.cancel();}else if(e.mustQueue||N()){const t=this.callbacks[r];this.cancelCallbacks[r]=this.scheduler.add((()=>this.processTask(r,e)),t&&t.metadata||{type:\"message\"});}else this.processTask(r,e);}processTask(t,e){if(\"<response>\"===e.type){const r=this.callbacks[t];delete this.callbacks[t],r&&(e.error?r(Ni(e.error)):r(null,Ni(e.data)));}else {const r=X(this.globalScope)?void 0:[],n=e.hasCallback?(e,n)=>{delete this.cancelCallbacks[t],this.target.postMessage({id:t,type:\"<response>\",sourceMapId:this.mapId,error:e?qi(e):null,data:qi(n,r)},r);}:t=>{},i=Ni(e.data);if(this.parent[e.type])this.parent[e.type](e.sourceMapId,i,n);else if(this.parent.getWorkerSource){const t=e.type.split(\".\");this.parent.getWorkerSource(e.sourceMapId,t[0],i.source)[t[1]](i,n);}else n(new Error(`Could not find function ${e.type}`));}}remove(){this.scheduler.remove(),this.target.removeEventListener(\"message\",this.receive,!1);}},t.CanonicalTileID=Hc,t.Color=Ie,t.ColorMode=iy,t.CullFaceMode=oy,t.DEMData=Qd,t.DataConstantProperty=Ks,t.DedupedRequest=by,t.DepthMode=ey,t.EXTENT=Bo,t.Elevation=class{isDataAvailableAtPoint(t){const e=this._source();if(this.isUsingMockSource()||!e||t.y<0||t.y>1)return !1;const r=e.getSource().maxzoom,n=1<<r,i=Math.floor(t.x),s=Math.floor((t.x-i)*n),a=Math.floor(t.y*n),o=this.findDEMTileFor(new Wc(r,i,r,s,a));return !(!o||!o.dem)}getAtPointOrZero(t,e=0){return this.getAtPoint(t,e)||0}getAtPoint(t,e,r=!0){if(this.isUsingMockSource())return null;null==e&&(e=null);const n=this._source();if(!n)return e;if(t.y<0||t.y>1)return e;const i=n.getSource().maxzoom,s=1<<i,a=Math.floor(t.x),o=t.x-a,l=new Wc(i,a,i,Math.floor(o*s),Math.floor(t.y*s)),u=this.findDEMTileFor(l);if(!u||!u.dem)return e;const c=u.dem,h=1<<u.tileID.canonical.z,p=(o*h-u.tileID.canonical.x)*c.dim,f=(t.y*h-u.tileID.canonical.y)*c.dim,d=Math.floor(p),y=Math.floor(f);return (r?this.exaggeration():1)*Ir(Ir(c.get(d,y),c.get(d,y+1),f-y),Ir(c.get(d+1,y),c.get(d+1,y+1),f-y),p-d)}getAtTileOffset(t,e,r){const n=1<<t.canonical.z;return this.getAtPointOrZero(new No(t.wrap+(t.canonical.x+e/Bo)/n,(t.canonical.y+r/Bo)/n))}getAtTileOffsetFunc(t,e,r,n){return i=>{const s=this.getAtTileOffset(t,i.x,i.y),a=n.upVector(t.canonical,i.x,i.y);return Nl(a,a,s*n.upVectorScale(t.canonical,e,r).metersToTile),a}}getForTilePoints(t,e,r,n){if(this.isUsingMockSource())return !1;const i=py.create(this,t,n);return !!i&&(e.forEach((t=>{t[2]=this.exaggeration()*i.getElevationAt(t[0],t[1],r);})),!0)}getMinMaxForTile(t){if(this.isUsingMockSource())return null;const e=this.findDEMTileFor(t);if(!e||!e.dem)return null;const r=e.dem.tree,n=e.tileID,i=1<<t.canonical.z-n.canonical.z;let s=t.canonical.x/i-n.canonical.x,a=t.canonical.y/i-n.canonical.y,o=0;for(let e=0;e<t.canonical.z-n.canonical.z&&!r.leaves[o];e++){s*=2,a*=2;const t=2*Math.floor(a)+Math.floor(s);o=r.childOffsets[o]+t,s%=1,a%=1;}return {min:this.exaggeration()*r.minimums[o],max:this.exaggeration()*r.maximums[o]}}getMinElevationBelowMSL(){throw new Error(\"Pure virtual method called.\")}raycast(t,e,r){throw new Error(\"Pure virtual method called.\")}pointCoordinate(t){throw new Error(\"Pure virtual method called.\")}_source(){throw new Error(\"Pure virtual method called.\")}isUsingMockSource(){throw new Error(\"Pure virtual method called.\")}exaggeration(){throw new Error(\"Pure virtual method called.\")}findDEMTileFor(t){throw new Error(\"Pure virtual method called.\")}get visibleDemTiles(){throw new Error(\"Getter must be implemented in subclass.\")}},t.ErrorEvent=Xt,t.EvaluationParameters=Us,t.Event=Zt,t.Evented=Kt,t.FillExtrusionBucket=Lc,t.Frustum=hu,t.FrustumCorners=cu,t.GLOBE_METERS_TO_ECEF=cf,t.GLOBE_RADIUS=uf,t.GLOBE_SCALE_MATCH_LATITUDE=45,t.GLOBE_ZOOM_THRESHOLD_MAX=6,t.GLOBE_ZOOM_THRESHOLD_MIN=5,t.GlobeSharedBuffers=class{constructor(t){this._createGrid(t),this._createPoles(t);}destroy(){this._poleIndexBuffer.destroy(),this._gridBuffer.destroy(),this._gridIndexBuffer.destroy(),this._poleNorthVertexBuffer.destroy(),this._poleSouthVertexBuffer.destroy();for(const t of this._poleSegments)t.destroy();for(const t of this._gridSegments)t.destroy();if(this._wireframeIndexBuffer){this._wireframeIndexBuffer.destroy();for(const t of this._wireframeSegments)t.destroy();}}_createGrid(t){const e=new aa,r=new wa,n=65;for(let t=0;t<n;t++)for(let r=0;r<n;r++)e.emplaceBack(r,t);this._gridSegments=[];for(let t=0,e=0;t<pf.length;t++){const i=pf[t];for(let t=0;t<i;t++)for(let e=0;e<64;e++){const i=t*n+e;r.emplaceBack(i+1,i,i+n),r.emplaceBack(i+n,i+n+1,i+1);}const s=64*i*2;this._gridSegments.push(To.simpleSegment(0,e,(i+1)*n,s)),e+=s;}this._gridBuffer=t.createVertexBuffer(e,lf.members),this._gridIndexBuffer=t.createIndexBuffer(r,!0);}_createPoles(t){const e=new wa;for(let t=0;t<=hf;t++)e.emplaceBack(0,t+1,t+2);this._poleIndexBuffer=t.createIndexBuffer(e,!0);const r=new Ia,n=new Ia;this._poleSegments=[];for(let t=0,e=0;t<5;t++){const i=360/(1<<t);r.emplaceBack(0,-uf,0,.5,0),n.emplaceBack(0,-uf,0,.5,1);for(let t=0;t<=hf;t++){const e=t/hf,s=Ir(0,i,e),[a,o,l]=If(Lf,Rf,s,uf);r.emplaceBack(a,o,l,e,0),n.emplaceBack(a,o,l,e,1);}this._poleSegments.push(To.simpleSegment(e,0,66,64)),e+=66;}this._poleNorthVertexBuffer=t.createVertexBuffer(r,af,!1),this._poleSouthVertexBuffer=t.createVertexBuffer(n,af,!1);}getGridBuffers(t){return [this._gridBuffer,this._gridIndexBuffer,this._gridSegments[t]]}getPoleBuffers(t){return [this._poleNorthVertexBuffer,this._poleSouthVertexBuffer,this._poleIndexBuffer,this._poleSegments[t]]}getWirefameBuffers(t,e){if(!this._wireframeSegments){const e=new za,r=hf,n=r+1;this._wireframeSegments=[];for(let t=0,i=0;t<pf.length;t++){const s=pf[t];for(let t=0;t<s;t++)for(let i=0;i<r;i++){const r=t*n+i;e.emplaceBack(r,r+1),e.emplaceBack(r,r+n),e.emplaceBack(r,r+n+1);}const a=s*r*3;this._wireframeSegments.push(To.simpleSegment(0,i,(s+1)*n,a)),i+=a;}this._wireframeIndexBuffer=t.createIndexBuffer(e);}return [this._gridBuffer,this._wireframeIndexBuffer,this._wireframeSegments[e]]}},t.GlyphManager=Dp,t.ImagePosition=np,t.LivePerformanceUtils=Vt,t.LngLat=Co,t.LngLatBounds=Eo,t.LocalGlyphMode=Cp,t.MAX_MERCATOR_LATITUDE=Oo,t.MercatorCoordinate=No,t.ONE_EM=_h,t.OverscaledTileID=Wc,t.PerformanceMarkers=Dt,t.Properties=Qs,t.RGBAImage=Au,t.Ray=uu,t.RequestManager=class{constructor(t,e,r){this._transformRequestFn=t,this._customAccessToken=e,this._silenceAuthErrors=!!r,this._createSkuToken();}_createSkuToken(){const t=function(){let t=\"\";for(let e=0;e<10;e++)t+=\"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ\"[Math.floor(62*Math.random())];return {token:[\"1\",h,t].join(\"\"),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=t.token,this._skuTokenExpiresAt=t.tokenExpiresAt;}_isSkuTokenExpired(){return Date.now()>this._skuTokenExpiresAt}transformRequest(t,e){return this._transformRequestFn&&this._transformRequestFn(t,e)||{url:t}}normalizeStyleURL(t,e){if(!mt(t))return t;const r=_t(t);return r.path=`/styles/v1${r.path}`,this._makeAPIURL(r,this._customAccessToken||e)}normalizeGlyphsURL(t,e){if(!mt(t))return t;const r=_t(t);return r.path=`/fonts/v1${r.path}`,this._makeAPIURL(r,this._customAccessToken||e)}normalizeSourceURL(t,e,r,n){if(!mt(t))return t;const i=_t(t);return i.path=`/v4/${i.authority}.json`,i.params.push(\"secure\"),r&&i.params.push(`language=${r}`),n&&i.params.push(`worldview=${n}`),this._makeAPIURL(i,this._customAccessToken||e)}normalizeSpriteURL(t,e,r,n){const i=_t(t);return mt(t)?(i.path=`/styles/v1${i.path}/sprite${e}${r}`,this._makeAPIURL(i,this._customAccessToken||n)):(i.path+=`${e}${r}`,wt(i))}normalizeTileURL(t,e,r){if(this._isSkuTokenExpired()&&this._createSkuToken(),t&&!mt(t))return t;const n=_t(t);n.path=n.path.replace(/(\\.(png|jpg)\\d*)(?=$)/,`${e||r&&\"raster\"!==n.authority&&512===r?\"@2x\":\"\"}${s.supported?\".webp\":\"$1\"}`),\"raster\"===n.authority?n.path=`/${i.RASTER_URL_PREFIX}${n.path}`:(n.path=n.path.replace(/^.+\\/v4\\//,\"/\"),n.path=`/${i.TILE_URL_VERSION}${n.path}`);const a=this._customAccessToken||function(t){for(const e of t){const t=e.match(/^access_token=(.*)$/);if(t)return t[1]}return null}(n.params)||i.ACCESS_TOKEN;return i.REQUIRE_ACCESS_TOKEN&&a&&this._skuToken&&n.params.push(`sku=${this._skuToken}`),this._makeAPIURL(n,a)}canonicalizeTileURL(t,e){const r=_t(t);if(!r.path.match(/^(\\/v4\\/|\\/raster\\/v1\\/)/)||!r.path.match(/\\.[\\w]+$/))return t;let n=\"mapbox://\";r.path.match(/^\\/raster\\/v1\\//)?n+=`raster/${r.path.replace(`/${i.RASTER_URL_PREFIX}/`,\"\")}`:n+=`tiles/${r.path.replace(`/${i.TILE_URL_VERSION}/`,\"\")}`;let s=r.params;return e&&(s=s.filter((t=>!t.match(/^access_token=/)))),s.length&&(n+=`?${s.join(\"&\")}`),n}canonicalizeTileset(t,e){const r=!!e&&mt(e),n=[];for(const e of t.tiles||[])gt(e)?n.push(this.canonicalizeTileURL(e,r)):n.push(e);return n}_makeAPIURL(t,e){const r=\"See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes\",n=_t(i.API_URL);if(t.protocol=n.protocol,t.authority=n.authority,\"http\"===t.protocol){const e=t.params.indexOf(\"secure\");e>=0&&t.params.splice(e,1);}if(\"/\"!==n.path&&(t.path=`${n.path}${t.path}`),!i.REQUIRE_ACCESS_TOKEN)return wt(t);if(e=e||i.ACCESS_TOKEN,!this._silenceAuthErrors){if(!e)throw new Error(`An API access token is required to use Mapbox GL. ${r}`);if(\"s\"===e[0])throw new Error(`Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). ${r}`)}return t.params=t.params.filter((t=>-1===t.indexOf(\"access_token\"))),t.params.push(`access_token=${e||\"\"}`),wt(t)}},t.ResourceType=st,t.SegmentVector=To,t.SourceCache=ly,t.StencilMode=ny,t.StructArrayLayout1ui2=Ta,t.StructArrayLayout2f1f2i16=va,t.StructArrayLayout2i4=aa,t.StructArrayLayout2ui4=za,t.StructArrayLayout3f12=_a,t.StructArrayLayout3ui6=wa,t.StructArrayLayout4i8=la,t.StructArrayLayout5f20=Ia,t.Texture=Md,t.Tile=Od,t.Transitionable=Os,t.Uniform1f=so,t.Uniform1i=class extends io{constructor(t){super(t),this.current=0;}set(t,e,r){this.fetchUniformLocation(t,e)&&this.current!==r&&(this.current=r,this.gl.uniform1i(this.location,r));}},t.Uniform2f=class extends io{constructor(t){super(t),this.current=[0,0];}set(t,e,r){this.fetchUniformLocation(t,e)&&(r[0]===this.current[0]&&r[1]===this.current[1]||(this.current=r,this.gl.uniform2f(this.location,r[0],r[1])));}},t.Uniform3f=class extends io{constructor(t){super(t),this.current=[0,0,0];}set(t,e,r){this.fetchUniformLocation(t,e)&&(r[0]===this.current[0]&&r[1]===this.current[1]&&r[2]===this.current[2]||(this.current=r,this.gl.uniform3f(this.location,r[0],r[1],r[2])));}},t.Uniform4f=ao,t.UniformColor=oo,t.UniformMatrix2f=class extends io{constructor(t){super(t),this.current=co;}set(t,e,r){if(this.fetchUniformLocation(t,e))for(let t=0;t<4;t++)if(r[t]!==this.current[t]){this.current=r,this.gl.uniformMatrix2fv(this.location,!1,r);break}}},t.UniformMatrix3f=class extends io{constructor(t){super(t),this.current=uo;}set(t,e,r){if(this.fetchUniformLocation(t,e))for(let t=0;t<9;t++)if(r[t]!==this.current[t]){this.current=r,this.gl.uniformMatrix3fv(this.location,!1,r);break}}},t.UniformMatrix4f=class extends io{constructor(t){super(t),this.current=lo;}set(t,e,r){if(this.fetchUniformLocation(t,e)){if(r[12]!==this.current[12]||r[0]!==this.current[0])return this.current=r,void this.gl.uniformMatrix4fv(this.location,!1,r);for(let t=1;t<16;t++)if(r[t]!==this.current[t]){this.current=r,this.gl.uniformMatrix4fv(this.location,!1,r);break}}}},t.UnwrappedTileID=Yc,t.ValidationError=Yn,t.VectorTileFeature=Bc,t.VectorTileWorkerSource=class extends Kt{constructor(t,e,r,n,i){super(),this.actor=t,this.layerIndex=e,this.availableImages=r,this.loadVectorData=i||_y,this.loading={},this.loaded={},this.deduped=new by(t.scheduler),this.isSpriteLoaded=n,this.scheduler=t.scheduler;}loadTile(t,e){const r=t.uid,n=t&&t.request,i=n&&n.collectResourceTiming,s=this.loading[r]=new xy(t);s.abort=this.loadVectorData(t,((a,o)=>{const l=!this.loading[r];if(delete this.loading[r],l||a||!o)return s.status=\"done\",l||(this.loaded[r]=s),e(a);const u=o.rawData,c={};o.expires&&(c.expires=o.expires),o.cacheControl&&(c.cacheControl=o.cacheControl),s.vectorTile=o.vectorTile||new Tc(new Eh(u));const h=()=>{s.parse(s.vectorTile,this.layerIndex,this.availableImages,this.actor,((t,r)=>{if(t||!r)return e(t);const s={};if(i){const t=Rt(n);t.length>0&&(s.resourceTiming=JSON.parse(JSON.stringify(t)));}e(null,T({rawTileData:u.slice(0)},r,c,s));}));};this.isSpriteLoaded?h():this.once(\"isSpriteLoaded\",(()=>{this.scheduler?this.scheduler.add(h,{type:\"parseTile\",isSymbolTile:t.isSymbolTile,zoom:t.tileZoom}):h();})),this.loaded=this.loaded||{},this.loaded[r]=s;}));}reloadTile(t,e){const r=this.loaded,n=t.uid,i=this;if(r&&r[n]){const s=r[n];s.showCollisionBoxes=t.showCollisionBoxes,s.enableTerrain=!!t.enableTerrain,s.projection=t.projection,s.tileTransform=jf(t.tileID.canonical,t.projection);const a=(t,r)=>{const n=s.reloadCallback;n&&(delete s.reloadCallback,s.parse(s.vectorTile,i.layerIndex,this.availableImages,i.actor,n)),e(t,r);};\"parsing\"===s.status?s.reloadCallback=a:\"done\"===s.status&&(s.vectorTile?s.parse(s.vectorTile,this.layerIndex,this.availableImages,this.actor,a):a());}}abortTile(t,e){const r=t.uid,n=this.loading[r];n&&(n.abort&&n.abort(),delete this.loading[r]),e();}removeTile(t,e){const r=this.loaded,n=t.uid;r&&r[n]&&delete r[n],e();}},t.WritingMode=sp,t.ZoomHistory=Gi,t.add=Ul,t.addDynamicAttributes=pd,t.adjoint=function(t,e){var r=e[0],n=e[1],i=e[2],s=e[3],a=e[4],o=e[5],l=e[6],u=e[7],c=e[8];return t[0]=a*c-o*u,t[1]=i*u-n*c,t[2]=n*o-i*a,t[3]=o*l-s*c,t[4]=r*c-i*l,t[5]=i*s-r*o,t[6]=s*u-a*l,t[7]=n*l-r*u,t[8]=r*a-n*s,t},t.asyncAll=M,t.bezier=w,t.bindAll=V,t.boundsAttributes=jd,t.bufferConvexPolygon=function(t,e){const r=[];for(let n=0;n<t.length;n++){const i=I(n-1,-1,t.length-1),s=I(n+1,-1,t.length-1),a=t[n],o=t[s],l=t[i].sub(a).unit(),u=o.sub(a).unit(),c=u.angleWithSep(l.x,l.y),h=l.add(u).unit().mult(-1*e/Math.sin(c/2));r.push(a.add(h));}return r},t.cacheEntryPossiblyAdded=function(t){it++,it>tt&&(t.getActor().send(\"enforceCacheSizeLimit\",Q),it=0);},t.calculateGlobeLabelMatrix=function(t,e){const{x:r,y:n}=t.point,i=Cf(r,n,t.worldSize/t._pixelsPerMercatorPixel,0,0);return Ml(i,i,Pf(vf(e)))},t.calculateGlobeMatrix=function(t){const{x:e,y:r}=t.point,{lng:n,lat:i}=t._center;return Cf(e,r,t.worldSize,n,i)},t.calculateGlobeMercatorMatrix=function(t){const e=t.pixelsPerMeter,r=e/Ro(1,t.center.lat),n=kl(new Float64Array(16));return zl(n,n,[t.point.x,t.point.y,0]),Tl(n,n,[r,r,e]),Float32Array.from(n)},t.circumferenceAtLatitude=Vo,t.clamp=S,t.clearTileCache=function(t){if(!et())return;const r=e.caches.delete(Y);t&&r.catch(t).then((()=>t()));},t.clipLine=Tp,t.clone=function(t){var e=new wl(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},t.clone$1=U,t.collisionCircleLayout=bh,t.config=i,t.conjugate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t},t.create=function(){var t=new wl(16);return wl!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t},t.create$1=Al,t.createExpression=Nn,t.createLayout=ia,t.createStyleLayer=function(t){return \"custom\"===t.type?new Ad(t):new Id[t.type](t)},t.cross=Kl,t.degToRad=x,t.distance=function(t,e){return Math.hypot(e[0]-t[0],e[1]-t[1],e[2]-t[2])},t.div=function(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t},t.dot=Xl,t.earthRadius=Po,t.ease=A,t.easeCubicInOut=_,t.ecefToLatLng=function([t,e,r]){const n=Math.hypot(t,e,r),i=Math.atan2(t,r),s=.5*Math.PI-Math.acos(-e/n);return new Co(v(i),v(s))},t.emitValidationErrors=Fi,t.endsWith=F,t.enforceCacheSizeLimit=function(t){rt(),W&&W.then((e=>{e.keys().then((r=>{for(let n=0;n<r.length-t;n++)e.delete(r[n]);}));}));},t.evaluateSizeForFeature=Sh,t.evaluateSizeForZoom=kh,t.evaluateVariableOffset=Kp,t.evented=Vs,t.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]},t.exactEquals$1=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]},t.exported=qt,t.exported$1=s,t.extend=T,t.extend$1=Yt,t.fillExtrusionHeightLift=Nc,t.filterObject=R,t.fromMat4=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t},t.fromQuat=function(t,e){var r=e[0],n=e[1],i=e[2],s=e[3],a=r+r,o=n+n,l=i+i,u=r*a,c=n*a,h=n*o,p=i*a,f=i*o,d=i*l,y=s*a,m=s*o,g=s*l;return t[0]=1-h-d,t[1]=c+g,t[2]=p-m,t[3]=0,t[4]=c-g,t[5]=1-u-d,t[6]=f+y,t[7]=0,t[8]=p+m,t[9]=f-y,t[10]=1-u-h,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},t.fromRotation=function(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=0,t[3]=-r,t[4]=n,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},t.fromScaling=Pl,t.furthestTileCorner=function(t){const e=Math.round((t+45+360)%360/90)%4;return b[e]},t.getAABBPointSquareDist=function(t,e,r){let n=0;for(let i=0;i<2;++i){const s=r?r[i]:0;t[i]>s&&(n+=(t[i]-s)*(t[i]-s)),e[i]<s&&(n+=(s-e[i])*(s-e[i]));}return n},t.getAnchorAlignment=gp,t.getAnchorJustification=Yp,t.getBounds=function(t){let e=1/0,r=1/0,n=-1/0,i=-1/0;for(const s of t)e=Math.min(e,s.x),r=Math.min(r,s.y),n=Math.max(n,s.x),i=Math.max(i,s.y);return {min:new d(e,r),max:new d(n,i)}},t.getColumn=H,t.getGridMatrix=function(t,e,r,n){const i=e.getNorth(),s=e.getSouth(),a=e.getWest(),o=e.getEast(),l=1<<t.z,u=o-a,c=i-s,h=u/hf,p=-c/pf[r],f=[0,h,0,p,0,0,i,a,0];if(t.z>0){const t=180/n;Sl(f,f,[t/u+1,0,0,0,t/c+1,0,-.5*t/h,.5*t/p,1]);}return f[2]=l,f[5]=t.x,f[8]=t.y,f},t.getImage=dt,t.getJSON=function(t,e){return lt(T(t,{type:\"json\"}),e)},t.getLatitudinalLod=function(t){const e=80.051129;t=S(t,-80.051129,e)/e*90;const r=Math.pow(Math.abs(Math.sin(x(t))),3);return Math.round(r*(pf.length-1))},t.getMapSessionAPI=Pt,t.getPerformanceMeasurement=Rt,t.getProjection=od,t.getRTLTextPluginStatus=Fs,t.getReferrer=ot,t.getTilePoint=function(t,{x:e,y:r},n=0){return new d(((e-n)*t.scale-t.x)*Bo,(r*t.scale-t.y)*Bo)},t.getTileVec3=function(t,e,r=0){return Rl(((e.x-r)*t.scale-t.x)*Bo,(e.y*t.scale-t.y)*Bo,$o(e.z,e.y))},t.getVideo=function(t,r){const n=e.document.createElement(\"video\");n.muted=!0,n.onloadstart=function(){r(null,n);};for(let r=0;r<t.length;r++){const i=e.document.createElement(\"source\");ct(t[r])||(n.crossOrigin=\"Anonymous\"),i.src=t[r],n.appendChild(i);}return {cancel:()=>{}}},t.globeCenterToScreenPoint=function(t){const e=[0,0,0],r=kl(new Float64Array(16));return Ml(r,t.pixelMatrix,t.globeMatrix),Hl(e,e,r),new d(e[0],e[1])},t.globeDenormalizeECEF=Pf,t.globeECEFOrigin=function(t,e){const r=[0,0,0];return Hl(r,r,Ef(vf(e.canonical))),Hl(r,r,t),r},t.globeNormalizeECEF=Ef,t.globePixelsToTileUnits=function(t,e){return Bo/(512*Math.pow(2,t))*Tf(vf(e))},t.globePoleMatrixForTile=function(t,e,r){const n=kl(new Float64Array(16)),i=(e/(1<<t)-.5)*Math.PI*2;return El(n,r.globeMatrix,i),Float32Array.from(n)},t.globeTileBounds=vf,t.globeTiltAtLngLat=Vf,t.globeToMercatorTransition=Df,t.globeUseCustomAntiAliasing=function(t,e,r){const n=Df(r.zoom),i=t.style.map._antialias,s=!!e.extStandardDerivatives,a=e.extStandardDerivativesForceOff||t.terrain&&t.terrain.exaggeration()>0;return 0===n&&!i&&!a&&s},t.identity=kl,t.identity$1=su,t.invert=Il,t.isFullscreen=function(){return !!e.document.fullscreenElement||!!e.document.webkitFullscreenElement},t.isLngLatBehindGlobe=function(t,e){return Vf(t,e)>Math.PI/2*1.01},t.isMapAuthenticated=function(t){return Ct.has(t)},t.isMapboxURL=mt,t.isSafariWithAntialiasingBug=function(t){const e=t.navigator?t.navigator.userAgent:null;return !!X(t)&&e&&(e.match(\"Version/15.4\")||e.match(\"Version/15.5\")||e.match(/CPU (OS|iPhone OS) (15_4|15_5) like Mac OS X/))},t.latFromMercatorY=jo,t.latLngToECEF=Mf,t.len=tu,t.length=Ll,t.length$1=function(t){return Math.hypot(t[0],t[1],t[2],t[3])},t.lngFromMercatorX=Uo,t.loadVectorTile=_y,t.makeRequest=lt,t.mapValue=function(t,e,r,n,i){return S((t-e)/(r-e)*(i-n)+n,n,i)},t.mercatorScale=qo,t.mercatorXfromLng=Fo,t.mercatorYfromLat=Lo,t.mercatorZfromAltitude=Ro,t.mul=Dl,t.mul$1=Ql,t.multiply=Ml,t.multiply$1=Sl,t.multiply$2=$l,t.nextPowerOfTwo=C,t.normalize=Zl,t.normalize$1=lu,t.normalize$2=ru,t.number=Ir,t.ortho=function(t,e,r,n,i,s,a){var o=1/(e-r),l=1/(n-i),u=1/(s-a);return t[0]=-2*o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*u,t[11]=0,t[12]=(e+r)*o,t[13]=(i+n)*l,t[14]=(a+s)*u,t[15]=1,t},t.pbf=Eh,t.perspective=function(t,e,r,n,i){var s,a=1/Math.tan(e/2);return t[0]=a/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(t[10]=(i+n)*(s=1/(n-i)),t[14]=2*i*n*s):(t[10]=-1,t[14]=-2*n),t},t.pick=function(t,e){const r={};for(let n=0;n<e.length;n++){const i=e[n];i in t&&(r[i]=t[i]);}return r},t.plugin=Rs,t.pointGeometry=d,t.polygonContainsPoint=pl,t.polygonIntersectsBox=fl,t.polygonIntersectsPolygon=nl,t.polygonizeBounds=function(t,e,r=0,n=!0){const i=new d(r,r),s=t.sub(i),a=e.add(i),o=[s,new d(a.x,s.y),a,new d(s.x,a.y)];return n&&o.push(s.clone()),o},t.posAttributes=lf,t.postMapLoadEvent=zt,t.postPerformanceEvent=Bt,t.postTurnstileEvent=It,t.potpack=rp,t.prevPowerOfTwo=function(t){return t<=1?1:Math.pow(2,Math.floor(Math.log(t)/Math.LN2))},t.radToDeg=v,t.refProperties=[\"type\",\"source\",\"source-layer\",\"minzoom\",\"maxzoom\",\"filter\",\"layout\"],t.registerForPluginStateChange=function(t){return t({pluginStatus:Es,pluginURL:Ps}),Vs.on(\"pluginStateChange\",t),t},t.removeAuthState=function(t){Ct.delete(t);},t.renderColorRamp=ku,t.resample=Zo,t.rotateX=Bl,t.rotateX$1=au,t.rotateY=El,t.rotateY$1=ou,t.rotateZ=function(t,e,r){var n=Math.sin(r),i=Math.cos(r),s=e[0],a=e[1],o=e[2],l=e[3],u=e[4],c=e[5],h=e[6],p=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=s*i+u*n,t[1]=a*i+c*n,t[2]=o*i+h*n,t[3]=l*i+p*n,t[4]=u*i-s*n,t[5]=c*i-a*n,t[6]=h*i-o*n,t[7]=p*i-l*n,t},t.rotateZ$1=function(t,e,r){r*=.5;var n=e[0],i=e[1],s=e[2],a=e[3],o=Math.sin(r),l=Math.cos(r);return t[0]=n*l+i*o,t[1]=i*l-n*o,t[2]=s*l+a*o,t[3]=a*l-s*o,t},t.scale=Tl,t.scale$1=eu,t.scale$2=Nl,t.scaleAndAdd=Gl,t.set=function(t,e,r,n){return t[0]=e,t[1]=r,t[2]=n,t},t.setCacheLimits=function(t,e){Q=t,tt=e;},t.setColumn=function(t,e,r){t[4*e+0]=r[0],t[4*e+1]=r[1],t[4*e+2]=r[2],t[4*e+3]=r[3];},t.setRTLTextPlugin=function(t,e,r=!1){if(Es===Ms||Es===zs||Es===Ts)throw new Error(\"setRTLTextPlugin cannot be called multiple times.\");Ps=qt.resolveURL(t),Es=Ms,Bs=e,Ds(),r||Ls();},t.smoothstep=k,t.spec=Ht,t.squaredLength=function(t){var e=t[0],r=t[1],n=t[2];return e*e+r*r+n*n},t.storeAuthState=function(t,e){e?Ct.add(t):Ct.delete(t);},t.sub=Jl,t.subtract=jl,t.symbolSize=Ih,t.tileAABB=function(t,e,r,n,i,s,a,o,l){if(\"globe\"===l.name)return Af(t,e,new Hc(r,n,i));const u=jf({z:r,x:n,y:i},l);return new pu([(s+u.x/u.scale)*e,e*(u.y/u.scale),a],[(s+u.x2/u.scale)*e,e*(u.y2/u.scale),o])},t.tileCornersToBounds=Sf,t.tileTransform=jf,t.transformMat3=function(t,e,r){var n=e[0],i=e[1],s=e[2];return t[0]=n*r[0]+i*r[3]+s*r[6],t[1]=n*r[1]+i*r[4]+s*r[7],t[2]=n*r[2]+i*r[5]+s*r[8],t},t.transformMat4=Hl,t.transformMat4$1=nu,t.transformQuat=Yl,t.transitionTileAABBinECEF=_f,t.translate=zl,t.transpose=function(t,e){if(t===e){var r=e[1],n=e[2],i=e[5];t[1]=e[3],t[2]=e[6],t[3]=r,t[5]=e[7],t[6]=n,t[7]=i;}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t},t.triggerPluginCompletionEvent=Cs,t.uniqueId=E,t.updateGlobeVertexNormal=function(t,e,r,n,i){const s=5*e+2;t.float32[s+0]=r,t.float32[s+1]=n,t.float32[s+2]=i;},t.validateCustomStyleLayer=function(t){const e=[],r=t.id;return void 0===r&&e.push({message:`layers.${r}: missing required property \"id\"`}),void 0===t.render&&e.push({message:`layers.${r}: missing required method \"render\"`}),t.renderingMode&&\"2d\"!==t.renderingMode&&\"3d\"!==t.renderingMode&&e.push({message:`layers.${r}: property \"renderingMode\" must be either \"2d\" or \"3d\"`}),e},t.validateFilter=t=>Vi(gi(t)),t.validateFog=t=>Vi(zi(t)),t.validateLayer=t=>Vi(wi(t)),t.validateLight=t=>Vi(Ii(t)),t.validateSource=t=>Vi(ki(t)),t.validateStyle=Pi,t.validateTerrain=t=>Vi(Mi(t)),t.values=z,t.vectorTile=gc,t.version=r,t.warnOnce=$,t.window=e,t.wrap=I;}));\n\ndefine([\"./shared\"],(function(e){\"use strict\";function t(e){if(\"number\"==typeof e||\"boolean\"==typeof e||\"string\"==typeof e||null==e)return JSON.stringify(e);if(Array.isArray(e)){let r=\"[\";for(const o of e)r+=`${t(o)},`;return `${r}]`}let r=\"{\";for(const o of Object.keys(e).sort())r+=`${o}:${t(e[o])},`;return `${r}}`}function r(r){let o=\"\";for(const n of e.refProperties)o+=`/${t(r[n])}`;return o}class o{constructor(e){this.keyCache={},e&&this.replace(e);}replace(e){this._layerConfigs={},this._layers={},this.update(e,[]);}update(t,o){for(const r of t)this._layerConfigs[r.id]=r,(this._layers[r.id]=e.createStyleLayer(r)).compileFilter(),this.keyCache[r.id]&&delete this.keyCache[r.id];for(const e of o)delete this.keyCache[e],delete this._layerConfigs[e],delete this._layers[e];this.familiesBySource={};const n=function(e,t){const o={};for(let n=0;n<e.length;n++){const i=t&&t[e[n].id]||r(e[n]);t&&(t[e[n].id]=i);let s=o[i];s||(s=o[i]=[]),s.push(e[n]);}const n=[];for(const e in o)n.push(o[e]);return n}(e.values(this._layerConfigs),this.keyCache);for(const e of n){const t=e.map((e=>this._layers[e.id])),r=t[0];if(\"none\"===r.visibility)continue;const o=r.source||\"\";let n=this.familiesBySource[o];n||(n=this.familiesBySource[o]={});const i=r.sourceLayer||\"_geojsonTileLayer\";let s=n[i];s||(s=n[i]=[]),s.push(t);}}}class n{loadTile(t,r){const{uid:o,encoding:n,rawImageData:i,padding:s,buildQuadTree:a}=t,l=e.window.ImageBitmap&&i instanceof e.window.ImageBitmap?this.getImageData(i,s):i;r(null,new e.DEMData(o,l,n,s<1,a));}getImageData(e,t){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(e.width,e.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext(\"2d\")),this.offscreenCanvas.width=e.width,this.offscreenCanvas.height=e.height,this.offscreenCanvasContext.drawImage(e,0,0,e.width,e.height);const r=this.offscreenCanvasContext.getImageData(-t,-t,e.width+2*t,e.height+2*t);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),r}}var i=function e(t,r){var o,n=t&&t.type;if(\"FeatureCollection\"===n)for(o=0;o<t.features.length;o++)e(t.features[o],r);else if(\"GeometryCollection\"===n)for(o=0;o<t.geometries.length;o++)e(t.geometries[o],r);else if(\"Feature\"===n)e(t.geometry,r);else if(\"Polygon\"===n)s(t.coordinates,r);else if(\"MultiPolygon\"===n)for(o=0;o<t.coordinates.length;o++)s(t.coordinates[o],r);return t};function s(e,t){if(0!==e.length){a(e[0],t);for(var r=1;r<e.length;r++)a(e[r],!t);}}function a(e,t){for(var r=0,o=0,n=0,i=e.length,s=i-1;n<i;s=n++){var a=(e[n][0]-e[s][0])*(e[s][1]+e[n][1]),l=r+a;o+=Math.abs(r)>=Math.abs(a)?r-l+a:a-l+r,r=l;}r+o>=0!=!!t&&e.reverse();}const l=e.VectorTileFeature.prototype.toGeoJSON;class u{constructor(t){this._feature=t,this.extent=e.EXTENT,this.type=t.type,this.properties=t.tags,\"id\"in t&&!isNaN(t.id)&&(this.id=parseInt(t.id,10));}loadGeometry(){if(1===this._feature.type){const t=[];for(const r of this._feature.geometry)t.push([new e.pointGeometry(r[0],r[1])]);return t}{const t=[];for(const r of this._feature.geometry){const o=[];for(const t of r)o.push(new e.pointGeometry(t[0],t[1]));t.push(o);}return t}}toGeoJSON(e,t,r){return l.call(this,e,t,r)}}class h{constructor(t){this.layers={_geojsonTileLayer:this},this.name=\"_geojsonTileLayer\",this.extent=e.EXTENT,this.length=t.length,this._features=t;}feature(e){return new u(this._features[e])}}var c={exports:{}},f=e.pointGeometry,p=e.vectorTile.VectorTileFeature,g=d;function d(e,t){this.options=t||{},this.features=e,this.length=e.length;}function m(e,t){this.id=\"number\"==typeof e.id?e.id:void 0,this.type=e.type,this.rawGeometry=1===e.type?[e.geometry]:e.geometry,this.properties=e.tags,this.extent=t||4096;}d.prototype.feature=function(e){return new m(this.features[e],this.options.extent)},m.prototype.loadGeometry=function(){var e=this.rawGeometry;this.geometry=[];for(var t=0;t<e.length;t++){for(var r=e[t],o=[],n=0;n<r.length;n++)o.push(new f(r[n][0],r[n][1]));this.geometry.push(o);}return this.geometry},m.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var e=this.geometry,t=1/0,r=-1/0,o=1/0,n=-1/0,i=0;i<e.length;i++)for(var s=e[i],a=0;a<s.length;a++){var l=s[a];t=Math.min(t,l.x),r=Math.max(r,l.x),o=Math.min(o,l.y),n=Math.max(n,l.y);}return [t,o,r,n]},m.prototype.toGeoJSON=p.prototype.toGeoJSON;var y=e.pbf,v=g;function x(e){var t=new y;return function(e,t){for(var r in e.layers)t.writeMessage(3,w,e.layers[r]);}(e,t),t.finish()}function w(e,t){var r;t.writeVarintField(15,e.version||1),t.writeStringField(1,e.name||\"\"),t.writeVarintField(5,e.extent||4096);var o={keys:[],values:[],keycache:{},valuecache:{}};for(r=0;r<e.length;r++)o.feature=e.feature(r),t.writeMessage(2,S,o);var n=o.keys;for(r=0;r<n.length;r++)t.writeStringField(3,n[r]);var i=o.values;for(r=0;r<i.length;r++)t.writeMessage(4,I,i[r]);}function S(e,t){var r=e.feature;void 0!==r.id&&t.writeVarintField(1,r.id),t.writeMessage(2,M,e),t.writeVarintField(3,r.type),t.writeMessage(4,k,r);}function M(e,t){var r=e.feature,o=e.keys,n=e.values,i=e.keycache,s=e.valuecache;for(var a in r.properties){var l=r.properties[a],u=i[a];if(null!==l){void 0===u&&(o.push(a),i[a]=u=o.length-1),t.writeVarint(u);var h=typeof l;\"string\"!==h&&\"boolean\"!==h&&\"number\"!==h&&(l=JSON.stringify(l));var c=h+\":\"+l,f=s[c];void 0===f&&(n.push(l),s[c]=f=n.length-1),t.writeVarint(f);}}}function P(e,t){return (t<<3)+(7&e)}function b(e){return e<<1^e>>31}function k(e,t){for(var r=e.loadGeometry(),o=e.type,n=0,i=0,s=r.length,a=0;a<s;a++){var l=r[a],u=1;1===o&&(u=l.length),t.writeVarint(P(1,u));for(var h=3===o?l.length-1:l.length,c=0;c<h;c++){1===c&&1!==o&&t.writeVarint(P(2,h-1));var f=l[c].x-n,p=l[c].y-i;t.writeVarint(b(f)),t.writeVarint(b(p)),n+=f,i+=p;}3===o&&t.writeVarint(P(7,1));}}function I(e,t){var r=typeof e;\"string\"===r?t.writeStringField(1,e):\"boolean\"===r?t.writeBooleanField(7,e):\"number\"===r&&(e%1!=0?t.writeDoubleField(3,e):e<0?t.writeSVarintField(6,e):t.writeVarintField(5,e));}function T(e,t,r,o,n,i){if(n-o<=r)return;const s=o+n>>1;_(e,t,s,o,n,i%2),T(e,t,r,o,s-1,i+1),T(e,t,r,s+1,n,i+1);}function _(e,t,r,o,n,i){for(;n>o;){if(n-o>600){const s=n-o+1,a=r-o+1,l=Math.log(s),u=.5*Math.exp(2*l/3),h=.5*Math.sqrt(l*u*(s-u)/s)*(a-s/2<0?-1:1);_(e,t,r,Math.max(o,Math.floor(r-a*u/s+h)),Math.min(n,Math.floor(r+(s-a)*u/s+h)),i);}const s=t[2*r+i];let a=o,l=n;for(L(e,t,o,r),t[2*n+i]>s&&L(e,t,o,n);a<l;){for(L(e,t,a,l),a++,l--;t[2*a+i]<s;)a++;for(;t[2*l+i]>s;)l--;}t[2*o+i]===s?L(e,t,o,l):(l++,L(e,t,l,n)),l<=r&&(o=l+1),r<=l&&(n=l-1);}}function L(e,t,r,o){C(e,r,o),C(t,2*r,2*o),C(t,2*r+1,2*o+1);}function C(e,t,r){const o=e[t];e[t]=e[r],e[r]=o;}function O(e,t,r,o){const n=e-r,i=t-o;return n*n+i*i}c.exports=x,c.exports.fromVectorTileJs=x,c.exports.fromGeojsonVt=function(e,t){t=t||{};var r={};for(var o in e)r[o]=new v(e[o].features,t),r[o].name=o,r[o].version=t.version,r[o].extent=t.extent;return x({layers:r})},c.exports.GeoJSONWrapper=v;const z=e=>e[0],E=e=>e[1];class F{constructor(e,t=z,r=E,o=64,n=Float64Array){this.nodeSize=o,this.points=e;const i=e.length<65536?Uint16Array:Uint32Array,s=this.ids=new i(e.length),a=this.coords=new n(2*e.length);for(let o=0;o<e.length;o++)s[o]=o,a[2*o]=t(e[o]),a[2*o+1]=r(e[o]);T(s,a,o,0,s.length-1,0);}range(e,t,r,o){return function(e,t,r,o,n,i,s){const a=[0,e.length-1,0],l=[];let u,h;for(;a.length;){const c=a.pop(),f=a.pop(),p=a.pop();if(f-p<=s){for(let s=p;s<=f;s++)u=t[2*s],h=t[2*s+1],u>=r&&u<=n&&h>=o&&h<=i&&l.push(e[s]);continue}const g=Math.floor((p+f)/2);u=t[2*g],h=t[2*g+1],u>=r&&u<=n&&h>=o&&h<=i&&l.push(e[g]);const d=(c+1)%2;(0===c?r<=u:o<=h)&&(a.push(p),a.push(g-1),a.push(d)),(0===c?n>=u:i>=h)&&(a.push(g+1),a.push(f),a.push(d));}return l}(this.ids,this.coords,e,t,r,o,this.nodeSize)}within(e,t,r){return function(e,t,r,o,n,i){const s=[0,e.length-1,0],a=[],l=n*n;for(;s.length;){const u=s.pop(),h=s.pop(),c=s.pop();if(h-c<=i){for(let n=c;n<=h;n++)O(t[2*n],t[2*n+1],r,o)<=l&&a.push(e[n]);continue}const f=Math.floor((c+h)/2),p=t[2*f],g=t[2*f+1];O(p,g,r,o)<=l&&a.push(e[f]);const d=(u+1)%2;(0===u?r-n<=p:o-n<=g)&&(s.push(c),s.push(f-1),s.push(d)),(0===u?r+n>=p:o+n>=g)&&(s.push(f+1),s.push(h),s.push(d));}return a}(this.ids,this.coords,e,t,r,this.nodeSize)}}const N={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:e=>e},j=Math.fround||(Z=new Float32Array(1),e=>(Z[0]=+e,Z[0]));var Z;class G{constructor(e){this.options=$(Object.create(N),e),this.trees=new Array(this.options.maxZoom+1);}load(e){const{log:t,minZoom:r,maxZoom:o,nodeSize:n}=this.options;t&&console.time(\"total time\");const i=`prepare ${e.length} points`;t&&console.time(i),this.points=e;let s=[];for(let t=0;t<e.length;t++)e[t].geometry&&s.push(W(e[t],t));this.trees[o+1]=new F(s,B,R,n,Float32Array),t&&console.timeEnd(i);for(let e=o;e>=r;e--){const r=+Date.now();s=this._cluster(s,e),this.trees[e]=new F(s,B,R,n,Float32Array),t&&console.log(\"z%d: %d clusters in %dms\",e,s.length,+Date.now()-r);}return t&&console.timeEnd(\"total time\"),this}getClusters(e,t){let r=((e[0]+180)%360+360)%360-180;const o=Math.max(-90,Math.min(90,e[1]));let n=180===e[2]?180:((e[2]+180)%360+360)%360-180;const i=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)r=-180,n=180;else if(r>n){const e=this.getClusters([r,o,180,i],t),s=this.getClusters([-180,o,n,i],t);return e.concat(s)}const s=this.trees[this._limitZoom(t)],a=s.range(V(r),A(i),V(n),A(o)),l=[];for(const e of a){const t=s.points[e];l.push(t.numPoints?Y(t):this.points[t.index]);}return l}getChildren(e){const t=this._getOriginId(e),r=this._getOriginZoom(e),o=\"No cluster with the specified id.\",n=this.trees[r];if(!n)throw new Error(o);const i=n.points[t];if(!i)throw new Error(o);const s=this.options.radius/(this.options.extent*Math.pow(2,r-1)),a=n.within(i.x,i.y,s),l=[];for(const t of a){const r=n.points[t];r.parentId===e&&l.push(r.numPoints?Y(r):this.points[r.index]);}if(0===l.length)throw new Error(o);return l}getLeaves(e,t,r){const o=[];return this._appendLeaves(o,e,t=t||10,r=r||0,0),o}getTile(e,t,r){const o=this.trees[this._limitZoom(e)],n=Math.pow(2,e),{extent:i,radius:s}=this.options,a=s/i,l=(r-a)/n,u=(r+1+a)/n,h={features:[]};return this._addTileFeatures(o.range((t-a)/n,l,(t+1+a)/n,u),o.points,t,r,n,h),0===t&&this._addTileFeatures(o.range(1-a/n,l,1,u),o.points,n,r,n,h),t===n-1&&this._addTileFeatures(o.range(0,l,a/n,u),o.points,-1,r,n,h),h.features.length?h:null}getClusterExpansionZoom(e){let t=this._getOriginZoom(e)-1;for(;t<=this.options.maxZoom;){const r=this.getChildren(e);if(t++,1!==r.length)break;e=r[0].properties.cluster_id;}return t}_appendLeaves(e,t,r,o,n){const i=this.getChildren(t);for(const t of i){const i=t.properties;if(i&&i.cluster?n+i.point_count<=o?n+=i.point_count:n=this._appendLeaves(e,i.cluster_id,r,o,n):n<o?n++:e.push(t),e.length===r)break}return n}_addTileFeatures(e,t,r,o,n,i){for(const s of e){const e=t[s],a=e.numPoints;let l,u,h;if(a)l=X(e),u=e.x,h=e.y;else {const t=this.points[e.index];l=t.properties,u=V(t.geometry.coordinates[0]),h=A(t.geometry.coordinates[1]);}const c={type:1,geometry:[[Math.round(this.options.extent*(u*n-r)),Math.round(this.options.extent*(h*n-o))]],tags:l};let f;a?f=e.id:this.options.generateId?f=e.index:this.points[e.index].id&&(f=this.points[e.index].id),void 0!==f&&(c.id=f),i.features.push(c);}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,t){const r=[],{radius:o,extent:n,reduce:i,minPoints:s}=this.options,a=o/(n*Math.pow(2,t));for(let o=0;o<e.length;o++){const n=e[o];if(n.zoom<=t)continue;n.zoom=t;const l=this.trees[t+1],u=l.within(n.x,n.y,a),h=n.numPoints||1;let c=h;for(const e of u){const r=l.points[e];r.zoom>t&&(c+=r.numPoints||1);}if(c>h&&c>=s){let e=n.x*h,s=n.y*h,a=i&&h>1?this._map(n,!0):null;const f=(o<<5)+(t+1)+this.points.length;for(const r of u){const o=l.points[r];if(o.zoom<=t)continue;o.zoom=t;const u=o.numPoints||1;e+=o.x*u,s+=o.y*u,o.parentId=f,i&&(a||(a=this._map(n,!0)),i(a,this._map(o)));}n.parentId=f,r.push(J(e/c,s/c,f,c,a));}else if(r.push(n),c>1)for(const e of u){const o=l.points[e];o.zoom<=t||(o.zoom=t,r.push(o));}}return r}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return (e-this.points.length)%32}_map(e,t){if(e.numPoints)return t?$({},e.properties):e.properties;const r=this.points[e.index].properties,o=this.options.map(r);return t&&o===r?$({},o):o}}function J(e,t,r,o,n){return {x:j(e),y:j(t),zoom:1/0,id:r,parentId:-1,numPoints:o,properties:n}}function W(e,t){const[r,o]=e.geometry.coordinates;return {x:j(V(r)),y:j(A(o)),zoom:1/0,index:t,parentId:-1}}function Y(e){return {type:\"Feature\",id:e.id,properties:X(e),geometry:{type:\"Point\",coordinates:[(t=e.x,360*(t-.5)),D(e.y)]}};var t;}function X(e){const t=e.numPoints,r=t>=1e4?`${Math.round(t/1e3)}k`:t>=1e3?Math.round(t/100)/10+\"k\":t;return $($({},e.properties),{cluster:!0,cluster_id:e.id,point_count:t,point_count_abbreviated:r})}function V(e){return e/360+.5}function A(e){const t=Math.sin(e*Math.PI/180),r=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return r<0?0:r>1?1:r}function D(e){const t=(180-360*e)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}function $(e,t){for(const r in t)e[r]=t[r];return e}function B(e){return e.x}function R(e){return e.y}function q(e,t,r,o){for(var n,i=o,s=r-t>>1,a=r-t,l=e[t],u=e[t+1],h=e[r],c=e[r+1],f=t+3;f<r;f+=3){var p=U(e[f],e[f+1],l,u,h,c);if(p>i)n=f,i=p;else if(p===i){var g=Math.abs(f-s);g<a&&(n=f,a=g);}}i>o&&(n-t>3&&q(e,t,n,o),e[n+2]=i,r-n>3&&q(e,n,r,o));}function U(e,t,r,o,n,i){var s=n-r,a=i-o;if(0!==s||0!==a){var l=((e-r)*s+(t-o)*a)/(s*s+a*a);l>1?(r=n,o=i):l>0&&(r+=s*l,o+=a*l);}return (s=e-r)*s+(a=t-o)*a}function Q(e,t,r,o){var n={id:void 0===e?null:e,type:t,geometry:r,tags:o,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(e){var t=e.geometry,r=e.type;if(\"Point\"===r||\"MultiPoint\"===r||\"LineString\"===r)H(e,t);else if(\"Polygon\"===r||\"MultiLineString\"===r)for(var o=0;o<t.length;o++)H(e,t[o]);else if(\"MultiPolygon\"===r)for(o=0;o<t.length;o++)for(var n=0;n<t[o].length;n++)H(e,t[o][n]);}(n),n}function H(e,t){for(var r=0;r<t.length;r+=3)e.minX=Math.min(e.minX,t[r]),e.minY=Math.min(e.minY,t[r+1]),e.maxX=Math.max(e.maxX,t[r]),e.maxY=Math.max(e.maxY,t[r+1]);}function K(e,t,r,o){if(t.geometry){var n=t.geometry.coordinates,i=t.geometry.type,s=Math.pow(r.tolerance/((1<<r.maxZoom)*r.extent),2),a=[],l=t.id;if(r.promoteId?l=t.properties[r.promoteId]:r.generateId&&(l=o||0),\"Point\"===i)ee(n,a);else if(\"MultiPoint\"===i)for(var u=0;u<n.length;u++)ee(n[u],a);else if(\"LineString\"===i)te(n,a,s,!1);else if(\"MultiLineString\"===i){if(r.lineMetrics){for(u=0;u<n.length;u++)te(n[u],a=[],s,!1),e.push(Q(l,\"LineString\",a,t.properties));return}re(n,a,s,!1);}else if(\"Polygon\"===i)re(n,a,s,!0);else {if(\"MultiPolygon\"!==i){if(\"GeometryCollection\"===i){for(u=0;u<t.geometry.geometries.length;u++)K(e,{id:l,geometry:t.geometry.geometries[u],properties:t.properties},r,o);return}throw new Error(\"Input data is not a valid GeoJSON object.\")}for(u=0;u<n.length;u++){var h=[];re(n[u],h,s,!0),a.push(h);}}e.push(Q(l,i,a,t.properties));}}function ee(e,t){t.push(oe(e[0])),t.push(ne(e[1])),t.push(0);}function te(e,t,r,o){for(var n,i,s=0,a=0;a<e.length;a++){var l=oe(e[a][0]),u=ne(e[a][1]);t.push(l),t.push(u),t.push(0),a>0&&(s+=o?(n*u-l*i)/2:Math.sqrt(Math.pow(l-n,2)+Math.pow(u-i,2))),n=l,i=u;}var h=t.length-3;t[2]=1,q(t,0,h,r),t[h+2]=1,t.size=Math.abs(s),t.start=0,t.end=t.size;}function re(e,t,r,o){for(var n=0;n<e.length;n++){var i=[];te(e[n],i,r,o),t.push(i);}}function oe(e){return e/360+.5}function ne(e){var t=Math.sin(e*Math.PI/180),r=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return r<0?0:r>1?1:r}function ie(e,t,r,o,n,i,s,a){if(o/=t,i>=(r/=t)&&s<o)return e;if(s<r||i>=o)return null;for(var l=[],u=0;u<e.length;u++){var h=e[u],c=h.geometry,f=h.type,p=0===n?h.minX:h.minY,g=0===n?h.maxX:h.maxY;if(p>=r&&g<o)l.push(h);else if(!(g<r||p>=o)){var d=[];if(\"Point\"===f||\"MultiPoint\"===f)se(c,d,r,o,n);else if(\"LineString\"===f)ae(c,d,r,o,n,!1,a.lineMetrics);else if(\"MultiLineString\"===f)ue(c,d,r,o,n,!1);else if(\"Polygon\"===f)ue(c,d,r,o,n,!0);else if(\"MultiPolygon\"===f)for(var m=0;m<c.length;m++){var y=[];ue(c[m],y,r,o,n,!0),y.length&&d.push(y);}if(d.length){if(a.lineMetrics&&\"LineString\"===f){for(m=0;m<d.length;m++)l.push(Q(h.id,f,d[m],h.tags));continue}\"LineString\"!==f&&\"MultiLineString\"!==f||(1===d.length?(f=\"LineString\",d=d[0]):f=\"MultiLineString\"),\"Point\"!==f&&\"MultiPoint\"!==f||(f=3===d.length?\"Point\":\"MultiPoint\"),l.push(Q(h.id,f,d,h.tags));}}}return l.length?l:null}function se(e,t,r,o,n){for(var i=0;i<e.length;i+=3){var s=e[i+n];s>=r&&s<=o&&(t.push(e[i]),t.push(e[i+1]),t.push(e[i+2]));}}function ae(e,t,r,o,n,i,s){for(var a,l,u=le(e),h=0===n?ce:fe,c=e.start,f=0;f<e.length-3;f+=3){var p=e[f],g=e[f+1],d=e[f+2],m=e[f+3],y=e[f+4],v=0===n?p:g,x=0===n?m:y,w=!1;s&&(a=Math.sqrt(Math.pow(p-m,2)+Math.pow(g-y,2))),v<r?x>r&&(l=h(u,p,g,m,y,r),s&&(u.start=c+a*l)):v>o?x<o&&(l=h(u,p,g,m,y,o),s&&(u.start=c+a*l)):he(u,p,g,d),x<r&&v>=r&&(l=h(u,p,g,m,y,r),w=!0),x>o&&v<=o&&(l=h(u,p,g,m,y,o),w=!0),!i&&w&&(s&&(u.end=c+a*l),t.push(u),u=le(e)),s&&(c+=a);}var S=e.length-3;p=e[S],g=e[S+1],d=e[S+2],(v=0===n?p:g)>=r&&v<=o&&he(u,p,g,d),S=u.length-3,i&&S>=3&&(u[S]!==u[0]||u[S+1]!==u[1])&&he(u,u[0],u[1],u[2]),u.length&&t.push(u);}function le(e){var t=[];return t.size=e.size,t.start=e.start,t.end=e.end,t}function ue(e,t,r,o,n,i){for(var s=0;s<e.length;s++)ae(e[s],t,r,o,n,i,!1);}function he(e,t,r,o){e.push(t),e.push(r),e.push(o);}function ce(e,t,r,o,n,i){var s=(i-t)/(o-t);return e.push(i),e.push(r+(n-r)*s),e.push(1),s}function fe(e,t,r,o,n,i){var s=(i-r)/(n-r);return e.push(t+(o-t)*s),e.push(i),e.push(1),s}function pe(e,t){for(var r=[],o=0;o<e.length;o++){var n,i=e[o],s=i.type;if(\"Point\"===s||\"MultiPoint\"===s||\"LineString\"===s)n=ge(i.geometry,t);else if(\"MultiLineString\"===s||\"Polygon\"===s){n=[];for(var a=0;a<i.geometry.length;a++)n.push(ge(i.geometry[a],t));}else if(\"MultiPolygon\"===s)for(n=[],a=0;a<i.geometry.length;a++){for(var l=[],u=0;u<i.geometry[a].length;u++)l.push(ge(i.geometry[a][u],t));n.push(l);}r.push(Q(i.id,s,n,i.tags));}return r}function ge(e,t){var r=[];r.size=e.size,void 0!==e.start&&(r.start=e.start,r.end=e.end);for(var o=0;o<e.length;o+=3)r.push(e[o]+t,e[o+1],e[o+2]);return r}function de(e,t){if(e.transformed)return e;var r,o,n,i=1<<e.z,s=e.x,a=e.y;for(r=0;r<e.features.length;r++){var l=e.features[r],u=l.geometry,h=l.type;if(l.geometry=[],1===h)for(o=0;o<u.length;o+=2)l.geometry.push(me(u[o],u[o+1],t,i,s,a));else for(o=0;o<u.length;o++){var c=[];for(n=0;n<u[o].length;n+=2)c.push(me(u[o][n],u[o][n+1],t,i,s,a));l.geometry.push(c);}}return e.transformed=!0,e}function me(e,t,r,o,n,i){return [Math.round(r*(e*o-n)),Math.round(r*(t*o-i))]}function ye(e,t,r,o,n){for(var i=t===n.maxZoom?0:n.tolerance/((1<<t)*n.extent),s={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:r,y:o,z:t,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},a=0;a<e.length;a++){s.numFeatures++,ve(s,e[a],i,n);var l=e[a].minX,u=e[a].minY,h=e[a].maxX,c=e[a].maxY;l<s.minX&&(s.minX=l),u<s.minY&&(s.minY=u),h>s.maxX&&(s.maxX=h),c>s.maxY&&(s.maxY=c);}return s}function ve(e,t,r,o){var n=t.geometry,i=t.type,s=[];if(\"Point\"===i||\"MultiPoint\"===i)for(var a=0;a<n.length;a+=3)s.push(n[a]),s.push(n[a+1]),e.numPoints++,e.numSimplified++;else if(\"LineString\"===i)xe(s,n,e,r,!1,!1);else if(\"MultiLineString\"===i||\"Polygon\"===i)for(a=0;a<n.length;a++)xe(s,n[a],e,r,\"Polygon\"===i,0===a);else if(\"MultiPolygon\"===i)for(var l=0;l<n.length;l++){var u=n[l];for(a=0;a<u.length;a++)xe(s,u[a],e,r,!0,0===a);}if(s.length){var h=t.tags||null;if(\"LineString\"===i&&o.lineMetrics){for(var c in h={},t.tags)h[c]=t.tags[c];h.mapbox_clip_start=n.start/n.size,h.mapbox_clip_end=n.end/n.size;}var f={geometry:s,type:\"Polygon\"===i||\"MultiPolygon\"===i?3:\"LineString\"===i||\"MultiLineString\"===i?2:1,tags:h};null!==t.id&&(f.id=t.id),e.features.push(f);}}function xe(e,t,r,o,n,i){var s=o*o;if(o>0&&t.size<(n?s:o))r.numPoints+=t.length/3;else {for(var a=[],l=0;l<t.length;l+=3)(0===o||t[l+2]>s)&&(r.numSimplified++,a.push(t[l]),a.push(t[l+1])),r.numPoints++;n&&function(e,t){for(var r=0,o=0,n=e.length,i=n-2;o<n;i=o,o+=2)r+=(e[o]-e[i])*(e[o+1]+e[i+1]);if(r>0===t)for(o=0,n=e.length;o<n/2;o+=2){var s=e[o],a=e[o+1];e[o]=e[n-2-o],e[o+1]=e[n-1-o],e[n-2-o]=s,e[n-1-o]=a;}}(a,i),e.push(a);}}function we(e,t){var r=(t=this.options=function(e,t){for(var r in t)e[r]=t[r];return e}(Object.create(this.options),t)).debug;if(r&&console.time(\"preprocess data\"),t.maxZoom<0||t.maxZoom>24)throw new Error(\"maxZoom should be in the 0-24 range\");if(t.promoteId&&t.generateId)throw new Error(\"promoteId and generateId cannot be used together.\");var o=function(e,t){var r=[];if(\"FeatureCollection\"===e.type)for(var o=0;o<e.features.length;o++)K(r,e.features[o],t,o);else K(r,\"Feature\"===e.type?e:{geometry:e},t);return r}(e,t);this.tiles={},this.tileCoords=[],r&&(console.timeEnd(\"preprocess data\"),console.log(\"index: maxZoom: %d, maxPoints: %d\",t.indexMaxZoom,t.indexMaxPoints),console.time(\"generate tiles\"),this.stats={},this.total=0),o=function(e,t){var r=t.buffer/t.extent,o=e,n=ie(e,1,-1-r,r,0,-1,2,t),i=ie(e,1,1-r,2+r,0,-1,2,t);return (n||i)&&(o=ie(e,1,-r,1+r,0,-1,2,t)||[],n&&(o=pe(n,1).concat(o)),i&&(o=o.concat(pe(i,-1)))),o}(o,t),o.length&&this.splitTile(o,0,0,0),r&&(o.length&&console.log(\"features: %d, points: %d\",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd(\"generate tiles\"),console.log(\"tiles generated:\",this.total,JSON.stringify(this.stats)));}function Se(e,t,r){return 32*((1<<e)*r+t)+e}function Me(e,t){const r=e.tileID.canonical;if(!this._geoJSONIndex)return t(null,null);const o=this._geoJSONIndex.getTile(r.z,r.x,r.y);if(!o)return t(null,null);const n=new h(o.features);let i=c.exports(n);0===i.byteOffset&&i.byteLength===i.buffer.byteLength||(i=new Uint8Array(i)),t(null,{vectorTile:n,rawData:i.buffer});}we.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},we.prototype.splitTile=function(e,t,r,o,n,i,s){for(var a=[e,t,r,o],l=this.options,u=l.debug;a.length;){o=a.pop(),r=a.pop(),t=a.pop(),e=a.pop();var h=1<<t,c=Se(t,r,o),f=this.tiles[c];if(!f&&(u>1&&console.time(\"creation\"),f=this.tiles[c]=ye(e,t,r,o,l),this.tileCoords.push({z:t,x:r,y:o}),u)){u>1&&(console.log(\"tile z%d-%d-%d (features: %d, points: %d, simplified: %d)\",t,r,o,f.numFeatures,f.numPoints,f.numSimplified),console.timeEnd(\"creation\"));var p=\"z\"+t;this.stats[p]=(this.stats[p]||0)+1,this.total++;}if(f.source=e,n){if(t===l.maxZoom||t===n)continue;var g=1<<n-t;if(r!==Math.floor(i/g)||o!==Math.floor(s/g))continue}else if(t===l.indexMaxZoom||f.numPoints<=l.indexMaxPoints)continue;if(f.source=null,0!==e.length){u>1&&console.time(\"clipping\");var d,m,y,v,x,w,S=.5*l.buffer/l.extent,M=.5-S,P=.5+S,b=1+S;d=m=y=v=null,x=ie(e,h,r-S,r+P,0,f.minX,f.maxX,l),w=ie(e,h,r+M,r+b,0,f.minX,f.maxX,l),e=null,x&&(d=ie(x,h,o-S,o+P,1,f.minY,f.maxY,l),m=ie(x,h,o+M,o+b,1,f.minY,f.maxY,l),x=null),w&&(y=ie(w,h,o-S,o+P,1,f.minY,f.maxY,l),v=ie(w,h,o+M,o+b,1,f.minY,f.maxY,l),w=null),u>1&&console.timeEnd(\"clipping\"),a.push(d||[],t+1,2*r,2*o),a.push(m||[],t+1,2*r,2*o+1),a.push(y||[],t+1,2*r+1,2*o),a.push(v||[],t+1,2*r+1,2*o+1);}}},we.prototype.getTile=function(e,t,r){var o=this.options,n=o.extent,i=o.debug;if(e<0||e>24)return null;var s=1<<e,a=Se(e,t=(t%s+s)%s,r);if(this.tiles[a])return de(this.tiles[a],n);i>1&&console.log(\"drilling down to z%d-%d-%d\",e,t,r);for(var l,u=e,h=t,c=r;!l&&u>0;)u--,h=Math.floor(h/2),c=Math.floor(c/2),l=this.tiles[Se(u,h,c)];return l&&l.source?(i>1&&console.log(\"found parent tile z%d-%d-%d\",u,h,c),i>1&&console.time(\"drilling down\"),this.splitTile(l.source,u,h,c,e,t,r),i>1&&console.timeEnd(\"drilling down\"),this.tiles[a]?de(this.tiles[a],n):null):null};class Pe extends e.VectorTileWorkerSource{constructor(e,t,r,o,n){super(e,t,r,o,Me),n&&(this.loadGeoJSON=n);}loadData(t,r){const o=t&&t.request,n=o&&o.collectResourceTiming;this.loadGeoJSON(t,((s,a)=>{if(s||!a)return r(s);if(\"object\"!=typeof a)return r(new Error(`Input data given to '${t.source}' is not a valid GeoJSON object.`));{i(a,!0);try{if(t.filter){const r=e.createExpression(t.filter,{type:\"boolean\",\"property-type\":\"data-driven\",overridable:!1,transition:!1});if(\"error\"===r.result)throw new Error(r.value.map((e=>`${e.key}: ${e.message}`)).join(\", \"));const o=a.features.filter((e=>r.value.evaluate({zoom:0},e)));a={type:\"FeatureCollection\",features:o};}this._geoJSONIndex=t.cluster?new G(function({superclusterOptions:t,clusterProperties:r}){if(!r||!t)return t;const o={},n={},i={accumulated:null,zoom:0},s={properties:null},a=Object.keys(r);for(const t of a){const[i,s]=r[t],a=e.createExpression(s),l=e.createExpression(\"string\"==typeof i?[i,[\"accumulated\"],[\"get\",t]]:i);o[t]=a.value,n[t]=l.value;}return t.map=e=>{s.properties=e;const t={};for(const e of a)t[e]=o[e].evaluate(i,s);return t},t.reduce=(e,t)=>{s.properties=t;for(const t of a)i.accumulated=e[t],e[t]=n[t].evaluate(i,s);},t}(t)).load(a.features):function(e,t){return new we(e,t)}(a,t.geojsonVtOptions);}catch(s){return r(s)}this.loaded={};const l={};if(n){const r=e.getPerformanceMeasurement(o);r&&(l.resourceTiming={},l.resourceTiming[t.source]=JSON.parse(JSON.stringify(r)));}r(null,l);}}));}reloadTile(e,t){const r=this.loaded;return r&&r[e.uid]?super.reloadTile(e,t):this.loadTile(e,t)}loadGeoJSON(t,r){if(t.request)e.getJSON(t.request,r);else {if(\"string\"!=typeof t.data)return r(new Error(`Input data given to '${t.source}' is not a valid GeoJSON object.`));try{return r(null,JSON.parse(t.data))}catch(e){return r(new Error(`Input data given to '${t.source}' is not a valid GeoJSON object.`))}}}getClusterExpansionZoom(e,t){try{t(null,this._geoJSONIndex.getClusterExpansionZoom(e.clusterId));}catch(e){t(e);}}getClusterChildren(e,t){try{t(null,this._geoJSONIndex.getChildren(e.clusterId));}catch(e){t(e);}}getClusterLeaves(e,t){try{t(null,this._geoJSONIndex.getLeaves(e.clusterId,e.limit,e.offset));}catch(e){t(e);}}}class be{constructor(t){this.self=t,this.actor=new e.Actor(t,this),this.layerIndexes={},this.availableImages={},this.isSpriteLoaded={},this.projections={},this.defaultProjection=e.getProjection({name:\"mercator\"}),this.workerSourceTypes={vector:e.VectorTileWorkerSource,geojson:Pe},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(e,t)=>{if(this.workerSourceTypes[e])throw new Error(`Worker source with name \"${e}\" already registered.`);this.workerSourceTypes[e]=t;},this.self.registerRTLTextPlugin=t=>{if(e.plugin.isParsed())throw new Error(\"RTL text plugin already registered.\");e.plugin.applyArabicShaping=t.applyArabicShaping,e.plugin.processBidirectionalText=t.processBidirectionalText,e.plugin.processStyledBidirectionalText=t.processStyledBidirectionalText;};}clearCaches(e,t,r){delete this.layerIndexes[e],delete this.availableImages[e],delete this.workerSources[e],delete this.demWorkerSources[e],r();}checkIfReady(e,t,r){r();}setReferrer(e,t){this.referrer=t;}spriteLoaded(t,r){this.isSpriteLoaded[t]=r;for(const o in this.workerSources[t]){const n=this.workerSources[t][o];for(const t in n)n[t]instanceof e.VectorTileWorkerSource&&(n[t].isSpriteLoaded=r,n[t].fire(new e.Event(\"isSpriteLoaded\")));}}setImages(e,t,r){this.availableImages[e]=t;for(const r in this.workerSources[e]){const o=this.workerSources[e][r];for(const e in o)o[e].availableImages=t;}r();}enableTerrain(e,t,r){this.terrain=t,r();}setProjection(t,r){this.projections[t]=e.getProjection(r);}setLayers(e,t,r){this.getLayerIndex(e).replace(t),r();}updateLayers(e,t,r){this.getLayerIndex(e).update(t.layers,t.removedIds),r();}loadTile(t,r,o){const n=this.enableTerrain?e.extend({enableTerrain:this.terrain},r):r;n.projection=this.projections[t]||this.defaultProjection,this.getWorkerSource(t,r.type,r.source).loadTile(n,o);}loadDEMTile(t,r,o){const n=this.enableTerrain?e.extend({buildQuadTree:this.terrain},r):r;this.getDEMWorkerSource(t,r.source).loadTile(n,o);}reloadTile(t,r,o){const n=this.enableTerrain?e.extend({enableTerrain:this.terrain},r):r;n.projection=this.projections[t]||this.defaultProjection,this.getWorkerSource(t,r.type,r.source).reloadTile(n,o);}abortTile(e,t,r){this.getWorkerSource(e,t.type,t.source).abortTile(t,r);}removeTile(e,t,r){this.getWorkerSource(e,t.type,t.source).removeTile(t,r);}removeSource(e,t,r){if(!this.workerSources[e]||!this.workerSources[e][t.type]||!this.workerSources[e][t.type][t.source])return;const o=this.workerSources[e][t.type][t.source];delete this.workerSources[e][t.type][t.source],void 0!==o.removeSource?o.removeSource(t,r):r();}loadWorkerSource(e,t,r){try{this.self.importScripts(t.url),r();}catch(e){r(e.toString());}}syncRTLPluginState(t,r,o){try{e.plugin.setState(r);const t=e.plugin.getPluginURL();if(e.plugin.isLoaded()&&!e.plugin.isParsed()&&null!=t){this.self.importScripts(t);const r=e.plugin.isParsed();o(r?void 0:new Error(`RTL Text Plugin failed to import scripts from ${t}`),r);}}catch(e){o(e.toString());}}getAvailableImages(e){let t=this.availableImages[e];return t||(t=[]),t}getLayerIndex(e){let t=this.layerIndexes[e];return t||(t=this.layerIndexes[e]=new o),t}getWorkerSource(e,t,r){if(this.workerSources[e]||(this.workerSources[e]={}),this.workerSources[e][t]||(this.workerSources[e][t]={}),!this.workerSources[e][t][r]){const o={send:(t,r,o,n,i,s)=>{this.actor.send(t,r,o,e,i,s);},scheduler:this.actor.scheduler};this.workerSources[e][t][r]=new this.workerSourceTypes[t](o,this.getLayerIndex(e),this.getAvailableImages(e),this.isSpriteLoaded[e]);}return this.workerSources[e][t][r]}getDEMWorkerSource(e,t){return this.demWorkerSources[e]||(this.demWorkerSources[e]={}),this.demWorkerSources[e][t]||(this.demWorkerSources[e][t]=new n),this.demWorkerSources[e][t]}enforceCacheSizeLimit(t,r){e.enforceCacheSizeLimit(r);}getWorkerPerformanceMetrics(e,t,r){r(void 0,void 0);}}return \"undefined\"!=typeof WorkerGlobalScope&&\"undefined\"!=typeof self&&self instanceof WorkerGlobalScope&&(self.worker=new be(self)),be}));\n\ndefine([\"./shared\"],(function(e){\"use strict\";function t(e,i){if(Array.isArray(e)){if(!Array.isArray(i)||e.length!==i.length)return !1;for(let o=0;o<e.length;o++)if(!t(e[o],i[o]))return !1;return !0}if(\"object\"==typeof e&&null!==e&&null!==i){if(\"object\"!=typeof i)return !1;if(Object.keys(e).length!==Object.keys(i).length)return !1;for(const o in e)if(!t(e[o],i[o]))return !1;return !0}return e===i}var i=o;function o(e){return !function(e){return \"undefined\"==typeof window||\"undefined\"==typeof document?\"not a browser\":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?\"JSON\"in window&&\"parse\"in JSON&&\"stringify\"in JSON?function(){if(!(\"Worker\"in window&&\"Blob\"in window&&\"URL\"in window))return !1;var e,t,i=new Blob([\"\"],{type:\"text/javascript\"}),o=URL.createObjectURL(i);try{t=new Worker(o),e=!0;}catch(t){e=!1;}return t&&t.terminate(),URL.revokeObjectURL(o),e}()?\"Uint8ClampedArray\"in window?ArrayBuffer.isView?function(){var e=document.createElement(\"canvas\");e.width=e.height=1;var t=e.getContext(\"2d\");if(!t)return !1;var i=t.getImageData(0,0,1,1);return i&&i.width===e.width}()?(void 0===r[t=e&&e.failIfMajorPerformanceCaveat]&&(r[t]=function(e){var t,i=function(e){var t=document.createElement(\"canvas\"),i=Object.create(o.webGLContextAttributes);return i.failIfMajorPerformanceCaveat=e,t.getContext(\"webgl\",i)||t.getContext(\"experimental-webgl\",i)}(e);if(!i)return !1;try{t=i.createShader(i.VERTEX_SHADER);}catch(e){return !1}return !(!t||i.isContextLost())&&(i.shaderSource(t,\"void main() {}\"),i.compileShader(t),!0===i.getShaderParameter(t,i.COMPILE_STATUS))}(t)),r[t]?document.documentMode?\"insufficient ECMAScript 6 support\":void 0:\"insufficient WebGL support\"):\"insufficient Canvas/getImageData support\":\"insufficient ArrayBuffer support\":\"insufficient Uint8ClampedArray support\":\"insufficient worker support\":\"insufficient JSON support\":\"insufficient Object support\":\"insufficient Function support\":\"insufficent Array support\";var t;}(e)}var r={};function n(t,i,o){const r=e.window.document.createElement(t);return void 0!==i&&(r.className=i),o&&o.appendChild(r),r}function a(t,i,o){const r=e.window.document.createElementNS(\"http://www.w3.org/2000/svg\",t);for(const e of Object.keys(i))r.setAttributeNS(null,e,i[e]);return o&&o.appendChild(r),r}o.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};const s=e.window.document&&e.window.document.documentElement.style,l=s&&void 0!==s.userSelect?\"userSelect\":\"WebkitUserSelect\";let c;function h(){s&&l&&(c=s[l],s[l]=\"none\");}function _(){s&&l&&(s[l]=c);}function u(t){t.preventDefault(),t.stopPropagation(),e.window.removeEventListener(\"click\",u,!0);}function d(){e.window.addEventListener(\"click\",u,!0),e.window.setTimeout((()=>{e.window.removeEventListener(\"click\",u,!0);}),0);}function p(e,t){const i=e.getBoundingClientRect();return g(e,i,t)}function m(e,t){const i=e.getBoundingClientRect(),o=[];for(let r=0;r<t.length;r++)o.push(g(e,i,t[r]));return o}function f(t){return void 0!==e.window.InstallTrigger&&2===t.button&&t.ctrlKey&&e.window.navigator.platform.toUpperCase().indexOf(\"MAC\")>=0?0:t.button}function g(t,i,o){const r=t.offsetWidth===i.width?1:t.offsetWidth/i.width;return new e.pointGeometry((o.clientX-i.left)*r,(o.clientY-i.top)*r)}function v(e,t){var i=t[0],o=t[1],r=t[2],n=t[3],a=i*n-r*o;return a?(e[0]=n*(a=1/a),e[1]=-o*a,e[2]=-r*a,e[3]=i*a,e):null}function x(e){const{userImage:t}=e;return !!(t&&t.render&&t.render())&&(e.data.replace(new Uint8Array(t.data.buffer)),!0)}class y extends e.Evented{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new e.RGBAImage({width:1,height:1}),this.dirty=!0;}isLoaded(){return this.loaded}setLoaded(e){if(this.loaded!==e&&(this.loaded=e,e)){for(const{ids:e,callback:t}of this.requestors)this._notify(e,t);this.requestors=[];}}hasImage(e){return !!this.getImage(e)}getImage(e){return this.images[e]}addImage(e,t){this._validate(e,t)&&(this.images[e]=t);}_validate(t,i){let o=!0;return this._validateStretch(i.stretchX,i.data&&i.data.width)||(this.fire(new e.ErrorEvent(new Error(`Image \"${t}\" has invalid \"stretchX\" value`))),o=!1),this._validateStretch(i.stretchY,i.data&&i.data.height)||(this.fire(new e.ErrorEvent(new Error(`Image \"${t}\" has invalid \"stretchY\" value`))),o=!1),this._validateContent(i.content,i)||(this.fire(new e.ErrorEvent(new Error(`Image \"${t}\" has invalid \"content\" value`))),o=!1),o}_validateStretch(e,t){if(!e)return !0;let i=0;for(const o of e){if(o[0]<i||o[1]<o[0]||t<o[1])return !1;i=o[1];}return !0}_validateContent(e,t){return !(e&&(4!==e.length||e[0]<0||t.data.width<e[0]||e[1]<0||t.data.height<e[1]||e[2]<0||t.data.width<e[2]||e[3]<0||t.data.height<e[3]||e[2]<e[0]||e[3]<e[1]))}updateImage(e,t){t.version=this.images[e].version+1,this.images[e]=t,this.updatedImages[e]=!0;}removeImage(e){const t=this.images[e];delete this.images[e],delete this.patterns[e],t.userImage&&t.userImage.onRemove&&t.userImage.onRemove();}listImages(){return Object.keys(this.images)}getImages(e,t){let i=!0;if(!this.isLoaded())for(const t of e)this.images[t]||(i=!1);this.isLoaded()||i?this._notify(e,t):this.requestors.push({ids:e,callback:t});}_notify(t,i){const o={};for(const i of t){this.images[i]||this.fire(new e.Event(\"styleimagemissing\",{id:i}));const t=this.images[i];t?o[i]={data:t.data.clone(),pixelRatio:t.pixelRatio,sdf:t.sdf,version:t.version,stretchX:t.stretchX,stretchY:t.stretchY,content:t.content,hasRenderCallback:Boolean(t.userImage&&t.userImage.render)}:e.warnOnce(`Image \"${i}\" could not be loaded. Please make sure you have added the image with map.addImage() or a \"sprite\" property in your style. You can provide missing images by listening for the \"styleimagemissing\" map event.`);}i(null,o);}getPixelSize(){const{width:e,height:t}=this.atlasImage;return {width:e,height:t}}getPattern(t){const i=this.patterns[t],o=this.getImage(t);if(!o)return null;if(i&&i.position.version===o.version)return i.position;if(i)i.position.version=o.version;else {const i={w:o.data.width+2,h:o.data.height+2,x:0,y:0},r=new e.ImagePosition(i,o);this.patterns[t]={bin:i,position:r};}return this._updatePatternAtlas(),this.patterns[t].position}bind(t){const i=t.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new e.Texture(t,this.atlasImage,i.RGBA),this.atlasTexture.bind(i.LINEAR,i.CLAMP_TO_EDGE);}_updatePatternAtlas(){const t=[];for(const e in this.patterns)t.push(this.patterns[e].bin);const{w:i,h:o}=e.potpack(t),r=this.atlasImage;r.resize({width:i||1,height:o||1});for(const t in this.patterns){const{bin:i}=this.patterns[t],o=i.x+1,n=i.y+1,a=this.images[t].data,s=a.width,l=a.height;e.RGBAImage.copy(a,r,{x:0,y:0},{x:o,y:n},{width:s,height:l}),e.RGBAImage.copy(a,r,{x:0,y:l-1},{x:o,y:n-1},{width:s,height:1}),e.RGBAImage.copy(a,r,{x:0,y:0},{x:o,y:n+l},{width:s,height:1}),e.RGBAImage.copy(a,r,{x:s-1,y:0},{x:o-1,y:n},{width:1,height:l}),e.RGBAImage.copy(a,r,{x:0,y:0},{x:o+s,y:n},{width:1,height:l});}this.dirty=!0;}beginFrame(){this.callbackDispatchedThisFrame={};}dispatchRenderCallbacks(e){for(const t of e){if(this.callbackDispatchedThisFrame[t])continue;this.callbackDispatchedThisFrame[t]=!0;const e=this.images[t];x(e)&&this.updateImage(t,e);}}}const b=new e.Properties({anchor:new e.DataConstantProperty(e.spec.light.anchor),position:new class{constructor(){this.specification=e.spec.light.position;}possiblyEvaluate(t,i){return function([t,i,o]){const r=e.degToRad(i+90),n=e.degToRad(o);return {x:t*Math.cos(r)*Math.sin(n),y:t*Math.sin(r)*Math.sin(n),z:t*Math.cos(n),azimuthal:i,polar:o}}(t.expression.evaluate(i))}interpolate(t,i,o){return {x:e.number(t.x,i.x,o),y:e.number(t.y,i.y,o),z:e.number(t.z,i.z,o),azimuthal:e.number(t.azimuthal,i.azimuthal,o),polar:e.number(t.polar,i.polar,o)}}},color:new e.DataConstantProperty(e.spec.light.color),intensity:new e.DataConstantProperty(e.spec.light.intensity)}),w=\"-transition\";class T extends e.Evented{constructor(t){super(),this._transitionable=new e.Transitionable(b),this.setLight(t),this._transitioning=this._transitionable.untransitioned();}getLight(){return this._transitionable.serialize()}setLight(t,i={}){if(!this._validate(e.validateLight,t,i))for(const i in t){const o=t[i];e.endsWith(i,w)?this._transitionable.setTransition(i.slice(0,-w.length),o):this._transitionable.setValue(i,o);}}updateTransitions(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning);}hasTransition(){return this._transitioning.hasTransition()}recalculate(e){this.properties=this._transitioning.possiblyEvaluate(e);}_validate(t,i,o){return (!o||!1!==o.validate)&&e.emitValidationErrors(this,t.call(e.validateStyle,e.extend({value:i,style:{glyphs:!0,sprite:!0},styleSpec:e.spec})))}}const E=new e.Properties({source:new e.DataConstantProperty(e.spec.terrain.source),exaggeration:new e.DataConstantProperty(e.spec.terrain.exaggeration)}),C=\"-transition\";class I extends e.Evented{constructor(t,i){super(),this._transitionable=new e.Transitionable(E),this.set(t),this._transitioning=this._transitionable.untransitioned(),this.drapeRenderMode=i;}get(){return this._transitionable.serialize()}set(t){for(const i in t){const o=t[i];e.endsWith(i,C)?this._transitionable.setTransition(i.slice(0,-C.length),o):this._transitionable.setValue(i,o);}}updateTransitions(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning);}hasTransition(){return this._transitioning.hasTransition()}recalculate(e){this.properties=this._transitioning.possiblyEvaluate(e);}}function M(t,i,o,r){const n=e.smoothstep(45,65,o),[a,s]=S(t,r),l=e.length(i);let c=1-Math.min(1,Math.exp((l-a)/(s-a)*-6));return c*=c*c,c=Math.min(1,1.00747*c),c*n*t.alpha}function S(e,t){const i=.5/Math.tan(.5*t);return [e.range[0]+i,e.range[1]+i]}const z=new e.Properties({range:new e.DataConstantProperty(e.spec.fog.range),color:new e.DataConstantProperty(e.spec.fog.color),\"high-color\":new e.DataConstantProperty(e.spec.fog[\"high-color\"]),\"space-color\":new e.DataConstantProperty(e.spec.fog[\"space-color\"]),\"horizon-blend\":new e.DataConstantProperty(e.spec.fog[\"horizon-blend\"]),\"star-intensity\":new e.DataConstantProperty(e.spec.fog[\"star-intensity\"])}),D=\"-transition\";class A extends e.Evented{constructor(t,i){super(),this._transitionable=new e.Transitionable(z),this.set(t),this._transitioning=this._transitionable.untransitioned(),this._transform=i;}get state(){const t=this._transform,i=\"globe\"===t.projection.name,o=e.globeToMercatorTransition(t.zoom),r=this.properties.get(\"range\"),n=[.5,3];return {range:i?[e.number(n[0],r[0],o),e.number(n[1],r[1],o)]:r,horizonBlend:this.properties.get(\"horizon-blend\"),alpha:this.properties.get(\"color\").a}}get(){return this._transitionable.serialize()}set(t,i={}){if(!this._validate(e.validateFog,t,i)){for(const i of Object.keys(e.spec.fog))t&&void 0===t[i]&&(t[i]=e.spec.fog[i].default);for(const i in t){const o=t[i];e.endsWith(i,D)?this._transitionable.setTransition(i.slice(0,-D.length),o):this._transitionable.setValue(i,o);}}}getOpacity(t){if(!this._transform.projection.supportsFog)return 0;const i=this.properties&&this.properties.get(\"color\")||1;return (\"globe\"===this._transform.projection.name?1:e.smoothstep(45,65,t))*i.a}getOpacityAtLatLng(t,i){return this._transform.projection.supportsFog?function(t,i,o){const r=e.MercatorCoordinate.fromLngLat(i),n=o.elevation?o.elevation.getAtPointOrZero(r):0,a=[r.x,r.y,n];return e.transformMat4(a,a,o.mercatorFogMatrix),M(t,a,o.pitch,o._fov)}(this.state,t,i):0}getFovAdjustedRange(e){return this._transform.projection.supportsFog?S(this.state,e):[0,1]}updateTransitions(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning);}hasTransition(){return this._transitioning.hasTransition()}recalculate(e){this.properties=this._transitioning.possiblyEvaluate(e);}_validate(t,i,o){return (!o||!1!==o.validate)&&e.emitValidationErrors(this,t.call(e.validateStyle,e.extend({value:i,style:{glyphs:!0,sprite:!0},styleSpec:e.spec})))}}class P{constructor(t,i){this.workerPool=t,this.actors=[],this.currentActor=0,this.id=e.uniqueId();const o=this.workerPool.acquire(this.id);for(let e=0;e<o.length;e++){const t=new P.Actor(o[e],i,this.id);t.name=`Worker ${e}`,this.actors.push(t);}this.ready=!1,this.broadcast(\"checkIfReady\",null,(()=>{this.ready=!0;}));}broadcast(t,i,o){e.asyncAll(this.actors,((e,o)=>{e.send(t,i,o);}),o=o||function(){});}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(){this.actors.forEach((e=>{e.remove();})),this.actors=[],this.workerPool.release(this.id);}}function L(t,i,o){return i*(e.EXTENT/(t.tileSize*Math.pow(2,o-t.tileID.overscaledZ)))}P.Actor=e.Actor;class R{constructor(e,t,i,o){this.screenBounds=e,this.cameraPoint=t,this._screenRaycastCache={},this._cameraRaycastCache={},this.isAboveHorizon=i,this.screenGeometry=this.bufferedScreenGeometry(0),this.screenGeometryMercator=this._bufferedScreenMercator(0,o);}static createFromScreenPoints(t,i){let o,r;if(t instanceof e.pointGeometry||\"number\"==typeof t[0]){const n=e.pointGeometry.convert(t);o=[n],r=i.isPointAboveHorizon(n);}else {const n=e.pointGeometry.convert(t[0]),a=e.pointGeometry.convert(t[1]);o=[n,a],r=e.polygonizeBounds(n,a).every((e=>i.isPointAboveHorizon(e)));}return new R(o,i.getCameraPoint(),r,i)}isPointQuery(){return 1===this.screenBounds.length}bufferedScreenGeometry(t){return e.polygonizeBounds(this.screenBounds[0],1===this.screenBounds.length?this.screenBounds[0]:this.screenBounds[1],t)}bufferedCameraGeometry(t){const i=this.screenBounds[0],o=1===this.screenBounds.length?this.screenBounds[0].add(new e.pointGeometry(1,1)):this.screenBounds[1],r=e.polygonizeBounds(i,o,0,!1);return this.cameraPoint.y>o.y&&(this.cameraPoint.x>i.x&&this.cameraPoint.x<o.x?r.splice(3,0,this.cameraPoint):this.cameraPoint.x>=o.x?r[2]=this.cameraPoint:this.cameraPoint.x<=i.x&&(r[3]=this.cameraPoint)),e.bufferConvexPolygon(r,t)}bufferedCameraGeometryGlobe(t){const i=this.screenBounds[0],o=1===this.screenBounds.length?this.screenBounds[0].add(new e.pointGeometry(1,1)):this.screenBounds[1],r=e.polygonizeBounds(i,o,t),n=this.cameraPoint.clone();switch(3*((n.y>i.y)+(n.y>o.y))+((n.x>i.x)+(n.x>o.x))){case 0:r[0]=n,r[4]=n.clone();break;case 1:r.splice(1,0,n);break;case 2:r[1]=n;break;case 3:r.splice(4,0,n);break;case 5:r.splice(2,0,n);break;case 6:r[3]=n;break;case 7:r.splice(3,0,n);break;case 8:r[2]=n;}return r}containsTile(t,i,o,r=0){const n=t.queryPadding/i._pixelsPerMercatorPixel+1,a=o?this._bufferedCameraMercator(n,i):this._bufferedScreenMercator(n,i);let s=t.tileID.wrap+(a.unwrapped?r:0);const l=a.polygon.map((i=>e.getTilePoint(t.tileTransform,i,s)));if(!e.polygonIntersectsBox(l,0,0,e.EXTENT,e.EXTENT))return;s=t.tileID.wrap+(this.screenGeometryMercator.unwrapped?r:0);const c=this.screenGeometryMercator.polygon.map((i=>e.getTileVec3(t.tileTransform,i,s))),h=c.map((t=>new e.pointGeometry(t[0],t[1]))),_=i.getFreeCameraOptions().position||new e.MercatorCoordinate(0,0,0),u=e.getTileVec3(t.tileTransform,_,s),d=c.map((t=>{const i=e.sub(t,t,u);return e.normalize(i,i),new e.Ray(u,i)})),p=L(t,1,i.zoom)*i._pixelsPerMercatorPixel;return {queryGeometry:this,tilespaceGeometry:h,tilespaceRays:d,bufferedTilespaceGeometry:l,bufferedTilespaceBounds:(m=e.getBounds(l),m.min.x=e.clamp(m.min.x,0,e.EXTENT),m.min.y=e.clamp(m.min.y,0,e.EXTENT),m.max.x=e.clamp(m.max.x,0,e.EXTENT),m.max.y=e.clamp(m.max.y,0,e.EXTENT),m),tile:t,tileID:t.tileID,pixelToTileUnitsFactor:p};var m;}_bufferedScreenMercator(e,t){const i=k(e);if(this._screenRaycastCache[i])return this._screenRaycastCache[i];{let o;return o=\"globe\"===t.projection.name?this._projectAndResample(this.bufferedScreenGeometry(e),t):{polygon:this.bufferedScreenGeometry(e).map((e=>t.pointCoordinate3D(e))),unwrapped:!0},this._screenRaycastCache[i]=o,o}}_bufferedCameraMercator(e,t){const i=k(e);if(this._cameraRaycastCache[i])return this._cameraRaycastCache[i];{let o;return o=\"globe\"===t.projection.name?this._projectAndResample(this.bufferedCameraGeometryGlobe(e),t):{polygon:this.bufferedCameraGeometry(e).map((e=>t.pointCoordinate3D(e))),unwrapped:!0},this._cameraRaycastCache[i]=o,o}}_projectAndResample(t,i){const o=function(t,i){const o=e.multiply([],i.pixelMatrix,i.globeMatrix),r=[0,-e.GLOBE_RADIUS,0,1],n=[0,e.GLOBE_RADIUS,0,1],a=[0,0,0,1];e.transformMat4$1(r,r,o),e.transformMat4$1(n,n,o),e.transformMat4$1(a,a,o);const s=new e.pointGeometry(r[0]/r[3],r[1]/r[3]),l=new e.pointGeometry(n[0]/n[3],n[1]/n[3]),c=e.polygonContainsPoint(t,s)&&r[3]<a[3],h=e.polygonContainsPoint(t,l)&&n[3]<a[3];if(!c&&!h)return null;const _=function(e,t,i){for(let o=1;o<e.length;o++){const r=B(t.pointCoordinate3D(e[o-1]).x),n=B(t.pointCoordinate3D(e[o]).x);if(i<0){if(r<n)return {idx:o,t:-r/(n-1-r)}}else if(n<r)return {idx:o,t:(1-r)/(n+1-r)}}return null}(t,i,c?-1:1);if(!_)return null;const{idx:u,t:d}=_;let p=u>1?O(t.slice(0,u),i):[],m=u<t.length?O(t.slice(u),i):[];p=p.map((t=>new e.pointGeometry(B(t.x),t.y))),m=m.map((t=>new e.pointGeometry(B(t.x),t.y)));const f=[...p];0===f.length&&f.push(m[m.length-1]);const g=e.number(f[f.length-1].y,(0===m.length?p[0]:m[0]).y,d);let v;return v=c?[new e.pointGeometry(0,g),new e.pointGeometry(0,0),new e.pointGeometry(1,0),new e.pointGeometry(1,g)]:[new e.pointGeometry(1,g),new e.pointGeometry(1,1),new e.pointGeometry(0,1),new e.pointGeometry(0,g)],f.push(...v),0===m.length?f.push(p[0]):f.push(...m),{polygon:f.map((t=>new e.MercatorCoordinate(t.x,t.y))),unwrapped:!1}}(t,i);if(o)return o;const r=function(t,i){let o=!1,r=-1/0,n=0;for(let e=0;e<t.length-1;e++)t[e].x>r&&(r=t[e].x,n=e);for(let e=0;e<t.length-1;e++){const i=(n+e)%(t.length-1),r=t[i],a=t[i+1];Math.abs(r.x-a.x)>.5&&(r.x<a.x?(r.x+=1,0===i&&(t[t.length-1].x+=1)):(a.x+=1,i+1===t.length-1&&(t[0].x+=1)),o=!0);}const a=e.mercatorXfromLng(i.center.lng);return o&&a<Math.abs(a-1)&&t.forEach((e=>{e.x-=1;})),{polygon:t,unwrapped:o}}(O(t,i).map((t=>new e.pointGeometry(B(t.x),t.y))),i);return {polygon:r.polygon.map((t=>new e.MercatorCoordinate(t.x,t.y))),unwrapped:r.unwrapped}}}function O(t,i){return e.resample(t,(e=>{const t=i.pointCoordinate3D(e);e.x=t.x,e.y=t.y;}),1/256)}function B(e){return e<0?1+e%1:e%1}function k(e){return 100*e|0}function F(t,i,o,r,n){const a=function(o,r){if(o)return n(o);if(r){t.url&&r.tiles&&t.tiles&&delete t.tiles;const o=e.pick(e.extend(r,t),[\"tiles\",\"minzoom\",\"maxzoom\",\"attribution\",\"mapbox_logo\",\"bounds\",\"scheme\",\"tileSize\",\"encoding\"]);r.vector_layers&&(o.vectorLayers=r.vector_layers,o.vectorLayerIds=o.vectorLayers.map((e=>e.id))),o.tiles=i.canonicalizeTileset(o,t.url),n(null,o);}};return t.url?e.getJSON(i.transformRequest(i.normalizeSourceURL(t.url,null,o,r),e.ResourceType.Source),a):e.exported.frame((()=>a(null,t)))}class U{constructor(t,i,o){this.bounds=e.LngLatBounds.convert(this.validateBounds(t)),this.minzoom=i||0,this.maxzoom=o||24;}validateBounds(e){return Array.isArray(e)&&4===e.length?[Math.max(-180,e[0]),Math.max(-90,e[1]),Math.min(180,e[2]),Math.min(90,e[3])]:[-180,-90,180,90]}contains(t){const i=Math.pow(2,t.z),o=Math.floor(e.mercatorXfromLng(this.bounds.getWest())*i),r=Math.floor(e.mercatorYfromLat(this.bounds.getNorth())*i),n=Math.ceil(e.mercatorXfromLng(this.bounds.getEast())*i),a=Math.ceil(e.mercatorYfromLat(this.bounds.getSouth())*i);return t.x>=o&&t.x<n&&t.y>=r&&t.y<a}}class N{constructor(e,t,i){this.context=e;const o=e.gl;this.buffer=o.createBuffer(),this.dynamicDraw=Boolean(i),this.context.unbindVAO(),e.bindElementBuffer.set(this.buffer),o.bufferData(o.ELEMENT_ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?o.DYNAMIC_DRAW:o.STATIC_DRAW),this.dynamicDraw||t.destroy();}bind(){this.context.bindElementBuffer.set(this.buffer);}updateData(e){const t=this.context.gl;this.context.unbindVAO(),this.bind(),t.bufferSubData(t.ELEMENT_ARRAY_BUFFER,0,e.arrayBuffer);}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer);}}const G={Int8:\"BYTE\",Uint8:\"UNSIGNED_BYTE\",Int16:\"SHORT\",Uint16:\"UNSIGNED_SHORT\",Int32:\"INT\",Uint32:\"UNSIGNED_INT\",Float32:\"FLOAT\"};class j{constructor(e,t,i,o){this.length=t.length,this.attributes=i,this.itemSize=t.bytesPerElement,this.dynamicDraw=o,this.context=e;const r=e.gl;this.buffer=r.createBuffer(),e.bindVertexBuffer.set(this.buffer),r.bufferData(r.ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?r.DYNAMIC_DRAW:r.STATIC_DRAW),this.dynamicDraw||t.destroy();}bind(){this.context.bindVertexBuffer.set(this.buffer);}updateData(e){const t=this.context.gl;this.bind(),t.bufferSubData(t.ARRAY_BUFFER,0,e.arrayBuffer);}enableAttributes(e,t){for(let i=0;i<this.attributes.length;i++){const o=t.attributes[this.attributes[i].name];void 0!==o&&e.enableVertexAttribArray(o);}}setVertexAttribPointers(e,t,i){for(let o=0;o<this.attributes.length;o++){const r=this.attributes[o],n=t.attributes[r.name];void 0!==n&&e.vertexAttribPointer(n,r.components,e[G[r.type]],!1,this.itemSize,r.offset+this.itemSize*(i||0));}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer);}}class Z{constructor(e){this.gl=e.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1;}get(){return this.current}set(e){}getDefault(){return this.default}setDefault(){this.set(this.default);}}class V extends Z{getDefault(){return e.Color.transparent}set(e){const t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.clearColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1);}}class W extends Z{getDefault(){return 1}set(e){(e!==this.current||this.dirty)&&(this.gl.clearDepth(e),this.current=e,this.dirty=!1);}}class X extends Z{getDefault(){return 0}set(e){(e!==this.current||this.dirty)&&(this.gl.clearStencil(e),this.current=e,this.dirty=!1);}}class q extends Z{getDefault(){return [!0,!0,!0,!0]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.colorMask(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1);}}class $ extends Z{getDefault(){return !0}set(e){(e!==this.current||this.dirty)&&(this.gl.depthMask(e),this.current=e,this.dirty=!1);}}class H extends Z{getDefault(){return 255}set(e){(e!==this.current||this.dirty)&&(this.gl.stencilMask(e),this.current=e,this.dirty=!1);}}class Y extends Z{getDefault(){return {func:this.gl.ALWAYS,ref:0,mask:255}}set(e){const t=this.current;(e.func!==t.func||e.ref!==t.ref||e.mask!==t.mask||this.dirty)&&(this.gl.stencilFunc(e.func,e.ref,e.mask),this.current=e,this.dirty=!1);}}class K extends Z{getDefault(){const e=this.gl;return [e.KEEP,e.KEEP,e.KEEP]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||this.dirty)&&(this.gl.stencilOp(e[0],e[1],e[2]),this.current=e,this.dirty=!1);}}class J extends Z{getDefault(){return !1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.STENCIL_TEST):t.disable(t.STENCIL_TEST),this.current=e,this.dirty=!1;}}class Q extends Z{getDefault(){return [0,1]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.depthRange(e[0],e[1]),this.current=e,this.dirty=!1);}}class ee extends Z{getDefault(){return !1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.DEPTH_TEST):t.disable(t.DEPTH_TEST),this.current=e,this.dirty=!1;}}class te extends Z{getDefault(){return this.gl.LESS}set(e){(e!==this.current||this.dirty)&&(this.gl.depthFunc(e),this.current=e,this.dirty=!1);}}class ie extends Z{getDefault(){return !1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.BLEND):t.disable(t.BLEND),this.current=e,this.dirty=!1;}}class oe extends Z{getDefault(){const e=this.gl;return [e.ONE,e.ZERO]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.blendFunc(e[0],e[1]),this.current=e,this.dirty=!1);}}class re extends Z{getDefault(){return e.Color.transparent}set(e){const t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.blendColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1);}}class ne extends Z{getDefault(){return this.gl.FUNC_ADD}set(e){(e!==this.current||this.dirty)&&(this.gl.blendEquation(e),this.current=e,this.dirty=!1);}}class ae extends Z{getDefault(){return !1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.CULL_FACE):t.disable(t.CULL_FACE),this.current=e,this.dirty=!1;}}class se extends Z{getDefault(){return this.gl.BACK}set(e){(e!==this.current||this.dirty)&&(this.gl.cullFace(e),this.current=e,this.dirty=!1);}}class le extends Z{getDefault(){return this.gl.CCW}set(e){(e!==this.current||this.dirty)&&(this.gl.frontFace(e),this.current=e,this.dirty=!1);}}class ce extends Z{getDefault(){return null}set(e){(e!==this.current||this.dirty)&&(this.gl.useProgram(e),this.current=e,this.dirty=!1);}}class he extends Z{getDefault(){return this.gl.TEXTURE0}set(e){(e!==this.current||this.dirty)&&(this.gl.activeTexture(e),this.current=e,this.dirty=!1);}}class _e extends Z{getDefault(){const e=this.gl;return [0,0,e.drawingBufferWidth,e.drawingBufferHeight]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.viewport(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1);}}class ue extends Z{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,e),this.current=e,this.dirty=!1;}}class de extends Z{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindRenderbuffer(t.RENDERBUFFER,e),this.current=e,this.dirty=!1;}}class pe extends Z{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindTexture(t.TEXTURE_2D,e),this.current=e,this.dirty=!1;}}class me extends Z{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindBuffer(t.ARRAY_BUFFER,e),this.current=e,this.dirty=!1;}}class fe extends Z{getDefault(){return null}set(e){const t=this.gl;t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e),this.current=e,this.dirty=!1;}}class ge extends Z{constructor(e){super(e),this.vao=e.extVertexArrayObject;}getDefault(){return null}set(e){this.vao&&(e!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(e),this.current=e,this.dirty=!1);}}class ve extends Z{getDefault(){return 4}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.pixelStorei(t.UNPACK_ALIGNMENT,e),this.current=e,this.dirty=!1;}}class xe extends Z{getDefault(){return !1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e),this.current=e,this.dirty=!1;}}class ye extends Z{getDefault(){return !1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,e),this.current=e,this.dirty=!1;}}class be extends Z{constructor(e,t){super(e),this.context=e,this.parent=t;}getDefault(){return null}}class we extends be{setDirty(){this.dirty=!0;}set(e){if(e===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const t=this.gl;t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0),this.current=e,this.dirty=!1;}}class Te extends be{attachment(){return this.gl.DEPTH_ATTACHMENT}set(e){if(e===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const t=this.gl;t.framebufferRenderbuffer(t.FRAMEBUFFER,this.attachment(),t.RENDERBUFFER,e),this.current=e,this.dirty=!1;}}class Ee extends Te{attachment(){return this.gl.DEPTH_STENCIL_ATTACHMENT}}class Ce{constructor(e,t,i,o){this.context=e,this.width=t,this.height=i;const r=this.framebuffer=e.gl.createFramebuffer();this.colorAttachment=new we(e,r),o&&(this.depthAttachment=new Te(e,r));}destroy(){const e=this.context.gl,t=this.colorAttachment.get();if(t&&e.deleteTexture(t),this.depthAttachment){const t=this.depthAttachment.get();t&&e.deleteRenderbuffer(t);}e.deleteFramebuffer(this.framebuffer);}}class Ie{constructor(e){this.gl=e,this.extVertexArrayObject=this.gl.getExtension(\"OES_vertex_array_object\"),this.clearColor=new V(this),this.clearDepth=new W(this),this.clearStencil=new X(this),this.colorMask=new q(this),this.depthMask=new $(this),this.stencilMask=new H(this),this.stencilFunc=new Y(this),this.stencilOp=new K(this),this.stencilTest=new J(this),this.depthRange=new Q(this),this.depthTest=new ee(this),this.depthFunc=new te(this),this.blend=new ie(this),this.blendFunc=new oe(this),this.blendColor=new re(this),this.blendEquation=new ne(this),this.cullFace=new ae(this),this.cullFaceSide=new se(this),this.frontFace=new le(this),this.program=new ce(this),this.activeTexture=new he(this),this.viewport=new _e(this),this.bindFramebuffer=new ue(this),this.bindRenderbuffer=new de(this),this.bindTexture=new pe(this),this.bindVertexBuffer=new me(this),this.bindElementBuffer=new fe(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new ge(this),this.pixelStoreUnpack=new ve(this),this.pixelStoreUnpackPremultiplyAlpha=new xe(this),this.pixelStoreUnpackFlipY=new ye(this),this.extTextureFilterAnisotropic=e.getExtension(\"EXT_texture_filter_anisotropic\")||e.getExtension(\"MOZ_EXT_texture_filter_anisotropic\")||e.getExtension(\"WEBKIT_EXT_texture_filter_anisotropic\"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=e.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureFilterAnisotropicForceOff=!1,this.extStandardDerivativesForceOff=!1,this.extDebugRendererInfo=e.getExtension(\"WEBGL_debug_renderer_info\"),this.extDebugRendererInfo&&(this.renderer=e.getParameter(this.extDebugRendererInfo.UNMASKED_RENDERER_WEBGL),this.vendor=e.getParameter(this.extDebugRendererInfo.UNMASKED_VENDOR_WEBGL)),this.extTextureHalfFloat=e.getExtension(\"OES_texture_half_float\"),this.extTextureHalfFloat&&(e.getExtension(\"OES_texture_half_float_linear\"),this.extRenderToTextureHalfFloat=e.getExtension(\"EXT_color_buffer_half_float\")),this.extStandardDerivatives=e.getExtension(\"OES_standard_derivatives\"),this.extTimerQuery=e.getExtension(\"EXT_disjoint_timer_query\"),this.maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE);}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault();}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0;}createIndexBuffer(e,t){return new N(this,e,t)}createVertexBuffer(e,t,i){return new j(this,e,t,i)}createRenderbuffer(e,t,i){const o=this.gl,r=o.createRenderbuffer();return this.bindRenderbuffer.set(r),o.renderbufferStorage(o.RENDERBUFFER,e,t,i),this.bindRenderbuffer.set(null),r}createFramebuffer(e,t,i){return new Ce(this,e,t,i)}clear({color:e,depth:t,stencil:i}){const o=this.gl;let r=0;e&&(r|=o.COLOR_BUFFER_BIT,this.clearColor.set(e),this.colorMask.set([!0,!0,!0,!0])),void 0!==t&&(r|=o.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(t),this.depthMask.set(!0)),void 0!==i&&(r|=o.STENCIL_BUFFER_BIT,this.clearStencil.set(i),this.stencilMask.set(255)),o.clear(r);}setCullFace(e){!1===e.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(e.mode),this.frontFace.set(e.frontFace));}setDepthMode(e){e.func!==this.gl.ALWAYS||e.mask?(this.depthTest.set(!0),this.depthFunc.set(e.func),this.depthMask.set(e.mask),this.depthRange.set(e.range)):this.depthTest.set(!1);}setStencilMode(e){e.test.func!==this.gl.ALWAYS||e.mask?(this.stencilTest.set(!0),this.stencilMask.set(e.mask),this.stencilOp.set([e.fail,e.depthFail,e.pass]),this.stencilFunc.set({func:e.test.func,ref:e.ref,mask:e.test.mask})):this.stencilTest.set(!1);}setColorMode(i){t(i.blendFunction,e.ColorMode.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(i.blendFunction),this.blendColor.set(i.blendColor)),this.colorMask.set(i.mask);}unbindVAO(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null);}}class Me extends e.Evented{constructor(t,i,o,r){super(),this.id=t,this.dispatcher=o,this.setEventedParent(r),this.type=\"raster\",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme=\"xyz\",this.tileSize=512,this._loaded=!1,this._options=e.extend({type:\"raster\"},i),e.extend(this,e.pick(i,[\"url\",\"scheme\",\"tileSize\"]));}load(){this._loaded=!1,this.fire(new e.Event(\"dataloading\",{dataType:\"source\"})),this._tileJSONRequest=F(this._options,this.map._requestManager,null,null,((t,i)=>{this._tileJSONRequest=null,this._loaded=!0,t?this.fire(new e.ErrorEvent(t)):i&&(e.extend(this,i),i.bounds&&(this.tileBounds=new U(i.bounds,this.minzoom,this.maxzoom)),e.postTurnstileEvent(i.tiles),this.fire(new e.Event(\"data\",{dataType:\"source\",sourceDataType:\"metadata\"})),this.fire(new e.Event(\"data\",{dataType:\"source\",sourceDataType:\"content\"})));}));}loaded(){return this._loaded}onAdd(e){this.map=e,this.load();}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null);}serialize(){return e.extend({},this._options)}hasTile(e){return !this.tileBounds||this.tileBounds.contains(e.canonical)}loadTile(t,i){const o=e.exported.devicePixelRatio>=2,r=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme),o,this.tileSize);t.request=e.getImage(this.map._requestManager.transformRequest(r,e.ResourceType.Tile),((o,r,n,a)=>(delete t.request,t.aborted?(t.state=\"unloaded\",i(null)):o?(t.state=\"errored\",i(o)):r?(this.map._refreshExpiredTiles&&t.setExpiryData({cacheControl:n,expires:a}),t.setTexture(r,this.map.painter),t.state=\"loaded\",e.cacheEntryPossiblyAdded(this.dispatcher),void i(null)):i(null))));}static loadTileData(e,t,i){e.setTexture(t,i);}static unloadTileData(e,t){e.texture&&t.saveTileTexture(e.texture);}abortTile(e,t){e.request&&(e.request.cancel(),delete e.request),t();}unloadTile(e,t){e.texture&&this.map.painter.saveTileTexture(e.texture),t();}hasTransition(){return !1}}let Se;function ze(t,i,o,r,n,a,s,l){const c=[t,o,n,i,r,a,1,1,1],h=[s,l,1],_=e.adjoint([],c),[u,d,p]=e.transformMat3(h,h,e.transpose(_,_));return e.multiply$1(c,[u,0,0,0,d,0,0,0,p],c)}class De extends e.Evented{constructor(e,t,i,o){super(),this.id=e,this.dispatcher=i,this.coordinates=t.coordinates,this.type=\"image\",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(o),this.options=t,this._dirty=!1;}load(t,i){this._loaded=i||!1,this.fire(new e.Event(\"dataloading\",{dataType:\"source\"})),this.url=this.options.url,this._imageRequest=e.getImage(this.map._requestManager.transformRequest(this.url,e.ResourceType.Image),((i,o)=>{if(this._imageRequest=null,this._loaded=!0,i)this.fire(new e.ErrorEvent(i));else if(o){const{HTMLImageElement:i}=e.window;this.image=o instanceof i?e.exported.getImageData(o):o,this._dirty=!0,this.width=this.image.width,this.height=this.image.height,t&&(this.coordinates=t),this._finishLoading();}}));}loaded(){return this._loaded}updateImage(e){return this.image&&e.url?(this._imageRequest&&e.url!==this.options.url&&(this._imageRequest.cancel(),this._imageRequest=null),this.options.url=e.url,this.load(e.coordinates,this._loaded),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new e.Event(\"data\",{dataType:\"source\",sourceDataType:\"metadata\"})));}onAdd(e){this.map=e,this.load();}onRemove(){this._imageRequest&&(this._imageRequest.cancel(),this._imageRequest=null),this.texture&&this.texture.destroy();}setCoordinates(t){this.coordinates=t,this._boundsArray=void 0;const i=t.map(e.MercatorCoordinate.fromLngLat);return this.tileID=function(t){let i=1/0,o=1/0,r=-1/0,n=-1/0;for(const e of t)i=Math.min(i,e.x),o=Math.min(o,e.y),r=Math.max(r,e.x),n=Math.max(n,e.y);const a=Math.max(r-i,n-o),s=Math.max(0,Math.floor(-Math.log(a)/Math.LN2)),l=Math.pow(2,s);return new e.CanonicalTileID(s,Math.floor((i+r)/2*l),Math.floor((o+n)/2*l))}(i),this.minzoom=this.maxzoom=this.tileID.z,this.fire(new e.Event(\"data\",{dataType:\"source\",sourceDataType:\"content\"})),this}_clear(){this._boundsArray=void 0;}_prepareData(t){for(const e in this.tiles){const t=this.tiles[e];\"loaded\"!==t.state&&(t.state=\"loaded\",t.texture=this.texture);}if(this._boundsArray)return;const i=e.tileTransform(this.tileID,this.map.transform.projection),[o,r,n,a]=this.coordinates.map((t=>{const o=i.projection.project(t[0],t[1]);return e.getTilePoint(i,o)._round()}));this.perspectiveTransform=function(t,i,o,r,n,a,s,l,c,h){const _=ze(0,0,t,0,0,i,t,i),u=ze(o,r,n,a,s,l,c,h);return e.multiply$1(u,e.adjoint(_,_),u),[u[6]/u[8]*t/e.EXTENT,u[7]/u[8]*i/e.EXTENT]}(this.width,this.height,o.x,o.y,r.x,r.y,a.x,a.y,n.x,n.y);const s=this._boundsArray=new e.StructArrayLayout4i8;s.emplaceBack(o.x,o.y,0,0),s.emplaceBack(r.x,r.y,e.EXTENT,0),s.emplaceBack(a.x,a.y,0,e.EXTENT),s.emplaceBack(n.x,n.y,e.EXTENT,e.EXTENT),this.boundsBuffer&&this.boundsBuffer.destroy(),this.boundsBuffer=t.createVertexBuffer(s,e.boundsAttributes.members),this.boundsSegments=e.SegmentVector.simpleSegment(0,0,4,2);}prepare(){if(0===Object.keys(this.tiles).length||!this.image)return;const t=this.map.painter.context,i=t.gl;this._dirty&&(this.texture?this.texture.update(this.image):(this.texture=new e.Texture(t,this.image,i.RGBA),this.texture.bind(i.LINEAR,i.CLAMP_TO_EDGE)),this._dirty=!1),this._prepareData(t);}loadTile(e,t){this.tileID&&this.tileID.equals(e.tileID.canonical)?(this.tiles[String(e.tileID.wrap)]=e,e.buckets={},t(null)):(e.state=\"errored\",t(null));}serialize(){return {type:\"image\",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return !1}}const Ae={vector:class extends e.Evented{constructor(t,i,o,r){if(super(),this.id=t,this.dispatcher=o,this.type=\"vector\",this.minzoom=0,this.maxzoom=22,this.scheme=\"xyz\",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,e.extend(this,e.pick(i,[\"url\",\"scheme\",\"tileSize\",\"promoteId\"])),this._options=e.extend({type:\"vector\"},i),this._collectResourceTiming=i.collectResourceTiming,512!==this.tileSize)throw new Error(\"vector tile sources must have a tileSize of 512\");this.setEventedParent(r),this._tileWorkers={},this._deduped=new e.DedupedRequest;}load(t){this._loaded=!1,this.fire(new e.Event(\"dataloading\",{dataType:\"source\"}));const i=Array.isArray(this.map._language)?this.map._language.join():this.map._language,o=this.map._worldview;this._tileJSONRequest=F(this._options,this.map._requestManager,i,o,((r,n)=>{this._tileJSONRequest=null,this._loaded=!0,r?(i&&console.warn(`Ensure that your requested language string is a valid BCP-47 code or list of codes. Found: ${i}`),o&&2!==o.length&&console.warn(`Requested worldview strings must be a valid ISO alpha-2 code. Found: ${o}`),this.fire(new e.ErrorEvent(r))):n&&(e.extend(this,n),n.bounds&&(this.tileBounds=new U(n.bounds,this.minzoom,this.maxzoom)),e.postTurnstileEvent(n.tiles,this.map._requestManager._customAccessToken),this.fire(new e.Event(\"data\",{dataType:\"source\",sourceDataType:\"metadata\"})),this.fire(new e.Event(\"data\",{dataType:\"source\",sourceDataType:\"content\"}))),t&&t(r);}));}loaded(){return this._loaded}hasTile(e){return !this.tileBounds||this.tileBounds.contains(e.canonical)}onAdd(e){this.map=e,this.load();}reload(){this.cancelTileJSONRequest(),this.load((()=>{const e=this.map.style._getSourceCaches(this.id);for(const t of e)t.clearTiles();}));}setSourceProperty(e){e(),this.reload();}setTiles(e){return this._options.tiles=e,this.reload(),this}setUrl(e){return this.url=e,this._options.url=e,this.reload(),this}onRemove(){this.cancelTileJSONRequest();}serialize(){return e.extend({},this._options)}loadTile(t,i){const o=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme)),r={request:this.map._requestManager.transformRequest(o,e.ResourceType.Tile),data:void 0,uid:t.uid,tileID:t.tileID,tileZoom:t.tileZoom,zoom:t.tileID.overscaledZ,tileSize:this.tileSize*t.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:e.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,isSymbolTile:t.isSymbolTile};if(r.request.collectResourceTiming=this._collectResourceTiming,t.actor&&\"expired\"!==t.state)\"loading\"===t.state?t.reloadCallback=i:t.request=t.actor.send(\"reloadTile\",r,n.bind(this));else if(t.actor=this._tileWorkers[o]=this._tileWorkers[o]||this.dispatcher.getActor(),this.dispatcher.ready)t.request=t.actor.send(\"loadTile\",r,n.bind(this),void 0,!0);else {const i=e.loadVectorTile.call({deduped:this._deduped},r,((e,i)=>{e||!i?n.call(this,e):(r.data={cacheControl:i.cacheControl,expires:i.expires,rawData:i.rawData.slice(0)},t.actor&&t.actor.send(\"loadTile\",r,n.bind(this),void 0,!0));}),!0);t.request={cancel:i};}function n(o,r){return delete t.request,t.aborted?i(null):o&&404!==o.status?i(o):(r&&r.resourceTiming&&(t.resourceTiming=r.resourceTiming),this.map._refreshExpiredTiles&&r&&t.setExpiryData(r),t.loadVectorData(r,this.map.painter),e.cacheEntryPossiblyAdded(this.dispatcher),i(null),void(t.reloadCallback&&(this.loadTile(t,t.reloadCallback),t.reloadCallback=null)))}}abortTile(e){e.request&&(e.request.cancel(),delete e.request),e.actor&&e.actor.send(\"abortTile\",{uid:e.uid,type:this.type,source:this.id});}unloadTile(e){e.unloadVectorData(),e.actor&&e.actor.send(\"removeTile\",{uid:e.uid,type:this.type,source:this.id});}hasTransition(){return !1}afterUpdate(){this._tileWorkers={};}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null);}},raster:Me,\"raster-dem\":class extends Me{constructor(t,i,o,r){super(t,i,o,r),this.type=\"raster-dem\",this.maxzoom=22,this._options=e.extend({type:\"raster-dem\"},i),this.encoding=i.encoding||\"mapbox\";}loadTile(t,i){const o=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme),!1,this.tileSize);function r(e,o){e&&(t.state=\"errored\",i(e)),o&&(t.dem=o,t.dem.onDeserialize(),t.needsHillshadePrepare=!0,t.needsDEMTextureUpload=!0,t.state=\"loaded\",i(null));}t.request=e.getImage(this.map._requestManager.transformRequest(o,e.ResourceType.Tile),function(o,n,a,s){if(delete t.request,t.aborted)t.state=\"unloaded\",i(null);else if(o)t.state=\"errored\",i(o);else if(n){this.map._refreshExpiredTiles&&t.setExpiryData({cacheControl:a,expires:s});const i=e.window.ImageBitmap&&n instanceof e.window.ImageBitmap&&(null==Se&&(Se=e.window.OffscreenCanvas&&new e.window.OffscreenCanvas(1,1).getContext(\"2d\")&&\"function\"==typeof e.window.createImageBitmap),Se),o=1-(n.width-e.prevPowerOfTwo(n.width))/2;o<1||t.neighboringTiles||(t.neighboringTiles=this._getNeighboringTiles(t.tileID));const l=i?n:e.exported.getImageData(n,o),c={uid:t.uid,coord:t.tileID,source:this.id,rawImageData:l,encoding:this.encoding,padding:o};t.actor&&\"expired\"!==t.state||(t.actor=this.dispatcher.getActor(),t.actor.send(\"loadDEMTile\",c,r.bind(this),void 0,!0));}}.bind(this));}_getNeighboringTiles(t){const i=t.canonical,o=Math.pow(2,i.z),r=(i.x-1+o)%o,n=0===i.x?t.wrap-1:t.wrap,a=(i.x+1+o)%o,s=i.x+1===o?t.wrap+1:t.wrap,l={};return l[new e.OverscaledTileID(t.overscaledZ,n,i.z,r,i.y).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,s,i.z,a,i.y).key]={backfilled:!1},i.y>0&&(l[new e.OverscaledTileID(t.overscaledZ,n,i.z,r,i.y-1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,t.wrap,i.z,i.x,i.y-1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,s,i.z,a,i.y-1).key]={backfilled:!1}),i.y+1<o&&(l[new e.OverscaledTileID(t.overscaledZ,n,i.z,r,i.y+1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,t.wrap,i.z,i.x,i.y+1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,s,i.z,a,i.y+1).key]={backfilled:!1}),l}unloadTile(e){e.demTexture&&this.map.painter.saveTileTexture(e.demTexture),e.fbo&&(e.fbo.destroy(),delete e.fbo),e.dem&&delete e.dem,delete e.neighboringTiles,e.state=\"unloaded\";}},geojson:class extends e.Evented{constructor(t,i,o,r){super(),this.id=t,this.type=\"geojson\",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._loaded=!1,this.actor=o.getActor(),this.setEventedParent(r),this._data=i.data,this._options=e.extend({},i),this._collectResourceTiming=i.collectResourceTiming,void 0!==i.maxzoom&&(this.maxzoom=i.maxzoom),i.type&&(this.type=i.type),i.attribution&&(this.attribution=i.attribution),this.promoteId=i.promoteId;const n=e.EXTENT/this.tileSize;this.workerOptions=e.extend({source:this.id,cluster:i.cluster||!1,geojsonVtOptions:{buffer:(void 0!==i.buffer?i.buffer:128)*n,tolerance:(void 0!==i.tolerance?i.tolerance:.375)*n,extent:e.EXTENT,maxZoom:this.maxzoom,lineMetrics:i.lineMetrics||!1,generateId:i.generateId||!1},superclusterOptions:{maxZoom:void 0!==i.clusterMaxZoom?i.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,i.clusterMinPoints||2),extent:e.EXTENT,radius:(void 0!==i.clusterRadius?i.clusterRadius:50)*n,log:!1,generateId:i.generateId||!1},clusterProperties:i.clusterProperties,filter:i.filter},i.workerOptions);}onAdd(e){this.map=e,this.setData(this._data);}setData(e){return this._data=e,this._updateWorkerData(),this}getClusterExpansionZoom(e,t){return this.actor.send(\"geojson.getClusterExpansionZoom\",{clusterId:e,source:this.id},t),this}getClusterChildren(e,t){return this.actor.send(\"geojson.getClusterChildren\",{clusterId:e,source:this.id},t),this}getClusterLeaves(e,t,i,o){return this.actor.send(\"geojson.getClusterLeaves\",{source:this.id,clusterId:e,limit:t,offset:i},o),this}_updateWorkerData(){if(this._pendingLoad)return void(this._coalesce=!0);this.fire(new e.Event(\"dataloading\",{dataType:\"source\"})),this._loaded=!1;const t=e.extend({},this.workerOptions),i=this._data;\"string\"==typeof i?(t.request=this.map._requestManager.transformRequest(e.exported.resolveURL(i),e.ResourceType.Source),t.request.collectResourceTiming=this._collectResourceTiming):t.data=JSON.stringify(i),this._pendingLoad=this.actor.send(`${this.type}.loadData`,t,((t,i)=>{if(this._loaded=!0,this._pendingLoad=null,t)this.fire(new e.ErrorEvent(t));else {const t={dataType:\"source\",sourceDataType:this._metadataFired?\"content\":\"metadata\"};this._collectResourceTiming&&i&&i.resourceTiming&&i.resourceTiming[this.id]&&(t.resourceTiming=i.resourceTiming[this.id]),this.fire(new e.Event(\"data\",t)),this._metadataFired=!0;}this._coalesce&&(this._updateWorkerData(),this._coalesce=!1);}));}loaded(){return this._loaded}loadTile(t,i){const o=t.actor?\"reloadTile\":\"loadTile\";t.actor=this.actor,t.request=this.actor.send(o,{type:this.type,uid:t.uid,tileID:t.tileID,tileZoom:t.tileZoom,zoom:t.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:e.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},((e,r)=>(delete t.request,t.unloadVectorData(),t.aborted?i(null):e?i(e):(t.loadVectorData(r,this.map.painter,\"reloadTile\"===o),i(null)))),void 0,\"loadTile\"===o);}abortTile(e){e.request&&(e.request.cancel(),delete e.request),e.aborted=!0;}unloadTile(e){e.unloadVectorData(),this.actor.send(\"removeTile\",{uid:e.uid,type:this.type,source:this.id});}onRemove(){this._pendingLoad&&this._pendingLoad.cancel();}serialize(){return e.extend({},this._options,{type:this.type,data:this._data})}hasTransition(){return !1}},video:class extends De{constructor(e,t,i,o){super(e,t,i,o),this.roundZoom=!0,this.type=\"video\",this.options=t;}load(){this._loaded=!1;const t=this.options;this.urls=[];for(const i of t.urls)this.urls.push(this.map._requestManager.transformRequest(i,e.ResourceType.Source).url);e.getVideo(this.urls,((t,i)=>{this._loaded=!0,t?this.fire(new e.ErrorEvent(t)):i&&(this.video=i,this.video.loop=!0,this.video.setAttribute(\"playsinline\",\"\"),this.video.addEventListener(\"playing\",(()=>{this.map.triggerRepaint();})),this.map&&this.video.play(),this._finishLoading());}));}pause(){this.video&&this.video.pause();}play(){this.video&&this.video.play();}seek(t){if(this.video){const i=this.video.seekable;t<i.start(0)||t>i.end(0)?this.fire(new e.ErrorEvent(new e.ValidationError(`sources.${this.id}`,null,`Playback for this video can be set only between the ${i.start(0)} and ${i.end(0)}-second mark.`))):this.video.currentTime=t;}}getVideo(){return this.video}onAdd(e){this.map||(this.map=e,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)));}prepare(){if(0===Object.keys(this.tiles).length||this.video.readyState<2)return;const t=this.map.painter.context,i=t.gl;this.texture?this.video.paused||(this.texture.bind(i.LINEAR,i.CLAMP_TO_EDGE),i.texSubImage2D(i.TEXTURE_2D,0,0,0,i.RGBA,i.UNSIGNED_BYTE,this.video)):(this.texture=new e.Texture(t,this.video,i.RGBA),this.texture.bind(i.LINEAR,i.CLAMP_TO_EDGE),this.width=this.video.videoWidth,this.height=this.video.videoHeight),this._prepareData(t);}serialize(){return {type:\"video\",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}},image:De,canvas:class extends De{constructor(t,i,o,r){super(t,i,o,r),i.coordinates?Array.isArray(i.coordinates)&&4===i.coordinates.length&&!i.coordinates.some((e=>!Array.isArray(e)||2!==e.length||e.some((e=>\"number\"!=typeof e))))||this.fire(new e.ErrorEvent(new e.ValidationError(`sources.${t}`,null,'\"coordinates\" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new e.ErrorEvent(new e.ValidationError(`sources.${t}`,null,'missing required property \"coordinates\"'))),i.animate&&\"boolean\"!=typeof i.animate&&this.fire(new e.ErrorEvent(new e.ValidationError(`sources.${t}`,null,'optional \"animate\" property must be a boolean value'))),i.canvas?\"string\"==typeof i.canvas||i.canvas instanceof e.window.HTMLCanvasElement||this.fire(new e.ErrorEvent(new e.ValidationError(`sources.${t}`,null,'\"canvas\" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new e.ErrorEvent(new e.ValidationError(`sources.${t}`,null,'missing required property \"canvas\"'))),this.options=i,this.animate=void 0===i.animate||i.animate;}load(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof e.window.HTMLCanvasElement?this.options.canvas:e.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new e.ErrorEvent(new Error(\"Canvas dimensions cannot be less than or equal to zero.\"))):(this.play=function(){this._playing=!0,this.map.triggerRepaint();},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1);},this._finishLoading());}getCanvas(){return this.canvas}onAdd(e){this.map=e,this.load(),this.canvas&&this.animate&&this.play();}onRemove(){this.pause();}prepare(){let t=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,t=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,t=!0),this._hasInvalidDimensions())return;if(0===Object.keys(this.tiles).length)return;const i=this.map.painter.context;this.texture?(t||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new e.Texture(i,this.canvas,i.gl.RGBA,{premultiply:!0}),this._prepareData(i);}serialize(){return {type:\"canvas\",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const e of [this.canvas.width,this.canvas.height])if(isNaN(e)||e<=0)return !0;return !1}},custom:class extends e.Evented{constructor(t,i,o,r){super(),this.id=t,this.type=\"custom\",this._dataType=\"raster\",this._dispatcher=o,this._implementation=i,this.setEventedParent(r),this.scheme=\"xyz\",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this._loaded=!1,this.roundZoom=!0,this._implementation||this.fire(new e.ErrorEvent(new Error(`Missing implementation for ${this.id} custom source`))),this._implementation.loadTile||this.fire(new e.ErrorEvent(new Error(`Missing loadTile implementation for ${this.id} custom source`))),this._implementation.bounds&&(this.tileBounds=new U(this._implementation.bounds,this.minzoom,this.maxzoom)),i.update=this._update.bind(this),i.clearTiles=this._clearTiles.bind(this),i.coveringTiles=this._coveringTiles.bind(this),e.extend(this,e.pick(i,[\"dataType\",\"scheme\",\"minzoom\",\"maxzoom\",\"tileSize\",\"attribution\",\"minTileCacheSize\",\"maxTileCacheSize\"]));}serialize(){return e.pick(this,[\"type\",\"scheme\",\"minzoom\",\"maxzoom\",\"tileSize\",\"attribution\"])}load(){this._loaded=!0,this.fire(new e.Event(\"data\",{dataType:\"source\",sourceDataType:\"metadata\"})),this.fire(new e.Event(\"data\",{dataType:\"source\",sourceDataType:\"content\"}));}loaded(){return this._loaded}onAdd(t){this._map=t,this._loaded=!1,this.fire(new e.Event(\"dataloading\",{dataType:\"source\"})),this._implementation.onAdd&&this._implementation.onAdd(t),this.load();}onRemove(e){this._implementation.onRemove&&this._implementation.onRemove(e);}hasTile(e){if(this._implementation.hasTile){const{x:t,y:i,z:o}=e.canonical;return this._implementation.hasTile({x:t,y:i,z:o})}return !this.tileBounds||this.tileBounds.contains(e.canonical)}loadTile(t,i){const{x:o,y:r,z:n}=t.tileID.canonical,a=new e.window.AbortController;t.request=Promise.resolve(this._implementation.loadTile({x:o,y:r,z:n},{signal:a.signal})).then(function(o){return delete t.request,t.aborted?(t.state=\"unloaded\",i(null)):void 0===o?(t.state=\"errored\",i(null)):null===o?(this.loadTileData(t,{width:this.tileSize,height:this.tileSize,data:null}),t.state=\"loaded\",i(null)):function(t){return t instanceof e.window.ImageData||t instanceof e.window.HTMLCanvasElement||t instanceof e.window.ImageBitmap||t instanceof e.window.HTMLImageElement}(o)?(this.loadTileData(t,o),t.state=\"loaded\",void i(null)):(t.state=\"errored\",i(new Error(`Can't infer data type for ${this.id}, only raster data supported at the moment`)))}.bind(this)).catch((e=>{20!==e.code&&(t.state=\"errored\",i(e));})),t.request.cancel=()=>a.abort();}loadTileData(e,t){Me.loadTileData(e,t,this._map.painter);}unloadTileData(e){Me.unloadTileData(e,this._map.painter);}unloadTile(e,t){if(this.unloadTileData(e),this._implementation.unloadTile){const{x:t,y:i,z:o}=e.tileID.canonical;this._implementation.unloadTile({x:t,y:i,z:o});}t();}abortTile(e,t){e.request&&e.request.cancel&&(e.request.cancel(),delete e.request),t();}hasTransition(){return !1}_coveringTiles(){return this._map.transform.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,roundZoom:this.roundZoom}).map((e=>({x:e.canonical.x,y:e.canonical.y,z:e.canonical.z})))}_clearTiles(){this._map.style._clearSource(this.id);}_update(){this.fire(new e.Event(\"data\",{dataType:\"source\",sourceDataType:\"content\"}));}}},Pe=function(t,i,o,r){const n=new Ae[i.type](t,i,o,r);if(n.id!==t)throw new Error(`Expected Source id to be ${t} instead of ${n.id}`);return e.bindAll([\"load\",\"abort\",\"unload\",\"serialize\",\"prepare\"],n),n};function Le(t,i){const o=e.identity([]);return e.scale(o,o,[.5*t.width,.5*-t.height,1]),e.translate(o,o,[1,-1,0]),e.multiply(o,o,t.calculateProjMatrix(i.toUnwrapped())),Float32Array.from(o)}function Re(e,t,i,o,r,n,a,s=!1){const l=e.tilesIn(o,a,s);l.sort(Be);const c=[];for(const o of l)c.push({wrappedTileID:o.tile.tileID.wrapped().key,queryResults:o.tile.queryRenderedFeatures(t,i,e._state,o,r,n,Le(e.transform,o.tile.tileID),s)});const h=function(e){const t={},i={};for(const o of e){const e=o.queryResults,r=o.wrappedTileID,n=i[r]=i[r]||{};for(const i in e){const o=e[i],r=n[i]=n[i]||{},a=t[i]=t[i]||[];for(const e of o)r[e.featureIndex]||(r[e.featureIndex]=!0,a.push(e));}}return t}(c);for(const t in h)h[t].forEach((t=>{const i=t.feature,o=i.layer;o&&\"background\"!==o.type&&\"sky\"!==o.type&&(i.source=o.source,o[\"source-layer\"]&&(i.sourceLayer=o[\"source-layer\"]),i.state=void 0!==i.id?e.getFeatureState(o[\"source-layer\"],i.id):{});}));return h}function Oe(e,t){const i=e.getRenderableIds().map((t=>e.getTileByID(t))),o=[],r={};for(let e=0;e<i.length;e++){const n=i[e],a=n.tileID.canonical.key;r[a]||(r[a]=!0,n.querySourceFeatures(o,t));}return o}function Be(e,t){const i=e.tileID,o=t.tileID;return i.overscaledZ-o.overscaledZ||i.canonical.y-o.canonical.y||i.wrap-o.wrap||i.canonical.x-o.canonical.x}function ke(){return null!=gn.workerClass?new gn.workerClass:new e.window.Worker(gn.workerUrl)}const Fe=\"mapboxgl_preloaded_worker_pool\";class Ue{constructor(){this.active={};}acquire(e){if(!this.workers)for(this.workers=[];this.workers.length<Ue.workerCount;)this.workers.push(new ke);return this.active[e]=!0,this.workers.slice()}release(e){delete this.active[e],0===this.numActive()&&(this.workers.forEach((e=>{e.terminate();})),this.workers=null);}isPreloaded(){return !!this.active[Fe]}numActive(){return Object.keys(this.active).length}}let Ne;function Ge(){return Ne||(Ne=new Ue),Ne}function je(t,i){const o={};for(const e in t)\"ref\"!==e&&(o[e]=t[e]);return e.refProperties.forEach((e=>{e in i&&(o[e]=i[e]);})),o}function Ze(e){e=e.slice();const t=Object.create(null);for(let i=0;i<e.length;i++)t[e[i].id]=e[i];for(let i=0;i<e.length;i++)\"ref\"in e[i]&&(e[i]=je(e[i],t[e[i].ref]));return e}Ue.workerCount=2;const Ve={setStyle:\"setStyle\",addLayer:\"addLayer\",removeLayer:\"removeLayer\",setPaintProperty:\"setPaintProperty\",setLayoutProperty:\"setLayoutProperty\",setFilter:\"setFilter\",addSource:\"addSource\",removeSource:\"removeSource\",setGeoJSONSourceData:\"setGeoJSONSourceData\",setLayerZoomRange:\"setLayerZoomRange\",setLayerProperty:\"setLayerProperty\",setCenter:\"setCenter\",setZoom:\"setZoom\",setBearing:\"setBearing\",setPitch:\"setPitch\",setSprite:\"setSprite\",setGlyphs:\"setGlyphs\",setTransition:\"setTransition\",setLight:\"setLight\",setTerrain:\"setTerrain\",setFog:\"setFog\",setProjection:\"setProjection\"};function We(e,t,i){i.push({command:Ve.addSource,args:[e,t[e]]});}function Xe(e,t,i){t.push({command:Ve.removeSource,args:[e]}),i[e]=!0;}function qe(e,t,i,o){Xe(e,i,o),We(e,t,i);}function $e(e,i,o){let r;for(r in e[o])if(e[o].hasOwnProperty(r)&&\"data\"!==r&&!t(e[o][r],i[o][r]))return !1;for(r in i[o])if(i[o].hasOwnProperty(r)&&\"data\"!==r&&!t(e[o][r],i[o][r]))return !1;return !0}function He(e,i,o,r,n,a){let s;for(s in i=i||{},e=e||{})e.hasOwnProperty(s)&&(t(e[s],i[s])||o.push({command:a,args:[r,s,i[s],n]}));for(s in i)i.hasOwnProperty(s)&&!e.hasOwnProperty(s)&&(t(e[s],i[s])||o.push({command:a,args:[r,s,i[s],n]}));}function Ye(e){return e.id}function Ke(e,t){return e[t.id]=t,e}class Je{constructor(e,t){this.reset(e,t);}reset(e,t){this.points=e||[],this._distances=[0];for(let e=1;e<this.points.length;e++)this._distances[e]=this._distances[e-1]+this.points[e].dist(this.points[e-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(t||0,.5*this.length),this.paddedLength=this.length-2*this.padding;}lerp(t){if(1===this.points.length)return this.points[0];t=e.clamp(t,0,1);let i=1,o=this._distances[i];const r=t*this.paddedLength+this.padding;for(;o<r&&i<this._distances.length;)o=this._distances[++i];const n=i-1,a=this._distances[n],s=o-a,l=s>0?(r-a)/s:0;return this.points[n].mult(1-l).add(this.points[i].mult(l))}}class Qe{constructor(e,t,i){const o=this.boxCells=[],r=this.circleCells=[];this.xCellCount=Math.ceil(e/i),this.yCellCount=Math.ceil(t/i);for(let e=0;e<this.xCellCount*this.yCellCount;e++)o.push([]),r.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=e,this.height=t,this.xScale=this.xCellCount/e,this.yScale=this.yCellCount/t,this.boxUid=0,this.circleUid=0;}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(e,t,i,o,r){this._forEachCell(t,i,o,r,this._insertBoxCell,this.boxUid++),this.boxKeys.push(e),this.bboxes.push(t),this.bboxes.push(i),this.bboxes.push(o),this.bboxes.push(r);}insertCircle(e,t,i,o){this._forEachCell(t-o,i-o,t+o,i+o,this._insertCircleCell,this.circleUid++),this.circleKeys.push(e),this.circles.push(t),this.circles.push(i),this.circles.push(o);}_insertBoxCell(e,t,i,o,r,n){this.boxCells[r].push(n);}_insertCircleCell(e,t,i,o,r,n){this.circleCells[r].push(n);}_query(e,t,i,o,r,n){if(i<0||e>this.width||o<0||t>this.height)return !r&&[];const a=[];if(e<=0&&t<=0&&this.width<=i&&this.height<=o){if(r)return !0;for(let e=0;e<this.boxKeys.length;e++)a.push({key:this.boxKeys[e],x1:this.bboxes[4*e],y1:this.bboxes[4*e+1],x2:this.bboxes[4*e+2],y2:this.bboxes[4*e+3]});for(let e=0;e<this.circleKeys.length;e++){const t=this.circles[3*e],i=this.circles[3*e+1],o=this.circles[3*e+2];a.push({key:this.circleKeys[e],x1:t-o,y1:i-o,x2:t+o,y2:i+o});}return n?a.filter(n):a}return this._forEachCell(e,t,i,o,this._queryCell,a,{hitTest:r,seenUids:{box:{},circle:{}}},n),r?a.length>0:a}_queryCircle(e,t,i,o,r){const n=e-i,a=e+i,s=t-i,l=t+i;if(a<0||n>this.width||l<0||s>this.height)return !o&&[];const c=[];return this._forEachCell(n,s,a,l,this._queryCellCircle,c,{hitTest:o,circle:{x:e,y:t,radius:i},seenUids:{box:{},circle:{}}},r),o?c.length>0:c}query(e,t,i,o,r){return this._query(e,t,i,o,!1,r)}hitTest(e,t,i,o,r){return this._query(e,t,i,o,!0,r)}hitTestCircle(e,t,i,o){return this._queryCircle(e,t,i,!0,o)}_queryCell(e,t,i,o,r,n,a,s){const l=a.seenUids,c=this.boxCells[r];if(null!==c){const r=this.bboxes;for(const h of c)if(!l.box[h]){l.box[h]=!0;const c=4*h;if(e<=r[c+2]&&t<=r[c+3]&&i>=r[c+0]&&o>=r[c+1]&&(!s||s(this.boxKeys[h]))){if(a.hitTest)return n.push(!0),!0;n.push({key:this.boxKeys[h],x1:r[c],y1:r[c+1],x2:r[c+2],y2:r[c+3]});}}}const h=this.circleCells[r];if(null!==h){const r=this.circles;for(const c of h)if(!l.circle[c]){l.circle[c]=!0;const h=3*c;if(this._circleAndRectCollide(r[h],r[h+1],r[h+2],e,t,i,o)&&(!s||s(this.circleKeys[c]))){if(a.hitTest)return n.push(!0),!0;{const e=r[h],t=r[h+1],i=r[h+2];n.push({key:this.circleKeys[c],x1:e-i,y1:t-i,x2:e+i,y2:t+i});}}}}}_queryCellCircle(e,t,i,o,r,n,a,s){const l=a.circle,c=a.seenUids,h=this.boxCells[r];if(null!==h){const e=this.bboxes;for(const t of h)if(!c.box[t]){c.box[t]=!0;const i=4*t;if(this._circleAndRectCollide(l.x,l.y,l.radius,e[i+0],e[i+1],e[i+2],e[i+3])&&(!s||s(this.boxKeys[t])))return n.push(!0),!0}}const _=this.circleCells[r];if(null!==_){const e=this.circles;for(const t of _)if(!c.circle[t]){c.circle[t]=!0;const i=3*t;if(this._circlesCollide(e[i],e[i+1],e[i+2],l.x,l.y,l.radius)&&(!s||s(this.circleKeys[t])))return n.push(!0),!0}}}_forEachCell(e,t,i,o,r,n,a,s){const l=this._convertToXCellCoord(e),c=this._convertToYCellCoord(t),h=this._convertToXCellCoord(i),_=this._convertToYCellCoord(o);for(let u=l;u<=h;u++)for(let l=c;l<=_;l++)if(r.call(this,e,t,i,o,this.xCellCount*l+u,n,a,s))return}_convertToXCellCoord(e){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(e*this.xScale)))}_convertToYCellCoord(e){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(e*this.yScale)))}_circlesCollide(e,t,i,o,r,n){const a=o-e,s=r-t,l=i+n;return l*l>a*a+s*s}_circleAndRectCollide(e,t,i,o,r,n,a){const s=(n-o)/2,l=Math.abs(e-(o+s));if(l>s+i)return !1;const c=(a-r)/2,h=Math.abs(t-(r+c));if(h>c+i)return !1;if(l<=s||h<=c)return !0;const _=l-s,u=h-c;return _*_+u*u<=i*i}}const et=Math.tan(85*Math.PI/180);function tt(t,i,o,r,n,a,s){const l=e.create();if(o)if(\"globe\"===a.name){const t=e.calculateGlobeLabelMatrix(n,i);e.multiply(l,l,t);}else {const t=v([],s);l[0]=t[0],l[1]=t[1],l[4]=t[2],l[5]=t[3],r||e.rotateZ(l,l,n.angle);}else e.multiply(l,n.labelPlaneMatrix,t);return l}function it(e,t,i,o,r,n,a){const s=tt(e,t,i,o,r,n,a);return \"globe\"===n.name&&i||(s[2]=s[6]=s[10]=s[14]=0),s}function ot(t,i,o,r,n,a,s){if(o){if(\"globe\"===a.name){const l=tt(t,i,o,r,n,a,s);return e.invert(l,l),e.multiply(l,t,l),l}{const i=e.clone(t),o=e.identity([]);return o[0]=s[0],o[1]=s[1],o[4]=s[2],o[5]=s[3],e.multiply(i,i,o),r||e.rotateZ(i,i,-n.angle),i}}return n.glCoordMatrix}function rt(t,i,o=0){const r=[t.x,t.y,o,1];o?e.transformMat4$1(r,r,i):gt(r,r,i);const n=r[3];return {point:[r[0]/n,r[1]/n,r[2]/n],signedDistanceFromCamera:n}}function nt(t,i){const o=[t[0],t[1],t[2],1];e.transformMat4$1(o,o,i);const r=o[3];return {point:[o[0]/r,o[1]/r,o[2]/r],signedDistanceFromCamera:r}}function at(e,t){return Math.min(.5+e/t*.5,1.5)}function st(e,t){const i=e[0]/e[3],o=e[1]/e[3];return i>=-t[0]&&i<=t[0]&&o>=-t[1]&&o<=t[1]}function lt(t,i,o,r,n,a,s,l,c,h){const _=o.transform,u=r?t.textSizeData:t.iconSizeData,d=e.evaluateSizeForZoom(u,o.transform.zoom),p=\"globe\"===_.projection.name,m=[256/o.width*2+1,256/o.height*2+1],f=r?t.text.dynamicLayoutVertexArray:t.icon.dynamicLayoutVertexArray;f.clear();let g=null;p&&(g=r?t.text.globeExtVertexArray:t.icon.globeExtVertexArray);const v=t.lineVertexArray,x=r?t.text.placedSymbolArray:t.icon.placedSymbolArray,y=o.transform.width/o.transform.height;let b=!1;for(let r=0;r<x.length;r++){const p=x.get(r);if(p.writingMode!==e.WritingMode.vertical||b||0!==r&&x.get(r-1).writingMode===e.WritingMode.horizontal||(b=!0),(p.hidden||p.writingMode===e.WritingMode.vertical)&&!b){ft(p.numGlyphs,f);continue}b=!1;const w=new e.pointGeometry(p.tileAnchorX,p.tileAnchorY),T=c?c(w):[0,0,0],E=_.projection.projectTilePoint(w.x,w.y,h.canonical),C=[E.x+T[0],E.y+T[1],E.z+T[2]],I=[...C,1];if(e.transformMat4$1(I,I,i),!st(I,m)){ft(p.numGlyphs,f);continue}const M=at(o.transform.cameraToCenterDistance,I[3]),S=e.evaluateSizeForFeature(u,d,p),z=s?S/M:S*M,D=rt(new e.pointGeometry(C[0],C[1]),n,C[2]);if(D.signedDistanceFromCamera<=0){ft(p.numGlyphs,f);continue}let A={};const P=s?null:c,L=_t(p,z,!1,l,i,n,a,t.glyphOffsetArray,v,f,g,D.point,w,A,y,P,_.projection,h,s);b=L.useVertical,P&&L.needsFlipping&&(A={}),(L.notEnoughRoom||b||L.needsFlipping&&_t(p,z,!0,l,i,n,a,t.glyphOffsetArray,v,f,g,D.point,w,A,y,P,_.projection,h,s).notEnoughRoom)&&ft(p.numGlyphs,f);}r?(t.text.dynamicLayoutVertexBuffer.updateData(f),g&&t.text.globeExtVertexBuffer.updateData(g)):(t.icon.dynamicLayoutVertexBuffer.updateData(f),g&&t.icon.globeExtVertexBuffer.updateData(g));}function ct(e,t,i,o,r,n,a,s,l,c,h,_,u,d,p,m){const f=s.glyphStartIndex+s.numGlyphs,g=s.lineStartIndex,v=s.lineStartIndex+s.lineLength,x=t.getoffsetX(s.glyphStartIndex),y=t.getoffsetX(f-1),b=pt(e*x,i,o,r,n,a,s.segment,g,v,l,c,h,_,u,!0,d,p,m);if(!b)return null;const w=pt(e*y,i,o,r,n,a,s.segment,g,v,l,c,h,_,u,!0,d,p,m);return w?{first:b,last:w}:null}function ht(t,i,o,r){return t.writingMode===e.WritingMode.horizontal&&Math.abs(o.y-i.y)>Math.abs(o.x-i.x)*r?{useVertical:!0}:t.writingMode===e.WritingMode.vertical?i.y<o.y?{needsFlipping:!0}:null:0!==t.flipState&&function(e,t,i){const o=(t.x-e.x)*i;return 0===o||Math.abs((t.y-e.y)/o)>et}(i,o,r)?1===t.flipState?{needsFlipping:!0}:null:i.x>o.x?{needsFlipping:!0}:null}function _t(t,i,o,r,n,a,s,l,c,h,_,u,d,p,m,f,g,v,x){const y=i/24,b=t.lineOffsetX*y,w=t.lineOffsetY*y;let T=[];if(t.numGlyphs>1){const i=t.glyphStartIndex+t.numGlyphs,n=t.lineStartIndex,h=t.lineStartIndex+t.lineLength,_=ct(y,l,b,w,o,u,d,t,c,a,p,f,!1,g,v,x);if(!_)return {notEnoughRoom:!0};const E=nt(_.first.point,s).point,C=nt(_.last.point,s).point,I=new e.pointGeometry(E[0],E[1]),M=new e.pointGeometry(C[0],C[1]);if(r&&!o){const e=ht(t,I,M,m);if(t.flipState=e&&e.needsFlipping?1:2,e)return e}T=[_.first];for(let e=t.glyphStartIndex+1;e<i-1;e++){const i=pt(y*l.getoffsetX(e),b,w,o,u,d,t.segment,n,h,c,a,p,f,!1,!1,g,v,x);if(!i)return {notEnoughRoom:!0};T.push(i);}T.push(_.last);}else {if(r&&!o){const i=rt(d,n).point,o=t.lineStartIndex+t.segment+1,r=new e.pointGeometry(c.getx(o),c.gety(o)),a=rt(r,n),s=a.signedDistanceFromCamera>0?a.point:dt(d,r,i,1,n,void 0,g,v.canonical),l=ht(t,new e.pointGeometry(i[0],i[1]),new e.pointGeometry(s[0],s[1]),m);if(t.flipState=l&&l.needsFlipping?1:2,l)return l}const i=pt(y*l.getoffsetX(t.glyphStartIndex),b,w,o,u,d,t.segment,t.lineStartIndex,t.lineStartIndex+t.lineLength,c,a,p,f,!1,!1,g,v,x);if(!i)return {notEnoughRoom:!0};T=[i];}if(_)for(const t of T)e.updateGlobeVertexNormal(_,h.length+0,t.up[0],t.up[1],t.up[2]),e.updateGlobeVertexNormal(_,h.length+1,t.up[0],t.up[1],t.up[2]),e.updateGlobeVertexNormal(_,h.length+2,t.up[0],t.up[1],t.up[2]),e.updateGlobeVertexNormal(_,h.length+3,t.up[0],t.up[1],t.up[2]),e.addDynamicAttributes(h,t.point[0],t.point[1],t.point[2],t.angle);else for(const t of T)e.addDynamicAttributes(h,t.point[0],t.point[1],t.point[2],t.angle);return {}}function ut(t,i,o,r,n){const a=r.projectTilePoint(t.x,t.y,i);if(!n)return rt(a,o,a.z);const s=n(t);return rt(new e.pointGeometry(a.x+s[0],a.y+s[1]),o,a.z+s[2])}function dt(t,i,o,r,n,a,s,l){const c=ut(t.add(t.sub(i)._unit()),l,n,s,a).point,h=e.sub([],o,c);return e.scaleAndAdd([],o,h,r/e.length(h))}function pt(t,i,o,r,n,a,s,l,c,h,_,u,d,p,m,f,g,v){const x=r?t-i:t+i;let y=x>0?1:-1,b=0;r&&(y*=-1,b=Math.PI),y<0&&(b+=Math.PI);let w=y>0?l+s:l+s+1,T=n,E=n,C=0,I=0;const M=Math.abs(x),S=[],z=[];let D=a;const A=()=>{const t=w-y;return 0===C?a:new e.pointGeometry(h.getx(t),h.gety(t))},P=()=>{const e=A();return dt(e,D||e,E,M-C+1,_,d,f,g.canonical)};for(;C+I<=M;){if(w+=y,w<l||w>=c)return null;if(E=T,S.push(T),p&&z.push(D||A()),T=u[w],void 0===T){D=new e.pointGeometry(h.getx(w),h.gety(w));const t=ut(D,g.canonical,_,f,d);T=t.signedDistanceFromCamera>0?u[w]=t.point:P();}else D=null;C+=I,I=e.distance(E,T);}D=D||new e.pointGeometry(h.getx(w),h.gety(w));const L=A();m&&d&&(u[w]=T=void 0===u[w]?T:P(),I=e.distance(E,T));const R=(M-C)/I,O=D.sub(L).mult(R)._add(L),B=e.sub([],T,E),k=e.scaleAndAdd([],E,B,R);let F=[0,0,1],U=B[0],N=B[1];if(v&&(F=f.upVector(g.canonical,O.x,O.y),0!==F[0]||0!==F[1]||1!==F[2])){const t=[1,0,0],i=[0,1,0];t[0]=F[2],t[1]=0,t[2]=-F[0],e.cross(i,F,t),e.normalize(t,t),e.normalize(i,i),U=e.dot(B,t),N=e.dot(B,i);}if(o){const t=e.cross([],F,B);e.normalize(t,t),e.scaleAndAdd(k,k,t,o*y);}const G=b+Math.atan2(N,U);return S.push(k),p&&z.push(O),{point:k,angle:G,path:S,tilePath:z,up:F}}const mt=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function ft(e,t){for(let i=0;i<e;i++){const e=t.length;t.resize(e+4),t.float32.set(mt,4*e);}}function gt(e,t,i){const o=t[0],r=t[1];return e[0]=i[0]*o+i[4]*r+i[12],e[1]=i[1]*o+i[5]*r+i[13],e[3]=i[3]*o+i[7]*r+i[15],e}const vt=100;class xt{constructor(e,t,i=new Qe(e.width+200,e.height+200,25),o=new Qe(e.width+200,e.height+200,25)){this.transform=e,this.grid=i,this.ignoredGrid=o,this.pitchfactor=Math.cos(e._pitch)*e.cameraToCenterDistance,this.screenRightBoundary=e.width+vt,this.screenBottomBoundary=e.height+vt,this.gridRightBoundary=e.width+200,this.gridBottomBoundary=e.height+200,this.fogState=t;}placeCollisionBox(e,t,i,o,r,n,a,s){let l=i.projectedAnchorX,c=i.projectedAnchorY,h=i.projectedAnchorZ;const _=i.elevation,u=i.tileID;if(_&&u){const t=e.getProjection().upVector(u.canonical,i.tileAnchorX,i.tileAnchorY),o=e.getProjection().upVectorScale(u.canonical,this.transform.center.lat,this.transform.worldSize).metersToTile;l+=t[0]*_*o,c+=t[1]*_*o,h+=t[2]*_*o;}const d=this.projectAndGetPerspectiveRatio(a,[l,c,h],i.tileID,\"globe\"===e.projection.name||!!_||this.transform.pitch>0,e.getProjection()),p=n*d.perspectiveRatio,m=(i.x1*t+o.x-i.padding)*p+d.point.x,f=(i.y1*t+o.y-i.padding)*p+d.point.y,g=(i.x2*t+o.x+i.padding)*p+d.point.x,v=(i.y2*t+o.y+i.padding)*p+d.point.y,x=d.perspectiveRatio<=.55||d.occluded;return !this.isInsideGrid(m,f,g,v)||!r&&this.grid.hitTest(m,f,g,v,s)||x?{box:[],offscreen:!1,occluded:d.occluded}:{box:[m,f,g,v],offscreen:this.isOffscreen(m,f,g,v),occluded:!1}}placeCollisionCircles(t,i,o,r,n,a,s,l,c,h,_,u,d,p,m){const f=[],g=this.transform.elevation,v=g?g.getAtTileOffsetFunc(m,this.transform.center.lat,this.transform.worldSize,t.getProjection()):e=>[0,0,0],x=new e.pointGeometry(o.tileAnchorX,o.tileAnchorY),y=t.getProjection().projectTilePoint(o.tileAnchorX,o.tileAnchorY,m.canonical),b=v(x),w=[y.x+b[0],y.y+b[1],y.z+b[2]],T=\"globe\"===t.projection.name,E=this.projectAndGetPerspectiveRatio(s,[w[0],w[1],w[2]],m,T||!!g||this.transform.pitch>0,t.getProjection()),{perspectiveRatio:C}=E,I=(_?a/C:a*C)/e.ONE_EM,M=rt(new e.pointGeometry(w[0],w[1]),l,w[2]).point,S=E.signedDistanceFromCamera>0?ct(I,n,o.lineOffsetX*I,o.lineOffsetY*I,!1,M,x,o,r,l,{},g&&!_?v:null,_&&!!g,t.getProjection(),m,_):null;let z=!1,D=!1,A=!0;if(S&&!E.occluded){const t=.5*d*C+p,o=new e.pointGeometry(-100,-100),r=new e.pointGeometry(this.screenRightBoundary,this.screenBottomBoundary),n=new Je,a=S.first,s=S.last;let l=[];for(let e=a.path.length-1;e>=1;e--)l.push(a.path[e]);for(let e=1;e<s.path.length;e++)l.push(s.path[e]);const _=2.5*t;if(c){const e=l.map(g&&!T?(e,t)=>{const i=v(t<a.path.length-1?a.tilePath[a.path.length-1-t]:s.tilePath[t-a.path.length+2]);return e[2]=i[2],nt(e,c)}:e=>nt(e,c));l=e.some((e=>e.signedDistanceFromCamera<=0))?[]:e.map((e=>e.point));}let m=[];if(l.length>0){const t=l.map((t=>new e.pointGeometry(t[0],t[1])));let i=1/0,n=-1/0,a=1/0,s=-1/0;for(let e=0;e<t.length;e++)i=Math.min(i,t[e].x),a=Math.min(a,t[e].y),n=Math.max(n,t[e].x),s=Math.max(s,t[e].y);m=i>=o.x&&n<=r.x&&a>=o.y&&s<=r.y?[t]:n<o.x||i>r.x||s<o.y||a>r.y?[]:e.clipLine([t],o.x,o.y,r.x,r.y);}for(const e of m){n.reset(e,.25*t);let o=0;o=n.length<=.5*t?1:Math.ceil(n.paddedLength/_)+1;for(let e=0;e<o;e++){const r=e/Math.max(o-1,1),a=n.lerp(r),s=a.x+vt,l=a.y+vt;f.push(s,l,t,0);const c=s-t,_=l-t,d=s+t,p=l+t;if(A=A&&this.isOffscreen(c,_,d,p),D=D||this.isInsideGrid(c,_,d,p),!i&&this.grid.hitTestCircle(s,l,t,u)&&(z=!0,!h))return {circles:[],offscreen:!1,collisionDetected:z,occluded:!1}}}}return {circles:!h&&z||!D?[]:f,offscreen:A,collisionDetected:z,occluded:E.occluded}}queryRenderedSymbols(t){if(0===t.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return {};const i=[];let o=1/0,r=1/0,n=-1/0,a=-1/0;for(const s of t){const t=new e.pointGeometry(s.x+vt,s.y+vt);o=Math.min(o,t.x),r=Math.min(r,t.y),n=Math.max(n,t.x),a=Math.max(a,t.y),i.push(t);}const s=this.grid.query(o,r,n,a).concat(this.ignoredGrid.query(o,r,n,a)),l={},c={};for(const t of s){const o=t.key;if(void 0===l[o.bucketInstanceId]&&(l[o.bucketInstanceId]={}),l[o.bucketInstanceId][o.featureIndex])continue;const r=[new e.pointGeometry(t.x1,t.y1),new e.pointGeometry(t.x2,t.y1),new e.pointGeometry(t.x2,t.y2),new e.pointGeometry(t.x1,t.y2)];e.polygonIntersectsPolygon(i,r)&&(l[o.bucketInstanceId][o.featureIndex]=!0,void 0===c[o.bucketInstanceId]&&(c[o.bucketInstanceId]=[]),c[o.bucketInstanceId].push(o.featureIndex));}return c}insertCollisionBox(e,t,i,o,r){(t?this.ignoredGrid:this.grid).insert({bucketInstanceId:i,featureIndex:o,collisionGroupID:r},e[0],e[1],e[2],e[3]);}insertCollisionCircles(e,t,i,o,r){const n=t?this.ignoredGrid:this.grid,a={bucketInstanceId:i,featureIndex:o,collisionGroupID:r};for(let t=0;t<e.length;t+=4)n.insertCircle(a,e[t],e[t+1],e[t+2]);}projectAndGetPerspectiveRatio(t,i,o,r,n){const a=[i[0],i[1],i[2],1];let s=!1;if(i[2]||this.transform.pitch>0){e.transformMat4$1(a,a,t);const r=\"globe\"===n.name;this.fogState&&o&&!r&&(s=function(t,i,o,r,n,a){const s=a.calculateFogTileMatrix(n),l=[i,o,r];return e.transformMat4(l,l,s),M(t,l,a.pitch,a._fov)}(this.fogState,i[0],i[1],i[2],o.toUnwrapped(),this.transform)>.9);}else gt(a,a,t);return {point:new e.pointGeometry((a[0]/a[3]+1)/2*this.transform.width+vt,(-a[1]/a[3]+1)/2*this.transform.height+vt),perspectiveRatio:Math.min(.5+this.transform.getCameraToCenterDistance(n)/a[3]*.5,1.5),signedDistanceFromCamera:a[3],occluded:r&&a[2]>a[3]||s}}isOffscreen(e,t,i,o){return i<vt||e>=this.screenRightBoundary||o<vt||t>this.screenBottomBoundary}isInsideGrid(e,t,i,o){return i>=0&&e<this.gridRightBoundary&&o>=0&&t<this.gridBottomBoundary}getViewportMatrix(){const t=e.identity([]);return e.translate(t,t,[-100,-100,0]),t}}function yt(t,i,o){const r=i.createTileMatrix(t,t.worldSize,o.toUnwrapped());return e.multiply(new Float32Array(16),t.projMatrix,r)}function bt(e,t,i){if(t.projection.name===i.projection.name)return e.projMatrix;const o=i.clone();return o.setProjection(t.projection),yt(o,t.getProjection(),e)}function wt(e,t,i){return t.name===i.projection.name?e.projMatrix:yt(i,t,e)}class Tt{constructor(e,t,i,o){this.opacity=e?Math.max(0,Math.min(1,e.opacity+(e.placed?t:-t))):o&&i?1:0,this.placed=i;}isHidden(){return 0===this.opacity&&!this.placed}}class Et{constructor(e,t,i,o,r,n=!1){this.text=new Tt(e?e.text:null,t,i,r),this.icon=new Tt(e?e.icon:null,t,o,r),this.clipped=n;}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class Ct{constructor(e,t,i,o=!1){this.text=e,this.icon=t,this.skipFade=i,this.clipped=o;}}class It{constructor(){this.invProjMatrix=e.create(),this.viewportMatrix=e.create(),this.circles=[];}}class Mt{constructor(e,t,i,o,r){this.bucketInstanceId=e,this.featureIndex=t,this.sourceLayerIndex=i,this.bucketIndex=o,this.tileID=r;}}class St{constructor(e){this.crossSourceCollisions=e,this.maxGroupID=0,this.collisionGroups={};}get(e){if(this.crossSourceCollisions)return {ID:0,predicate:null};if(!this.collisionGroups[e]){const t=++this.maxGroupID;this.collisionGroups[e]={ID:t,predicate:e=>e.collisionGroupID===t};}return this.collisionGroups[e]}}function zt(t,i,o,r,n){const{horizontalAlign:a,verticalAlign:s}=e.getAnchorAlignment(t),l=-(a-.5)*i,c=-(s-.5)*o,h=e.evaluateVariableOffset(t,r);return new e.pointGeometry(l+h[0]*n,c+h[1]*n)}function Dt(t,i,o,r,n){const a=new e.pointGeometry(t,i);return o&&a._rotate(r?n:-n),a}class At{constructor(e,t,i,o,r){this.transform=e.clone(),this.projection=e.projection.name,this.collisionIndex=new xt(this.transform,r),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=t,this.retainedQueryData={},this.collisionGroups=new St(i),this.collisionCircleArrays={},this.prevPlacement=o,o&&(o.prevPlacement=void 0),this.placedOrientations={};}getBucketParts(t,i,o,r){const n=o.getBucket(i),a=o.latestFeatureIndex;if(!n||!a||i.id!==n.layerIds[0])return;const s=n.layers[0].layout,l=o.collisionBoxArray,c=Math.pow(2,this.transform.zoom-o.tileID.overscaledZ),h=o.tileSize/e.EXTENT,_=o.tileID.toUnwrapped();this.transform.setProjection(n.projection);const u=(d=o.tileID,p=n.getProjection(),m=this.transform,p.name===this.projection?m.calculateProjMatrix(d.toUnwrapped()):yt(m,p,d));var d,p,m;const f=\"map\"===s.get(\"text-pitch-alignment\"),g=\"map\"===s.get(\"text-rotation-alignment\");i.compileFilter();const v=i.dynamicFilter(),x=i.dynamicFilterNeedsFeature(),y=this.transform.calculatePixelsToTileUnitsMatrix(o),b=it(u,o.tileID.canonical,f,g,this.transform,n.getProjection(),y);let w=null;if(f){const t=ot(u,o.tileID.canonical,f,g,this.transform,n.getProjection(),y);w=e.multiply([],this.transform.labelPlaneMatrix,t);}let T=null;v&&o.latestFeatureIndex&&(T={unwrappedTileID:_,dynamicFilter:v,dynamicFilterNeedsFeature:x,featureIndex:o.latestFeatureIndex}),this.retainedQueryData[n.bucketInstanceId]=new Mt(n.bucketInstanceId,a,n.sourceLayerIndex,n.index,o.tileID);const E={bucket:n,layout:s,posMatrix:u,textLabelPlaneMatrix:b,labelToScreenMatrix:w,clippingData:T,scale:c,textPixelRatio:h,holdingForFade:o.holdingForFade(),collisionBoxArray:l,partiallyEvaluatedTextSize:e.evaluateSizeForZoom(n.textSizeData,this.transform.zoom),partiallyEvaluatedIconSize:e.evaluateSizeForZoom(n.iconSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(n.sourceID)};if(r)for(const e of n.sortKeyRanges){const{sortKey:i,symbolInstanceStart:o,symbolInstanceEnd:r}=e;t.push({sortKey:i,symbolInstanceStart:o,symbolInstanceEnd:r,parameters:E});}else t.push({symbolInstanceStart:0,symbolInstanceEnd:n.symbolInstances.length,parameters:E});}attemptAnchorPlacement(e,t,i,o,r,n,a,s,l,c,h,_,u,d,p,m,f,g){const v=[_.textOffset0,_.textOffset1],x=zt(e,i,o,v,r),y=this.collisionIndex.placeCollisionBox(d,r,t,Dt(x.x,x.y,n,a,this.transform.angle),h,s,l,c.predicate);if(m){const e=d.getSymbolInstanceIconSize(g,this.transform.zoom,_.placedIconSymbolIndex);if(0===this.collisionIndex.placeCollisionBox(d,e,m,Dt(x.x,x.y,n,a,this.transform.angle),h,s,l,c.predicate).box.length)return}if(y.box.length>0){let t;return this.prevPlacement&&this.prevPlacement.variableOffsets[_.crossTileID]&&this.prevPlacement.placements[_.crossTileID]&&this.prevPlacement.placements[_.crossTileID].text&&(t=this.prevPlacement.variableOffsets[_.crossTileID].anchor),this.variableOffsets[_.crossTileID]={textOffset:v,width:i,height:o,anchor:e,textScale:r,prevAnchor:t},this.markUsedJustification(d,e,_,p),d.allowVerticalPlacement&&(this.markUsedOrientation(d,p,_),this.placedOrientations[_.crossTileID]=p),{shift:x,placedGlyphBoxes:y}}}placeLayerBucketPart(t,i,o,r){const{bucket:n,layout:a,posMatrix:s,textLabelPlaneMatrix:l,labelToScreenMatrix:c,clippingData:h,textPixelRatio:_,holdingForFade:u,collisionBoxArray:d,partiallyEvaluatedTextSize:p,partiallyEvaluatedIconSize:m,collisionGroup:f}=t.parameters,g=a.get(\"text-optional\"),v=a.get(\"icon-optional\"),x=a.get(\"text-allow-overlap\"),y=a.get(\"icon-allow-overlap\"),b=\"map\"===a.get(\"text-rotation-alignment\"),w=\"map\"===a.get(\"text-pitch-alignment\"),T=\"none\"!==a.get(\"icon-text-fit\"),E=\"viewport-y\"===a.get(\"symbol-z-order\");this.transform.setProjection(n.projection);let C=x&&(y||!n.hasIconData()||v),I=y&&(x||!n.hasTextData()||g);!n.collisionArrays&&d&&n.deserializeCollisionBoxes(d),o&&r&&n.updateCollisionDebugBuffers(this.transform.zoom,d);const M=(t,r,d)=>{if(h){const o={zoom:this.transform.zoom,pitch:this.transform.pitch};let r=null;if(h.dynamicFilterNeedsFeature){const e=this.retainedQueryData[n.bucketInstanceId];r=h.featureIndex.loadFeature({featureIndex:t.featureIndex,bucketIndex:e.bucketIndex,sourceLayerIndex:e.sourceLayerIndex,layoutVertexArrayOffset:0});}if(!(0,h.dynamicFilter)(o,r,this.retainedQueryData[n.bucketInstanceId].tileID.canonical,new e.pointGeometry(t.tileAnchorX,t.tileAnchorY),this.transform.calculateDistanceTileData(h.unwrappedTileID)))return this.placements[t.crossTileID]=new Ct(!1,!1,!1,!0),void(i[t.crossTileID]=!0)}if(i[t.crossTileID])return;if(u)return void(this.placements[t.crossTileID]=new Ct(!1,!1,!1));let E=!1,M=!1,S=!0,z=!1,D=!1,A=null,P={box:null,offscreen:null,occluded:null},L={box:null,offscreen:null,occluded:null},R=null,O=null,B=null,k=0,F=0,U=0;d.textFeatureIndex?k=d.textFeatureIndex:t.useRuntimeCollisionCircles&&(k=t.featureIndex),d.verticalTextFeatureIndex&&(F=d.verticalTextFeatureIndex);const N=e=>{e.tileID=this.retainedQueryData[n.bucketInstanceId].tileID,(this.transform.elevation||e.elevation)&&(e.elevation=this.transform.elevation?this.transform.elevation.getAtTileOffset(this.retainedQueryData[n.bucketInstanceId].tileID,e.tileAnchorX,e.tileAnchorY):0);},G=d.textBox;if(G){N(G);const i=i=>{let o=e.WritingMode.horizontal;if(n.allowVerticalPlacement&&!i&&this.prevPlacement){const e=this.prevPlacement.placedOrientations[t.crossTileID];e&&(this.placedOrientations[t.crossTileID]=e,o=e,this.markUsedOrientation(n,o,t));}return o},o=(i,o)=>{if(n.allowVerticalPlacement&&t.numVerticalGlyphVertices>0&&d.verticalTextBox){for(const t of n.writingModes)if(t===e.WritingMode.vertical?(P=o(),L=P):P=i(),P&&P.box&&P.box.length)break}else P=i();};if(a.get(\"text-variable-anchor\")){let l=a.get(\"text-variable-anchor\");if(this.prevPlacement&&this.prevPlacement.variableOffsets[t.crossTileID]){const e=this.prevPlacement.variableOffsets[t.crossTileID];l.indexOf(e.anchor)>0&&(l=l.filter((t=>t!==e.anchor)),l.unshift(e.anchor));}const c=(e,i,o)=>{const a=n.getSymbolInstanceTextSize(p,t,this.transform.zoom,r),c=(e.x2-e.x1)*a+2*e.padding,h=(e.y2-e.y1)*a+2*e.padding,u=T&&!y?i:null;u&&N(u);let d={box:[],offscreen:!1,occluded:!1};const g=x?2*l.length:l.length;for(let i=0;i<g;++i){const g=this.attemptAnchorPlacement(l[i%l.length],e,c,h,a,b,w,_,s,f,i>=l.length,t,r,n,o,u,p,m);if(g&&(d=g.placedGlyphBoxes,d&&d.box&&d.box.length)){E=!0,A=g.shift;break}}return d};o((()=>c(G,d.iconBox,e.WritingMode.horizontal)),(()=>{const i=d.verticalTextBox;return i&&N(i),n.allowVerticalPlacement&&!(P&&P.box&&P.box.length)&&t.numVerticalGlyphVertices>0&&i?c(i,d.verticalIconBox,e.WritingMode.vertical):{box:null,offscreen:null,occluded:null}})),P&&(E=P.box,S=P.offscreen,z=P.occluded);const h=i(P&&P.box);if(!E&&this.prevPlacement){const e=this.prevPlacement.variableOffsets[t.crossTileID];e&&(this.variableOffsets[t.crossTileID]=e,this.markUsedJustification(n,e.anchor,t,h));}}else {const a=(i,o)=>{const a=n.getSymbolInstanceTextSize(p,t,this.transform.zoom,r),l=this.collisionIndex.placeCollisionBox(n,a,i,new e.pointGeometry(0,0),x,_,s,f.predicate);return l&&l.box&&l.box.length&&(this.markUsedOrientation(n,o,t),this.placedOrientations[t.crossTileID]=o),l};o((()=>a(G,e.WritingMode.horizontal)),(()=>{const i=d.verticalTextBox;return n.allowVerticalPlacement&&t.numVerticalGlyphVertices>0&&i?(N(i),a(i,e.WritingMode.vertical)):{box:null,offscreen:null,occluded:null}})),i(P&&P.box&&P.box.length);}}if(R=P,E=R&&R.box&&R.box.length>0,S=R&&R.offscreen,z=R&&R.occluded,t.useRuntimeCollisionCircles){const i=n.text.placedSymbolArray.get(t.centerJustifiedTextSymbolIndex>=0?t.centerJustifiedTextSymbolIndex:t.verticalPlacedTextSymbolIndex),r=e.evaluateSizeForFeature(n.textSizeData,p,i),h=a.get(\"text-padding\");O=this.collisionIndex.placeCollisionCircles(n,x,i,n.lineVertexArray,n.glyphOffsetArray,r,s,l,c,o,w,f.predicate,t.collisionCircleDiameter*r/e.ONE_EM,h,this.retainedQueryData[n.bucketInstanceId].tileID),E=x||O.circles.length>0&&!O.collisionDetected,S=S&&O.offscreen,z=O.occluded;}if(d.iconFeatureIndex&&(U=d.iconFeatureIndex),d.iconBox){const i=i=>{N(i);const o=T&&A?Dt(A.x,A.y,b,w,this.transform.angle):new e.pointGeometry(0,0),r=n.getSymbolInstanceIconSize(m,this.transform.zoom,t.placedIconSymbolIndex);return this.collisionIndex.placeCollisionBox(n,r,i,o,y,_,s,f.predicate)};L&&L.box&&L.box.length&&d.verticalIconBox?(B=i(d.verticalIconBox),M=B.box.length>0):(B=i(d.iconBox),M=B.box.length>0),S=S&&B.offscreen,D=B.occluded;}const j=g||0===t.numHorizontalGlyphVertices&&0===t.numVerticalGlyphVertices,Z=v||0===t.numIconVertices;if(j||Z?Z?j||(M=M&&E):E=M&&E:M=E=M&&E,E&&R&&R.box&&this.collisionIndex.insertCollisionBox(R.box,a.get(\"text-ignore-placement\"),n.bucketInstanceId,L&&L.box&&F?F:k,f.ID),M&&B&&this.collisionIndex.insertCollisionBox(B.box,a.get(\"icon-ignore-placement\"),n.bucketInstanceId,U,f.ID),O&&(E&&this.collisionIndex.insertCollisionCircles(O.circles,a.get(\"text-ignore-placement\"),n.bucketInstanceId,k,f.ID),o)){const e=n.bucketInstanceId;let t=this.collisionCircleArrays[e];void 0===t&&(t=this.collisionCircleArrays[e]=new It);for(let e=0;e<O.circles.length;e+=4)t.circles.push(O.circles[e+0]),t.circles.push(O.circles[e+1]),t.circles.push(O.circles[e+2]),t.circles.push(O.collisionDetected?1:0);}const V=\"globe\"!==n.projection.name;C=C&&(V||!z),I=I&&(V||!D),this.placements[t.crossTileID]=new Ct(E||C,M||I,S||n.justReloaded),i[t.crossTileID]=!0;};if(E){const e=n.getSortedSymbolIndexes(this.transform.angle);for(let t=e.length-1;t>=0;--t){const i=e[t];M(n.symbolInstances.get(i),i,n.collisionArrays[i]);}}else for(let e=t.symbolInstanceStart;e<t.symbolInstanceEnd;e++)M(n.symbolInstances.get(e),e,n.collisionArrays[e]);if(o&&n.bucketInstanceId in this.collisionCircleArrays){const t=this.collisionCircleArrays[n.bucketInstanceId];e.invert(t.invProjMatrix,s),t.viewportMatrix=this.collisionIndex.getViewportMatrix();}n.justReloaded=!1;}markUsedJustification(t,i,o,r){let n;n=r===e.WritingMode.vertical?o.verticalPlacedTextSymbolIndex:{left:o.leftJustifiedTextSymbolIndex,center:o.centerJustifiedTextSymbolIndex,right:o.rightJustifiedTextSymbolIndex}[e.getAnchorJustification(i)];const a=[o.leftJustifiedTextSymbolIndex,o.centerJustifiedTextSymbolIndex,o.rightJustifiedTextSymbolIndex,o.verticalPlacedTextSymbolIndex];for(const e of a)e>=0&&(t.text.placedSymbolArray.get(e).crossTileID=n>=0&&e!==n?0:o.crossTileID);}markUsedOrientation(t,i,o){const r=i===e.WritingMode.horizontal||i===e.WritingMode.horizontalOnly?i:0,n=i===e.WritingMode.vertical?i:0,a=[o.leftJustifiedTextSymbolIndex,o.centerJustifiedTextSymbolIndex,o.rightJustifiedTextSymbolIndex].filter((e=>-1!==e));for(const e of a)t.text.placedSymbolArray.get(e).placedOrientation=r;-1!==o.verticalPlacedTextSymbolIndex&&(t.text.placedSymbolArray.get(o.verticalPlacedTextSymbolIndex).placedOrientation=n);}commit(e){this.commitTime=e,this.zoomAtLastRecencyCheck=this.transform.zoom;const t=this.prevPlacement;let i=!1;this.prevZoomAdjustment=t?t.zoomAdjustment(this.transform.zoom):0;const o=t?t.symbolFadeChange(e):1,r=t?t.opacities:{},n=t?t.variableOffsets:{},a=t?t.placedOrientations:{};for(const e in this.placements){const t=this.placements[e],n=r[e];n?(this.opacities[e]=new Et(n,o,t.text,t.icon,null,t.clipped),i=i||t.text!==n.text.placed||t.icon!==n.icon.placed):(this.opacities[e]=new Et(null,o,t.text,t.icon,t.skipFade,t.clipped),i=i||t.text||t.icon);}for(const e in r){const t=r[e];if(!this.opacities[e]){const r=new Et(t,o,!1,!1);r.isHidden()||(this.opacities[e]=r,i=i||t.text.placed||t.icon.placed);}}for(const e in n)this.variableOffsets[e]||!this.opacities[e]||this.opacities[e].isHidden()||(this.variableOffsets[e]=n[e]);for(const e in a)this.placedOrientations[e]||!this.opacities[e]||this.opacities[e].isHidden()||(this.placedOrientations[e]=a[e]);i?this.lastPlacementChangeTime=e:\"number\"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=t?t.lastPlacementChangeTime:e);}updateLayerOpacities(e,t){const i={};for(const o of t){const t=o.getBucket(e);t&&o.latestFeatureIndex&&e.id===t.layerIds[0]&&this.updateBucketOpacities(t,i,o.collisionBoxArray);}}updateBucketOpacities(t,i,o){t.hasTextData()&&t.text.opacityVertexArray.clear(),t.hasIconData()&&t.icon.opacityVertexArray.clear(),t.hasIconCollisionBoxData()&&t.iconCollisionBox.collisionVertexArray.clear(),t.hasTextCollisionBoxData()&&t.textCollisionBox.collisionVertexArray.clear();const r=t.layers[0].layout,n=!!t.layers[0].dynamicFilter(),a=new Et(null,0,!1,!1,!0),s=r.get(\"text-allow-overlap\"),l=r.get(\"icon-allow-overlap\"),c=r.get(\"text-variable-anchor\"),h=\"map\"===r.get(\"text-rotation-alignment\"),_=\"map\"===r.get(\"text-pitch-alignment\"),u=\"none\"!==r.get(\"icon-text-fit\"),d=new Et(null,0,s&&(l||!t.hasIconData()||r.get(\"icon-optional\")),l&&(s||!t.hasTextData()||r.get(\"text-optional\")),!0);!t.collisionArrays&&o&&(t.hasIconCollisionBoxData()||t.hasTextCollisionBoxData())&&t.deserializeCollisionBoxes(o);const p=(e,t,i)=>{for(let o=0;o<t/4;o++)e.opacityVertexArray.emplaceBack(i);};let m=0;for(let o=0;o<t.symbolInstances.length;o++){const r=t.symbolInstances.get(o),{numHorizontalGlyphVertices:s,numVerticalGlyphVertices:l,crossTileID:f}=r;let g=this.opacities[f];i[f]?g=a:g||(g=d,this.opacities[f]=g),i[f]=!0;const v=s>0||l>0,x=r.numIconVertices>0,y=this.placedOrientations[r.crossTileID],b=y===e.WritingMode.vertical,w=y===e.WritingMode.horizontal||y===e.WritingMode.horizontalOnly;if(!v&&!x||g.isHidden()||m++,v){const e=Nt(g.text);p(t.text,s,b?Gt:e),p(t.text,l,w?Gt:e);const i=g.text.isHidden();[r.rightJustifiedTextSymbolIndex,r.centerJustifiedTextSymbolIndex,r.leftJustifiedTextSymbolIndex].forEach((e=>{e>=0&&(t.text.placedSymbolArray.get(e).hidden=i||b?1:0);})),r.verticalPlacedTextSymbolIndex>=0&&(t.text.placedSymbolArray.get(r.verticalPlacedTextSymbolIndex).hidden=i||w?1:0);const o=this.variableOffsets[r.crossTileID];o&&this.markUsedJustification(t,o.anchor,r,y);const n=this.placedOrientations[r.crossTileID];n&&(this.markUsedJustification(t,\"left\",r,n),this.markUsedOrientation(t,n,r));}if(x){const e=Nt(g.icon);r.placedIconSymbolIndex>=0&&(p(t.icon,r.numIconVertices,b?Gt:e),t.icon.placedSymbolArray.get(r.placedIconSymbolIndex).hidden=g.icon.isHidden()),r.verticalPlacedIconSymbolIndex>=0&&(p(t.icon,r.numVerticalIconVertices,w?Gt:e),t.icon.placedSymbolArray.get(r.verticalPlacedIconSymbolIndex).hidden=g.icon.isHidden());}if(t.hasIconCollisionBoxData()||t.hasTextCollisionBoxData()){const i=t.collisionArrays[o];if(i){let o=new e.pointGeometry(0,0),r=!0;if(i.textBox||i.verticalTextBox){if(c){const e=this.variableOffsets[f];e?(o=zt(e.anchor,e.width,e.height,e.textOffset,e.textScale),h&&o._rotate(_?this.transform.angle:-this.transform.angle)):r=!1;}n&&(r=!g.clipped),i.textBox&&Pt(t.textCollisionBox.collisionVertexArray,g.text.placed,!r||b,o.x,o.y),i.verticalTextBox&&Pt(t.textCollisionBox.collisionVertexArray,g.text.placed,!r||w,o.x,o.y);}const a=r&&Boolean(!w&&i.verticalIconBox);i.iconBox&&Pt(t.iconCollisionBox.collisionVertexArray,g.icon.placed,a,u?o.x:0,u?o.y:0),i.verticalIconBox&&Pt(t.iconCollisionBox.collisionVertexArray,g.icon.placed,!a,u?o.x:0,u?o.y:0);}}}if(t.fullyClipped=0===m,t.sortFeatures(this.transform.angle),this.retainedQueryData[t.bucketInstanceId]&&(this.retainedQueryData[t.bucketInstanceId].featureSortOrder=t.featureSortOrder),t.hasTextData()&&t.text.opacityVertexBuffer&&t.text.opacityVertexBuffer.updateData(t.text.opacityVertexArray),t.hasIconData()&&t.icon.opacityVertexBuffer&&t.icon.opacityVertexBuffer.updateData(t.icon.opacityVertexArray),t.hasIconCollisionBoxData()&&t.iconCollisionBox.collisionVertexBuffer&&t.iconCollisionBox.collisionVertexBuffer.updateData(t.iconCollisionBox.collisionVertexArray),t.hasTextCollisionBoxData()&&t.textCollisionBox.collisionVertexBuffer&&t.textCollisionBox.collisionVertexBuffer.updateData(t.textCollisionBox.collisionVertexArray),t.bucketInstanceId in this.collisionCircleArrays){const e=this.collisionCircleArrays[t.bucketInstanceId];t.placementInvProjMatrix=e.invProjMatrix,t.placementViewportMatrix=e.viewportMatrix,t.collisionCircleArray=e.circles,delete this.collisionCircleArrays[t.bucketInstanceId];}}symbolFadeChange(e){return 0===this.fadeDuration?1:(e-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(e){return Math.max(0,(this.transform.zoom-e)/1.5)}hasTransitions(e){return this.stale||e-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(e,t){const i=this.zoomAtLastRecencyCheck===t?1-this.zoomAdjustment(t):1;return this.zoomAtLastRecencyCheck=t,this.commitTime+this.fadeDuration*i>e}setStale(){this.stale=!0;}}function Pt(e,t,i,o,r){e.emplaceBack(t?1:0,i?1:0,o||0,r||0),e.emplaceBack(t?1:0,i?1:0,o||0,r||0),e.emplaceBack(t?1:0,i?1:0,o||0,r||0),e.emplaceBack(t?1:0,i?1:0,o||0,r||0);}const Lt=Math.pow(2,25),Rt=Math.pow(2,24),Ot=Math.pow(2,17),Bt=Math.pow(2,16),kt=Math.pow(2,9),Ft=Math.pow(2,8),Ut=Math.pow(2,1);function Nt(e){if(0===e.opacity&&!e.placed)return 0;if(1===e.opacity&&e.placed)return 4294967295;const t=e.placed?1:0,i=Math.floor(127*e.opacity);return i*Lt+t*Rt+i*Ot+t*Bt+i*kt+t*Ft+i*Ut+t}const Gt=0;class jt{constructor(e){this._sortAcrossTiles=\"viewport-y\"!==e.layout.get(\"symbol-z-order\")&&void 0!==e.layout.get(\"symbol-sort-key\").constantOr(1),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[];}continuePlacement(e,t,i,o,r){const n=this._bucketParts;for(;this._currentTileIndex<e.length;)if(t.getBucketParts(n,o,e[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,r())return !0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,n.sort(((e,t)=>e.sortKey-t.sortKey)));this._currentPartIndex<n.length;){const e=n[this._currentPartIndex];if(t.placeLayerBucketPart(e,this._seenCrossTileIDs,i,0===e.symbolInstanceStart),this._currentPartIndex++,r())return !0}return !1}}class Zt{constructor(e,t,i,o,r,n,a,s){this.placement=new At(e,r,n,a,s),this._currentPlacementIndex=t.length-1,this._forceFullPlacement=i,this._showCollisionBoxes=o,this._done=!1;}isDone(){return this._done}continuePlacement(t,i,o){const r=e.exported.now(),n=()=>{const t=e.exported.now()-r;return !this._forceFullPlacement&&t>2};for(;this._currentPlacementIndex>=0;){const e=i[t[this._currentPlacementIndex]],r=this.placement.collisionIndex.transform.zoom;if(\"symbol\"===e.type&&(!e.minzoom||e.minzoom<=r)&&(!e.maxzoom||e.maxzoom>r)){if(this._inProgressLayer||(this._inProgressLayer=new jt(e)),this._inProgressLayer.continuePlacement(o[e.source],this.placement,this._showCollisionBoxes,e,n))return;delete this._inProgressLayer;}this._currentPlacementIndex--;}this._done=!0;}commit(e){return this.placement.commit(e),this.placement}}const Vt=512/e.EXTENT/2;class Wt{constructor(e,t,i){this.tileID=e,this.indexedSymbolInstances={},this.bucketInstanceId=i;for(let i=0;i<t.length;i++){const o=t.get(i),r=o.key;this.indexedSymbolInstances[r]||(this.indexedSymbolInstances[r]=[]),this.indexedSymbolInstances[r].push({crossTileID:o.crossTileID,coord:this.getScaledCoordinates(o,e)});}}getScaledCoordinates(t,i){const o=Vt/Math.pow(2,i.canonical.z-this.tileID.canonical.z);return {x:Math.floor((i.canonical.x*e.EXTENT+t.tileAnchorX)*o),y:Math.floor((i.canonical.y*e.EXTENT+t.tileAnchorY)*o)}}findMatches(e,t,i){const o=this.tileID.canonical.z<t.canonical.z?1:Math.pow(2,this.tileID.canonical.z-t.canonical.z);for(let r=0;r<e.length;r++){const n=e.get(r);if(n.crossTileID)continue;const a=this.indexedSymbolInstances[n.key];if(!a)continue;const s=this.getScaledCoordinates(n,t);for(const e of a)if(Math.abs(e.coord.x-s.x)<=o&&Math.abs(e.coord.y-s.y)<=o&&!i[e.crossTileID]){i[e.crossTileID]=!0,n.crossTileID=e.crossTileID;break}}}}class Xt{constructor(){this.maxCrossTileID=0;}generate(){return ++this.maxCrossTileID}}class qt{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0;}handleWrapJump(e){const t=Math.round((e-this.lng)/360);if(0!==t)for(const e in this.indexes){const i=this.indexes[e],o={};for(const e in i){const r=i[e];r.tileID=r.tileID.unwrapTo(r.tileID.wrap+t),o[r.tileID.key]=r;}this.indexes[e]=o;}this.lng=e;}addBucket(e,t,i){if(this.indexes[e.overscaledZ]&&this.indexes[e.overscaledZ][e.key]){if(this.indexes[e.overscaledZ][e.key].bucketInstanceId===t.bucketInstanceId)return !1;this.removeBucketCrossTileIDs(e.overscaledZ,this.indexes[e.overscaledZ][e.key]);}for(let e=0;e<t.symbolInstances.length;e++)t.symbolInstances.get(e).crossTileID=0;this.usedCrossTileIDs[e.overscaledZ]||(this.usedCrossTileIDs[e.overscaledZ]={});const o=this.usedCrossTileIDs[e.overscaledZ];for(const i in this.indexes){const r=this.indexes[i];if(Number(i)>e.overscaledZ)for(const i in r){const n=r[i];n.tileID.isChildOf(e)&&n.findMatches(t.symbolInstances,e,o);}else {const n=r[e.scaledTo(Number(i)).key];n&&n.findMatches(t.symbolInstances,e,o);}}for(let e=0;e<t.symbolInstances.length;e++){const r=t.symbolInstances.get(e);r.crossTileID||(r.crossTileID=i.generate(),o[r.crossTileID]=!0);}return void 0===this.indexes[e.overscaledZ]&&(this.indexes[e.overscaledZ]={}),this.indexes[e.overscaledZ][e.key]=new Wt(e,t.symbolInstances,t.bucketInstanceId),!0}removeBucketCrossTileIDs(e,t){for(const i in t.indexedSymbolInstances)for(const o of t.indexedSymbolInstances[i])delete this.usedCrossTileIDs[e][o.crossTileID];}removeStaleBuckets(e){let t=!1;for(const i in this.indexes){const o=this.indexes[i];for(const r in o)e[o[r].bucketInstanceId]||(this.removeBucketCrossTileIDs(i,o[r]),delete o[r],t=!0);}return t}}class $t{constructor(){this.layerIndexes={},this.crossTileIDs=new Xt,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={};}addLayer(e,t,i,o){let r=this.layerIndexes[e.id];void 0===r&&(r=this.layerIndexes[e.id]=new qt);let n=!1;const a={};\"globe\"!==o.name&&r.handleWrapJump(i);for(const i of t){const t=i.getBucket(e);t&&e.id===t.layerIds[0]&&(t.bucketInstanceId||(t.bucketInstanceId=++this.maxBucketInstanceId),r.addBucket(i.tileID,t,this.crossTileIDs)&&(n=!0),a[t.bucketInstanceId]=!0);}return r.removeStaleBuckets(a)&&(n=!0),n}pruneUnusedLayers(e){const t={};e.forEach((e=>{t[e]=!0;}));for(const e in this.layerIndexes)t[e]||delete this.layerIndexes[e];}}const Ht=(t,i)=>e.emitValidationErrors(t,i&&i.filter((e=>\"source.canvas\"!==e.identifier))),Yt=e.pick(Ve,[\"addLayer\",\"removeLayer\",\"setPaintProperty\",\"setLayoutProperty\",\"setFilter\",\"addSource\",\"removeSource\",\"setLayerZoomRange\",\"setLight\",\"setTransition\",\"setGeoJSONSourceData\",\"setTerrain\",\"setFog\",\"setProjection\"]),Kt=e.pick(Ve,[\"setCenter\",\"setZoom\",\"setBearing\",\"setPitch\"]),Jt={version:8,layers:[],sources:{}},Qt={fill:!0,line:!0,background:!0,hillshade:!0,raster:!0};class ei extends e.Evented{constructor(t,i={}){super(),this.map=t,this.dispatcher=new P(Ge(),this),this.imageManager=new y,this.imageManager.setEventedParent(this),this.glyphManager=new e.GlyphManager(t._requestManager,i.localFontFamily?e.LocalGlyphMode.all:i.localIdeographFontFamily?e.LocalGlyphMode.ideographs:e.LocalGlyphMode.none,i.localFontFamily||i.localIdeographFontFamily),this.crossTileSymbolIndex=new $t,this._layers={},this._num3DLayers=0,this._numSymbolLayers=0,this._numCircleLayers=0,this._serializedLayers={},this._sourceCaches={},this._otherSourceCaches={},this._symbolSourceCaches={},this.zoomHistory=new e.ZoomHistory,this._loaded=!1,this._availableImages=[],this._order=[],this._drapedFirstOrder=[],this._markersNeedUpdate=!1,this._resetUpdates(),this.dispatcher.broadcast(\"setReferrer\",e.getReferrer());const o=this;this._rtlTextPluginCallback=ei.registerForPluginStateChange((t=>{o.dispatcher.broadcast(\"syncRTLPluginState\",{pluginStatus:t.pluginStatus,pluginURL:t.pluginURL},((t,i)=>{if(e.triggerPluginCompletionEvent(t),i&&i.every((e=>e)))for(const e in o._sourceCaches){const t=o._sourceCaches[e],i=t.getSource().type;\"vector\"!==i&&\"geojson\"!==i||t.reload();}}));})),this.on(\"data\",(e=>{if(\"source\"!==e.dataType||\"metadata\"!==e.sourceDataType)return;const t=this.getSource(e.sourceId);if(t&&t.vectorLayerIds)for(const e in this._layers){const i=this._layers[e];i.source===t.id&&this._validateLayer(i);}}));}loadURL(t,i={}){this.fire(new e.Event(\"dataloading\",{dataType:\"style\"}));const o=\"boolean\"==typeof i.validate?i.validate:!e.isMapboxURL(t);t=this.map._requestManager.normalizeStyleURL(t,i.accessToken);const r=this.map._requestManager.transformRequest(t,e.ResourceType.Style);this._request=e.getJSON(r,((t,i)=>{this._request=null,t?this.fire(new e.ErrorEvent(t)):i&&this._load(i,o);}));}loadJSON(t,i={}){this.fire(new e.Event(\"dataloading\",{dataType:\"style\"})),this._request=e.exported.frame((()=>{this._request=null,this._load(t,!1!==i.validate);}));}loadEmpty(){this.fire(new e.Event(\"dataloading\",{dataType:\"style\"})),this._load(Jt,!1);}_updateLayerCount(e,t){const i=t?1:-1;e.is3D()&&(this._num3DLayers+=i),\"circle\"===e.type&&(this._numCircleLayers+=i),\"symbol\"===e.type&&(this._numSymbolLayers+=i);}_load(t,i){if(i&&Ht(this,e.validateStyle(t)))return;this._loaded=!0,this.stylesheet=e.clone$1(t),this._updateMapProjection();for(const e in t.sources)this.addSource(e,t.sources[e],{validate:!1});this._changed=!1,t.sprite?this._loadSprite(t.sprite):(this.imageManager.setLoaded(!0),this.dispatcher.broadcast(\"spriteLoaded\",!0)),this.glyphManager.setURL(t.glyphs);const o=Ze(this.stylesheet.layers);this._order=o.map((e=>e.id)),this._layers={},this._serializedLayers={};for(let t of o)t=e.createStyleLayer(t),t.setEventedParent(this,{layer:{id:t.id}}),this._layers[t.id]=t,this._serializedLayers[t.id]=t.serialize(),this._updateLayerCount(t,!0);this.dispatcher.broadcast(\"setLayers\",this._serializeLayers(this._order)),this.light=new T(this.stylesheet.light),this.stylesheet.terrain&&!this.terrainSetForDrapingOnly()&&this._createTerrain(this.stylesheet.terrain,1),this.stylesheet.fog&&this._createFog(this.stylesheet.fog),this._updateDrapeFirstLayers(),this.fire(new e.Event(\"data\",{dataType:\"style\"})),this.fire(new e.Event(\"style.load\"));}terrainSetForDrapingOnly(){return !!this.terrain&&0===this.terrain.drapeRenderMode}setProjection(e){e?this.stylesheet.projection=e:delete this.stylesheet.projection,this._updateMapProjection();}applyProjectionUpdate(){this._loaded&&(this.dispatcher.broadcast(\"setProjection\",this.map.transform.projectionOptions),this.map.transform.projection.requiresDraping?this.getTerrain()||this.stylesheet.terrain||this.setTerrainForDraping():this.terrainSetForDrapingOnly()&&this.setTerrain(null));}_updateMapProjection(){this.map._useExplicitProjection?this.applyProjectionUpdate():this.map._prioritizeAndUpdateProjection(null,this.stylesheet.projection);}_loadSprite(t){this._spriteRequest=function(t,i,o){let r,n,a;const s=e.exported.devicePixelRatio>1?\"@2x\":\"\";let l=e.getJSON(i.transformRequest(i.normalizeSpriteURL(t,s,\".json\"),e.ResourceType.SpriteJSON),((e,t)=>{l=null,a||(a=e,r=t,h());})),c=e.getImage(i.transformRequest(i.normalizeSpriteURL(t,s,\".png\"),e.ResourceType.SpriteImage),((e,t)=>{c=null,a||(a=e,n=t,h());}));function h(){if(a)o(a);else if(r&&n){const t=e.exported.getImageData(n),i={};for(const o in r){const{width:n,height:a,x:s,y:l,sdf:c,pixelRatio:h,stretchX:_,stretchY:u,content:d}=r[o],p=new e.RGBAImage({width:n,height:a});e.RGBAImage.copy(t,p,{x:s,y:l},{x:0,y:0},{width:n,height:a}),i[o]={data:p,pixelRatio:h,sdf:c,stretchX:_,stretchY:u,content:d};}o(null,i);}}return {cancel(){l&&(l.cancel(),l=null),c&&(c.cancel(),c=null);}}}(t,this.map._requestManager,((t,i)=>{if(this._spriteRequest=null,t)this.fire(new e.ErrorEvent(t));else if(i)for(const e in i)this.imageManager.addImage(e,i[e]);this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),this.dispatcher.broadcast(\"setImages\",this._availableImages),this.dispatcher.broadcast(\"spriteLoaded\",!0),this.fire(new e.Event(\"data\",{dataType:\"style\"}));}));}_validateLayer(t){const i=this.getSource(t.source);if(!i)return;const o=t.sourceLayer;o&&(\"geojson\"===i.type||i.vectorLayerIds&&-1===i.vectorLayerIds.indexOf(o))&&this.fire(new e.ErrorEvent(new Error(`Source layer \"${o}\" does not exist on source \"${i.id}\" as specified by style layer \"${t.id}\"`)));}loaded(){if(!this._loaded)return !1;if(Object.keys(this._updatedSources).length)return !1;for(const e in this._sourceCaches)if(!this._sourceCaches[e].loaded())return !1;return !!this.imageManager.isLoaded()}_serializeLayers(e){const t=[];for(const i of e){const e=this._layers[i];\"custom\"!==e.type&&t.push(e.serialize());}return t}hasTransitions(){if(this.light&&this.light.hasTransition())return !0;if(this.fog&&this.fog.hasTransition())return !0;for(const e in this._sourceCaches)if(this._sourceCaches[e].hasTransition())return !0;for(const e in this._layers)if(this._layers[e].hasTransition())return !0;return !1}get order(){return this.map._optimizeForTerrain&&this.terrain?this._drapedFirstOrder:this._order}isLayerDraped(e){return !!this.terrain&&Qt[e.type]}_checkLoaded(){if(!this._loaded)throw new Error(\"Style is not done loading\")}update(t){if(!this._loaded)return;const i=this._changed;if(this._changed){const e=Object.keys(this._updatedLayers),i=Object.keys(this._removedLayers);(e.length||i.length)&&this._updateWorkerLayers(e,i);for(const e in this._updatedSources){const t=this._updatedSources[e];\"reload\"===t?this._reloadSource(e):\"clear\"===t&&this._clearSource(e);}this._updateTilesForChangedImages();for(const e in this._updatedPaintProps)this._layers[e].updateTransitions(t);this.light.updateTransitions(t),this.fog&&this.fog.updateTransitions(t),this._resetUpdates();}const o={};for(const e in this._sourceCaches){const t=this._sourceCaches[e];o[e]=t.used,t.used=!1;}for(const e of this._order){const i=this._layers[e];if(i.recalculate(t,this._availableImages),!i.isHidden(t.zoom)){const e=this._getLayerSourceCache(i);e&&(e.used=!0);}const o=this.map.painter;if(o){const e=i.getProgramIds();if(!e)continue;const r=i.getProgramConfiguration(t.zoom);for(const t of e)o.useProgram(t,r);}}for(const t in o){const i=this._sourceCaches[t];o[t]!==i.used&&i.getSource().fire(new e.Event(\"data\",{sourceDataType:\"visibility\",dataType:\"source\",sourceId:i.getSource().id}));}this.light.recalculate(t),this.terrain&&this.terrain.recalculate(t),this.fog&&this.fog.recalculate(t),this.z=t.zoom,this._markersNeedUpdate&&(this._updateMarkersOpacity(),this._markersNeedUpdate=!1),i&&this.fire(new e.Event(\"data\",{dataType:\"style\"}));}_updateTilesForChangedImages(){const e=Object.keys(this._changedImages);if(e.length){for(const t in this._sourceCaches)this._sourceCaches[t].reloadTilesForDependencies([\"icons\",\"patterns\"],e);this._changedImages={};}}_updateWorkerLayers(e,t){this.dispatcher.broadcast(\"updateLayers\",{layers:this._serializeLayers(e),removedIds:t});}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={};}setState(i){if(this._checkLoaded(),Ht(this,e.validateStyle(i)))return !1;(i=e.clone$1(i)).layers=Ze(i.layers);const o=function(e,i){if(!e)return [{command:Ve.setStyle,args:[i]}];let o=[];try{if(!t(e.version,i.version))return [{command:Ve.setStyle,args:[i]}];t(e.center,i.center)||o.push({command:Ve.setCenter,args:[i.center]}),t(e.zoom,i.zoom)||o.push({command:Ve.setZoom,args:[i.zoom]}),t(e.bearing,i.bearing)||o.push({command:Ve.setBearing,args:[i.bearing]}),t(e.pitch,i.pitch)||o.push({command:Ve.setPitch,args:[i.pitch]}),t(e.sprite,i.sprite)||o.push({command:Ve.setSprite,args:[i.sprite]}),t(e.glyphs,i.glyphs)||o.push({command:Ve.setGlyphs,args:[i.glyphs]}),t(e.transition,i.transition)||o.push({command:Ve.setTransition,args:[i.transition]}),t(e.light,i.light)||o.push({command:Ve.setLight,args:[i.light]}),t(e.fog,i.fog)||o.push({command:Ve.setFog,args:[i.fog]}),t(e.projection,i.projection)||o.push({command:Ve.setProjection,args:[i.projection]});const r={},n=[];!function(e,i,o,r){let n;for(n in i=i||{},e=e||{})e.hasOwnProperty(n)&&(i.hasOwnProperty(n)||Xe(n,o,r));for(n in i)i.hasOwnProperty(n)&&(e.hasOwnProperty(n)?t(e[n],i[n])||(\"geojson\"===e[n].type&&\"geojson\"===i[n].type&&$e(e,i,n)?o.push({command:Ve.setGeoJSONSourceData,args:[n,i[n].data]}):qe(n,i,o,r)):We(n,i,o));}(e.sources,i.sources,n,r);const a=[];e.layers&&e.layers.forEach((e=>{e.source&&r[e.source]?o.push({command:Ve.removeLayer,args:[e.id]}):a.push(e);}));let s=e.terrain;s&&r[s.source]&&(o.push({command:Ve.setTerrain,args:[void 0]}),s=void 0),o=o.concat(n),t(s,i.terrain)||o.push({command:Ve.setTerrain,args:[i.terrain]}),function(e,i,o){i=i||[];const r=(e=e||[]).map(Ye),n=i.map(Ye),a=e.reduce(Ke,{}),s=i.reduce(Ke,{}),l=r.slice(),c=Object.create(null);let h,_,u,d,p,m,f;for(h=0,_=0;h<r.length;h++)u=r[h],s.hasOwnProperty(u)?_++:(o.push({command:Ve.removeLayer,args:[u]}),l.splice(l.indexOf(u,_),1));for(h=0,_=0;h<n.length;h++)u=n[n.length-1-h],l[l.length-1-h]!==u&&(a.hasOwnProperty(u)?(o.push({command:Ve.removeLayer,args:[u]}),l.splice(l.lastIndexOf(u,l.length-_),1)):_++,m=l[l.length-h],o.push({command:Ve.addLayer,args:[s[u],m]}),l.splice(l.length-h,0,u),c[u]=!0);for(h=0;h<n.length;h++)if(u=n[h],d=a[u],p=s[u],!c[u]&&!t(d,p))if(t(d.source,p.source)&&t(d[\"source-layer\"],p[\"source-layer\"])&&t(d.type,p.type)){for(f in He(d.layout,p.layout,o,u,null,Ve.setLayoutProperty),He(d.paint,p.paint,o,u,null,Ve.setPaintProperty),t(d.filter,p.filter)||o.push({command:Ve.setFilter,args:[u,p.filter]}),t(d.minzoom,p.minzoom)&&t(d.maxzoom,p.maxzoom)||o.push({command:Ve.setLayerZoomRange,args:[u,p.minzoom,p.maxzoom]}),d)d.hasOwnProperty(f)&&\"layout\"!==f&&\"paint\"!==f&&\"filter\"!==f&&\"metadata\"!==f&&\"minzoom\"!==f&&\"maxzoom\"!==f&&(0===f.indexOf(\"paint.\")?He(d[f],p[f],o,u,f.slice(6),Ve.setPaintProperty):t(d[f],p[f])||o.push({command:Ve.setLayerProperty,args:[u,f,p[f]]}));for(f in p)p.hasOwnProperty(f)&&!d.hasOwnProperty(f)&&\"layout\"!==f&&\"paint\"!==f&&\"filter\"!==f&&\"metadata\"!==f&&\"minzoom\"!==f&&\"maxzoom\"!==f&&(0===f.indexOf(\"paint.\")?He(d[f],p[f],o,u,f.slice(6),Ve.setPaintProperty):t(d[f],p[f])||o.push({command:Ve.setLayerProperty,args:[u,f,p[f]]}));}else o.push({command:Ve.removeLayer,args:[u]}),m=l[l.lastIndexOf(u)+1],o.push({command:Ve.addLayer,args:[p,m]});}(a,i.layers,o);}catch(e){console.warn(\"Unable to compute style diff:\",e),o=[{command:Ve.setStyle,args:[i]}];}return o}(this.serialize(),i).filter((e=>!(e.command in Kt)));if(0===o.length)return !1;const r=o.filter((e=>!(e.command in Yt)));if(r.length>0)throw new Error(`Unimplemented: ${r.map((e=>e.command)).join(\", \")}.`);return o.forEach((e=>{\"setTransition\"!==e.command&&\"setProjection\"!==e.command&&this[e.command].apply(this,e.args);})),this.stylesheet=i,this._updateMapProjection(),!0}addImage(t,i){return this.getImage(t)?this.fire(new e.ErrorEvent(new Error(\"An image with this name already exists.\"))):(this.imageManager.addImage(t,i),this._afterImageUpdated(t),this)}updateImage(e,t){this.imageManager.updateImage(e,t);}getImage(e){return this.imageManager.getImage(e)}removeImage(t){return this.getImage(t)?(this.imageManager.removeImage(t),this._afterImageUpdated(t),this):this.fire(new e.ErrorEvent(new Error(\"No image with this name exists.\")))}_afterImageUpdated(t){this._availableImages=this.imageManager.listImages(),this._changedImages[t]=!0,this._changed=!0,this.dispatcher.broadcast(\"setImages\",this._availableImages),this.fire(new e.Event(\"data\",{dataType:\"style\"}));}listImages(){return this._checkLoaded(),this._availableImages.slice()}addSource(t,i,o={}){if(this._checkLoaded(),void 0!==this.getSource(t))throw new Error(\"There is already a source with this ID\");if(!i.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(i).join(\", \")}.`);if([\"vector\",\"raster\",\"geojson\",\"video\",\"image\"].indexOf(i.type)>=0&&this._validate(e.validateSource,`sources.${t}`,i,null,o))return;this.map&&this.map._collectResourceTiming&&(i.collectResourceTiming=!0);const r=Pe(t,i,this.dispatcher,this);r.setEventedParent(this,(()=>({isSourceLoaded:this._isSourceCacheLoaded(t),source:r.serialize(),sourceId:t})));const n=i=>{const o=(i?\"symbol:\":\"other:\")+t,n=this._sourceCaches[o]=new e.SourceCache(o,r,i);(i?this._symbolSourceCaches:this._otherSourceCaches)[t]=n,n.style=this,n.onAdd(this.map);};n(!1),\"vector\"!==i.type&&\"geojson\"!==i.type||n(!0),r.onAdd&&r.onAdd(this.map),this._changed=!0;}removeSource(t){this._checkLoaded();const i=this.getSource(t);if(!i)throw new Error(\"There is no source with this ID\");for(const i in this._layers)if(this._layers[i].source===t)return this.fire(new e.ErrorEvent(new Error(`Source \"${t}\" cannot be removed while layer \"${i}\" is using it.`)));if(this.terrain&&this.terrain.get().source===t)return this.fire(new e.ErrorEvent(new Error(`Source \"${t}\" cannot be removed while terrain is using it.`)));const o=this._getSourceCaches(t);for(const t of o)delete this._sourceCaches[t.id],delete this._updatedSources[t.id],t.fire(new e.Event(\"data\",{sourceDataType:\"metadata\",dataType:\"source\",sourceId:t.getSource().id})),t.setEventedParent(null),t.clearTiles();return delete this._otherSourceCaches[t],delete this._symbolSourceCaches[t],i.setEventedParent(null),i.onRemove&&i.onRemove(this.map),this._changed=!0,this}setGeoJSONSourceData(e,t){this._checkLoaded(),this.getSource(e).setData(t),this._changed=!0;}getSource(e){const t=this._getSourceCache(e);return t&&t.getSource()}_getSources(){const e=[];for(const t in this._otherSourceCaches){const i=this._getSourceCache(t);i&&e.push(i.getSource());}return e}addLayer(t,i,o={}){this._checkLoaded();const r=t.id;if(this.getLayer(r))return void this.fire(new e.ErrorEvent(new Error(`Layer with id \"${r}\" already exists on this map`)));let n;if(\"custom\"===t.type){if(Ht(this,e.validateCustomStyleLayer(t)))return;n=e.createStyleLayer(t);}else {if(\"object\"==typeof t.source&&(this.addSource(r,t.source),t=e.clone$1(t),t=e.extend(t,{source:r})),this._validate(e.validateLayer,`layers.${r}`,t,{arrayIndex:-1},o))return;n=e.createStyleLayer(t),this._validateLayer(n),n.setEventedParent(this,{layer:{id:r}}),this._serializedLayers[n.id]=n.serialize(),this._updateLayerCount(n,!0);}const a=i?this._order.indexOf(i):this._order.length;if(i&&-1===a)return void this.fire(new e.ErrorEvent(new Error(`Layer with id \"${i}\" does not exist on this map.`)));this._order.splice(a,0,r),this._layerOrderChanged=!0,this._layers[r]=n;const s=this._getLayerSourceCache(n);if(this._removedLayers[r]&&n.source&&s&&\"custom\"!==n.type){const e=this._removedLayers[r];delete this._removedLayers[r],e.type!==n.type?this._updatedSources[n.source]=\"clear\":(this._updatedSources[n.source]=\"reload\",s.pause());}this._updateLayer(n),n.onAdd&&n.onAdd(this.map),this._updateDrapeFirstLayers();}moveLayer(t,i){if(this._checkLoaded(),this._changed=!0,!this._layers[t])return void this.fire(new e.ErrorEvent(new Error(`The layer '${t}' does not exist in the map's style and cannot be moved.`)));if(t===i)return;const o=this._order.indexOf(t);this._order.splice(o,1);const r=i?this._order.indexOf(i):this._order.length;i&&-1===r?this.fire(new e.ErrorEvent(new Error(`Layer with id \"${i}\" does not exist on this map.`))):(this._order.splice(r,0,t),this._layerOrderChanged=!0,this._updateDrapeFirstLayers());}removeLayer(t){this._checkLoaded();const i=this._layers[t];if(!i)return void this.fire(new e.ErrorEvent(new Error(`The layer '${t}' does not exist in the map's style and cannot be removed.`)));i.setEventedParent(null),this._updateLayerCount(i,!1);const o=this._order.indexOf(t);this._order.splice(o,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[t]=i,delete this._layers[t],delete this._serializedLayers[t],delete this._updatedLayers[t],delete this._updatedPaintProps[t],i.onRemove&&i.onRemove(this.map),this._updateDrapeFirstLayers();}getLayer(e){return this._layers[e]}hasLayer(e){return e in this._layers}hasLayerType(e){for(const t in this._layers)if(this._layers[t].type===e)return !0;return !1}setLayerZoomRange(t,i,o){this._checkLoaded();const r=this.getLayer(t);r?r.minzoom===i&&r.maxzoom===o||(null!=i&&(r.minzoom=i),null!=o&&(r.maxzoom=o),this._updateLayer(r)):this.fire(new e.ErrorEvent(new Error(`The layer '${t}' does not exist in the map's style and cannot have zoom extent.`)));}setFilter(i,o,r={}){this._checkLoaded();const n=this.getLayer(i);if(n){if(!t(n.filter,o))return null==o?(n.filter=void 0,void this._updateLayer(n)):void(this._validate(e.validateFilter,`layers.${n.id}.filter`,o,{layerType:n.type},r)||(n.filter=e.clone$1(o),this._updateLayer(n)))}else this.fire(new e.ErrorEvent(new Error(`The layer '${i}' does not exist in the map's style and cannot be filtered.`)));}getFilter(t){const i=this.getLayer(t);return i&&e.clone$1(i.filter)}setLayoutProperty(i,o,r,n={}){this._checkLoaded();const a=this.getLayer(i);a?t(a.getLayoutProperty(o),r)||(a.setLayoutProperty(o,r,n),this._updateLayer(a)):this.fire(new e.ErrorEvent(new Error(`The layer '${i}' does not exist in the map's style and cannot be styled.`)));}getLayoutProperty(t,i){const o=this.getLayer(t);if(o)return o.getLayoutProperty(i);this.fire(new e.ErrorEvent(new Error(`The layer '${t}' does not exist in the map's style.`)));}setPaintProperty(i,o,r,n={}){this._checkLoaded();const a=this.getLayer(i);a?t(a.getPaintProperty(o),r)||(a.setPaintProperty(o,r,n)&&this._updateLayer(a),this._changed=!0,this._updatedPaintProps[i]=!0):this.fire(new e.ErrorEvent(new Error(`The layer '${i}' does not exist in the map's style and cannot be styled.`)));}getPaintProperty(e,t){const i=this.getLayer(e);return i&&i.getPaintProperty(t)}setFeatureState(t,i){this._checkLoaded();const o=t.source,r=t.sourceLayer,n=this.getSource(o);if(!n)return void this.fire(new e.ErrorEvent(new Error(`The source '${o}' does not exist in the map's style.`)));const a=n.type;if(\"geojson\"===a&&r)return void this.fire(new e.ErrorEvent(new Error(\"GeoJSON sources cannot have a sourceLayer parameter.\")));if(\"vector\"===a&&!r)return void this.fire(new e.ErrorEvent(new Error(\"The sourceLayer parameter must be provided for vector source types.\")));void 0===t.id&&this.fire(new e.ErrorEvent(new Error(\"The feature id parameter must be provided.\")));const s=this._getSourceCaches(o);for(const e of s)e.setFeatureState(r,t.id,i);}removeFeatureState(t,i){this._checkLoaded();const o=t.source,r=this.getSource(o);if(!r)return void this.fire(new e.ErrorEvent(new Error(`The source '${o}' does not exist in the map's style.`)));const n=r.type,a=\"vector\"===n?t.sourceLayer:void 0;if(\"vector\"===n&&!a)return void this.fire(new e.ErrorEvent(new Error(\"The sourceLayer parameter must be provided for vector source types.\")));if(i&&\"string\"!=typeof t.id&&\"number\"!=typeof t.id)return void this.fire(new e.ErrorEvent(new Error(\"A feature id is required to remove its specific state property.\")));const s=this._getSourceCaches(o);for(const e of s)e.removeFeatureState(a,t.id,i);}getFeatureState(t){this._checkLoaded();const i=t.source,o=t.sourceLayer,r=this.getSource(i);if(r){if(\"vector\"!==r.type||o)return void 0===t.id&&this.fire(new e.ErrorEvent(new Error(\"The feature id parameter must be provided.\"))),this._getSourceCaches(i)[0].getFeatureState(o,t.id);this.fire(new e.ErrorEvent(new Error(\"The sourceLayer parameter must be provided for vector source types.\")));}else this.fire(new e.ErrorEvent(new Error(`The source '${i}' does not exist in the map's style.`)));}getTransition(){return e.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){const t={};for(const e in this._sourceCaches){const i=this._sourceCaches[e].getSource();t[i.id]||(t[i.id]=i.serialize());}return e.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,terrain:this.getTerrain()||void 0,fog:this.stylesheet.fog,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,projection:this.stylesheet.projection,sources:t,layers:this._serializeLayers(this._order)},(e=>void 0!==e))}_updateLayer(e){this._updatedLayers[e.id]=!0;const t=this._getLayerSourceCache(e);e.source&&!this._updatedSources[e.source]&&t&&\"raster\"!==t.getSource().type&&(this._updatedSources[e.source]=\"reload\",t.pause()),this._changed=!0,e.invalidateCompiledFilter();}_flattenAndSortRenderedFeatures(e){const t=e=>\"fill-extrusion\"===this._layers[e].type,i={},o=[];for(let r=this._order.length-1;r>=0;r--){const n=this._order[r];if(t(n)){i[n]=r;for(const t of e){const e=t[n];if(e)for(const t of e)o.push(t);}}}o.sort(((e,t)=>t.intersectionZ-e.intersectionZ));const r=[];for(let n=this._order.length-1;n>=0;n--){const a=this._order[n];if(t(a))for(let e=o.length-1;e>=0;e--){const t=o[e].feature;if(i[t.layer.id]<n)break;r.push(t),o.pop();}else for(const t of e){const e=t[a];if(e)for(const t of e)r.push(t.feature);}}return r}queryRenderedFeatures(t,i,o){i&&i.filter&&this._validate(e.validateFilter,\"queryRenderedFeatures.filter\",i.filter,null,i);const r={};if(i&&i.layers){if(!Array.isArray(i.layers))return this.fire(new e.ErrorEvent(new Error(\"parameters.layers must be an Array.\"))),[];for(const t of i.layers){const i=this._layers[t];if(!i)return this.fire(new e.ErrorEvent(new Error(`The layer '${t}' does not exist in the map's style and cannot be queried for features.`))),[];r[i.source]=!0;}}const n=[];i.availableImages=this._availableImages;const a=i&&i.layers?i.layers.some((e=>{const t=this.getLayer(e);return t&&t.is3D()})):this.has3DLayers(),s=R.createFromScreenPoints(t,o);for(const e in this._sourceCaches){const t=this._sourceCaches[e].getSource().id;i.layers&&!r[t]||n.push(Re(this._sourceCaches[e],this._layers,this._serializedLayers,s,i,o,a,!!this.map._showQueryGeometry));}return this.placement&&n.push(function(e,t,i,o,r,n,a){const s={},l=n.queryRenderedSymbols(o),c=[];for(const e of Object.keys(l).map(Number))c.push(a[e]);c.sort(Be);for(const i of c){const o=i.featureIndex.lookupSymbolFeatures(l[i.bucketInstanceId],t,i.bucketIndex,i.sourceLayerIndex,r.filter,r.layers,r.availableImages,e);for(const e in o){const t=s[e]=s[e]||[],r=o[e];r.sort(((e,t)=>{const o=i.featureSortOrder;if(o){const i=o.indexOf(e.featureIndex);return o.indexOf(t.featureIndex)-i}return t.featureIndex-e.featureIndex}));for(const e of r)t.push(e);}}for(const t in s)s[t].forEach((o=>{const r=o.feature,n=i(e[t]).getFeatureState(r.layer[\"source-layer\"],r.id);r.source=r.layer.source,r.layer[\"source-layer\"]&&(r.sourceLayer=r.layer[\"source-layer\"]),r.state=n;}));return s}(this._layers,this._serializedLayers,this._getLayerSourceCache.bind(this),s.screenGeometry,i,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(n)}querySourceFeatures(t,i){i&&i.filter&&this._validate(e.validateFilter,\"querySourceFeatures.filter\",i.filter,null,i);const o=this._getSourceCaches(t);let r=[];for(const e of o)r=r.concat(Oe(e,i));return r}addSourceType(e,t,i){return ei.getSourceType(e)?i(new Error(`A source type called \"${e}\" already exists.`)):(ei.setSourceType(e,t),t.workerSourceURL?void this.dispatcher.broadcast(\"loadWorkerSource\",{name:e,url:t.workerSourceURL},i):i(null,null))}getLight(){return this.light.getLight()}setLight(e,i={}){this._checkLoaded();const o=this.light.getLight();let r=!1;for(const i in e)if(!t(e[i],o[i])){r=!0;break}if(!r)return;const n=this._setTransitionParameters({duration:300,delay:0});this.light.setLight(e,i),this.light.updateTransitions(n);}getTerrain(){return this.terrain&&1===this.terrain.drapeRenderMode?this.terrain.get():null}setTerrainForDraping(){this.setTerrain({source:\"\",exaggeration:0},0);}setTerrain(i,o=1){if(this._checkLoaded(),!i)return delete this.terrain,delete this.stylesheet.terrain,this.dispatcher.broadcast(\"enableTerrain\",!1),this._force3DLayerUpdate(),void(this._markersNeedUpdate=!0);if(1===o){if(\"object\"==typeof i.source){const t=\"terrain-dem-src\";this.addSource(t,i.source),i=e.clone$1(i),i=e.extend(i,{source:t});}if(this._validate(e.validateTerrain,\"terrain\",i))return}if(!this.terrain||this.terrain&&o!==this.terrain.drapeRenderMode)this._createTerrain(i,o);else {const o=this.terrain,r=o.get();for(const t of Object.keys(e.spec.terrain))!i.hasOwnProperty(t)&&e.spec.terrain[t].default&&(i[t]=e.spec.terrain[t].default);for(const e in i)if(!t(i[e],r[e])){o.set(i),this.stylesheet.terrain=i;const e=this._setTransitionParameters({duration:0});o.updateTransitions(e);break}}this._updateDrapeFirstLayers(),this._markersNeedUpdate=!0;}_createFog(e){const t=this.fog=new A(e,this.map.transform);this.stylesheet.fog=e;const i=this._setTransitionParameters({duration:0});t.updateTransitions(i);}_updateMarkersOpacity(){0!==this.map._markers.length&&this.map._requestDomTask((()=>{for(const e of this.map._markers)e._evaluateOpacity();}));}getFog(){return this.fog?this.fog.get():null}setFog(e){if(this._checkLoaded(),!e)return delete this.fog,delete this.stylesheet.fog,void(this._markersNeedUpdate=!0);if(this.fog){const i=this.fog,o=i.get();0===Object.keys(e).length&&i.set(e);for(const r in e)if(!t(e[r],o[r])){i.set(e),this.stylesheet.fog=e;const t=this._setTransitionParameters({duration:0});i.updateTransitions(t);break}}else this._createFog(e);this._markersNeedUpdate=!0;}_setTransitionParameters(t){return {now:e.exported.now(),transition:e.extend(t,this.stylesheet.transition)}}_updateDrapeFirstLayers(){if(!this.map._optimizeForTerrain||!this.terrain)return;const e=this._order.filter((e=>this.isLayerDraped(this._layers[e]))),t=this._order.filter((e=>!this.isLayerDraped(this._layers[e])));this._drapedFirstOrder=[],this._drapedFirstOrder.push(...e),this._drapedFirstOrder.push(...t);}_createTerrain(e,t){const i=this.terrain=new I(e,t);this.stylesheet.terrain=e,this.dispatcher.broadcast(\"enableTerrain\",!this.terrainSetForDrapingOnly()),this._force3DLayerUpdate();const o=this._setTransitionParameters({duration:0});i.updateTransitions(o);}_force3DLayerUpdate(){for(const e in this._layers){const t=this._layers[e];\"fill-extrusion\"===t.type&&this._updateLayer(t);}}_forceSymbolLayerUpdate(){for(const e in this._layers){const t=this._layers[e];\"symbol\"===t.type&&this._updateLayer(t);}}_validate(t,i,o,r,n={}){return (!n||!1!==n.validate)&&Ht(this,t.call(e.validateStyle,e.extend({key:i,style:this.serialize(),value:o,styleSpec:e.spec},r)))}_remove(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),e.evented.off(\"pluginStateChange\",this._rtlTextPluginCallback);for(const e in this._layers)this._layers[e].setEventedParent(null);for(const e in this._sourceCaches)this._sourceCaches[e].clearTiles(),this._sourceCaches[e].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove();}_clearSource(e){const t=this._getSourceCaches(e);for(const e of t)e.clearTiles();}_reloadSource(e){const t=this._getSourceCaches(e);for(const e of t)e.resume(),e.reload();}_reloadSources(){for(const e of this._getSources())e.reload&&e.reload();}_updateSources(e){for(const t in this._sourceCaches)this._sourceCaches[t].update(e);}_generateCollisionBoxes(){for(const e in this._sourceCaches){const t=this._sourceCaches[e];t.resume(),t.reload();}}_updatePlacement(t,i,o,r,n=!1){let a=!1,s=!1;const l={};for(const e of this._order){const i=this._layers[e];if(\"symbol\"!==i.type)continue;if(!l[i.source]){const e=this._getLayerSourceCache(i);if(!e)continue;l[i.source]=e.getRenderableIds(!0).map((t=>e.getTileByID(t))).sort(((e,t)=>t.tileID.overscaledZ-e.tileID.overscaledZ||(e.tileID.isLessThan(t.tileID)?-1:1)));}const o=this.crossTileSymbolIndex.addLayer(i,l[i.source],t.center.lng,t.projection);a=a||o;}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),n=n||this._layerOrderChanged||0===o,this._layerOrderChanged&&this.fire(new e.Event(\"neworder\")),(n||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(e.exported.now(),t.zoom))&&(this.pauseablePlacement=new Zt(t,this._order,n,i,o,r,this.placement,this.fog&&t.projection.supportsFog?this.fog.state:null),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,l),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(e.exported.now()),s=!0),a&&this.pauseablePlacement.placement.setStale()),s||a)for(const e of this._order){const t=this._layers[e];\"symbol\"===t.type&&this.placement.updateLayerOpacities(t,l[t.source]);}return !this.pauseablePlacement.isDone()||this.placement.hasTransitions(e.exported.now())}_releaseSymbolFadeTiles(){for(const e in this._sourceCaches)this._sourceCaches[e].releaseSymbolFadeTiles();}getImages(e,t,i){this.imageManager.getImages(t.icons,i),this._updateTilesForChangedImages();const o=e=>{e&&e.setDependencies(t.tileID.key,t.type,t.icons);};o(this._otherSourceCaches[t.source]),o(this._symbolSourceCaches[t.source]);}getGlyphs(e,t,i){this.glyphManager.getGlyphs(t.stacks,i);}getResource(t,i,o){return e.makeRequest(i,o)}_getSourceCache(e){return this._otherSourceCaches[e]}_getLayerSourceCache(e){return \"symbol\"===e.type?this._symbolSourceCaches[e.source]:this._otherSourceCaches[e.source]}_getSourceCaches(e){const t=[];return this._otherSourceCaches[e]&&t.push(this._otherSourceCaches[e]),this._symbolSourceCaches[e]&&t.push(this._symbolSourceCaches[e]),t}_isSourceCacheLoaded(t){const i=this._getSourceCaches(t);return 0===i.length?(this.fire(new e.ErrorEvent(new Error(`There is no source with ID '${t}'`))),!1):i.every((e=>e.loaded()))}has3DLayers(){return this._num3DLayers>0}hasSymbolLayers(){return this._numSymbolLayers>0}hasCircleLayers(){return this._numCircleLayers>0}_clearWorkerCaches(){this.dispatcher.broadcast(\"clearCaches\");}destroy(){this._clearWorkerCaches(),this.terrainSetForDrapingOnly()&&(delete this.terrain,delete this.stylesheet.terrain);}}ei.getSourceType=function(e){return Ae[e]},ei.setSourceType=function(e,t){Ae[e]=t;},ei.registerForPluginStateChange=e.registerForPluginStateChange;var ti=\"\\n#define EPSILON 0.0000001\\n#define PI 3.141592653589793\\n#define EXTENT 8192.0\\n#define HALF_PI PI/2.0\\n#define QUARTER_PI PI/4.0\\n#define RAD_TO_DEG 180.0/PI\\n#define DEG_TO_RAD PI/180.0\\n#define GLOBE_RADIUS EXTENT/PI/2.0\",ii=\"attribute highp vec3 a_pos_3f;uniform lowp mat4 u_matrix;varying highp vec3 v_uv;void main() {const mat3 half_neg_pi_around_x=mat3(1.0,0.0, 0.0,0.0,0.0,-1.0,0.0,1.0, 0.0);v_uv=half_neg_pi_around_x*a_pos_3f;vec4 pos=u_matrix*vec4(a_pos_3f,1.0);gl_Position=pos.xyww;}\",oi=\"\\n#define ELEVATION_SCALE 7.0\\n#define ELEVATION_OFFSET 450.0\\n#ifdef PROJECTION_GLOBE_VIEW\\nuniform vec3 u_tile_tl_up;uniform vec3 u_tile_tr_up;uniform vec3 u_tile_br_up;uniform vec3 u_tile_bl_up;uniform float u_tile_up_scale;vec3 elevationVector(vec2 pos) {vec2 uv=pos/EXTENT;vec3 up=normalize(mix(\\nmix(u_tile_tl_up,u_tile_tr_up,uv.xxx),mix(u_tile_bl_up,u_tile_br_up,uv.xxx),uv.yyy));return up*u_tile_up_scale;}\\n#else\\nvec3 elevationVector(vec2 pos) { return vec3(0,0,1); }\\n#endif\\n#ifdef TERRAIN\\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\\nuniform highp sampler2D u_dem;uniform highp sampler2D u_dem_prev;\\n#else\\nuniform sampler2D u_dem;uniform sampler2D u_dem_prev;\\n#endif\\nuniform vec4 u_dem_unpack;uniform vec2 u_dem_tl;uniform vec2 u_dem_tl_prev;uniform float u_dem_scale;uniform float u_dem_scale_prev;uniform float u_dem_size;uniform float u_dem_lerp;uniform float u_exaggeration;uniform float u_meter_to_dem;uniform mat4 u_label_plane_matrix_inv;uniform sampler2D u_depth;uniform vec2 u_depth_size_inv;vec4 tileUvToDemSample(vec2 uv,float dem_size,float dem_scale,vec2 dem_tl) {vec2 pos=dem_size*(uv*dem_scale+dem_tl)+1.0;vec2 f=fract(pos);return vec4((pos-f+0.5)/(dem_size+2.0),f);}float decodeElevation(vec4 v) {return dot(vec4(v.xyz*255.0,-1.0),u_dem_unpack);}float currentElevation(vec2 apos) {\\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\\nvec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale+u_dem_tl)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem,pos).a;\\n#else\\nfloat dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale,u_dem_tl);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem,pos));\\n#ifdef TERRAIN_DEM_NEAREST_FILTER\\nreturn u_exaggeration*tl;\\n#endif\\nfloat tr=decodeElevation(texture2D(u_dem,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);\\n#endif\\n}float prevElevation(vec2 apos) {\\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\\nvec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale_prev+u_dem_tl_prev)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem_prev,pos).a;\\n#else\\nfloat dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale_prev,u_dem_tl_prev);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem_prev,pos));float tr=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem_prev,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);\\n#endif\\n}\\n#ifdef TERRAIN_VERTEX_MORPHING\\nfloat elevation(vec2 apos) {float nextElevation=currentElevation(apos);float prevElevation=prevElevation(apos);return mix(prevElevation,nextElevation,u_dem_lerp);}\\n#else\\nfloat elevation(vec2 apos) {return currentElevation(apos);}\\n#endif\\nhighp float unpack_depth(highp vec4 rgba_depth)\\n{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}bool isOccluded(vec4 frag) {vec3 coord=frag.xyz/frag.w;float depth=unpack_depth(texture2D(u_depth,(coord.xy+1.0)*0.5));return coord.z > depth+0.0005;}float occlusionFade(vec4 frag) {vec3 coord=frag.xyz/frag.w;vec3 df=vec3(5.0*u_depth_size_inv,0.0);vec2 uv=0.5*coord.xy+0.5;vec4 depth=vec4(\\nunpack_depth(texture2D(u_depth,uv-df.xz)),unpack_depth(texture2D(u_depth,uv+df.xz)),unpack_depth(texture2D(u_depth,uv-df.zy)),unpack_depth(texture2D(u_depth,uv+df.zy))\\n);return dot(vec4(0.25),vec4(1.0)-clamp(300.0*(vec4(coord.z-0.001)-depth),0.0,1.0));}vec4 fourSample(vec2 pos,vec2 off) {\\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\\nfloat tl=texture2D(u_dem,pos).a;float tr=texture2D(u_dem,pos+vec2(off.x,0.0)).a;float bl=texture2D(u_dem,pos+vec2(0.0,off.y)).a;float br=texture2D(u_dem,pos+off).a;\\n#else\\nvec4 demtl=vec4(texture2D(u_dem,pos).xyz*255.0,-1.0);float tl=dot(demtl,u_dem_unpack);vec4 demtr=vec4(texture2D(u_dem,pos+vec2(off.x,0.0)).xyz*255.0,-1.0);float tr=dot(demtr,u_dem_unpack);vec4 dembl=vec4(texture2D(u_dem,pos+vec2(0.0,off.y)).xyz*255.0,-1.0);float bl=dot(dembl,u_dem_unpack);vec4 dembr=vec4(texture2D(u_dem,pos+off).xyz*255.0,-1.0);float br=dot(dembr,u_dem_unpack);\\n#endif\\nreturn vec4(tl,tr,bl,br);}float flatElevation(vec2 pack) {vec2 apos=floor(pack/8.0);vec2 span=10.0*(pack-apos*8.0);vec2 uvTex=(apos-vec2(1.0,1.0))/8190.0;float size=u_dem_size+2.0;float dd=1.0/size;vec2 pos=u_dem_size*(uvTex*u_dem_scale+u_dem_tl)+1.0;vec2 f=fract(pos);pos=(pos-f+0.5)*dd;vec4 h=fourSample(pos,vec2(dd));float z=mix(mix(h.x,h.y,f.x),mix(h.z,h.w,f.x),f.y);vec2 w=floor(0.5*(span*u_meter_to_dem-1.0));vec2 d=dd*w;vec4 bounds=vec4(d,vec2(1.0)-d);h=fourSample(pos-d,2.0*d+vec2(dd));vec4 diff=abs(h.xzxy-h.ywzw);vec2 slope=min(vec2(0.25),u_meter_to_dem*0.5*(diff.xz+diff.yw)/(2.0*w+vec2(1.0)));vec2 fix=slope*span;float base=z+max(fix.x,fix.y);return u_exaggeration*base;}float elevationFromUint16(float word) {return u_exaggeration*(word/ELEVATION_SCALE-ELEVATION_OFFSET);}\\n#else\\nfloat elevation(vec2 pos) { return 0.0; }bool isOccluded(vec4 frag) { return false; }float occlusionFade(vec4 frag) { return 1.0; }\\n#endif\",ri=\"#ifdef FOG\\nuniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump mat4 u_fog_matrix;varying vec3 v_fog_pos;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}vec3 fog_position(vec3 pos) {return (u_fog_matrix*vec4(pos,1.0)).xyz;}vec3 fog_position(vec2 pos) {return fog_position(vec3(pos,0.0));}float fog(vec3 pos) {float depth=length(pos);float opacity=fog_opacity(fog_range(depth));return opacity*fog_horizon_blending(pos/depth);}\\n#endif\",ni=\"#ifdef FOG\\nuniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump float u_fog_temporal_offset;varying vec3 v_fog_pos;uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform highp vec2 u_viewport;uniform float u_globe_transition;uniform int u_is_globe;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}float globe_glow_progress() {highp vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(\\nmix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);highp vec3 dir=normalize(ray_dir);highp vec3 closest_point=dot(u_globe_pos,dir)*dir;highp float sdf=length(closest_point-u_globe_pos)/u_globe_radius;return sdf+PI*0.5;}float fog_opacity(vec3 pos) {float depth=length(pos);return fog_opacity(fog_range(depth));}vec3 fog_apply(vec3 color,vec3 pos) {float depth=length(pos);float opacity;if (u_is_globe==1) {float glow_progress=globe_glow_progress();float t=mix(glow_progress,depth,u_globe_transition);opacity=fog_opacity(fog_range(t));} else {opacity=fog_opacity(fog_range(depth));opacity*=fog_horizon_blending(pos/depth);}return mix(color,u_fog_color.rgb,opacity);}vec4 fog_apply_from_vert(vec4 color,float fog_opac) {float alpha=EPSILON+color.a;color.rgb=mix(color.rgb/alpha,u_fog_color.rgb,fog_opac)*alpha;return color;}vec3 fog_apply_sky_gradient(vec3 camera_ray,vec3 sky_color) {float horizon_blend=fog_horizon_blending(normalize(camera_ray));return mix(sky_color,u_fog_color.rgb,horizon_blend);}vec4 fog_apply_premultiplied(vec4 color,vec3 pos) {float alpha=EPSILON+color.a;color.rgb=fog_apply(color.rgb/alpha,pos)*alpha;return color;}vec3 fog_dither(vec3 color) {vec2 dither_seed=gl_FragCoord.xy+u_fog_temporal_offset;return dither(color,dither_seed);}vec4 fog_dither(vec4 color) {return vec4(fog_dither(color.rgb),color.a);}\\n#endif\";let ai={},si={};const li=[];di(ti,li),di(oi,li),di(ri,li),di(ni,li),ai=pi(\"\",oi),si=pi(ni,ri);const ci=pi(\"\\nhighp vec3 hash(highp vec2 p) {highp vec3 p3=fract(p.xyx*vec3(443.8975,397.2973,491.1871));p3+=dot(p3,p3.yxz+19.19);return fract((p3.xxy+p3.yzz)*p3.zyx);}vec3 dither(vec3 color,highp vec2 seed) {vec3 rnd=hash(seed)+hash(seed+0.59374)-0.5;return color+rnd/255.0;}highp float unpack_depth(highp vec4 rgba_depth)\\n{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}highp vec4 pack_depth(highp float ndc_z) {highp float depth=ndc_z*0.5+0.5;const highp vec4 bit_shift=vec4(255.0*255.0*255.0,255.0*255.0,255.0,1.0);const highp vec4 bit_mask =vec4(0.0,1.0/255.0,1.0/255.0,1.0/255.0);highp vec4 res=fract(depth*bit_shift);res-=res.xxyz*bit_mask;return res;}\",\"\\nfloat wrap(float n,float min,float max) {float d=max-min;float w=mod(mod(n-min,d)+d,d)+min;return (w==min) ? max : w;}\\n#ifdef PROJECTION_GLOBE_VIEW\\nvec3 mercator_tile_position(mat4 matrix,vec2 tile_anchor,vec3 tile_id,vec2 mercator_center) {\\n#ifndef PROJECTED_POS_ON_VIEWPORT\\nfloat tiles=tile_id.z;vec2 mercator=(tile_anchor/EXTENT+tile_id.xy)/tiles;mercator-=mercator_center;mercator.x=wrap(mercator.x,-0.5,0.5);vec4 mercator_tile=vec4(mercator.xy*EXTENT,EXTENT/(2.0*PI),1.0);mercator_tile=matrix*mercator_tile;return mercator_tile.xyz;\\n#else\\nreturn vec3(0.0);\\n#endif\\n}vec3 mix_globe_mercator(vec3 globe,vec3 mercator,float t) {return mix(globe,mercator,t);}mat3 globe_mercator_surface_vectors(vec3 pos_normal,vec3 up_dir,float zoom_transition) {vec3 normal=zoom_transition==0.0 ? pos_normal : normalize(mix(pos_normal,up_dir,zoom_transition));vec3 xAxis=normalize(vec3(normal.z,0.0,-normal.x));vec3 yAxis=normalize(cross(normal,xAxis));return mat3(xAxis,yAxis,normal);}\\n#endif\\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(\\nunpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}const vec4 AWAY=vec4(-1000.0,-1000.0,-1000.0,1);//Normalized device coordinate that is not rendered.\"),hi=ti,_i=\"\\n#ifdef GL_ES\\nprecision mediump float;\\n#else\\n\\n#if !defined(lowp)\\n#define lowp\\n#endif\\n\\n#if !defined(mediump)\\n#define mediump\\n#endif\\n\\n#if !defined(highp)\\n#define highp\\n#endif\\n\\n#endif\";var ui={background:pi(\"uniform vec4 u_color;uniform float u_opacity;void main() {vec4 out_color=u_color;\\n#ifdef FOG\\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\\n#endif\\ngl_FragColor=out_color*u_opacity;\\n#ifdef OVERDRAW_INSPECTOR\\ngl_FragColor=vec4(1.0);\\n#endif\\n}\",\"attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);\\n#ifdef FOG\\nv_fog_pos=fog_position(a_pos);\\n#endif\\n}\"),backgroundPattern:pi(\"uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 out_color=mix(color1,color2,u_mix);\\n#ifdef FOG\\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\\n#endif\\ngl_FragColor=out_color*u_opacity;\\n#ifdef OVERDRAW_INSPECTOR\\ngl_FragColor=vec4(1.0);\\n#endif\\n}\",\"uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);\\n#ifdef FOG\\nv_fog_pos=fog_position(a_pos);\\n#endif\\n}\"),circle:pi(\"varying vec3 v_data;varying float v_visibility;\\n#pragma mapbox: define highp vec4 color\\n#pragma mapbox: define mediump float radius\\n#pragma mapbox: define lowp float blur\\n#pragma mapbox: define lowp float opacity\\n#pragma mapbox: define highp vec4 stroke_color\\n#pragma mapbox: define mediump float stroke_width\\n#pragma mapbox: define lowp float stroke_opacity\\nvoid main() {\\n#pragma mapbox: initialize highp vec4 color\\n#pragma mapbox: initialize mediump float radius\\n#pragma mapbox: initialize lowp float blur\\n#pragma mapbox: initialize lowp float opacity\\n#pragma mapbox: initialize highp vec4 stroke_color\\n#pragma mapbox: initialize mediump float stroke_width\\n#pragma mapbox: initialize lowp float stroke_opacity\\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(\\nantialiased_blur,0.0,extrude_length-radius/(radius+stroke_width)\\n);vec4 out_color=mix(color*opacity,stroke_color*stroke_opacity,color_t);\\n#ifdef FOG\\nout_color=fog_apply_premultiplied(out_color,v_fog_pos);\\n#endif\\ngl_FragColor=out_color*(v_visibility*opacity_t);\\n#ifdef OVERDRAW_INSPECTOR\\ngl_FragColor=vec4(1.0);\\n#endif\\n}\",\"#define NUM_VISIBILITY_RINGS 2\\n#define INV_SQRT2 0.70710678\\n#define ELEVATION_BIAS 0.0001\\n#define NUM_SAMPLES_PER_RING 16\\nuniform mat4 u_matrix;uniform mat2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;\\n#ifdef PROJECTION_GLOBE_VIEW\\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;\\n#endif\\nvarying vec3 v_data;varying float v_visibility;\\n#pragma mapbox: define highp vec4 color\\n#pragma mapbox: define mediump float radius\\n#pragma mapbox: define lowp float blur\\n#pragma mapbox: define lowp float opacity\\n#pragma mapbox: define highp vec4 stroke_color\\n#pragma mapbox: define mediump float stroke_width\\n#pragma mapbox: define lowp float stroke_opacity\\nvec2 calc_offset(vec2 extrusion,float radius,float stroke_width, float view_scale) {return extrusion*(radius+stroke_width)*u_extrude_scale*view_scale;}float cantilevered_elevation(vec2 pos,float radius,float stroke_width,float view_scale) {vec2 c1=pos+calc_offset(vec2(-1,-1),radius,stroke_width,view_scale);vec2 c2=pos+calc_offset(vec2(1,-1),radius,stroke_width,view_scale);vec2 c3=pos+calc_offset(vec2(1,1),radius,stroke_width,view_scale);vec2 c4=pos+calc_offset(vec2(-1,1),radius,stroke_width,view_scale);float h1=elevation(c1)+ELEVATION_BIAS;float h2=elevation(c2)+ELEVATION_BIAS;float h3=elevation(c3)+ELEVATION_BIAS;float h4=elevation(c4)+ELEVATION_BIAS;return max(h4,max(h3,max(h1,h2)));}float circle_elevation(vec2 pos) {\\n#if defined(TERRAIN)\\nreturn elevation(pos)+ELEVATION_BIAS;\\n#else\\nreturn 0.0;\\n#endif\\n}vec4 project_vertex(vec2 extrusion,vec4 world_center,vec4 projected_center,float radius,float stroke_width, float view_scale,mat3 surface_vectors) {vec2 sample_offset=calc_offset(extrusion,radius,stroke_width,view_scale);\\n#ifdef PITCH_WITH_MAP\\n#ifdef PROJECTION_GLOBE_VIEW\\nreturn u_matrix*( world_center+vec4(sample_offset.x*surface_vectors[0]+sample_offset.y*surface_vectors[1],0) );\\n#else\\nreturn u_matrix*( world_center+vec4(sample_offset,0,0) );\\n#endif\\n#else\\nreturn projected_center+vec4(sample_offset,0,0);\\n#endif\\n}float get_sample_step() {\\n#ifdef PITCH_WITH_MAP\\nreturn 2.0*PI/float(NUM_SAMPLES_PER_RING);\\n#else\\nreturn PI/float(NUM_SAMPLES_PER_RING);\\n#endif\\n}void main(void) {\\n#pragma mapbox: initialize highp vec4 color\\n#pragma mapbox: initialize mediump float radius\\n#pragma mapbox: initialize lowp float blur\\n#pragma mapbox: initialize lowp float opacity\\n#pragma mapbox: initialize highp vec4 stroke_color\\n#pragma mapbox: initialize mediump float stroke_width\\n#pragma mapbox: initialize lowp float stroke_opacity\\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);vec4 world_center;mat3 surface_vectors;\\n#ifdef PROJECTION_GLOBE_VIEW\\nvec3 pos_normal_3=a_pos_normal_3/16384.0;surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(circle_center)*circle_elevation(circle_center);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*circle_elevation(circle_center);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,circle_center,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;vec3 pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);world_center=vec4(pos,1);\\n#else \\nsurface_vectors=mat3(1.0);float height=circle_elevation(circle_center);world_center=vec4(circle_center,height,1);\\n#endif\\nvec4 projected_center=u_matrix*world_center;float view_scale=0.0;\\n#ifdef PITCH_WITH_MAP\\n#ifdef SCALE_WITH_MAP\\nview_scale=1.0;\\n#else\\nview_scale=projected_center.w/u_camera_to_center_distance;\\n#endif\\n#else\\n#ifdef SCALE_WITH_MAP\\nview_scale=u_camera_to_center_distance;\\n#else\\nview_scale=projected_center.w;\\n#endif\\n#endif\\ngl_Position=project_vertex(extrude,world_center,projected_center,radius,stroke_width,view_scale,surface_vectors);float visibility=0.0;\\n#ifdef TERRAIN\\nfloat step=get_sample_step();vec4 occlusion_world_center;vec4 occlusion_projected_center;\\n#ifdef PITCH_WITH_MAP\\nfloat cantilevered_height=cantilevered_elevation(circle_center,radius,stroke_width,view_scale);occlusion_world_center=vec4(circle_center,cantilevered_height,1);occlusion_projected_center=u_matrix*occlusion_world_center;\\n#else\\nocclusion_world_center=world_center;occlusion_projected_center=projected_center;\\n#endif\\nfor(int ring=0; ring < NUM_VISIBILITY_RINGS; ring++) {float scale=(float(ring)+1.0)/float(NUM_VISIBILITY_RINGS);for(int i=0; i < NUM_SAMPLES_PER_RING; i++) {vec2 extrusion=vec2(cos(step*float(i)),-sin(step*float(i)))*scale;vec4 frag_pos=project_vertex(extrusion,occlusion_world_center,occlusion_projected_center,radius,stroke_width,view_scale,surface_vectors);visibility+=float(!isOccluded(frag_pos));}}visibility/=float(NUM_VISIBILITY_RINGS)*float(NUM_SAMPLES_PER_RING);\\n#else\\nvisibility=1.0;\\n#endif\\n#ifdef PROJECTION_GLOBE_VIEW\\nvisibility=1.0;\\n#endif\\nv_visibility=visibility;lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);\\n#ifdef FOG\\nv_fog_pos=fog_position(world_center.xyz);\\n#endif\\n}\"),clippingMask:pi(\"void main() {gl_FragColor=vec4(1.0);}\",\"attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}\"),heatmap:pi(\"uniform highp float u_intensity;varying vec2 v_extrude;\\n#pragma mapbox: define highp float weight\\n#define GAUSS_COEF 0.3989422804014327\\nvoid main() {\\n#pragma mapbox: initialize highp float weight\\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\\n#ifdef FOG\\nif (u_is_globe==0) {gl_FragColor.r*=pow(1.0-fog_opacity(v_fog_pos),2.0);}\\n#endif\\n#ifdef OVERDRAW_INSPECTOR\\ngl_FragColor=vec4(1.0);\\n#endif\\n}\",\"uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;\\n#ifdef PROJECTION_GLOBE_VIEW\\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;\\n#endif\\nvarying vec2 v_extrude;\\n#pragma mapbox: define highp float weight\\n#pragma mapbox: define mediump float radius\\nconst highp float ZERO=1.0/255.0/16.0;\\n#define GAUSS_COEF 0.3989422804014327\\nvoid main(void) {\\n#pragma mapbox: initialize highp float weight\\n#pragma mapbox: initialize mediump float radius\\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 tilePos=floor(a_pos*0.5);vec3 pos;\\n#ifdef PROJECTION_GLOBE_VIEW\\nvec3 pos_normal_3=a_pos_normal_3/16384.0;mat3 surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(tilePos)*elevation(tilePos);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*elevation(tilePos);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,tilePos,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);\\n#else\\npos=vec3(tilePos+extrude,elevation(tilePos));\\n#endif\\ngl_Position=u_matrix*vec4(pos,1);\\n#ifdef FOG\\nv_fog_pos=fog_position(pos);\\n#endif\\n}\"),heatmapTexture:pi(\"uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\\n#ifdef OVERDRAW_INSPECTOR\\ngl_FragColor=vec4(0.0);\\n#endif\\n}\",\"attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=vec4(a_pos,0,1);v_pos=a_pos*0.5+0.5;}\"),collisionBox:pi(\"varying float v_placed;varying float v_notUsed;void main() {vec4 red =vec4(1.0,0.0,0.0,1.0);vec4 blue=vec4(0.0,0.0,1.0,0.5);gl_FragColor =mix(red,blue,step(0.5,v_placed))*0.5;gl_FragColor*=mix(1.0,0.1,step(0.5,v_notUsed));}\",\"attribute vec3 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;attribute float a_size_scale;attribute vec2 a_padding;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_pos+elevationVector(a_anchor_pos)*elevation(a_anchor_pos),1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(\\n0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,1.5);gl_Position=projectedPoint;gl_Position.xy+=(a_extrude*a_size_scale+a_shift+a_padding)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}\"),collisionCircle:pi(\"varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}\",\"attribute vec2 a_pos_2f;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos_2f;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(\\nmix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(\\n0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}\"),debug:pi(\"uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}\",\"attribute vec2 a_pos;\\n#ifdef PROJECTION_GLOBE_VIEW\\nattribute vec3 a_pos_3;\\n#endif\\nvarying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {float h=elevation(a_pos);v_uv=a_pos/8192.0;\\n#ifdef PROJECTION_GLOBE_VIEW\\ngl_Position=u_matrix*vec4(a_pos_3+elevationVector(a_pos)*h,1);\\n#else\\ngl_Position=u_matrix*vec4(a_pos*u_overlay_scale,h,1);\\n#endif\\n}\"),fill:pi(\"#pragma mapbox: define highp vec4 color\\n#pragma mapbox: define lowp float opacity\\nvoid main() {\\n#pragma mapbox: initialize highp vec4 color\\n#pragma mapbox: initialize lowp float opacity\\nvec4 out_color=color;\\n#ifdef FOG\\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\\n#endif\\ngl_FragColor=out_color*opacity;\\n#ifdef OVERDRAW_INSPECTOR\\ngl_FragColor=vec4(1.0);\\n#endif\\n}\",\"attribute vec2 a_pos;uniform mat4 u_matrix;\\n#pragma mapbox: define highp vec4 color\\n#pragma mapbox: define lowp float opacity\\nvoid main() {\\n#pragma mapbox: initialize highp vec4 color\\n#pragma mapbox: initialize lowp float opacity\\ngl_Position=u_matrix*vec4(a_pos,0,1);\\n#ifdef FOG\\nv_fog_pos=fog_position(a_pos);\\n#endif\\n}\"),fillOutline:pi(\"varying vec2 v_pos;\\n#pragma mapbox: define highp vec4 outline_color\\n#pragma mapbox: define lowp float opacity\\nvoid main() {\\n#pragma mapbox: initialize highp vec4 outline_color\\n#pragma mapbox: initialize lowp float opacity\\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=outline_color;\\n#ifdef FOG\\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\\n#endif\\ngl_FragColor=out_color*(alpha*opacity);\\n#ifdef OVERDRAW_INSPECTOR\\ngl_FragColor=vec4(1.0);\\n#endif\\n}\",\"attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\\n#pragma mapbox: define highp vec4 outline_color\\n#pragma mapbox: define lowp float opacity\\nvoid main() {\\n#pragma mapbox: initialize highp vec4 outline_color\\n#pragma mapbox: initialize lowp float opacity\\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;\\n#ifdef FOG\\nv_fog_pos=fog_position(a_pos);\\n#endif\\n}\"),fillOutlinePattern:pi(\"uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\\n#pragma mapbox: define lowp float opacity\\n#pragma mapbox: define lowp vec4 pattern_from\\n#pragma mapbox: define lowp vec4 pattern_to\\nvoid main() {\\n#pragma mapbox: initialize lowp float opacity\\n#pragma mapbox: initialize mediump vec4 pattern_from\\n#pragma mapbox: initialize mediump vec4 pattern_to\\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=mix(color1,color2,u_fade);\\n#ifdef FOG\\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\\n#endif\\ngl_FragColor=out_color*(alpha*opacity);\\n#ifdef OVERDRAW_INSPECTOR\\ngl_FragColor=vec4(1.0);\\n#endif\\n}\",\"uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\\n#pragma mapbox: define lowp float opacity\\n#pragma mapbox: define lowp vec4 pattern_from\\n#pragma mapbox: define lowp vec4 pattern_to\\n#pragma mapbox: define lowp float pixel_ratio_from\\n#pragma mapbox: define lowp float pixel_ratio_to\\nvoid main() {\\n#pragma mapbox: initialize lowp float opacity\\n#pragma mapbox: initialize mediump vec4 pattern_from\\n#pragma mapbox: initialize mediump vec4 pattern_to\\n#pragma mapbox: initialize lowp float pixel_ratio_from\\n#pragma mapbox: initialize lowp float pixel_ratio_to\\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;\\n#ifdef FOG\\nv_fog_pos=fog_position(a_pos);\\n#endif\\n}\"),fillPattern:pi(\"uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\\n#pragma mapbox: define lowp float opacity\\n#pragma mapbox: define lowp vec4 pattern_from\\n#pragma mapbox: define lowp vec4 pattern_to\\nvoid main() {\\n#pragma mapbox: initialize lowp float opacity\\n#pragma mapbox: initialize mediump vec4 pattern_from\\n#pragma mapbox: initialize mediump vec4 pattern_to\\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 out_color=mix(color1,color2,u_fade);\\n#ifdef FOG\\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\\n#endif\\ngl_FragColor=out_color*opacity;\\n#ifdef OVERDRAW_INSPECTOR\\ngl_FragColor=vec4(1.0);\\n#endif\\n}\",\"uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\\n#pragma mapbox: define lowp float opacity\\n#pragma mapbox: define lowp vec4 pattern_from\\n#pragma mapbox: define lowp vec4 pattern_to\\n#pragma mapbox: define lowp float pixel_ratio_from\\n#pragma mapbox: define lowp float pixel_ratio_to\\nvoid main() {\\n#pragma mapbox: initialize lowp float opacity\\n#pragma mapbox: initialize mediump vec4 pattern_from\\n#pragma mapbox: initialize mediump vec4 pattern_to\\n#pragma mapbox: initialize lowp float pixel_ratio_from\\n#pragma mapbox: initialize lowp float pixel_ratio_to\\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);\\n#ifdef FOG\\nv_fog_pos=fog_position(a_pos);\\n#endif\\n}\"),fillExtrusion:pi(\"varying vec4 v_color;\\n#ifdef RENDER_SHADOWS\\nvarying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying float v_depth;\\n#endif\\n#ifdef FAUX_AO\\nuniform lowp vec2 u_ao;varying vec3 v_ao;\\n#endif\\n#ifdef ZERO_ROOF_RADIUS\\nvarying vec4 v_roof_color;\\n#endif\\n#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)\\nvarying highp vec3 v_normal;\\n#endif\\nvoid main() {\\n#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)\\nvec3 normal=v_normal;\\n#endif\\nfloat z;vec4 color;\\n#ifdef ZERO_ROOF_RADIUS\\nz=float(normal.z > 0.00001);color=mix(v_color,v_roof_color,z);\\n#else\\ncolor=v_color;\\n#endif\\n#ifdef FAUX_AO\\nfloat intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;\\n#ifdef ZERO_ROOF_RADIUS\\nconcave*=(1.0-z);\\n#endif\\nfloat x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);color.rgb=color.rgb*shade;\\n#endif\\n#ifdef RENDER_SHADOWS\\n#ifdef ZERO_ROOF_RADIUS\\nnormal=mix(normal,vec3(0.0,0.0,1.0),z);\\n#endif\\ncolor.xyz=shadowed_color_normal(color.xyz,normalize(normal),v_pos_light_view_0,v_pos_light_view_1,v_depth);\\n#endif\\n#ifdef FOG\\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\\n#endif\\ngl_FragColor=color;\\n#ifdef OVERDRAW_INSPECTOR\\ngl_FragColor=vec4(1.0);\\n#endif\\n}\",\"uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform float u_edge_radius;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;\\n#ifdef PROJECTION_GLOBE_VIEW\\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;\\n#endif\\nvarying vec4 v_color;\\n#ifdef RENDER_SHADOWS\\nuniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying float v_depth;\\n#endif\\n#ifdef ZERO_ROOF_RADIUS\\nvarying vec4 v_roof_color;\\n#endif\\n#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)\\nvarying highp vec3 v_normal;\\n#endif\\n#ifdef FAUX_AO\\nuniform lowp vec2 u_ao;varying vec3 v_ao;\\n#endif\\n#pragma mapbox: define highp float base\\n#pragma mapbox: define highp float height\\n#pragma mapbox: define highp vec4 color\\nvoid main() {\\n#pragma mapbox: initialize highp float base\\n#pragma mapbox: initialize highp float height\\n#pragma mapbox: initialize highp vec4 color\\nvec4 pos_nx=floor(a_pos_normal_ed*0.5);vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));\\n#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)\\nv_normal=normal;\\n#endif\\nbase=max(0.0,base);height=max(0.0,top_up_ny.y==0.0 && top_up_ny.x==1.0 ? height-u_edge_radius : height);float t=top_up_ny.x;vec2 centroid_pos=vec2(0.0);\\n#if defined(HAS_CENTROID) || defined(TERRAIN)\\ncentroid_pos=a_centroid_pos;\\n#endif\\nfloat ele=0.0;float h=0.0;float c_ele;vec3 pos;\\n#ifdef TERRAIN\\nbool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);pos=vec3(pos_nx.xy,h);\\n#else\\nh=t > 0.0 ? height : base;pos=vec3(pos_nx.xy,h);\\n#endif\\n#ifdef PROJECTION_GLOBE_VIEW\\nfloat lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*h);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,pos.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*pos.z;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);\\n#endif\\nfloat hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(pos,1),AWAY,hidden);\\n#ifdef RENDER_SHADOWS\\nv_pos_light_view_0=u_light_matrix_0*vec4(pos,1);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1);v_depth=gl_Position.w;\\n#endif\\nfloat colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=(\\n(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}\\n#ifdef FAUX_AO\\nfloat concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;\\n#ifdef TERRAIN\\ntop_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);\\n#endif\\nv_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);directional*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);\\n#ifdef PROJECTION_GLOBE_VIEW\\ntop_height+=u_height_lift;\\n#endif\\ngl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;\\n#endif\\nv_color.rgb+=clamp(color.rgb*directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_color*=u_opacity;\\n#ifdef ZERO_ROOF_RADIUS\\nv_roof_color=vec4(0.0,0.0,0.0,1.0);float roof_radiance=clamp(u_lightpos.z,0.0,1.0);roof_radiance=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),roof_radiance);v_roof_color.rgb+=clamp(color.rgb*roof_radiance*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_roof_color*=u_opacity;\\n#endif\\n#ifdef FOG\\nv_fog_pos=fog_position(pos);\\n#endif\\n}\"),fillExtrusionPattern:pi(\"uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;\\n#ifdef FAUX_AO\\nuniform lowp vec2 u_ao;varying vec3 v_ao;\\n#endif\\nvarying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\\n#pragma mapbox: define lowp float base\\n#pragma mapbox: define lowp float height\\n#pragma mapbox: define lowp vec4 pattern_from\\n#pragma mapbox: define lowp vec4 pattern_to\\n#pragma mapbox: define lowp float pixel_ratio_from\\n#pragma mapbox: define lowp float pixel_ratio_to\\nvoid main() {\\n#pragma mapbox: initialize lowp float base\\n#pragma mapbox: initialize lowp float height\\n#pragma mapbox: initialize mediump vec4 pattern_from\\n#pragma mapbox: initialize mediump vec4 pattern_to\\n#pragma mapbox: initialize lowp float pixel_ratio_from\\n#pragma mapbox: initialize lowp float pixel_ratio_to\\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 out_color=mix(color1,color2,u_fade);out_color=out_color*v_lighting;\\n#ifdef FAUX_AO\\nfloat intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);out_color.rgb=out_color.rgb*shade;\\n#endif\\n#ifdef FOG\\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\\n#endif\\ngl_FragColor=out_color;\\n#ifdef OVERDRAW_INSPECTOR\\ngl_FragColor=vec4(1.0);\\n#endif\\n}\",\"uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;\\n#ifdef PROJECTION_GLOBE_VIEW\\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;\\n#endif\\nvarying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\\n#ifdef FAUX_AO\\nuniform lowp vec2 u_ao;varying vec3 v_ao;\\n#endif\\n#pragma mapbox: define lowp float base\\n#pragma mapbox: define lowp float height\\n#pragma mapbox: define lowp vec4 pattern_from\\n#pragma mapbox: define lowp vec4 pattern_to\\n#pragma mapbox: define lowp float pixel_ratio_from\\n#pragma mapbox: define lowp float pixel_ratio_to\\nvoid main() {\\n#pragma mapbox: initialize lowp float base\\n#pragma mapbox: initialize lowp float height\\n#pragma mapbox: initialize mediump vec4 pattern_from\\n#pragma mapbox: initialize mediump vec4 pattern_to\\n#pragma mapbox: initialize lowp float pixel_ratio_from\\n#pragma mapbox: initialize lowp float pixel_ratio_to\\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec4 pos_nx=floor(a_pos_normal_ed*0.5);mediump vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;mediump vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));float edgedistance=a_pos_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;float z=t > 0.0 ? height : base;vec2 centroid_pos=vec2(0.0);\\n#if defined(HAS_CENTROID) || defined(TERRAIN)\\ncentroid_pos=a_centroid_pos;\\n#endif\\nfloat ele=0.0;float h=z;vec3 p;float c_ele;\\n#ifdef TERRAIN\\nbool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);p=vec3(pos_nx.xy,h);\\n#else\\np=vec3(pos_nx.xy,z);\\n#endif\\n#ifdef PROJECTION_GLOBE_VIEW\\nfloat lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*(p.z+lift));vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,p.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*p.z;p=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);\\n#endif\\nfloat hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(p,1),AWAY,hidden);vec2 pos=normal.z==1.0\\n? pos_nx.xy\\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=(\\n(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}\\n#ifdef FAUX_AO\\nfloat concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;\\n#ifdef TERRAIN\\ntop_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);\\n#endif\\nv_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);directional*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);\\n#ifdef PROJECTION_GLOBE_VIEW\\ntop_height+=u_height_lift;\\n#endif\\ngl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;\\n#endif\\nv_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;\\n#ifdef FOG\\nv_fog_pos=fog_position(p);\\n#endif\\n}\"),hillshadePrepare:pi(\"#ifdef GL_ES\\nprecision highp float;\\n#endif\\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord) {\\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\\nreturn texture2D(u_image,coord).a/4.0;\\n#else\\nvec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;\\n#endif\\n}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y));float b=getElevation(v_pos+vec2(0,-epsilon.y));float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y));float d=getElevation(v_pos+vec2(-epsilon.x,0));float e=getElevation(v_pos);float f=getElevation(v_pos+vec2(epsilon.x,0));float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y));float h=getElevation(v_pos+vec2(0,epsilon.y));float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y));float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2(\\n(c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c)\\n)/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(\\nderiv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\\n#ifdef OVERDRAW_INSPECTOR\\ngl_FragColor=vec4(1.0);\\n#endif\\n}\",\"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}\"),hillshade:pi(\"uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\\n#ifdef FOG\\ngl_FragColor=fog_dither(fog_apply_premultiplied(gl_FragColor,v_fog_pos));\\n#endif\\n#ifdef OVERDRAW_INSPECTOR\\ngl_FragColor=vec4(1.0);\\n#endif\\n}\",\"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;\\n#ifdef FOG\\nv_fog_pos=fog_position(a_pos);\\n#endif\\n}\"),line:pi(\"uniform lowp float u_device_pixel_ratio;uniform float u_alpha_discard_threshold;uniform highp vec2 u_trim_offset;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec4 v_uv;\\n#ifdef RENDER_LINE_DASH\\nuniform sampler2D u_dash_image;uniform float u_mix;uniform vec3 u_scale;varying vec2 v_tex_a;varying vec2 v_tex_b;\\n#endif\\n#ifdef RENDER_LINE_GRADIENT\\nuniform sampler2D u_gradient_image;\\n#endif\\nuniform float u_border_width;uniform vec4 u_border_color;float luminance(vec3 c) {return (c.r+c.r+c.b+c.g+c.g+c.g)*0.1667;}\\n#pragma mapbox: define highp vec4 color\\n#pragma mapbox: define lowp float floorwidth\\n#pragma mapbox: define lowp vec4 dash_from\\n#pragma mapbox: define lowp vec4 dash_to\\n#pragma mapbox: define lowp float blur\\n#pragma mapbox: define lowp float opacity\\nvoid main() {\\n#pragma mapbox: initialize highp vec4 color\\n#pragma mapbox: initialize lowp float floorwidth\\n#pragma mapbox: initialize lowp vec4 dash_from\\n#pragma mapbox: initialize lowp vec4 dash_to\\n#pragma mapbox: initialize lowp float blur\\n#pragma mapbox: initialize lowp float opacity\\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);\\n#ifdef RENDER_LINE_DASH\\nfloat sdfdist_a=texture2D(u_dash_image,v_tex_a).a;float sdfdist_b=texture2D(u_dash_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);float sdfwidth=min(dash_from.z*u_scale.y,dash_to.z*u_scale.z);float sdfgamma=1.0/(2.0*u_device_pixel_ratio)/sdfwidth;alpha*=smoothstep(0.5-sdfgamma/floorwidth,0.5+sdfgamma/floorwidth,sdfdist);\\n#endif\\n#ifdef RENDER_LINE_GRADIENT\\nhighp vec4 out_color=texture2D(u_gradient_image,v_uv.xy);\\n#else\\nvec4 out_color=color;\\n#endif\\n#ifdef RENDER_LINE_TRIM_OFFSET\\nhighp float start=v_uv[2];highp float end=v_uv[3];highp float trim_start=u_trim_offset[0];highp float trim_end=u_trim_offset[1];highp float line_progress=(start+(v_uv.x)*(end-start));if (trim_end > trim_start) {if (line_progress <=trim_end && line_progress >=trim_start) {out_color=vec4(0,0,0,0);}}\\n#endif\\n#ifdef FOG\\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\\n#endif\\n#ifdef RENDER_LINE_ALPHA_DISCARD\\nif (alpha < u_alpha_discard_threshold) {discard;}\\n#endif\\n#ifdef RENDER_LINE_BORDER\\nfloat edgeBlur=(u_border_width+1.0/u_device_pixel_ratio);float alpha2=clamp(min(dist-(v_width2.t-edgeBlur),v_width2.s-dist)/edgeBlur,0.0,1.0);if (alpha2 < 1.) {float smoothAlpha=smoothstep(0.6,1.0,alpha2);\\n#ifdef RENDER_LINE_BORDER_AUTO\\nfloat Y=(out_color.a > 0.01) ? luminance(out_color.rgb/out_color.a) : 1.;float adjustment=(Y > 0.) ? 0.5/Y : 0.45;if (out_color.a > 0.25 && Y < 0.25) {vec3 borderColor=(Y > 0.) ? out_color.rgb : vec3(1,1,1)*out_color.a;out_color.rgb=out_color.rgb+borderColor*(adjustment*(1.0-smoothAlpha));} else {out_color.rgb*=(0.6 +0.4*smoothAlpha);}\\n#else\\nout_color.rgb=mix(u_border_color.rgb,out_color.rgb,smoothAlpha);\\n#endif\\n}\\n#endif\\ngl_FragColor=out_color*(alpha*opacity);\\n#ifdef OVERDRAW_INSPECTOR\\ngl_FragColor=vec4(1.0);\\n#endif\\n}\",\"\\n#define EXTRUDE_SCALE 0.015873016\\nattribute vec2 a_pos_normal;attribute vec4 a_data;\\n#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)\\nattribute highp vec4 a_packed;\\n#endif\\n#ifdef RENDER_LINE_DASH\\nattribute float a_linesofar;\\n#endif\\nuniform mat4 u_matrix;uniform mat2 u_pixels_to_tile_units;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec4 v_uv;\\n#ifdef RENDER_LINE_DASH\\nuniform vec2 u_texsize;uniform mediump vec3 u_scale;varying vec2 v_tex_a;varying vec2 v_tex_b;\\n#endif\\n#ifdef RENDER_LINE_GRADIENT\\nuniform float u_image_height;\\n#endif\\n#pragma mapbox: define highp vec4 color\\n#pragma mapbox: define lowp float floorwidth\\n#pragma mapbox: define lowp vec4 dash_from\\n#pragma mapbox: define lowp vec4 dash_to\\n#pragma mapbox: define lowp float blur\\n#pragma mapbox: define lowp float opacity\\n#pragma mapbox: define mediump float gapwidth\\n#pragma mapbox: define lowp float offset\\n#pragma mapbox: define mediump float width\\nvoid main() {\\n#pragma mapbox: initialize highp vec4 color\\n#pragma mapbox: initialize lowp float floorwidth\\n#pragma mapbox: initialize lowp vec4 dash_from\\n#pragma mapbox: initialize lowp vec4 dash_to\\n#pragma mapbox: initialize lowp float blur\\n#pragma mapbox: initialize lowp float opacity\\n#pragma mapbox: initialize mediump float gapwidth\\n#pragma mapbox: initialize lowp float offset\\n#pragma mapbox: initialize mediump float width\\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*EXTRUDE_SCALE;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*EXTRUDE_SCALE*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;\\n#ifndef RENDER_TO_TEXTURE\\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\\n#else\\nv_gamma_scale=1.0;\\n#endif\\n#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)\\nfloat a_uv_x=a_packed[0];float a_split_index=a_packed[1];highp float a_clip_start=a_packed[2];highp float a_clip_end=a_packed[3];\\n#ifdef RENDER_LINE_GRADIENT\\nhighp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec4(a_uv_x,a_split_index*texel_height-half_texel_height,a_clip_start,a_clip_end);\\n#else\\nv_uv=vec4(a_uv_x,0.0,a_clip_start,a_clip_end);\\n#endif\\n#endif\\n#ifdef RENDER_LINE_DASH\\nfloat tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;float scaleA=dash_from.z==0.0 ? 0.0 : tileZoomRatio/(dash_from.z*fromScale);float scaleB=dash_to.z==0.0 ? 0.0 : tileZoomRatio/(dash_to.z*toScale);float heightA=dash_from.y;float heightB=dash_to.y;v_tex_a=vec2(a_linesofar*scaleA/floorwidth,(-normal.y*heightA+dash_from.x+0.5)/u_texsize.y);v_tex_b=vec2(a_linesofar*scaleB/floorwidth,(-normal.y*heightB+dash_to.x+0.5)/u_texsize.y);\\n#endif\\nv_width2=vec2(outset,inset);\\n#ifdef FOG\\nv_fog_pos=fog_position(pos);\\n#endif\\n}\"),linePattern:pi(\"uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\\n#pragma mapbox: define lowp vec4 pattern_from\\n#pragma mapbox: define lowp vec4 pattern_to\\n#pragma mapbox: define lowp float pixel_ratio_from\\n#pragma mapbox: define lowp float pixel_ratio_to\\n#pragma mapbox: define lowp float blur\\n#pragma mapbox: define lowp float opacity\\nvoid main() {\\n#pragma mapbox: initialize mediump vec4 pattern_from\\n#pragma mapbox: initialize mediump vec4 pattern_to\\n#pragma mapbox: initialize lowp float pixel_ratio_from\\n#pragma mapbox: initialize lowp float pixel_ratio_to\\n#pragma mapbox: initialize lowp float blur\\n#pragma mapbox: initialize lowp float opacity\\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);\\n#ifdef FOG\\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\\n#endif\\ngl_FragColor=color*(alpha*opacity);\\n#ifdef OVERDRAW_INSPECTOR\\ngl_FragColor=vec4(1.0);\\n#endif\\n}\",\"\\n#define scale 0.015873016\\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_linesofar;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mat2 u_pixels_to_tile_units;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\\n#pragma mapbox: define lowp float blur\\n#pragma mapbox: define lowp float opacity\\n#pragma mapbox: define lowp float offset\\n#pragma mapbox: define mediump float gapwidth\\n#pragma mapbox: define mediump float width\\n#pragma mapbox: define lowp float floorwidth\\n#pragma mapbox: define lowp vec4 pattern_from\\n#pragma mapbox: define lowp vec4 pattern_to\\n#pragma mapbox: define lowp float pixel_ratio_from\\n#pragma mapbox: define lowp float pixel_ratio_to\\nvoid main() {\\n#pragma mapbox: initialize lowp float blur\\n#pragma mapbox: initialize lowp float opacity\\n#pragma mapbox: initialize lowp float offset\\n#pragma mapbox: initialize mediump float gapwidth\\n#pragma mapbox: initialize mediump float width\\n#pragma mapbox: initialize lowp float floorwidth\\n#pragma mapbox: initialize mediump vec4 pattern_from\\n#pragma mapbox: initialize mediump vec4 pattern_to\\n#pragma mapbox: initialize lowp float pixel_ratio_from\\n#pragma mapbox: initialize lowp float pixel_ratio_to\\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;\\n#ifndef RENDER_TO_TEXTURE\\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\\n#else\\nv_gamma_scale=1.0;\\n#endif\\nv_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;\\n#ifdef FOG\\nv_fog_pos=fog_position(pos);\\n#endif\\n}\"),raster:pi(\"uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(\\ndot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);vec3 out_color=mix(u_high_vec,u_low_vec,rgb);\\n#ifdef FOG\\nout_color=fog_dither(fog_apply(out_color,v_fog_pos));\\n#endif\\ngl_FragColor=vec4(out_color*color.a,color.a);\\n#ifdef OVERDRAW_INSPECTOR\\ngl_FragColor=vec4(1.0);\\n#endif\\n}\",\"uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform vec2 u_perspective_transform;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {float w=1.0+dot(a_texture_pos,u_perspective_transform);gl_Position=u_matrix*vec4(a_pos*w,0,w);v_pos0=a_texture_pos/8192.0;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;\\n#ifdef FOG\\nv_fog_pos=fog_position(a_pos);\\n#endif\\n}\"),symbolIcon:pi(\"uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\\n#pragma mapbox: define lowp float opacity\\nvoid main() {\\n#pragma mapbox: initialize lowp float opacity\\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\\n#ifdef OVERDRAW_INSPECTOR\\ngl_FragColor=vec4(1.0);\\n#endif\\n}\",\"attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;\\n#ifdef PROJECTION_GLOBE_VIEW\\nattribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;\\n#endif\\nuniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform vec3 u_up_vector;\\n#ifdef PROJECTION_GLOBE_VIEW\\nuniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;\\n#endif\\nvarying vec2 v_tex;varying float v_fade_opacity;\\n#pragma mapbox: define lowp float opacity\\nvoid main() {\\n#pragma mapbox: initialize lowp float opacity\\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_min_font_scale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;\\n#ifdef PROJECTION_GLOBE_VIEW\\nmercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;\\n#else\\nworld_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;\\n#endif\\nvec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?\\ncamera_to_anchor_distance/u_camera_to_center_distance :\\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjected_point;\\n#ifdef PROJECTION_GLOBE_VIEW\\nvec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetProjected_point=u_matrix*vec4(a_globe_anchor+displacement,1);\\n#else\\noffsetProjected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);\\n#endif\\nvec2 a=projected_point.xy/projected_point.w;vec2 b=offsetProjected_point.xy/offsetProjected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;\\n#ifdef PROJECTION_GLOBE_VIEW\\nvec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);\\n#else\\nprojected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);\\n#endif\\nhighp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*max(a_min_font_scale,font_scale)+a_pxoffset/16.0);\\n#ifdef TERRAIN\\n#ifdef PITCH_WITH_MAP_TERRAIN\\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\\n#endif\\n#endif\\nfloat occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;\\n#ifdef PROJECTION_GLOBE_VIEW\\nvec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\\n#else\\ngl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\\n#endif\\nfloat projection_transition_fade=1.0;\\n#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)\\nprojection_transition_fade=1.0-step(EPSILON,u_zoom_transition);\\n#endif\\nv_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change))*projection_transition_fade;}\"),symbolSDF:pi(\"#define SDF_PX 8.0\\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\\n#pragma mapbox: define highp vec4 fill_color\\n#pragma mapbox: define highp vec4 halo_color\\n#pragma mapbox: define lowp float opacity\\n#pragma mapbox: define lowp float halo_width\\n#pragma mapbox: define lowp float halo_blur\\nvoid main() {\\n#pragma mapbox: initialize highp vec4 fill_color\\n#pragma mapbox: initialize highp vec4 halo_color\\n#pragma mapbox: initialize lowp float opacity\\n#pragma mapbox: initialize lowp float halo_width\\n#pragma mapbox: initialize lowp float halo_blur\\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\\n#ifdef OVERDRAW_INSPECTOR\\ngl_FragColor=vec4(1.0);\\n#endif\\n}\",\"attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;\\n#ifdef PROJECTION_GLOBE_VIEW\\nattribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;\\n#endif\\nuniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;\\n#ifdef PROJECTION_GLOBE_VIEW\\nuniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;\\n#endif\\nvarying vec2 v_data0;varying vec3 v_data1;\\n#pragma mapbox: define highp vec4 fill_color\\n#pragma mapbox: define highp vec4 halo_color\\n#pragma mapbox: define lowp float opacity\\n#pragma mapbox: define lowp float halo_width\\n#pragma mapbox: define lowp float halo_blur\\nvoid main() {\\n#pragma mapbox: initialize highp vec4 fill_color\\n#pragma mapbox: initialize highp vec4 halo_color\\n#pragma mapbox: initialize lowp float opacity\\n#pragma mapbox: initialize lowp float halo_width\\n#pragma mapbox: initialize lowp float halo_blur\\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;\\n#ifdef PROJECTION_GLOBE_VIEW\\nmercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;\\n#else\\nworld_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;\\n#endif\\nvec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?\\ncamera_to_anchor_distance/u_camera_to_center_distance :\\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetprojected_point;\\n#ifdef PROJECTION_GLOBE_VIEW\\nvec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetprojected_point=u_matrix*vec4(a_globe_anchor+displacement,1);\\n#else\\noffsetprojected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);\\n#endif\\nvec2 a=projected_point.xy/projected_point.w;vec2 b=offsetprojected_point.xy/offsetprojected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;\\n#ifdef PROJECTION_GLOBE_VIEW\\nvec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);\\n#else\\nprojected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);\\n#endif\\nhighp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset);\\n#ifdef TERRAIN\\n#ifdef PITCH_WITH_MAP_TERRAIN\\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\\n#endif\\n#endif\\nfloat occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;\\n#ifdef PROJECTION_GLOBE_VIEW\\nvec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\\n#else\\ngl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\\n#endif\\nfloat gamma_scale=gl_Position.w;float projection_transition_fade=1.0;\\n#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)\\nprojection_transition_fade=1.0-step(EPSILON,u_zoom_transition);\\n#endif\\nvec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade);}\"),symbolTextAndIcon:pi(\"#define SDF_PX 8.0\\n#define SDF 1.0\\n#define ICON 0.0\\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\\n#pragma mapbox: define highp vec4 fill_color\\n#pragma mapbox: define highp vec4 halo_color\\n#pragma mapbox: define lowp float opacity\\n#pragma mapbox: define lowp float halo_width\\n#pragma mapbox: define lowp float halo_blur\\nvoid main() {\\n#pragma mapbox: initialize highp vec4 fill_color\\n#pragma mapbox: initialize highp vec4 halo_color\\n#pragma mapbox: initialize lowp float opacity\\n#pragma mapbox: initialize lowp float halo_width\\n#pragma mapbox: initialize lowp float halo_blur\\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\\n#ifdef OVERDRAW_INSPECTOR\\ngl_FragColor=vec4(1.0);\\n#endif\\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\\n#ifdef OVERDRAW_INSPECTOR\\ngl_FragColor=vec4(1.0);\\n#endif\\n}\",\"attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_projected_pos;attribute float a_fade_opacity;\\n#ifdef PROJECTION_GLOBE_VIEW\\nattribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;\\n#endif\\nuniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;uniform vec2 u_texsize_icon;\\n#ifdef PROJECTION_GLOBE_VIEW\\nuniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;\\n#endif\\nvarying vec4 v_data0;varying vec4 v_data1;\\n#pragma mapbox: define highp vec4 fill_color\\n#pragma mapbox: define highp vec4 halo_color\\n#pragma mapbox: define lowp float opacity\\n#pragma mapbox: define lowp float halo_width\\n#pragma mapbox: define lowp float halo_blur\\nvoid main() {\\n#pragma mapbox: initialize highp vec4 fill_color\\n#pragma mapbox: initialize highp vec4 halo_color\\n#pragma mapbox: initialize lowp float opacity\\n#pragma mapbox: initialize lowp float halo_width\\n#pragma mapbox: initialize lowp float halo_blur\\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;\\n#ifdef PROJECTION_GLOBE_VIEW\\nmercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;\\n#else\\nworld_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;\\n#endif\\nvec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?\\ncamera_to_anchor_distance/u_camera_to_center_distance :\\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offset_projected_point=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projected_point.xy/projected_point.w;vec2 b=offset_projected_point.xy/offset_projected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;\\n#ifdef PROJECTION_GLOBE_VIEW\\nvec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);\\n#else\\nprojected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);\\n#endif\\nhighp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*font_scale);\\n#ifdef TERRAIN\\n#ifdef PITCH_WITH_MAP_TERRAIN\\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\\n#endif\\n#endif\\nfloat occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;\\n#ifdef PROJECTION_GLOBE_VIEW\\nvec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\\n#else\\ngl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\\n#endif\\nfloat gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));float projection_transition_fade=1.0;\\n#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)\\nprojection_transition_fade=1.0-step(EPSILON,u_zoom_transition);\\n#endif\\nv_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade,is_sdf);}\"),terrainRaster:pi(\"uniform sampler2D u_image0;varying vec2 v_pos0;\\n#ifdef FOG\\nvarying float v_fog_opacity;\\n#endif\\n#ifdef RENDER_SHADOWS\\nvarying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;\\n#endif\\nvoid main() {vec4 color=texture2D(u_image0,v_pos0);\\n#ifdef RENDER_SHADOWS\\ncolor.xyz=shadowed_color(color.xyz,v_pos_light_view_0,v_pos_light_view_1,v_depth);\\n#endif\\n#ifdef FOG\\ncolor=fog_dither(fog_apply_from_vert(color,v_fog_opacity));\\n#endif\\ngl_FragColor=color;\\n#ifdef TERRAIN_WIREFRAME\\ngl_FragColor=vec4(1.0,0.0,0.0,0.8);\\n#endif\\n#ifdef OVERDRAW_INSPECTOR\\ngl_FragColor=vec4(1.0);\\n#endif\\n}\",\"uniform mat4 u_matrix;uniform float u_skirt_height;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;\\n#ifdef FOG\\nvarying float v_fog_opacity;\\n#endif\\n#ifdef RENDER_SHADOWS\\nuniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;\\n#endif\\nconst float skirtOffset=24575.0;const float wireframeOffset=0.00015;void main() {v_pos0=a_texture_pos/8192.0;float skirt=float(a_pos.x >=skirtOffset);float elevation=elevation(a_texture_pos)-skirt*u_skirt_height;\\n#ifdef TERRAIN_WIREFRAME\\nelevation+=u_skirt_height*u_skirt_height*wireframeOffset;\\n#endif\\nvec2 decodedPos=a_pos-vec2(skirt*skirtOffset,0.0);gl_Position=u_matrix*vec4(decodedPos,elevation,1.0);\\n#ifdef FOG\\nv_fog_opacity=fog(fog_position(vec3(decodedPos,elevation)));\\n#endif\\n#ifdef RENDER_SHADOWS\\nvec3 pos=vec3(decodedPos,elevation);v_pos_light_view_0=u_light_matrix_0*vec4(pos,1.);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1.);v_depth=gl_Position.w;\\n#endif\\n}\"),terrainDepth:pi(\"#ifdef GL_ES\\nprecision highp float;\\n#endif\\nvarying float v_depth;void main() {gl_FragColor=pack_depth(v_depth);}\",\"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying float v_depth;void main() {float elevation=elevation(a_texture_pos);gl_Position=u_matrix*vec4(a_pos,elevation,1.0);v_depth=gl_Position.z/gl_Position.w;}\"),skybox:pi(\"\\nvarying lowp vec3 v_uv;uniform lowp samplerCube u_cubemap;uniform lowp float u_opacity;uniform highp float u_temporal_offset;uniform highp vec3 u_sun_direction;float sun_disk(highp vec3 ray_direction,highp vec3 sun_direction) {highp float cos_angle=dot(normalize(ray_direction),sun_direction);const highp float cos_sun_angular_diameter=0.99996192306;const highp float smoothstep_delta=1e-5;return smoothstep(\\ncos_sun_angular_diameter-smoothstep_delta,cos_sun_angular_diameter+smoothstep_delta,cos_angle);}float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec3 uv=v_uv;const float y_bias=0.015;uv.y+=y_bias;uv.y=pow(abs(uv.y),1.0/5.0);uv.y=map(uv.y,0.0,1.0,-1.0,1.0);vec3 sky_color=textureCube(u_cubemap,uv).rgb;\\n#ifdef FOG\\nsky_color=fog_apply_sky_gradient(v_uv.xzy,sky_color);\\n#endif\\nsky_color.rgb=dither(sky_color.rgb,gl_FragCoord.xy+u_temporal_offset);sky_color+=0.1*sun_disk(v_uv,u_sun_direction);gl_FragColor=vec4(sky_color*u_opacity,u_opacity);\\n#ifdef OVERDRAW_INSPECTOR\\ngl_FragColor=vec4(1.0);\\n#endif\\n}\",ii),skyboxGradient:pi(\"varying highp vec3 v_uv;uniform lowp sampler2D u_color_ramp;uniform highp vec3 u_center_direction;uniform lowp float u_radius;uniform lowp float u_opacity;uniform highp float u_temporal_offset;void main() {float progress=acos(dot(normalize(v_uv),u_center_direction))/u_radius;vec4 color=texture2D(u_color_ramp,vec2(progress,0.5));\\n#ifdef FOG\\ncolor.rgb=fog_apply_sky_gradient(v_uv.xzy,color.rgb/color.a)*color.a;\\n#endif\\ncolor*=u_opacity;color.rgb=dither(color.rgb,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=color;\\n#ifdef OVERDRAW_INSPECTOR\\ngl_FragColor=vec4(1.0);\\n#endif\\n}\",ii),skyboxCapture:pi(\"\\nvarying highp vec3 v_position;uniform highp float u_sun_intensity;uniform highp float u_luminance;uniform lowp vec3 u_sun_direction;uniform highp vec4 u_color_tint_r;uniform highp vec4 u_color_tint_m;\\n#ifdef GL_ES\\nprecision highp float;\\n#endif\\n#define BETA_R                  vec3(5.5e-6,13.0e-6,22.4e-6)\\n#define BETA_M                  vec3(21e-6,21e-6,21e-6)\\n#define MIE_G                   0.76\\n#define DENSITY_HEIGHT_SCALE_R  8000.0\\n#define DENSITY_HEIGHT_SCALE_M  1200.0\\n#define PLANET_RADIUS           6360e3\\n#define ATMOSPHERE_RADIUS       6420e3\\n#define SAMPLE_STEPS            10\\n#define DENSITY_STEPS           4\\nfloat ray_sphere_exit(vec3 orig,vec3 dir,float radius) {float a=dot(dir,dir);float b=2.0*dot(dir,orig);float c=dot(orig,orig)-radius*radius;float d=sqrt(b*b-4.0*a*c);return (-b+d)/(2.0*a);}vec3 extinction(vec2 density) {return exp(-vec3(BETA_R*u_color_tint_r.a*density.x+BETA_M*u_color_tint_m.a*density.y));}vec2 local_density(vec3 point) {float height=max(length(point)-PLANET_RADIUS,0.0);float exp_r=exp(-height/DENSITY_HEIGHT_SCALE_R);float exp_m=exp(-height/DENSITY_HEIGHT_SCALE_M);return vec2(exp_r,exp_m);}float phase_ray(float cos_angle) {return (3.0/(16.0*PI))*(1.0+cos_angle*cos_angle);}float phase_mie(float cos_angle) {return (3.0/(8.0*PI))*((1.0-MIE_G*MIE_G)*(1.0+cos_angle*cos_angle))/((2.0+MIE_G*MIE_G)*pow(1.0+MIE_G*MIE_G-2.0*MIE_G*cos_angle,1.5));}vec2 density_to_atmosphere(vec3 point,vec3 light_dir) {float ray_len=ray_sphere_exit(point,light_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(DENSITY_STEPS);vec2 density_point_to_atmosphere=vec2(0.0);for (int i=0; i < DENSITY_STEPS;++i) {vec3 point_on_ray=point+light_dir*((float(i)+0.5)*step_len);density_point_to_atmosphere+=local_density(point_on_ray)*step_len;;}return density_point_to_atmosphere;}vec3 atmosphere(vec3 ray_dir,vec3 sun_direction,float sun_intensity) {vec2 density_orig_to_point=vec2(0.0);vec3 scatter_r=vec3(0.0);vec3 scatter_m=vec3(0.0);vec3 origin=vec3(0.0,PLANET_RADIUS,0.0);float ray_len=ray_sphere_exit(origin,ray_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(SAMPLE_STEPS);for (int i=0; i < SAMPLE_STEPS;++i) {vec3 point_on_ray=origin+ray_dir*((float(i)+0.5)*step_len);vec2 density=local_density(point_on_ray)*step_len;density_orig_to_point+=density;vec2 density_point_to_atmosphere=density_to_atmosphere(point_on_ray,sun_direction);vec2 density_orig_to_atmosphere=density_orig_to_point+density_point_to_atmosphere;vec3 extinction=extinction(density_orig_to_atmosphere);scatter_r+=density.x*extinction;scatter_m+=density.y*extinction;}float cos_angle=dot(ray_dir,sun_direction);float phase_r=phase_ray(cos_angle);float phase_m=phase_mie(cos_angle);vec3 beta_r=BETA_R*u_color_tint_r.rgb*u_color_tint_r.a;vec3 beta_m=BETA_M*u_color_tint_m.rgb*u_color_tint_m.a;return (scatter_r*phase_r*beta_r+scatter_m*phase_m*beta_m)*sun_intensity;}const float A=0.15;const float B=0.50;const float C=0.10;const float D=0.20;const float E=0.02;const float F=0.30;vec3 uncharted2_tonemap(vec3 x) {return ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;}void main() {vec3 ray_direction=v_position;ray_direction.y=pow(ray_direction.y,5.0);const float y_bias=0.015;ray_direction.y+=y_bias;vec3 color=atmosphere(normalize(ray_direction),u_sun_direction,u_sun_intensity);float white_scale=1.0748724675633854;color=uncharted2_tonemap((log2(2.0/pow(u_luminance,4.0)))*color)*white_scale;gl_FragColor=vec4(color,1.0);}\",\"attribute highp vec3 a_pos_3f;uniform mat3 u_matrix_3f;varying highp vec3 v_position;float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec4 pos=vec4(u_matrix_3f*a_pos_3f,1.0);v_position=pos.xyz;v_position.y*=-1.0;v_position.y=map(v_position.y,-1.0,1.0,0.0,1.0);gl_Position=vec4(a_pos_3f.xy,0.0,1.0);}\"),globeRaster:pi(\"uniform sampler2D u_image0;varying vec2 v_pos0;\\n#ifndef FOG\\nuniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform vec2 u_viewport;\\n#endif\\nvoid main() {vec4 color;\\n#ifdef CUSTOM_ANTIALIASING\\nvec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(\\nmix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);vec3 dir=normalize(ray_dir);vec3 closest_point=dot(u_globe_pos,dir)*dir;float norm_dist_from_center=1.0-length(closest_point-u_globe_pos)/u_globe_radius;const float antialias_pixel=2.0;float antialias_factor=antialias_pixel*fwidth(norm_dist_from_center);float antialias=smoothstep(0.0,antialias_factor,norm_dist_from_center);vec4 raster=texture2D(u_image0,v_pos0);color=vec4(raster.rgb*antialias,raster.a*antialias);\\n#else\\ncolor=texture2D(u_image0,v_pos0);\\n#endif\\n#ifdef FOG\\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\\n#endif\\ngl_FragColor=color;\\n#ifdef TERRAIN_WIREFRAME\\ngl_FragColor=vec4(1.0,0.0,0.0,0.8);\\n#endif\\n#ifdef OVERDRAW_INSPECTOR\\ngl_FragColor=vec4(1.0);\\n#endif\\n}\",\"uniform mat4 u_proj_matrix;uniform mat4 u_normalize_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform float u_zoom_transition;uniform vec2 u_merc_center;uniform mat3 u_grid_matrix;\\n#ifdef GLOBE_POLES\\nattribute vec3 a_globe_pos;attribute vec2 a_uv;\\n#else\\nattribute vec2 a_pos;\\n#endif\\nvarying vec2 v_pos0;const float wireframeOffset=1e3;float mercatorXfromLng(float lng) {return (180.0+lng)/360.0;}float mercatorYfromLat(float lat) {return (180.0-(RAD_TO_DEG*log(tan(QUARTER_PI+lat/2.0*DEG_TO_RAD))))/360.0;}vec3 latLngToECEF(vec2 latLng) {latLng=DEG_TO_RAD*latLng;float cosLat=cos(latLng[0]);float sinLat=sin(latLng[0]);float cosLng=cos(latLng[1]);float sinLng=sin(latLng[1]);float sx=cosLat*sinLng*GLOBE_RADIUS;float sy=-sinLat*GLOBE_RADIUS;float sz=cosLat*cosLng*GLOBE_RADIUS;return vec3(sx,sy,sz);}void main() {\\n#ifdef GLOBE_POLES\\nvec3 globe_pos=a_globe_pos;vec2 uv=a_uv;\\n#else\\nfloat tiles=u_grid_matrix[0][2];float idx=u_grid_matrix[1][2];float idy=u_grid_matrix[2][2];vec3 latLng=u_grid_matrix*vec3(a_pos,1.0);float mercatorY=mercatorYfromLat(latLng[0]);float uvY=mercatorY*tiles-idy;float mercatorX=mercatorXfromLng(latLng[1]);float uvX=mercatorX*tiles-idx;vec3 globe_pos=latLngToECEF(latLng.xy);vec2 merc_pos=vec2(mercatorX,mercatorY);vec2 uv=vec2(uvX,uvY);\\n#endif\\nv_pos0=uv;vec2 tile_pos=uv*EXTENT;\\n#ifdef GLOBE_POLES\\nvec3 up_vector=normalize(globe_pos)*u_tile_up_scale;\\n#else\\nvec3 up_vector=elevationVector(tile_pos);\\n#endif\\nfloat height=elevation(tile_pos);\\n#ifdef TERRAIN_WIREFRAME\\nheight+=wireframeOffset;\\n#endif\\nglobe_pos+=up_vector*height;\\n#ifdef GLOBE_POLES\\nvec4 interpolated_pos=u_globe_matrix*vec4(globe_pos,1.0);\\n#else\\nvec4 globe_world_pos=u_globe_matrix*vec4(globe_pos,1.0);vec4 merc_world_pos=vec4(0.0);if (u_zoom_transition > 0.0) {merc_world_pos=vec4(merc_pos,height,1.0);merc_world_pos.xy-=u_merc_center;merc_world_pos.x=wrap(merc_world_pos.x,-0.5,0.5);merc_world_pos=u_merc_matrix*merc_world_pos;}vec4 interpolated_pos=vec4(mix(globe_world_pos.xyz,merc_world_pos.xyz,u_zoom_transition),1.0);\\n#endif\\ngl_Position=u_proj_matrix*interpolated_pos;\\n#ifdef FOG\\nv_fog_pos=fog_position((u_normalize_matrix*vec4(globe_pos,1.0)).xyz);\\n#endif\\n}\"),globeAtmosphere:pi(\"uniform float u_transition;uniform highp float u_fadeout_range;uniform highp float u_temporal_offset;uniform vec3 u_start_color;uniform vec4 u_color;uniform vec4 u_space_color;uniform vec4 u_high_color;uniform float u_star_intensity;uniform float u_star_size;uniform float u_star_density;uniform float u_horizon_angle;uniform mat4 u_rotation_matrix;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;highp float random(highp vec3 p) {p=fract(p*vec3(23.2342,97.1231,91.2342));p+=dot(p.zxy,p.yxz+123.1234);return fract(p.x*p.y);}float stars(vec3 p,float scale,vec2 offset) {vec2 uv_scale=(u_viewport/u_star_size)*scale;vec3 position=vec3(p.xy*uv_scale+offset*u_viewport,p.z);vec3 q=fract(position)-0.5;vec3 id=floor(position);float random_visibility=step(random(id),u_star_density);float circle=smoothstep(0.5+u_star_intensity,0.5,length(q));return circle*random_visibility;}void main() {highp vec3 dir=normalize(v_ray_dir);float globe_pos_dot_dir;\\n#ifdef PROJECTION_GLOBE_VIEW\\nglobe_pos_dot_dir=dot(u_globe_pos,dir);highp vec3 closest_point_forward=abs(globe_pos_dot_dir)*dir;float norm_dist_from_center=length(closest_point_forward-u_globe_pos)/u_globe_radius;if (norm_dist_from_center < 0.98) {discard;return;}\\n#endif\\nhighp vec3 horizon_dir=normalize(v_horizon_dir);float horizon_angle_mercator=dir.y < horizon_dir.y ?\\n0.0 : max(acos(dot(dir,horizon_dir)),0.0);float horizon_angle;\\n#ifdef PROJECTION_GLOBE_VIEW\\nhighp vec3 closest_point=globe_pos_dot_dir*dir;float closest_point_to_center=length(closest_point-u_globe_pos);float theta=asin(clamp(closest_point_to_center/length(u_globe_pos),-1.0,1.0));horizon_angle=globe_pos_dot_dir < 0.0 ?\\nPI-theta-u_horizon_angle : theta-u_horizon_angle;float angle_t=pow(u_transition,10.0);horizon_angle=mix(horizon_angle,horizon_angle_mercator,angle_t);\\n#else\\nhorizon_angle=horizon_angle_mercator;\\n#endif\\nhorizon_angle/=PI;float t=exp(-horizon_angle/u_fadeout_range);float alpha_0=u_color.a;float alpha_1=u_high_color.a;float alpha_2=u_space_color.a;vec3 color_stop_0=u_color.rgb;vec3 color_stop_1=u_high_color.rgb;vec3 color_stop_2=u_space_color.rgb;vec3 c0=mix(color_stop_2,color_stop_1,alpha_1);vec3 c1=mix(c0,color_stop_0,alpha_0);vec3 c2=mix(c0,c1,t);vec3 c =mix(color_stop_2,c2,t);float a0=mix(alpha_2,1.0,alpha_1);float a1=mix(a0,1.0,alpha_0);float a2=mix(a0,a1,t);float a =mix(alpha_2,a2,t);vec2 uv=gl_FragCoord.xy/u_viewport-0.5;float aspect_ratio=u_viewport.x/u_viewport.y;vec4 uv_dir=vec4(normalize(vec3(uv.x*aspect_ratio,uv.y,1.0)),1.0);uv_dir=u_rotation_matrix*uv_dir;vec3 n=abs(uv_dir.xyz);vec2 uv_remap=(n.x > n.y && n.x > n.z) ? uv_dir.yz/uv_dir.x:\\n(n.y > n.x && n.y > n.z) ? uv_dir.zx/uv_dir.y:\\nuv_dir.xy/uv_dir.z;uv_remap.x/=aspect_ratio;vec3 D=vec3(uv_remap,1.0);highp float star_field=0.0;if (u_star_intensity > 0.0) {star_field+=stars(D,1.2,vec2(0.0,0.0));star_field+=stars(D,1.0,vec2(1.0,0.0));star_field+=stars(D,0.8,vec2(0.0,1.0));star_field+=stars(D,0.6,vec2(1.0,1.0));star_field*=(1.0-pow(t,0.25+(1.0-u_high_color.a)*0.75));c+=star_field*alpha_2;}c=dither(c,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=vec4(c,a);}\",\"attribute vec3 a_pos;attribute vec2 a_uv;uniform vec3 u_frustum_tl;uniform vec3 u_frustum_tr;uniform vec3 u_frustum_br;uniform vec3 u_frustum_bl;uniform float u_horizon;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;void main() {v_ray_dir=mix(\\nmix(u_frustum_tl,u_frustum_tr,a_uv.x),mix(u_frustum_bl,u_frustum_br,a_uv.x),a_uv.y);v_horizon_dir=mix(\\nmix(u_frustum_tl,u_frustum_bl,u_horizon),mix(u_frustum_tr,u_frustum_br,u_horizon),a_uv.x);gl_Position=vec4(a_pos,1.0);}\")};function di(e,t){const i=e.replace(/\\s*\\/\\/[^\\n]*\\n/g,\"\\n\").split(\"\\n\");for(let e of i)if(e=e.trim(),\"#\"===e[0]&&e.includes(\"if\")&&!e.includes(\"endif\")){e=e.replace(\"#\",\"\").replace(/ifdef|ifndef|elif|if/g,\"\").replace(/!|defined|\\(|\\)|\\|\\||&&/g,\"\").replace(/\\s+/g,\" \").trim();const i=e.split(\" \");for(const e of i)t.includes(e)||t.push(e);}}function pi(e,t){const i=/#pragma mapbox: ([\\w]+) ([\\w]+) ([\\w]+) ([\\w]+)/g,o=t.match(/attribute (highp |mediump |lowp )?([\\w]+) ([\\w]+)/g),r={},n=[...li];return di(e,n),di(t,n),{fragmentSource:e=e.replace(i,((e,t,i,o,n)=>(r[n]=!0,\"define\"===t?`\\n#ifndef HAS_UNIFORM_u_${n}\\nvarying ${i} ${o} ${n};\\n#else\\nuniform ${i} ${o} u_${n};\\n#endif\\n`:`\\n#ifdef HAS_UNIFORM_u_${n}\\n    ${i} ${o} ${n} = u_${n};\\n#endif\\n`))),vertexSource:t=t.replace(i,((e,t,i,o,n)=>{const a=\"float\"===o?\"vec2\":\"vec4\",s=n.match(/color/)?\"color\":a;return r[n]?\"define\"===t?`\\n#ifndef HAS_UNIFORM_u_${n}\\nuniform lowp float u_${n}_t;\\nattribute ${i} ${a} a_${n};\\nvarying ${i} ${o} ${n};\\n#else\\nuniform ${i} ${o} u_${n};\\n#endif\\n`:\"vec4\"===s?`\\n#ifndef HAS_UNIFORM_u_${n}\\n    ${n} = a_${n};\\n#else\\n    ${i} ${o} ${n} = u_${n};\\n#endif\\n`:`\\n#ifndef HAS_UNIFORM_u_${n}\\n    ${n} = unpack_mix_${s}(a_${n}, u_${n}_t);\\n#else\\n    ${i} ${o} ${n} = u_${n};\\n#endif\\n`:\"define\"===t?`\\n#ifndef HAS_UNIFORM_u_${n}\\nuniform lowp float u_${n}_t;\\nattribute ${i} ${a} a_${n};\\n#else\\nuniform ${i} ${o} u_${n};\\n#endif\\n`:\"vec4\"===s?`\\n#ifndef HAS_UNIFORM_u_${n}\\n    ${i} ${o} ${n} = a_${n};\\n#else\\n    ${i} ${o} ${n} = u_${n};\\n#endif\\n`:`\\n#ifndef HAS_UNIFORM_u_${n}\\n    ${i} ${o} ${n} = unpack_mix_${s}(a_${n}, u_${n}_t);\\n#else\\n    ${i} ${o} ${n} = u_${n};\\n#endif\\n`})),staticAttributes:o,usedDefines:n}}class mi{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffers=[],this.vao=null;}bind(e,t,i,o,r,n,a){this.context=e;let s=this.boundPaintVertexBuffers.length!==o.length;for(let e=0;!s&&e<o.length;e++)this.boundPaintVertexBuffers[e]!==o[e]&&(s=!0);let l=this.boundDynamicVertexBuffers.length!==a.length;for(let e=0;!l&&e<a.length;e++)this.boundDynamicVertexBuffers[e]!==a[e]&&(l=!0);if(!e.extVertexArrayObject||!this.vao||this.boundProgram!==t||this.boundLayoutVertexBuffer!==i||s||l||this.boundIndexBuffer!==r||this.boundVertexOffset!==n)this.freshBind(t,i,o,r,n,a);else {e.bindVertexArrayOES.set(this.vao);for(const e of a)e&&e.bind();r&&r.dynamicDraw&&r.bind();}}freshBind(e,t,i,o,r,n){let a;const s=e.numAttributes,l=this.context,c=l.gl;if(l.extVertexArrayObject)this.vao&&this.destroy(),this.vao=l.extVertexArrayObject.createVertexArrayOES(),l.bindVertexArrayOES.set(this.vao),a=0,this.boundProgram=e,this.boundLayoutVertexBuffer=t,this.boundPaintVertexBuffers=i,this.boundIndexBuffer=o,this.boundVertexOffset=r,this.boundDynamicVertexBuffers=n;else {a=l.currentNumAttributes||0;for(let e=s;e<a;e++)c.disableVertexAttribArray(e);}t.enableAttributes(c,e),t.bind(),t.setVertexAttribPointers(c,e,r);for(const t of i)t.enableAttributes(c,e),t.bind(),t.setVertexAttribPointers(c,e,r);for(const t of n)t&&(t.enableAttributes(c,e),t.bind(),t.setVertexAttribPointers(c,e,r));o&&o.bind(),l.currentNumAttributes=s;}destroy(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null);}}function fi(t,i){const o=Math.pow(2,i.canonical.z),r=i.canonical.y;return [new e.MercatorCoordinate(0,r/o).toLngLat().lat,new e.MercatorCoordinate(0,(r+1)/o).toLngLat().lat]}function gi(t,i,o,r,n,a,s){const l=t.context,c=l.gl,h=o.fbo;if(!h)return;t.prepareDrawTile();const _=t.useProgram(\"hillshade\");l.activeTexture.set(c.TEXTURE0),c.bindTexture(c.TEXTURE_2D,h.colorAttachment.get());const u=((e,t,i,o)=>{const r=i.paint.get(\"hillshade-shadow-color\"),n=i.paint.get(\"hillshade-highlight-color\"),a=i.paint.get(\"hillshade-accent-color\");let s=i.paint.get(\"hillshade-illumination-direction\")*(Math.PI/180);\"viewport\"===i.paint.get(\"hillshade-illumination-anchor\")&&(s-=e.transform.angle);const l=!e.options.moving;return {u_matrix:o||e.transform.calculateProjMatrix(t.tileID.toUnwrapped(),l),u_image:0,u_latrange:fi(0,t.tileID),u_light:[i.paint.get(\"hillshade-exaggeration\"),s],u_shadow:r,u_highlight:n,u_accent:a}})(t,o,r,t.terrain?i.projMatrix:null);t.prepareDrawProgram(l,_,i.toUnwrapped());const{tileBoundsBuffer:d,tileBoundsIndexBuffer:p,tileBoundsSegments:m}=t.getTileBoundsBuffers(o);_.draw(l,c.TRIANGLES,n,a,s,e.CullFaceMode.disabled,u,r.id,d,p,m);}function vi(t,i,o){if(!i.needsDEMTextureUpload)return;const r=t.context,n=r.gl;r.pixelStoreUnpackPremultiplyAlpha.set(!1),i.demTexture=i.demTexture||t.getTileTexture(o.stride);const a=o.getPixels();i.demTexture?i.demTexture.update(a,{premultiply:!1}):i.demTexture=new e.Texture(r,a,n.RGBA,{premultiply:!1}),i.needsDEMTextureUpload=!1;}function xi(t,i,o,r,n,a){const s=t.context,l=s.gl;if(!i.dem)return;const c=i.dem;if(s.activeTexture.set(l.TEXTURE1),vi(t,i,c),!i.demTexture)return;i.demTexture.bind(l.NEAREST,l.CLAMP_TO_EDGE);const h=c.dim;s.activeTexture.set(l.TEXTURE0);let _=i.fbo;if(!_){const t=new e.Texture(s,{width:h,height:h,data:null},l.RGBA);t.bind(l.LINEAR,l.CLAMP_TO_EDGE),_=i.fbo=s.createFramebuffer(h,h,!0),_.colorAttachment.set(t.texture);}s.bindFramebuffer.set(_.framebuffer),s.viewport.set([0,0,h,h]);const{tileBoundsBuffer:u,tileBoundsIndexBuffer:d,tileBoundsSegments:p}=t.getMercatorTileBoundsBuffers();t.useProgram(\"hillshadePrepare\").draw(s,l.TRIANGLES,r,n,a,e.CullFaceMode.disabled,((t,i)=>{const o=i.stride,r=e.create();return e.ortho(r,0,e.EXTENT,-e.EXTENT,0,0,1),e.translate(r,r,[0,-e.EXTENT,0]),{u_matrix:r,u_image:1,u_dimension:[o,o],u_zoom:t.overscaledZ,u_unpack:i.unpackVector}})(i.tileID,c),o.id,u,d,p),i.needsHillshadePrepare=!1;}const yi=t=>({u_matrix:new e.UniformMatrix4f(t),u_image0:new e.Uniform1i(t),u_skirt_height:new e.Uniform1f(t)}),bi=(e,t)=>({u_matrix:e,u_image0:0,u_skirt_height:t}),wi=(e,t,i,o,r,n,a,s,l,c,h,_,u,d)=>({u_proj_matrix:Float32Array.from(e),u_globe_matrix:t,u_normalize_matrix:Float32Array.from(o),u_merc_matrix:i,u_zoom_transition:r,u_merc_center:n,u_image0:0,u_frustum_tl:a,u_frustum_tr:s,u_frustum_br:l,u_frustum_bl:c,u_globe_pos:h,u_globe_radius:_,u_viewport:u,u_grid_matrix:d?Float32Array.from(d):new Float32Array(9)});function Ti(e,t){return null!=e&&null!=t&&!(!e.hasData()||!t.hasData())&&null!=e.demTexture&&null!=t.demTexture&&e.tileID.key!==t.tileID.key}const Ei=new class{constructor(){this.operations={};}newMorphing(e,t,i,o,r){if(e in this.operations){const t=this.operations[e];t.to.tileID.key!==i.tileID.key&&(t.queued=i);}else this.operations[e]={startTime:o,phase:0,duration:r,from:t,to:i,queued:null};}getMorphValuesForProxy(e){if(!(e in this.operations))return null;const t=this.operations[e];return {from:t.from,to:t.to,phase:t.phase}}update(e){for(const t in this.operations){const i=this.operations[t];for(i.phase=(e-i.startTime)/i.duration;i.phase>=1||!this._validOp(i);)if(!this._nextOp(i,e)){delete this.operations[t];break}}}_nextOp(e,t){return !!e.queued&&(e.from=e.to,e.to=e.queued,e.queued=null,e.phase=0,e.startTime=t,!0)}_validOp(e){return e.from.hasData()&&e.to.hasData()}},Ci={0:null,1:\"TERRAIN_VERTEX_MORPHING\",2:\"TERRAIN_WIREFRAME\"};function Ii(e,t){const i=1<<e.z;return !t&&(0===e.x||e.x===i-1)||0===e.y||e.y===i-1}const Mi=e=>({u_matrix:e});function Si(t,i,o,r,n){if(n>0){const a=e.exported.now(),s=(a-t.timeAdded)/n,l=i?(a-i.timeAdded)/n:-1,c=o.getSource(),h=r.coveringZoomLevel({tileSize:c.tileSize,roundZoom:c.roundZoom}),_=!i||Math.abs(i.tileID.overscaledZ-h)>Math.abs(t.tileID.overscaledZ-h),u=_&&t.refreshedUponExpiration?1:e.clamp(_?s:1-l,0,1);return t.refreshedUponExpiration&&s>=1&&(t.refreshedUponExpiration=!1),i?{opacity:1,mix:1-u}:{opacity:u,mix:0}}return {opacity:1,mix:0}}class zi extends e.SourceCache{constructor(e){const t={type:\"raster-dem\",maxzoom:e.transform.maxZoom},i=new P(Ge(),null),o=Pe(\"mock-dem\",t,i,e.style);super(\"mock-dem\",o,!1),o.setEventedParent(this),this._sourceLoaded=!0;}_loadTile(e,t){e.state=\"loaded\",t(null);}}class Di extends e.SourceCache{constructor(e){const t=Pe(\"proxy\",{type:\"geojson\",maxzoom:e.transform.maxZoom},new P(Ge(),null),e.style);super(\"proxy\",t,!1),t.setEventedParent(this),this.map=this.getSource().map=e,this.used=this._sourceLoaded=!0,this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={};}update(t,i,o){if(t.freezeTileCoverage)return;this.transform=t;const r=t.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}).reduce(((i,o)=>{if(i[o.key]=\"\",!this._tiles[o.key]){const i=new e.Tile(o,this._source.tileSize*o.overscaleFactor(),t.tileZoom);i.state=\"loaded\",this._tiles[o.key]=i;}return i}),{});for(const e in this._tiles)e in r||(this.freeFBO(e),this._tiles[e].unloadVectorData(),delete this._tiles[e]);}freeFBO(e){const t=this.proxyCachedFBO[e];if(void 0!==t){const i=Object.values(t);this.renderCachePool.push(...i),delete this.proxyCachedFBO[e];}}deallocRenderCache(){this.renderCache.forEach((e=>e.fb.destroy())),this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={};}}class Ai extends e.OverscaledTileID{constructor(e,t,i){super(e.overscaledZ,e.wrap,e.canonical.z,e.canonical.x,e.canonical.y),this.proxyTileKey=t,this.projMatrix=i;}}class Pi extends e.Elevation{constructor(t,i){super(),this.painter=t,this.terrainTileForTile={},this.prevTerrainTileForTile={};const[o,r,n]=function(t){const i=new e.StructArrayLayout4i8,o=new e.StructArrayLayout3ui6,r=131;i.reserve(17161),o.reserve(33800);const n=e.EXTENT/128,a=e.EXTENT+n/2,s=a+n;for(let t=-n;t<s;t+=n)for(let o=-n;o<s;o+=n){const r=o<0||o>a||t<0||t>a?24575:0,n=e.clamp(Math.round(o),0,e.EXTENT),s=e.clamp(Math.round(t),0,e.EXTENT);i.emplaceBack(n+r,s,n,s);}const l=(e,t)=>{const i=t*r+e;o.emplaceBack(i+1,i,i+r),o.emplaceBack(i+r,i+r+1,i+1);};for(let e=1;e<129;e++)for(let t=1;t<129;t++)l(t,e);return [0,129].forEach((e=>{for(let t=0;t<130;t++)l(t,e),l(e,t);})),[i,o,32768]}(),a=t.context;this.gridBuffer=a.createVertexBuffer(o,e.boundsAttributes.members),this.gridIndexBuffer=a.createIndexBuffer(r),this.gridSegments=e.SegmentVector.simpleSegment(0,0,o.length,r.length),this.gridNoSkirtSegments=e.SegmentVector.simpleSegment(0,0,o.length,n),this.proxyCoords=[],this.proxiedCoords={},this._visibleDemTiles=[],this._drapedRenderBatches=[],this._sourceTilesOverlap={},this.proxySourceCache=new Di(i.map),this.orthoMatrix=e.create(),e.ortho(this.orthoMatrix,\"globe\"===this.painter.transform.projection.name?.015:0,e.EXTENT,0,e.EXTENT,0,1);const s=a.gl;this._overlapStencilMode=new e.StencilMode({func:s.GEQUAL,mask:255},0,255,s.KEEP,s.KEEP,s.REPLACE),this._previousZoom=t.transform.zoom,this.pool=[],this._findCoveringTileCache={},this._tilesDirty={},this.style=i,this._useVertexMorphing=!0,this._exaggeration=1,this._mockSourceCache=new zi(i.map);}set style(e){e.on(\"data\",this._onStyleDataEvent.bind(this)),e.on(\"neworder\",this._checkRenderCacheEfficiency.bind(this)),this._style=e,this._checkRenderCacheEfficiency();}update(t,i,o){if(t&&t.terrain){this._style!==t&&(this.style=t),this.enabled=!0;const r=t.terrain.properties;this.sourceCache=0===t.terrain.drapeRenderMode?this._mockSourceCache:t._getSourceCache(r.get(\"source\")),this._exaggeration=r.get(\"exaggeration\");const n=()=>{this.sourceCache.used&&e.warnOnce(`Raster DEM source '${this.sourceCache.id}' is used both for terrain and as layer source.\\nThis leads to lower resolution of hillshade. For full hillshade resolution but higher memory consumption, define another raster DEM source.`);const t=this.getScaledDemTileSize();this.sourceCache.update(i,t,!0),this.resetTileLookupCache(this.sourceCache.id);};this.sourceCache.usedForTerrain||(this.resetTileLookupCache(this.sourceCache.id),this.sourceCache.usedForTerrain=!0,n(),this._initializing=!0),n(),i.updateElevation(!o),this.resetTileLookupCache(this.proxySourceCache.id),this.proxySourceCache.update(i),this._emptyDEMTextureDirty=!0;}else this._disable();}resetTileLookupCache(e){this._findCoveringTileCache[e]={};}getScaledDemTileSize(){return this.sourceCache.getSource().tileSize/128*this.proxySourceCache.getSource().tileSize}_checkRenderCacheEfficiency(){const t=this.renderCacheEfficiency(this._style);this._style.map._optimizeForTerrain||100!==t.efficiency&&e.warnOnce(`Terrain render cache efficiency is not optimal (${t.efficiency}%) and performance\\n                may be affected negatively, consider placing all background, fill and line layers before layer\\n                with id '${t.firstUndrapedLayer}' or create a map using optimizeForTerrain: true option.`);}_onStyleDataEvent(e){e.coord&&\"source\"===e.dataType?this._clearRenderCacheForTile(e.sourceCacheId,e.coord):\"style\"===e.dataType&&(this._invalidateRenderCache=!0);}_disable(){if(this.enabled&&(this.enabled=!1,this._sharedDepthStencil=void 0,this.proxySourceCache.deallocRenderCache(),this._style))for(const e in this._style._sourceCaches)this._style._sourceCaches[e].usedForTerrain=!1;}destroy(){this._disable(),this._emptyDEMTexture&&this._emptyDEMTexture.destroy(),this._emptyDepthBufferTexture&&this._emptyDepthBufferTexture.destroy(),this.pool.forEach((e=>e.fb.destroy())),this.pool=[],this._depthFBO&&(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0);}_source(){return this.enabled?this.sourceCache:null}isUsingMockSource(){return this.sourceCache===this._mockSourceCache}exaggeration(){return this._exaggeration}get visibleDemTiles(){return this._visibleDemTiles}get drapeBufferSize(){const e=2*this.proxySourceCache.getSource().tileSize;return [e,e]}set useVertexMorphing(e){this._useVertexMorphing=e;}updateTileBinding(t){if(!this.enabled)return;this.prevTerrainTileForTile=this.terrainTileForTile;const i=this.proxySourceCache,o=this.painter.transform;this._initializing&&(this._initializing=0===o._centerAltitude&&-1===this.getAtPointOrZero(e.MercatorCoordinate.fromLngLat(o.center),-1),this._emptyDEMTextureDirty=!this._initializing);const r=this.proxyCoords=i.getIds().map((e=>{const t=i.getTileByID(e).tileID;return t.projMatrix=o.calculateProjMatrix(t.toUnwrapped()),t}));!function(t,i){const o=i.transform.pointCoordinate(i.transform.getCameraPoint()),r=new e.pointGeometry(o.x,o.y);t.sort(((t,i)=>{if(i.overscaledZ-t.overscaledZ)return i.overscaledZ-t.overscaledZ;const o=new e.pointGeometry(t.canonical.x+(1<<t.canonical.z)*t.wrap,t.canonical.y),n=new e.pointGeometry(i.canonical.x+(1<<i.canonical.z)*i.wrap,i.canonical.y),a=r.mult(1<<t.canonical.z);return a.x-=.5,a.y-=.5,a.distSqr(o)-a.distSqr(n)}));}(r,this.painter),this._previousZoom=o.zoom;const n=this.proxyToSource||{};this.proxyToSource={},r.forEach((e=>{this.proxyToSource[e.key]={};})),this.terrainTileForTile={};const a=this._style._sourceCaches;for(const e in a){const i=a[e];if(!i.used)continue;if(i!==this.sourceCache&&this.resetTileLookupCache(i.id),this._setupProxiedCoordsForOrtho(i,t[e],n),i.usedForTerrain)continue;const o=t[e];i.getSource().reparseOverscaled&&this._assignTerrainTiles(o);}this.proxiedCoords[i.id]=r.map((e=>new Ai(e,e.key,this.orthoMatrix))),this._assignTerrainTiles(r),this._prepareDEMTextures(),this._setupDrapedRenderBatches(),this._initFBOPool(),this._setupRenderCache(n),this.renderingToTexture=!1,this._updateTimestamp=e.exported.now();const s={};this._visibleDemTiles=[];for(const e of this.proxyCoords){const t=this.terrainTileForTile[e.key];if(!t)continue;const i=t.tileID.key;i in s||(this._visibleDemTiles.push(t),s[i]=i);}}_assignTerrainTiles(e){this._initializing||e.forEach((e=>{if(this.terrainTileForTile[e.key])return;const t=this._findTileCoveringTileID(e,this.sourceCache);t&&(this.terrainTileForTile[e.key]=t);}));}_prepareDEMTextures(){const e=this.painter.context,t=e.gl;for(const i in this.terrainTileForTile){const o=this.terrainTileForTile[i],r=o.dem;!r||o.demTexture&&!o.needsDEMTextureUpload||(e.activeTexture.set(t.TEXTURE1),vi(this.painter,o,r));}}_prepareDemTileUniforms(e,t,i,o){if(!t||null==t.demTexture)return !1;const r=e.tileID.canonical,n=Math.pow(2,t.tileID.canonical.z-r.z),a=o||\"\";return i[`u_dem_tl${a}`]=[r.x*n%1,r.y*n%1],i[`u_dem_scale${a}`]=n,!0}get emptyDEMTexture(){return !this._emptyDEMTextureDirty&&this._emptyDEMTexture?this._emptyDEMTexture:this._updateEmptyDEMTexture()}get emptyDepthBufferTexture(){const t=this.painter.context,i=t.gl;if(!this._emptyDepthBufferTexture){const o=new e.RGBAImage({width:1,height:1},Uint8Array.of(255,255,255,255));this._emptyDepthBufferTexture=new e.Texture(t,o,i.RGBA,{premultiply:!1});}return this._emptyDepthBufferTexture}_getLoadedAreaMinimum(){let e=0;const t=this._visibleDemTiles.reduce(((t,i)=>{if(!i.dem)return t;const o=i.dem.tree.minimums[0];return o>0&&e++,t+o}),0);return e?t/e:0}_updateEmptyDEMTexture(){const t=this.painter.context,i=t.gl;t.activeTexture.set(i.TEXTURE2);const o=this._getLoadedAreaMinimum(),r=new e.RGBAImage({width:1,height:1},new Uint8Array(e.DEMData.pack(o,this.sourceCache.getSource().encoding)));this._emptyDEMTextureDirty=!1;let n=this._emptyDEMTexture;return n?n.update(r,{premultiply:!1}):n=this._emptyDEMTexture=new e.Texture(t,r,i.RGBA,{premultiply:!1}),n}setupElevationDraw(t,i,o){const r=this.painter.context,n=r.gl,a=(s=this.sourceCache.getSource().encoding,{u_dem:2,u_dem_prev:4,u_dem_unpack:e.DEMData.getUnpackVector(s),u_dem_tl:[0,0],u_dem_tl_prev:[0,0],u_dem_scale:0,u_dem_scale_prev:0,u_dem_size:0,u_dem_lerp:1,u_depth:3,u_depth_size_inv:[0,0],u_exaggeration:0});var s;a.u_dem_size=this.sourceCache.getSource().tileSize,a.u_exaggeration=this.exaggeration();let l=null,c=null,h=1;if(o&&o.morphing&&this._useVertexMorphing){const e=o.morphing.srcDemTile,i=o.morphing.dstDemTile;h=o.morphing.phase,e&&i&&(this._prepareDemTileUniforms(t,e,a,\"_prev\")&&(c=e),this._prepareDemTileUniforms(t,i,a)&&(l=i));}if(c&&l?(r.activeTexture.set(n.TEXTURE2),l.demTexture.bind(n.NEAREST,n.CLAMP_TO_EDGE,n.NEAREST),r.activeTexture.set(n.TEXTURE4),c.demTexture.bind(n.NEAREST,n.CLAMP_TO_EDGE,n.NEAREST),a.u_dem_lerp=h):(l=this.terrainTileForTile[t.tileID.key],r.activeTexture.set(n.TEXTURE2),(this._prepareDemTileUniforms(t,l,a)?l.demTexture:this.emptyDEMTexture).bind(n.NEAREST,n.CLAMP_TO_EDGE)),r.activeTexture.set(n.TEXTURE3),o&&o.useDepthForOcclusion?(this._depthTexture&&this._depthTexture.bind(n.NEAREST,n.CLAMP_TO_EDGE),this._depthFBO&&(a.u_depth_size_inv=[1/this._depthFBO.width,1/this._depthFBO.height])):(this.emptyDepthBufferTexture.bind(n.NEAREST,n.CLAMP_TO_EDGE),a.u_depth_size_inv=[1,1]),o&&o.useMeterToDem&&l){const t=(1<<l.tileID.canonical.z)*e.mercatorZfromAltitude(1,this.painter.transform.center.lat)*this.sourceCache.getSource().tileSize;a.u_meter_to_dem=t;}if(o&&o.labelPlaneMatrixInv&&(a.u_label_plane_matrix_inv=o.labelPlaneMatrixInv),i.setTerrainUniformValues(r,a),\"globe\"===this.painter.transform.projection.name){const e=this.globeUniformValues(this.painter.transform,t.tileID.canonical,o&&o.useDenormalizedUpVectorScale);i.setGlobeUniformValues(r,e);}}globeUniformValues(t,i,o){const r=t.projection;return {u_tile_tl_up:r.upVector(i,0,0),u_tile_tr_up:r.upVector(i,e.EXTENT,0),u_tile_br_up:r.upVector(i,e.EXTENT,e.EXTENT),u_tile_bl_up:r.upVector(i,0,e.EXTENT),u_tile_up_scale:o?e.GLOBE_METERS_TO_ECEF:r.upVectorScale(i,t.center.lat,t.worldSize).metersToTile}}renderToBackBuffer(t){const i=this.painter,o=this.painter.context;0!==t.length&&(o.bindFramebuffer.set(null),o.viewport.set([0,0,i.width,i.height]),i.gpuTimingDeferredRenderStart(),this.renderingToTexture=!1,function(t,i,o,r,n){if(\"globe\"===t.transform.projection.name)!function(t,i,o,r,n){const a=t.context,s=a.gl;let l,c;const h=t.options.showTerrainWireframe?2:0,_=t.transform,u=e.globeUseCustomAntiAliasing(t,a,_),d=(e,i)=>{if(c===e)return;const o=[Ci[e],\"PROJECTION_GLOBE_VIEW\"];u&&o.push(\"CUSTOM_ANTIALIASING\"),i&&o.push(Ci[h]),l=t.useProgram(\"globeRaster\",null,o),c=e;},p=t.colorModeForRenderPass(),m=new e.DepthMode(s.LEQUAL,e.DepthMode.ReadWrite,t.depthRangeFor3D);Ei.update(n);const f=e.calculateGlobeMercatorMatrix(_),g=[e.mercatorXfromLng(_.center.lng),e.mercatorYfromLat(_.center.lat)],v=h?[!1,!0]:[!1],x=t.globeSharedBuffers,y=[_.width*e.exported.devicePixelRatio,_.height*e.exported.devicePixelRatio],b=Float32Array.from(_.globeMatrix),w={useDenormalizedUpVectorScale:!0};if(v.forEach((h=>{c=-1;const u=h?s.LINES:s.TRIANGLES;for(const c of r){const r=o.getTile(c),v=e.StencilMode.disabled,T=i.prevTerrainTileForTile[c.key],E=i.terrainTileForTile[c.key];Ti(T,E)&&Ei.newMorphing(c.key,T,E,n,250),a.activeTexture.set(s.TEXTURE0),r.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE);const C=Ei.getMorphValuesForProxy(c.key),I=C?1:0;C&&e.extend$1(w,{morphing:{srcDemTile:C.from,dstDemTile:C.to,phase:e.easeCubicInOut(C.phase)}});const M=e.tileCornersToBounds(c.canonical),S=e.getLatitudinalLod(M.getCenter().lat),z=e.getGridMatrix(c.canonical,M,S,_.worldSize/_._pixelsPerMercatorPixel),D=e.globeNormalizeECEF(e.globeTileBounds(c.canonical)),A=wi(_.projMatrix,b,f,D,e.globeToMercatorTransition(_.zoom),g,_.frustumCorners.TL,_.frustumCorners.TR,_.frustumCorners.BR,_.frustumCorners.BL,_.globeCenterInViewSpace,_.globeRadius,y,z);if(d(I,h),i.setupElevationDraw(r,l,w),t.prepareDrawProgram(a,l,c.toUnwrapped()),x){const[i,o,r]=h?x.getWirefameBuffers(t.context,S):x.getGridBuffers(S);l.draw(a,u,m,v,p,e.CullFaceMode.backCCW,A,\"globe_raster\",i,o,r);}}})),x){const n=[\"GLOBE_POLES\",\"PROJECTION_GLOBE_VIEW\"];u&&n.push(\"CUSTOM_ANTIALIASING\"),l=t.useProgram(\"globeRaster\",null,n);for(const n of r){const{x:r,y:c,z:h}=n.canonical,u=0===c,d=c===(1<<h)-1,[f,v,b,T]=x.getPoleBuffers(h);if(T&&(u||d)){const c=o.getTile(n);a.activeTexture.set(s.TEXTURE0),c.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE);let x=e.globePoleMatrixForTile(h,r,_);const E=e.globeNormalizeECEF(e.globeTileBounds(n.canonical)),C=(t,i)=>t.draw(a,s.TRIANGLES,m,e.StencilMode.disabled,p,e.CullFaceMode.disabled,wi(_.projMatrix,x,x,E,0,g,_.frustumCorners.TL,_.frustumCorners.TR,_.frustumCorners.BR,_.frustumCorners.BL,_.globeCenterInViewSpace,_.globeRadius,y),\"globe_pole_raster\",i,b,T);i.setupElevationDraw(c,l,w),t.prepareDrawProgram(a,l,n.toUnwrapped()),u&&C(l,f),d&&(x=e.scale(e.create(),x,[1,-1,1]),C(l,v));}}}}(t,i,o,r,n);else {const a=t.context,s=a.gl;let l,c;const h=t.options.showTerrainWireframe?2:0,_=(e,i)=>{if(c===e)return;const o=[Ci[e]];i&&o.push(Ci[h]),l=t.useProgram(\"terrainRaster\",null,o),c=e;},u=t.colorModeForRenderPass(),d=new e.DepthMode(s.LEQUAL,e.DepthMode.ReadWrite,t.depthRangeFor3D);Ei.update(n);const p=t.transform,m=6*Math.pow(1.5,22-p.zoom)*i.exaggeration();(h?[!1,!0]:[!1]).forEach((h=>{c=-1;const f=h?s.LINES:s.TRIANGLES,[g,v]=h?i.getWirefameBuffer():[i.gridIndexBuffer,i.gridSegments];for(const c of r){const r=o.getTile(c),x=e.StencilMode.disabled,y=i.prevTerrainTileForTile[c.key],b=i.terrainTileForTile[c.key];Ti(y,b)&&Ei.newMorphing(c.key,y,b,n,250),a.activeTexture.set(s.TEXTURE0),r.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE,s.LINEAR_MIPMAP_NEAREST);const w=Ei.getMorphValuesForProxy(c.key),T=w?1:0;let E;w&&(E={morphing:{srcDemTile:w.from,dstDemTile:w.to,phase:e.easeCubicInOut(w.phase)}});const C=bi(c.projMatrix,Ii(c.canonical,p.renderWorldCopies)?m/10:m);_(T,h),i.setupElevationDraw(r,l,E),t.prepareDrawProgram(a,l,c.toUnwrapped()),l.draw(a,f,d,x,u,e.CullFaceMode.backCCW,C,\"terrain_raster\",i.gridBuffer,g,v);}}));}}(i,this,this.proxySourceCache,t,this._updateTimestamp),this.renderingToTexture=!0,i.gpuTimingDeferredRenderEnd(),t.splice(0,t.length));}renderBatch(t){if(0===this._drapedRenderBatches.length)return t+1;this.renderingToTexture=!0;const i=this.painter,o=this.painter.context,r=this.proxySourceCache,n=this.proxiedCoords[r.id],a=this._drapedRenderBatches.shift(),s=[],l=i.style.order;let c=0;for(const h of n){const n=r.getTileByID(h.proxyTileKey),_=r.proxyCachedFBO[h.key]?r.proxyCachedFBO[h.key][t]:void 0,u=void 0!==_?r.renderCache[_]:this.pool[c++],d=void 0!==_;if(n.texture=u.tex,d&&!u.dirty){s.push(n.tileID);continue}let p;o.bindFramebuffer.set(u.fb.framebuffer),this.renderedToTile=!1,u.dirty&&(o.clear({color:e.Color.transparent,stencil:0}),u.dirty=!1);for(let e=a.start;e<=a.end;++e){const t=i.style._layers[l[e]];if(t.isHidden(i.transform.zoom))continue;const r=i.style._getLayerSourceCache(t),n=r?this.proxyToSource[h.key][r.id]:[h];if(!n)continue;const a=n;o.viewport.set([0,0,u.fb.width,u.fb.height]),p!==(r?r.id:null)&&(this._setupStencil(u,n,t,r),p=r?r.id:null),i.renderLayer(i,r,t,a);}this.renderedToTile?(u.dirty=!0,s.push(n.tileID)):d||--c,5===c&&(c=0,this.renderToBackBuffer(s));}return this.renderToBackBuffer(s),this.renderingToTexture=!1,o.bindFramebuffer.set(null),o.viewport.set([0,0,i.width,i.height]),a.end+1}postRender(){}renderCacheEfficiency(e){const t=e.order.length;if(0===t)return {efficiency:100};let i,o=0,r=0,n=!1;for(let a=0;a<t;++a){const t=e._layers[e.order[a]];this._style.isLayerDraped(t)?(n&&++o,++r):n||(n=!0,i=t.id);}return 0===r?{efficiency:100}:{efficiency:100*(1-o/r),firstUndrapedLayer:i}}getMinElevationBelowMSL(){let e=0;return this._visibleDemTiles.filter((e=>e.dem)).forEach((t=>{e=Math.min(e,t.dem.tree.minimums[0]);})),0===e?e:(e-30)*this._exaggeration}raycast(e,t,i){if(!this._visibleDemTiles)return null;const o=this._visibleDemTiles.filter((e=>e.dem)).map((o=>{const r=o.tileID,n=1<<r.overscaledZ,{x:a,y:s}=r.canonical,l=a/n,c=(a+1)/n,h=s/n,_=(s+1)/n;return {minx:l,miny:h,maxx:c,maxy:_,t:o.dem.tree.raycastRoot(l,h,c,_,e,t,i),tile:o}}));o.sort(((e,t)=>(null!==e.t?e.t:Number.MAX_VALUE)-(null!==t.t?t.t:Number.MAX_VALUE)));for(const r of o){if(null==r.t)return null;const o=r.tile.dem.tree.raycast(r.minx,r.miny,r.maxx,r.maxy,e,t,i);if(null!=o)return o}return null}_createFBO(){const t=this.painter.context,i=t.gl,o=this.drapeBufferSize;t.activeTexture.set(i.TEXTURE0);const r=new e.Texture(t,{width:o[0],height:o[1],data:null},i.RGBA);r.bind(i.LINEAR,i.CLAMP_TO_EDGE);const n=t.createFramebuffer(o[0],o[1],!1);return n.colorAttachment.set(r.texture),n.depthAttachment=new Ee(t,n.framebuffer),void 0===this._sharedDepthStencil?(this._sharedDepthStencil=t.createRenderbuffer(t.gl.DEPTH_STENCIL,o[0],o[1]),this._stencilRef=0,n.depthAttachment.set(this._sharedDepthStencil),t.clear({stencil:0})):n.depthAttachment.set(this._sharedDepthStencil),t.extTextureFilterAnisotropic&&!t.extTextureFilterAnisotropicForceOff&&i.texParameterf(i.TEXTURE_2D,t.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,t.extTextureFilterAnisotropicMax),{fb:n,tex:r,dirty:!1}}_initFBOPool(){for(;this.pool.length<Math.min(5,this.proxyCoords.length);)this.pool.push(this._createFBO());}_shouldDisableRenderCache(){if(this._style.light&&this._style.light.hasTransition())return !0;for(const e in this._style._sourceCaches)if(this._style._sourceCaches[e].hasTransition())return !0;return this._style.order.some((e=>{const t=this._style._layers[e],i=t.isHidden(this.painter.transform.zoom),o=t.getCrossfadeParameters(),r=!!o&&1!==o.t,n=t.hasTransition();return \"custom\"!==t.type&&!i&&(r||n)}))}_clearRasterFadeFromRenderCache(){let e=!1;for(const t in this._style._sourceCaches)if(this._style._sourceCaches[t]._source instanceof Me){e=!0;break}if(e)for(let e=0;e<this._style.order.length;++e){const t=this._style._layers[this._style.order[e]],i=t.isHidden(this.painter.transform.zoom),o=this._style._getLayerSourceCache(t);if(\"raster\"!==t.type||i||!o)continue;const r=t.paint.get(\"raster-fade-duration\");for(const e of this.proxyCoords){const t=this.proxyToSource[e.key][o.id];if(t)for(const e of t){const t=Si(o.getTile(e),o.findLoadedParent(e,0),o,this.painter.transform,r);(1!==t.opacity||0!==t.mix)&&this._clearRenderCacheForTile(o.id,e);}}}}_setupDrapedRenderBatches(){const e=this._style.order,t=e.length;if(0===t)return;const i=[];let o,r=0,n=this._style._layers[e[r]];for(;!this._style.isLayerDraped(n)&&n.isHidden(this.painter.transform.zoom)&&++r<t;)n=this._style._layers[e[r]];for(;r<t;++r){const t=this._style._layers[e[r]];t.isHidden(this.painter.transform.zoom)||(this._style.isLayerDraped(t)?void 0===o&&(o=r):void 0!==o&&(i.push({start:o,end:r-1}),o=void 0));}void 0!==o&&i.push({start:o,end:r-1}),this._drapedRenderBatches=i;}_setupRenderCache(e){const t=this.proxySourceCache;if(this._shouldDisableRenderCache()||this._invalidateRenderCache){if(this._invalidateRenderCache=!1,t.renderCache.length>t.renderCachePool.length){const e=Object.values(t.proxyCachedFBO);t.proxyCachedFBO={};for(let i=0;i<e.length;++i){const o=Object.values(e[i]);t.renderCachePool.push(...o);}}return}this._clearRasterFadeFromRenderCache();const i=this.proxyCoords,o=this._tilesDirty;for(let r=i.length-1;r>=0;r--){const n=i[r];if(t.getTileByID(n.key),void 0!==t.proxyCachedFBO[n.key]){const i=e[n.key],r=this.proxyToSource[n.key];let a=0;for(const e in r){const t=r[e],n=i[e];if(!n||n.length!==t.length||t.some(((t,i)=>t!==n[i]||o[e]&&o[e].hasOwnProperty(t.key)))){a=-1;break}++a;}for(const e in t.proxyCachedFBO[n.key])t.renderCache[t.proxyCachedFBO[n.key][e]].dirty=a<0||a!==Object.values(i).length;}}const r=[...this._drapedRenderBatches];r.sort(((e,t)=>t.end-t.start-(e.end-e.start)));for(const e of r)for(const o of i){if(t.proxyCachedFBO[o.key])continue;let i=t.renderCachePool.pop();void 0===i&&t.renderCache.length<50&&(i=t.renderCache.length,t.renderCache.push(this._createFBO())),void 0!==i&&(t.proxyCachedFBO[o.key]={},t.proxyCachedFBO[o.key][e.start]=i,t.renderCache[i].dirty=!0);}this._tilesDirty={};}_setupStencil(e,t,i,o){if(!o||!this._sourceTilesOverlap[o.id])return void(this._overlapStencilType&&(this._overlapStencilType=!1));const r=this.painter.context,n=r.gl;if(t.length<=1)return void(this._overlapStencilType=!1);let a;if(i.isTileClipped())a=t.length,this._overlapStencilMode.test={func:n.EQUAL,mask:255},this._overlapStencilType=\"Clip\";else {if(!(t[0].overscaledZ>t[t.length-1].overscaledZ))return void(this._overlapStencilType=!1);a=1,this._overlapStencilMode.test={func:n.GREATER,mask:255},this._overlapStencilType=\"Mask\";}this._stencilRef+a>255&&(r.clear({stencil:0}),this._stencilRef=0),this._stencilRef+=a,this._overlapStencilMode.ref=this._stencilRef,i.isTileClipped()&&this._renderTileClippingMasks(t,this._overlapStencilMode.ref);}clipOrMaskOverlapStencilType(){return \"Clip\"===this._overlapStencilType||\"Mask\"===this._overlapStencilType}stencilModeForRTTOverlap(t){return this.renderingToTexture&&this._overlapStencilType?(\"Clip\"===this._overlapStencilType&&(this._overlapStencilMode.ref=this.painter._tileClippingMaskIDs[t.key]),this._overlapStencilMode):e.StencilMode.disabled}_renderTileClippingMasks(t,i){const o=this.painter,r=this.painter.context,n=r.gl;o._tileClippingMaskIDs={},r.setColorMode(e.ColorMode.disabled),r.setDepthMode(e.DepthMode.disabled);const a=o.useProgram(\"clippingMask\");for(const s of t){const t=o._tileClippingMaskIDs[s.key]=--i;a.draw(r,n.TRIANGLES,e.DepthMode.disabled,new e.StencilMode({func:n.ALWAYS,mask:0},t,255,n.KEEP,n.KEEP,n.REPLACE),e.ColorMode.disabled,e.CullFaceMode.disabled,Mi(s.projMatrix),\"$clipping\",o.tileExtentBuffer,o.quadTriangleIndexBuffer,o.tileExtentSegments);}}pointCoordinate(t){const i=this.painter.transform;if(t.x<0||t.x>i.width||t.y<0||t.y>i.height)return null;const o=[t.x,t.y,1,1];e.transformMat4$1(o,o,i.pixelMatrixInverse),e.scale$1(o,o,1/o[3]),o[0]/=i.worldSize,o[1]/=i.worldSize;const r=i._camera.position,n=e.mercatorZfromAltitude(1,i.center.lat),a=[r[0],r[1],r[2]/n,0],s=e.subtract([],o.slice(0,3),a);e.normalize(s,s);const l=this.raycast(a,s,this._exaggeration);return null!==l&&l?(e.scaleAndAdd(a,a,s,l),a[3]=a[2],a[2]*=n,a):null}drawDepth(){const t=this.painter,i=t.context,o=this.proxySourceCache,r=Math.ceil(t.width),n=Math.ceil(t.height);if(!this._depthFBO||this._depthFBO.width===r&&this._depthFBO.height===n||(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0),!this._depthFBO){const t=i.gl,o=i.createFramebuffer(r,n,!0);i.activeTexture.set(t.TEXTURE0);const a=new e.Texture(i,{width:r,height:n,data:null},t.RGBA);a.bind(t.NEAREST,t.CLAMP_TO_EDGE),o.colorAttachment.set(a.texture);const s=i.createRenderbuffer(i.gl.DEPTH_COMPONENT16,r,n);o.depthAttachment.set(s),this._depthFBO=o,this._depthTexture=a;}i.bindFramebuffer.set(this._depthFBO.framebuffer),i.viewport.set([0,0,r,n]),function(t,i,o,r){if(\"globe\"===t.transform.projection.name)return;const n=t.context,a=n.gl;n.clear({depth:1});const s=t.useProgram(\"terrainDepth\"),l=new e.DepthMode(a.LESS,e.DepthMode.ReadWrite,t.depthRangeFor3D);for(const t of r){const r=o.getTile(t),c=bi(t.projMatrix,0);i.setupElevationDraw(r,s),s.draw(n,a.TRIANGLES,l,e.StencilMode.disabled,e.ColorMode.unblended,e.CullFaceMode.backCCW,c,\"terrain_depth\",i.gridBuffer,i.gridIndexBuffer,i.gridNoSkirtSegments);}}(t,this,o,this.proxyCoords);}_setupProxiedCoordsForOrtho(e,t,i){if(e.getSource()instanceof De)return this._setupProxiedCoordsForImageSource(e,t,i);this._findCoveringTileCache[e.id]=this._findCoveringTileCache[e.id]||{};const o=this.proxiedCoords[e.id]=[],r=this.proxyCoords;for(let t=0;t<r.length;t++){const n=r[t],a=this._findTileCoveringTileID(n,e);if(a){const t=this._createProxiedId(n,a,i[n.key]&&i[n.key][e.id]);o.push(t),this.proxyToSource[n.key][e.id]=[t];}}let n=!1;for(let r=0;r<t.length;r++){const a=e.getTile(t[r]);if(!a||!a.hasData())continue;const s=this._findTileCoveringTileID(a.tileID,this.proxySourceCache);if(s&&s.tileID.canonical.z!==a.tileID.canonical.z){const t=this.proxyToSource[s.tileID.key][e.id],r=this._createProxiedId(s.tileID,a,i[s.tileID.key]&&i[s.tileID.key][e.id]);t?t.splice(t.length-1,0,r):this.proxyToSource[s.tileID.key][e.id]=[r],o.push(r),n=!0;}}this._sourceTilesOverlap[e.id]=n;}_setupProxiedCoordsForImageSource(t,i,o){if(!t.getSource().loaded())return;const r=this.proxiedCoords[t.id]=[],n=this.proxyCoords,a=t.getSource(),s=new e.pointGeometry(a.tileID.x,a.tileID.y)._div(1<<a.tileID.z),l=a.coordinates.map(e.MercatorCoordinate.fromLngLat).reduce(((e,t)=>(e.min.x=Math.min(e.min.x,t.x-s.x),e.min.y=Math.min(e.min.y,t.y-s.y),e.max.x=Math.max(e.max.x,t.x-s.x),e.max.y=Math.max(e.max.y,t.y-s.y),e)),{min:new e.pointGeometry(Number.MAX_VALUE,Number.MAX_VALUE),max:new e.pointGeometry(-Number.MAX_VALUE,-Number.MAX_VALUE)}),c=(t,i)=>{const o=t.wrap+t.canonical.x/(1<<t.canonical.z),r=t.canonical.y/(1<<t.canonical.z),n=e.EXTENT/(1<<t.canonical.z),a=i.wrap+i.canonical.x/(1<<i.canonical.z),s=i.canonical.y/(1<<i.canonical.z);return o+n<a+l.min.x||o>a+l.max.x||r+n<s+l.min.y||r>s+l.max.y};for(let e=0;e<n.length;e++){const a=n[e];for(let e=0;e<i.length;e++){const n=t.getTile(i[e]);if(!n||!n.hasData())continue;if(c(a,n.tileID))continue;const s=this._createProxiedId(a,n,o[a.key]&&o[a.key][t.id]),l=this.proxyToSource[a.key][t.id];l?l.push(s):this.proxyToSource[a.key][t.id]=[s],r.push(s);}}}_createProxiedId(t,i,o){let r=this.orthoMatrix;if(o){const e=o.find((e=>e.key===i.tileID.key));if(e)return e}if(i.tileID.key!==t.key){const o=t.canonical.z-i.tileID.canonical.z;let n,a,s;r=e.create();const l=i.tileID.wrap-t.wrap<<t.overscaledZ;o>0?(n=e.EXTENT>>o,a=n*((i.tileID.canonical.x<<o)-t.canonical.x+l),s=n*((i.tileID.canonical.y<<o)-t.canonical.y)):(n=e.EXTENT<<-o,a=e.EXTENT*(i.tileID.canonical.x-(t.canonical.x+l<<-o)),s=e.EXTENT*(i.tileID.canonical.y-(t.canonical.y<<-o))),e.ortho(r,0,n,0,n,0,1),e.translate(r,r,[a,s,0]);}return new Ai(i.tileID,t.key,r)}_findTileCoveringTileID(t,i){let o=i.getTile(t);if(o&&o.hasData())return o;const r=this._findCoveringTileCache[i.id],n=r[t.key];if(o=n?i.getTileByID(n):null,o&&o.hasData()||null===n)return o;let a=o?o.tileID:t,s=a.overscaledZ;const l=i.getSource().minzoom,c=[];if(!n){const r=i.getSource().maxzoom;if(t.canonical.z>=r){const o=t.canonical.z-r;i.getSource().reparseOverscaled?(s=Math.max(t.canonical.z+2,i.transform.tileZoom),a=new e.OverscaledTileID(s,t.wrap,r,t.canonical.x>>o,t.canonical.y>>o)):0!==o&&(s=r,a=new e.OverscaledTileID(s,t.wrap,r,t.canonical.x>>o,t.canonical.y>>o));}a.key!==t.key&&(c.push(a.key),o=i.getTile(a));}const h=e=>{c.forEach((t=>{r[t]=e;})),c.length=0;};for(s-=1;s>=l&&(!o||!o.hasData());s--){o&&h(o.tileID.key);const e=a.calculateScaledKey(s);if(o=i.getTileByID(e),o&&o.hasData())break;const t=r[e];if(null===t)break;void 0===t?c.push(e):o=i.getTileByID(t);}return h(o?o.tileID.key:null),o&&o.hasData()?o:null}findDEMTileFor(e){return this.enabled?this._findTileCoveringTileID(e,this.sourceCache):null}prepareDrawTile(){this.renderedToTile=!0;}_clearRenderCacheForTile(e,t){let i=this._tilesDirty[e];i||(i=this._tilesDirty[e]={}),i[t.key]=!0;}getWirefameBuffer(){if(!this.wireframeSegments){const t=function(t){let i=0;const o=new e.StructArrayLayout2ui4,r=131;for(let e=1;e<129;e++){for(let t=1;t<129;t++)i=e*r+t,o.emplaceBack(i,i+1),o.emplaceBack(i,i+r),o.emplaceBack(i+1,i+r),128===e&&o.emplaceBack(i+r,i+r+1);o.emplaceBack(i+1,i+1+r);}return o}();this.wireframeIndexBuffer=this.painter.context.createIndexBuffer(t),this.wireframeSegments=e.SegmentVector.simpleSegment(0,0,this.gridBuffer.length,t.length);}return [this.wireframeIndexBuffer,this.wireframeSegments]}}class Li{static cacheKey(e,t,i,o){let r=`${t}${o?o.cacheKey:\"\"}`;for(const t of i)e.usedDefines.includes(t)&&(r+=`/${t}`);return r}constructor(t,i,o,r,n,a){const s=t.gl;this.program=s.createProgram();const l=function(e){const t=[];for(let i=0;i<e.length;i++){if(null===e[i])continue;const o=e[i].split(\" \");t.push(o.pop());}return t}(o.staticAttributes),c=r?r.getBinderAttributes():[],h=l.concat(c);let _=r?r.defines():[];_=_.concat(a.map((e=>`#define ${e}`)));const u=_.concat(t.extStandardDerivatives?\"#extension GL_OES_standard_derivatives : enable\\n\".concat(_i):_i,_i,hi,ci.fragmentSource,si.fragmentSource,o.fragmentSource).join(\"\\n\"),d=_.concat(\"\\n#ifdef GL_ES\\nprecision highp float;\\n#else\\n\\n#if !defined(lowp)\\n#define lowp\\n#endif\\n\\n#if !defined(mediump)\\n#define mediump\\n#endif\\n\\n#if !defined(highp)\\n#define highp\\n#endif\\n\\n#endif\",hi,ci.vertexSource,si.vertexSource,ai.vertexSource,o.vertexSource).join(\"\\n\"),p=s.createShader(s.FRAGMENT_SHADER);if(s.isContextLost())return void(this.failedToCreate=!0);s.shaderSource(p,u),s.compileShader(p),s.attachShader(this.program,p);const m=s.createShader(s.VERTEX_SHADER);if(s.isContextLost())this.failedToCreate=!0;else {s.shaderSource(m,d),s.compileShader(m),s.attachShader(this.program,m),this.attributes={},this.numAttributes=h.length;for(let e=0;e<this.numAttributes;e++)h[e]&&(s.bindAttribLocation(this.program,e,h[e]),this.attributes[h[e]]=e);s.linkProgram(this.program),s.deleteShader(m),s.deleteShader(p),this.fixedUniforms=n(t),this.binderUniforms=r?r.getUniforms(t):[],a.includes(\"TERRAIN\")&&(this.terrainUniforms=(t=>({u_dem:new e.Uniform1i(t),u_dem_prev:new e.Uniform1i(t),u_dem_unpack:new e.Uniform4f(t),u_dem_tl:new e.Uniform2f(t),u_dem_scale:new e.Uniform1f(t),u_dem_tl_prev:new e.Uniform2f(t),u_dem_scale_prev:new e.Uniform1f(t),u_dem_size:new e.Uniform1f(t),u_dem_lerp:new e.Uniform1f(t),u_exaggeration:new e.Uniform1f(t),u_depth:new e.Uniform1i(t),u_depth_size_inv:new e.Uniform2f(t),u_meter_to_dem:new e.Uniform1f(t),u_label_plane_matrix_inv:new e.UniformMatrix4f(t)}))(t)),a.includes(\"GLOBE\")&&(this.globeUniforms=(t=>({u_tile_tl_up:new e.Uniform3f(t),u_tile_tr_up:new e.Uniform3f(t),u_tile_br_up:new e.Uniform3f(t),u_tile_bl_up:new e.Uniform3f(t),u_tile_up_scale:new e.Uniform1f(t)}))(t)),a.includes(\"FOG\")&&(this.fogUniforms=(t=>({u_fog_matrix:new e.UniformMatrix4f(t),u_fog_range:new e.Uniform2f(t),u_fog_color:new e.Uniform4f(t),u_fog_horizon_blend:new e.Uniform1f(t),u_fog_temporal_offset:new e.Uniform1f(t),u_frustum_tl:new e.Uniform3f(t),u_frustum_tr:new e.Uniform3f(t),u_frustum_br:new e.Uniform3f(t),u_frustum_bl:new e.Uniform3f(t),u_globe_pos:new e.Uniform3f(t),u_globe_radius:new e.Uniform1f(t),u_globe_transition:new e.Uniform1f(t),u_is_globe:new e.Uniform1i(t),u_viewport:new e.Uniform2f(t)}))(t));}}setTerrainUniformValues(e,t){if(!this.terrainUniforms)return;const i=this.terrainUniforms;if(!this.failedToCreate){e.program.set(this.program);for(const e in t)i[e]&&i[e].set(this.program,e,t[e]);}}setGlobeUniformValues(e,t){if(!this.globeUniforms)return;const i=this.globeUniforms;if(!this.failedToCreate){e.program.set(this.program);for(const e in t)i[e]&&i[e].set(this.program,e,t[e]);}}setFogUniformValues(e,t){if(!this.fogUniforms)return;const i=this.fogUniforms;if(!this.failedToCreate){e.program.set(this.program);for(const e in t)i[e].set(this.program,e,t[e]);}}draw(e,t,i,o,r,n,a,s,l,c,h,_,u,d,p){const m=e.gl;if(this.failedToCreate)return;e.program.set(this.program),e.setDepthMode(i),e.setStencilMode(o),e.setColorMode(r),e.setCullFace(n);for(const e of Object.keys(this.fixedUniforms))this.fixedUniforms[e].set(this.program,e,a[e]);d&&d.setUniforms(this.program,e,this.binderUniforms,_,{zoom:u});const f={[m.LINES]:2,[m.TRIANGLES]:3,[m.LINE_STRIP]:1}[t];for(const i of h.get()){const o=i.vaos||(i.vaos={});(o[s]||(o[s]=new mi)).bind(e,this,l,d?d.getPaintVertexBuffers():[],c,i.vertexOffset,p||[]),m.drawElements(t,i.primitiveLength*f,m.UNSIGNED_SHORT,i.primitiveOffset*f*2);}}}function Ri(e,t,i){const o=1/L(i,1,t.transform.tileZoom),r=Math.pow(2,i.tileID.overscaledZ),n=i.tileSize*Math.pow(2,t.transform.tileZoom)/r,a=n*(i.tileID.canonical.x+i.tileID.wrap*r),s=n*i.tileID.canonical.y;return {u_image:0,u_texsize:i.imageAtlasTexture.size,u_scale:[o,e.fromScale,e.toScale],u_fade:e.t,u_pixel_coord_upper:[a>>16,s>>16],u_pixel_coord_lower:[65535&a,65535&s]}}const Oi=e.create(),Bi=(t,i,o,r,n,a,s,l,c,h,_)=>{const u=i.style.light,d=u.properties.get(\"position\"),p=[d.x,d.y,d.z],m=e.create$1();\"viewport\"===u.properties.get(\"anchor\")&&(e.fromRotation(m,-i.transform.angle),e.transformMat3(p,p,m));const f=u.properties.get(\"color\"),g=i.transform,v={u_matrix:t,u_lightpos:p,u_lightintensity:u.properties.get(\"intensity\"),u_lightcolor:[f.r,f.g,f.b],u_vertical_gradient:+o,u_opacity:r,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:Oi,u_merc_center:[0,0],u_up_dir:[0,0,0],u_height_lift:0,u_ao:n,u_edge_radius:a};return \"globe\"===g.projection.name&&(v.u_tile_id=[s.canonical.x,s.canonical.y,1<<s.canonical.z],v.u_zoom_transition=c,v.u_inv_rot_matrix=_,v.u_merc_center=h,v.u_up_dir=g.projection.upVector(new e.CanonicalTileID(0,0,0),h[0]*e.EXTENT,h[1]*e.EXTENT),v.u_height_lift=l),v},ki=(t,i,o,r,n,a,s,l,c,h,_,u,d)=>{const p=Bi(t,i,o,r,n,a,s,h,_,u,d),m={u_height_factor:-Math.pow(2,s.overscaledZ)/c.tileSize/8};return e.extend(p,Ri(l,i,c),m)},Fi=e=>({u_matrix:e}),Ui=(t,i,o,r)=>e.extend(Fi(t),Ri(o,i,r)),Ni=(e,t)=>({u_matrix:e,u_world:t}),Gi=(t,i,o,r,n)=>e.extend(Ui(t,i,o,r),{u_world:n}),ji=e.create(),Zi=(t,i,o,r,n,a)=>{const s=t.transform,l=\"globe\"===s.projection.name;let c;if(\"map\"===a.paint.get(\"circle-pitch-alignment\"))if(l){const t=e.globePixelsToTileUnits(s.zoom,i.canonical)*s._pixelsPerMercatorPixel;c=Float32Array.from([t,0,0,t]);}else c=s.calculatePixelsToTileUnitsMatrix(o);else c=new Float32Array([s.pixelsToGLUnits[0],0,0,s.pixelsToGLUnits[1]]);const h={u_camera_to_center_distance:s.cameraToCenterDistance,u_matrix:t.translatePosMatrix(i.projMatrix,o,a.paint.get(\"circle-translate\"),a.paint.get(\"circle-translate-anchor\")),u_device_pixel_ratio:e.exported.devicePixelRatio,u_extrude_scale:c,u_inv_rot_matrix:ji,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(l){h.u_inv_rot_matrix=r,h.u_merc_center=n,h.u_tile_id=[i.canonical.x,i.canonical.y,1<<i.canonical.z],h.u_zoom_transition=e.globeToMercatorTransition(s.zoom);const t=n[0]*e.EXTENT,o=n[1]*e.EXTENT;h.u_up_dir=s.projection.upVector(new e.CanonicalTileID(0,0,0),t,o);}return h},Vi=e=>{const t=[];return \"map\"===e.paint.get(\"circle-pitch-alignment\")&&t.push(\"PITCH_WITH_MAP\"),\"map\"===e.paint.get(\"circle-pitch-scale\")&&t.push(\"SCALE_WITH_MAP\"),t},Wi=(t,i,o,r)=>{const n=e.EXTENT/o.tileSize;return {u_matrix:t,u_camera_to_center_distance:i.getCameraToCenterDistance(r),u_extrude_scale:[i.pixelsToGLUnits[0]/n,i.pixelsToGLUnits[1]/n]}},Xi=(e,t,i=1)=>({u_matrix:e,u_color:t,u_overlay:0,u_overlay_scale:i}),qi=e.create(),$i=(t,i,o,r,n,a,s)=>{const l=t.transform,c=\"globe\"===l.projection.name,h=c?e.globePixelsToTileUnits(l.zoom,i.canonical)*l._pixelsPerMercatorPixel:L(o,1,a),_={u_matrix:i.projMatrix,u_extrude_scale:h,u_intensity:s,u_inv_rot_matrix:qi,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(c){_.u_inv_rot_matrix=r,_.u_merc_center=n,_.u_tile_id=[i.canonical.x,i.canonical.y,1<<i.canonical.z],_.u_zoom_transition=e.globeToMercatorTransition(l.zoom);const t=n[0]*e.EXTENT,o=n[1]*e.EXTENT;_.u_up_dir=l.projection.upVector(new e.CanonicalTileID(0,0,0),t,o);}return _},Hi=(e,t,i,o,r,n,a,s)=>{const l=e.transform,c=l.calculatePixelsToTileUnitsMatrix(t),h={u_matrix:Ji(e,t,i,r),u_pixels_to_tile_units:c,u_device_pixel_ratio:a,u_units_to_pixels:[1/l.pixelsToGLUnits[0],1/l.pixelsToGLUnits[1]],u_dash_image:0,u_gradient_image:1,u_image_height:n,u_texsize:[0,0],u_scale:[0,0,0],u_mix:0,u_alpha_discard_threshold:0,u_trim_offset:s};if(Qi(i)){const i=Ki(t,e.transform);h.u_texsize=t.lineAtlasTexture.size,h.u_scale=[i,o.fromScale,o.toScale],h.u_mix=o.t;}return h},Yi=(e,t,i,o,r,n)=>{const a=e.transform,s=Ki(t,a);return {u_matrix:Ji(e,t,i,r),u_texsize:t.imageAtlasTexture.size,u_pixels_to_tile_units:a.calculatePixelsToTileUnitsMatrix(t),u_device_pixel_ratio:n,u_image:0,u_scale:[s,o.fromScale,o.toScale],u_fade:o.t,u_units_to_pixels:[1/a.pixelsToGLUnits[0],1/a.pixelsToGLUnits[1]],u_alpha_discard_threshold:0}};function Ki(e,t){return 1/L(e,1,t.tileZoom)}function Ji(e,t,i,o){return e.translatePosMatrix(o||t.tileID.projMatrix,t,i.paint.get(\"line-translate\"),i.paint.get(\"line-translate-anchor\"))}function Qi(e){const t=e.paint.get(\"line-dasharray\").value;return t.value||\"constant\"!==t.kind}const eo=(e,t,i,o,r,n)=>{return {u_matrix:e,u_tl_parent:t,u_scale_parent:i,u_fade_t:o.mix,u_opacity:o.opacity*r.paint.get(\"raster-opacity\"),u_image0:0,u_image1:1,u_brightness_low:r.paint.get(\"raster-brightness-min\"),u_brightness_high:r.paint.get(\"raster-brightness-max\"),u_saturation_factor:(s=r.paint.get(\"raster-saturation\"),s>0?1-1/(1.001-s):-s),u_contrast_factor:(a=r.paint.get(\"raster-contrast\"),a>0?1/(1-a):1+a),u_spin_weights:to(r.paint.get(\"raster-hue-rotate\")),u_perspective_transform:n};var a,s;};function to(e){e*=Math.PI/180;const t=Math.sin(e),i=Math.cos(e);return [(2*i+1)/3,(-Math.sqrt(3)*t-i+1)/3,(Math.sqrt(3)*t-i+1)/3]}const io=e.create(),oo=(t,i,o,r,n,a,s,l,c,h,_,u,d,p,m,f)=>{const g=n.transform,v={u_is_size_zoom_constant:+(\"constant\"===t||\"source\"===t),u_is_size_feature_constant:+(\"constant\"===t||\"camera\"===t),u_size_t:i?i.uSizeT:0,u_size:i?i.uSize:0,u_camera_to_center_distance:g.cameraToCenterDistance,u_rotate_symbol:+o,u_aspect_ratio:g.width/g.height,u_fade_change:n.options.fadeDuration?n.symbolFadeChange:1,u_matrix:a,u_label_plane_matrix:s,u_coord_matrix:l,u_is_text:+c,u_pitch_with_map:+r,u_texsize:h,u_texture:0,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:io,u_merc_center:[0,0],u_camera_forward:[0,0,0],u_ecef_origin:[0,0,0],u_tile_matrix:io,u_up_vector:[0,-1,0]};return \"globe\"===f.name&&(v.u_tile_id=[_.canonical.x,_.canonical.y,1<<_.canonical.z],v.u_zoom_transition=u,v.u_inv_rot_matrix=p,v.u_merc_center=d,v.u_camera_forward=g._camera.forward(),v.u_ecef_origin=e.globeECEFOrigin(g.globeMatrix,_.toUnwrapped()),v.u_tile_matrix=Float32Array.from(g.globeMatrix),v.u_up_vector=m),v},ro=(t,i,o,r,n,a,s,l,c,h,_,u,d,p,m,f,g)=>e.extend(oo(t,i,o,r,n,a,s,l,c,h,u,d,p,m,f,g),{u_gamma_scale:r?n.transform.cameraToCenterDistance*Math.cos(n.terrain?0:n.transform._pitch):1,u_device_pixel_ratio:e.exported.devicePixelRatio,u_is_halo:+_}),no=(t,i,o,r,n,a,s,l,c,h,_,u,d,p,m,f)=>e.extend(ro(t,i,o,r,n,a,s,l,!0,c,!0,_,u,d,p,m,f),{u_texsize_icon:h,u_texture_icon:1}),ao=(e,t,i)=>({u_matrix:e,u_opacity:t,u_color:i}),so=(t,i,o,r,n,a)=>e.extend(function(e,t,i,o){const r=i.imageManager.getPattern(e.from.toString()),n=i.imageManager.getPattern(e.to.toString()),{width:a,height:s}=i.imageManager.getPixelSize(),l=Math.pow(2,o.tileID.overscaledZ),c=o.tileSize*Math.pow(2,i.transform.tileZoom)/l,h=c*(o.tileID.canonical.x+o.tileID.wrap*l),_=c*o.tileID.canonical.y;return {u_image:0,u_pattern_tl_a:r.tl,u_pattern_br_a:r.br,u_pattern_tl_b:n.tl,u_pattern_br_b:n.br,u_texsize:[a,s],u_mix:t.t,u_pattern_size_a:r.displaySize,u_pattern_size_b:n.displaySize,u_scale_a:t.fromScale,u_scale_b:t.toScale,u_tile_units_to_pixels:1/L(o,1,i.transform.tileZoom),u_pixel_coord_upper:[h>>16,_>>16],u_pixel_coord_lower:[65535&h,65535&_]}}(r,a,o,n),{u_matrix:t,u_opacity:i}),lo={fillExtrusion:t=>({u_matrix:new e.UniformMatrix4f(t),u_lightpos:new e.Uniform3f(t),u_lightintensity:new e.Uniform1f(t),u_lightcolor:new e.Uniform3f(t),u_vertical_gradient:new e.Uniform1f(t),u_opacity:new e.Uniform1f(t),u_edge_radius:new e.Uniform1f(t),u_ao:new e.Uniform2f(t),u_tile_id:new e.Uniform3f(t),u_zoom_transition:new e.Uniform1f(t),u_inv_rot_matrix:new e.UniformMatrix4f(t),u_merc_center:new e.Uniform2f(t),u_up_dir:new e.Uniform3f(t),u_height_lift:new e.Uniform1f(t)}),fillExtrusionPattern:t=>({u_matrix:new e.UniformMatrix4f(t),u_lightpos:new e.Uniform3f(t),u_lightintensity:new e.Uniform1f(t),u_lightcolor:new e.Uniform3f(t),u_vertical_gradient:new e.Uniform1f(t),u_height_factor:new e.Uniform1f(t),u_edge_radius:new e.Uniform1f(t),u_ao:new e.Uniform2f(t),u_tile_id:new e.Uniform3f(t),u_zoom_transition:new e.Uniform1f(t),u_inv_rot_matrix:new e.UniformMatrix4f(t),u_merc_center:new e.Uniform2f(t),u_up_dir:new e.Uniform3f(t),u_height_lift:new e.Uniform1f(t),u_image:new e.Uniform1i(t),u_texsize:new e.Uniform2f(t),u_pixel_coord_upper:new e.Uniform2f(t),u_pixel_coord_lower:new e.Uniform2f(t),u_scale:new e.Uniform3f(t),u_fade:new e.Uniform1f(t),u_opacity:new e.Uniform1f(t)}),fill:t=>({u_matrix:new e.UniformMatrix4f(t)}),fillPattern:t=>({u_matrix:new e.UniformMatrix4f(t),u_image:new e.Uniform1i(t),u_texsize:new e.Uniform2f(t),u_pixel_coord_upper:new e.Uniform2f(t),u_pixel_coord_lower:new e.Uniform2f(t),u_scale:new e.Uniform3f(t),u_fade:new e.Uniform1f(t)}),fillOutline:t=>({u_matrix:new e.UniformMatrix4f(t),u_world:new e.Uniform2f(t)}),fillOutlinePattern:t=>({u_matrix:new e.UniformMatrix4f(t),u_world:new e.Uniform2f(t),u_image:new e.Uniform1i(t),u_texsize:new e.Uniform2f(t),u_pixel_coord_upper:new e.Uniform2f(t),u_pixel_coord_lower:new e.Uniform2f(t),u_scale:new e.Uniform3f(t),u_fade:new e.Uniform1f(t)}),circle:t=>({u_camera_to_center_distance:new e.Uniform1f(t),u_extrude_scale:new e.UniformMatrix2f(t),u_device_pixel_ratio:new e.Uniform1f(t),u_matrix:new e.UniformMatrix4f(t),u_inv_rot_matrix:new e.UniformMatrix4f(t),u_merc_center:new e.Uniform2f(t),u_tile_id:new e.Uniform3f(t),u_zoom_transition:new e.Uniform1f(t),u_up_dir:new e.Uniform3f(t)}),collisionBox:t=>({u_matrix:new e.UniformMatrix4f(t),u_camera_to_center_distance:new e.Uniform1f(t),u_extrude_scale:new e.Uniform2f(t)}),collisionCircle:t=>({u_matrix:new e.UniformMatrix4f(t),u_inv_matrix:new e.UniformMatrix4f(t),u_camera_to_center_distance:new e.Uniform1f(t),u_viewport_size:new e.Uniform2f(t)}),debug:t=>({u_color:new e.UniformColor(t),u_matrix:new e.UniformMatrix4f(t),u_overlay:new e.Uniform1i(t),u_overlay_scale:new e.Uniform1f(t)}),clippingMask:t=>({u_matrix:new e.UniformMatrix4f(t)}),heatmap:t=>({u_extrude_scale:new e.Uniform1f(t),u_intensity:new e.Uniform1f(t),u_matrix:new e.UniformMatrix4f(t),u_inv_rot_matrix:new e.UniformMatrix4f(t),u_merc_center:new e.Uniform2f(t),u_tile_id:new e.Uniform3f(t),u_zoom_transition:new e.Uniform1f(t),u_up_dir:new e.Uniform3f(t)}),heatmapTexture:t=>({u_image:new e.Uniform1i(t),u_color_ramp:new e.Uniform1i(t),u_opacity:new e.Uniform1f(t)}),hillshade:t=>({u_matrix:new e.UniformMatrix4f(t),u_image:new e.Uniform1i(t),u_latrange:new e.Uniform2f(t),u_light:new e.Uniform2f(t),u_shadow:new e.UniformColor(t),u_highlight:new e.UniformColor(t),u_accent:new e.UniformColor(t)}),hillshadePrepare:t=>({u_matrix:new e.UniformMatrix4f(t),u_image:new e.Uniform1i(t),u_dimension:new e.Uniform2f(t),u_zoom:new e.Uniform1f(t),u_unpack:new e.Uniform4f(t)}),line:t=>({u_matrix:new e.UniformMatrix4f(t),u_pixels_to_tile_units:new e.UniformMatrix2f(t),u_device_pixel_ratio:new e.Uniform1f(t),u_units_to_pixels:new e.Uniform2f(t),u_dash_image:new e.Uniform1i(t),u_gradient_image:new e.Uniform1i(t),u_image_height:new e.Uniform1f(t),u_texsize:new e.Uniform2f(t),u_scale:new e.Uniform3f(t),u_mix:new e.Uniform1f(t),u_alpha_discard_threshold:new e.Uniform1f(t),u_trim_offset:new e.Uniform2f(t)}),linePattern:t=>({u_matrix:new e.UniformMatrix4f(t),u_texsize:new e.Uniform2f(t),u_pixels_to_tile_units:new e.UniformMatrix2f(t),u_device_pixel_ratio:new e.Uniform1f(t),u_image:new e.Uniform1i(t),u_units_to_pixels:new e.Uniform2f(t),u_scale:new e.Uniform3f(t),u_fade:new e.Uniform1f(t),u_alpha_discard_threshold:new e.Uniform1f(t)}),raster:t=>({u_matrix:new e.UniformMatrix4f(t),u_tl_parent:new e.Uniform2f(t),u_scale_parent:new e.Uniform1f(t),u_fade_t:new e.Uniform1f(t),u_opacity:new e.Uniform1f(t),u_image0:new e.Uniform1i(t),u_image1:new e.Uniform1i(t),u_brightness_low:new e.Uniform1f(t),u_brightness_high:new e.Uniform1f(t),u_saturation_factor:new e.Uniform1f(t),u_contrast_factor:new e.Uniform1f(t),u_spin_weights:new e.Uniform3f(t),u_perspective_transform:new e.Uniform2f(t)}),symbolIcon:t=>({u_is_size_zoom_constant:new e.Uniform1i(t),u_is_size_feature_constant:new e.Uniform1i(t),u_size_t:new e.Uniform1f(t),u_size:new e.Uniform1f(t),u_camera_to_center_distance:new e.Uniform1f(t),u_rotate_symbol:new e.Uniform1i(t),u_aspect_ratio:new e.Uniform1f(t),u_fade_change:new e.Uniform1f(t),u_matrix:new e.UniformMatrix4f(t),u_label_plane_matrix:new e.UniformMatrix4f(t),u_coord_matrix:new e.UniformMatrix4f(t),u_is_text:new e.Uniform1i(t),u_pitch_with_map:new e.Uniform1i(t),u_texsize:new e.Uniform2f(t),u_tile_id:new e.Uniform3f(t),u_zoom_transition:new e.Uniform1f(t),u_inv_rot_matrix:new e.UniformMatrix4f(t),u_merc_center:new e.Uniform2f(t),u_camera_forward:new e.Uniform3f(t),u_tile_matrix:new e.UniformMatrix4f(t),u_up_vector:new e.Uniform3f(t),u_ecef_origin:new e.Uniform3f(t),u_texture:new e.Uniform1i(t)}),symbolSDF:t=>({u_is_size_zoom_constant:new e.Uniform1i(t),u_is_size_feature_constant:new e.Uniform1i(t),u_size_t:new e.Uniform1f(t),u_size:new e.Uniform1f(t),u_camera_to_center_distance:new e.Uniform1f(t),u_rotate_symbol:new e.Uniform1i(t),u_aspect_ratio:new e.Uniform1f(t),u_fade_change:new e.Uniform1f(t),u_matrix:new e.UniformMatrix4f(t),u_label_plane_matrix:new e.UniformMatrix4f(t),u_coord_matrix:new e.UniformMatrix4f(t),u_is_text:new e.Uniform1i(t),u_pitch_with_map:new e.Uniform1i(t),u_texsize:new e.Uniform2f(t),u_texture:new e.Uniform1i(t),u_gamma_scale:new e.Uniform1f(t),u_device_pixel_ratio:new e.Uniform1f(t),u_tile_id:new e.Uniform3f(t),u_zoom_transition:new e.Uniform1f(t),u_inv_rot_matrix:new e.UniformMatrix4f(t),u_merc_center:new e.Uniform2f(t),u_camera_forward:new e.Uniform3f(t),u_tile_matrix:new e.UniformMatrix4f(t),u_up_vector:new e.Uniform3f(t),u_ecef_origin:new e.Uniform3f(t),u_is_halo:new e.Uniform1i(t)}),symbolTextAndIcon:t=>({u_is_size_zoom_constant:new e.Uniform1i(t),u_is_size_feature_constant:new e.Uniform1i(t),u_size_t:new e.Uniform1f(t),u_size:new e.Uniform1f(t),u_camera_to_center_distance:new e.Uniform1f(t),u_rotate_symbol:new e.Uniform1i(t),u_aspect_ratio:new e.Uniform1f(t),u_fade_change:new e.Uniform1f(t),u_matrix:new e.UniformMatrix4f(t),u_label_plane_matrix:new e.UniformMatrix4f(t),u_coord_matrix:new e.UniformMatrix4f(t),u_is_text:new e.Uniform1i(t),u_pitch_with_map:new e.Uniform1i(t),u_texsize:new e.Uniform2f(t),u_texsize_icon:new e.Uniform2f(t),u_texture:new e.Uniform1i(t),u_texture_icon:new e.Uniform1i(t),u_gamma_scale:new e.Uniform1f(t),u_device_pixel_ratio:new e.Uniform1f(t),u_is_halo:new e.Uniform1i(t)}),background:t=>({u_matrix:new e.UniformMatrix4f(t),u_opacity:new e.Uniform1f(t),u_color:new e.UniformColor(t)}),backgroundPattern:t=>({u_matrix:new e.UniformMatrix4f(t),u_opacity:new e.Uniform1f(t),u_image:new e.Uniform1i(t),u_pattern_tl_a:new e.Uniform2f(t),u_pattern_br_a:new e.Uniform2f(t),u_pattern_tl_b:new e.Uniform2f(t),u_pattern_br_b:new e.Uniform2f(t),u_texsize:new e.Uniform2f(t),u_mix:new e.Uniform1f(t),u_pattern_size_a:new e.Uniform2f(t),u_pattern_size_b:new e.Uniform2f(t),u_scale_a:new e.Uniform1f(t),u_scale_b:new e.Uniform1f(t),u_pixel_coord_upper:new e.Uniform2f(t),u_pixel_coord_lower:new e.Uniform2f(t),u_tile_units_to_pixels:new e.Uniform1f(t)}),terrainRaster:yi,terrainDepth:yi,skybox:t=>({u_matrix:new e.UniformMatrix4f(t),u_sun_direction:new e.Uniform3f(t),u_cubemap:new e.Uniform1i(t),u_opacity:new e.Uniform1f(t),u_temporal_offset:new e.Uniform1f(t)}),skyboxGradient:t=>({u_matrix:new e.UniformMatrix4f(t),u_color_ramp:new e.Uniform1i(t),u_center_direction:new e.Uniform3f(t),u_radius:new e.Uniform1f(t),u_opacity:new e.Uniform1f(t),u_temporal_offset:new e.Uniform1f(t)}),skyboxCapture:t=>({u_matrix_3f:new e.UniformMatrix3f(t),u_sun_direction:new e.Uniform3f(t),u_sun_intensity:new e.Uniform1f(t),u_color_tint_r:new e.Uniform4f(t),u_color_tint_m:new e.Uniform4f(t),u_luminance:new e.Uniform1f(t)}),globeRaster:t=>({u_proj_matrix:new e.UniformMatrix4f(t),u_globe_matrix:new e.UniformMatrix4f(t),u_normalize_matrix:new e.UniformMatrix4f(t),u_merc_matrix:new e.UniformMatrix4f(t),u_zoom_transition:new e.Uniform1f(t),u_merc_center:new e.Uniform2f(t),u_image0:new e.Uniform1i(t),u_grid_matrix:new e.UniformMatrix3f(t),u_frustum_tl:new e.Uniform3f(t),u_frustum_tr:new e.Uniform3f(t),u_frustum_br:new e.Uniform3f(t),u_frustum_bl:new e.Uniform3f(t),u_globe_pos:new e.Uniform3f(t),u_globe_radius:new e.Uniform1f(t),u_viewport:new e.Uniform2f(t)}),globeAtmosphere:t=>({u_frustum_tl:new e.Uniform3f(t),u_frustum_tr:new e.Uniform3f(t),u_frustum_br:new e.Uniform3f(t),u_frustum_bl:new e.Uniform3f(t),u_horizon:new e.Uniform1f(t),u_transition:new e.Uniform1f(t),u_fadeout_range:new e.Uniform1f(t),u_color:new e.Uniform4f(t),u_high_color:new e.Uniform4f(t),u_space_color:new e.Uniform4f(t),u_star_intensity:new e.Uniform1f(t),u_star_density:new e.Uniform1f(t),u_star_size:new e.Uniform1f(t),u_temporal_offset:new e.Uniform1f(t),u_horizon_angle:new e.Uniform1f(t),u_rotation_matrix:new e.UniformMatrix4f(t)})};let co;function ho(t,i,o,r,n,a,s){const l=t.context,c=l.gl,h=t.transform,_=t.useProgram(\"collisionBox\"),u=[];let d=0,p=0;for(let m=0;m<r.length;m++){const f=r[m],g=i.getTile(f),v=g.getBucket(o);if(!v)continue;const x=bt(f,v,h);let y=x;0===n[0]&&0===n[1]||(y=t.translatePosMatrix(x,g,n,a));const b=s?v.textCollisionBox:v.iconCollisionBox,w=v.collisionCircleArray;if(w.length>0){const t=e.create(),i=y;e.mul(t,v.placementInvProjMatrix,h.glCoordMatrix),e.mul(t,t,v.placementViewportMatrix),u.push({circleArray:w,circleOffset:p,transform:i,invTransform:t,projection:v.getProjection()}),d+=w.length/4,p=d;}b&&(t.terrain&&t.terrain.setupElevationDraw(g,_),_.draw(l,c.LINES,e.DepthMode.disabled,e.StencilMode.disabled,t.colorModeForRenderPass(),e.CullFaceMode.disabled,Wi(y,h,g,v.getProjection()),o.id,b.layoutVertexBuffer,b.indexBuffer,b.segments,null,h.zoom,null,[b.collisionVertexBuffer,b.collisionVertexBufferExt]));}if(!s||!u.length)return;const m=t.useProgram(\"collisionCircle\"),f=new e.StructArrayLayout2f1f2i16;f.resize(4*d),f._trim();let g=0;for(const e of u)for(let t=0;t<e.circleArray.length/4;t++){const i=4*t,o=e.circleArray[i+0],r=e.circleArray[i+1],n=e.circleArray[i+2],a=e.circleArray[i+3];f.emplace(g++,o,r,n,a,0),f.emplace(g++,o,r,n,a,1),f.emplace(g++,o,r,n,a,2),f.emplace(g++,o,r,n,a,3);}(!co||co.length<2*d)&&(co=function(t){const i=2*t,o=new e.StructArrayLayout3ui6;o.resize(i),o._trim();for(let e=0;e<i;e++){const t=6*e;o.uint16[t+0]=4*e+0,o.uint16[t+1]=4*e+1,o.uint16[t+2]=4*e+2,o.uint16[t+3]=4*e+2,o.uint16[t+4]=4*e+3,o.uint16[t+5]=4*e+0;}return o}(d));const v=l.createIndexBuffer(co,!0),x=l.createVertexBuffer(f,e.collisionCircleLayout.members,!0);for(const i of u){const r={u_matrix:i.transform,u_inv_matrix:i.invTransform,u_camera_to_center_distance:(y=h).getCameraToCenterDistance(i.projection),u_viewport_size:[y.width,y.height]};m.draw(l,c.TRIANGLES,e.DepthMode.disabled,e.StencilMode.disabled,t.colorModeForRenderPass(),e.CullFaceMode.disabled,r,o.id,x,v,e.SegmentVector.simpleSegment(0,2*i.circleOffset,i.circleArray.length,i.circleArray.length/2),null,h.zoom);}var y;x.destroy(),v.destroy();}const _o=e.create();function uo(t,i,o,r,n,a){const{horizontalAlign:s,verticalAlign:l}=e.getAnchorAlignment(t),c=-(s-.5)*i,h=-(l-.5)*o,_=e.evaluateVariableOffset(t,r);return new e.pointGeometry((c/n+_[0])*a,(h/n+_[1])*a)}function po(t,i,o,r,n,a,s,l,c,h,_){const u=t.text.placedSymbolArray,d=t.text.dynamicLayoutVertexArray,p=t.icon.dynamicLayoutVertexArray,m={},f=wt(l,t.getProjection(),a),g=a.elevation,v=t.getProjection().upVectorScale(l.canonical,a.center.lat,a.worldSize);d.clear();for(let p=0;p<u.length;p++){const x=u.get(p),y=t.allowVerticalPlacement&&!x.placedOrientation,b=x.hidden||!x.crossTileID||y?null:r[x.crossTileID];if(b){const r=new e.pointGeometry(x.tileAnchorX,x.tileAnchorY),u=t.getProjection().upVector(l.canonical,r.x,r.y),p=g?g.getAtTileOffset(l,r.x,r.y):0,y=nt([x.projectedAnchorX+p*u[0]*v.metersToTile,x.projectedAnchorY+p*u[1]*v.metersToTile,x.projectedAnchorZ+p*u[2]*v.metersToTile],o?f:s),w=at(a.getCameraToCenterDistance(t.getProjection()),y.signedDistanceFromCamera);let T=n.evaluateSizeForFeature(t.textSizeData,h,x)*w/e.ONE_EM;o&&(T*=t.tilePixelRatio/c);const{width:E,height:C,anchor:I,textOffset:M,textScale:S}=b,z=uo(I,E,C,M,S,T);let D;if(o){const e=r.add(z),{x:i,y:o,z:n}=t.getProjection().projectTilePoint(e.x,e.y,l.canonical);D=nt([i+p*u[0]*v.metersToTile,o+p*u[1]*v.metersToTile,n+p*u[2]*v.metersToTile],s).point;}else {const e=i?z.rotate(-a.angle):z;D=[y.point[0]+e.x,y.point[1]+e.y,0];}const A=t.allowVerticalPlacement&&x.placedOrientation===e.WritingMode.vertical?Math.PI/2:0;for(let t=0;t<x.numGlyphs;t++)e.addDynamicAttributes(d,D[0],D[1],D[2],A);_&&x.associatedIconIndex>=0&&(m[x.associatedIconIndex]={shiftedAnchor:D,angle:A});}else ft(x.numGlyphs,d);}if(_){p.clear();const i=t.icon.placedSymbolArray;for(let t=0;t<i.length;t++){const o=i.get(t);if(o.hidden)ft(o.numGlyphs,p);else {const i=m[t];if(i)for(let t=0;t<o.numGlyphs;t++)e.addDynamicAttributes(p,i.shiftedAnchor[0],i.shiftedAnchor[1],i.shiftedAnchor[2],i.angle);else ft(o.numGlyphs,p);}}t.icon.dynamicLayoutVertexBuffer.updateData(p);}t.text.dynamicLayoutVertexBuffer.updateData(d);}function mo(e,t,i){return i.iconsInText&&t?\"symbolTextAndIcon\":e?\"symbolSDF\":\"symbolIcon\"}function fo(t,i,o,r,n,a,s,l,c,h,_,u){const d=t.context,p=d.gl,m=t.transform,f=\"map\"===l,g=\"map\"===c,v=f&&\"point\"!==o.layout.get(\"symbol-placement\"),x=f&&!g&&!v,y=void 0!==o.layout.get(\"symbol-sort-key\").constantOr(1);let b=!1;const w=t.depthModeForSublayer(0,e.DepthMode.ReadOnly),T=[e.mercatorXfromLng(m.center.lng),e.mercatorYfromLat(m.center.lat)],E=o.layout.get(\"text-variable-anchor\"),C=\"globe\"===m.projection.name,I=[],M=[0,-1,0];let S=M;!C&&!m.mercatorFromTransition||f||(S=function(t){const i=t._camera.getWorldToCamera(t.worldSize,1),o=e.multiply([],i,t.globeMatrix);e.invert(o,o);const r=[0,0,0],n=[0,1,0,0];return e.transformMat4$1(n,n,o),r[0]=n[0],r[1]=n[1],r[2]=n[2],e.normalize(r,r),r}(m));for(const l of r){const r=i.getTile(l),c=r.getBucket(o);if(!c)continue;if(\"mercator\"===c.projection.name&&C)continue;const _=n?c.text:c.icon;if(!_||c.fullyClipped||!_.segments.get().length)continue;const u=_.programConfigurations.get(o.id),d=n||c.sdfIcons,w=n?c.textSizeData:c.iconSizeData,z=g||0!==m.pitch,D=e.evaluateSizeForZoom(w,m.zoom);let A,P,L,R,O=[0,0],B=null;if(n){if(P=r.glyphAtlasTexture,L=p.LINEAR,A=r.glyphAtlasTexture.size,c.iconsInText){O=r.imageAtlasTexture.size,B=r.imageAtlasTexture;const e=\"composite\"===w.kind||\"camera\"===w.kind;R=z||t.options.rotating||t.options.zooming||e?p.LINEAR:p.NEAREST;}}else {const e=1!==o.layout.get(\"icon-size\").constantOr(0)||c.iconsNeedLinear;P=r.imageAtlasTexture,L=d||t.options.rotating||t.options.zooming||e||z?p.LINEAR:p.NEAREST,A=r.imageAtlasTexture.size;}const k=\"globe\"===c.projection.name,F=k?S:M,U=k?e.globeToMercatorTransition(m.zoom):0,N=wt(l,c.getProjection(),m),G=m.calculatePixelsToTileUnitsMatrix(r),j=tt(N,r.tileID.canonical,g,f,m,c.getProjection(),G),Z=t.terrain&&g&&v?e.invert(e.create(),j):_o,V=ot(N,r.tileID.canonical,g,f,m,c.getProjection(),G),W=E&&c.hasTextData(),X=\"none\"!==o.layout.get(\"icon-text-fit\")&&W&&c.hasIconData();if(v){const e=m.elevation,i=e?e.getAtTileOffsetFunc(l,m.center.lat,m.worldSize,c.getProjection()):e=>[0,0,0],o=it(N,r.tileID.canonical,g,f,m,c.getProjection(),G);lt(c,N,t,n,o,V,g,h,i,l);}const q=v||n&&E||X,$=t.translatePosMatrix(N,r,a,s),H=q?_o:j,Y=t.translatePosMatrix(V,r,a,s,!0),K=c.getProjection().createInversionMatrix(m,l.canonical),J=[];t.terrainRenderModeElevated()&&g&&J.push(\"PITCH_WITH_MAP_TERRAIN\"),k&&J.push(\"PROJECTION_GLOBE_VIEW\"),q&&J.push(\"PROJECTED_POS_ON_VIEWPORT\");const Q=d&&0!==o.paint.get(n?\"text-halo-width\":\"icon-halo-width\").constantOr(1);let ee;ee=d?c.iconsInText?no(w.kind,D,x,g,t,$,H,Y,A,O,l,U,T,K,F,c.getProjection()):ro(w.kind,D,x,g,t,$,H,Y,n,A,!0,l,U,T,K,F,c.getProjection()):oo(w.kind,D,x,g,t,$,H,Y,n,A,l,U,T,K,F,c.getProjection());const te={program:t.useProgram(mo(d,n,c),u,J),buffers:_,uniformValues:ee,atlasTexture:P,atlasTextureIcon:B,atlasInterpolation:L,atlasInterpolationIcon:R,isSDF:d,hasHalo:Q,tile:r,labelPlaneMatrixInv:Z};if(y&&c.canOverlap){b=!0;const t=_.segments.get();for(const i of t)I.push({segments:new e.SegmentVector([i]),sortKey:i.sortKey,state:te});}else I.push({segments:_.segments,sortKey:0,state:te});}b&&I.sort(((e,t)=>e.sortKey-t.sortKey));for(const e of I){const i=e.state;if(t.terrain&&t.terrain.setupElevationDraw(i.tile,i.program,{useDepthForOcclusion:!C,labelPlaneMatrixInv:i.labelPlaneMatrixInv}),d.activeTexture.set(p.TEXTURE0),i.atlasTexture.bind(i.atlasInterpolation,p.CLAMP_TO_EDGE),i.atlasTextureIcon&&(d.activeTexture.set(p.TEXTURE1),i.atlasTextureIcon&&i.atlasTextureIcon.bind(i.atlasInterpolationIcon,p.CLAMP_TO_EDGE)),i.isSDF){const r=i.uniformValues;i.hasHalo&&(r.u_is_halo=1,go(i.buffers,e.segments,o,t,i.program,w,_,u,r)),r.u_is_halo=0;}go(i.buffers,e.segments,o,t,i.program,w,_,u,i.uniformValues);}}function go(t,i,o,r,n,a,s,l,c){const h=r.context,_=[t.dynamicLayoutVertexBuffer,t.opacityVertexBuffer,t.globeExtVertexBuffer];n.draw(h,h.gl.TRIANGLES,a,s,l,e.CullFaceMode.disabled,c,o.id,t.layoutVertexBuffer,t.indexBuffer,i,o.paint,r.transform.zoom,t.programConfigurations.get(o.id),_);}function vo(t,i,o,r,n,a,s){const l=t.context.gl,c=o.paint.get(\"fill-pattern\"),h=c&&c.constantOr(1),_=o.getCrossfadeParameters();let u,d,p,m,f;s?(d=h&&!o.getPaintProperty(\"fill-outline-color\")?\"fillOutlinePattern\":\"fillOutline\",u=l.LINES):(d=h?\"fillPattern\":\"fill\",u=l.TRIANGLES);for(const g of r){const r=i.getTile(g);if(h&&!r.patternsLoaded())continue;const v=r.getBucket(o);if(!v)continue;t.prepareDrawTile();const x=v.programConfigurations.get(o.id),y=t.useProgram(d,x);h&&(t.context.activeTexture.set(l.TEXTURE0),r.imageAtlasTexture.bind(l.LINEAR,l.CLAMP_TO_EDGE),x.updatePaintBuffers(_));const b=c.constantOr(null);if(b&&r.imageAtlas){const e=r.imageAtlas,t=e.patternPositions[b.to.toString()],i=e.patternPositions[b.from.toString()];t&&i&&x.setConstantPatternPositions(t,i);}const w=t.translatePosMatrix(g.projMatrix,r,o.paint.get(\"fill-translate\"),o.paint.get(\"fill-translate-anchor\"));if(s){m=v.indexBuffer2,f=v.segments2;const e=t.terrain&&t.terrain.renderingToTexture?t.terrain.drapeBufferSize:[l.drawingBufferWidth,l.drawingBufferHeight];p=\"fillOutlinePattern\"===d&&h?Gi(w,t,_,r,e):Ni(w,e);}else m=v.indexBuffer,f=v.segments,p=h?Ui(w,t,_,r):Fi(w);t.prepareDrawProgram(t.context,y,g.toUnwrapped()),y.draw(t.context,u,n,t.stencilModeForClipping(g),a,e.CullFaceMode.disabled,p,o.id,v.layoutVertexBuffer,m,f,o.paint,t.transform.zoom,x);}}function xo(t,i,o,r,n,a,s){const l=t.context,c=l.gl,h=t.transform,_=o.paint.get(\"fill-extrusion-pattern\"),u=_.constantOr(1),d=o.getCrossfadeParameters(),p=o.paint.get(\"fill-extrusion-opacity\"),m=[o.paint.get(\"fill-extrusion-ambient-occlusion-intensity\"),o.paint.get(\"fill-extrusion-ambient-occlusion-radius\")],f=o.layout.get(\"fill-extrusion-edge-radius\"),g=\"globe\"===h.projection.name?e.fillExtrusionHeightLift():0,v=\"globe\"===h.projection.name,x=v?e.globeToMercatorTransition(h.zoom):0,y=[e.mercatorXfromLng(h.center.lng),e.mercatorYfromLat(h.center.lat)],b=[];v&&(b.push(\"PROJECTION_GLOBE_VIEW\"),t.style.terrainSetForDrapingOnly()&&b.push(\"TERRAIN\")),m[0]>0&&b.push(\"FAUX_AO\");for(const w of r){const r=i.getTile(w),T=r.getBucket(o);if(!T||T.projection.name!==h.projection.name)continue;const E=T.programConfigurations.get(o.id),C=t.useProgram(u?\"fillExtrusionPattern\":\"fillExtrusion\",E,b);if(t.terrain){const e=t.terrain;if(t.style.terrainSetForDrapingOnly())e.setupElevationDraw(r,C,{useMeterToDem:!0});else {if(!T.enableTerrain)continue;if(e.setupElevationDraw(r,C,{useMeterToDem:!0}),yo(l,i,w,T,o,e),!T.centroidVertexBuffer){const e=C.attributes.a_centroid_pos;void 0!==e&&c.vertexAttrib2f(e,0,0);}}}u&&(t.context.activeTexture.set(c.TEXTURE0),r.imageAtlasTexture.bind(c.LINEAR,c.CLAMP_TO_EDGE),E.updatePaintBuffers(d));const I=_.constantOr(null);if(I&&r.imageAtlas){const e=r.imageAtlas,t=e.patternPositions[I.to.toString()],i=e.patternPositions[I.from.toString()];t&&i&&E.setConstantPatternPositions(t,i);}const M=t.translatePosMatrix(w.projMatrix,r,o.paint.get(\"fill-extrusion-translate\"),o.paint.get(\"fill-extrusion-translate-anchor\")),S=h.projection.createInversionMatrix(h,w.canonical),z=o.paint.get(\"fill-extrusion-vertical-gradient\"),D=u?ki(M,t,z,p,m,f,w,d,r,g,x,y,S):Bi(M,t,z,p,m,f,w,g,x,y,S);t.prepareDrawProgram(l,C,w.toUnwrapped());const A=[];t.terrain&&A.push(T.centroidVertexBuffer),v&&A.push(T.layoutVertexExtBuffer),C.draw(l,l.gl.TRIANGLES,n,a,s,e.CullFaceMode.backCCW,D,o.id,T.layoutVertexBuffer,T.indexBuffer,T.segments,o.paint,t.transform.zoom,E,A);}}function yo(t,i,o,r,n,a){const s=[t=>{let i=t.canonical.x-1,o=t.wrap;return i<0&&(i=(1<<t.canonical.z)-1,o--),new e.OverscaledTileID(t.overscaledZ,o,t.canonical.z,i,t.canonical.y)},t=>{let i=t.canonical.x+1,o=t.wrap;return i===1<<t.canonical.z&&(i=0,o++),new e.OverscaledTileID(t.overscaledZ,o,t.canonical.z,i,t.canonical.y)},t=>new e.OverscaledTileID(t.overscaledZ,t.wrap,t.canonical.z,t.canonical.x,(0===t.canonical.y?1<<t.canonical.z:t.canonical.y)-1),t=>new e.OverscaledTileID(t.overscaledZ,t.wrap,t.canonical.z,t.canonical.x,t.canonical.y===(1<<t.canonical.z)-1?0:t.canonical.y+1)],l=e=>{const t=i.getSource().minzoom,o=e=>{const t=i.getTileByID(e);if(t&&t.hasData())return t.getBucket(n)},r=[0,-1,1];for(const i of r){if(e.overscaledZ+i<t)continue;const r=o(e.calculateScaledKey(e.overscaledZ+i));if(r)return r}},c=[0,0,0],h=(t,i)=>(c[0]=Math.min(t.min.y,i.min.y),c[1]=Math.max(t.max.y,i.max.y),c[2]=e.EXTENT-i.min.x>t.max.x?i.min.x-e.EXTENT:t.max.x,c),_=(t,i)=>(c[0]=Math.min(t.min.x,i.min.x),c[1]=Math.max(t.max.x,i.max.x),c[2]=e.EXTENT-i.min.y>t.max.y?i.min.y-e.EXTENT:t.max.y,c),u=[(e,t)=>h(e,t),(e,t)=>h(t,e),(e,t)=>_(e,t),(e,t)=>_(t,e)],d=new e.pointGeometry(0,0);let p,m,f;const g=(t,i,r,n,s)=>{const l=[[n?r:t,n?t:r,0],[n?r:i,n?i:r,0]],c=s<0?e.EXTENT+s:s,h=[n?c:(t+i)/2,n?(t+i)/2:c,0];return 0===r&&s<0||0!==r&&s>0?a.getForTilePoints(f,[h],!0,m):l.push(h),a.getForTilePoints(o,l,!0,p),Math.max(l[0][2],l[1][2],h[2])/a.exaggeration()};for(let t=0;t<4;t++){const i=(t<2?1:5)-t,n=r.borders[t];if(0===n.length)continue;const c=f=s[t](o),h=l(c);if(!(h&&h instanceof e.FillExtrusionBucket&&h.enableTerrain))continue;if(r.borderDoneWithNeighborZ[t]===h.canonical.z&&h.borderDoneWithNeighborZ[i]===r.canonical.z)continue;if(m=a.findDEMTileFor(c),!m||!m.dem)continue;if(!p){const e=a.findDEMTileFor(o);if(!e||!e.dem)return;p=e;}const _=h.borders[i];let v=0;const x=h.borderDoneWithNeighborZ[i]!==r.canonical.z;if(r.canonical.z===h.canonical.z){for(let o=0;o<n.length;o++){const a=r.featuresOnBorder[n[o]],s=a.borders[t];let l;for(;v<_.length&&(l=h.featuresOnBorder[_[v]],!(l.borders[i][1]>s[0]+3));)x&&h.encodeCentroid(void 0,l,!1),v++;if(l&&v<_.length){const o=v;let n=0;for(;!(l.borders[i][0]>s[1]-3)&&(n++,++v!==_.length);)l=h.featuresOnBorder[_[v]];if(l=h.featuresOnBorder[_[o]],a.intersectsCount()>1||l.intersectsCount()>1||1!==n){1!==n&&(v=o),r.encodeCentroid(void 0,a,!1),x&&h.encodeCentroid(void 0,l,!1);continue}const c=u[t](a,l),p=t%2?e.EXTENT-1:0;d.x=g(c[0],Math.min(e.EXTENT-1,c[1]),p,t<2,c[2]),d.y=0,r.encodeCentroid(d,a,!1),x&&h.encodeCentroid(d,l,!1);}else r.encodeCentroid(void 0,a,!1);}r.borderDoneWithNeighborZ[t]=h.canonical.z,r.needsCentroidUpdate=!0,x&&(h.borderDoneWithNeighborZ[i]=r.canonical.z,h.needsCentroidUpdate=!0);}else {for(const e of n)r.encodeCentroid(void 0,r.featuresOnBorder[e],!1);if(x){for(const e of _)h.encodeCentroid(void 0,h.featuresOnBorder[e],!1);h.borderDoneWithNeighborZ[i]=r.canonical.z,h.needsCentroidUpdate=!0;}r.borderDoneWithNeighborZ[t]=h.canonical.z,r.needsCentroidUpdate=!0;}}(r.needsCentroidUpdate||!r.centroidVertexBuffer&&0!==r.centroidVertexArray.length)&&r.uploadCentroid(t);}const bo=new e.Color(1,0,0,1),wo=new e.Color(0,1,0,1),To=new e.Color(0,0,1,1),Eo=new e.Color(1,0,1,1),Co=new e.Color(0,1,1,1);function Io(t,i,o){const r=t.context,n=t.transform,a=r.gl,s=\"globe\"===n.projection.name,l=s?[\"PROJECTION_GLOBE_VIEW\"]:null;let c=o.projMatrix;if(s&&e.globeToMercatorTransition(n.zoom)>0){const t=e.transitionTileAABBinECEF(o.canonical,n),i=e.globeDenormalizeECEF(t);c=e.multiply(new Float32Array(16),n.globeMatrix,i),e.multiply(c,n.projMatrix,c);}const h=t.useProgram(\"debug\",null,l),_=i.getTileByID(o.key);t.terrain&&t.terrain.setupElevationDraw(_,h);const u=e.DepthMode.disabled,d=e.StencilMode.disabled,p=t.colorModeForRenderPass(),m=\"$debug\";r.activeTexture.set(a.TEXTURE0),t.emptyTexture.bind(a.LINEAR,a.CLAMP_TO_EDGE),s?_._makeGlobeTileDebugBuffers(t.context,n):_._makeDebugTileBoundsBuffers(t.context,n.projection);const f=_._tileDebugBuffer||t.debugBuffer,g=_._tileDebugIndexBuffer||t.debugIndexBuffer,v=_._tileDebugSegments||t.debugSegments;h.draw(r,a.LINE_STRIP,u,d,p,e.CullFaceMode.disabled,Xi(c,e.Color.red),m,f,g,v,null,null,null,[_._globeTileDebugBorderBuffer]);const x=_.latestRawTileData,y=Math.floor((x&&x.byteLength||0)/1024),b=i.getTile(o).tileSize,w=512/Math.min(b,512)*(o.overscaledZ/n.zoom)*.5;let T=o.canonical.toString();o.overscaledZ!==o.canonical.z&&(T+=` => ${o.overscaledZ}`),T+=` ${y}kb`,function(e,t){e.initDebugOverlayCanvas();const i=e.debugOverlayCanvas,o=e.context.gl,r=e.debugOverlayCanvas.getContext(\"2d\");r.clearRect(0,0,i.width,i.height),r.shadowColor=\"white\",r.shadowBlur=2,r.lineWidth=1.5,r.strokeStyle=\"white\",r.textBaseline=\"top\",r.font=\"bold 36px Open Sans, sans-serif\",r.fillText(t,5,5),r.strokeText(t,5,5),e.debugOverlayTexture.update(i),e.debugOverlayTexture.bind(o.LINEAR,o.CLAMP_TO_EDGE);}(t,T);const E=_._tileDebugTextBuffer||t.debugBuffer,C=_._tileDebugTextIndexBuffer||t.quadTriangleIndexBuffer,I=_._tileDebugTextSegments||t.debugSegments;h.draw(r,a.TRIANGLES,u,d,e.ColorMode.alphaBlended,e.CullFaceMode.disabled,Xi(c,e.Color.transparent,w),m,E,C,I,null,null,null,[_._globeTileDebugTextBuffer]);}function Mo(e,t,i,o){zo(e,0,t+i/2,e.transform.width,i,o);}function So(e,t,i,o){zo(e,t-i/2,0,i,e.transform.height,o);}function zo(t,i,o,r,n,a){const s=t.context,l=s.gl;l.enable(l.SCISSOR_TEST),l.scissor(i*e.exported.devicePixelRatio,o*e.exported.devicePixelRatio,r*e.exported.devicePixelRatio,n*e.exported.devicePixelRatio),s.clear({color:a}),l.disable(l.SCISSOR_TEST);}const Do=e.createLayout([{name:\"a_pos_3f\",components:3,type:\"Float32\"}]),{members:Ao}=Do;function Po(e,t,i,o){e.emplaceBack(t,i,o);}class Lo{constructor(t){this.vertexArray=new e.StructArrayLayout3f12,this.indices=new e.StructArrayLayout3ui6,Po(this.vertexArray,-1,-1,1),Po(this.vertexArray,1,-1,1),Po(this.vertexArray,-1,1,1),Po(this.vertexArray,1,1,1),Po(this.vertexArray,-1,-1,-1),Po(this.vertexArray,1,-1,-1),Po(this.vertexArray,-1,1,-1),Po(this.vertexArray,1,1,-1),this.indices.emplaceBack(5,1,3),this.indices.emplaceBack(3,7,5),this.indices.emplaceBack(6,2,0),this.indices.emplaceBack(0,4,6),this.indices.emplaceBack(2,6,7),this.indices.emplaceBack(7,3,2),this.indices.emplaceBack(5,4,0),this.indices.emplaceBack(0,1,5),this.indices.emplaceBack(0,2,3),this.indices.emplaceBack(3,1,0),this.indices.emplaceBack(7,6,4),this.indices.emplaceBack(4,5,7),this.vertexBuffer=t.createVertexBuffer(this.vertexArray,Ao),this.indexBuffer=t.createIndexBuffer(this.indices),this.segment=e.SegmentVector.simpleSegment(0,0,36,12);}}function Ro(t,i,o,r,n,a){const s=t.gl,l=i.paint.get(\"sky-atmosphere-color\"),c=i.paint.get(\"sky-atmosphere-halo-color\"),h=i.paint.get(\"sky-atmosphere-sun-intensity\"),_=((e,t,i,o,r)=>({u_matrix_3f:e,u_sun_direction:t,u_sun_intensity:i,u_color_tint_r:[o.r,o.g,o.b,o.a],u_color_tint_m:[r.r,r.g,r.b,r.a],u_luminance:5e-5}))(e.fromMat4(e.create$1(),r),n,h,l,c);s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_CUBE_MAP_POSITIVE_X+a,i.skyboxTexture,0),o.draw(t,s.TRIANGLES,e.DepthMode.disabled,e.StencilMode.disabled,e.ColorMode.unblended,e.CullFaceMode.frontCW,_,\"skyboxCapture\",i.skyboxGeometry.vertexBuffer,i.skyboxGeometry.indexBuffer,i.skyboxGeometry.segment);}const Oo=e.createLayout([{type:\"Float32\",name:\"a_pos\",components:3},{type:\"Float32\",name:\"a_uv\",components:2}]);class Bo{constructor(t){const i=new e.StructArrayLayout5f20;i.emplaceBack(-1,1,1,0,0),i.emplaceBack(1,1,1,1,0),i.emplaceBack(1,-1,1,1,1),i.emplaceBack(-1,-1,1,0,1);const o=new e.StructArrayLayout3ui6;o.emplaceBack(0,1,2),o.emplaceBack(2,3,0),this.vertexBuffer=t.createVertexBuffer(i,Oo.members),this.indexBuffer=t.createIndexBuffer(o),this.segments=e.SegmentVector.simpleSegment(0,0,4,2);}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy();}}const ko={symbol:function(t,i,o,r,n){if(\"translucent\"!==t.renderPass)return;const a=e.StencilMode.disabled,s=t.colorModeForRenderPass();o.layout.get(\"text-variable-anchor\")&&function(t,i,o,r,n,a,s){const l=i.transform,c=\"map\"===n,h=\"map\"===a;for(const i of t){const t=r.getTile(i),n=t.getBucket(o);if(!n||!n.text||!n.text.segments.get().length)continue;const a=e.evaluateSizeForZoom(n.textSizeData,l.zoom),_=wt(i,n.getProjection(),l),u=l.calculatePixelsToTileUnitsMatrix(t),d=tt(_,t.tileID.canonical,h,c,l,n.getProjection(),u),p=\"none\"!==o.layout.get(\"icon-text-fit\")&&n.hasIconData();if(a){const o=Math.pow(2,l.zoom-t.tileID.overscaledZ);po(n,c,h,s,e.symbolSize,l,d,i,o,a,p);}}}(r,t,o,i,o.layout.get(\"text-rotation-alignment\"),o.layout.get(\"text-pitch-alignment\"),n),0!==o.paint.get(\"icon-opacity\").constantOr(1)&&fo(t,i,o,r,!1,o.paint.get(\"icon-translate\"),o.paint.get(\"icon-translate-anchor\"),o.layout.get(\"icon-rotation-alignment\"),o.layout.get(\"icon-pitch-alignment\"),o.layout.get(\"icon-keep-upright\"),a,s),0!==o.paint.get(\"text-opacity\").constantOr(1)&&fo(t,i,o,r,!0,o.paint.get(\"text-translate\"),o.paint.get(\"text-translate-anchor\"),o.layout.get(\"text-rotation-alignment\"),o.layout.get(\"text-pitch-alignment\"),o.layout.get(\"text-keep-upright\"),a,s),i.map.showCollisionBoxes&&(ho(t,i,o,r,o.paint.get(\"text-translate\"),o.paint.get(\"text-translate-anchor\"),!0),ho(t,i,o,r,o.paint.get(\"icon-translate\"),o.paint.get(\"icon-translate-anchor\"),!1));},circle:function(t,i,o,r){if(\"translucent\"!==t.renderPass)return;const n=o.paint.get(\"circle-opacity\"),a=o.paint.get(\"circle-stroke-width\"),s=o.paint.get(\"circle-stroke-opacity\"),l=void 0!==o.layout.get(\"circle-sort-key\").constantOr(1);if(0===n.constantOr(1)&&(0===a.constantOr(1)||0===s.constantOr(1)))return;const c=t.context,h=c.gl,_=t.transform,u=t.depthModeForSublayer(0,e.DepthMode.ReadOnly),d=e.StencilMode.disabled,p=t.colorModeForRenderPass(),m=\"globe\"===_.projection.name,f=[e.mercatorXfromLng(_.center.lng),e.mercatorYfromLat(_.center.lat)],g=[];for(let n=0;n<r.length;n++){const a=r[n],s=i.getTile(a),c=s.getBucket(o);if(!c||c.projection.name!==_.projection.name)continue;const h=c.programConfigurations.get(o.id),u=Vi(o);m&&u.push(\"PROJECTION_GLOBE_VIEW\");const d=t.useProgram(\"circle\",h,u),p=c.layoutVertexBuffer,v=c.globeExtVertexBuffer,x=c.indexBuffer,y=_.projection.createInversionMatrix(_,a.canonical),b={programConfiguration:h,program:d,layoutVertexBuffer:p,globeExtVertexBuffer:v,indexBuffer:x,uniformValues:Zi(t,a,s,y,f,o),tile:s};if(l){const t=c.segments.get();for(const i of t)g.push({segments:new e.SegmentVector([i]),sortKey:i.sortKey,state:b});}else g.push({segments:c.segments,sortKey:0,state:b});}l&&g.sort(((e,t)=>e.sortKey-t.sortKey));const v={useDepthForOcclusion:!m};for(const i of g){const{programConfiguration:r,program:n,layoutVertexBuffer:a,globeExtVertexBuffer:s,indexBuffer:l,uniformValues:m,tile:f}=i.state,g=i.segments;t.terrain&&t.terrain.setupElevationDraw(f,n,v),t.prepareDrawProgram(c,n,f.tileID.toUnwrapped()),n.draw(c,h.TRIANGLES,u,d,p,e.CullFaceMode.disabled,m,o.id,a,l,g,o.paint,_.zoom,r,[s]);}},heatmap:function(t,i,o,r){if(0!==o.paint.get(\"heatmap-opacity\"))if(\"offscreen\"===t.renderPass){const n=t.context,a=n.gl,s=e.StencilMode.disabled,l=new e.ColorMode([a.ONE,a.ONE],e.Color.transparent,[!0,!0,!0,!0]);!function(e,t,i,o){const r=e.gl,n=t.width*o,a=t.height*o;e.activeTexture.set(r.TEXTURE1),e.viewport.set([0,0,n,a]);let s=i.heatmapFbo;if(!s||s&&(s.width!==n||s.height!==a)){s&&s.destroy();const t=r.createTexture();r.bindTexture(r.TEXTURE_2D,t),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),s=i.heatmapFbo=e.createFramebuffer(n,a,!1),function(e,t,i,o,r,n){const a=e.gl;a.texImage2D(a.TEXTURE_2D,0,a.RGBA,r,n,0,a.RGBA,e.extRenderToTextureHalfFloat?e.extTextureHalfFloat.HALF_FLOAT_OES:a.UNSIGNED_BYTE,null),o.colorAttachment.set(i);}(e,0,t,s,n,a);}else r.bindTexture(r.TEXTURE_2D,s.colorAttachment.get()),e.bindFramebuffer.set(s.framebuffer);}(n,t,o,\"globe\"===t.transform.projection.name?.5:.25),n.clear({color:e.Color.transparent});const c=t.transform,h=\"globe\"===c.projection.name,_=h?[\"PROJECTION_GLOBE_VIEW\"]:null,u=h?e.CullFaceMode.frontCCW:e.CullFaceMode.disabled,d=[e.mercatorXfromLng(c.center.lng),e.mercatorYfromLat(c.center.lat)];for(let p=0;p<r.length;p++){const m=r[p];if(i.hasRenderableParent(m))continue;const f=i.getTile(m),g=f.getBucket(o);if(!g||g.projection.name!==c.projection.name)continue;const v=g.programConfigurations.get(o.id),x=t.useProgram(\"heatmap\",v,_),{zoom:y}=t.transform;t.terrain&&t.terrain.setupElevationDraw(f,x),t.prepareDrawProgram(n,x,m.toUnwrapped());const b=c.projection.createInversionMatrix(c,m.canonical);x.draw(n,a.TRIANGLES,e.DepthMode.disabled,s,l,u,$i(t,m,f,b,d,y,o.paint.get(\"heatmap-intensity\")),o.id,g.layoutVertexBuffer,g.indexBuffer,g.segments,o.paint,t.transform.zoom,v,h?[g.globeExtVertexBuffer]:null);}n.viewport.set([0,0,t.width,t.height]);}else \"translucent\"===t.renderPass&&(t.context.setColorMode(t.colorModeForRenderPass()),function(t,i){const o=t.context,r=o.gl,n=i.heatmapFbo;if(!n)return;o.activeTexture.set(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,n.colorAttachment.get()),o.activeTexture.set(r.TEXTURE1);let a=i.colorRampTexture;a||(a=i.colorRampTexture=new e.Texture(o,i.colorRamp,r.RGBA)),a.bind(r.LINEAR,r.CLAMP_TO_EDGE),t.useProgram(\"heatmapTexture\").draw(o,r.TRIANGLES,e.DepthMode.disabled,e.StencilMode.disabled,t.colorModeForRenderPass(),e.CullFaceMode.disabled,((e,t,i,o)=>({u_image:0,u_color_ramp:1,u_opacity:t.paint.get(\"heatmap-opacity\")}))(0,i),i.id,t.viewportBuffer,t.quadTriangleIndexBuffer,t.viewportSegments,i.paint,t.transform.zoom);}(t,o));},line:function(t,i,o,r){if(\"translucent\"!==t.renderPass)return;const n=o.paint.get(\"line-opacity\"),a=o.paint.get(\"line-width\");if(0===n.constantOr(1)||0===a.constantOr(1))return;const s=t.depthModeForSublayer(0,e.DepthMode.ReadOnly),l=t.colorModeForRenderPass(),c=t.terrain&&t.terrain.renderingToTexture?1:e.exported.devicePixelRatio,h=o.paint.get(\"line-dasharray\"),_=h.constantOr(1),u=o.layout.get(\"line-cap\"),d=o.paint.get(\"line-pattern\"),p=d.constantOr(1),m=o.paint.get(\"line-gradient\"),f=o.getCrossfadeParameters(),g=p?\"linePattern\":\"line\",v=t.context,x=v.gl,y=(e=>{const t=[];Qi(e)&&t.push(\"RENDER_LINE_DASH\"),e.paint.get(\"line-gradient\")&&t.push(\"RENDER_LINE_GRADIENT\");const i=e.paint.get(\"line-trim-offset\");0===i[0]&&0===i[1]||t.push(\"RENDER_LINE_TRIM_OFFSET\");const o=e.paint.get(\"line-pattern\").constantOr(1),r=1!==e.paint.get(\"line-opacity\").constantOr(1);return !o&&r&&t.push(\"RENDER_LINE_ALPHA_DISCARD\"),t})(o);let b=y.includes(\"RENDER_LINE_ALPHA_DISCARD\");t.terrain&&t.terrain.clipOrMaskOverlapStencilType()&&(b=!1);for(const n of r){const r=i.getTile(n);if(p&&!r.patternsLoaded())continue;const a=r.getBucket(o);if(!a)continue;t.prepareDrawTile();const w=a.programConfigurations.get(o.id),T=t.useProgram(g,w,y),E=d.constantOr(null);if(E&&r.imageAtlas){const e=r.imageAtlas,t=e.patternPositions[E.to.toString()],i=e.patternPositions[E.from.toString()];t&&i&&w.setConstantPatternPositions(t,i);}const C=h.constantOr(null),I=u.constantOr(null);if(!p&&C&&I&&r.lineAtlas){const e=r.lineAtlas,t=e.getDash(C.to,I),i=e.getDash(C.from,I);t&&i&&w.setConstantPatternPositions(t,i);}let[M,S]=o.paint.get(\"line-trim-offset\");if(\"round\"===I||\"square\"===I){const e=1;M!==S&&(0===M&&(M-=e),1===S&&(S+=e));}const z=t.terrain?n.projMatrix:null,D=p?Yi(t,r,o,f,z,c):Hi(t,r,o,f,z,a.lineClipsArray.length,c,[M,S]);if(m){const r=a.gradients[o.id];let s=r.texture;if(o.gradientVersion!==r.version){let l=256;if(o.stepInterpolant){const o=i.getSource().maxzoom,r=n.canonical.z===o?Math.ceil(1<<t.transform.maxZoom-n.canonical.z):1;l=e.clamp(e.nextPowerOfTwo(a.maxLineLength/e.EXTENT*1024*r),256,v.maxTextureSize);}r.gradient=e.renderColorRamp({expression:o.gradientExpression(),evaluationKey:\"lineProgress\",resolution:l,image:r.gradient||void 0,clips:a.lineClipsArray}),r.texture?r.texture.update(r.gradient):r.texture=new e.Texture(v,r.gradient,x.RGBA),r.version=o.gradientVersion,s=r.texture;}v.activeTexture.set(x.TEXTURE1),s.bind(o.stepInterpolant?x.NEAREST:x.LINEAR,x.CLAMP_TO_EDGE);}_&&(v.activeTexture.set(x.TEXTURE0),r.lineAtlasTexture.bind(x.LINEAR,x.REPEAT),w.updatePaintBuffers(f)),p&&(v.activeTexture.set(x.TEXTURE0),r.imageAtlasTexture.bind(x.LINEAR,x.CLAMP_TO_EDGE),w.updatePaintBuffers(f)),t.prepareDrawProgram(v,T,n.toUnwrapped());const A=i=>{T.draw(v,x.TRIANGLES,s,i,l,e.CullFaceMode.disabled,D,o.id,a.layoutVertexBuffer,a.indexBuffer,a.segments,o.paint,t.transform.zoom,w,[a.layoutVertexBuffer2]);};if(b){const i=t.stencilModeForClipping(n).ref;0===i&&t.terrain&&v.clear({stencil:0});const o={func:x.EQUAL,mask:255};D.u_alpha_discard_threshold=.8,A(new e.StencilMode(o,i,255,x.KEEP,x.KEEP,x.INVERT)),D.u_alpha_discard_threshold=0,A(new e.StencilMode(o,i,255,x.KEEP,x.KEEP,x.KEEP));}else A(t.stencilModeForClipping(n));}b&&(t.resetStencilClippingMasks(),t.terrain&&v.clear({stencil:0}));},fill:function(t,i,o,r){const n=o.paint.get(\"fill-color\"),a=o.paint.get(\"fill-opacity\");if(0===a.constantOr(1))return;const s=t.colorModeForRenderPass(),l=o.paint.get(\"fill-pattern\"),c=t.opaquePassEnabledForLayer()&&!l.constantOr(1)&&1===n.constantOr(e.Color.transparent).a&&1===a.constantOr(0)?\"opaque\":\"translucent\";if(t.renderPass===c){const n=t.depthModeForSublayer(1,\"opaque\"===t.renderPass?e.DepthMode.ReadWrite:e.DepthMode.ReadOnly);vo(t,i,o,r,n,s,!1);}if(\"translucent\"===t.renderPass&&o.paint.get(\"fill-antialias\")){const n=t.depthModeForSublayer(o.getPaintProperty(\"fill-outline-color\")?2:0,e.DepthMode.ReadOnly);vo(t,i,o,r,n,s,!0);}},\"fill-extrusion\":function(t,i,o,r){const n=o.paint.get(\"fill-extrusion-opacity\");if(0!==n&&\"translucent\"===t.renderPass){const a=new e.DepthMode(t.context.gl.LEQUAL,e.DepthMode.ReadWrite,t.depthRangeFor3D);if(1!==n||o.paint.get(\"fill-extrusion-pattern\").constantOr(1))xo(t,i,o,r,a,e.StencilMode.disabled,e.ColorMode.disabled),xo(t,i,o,r,a,t.stencilModeFor3D(),t.colorModeForRenderPass()),t.resetStencilClippingMasks();else {const n=t.colorModeForRenderPass();xo(t,i,o,r,a,e.StencilMode.disabled,n);}}},hillshade:function(t,i,o,r){if(\"offscreen\"!==t.renderPass&&\"translucent\"!==t.renderPass)return;const n=t.context,a=t.depthModeForSublayer(0,e.DepthMode.ReadOnly),s=t.colorModeForRenderPass(),l=t.terrain&&t.terrain.renderingToTexture,[c,h]=\"translucent\"!==t.renderPass||l?[{},r]:t.stencilConfigForOverlap(r);for(const r of h){const n=i.getTile(r);if(n.needsHillshadePrepare&&\"offscreen\"===t.renderPass)xi(t,n,o,a,e.StencilMode.disabled,s);else if(\"translucent\"===t.renderPass){const e=l&&t.terrain?t.terrain.stencilModeForRTTOverlap(r):c[r.overscaledZ];gi(t,r,n,o,a,e,s);}}n.viewport.set([0,0,t.width,t.height]),t.resetStencilClippingMasks();},raster:function(t,i,o,r,n,a){if(\"translucent\"!==t.renderPass)return;if(0===o.paint.get(\"raster-opacity\"))return;if(!r.length)return;const s=t.context,l=s.gl,c=i.getSource(),h=t.useProgram(\"raster\"),_=t.colorModeForRenderPass(),u=t.terrain&&t.terrain.renderingToTexture,[d,p]=c instanceof De||u?[{},r]:t.stencilConfigForOverlap(r),m=p[p.length-1].overscaledZ,f=!t.options.moving;for(const r of p){const n=u?e.DepthMode.disabled:t.depthModeForSublayer(r.overscaledZ-m,1===o.paint.get(\"raster-opacity\")?e.DepthMode.ReadWrite:e.DepthMode.ReadOnly,l.LESS),p=r.toUnwrapped(),g=i.getTile(r);if(u&&(!g||!g.hasData()))continue;const v=u?r.projMatrix:t.transform.calculateProjMatrix(p,f),x=t.terrain&&u?t.terrain.stencilModeForRTTOverlap(r):d[r.overscaledZ],y=a?0:o.paint.get(\"raster-fade-duration\");g.registerFadeDuration(y);const b=i.findLoadedParent(r,0),w=Si(g,b,i,t.transform,y);let T,E;t.terrain&&t.terrain.prepareDrawTile();const C=\"nearest\"===o.paint.get(\"raster-resampling\")?l.NEAREST:l.LINEAR;s.activeTexture.set(l.TEXTURE0),g.texture.bind(C,l.CLAMP_TO_EDGE),s.activeTexture.set(l.TEXTURE1),b?(b.texture.bind(C,l.CLAMP_TO_EDGE),T=Math.pow(2,b.tileID.overscaledZ-g.tileID.overscaledZ),E=[g.tileID.canonical.x*T%1,g.tileID.canonical.y*T%1]):g.texture.bind(C,l.CLAMP_TO_EDGE);const I=eo(v,E||[0,0],T||1,w,o,c instanceof De?c.perspectiveTransform:[0,0]);if(t.prepareDrawProgram(s,h,p),c instanceof De)c.boundsBuffer&&c.boundsSegments&&h.draw(s,l.TRIANGLES,n,e.StencilMode.disabled,_,e.CullFaceMode.disabled,I,o.id,c.boundsBuffer,t.quadTriangleIndexBuffer,c.boundsSegments);else {const{tileBoundsBuffer:i,tileBoundsIndexBuffer:r,tileBoundsSegments:a}=t.getTileBoundsBuffers(g);h.draw(s,l.TRIANGLES,n,x,_,e.CullFaceMode.disabled,I,o.id,i,r,a);}}t.resetStencilClippingMasks();},background:function(t,i,o,r){const n=o.paint.get(\"background-color\"),a=o.paint.get(\"background-opacity\");if(0===a)return;const s=t.context,l=s.gl,c=t.transform,h=c.tileSize,_=o.paint.get(\"background-pattern\");if(t.isPatternMissing(_))return;const u=!_&&1===n.a&&1===a&&t.opaquePassEnabledForLayer()?\"opaque\":\"translucent\";if(t.renderPass!==u)return;const d=e.StencilMode.disabled,p=t.depthModeForSublayer(0,\"opaque\"===u?e.DepthMode.ReadWrite:e.DepthMode.ReadOnly),m=t.colorModeForRenderPass(),f=t.useProgram(_?\"backgroundPattern\":\"background\");let g,v=r;v||(g=t.getBackgroundTiles(),v=Object.values(g).map((e=>e.tileID))),_&&(s.activeTexture.set(l.TEXTURE0),t.imageManager.bind(t.context));const x=o.getCrossfadeParameters();for(const u of v){const v=u.toUnwrapped(),y=r?u.projMatrix:t.transform.calculateProjMatrix(v);t.prepareDrawTile();const b=i?i.getTile(u):g?g[u.key]:new e.Tile(u,h,c.zoom,t),w=_?so(y,a,t,_,{tileID:u,tileSize:h},x):ao(y,a,n);t.prepareDrawProgram(s,f,v);const{tileBoundsBuffer:T,tileBoundsIndexBuffer:E,tileBoundsSegments:C}=t.getTileBoundsBuffers(b);f.draw(s,l.TRIANGLES,p,d,m,e.CullFaceMode.disabled,w,o.id,T,E,C);}},sky:function(t,i,o){const r=t.transform,n=\"mercator\"===r.projection.name||\"globe\"===r.projection.name?1:e.smoothstep(7,8,r.zoom),a=o.paint.get(\"sky-opacity\")*n;if(0===a)return;const s=t.context,l=o.paint.get(\"sky-type\"),c=new e.DepthMode(s.gl.LEQUAL,e.DepthMode.ReadOnly,[0,1]),h=t.frameCounter/1e3%1;\"atmosphere\"===l?\"offscreen\"===t.renderPass?o.needsSkyboxCapture(t)&&(function(t,i,o,r){const n=t.context,a=n.gl;let s=i.skyboxFbo;if(!s){s=i.skyboxFbo=n.createFramebuffer(32,32,!1),i.skyboxGeometry=new Lo(n),i.skyboxTexture=n.gl.createTexture(),a.bindTexture(a.TEXTURE_CUBE_MAP,i.skyboxTexture),a.texParameteri(a.TEXTURE_CUBE_MAP,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_CUBE_MAP,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_CUBE_MAP,a.TEXTURE_MIN_FILTER,a.LINEAR),a.texParameteri(a.TEXTURE_CUBE_MAP,a.TEXTURE_MAG_FILTER,a.LINEAR);for(let e=0;e<6;++e)a.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+e,0,a.RGBA,32,32,0,a.RGBA,a.UNSIGNED_BYTE,null);}n.bindFramebuffer.set(s.framebuffer),n.viewport.set([0,0,32,32]);const l=i.getCenter(t,!0),c=t.useProgram(\"skyboxCapture\"),h=new Float64Array(16);e.identity(h),e.rotateY(h,h,.5*-Math.PI),Ro(n,i,c,h,l,0),e.identity(h),e.rotateY(h,h,.5*Math.PI),Ro(n,i,c,h,l,1),e.identity(h),e.rotateX(h,h,.5*-Math.PI),Ro(n,i,c,h,l,2),e.identity(h),e.rotateX(h,h,.5*Math.PI),Ro(n,i,c,h,l,3),e.identity(h),Ro(n,i,c,h,l,4),e.identity(h),e.rotateY(h,h,Math.PI),Ro(n,i,c,h,l,5),n.viewport.set([0,0,t.width,t.height]);}(t,o),o.markSkyboxValid(t)):\"sky\"===t.renderPass&&function(t,i,o,r,n){const a=t.context,s=a.gl,l=t.transform,c=t.useProgram(\"skybox\");a.activeTexture.set(s.TEXTURE0),s.bindTexture(s.TEXTURE_CUBE_MAP,i.skyboxTexture);const h=((e,t,i,o,r)=>({u_matrix:e,u_sun_direction:t,u_cubemap:0,u_opacity:o,u_temporal_offset:r}))(l.skyboxMatrix,i.getCenter(t,!1),0,r,n);t.prepareDrawProgram(a,c),c.draw(a,s.TRIANGLES,o,e.StencilMode.disabled,t.colorModeForRenderPass(),e.CullFaceMode.backCW,h,\"skybox\",i.skyboxGeometry.vertexBuffer,i.skyboxGeometry.indexBuffer,i.skyboxGeometry.segment);}(t,o,c,a,h):\"gradient\"===l&&\"sky\"===t.renderPass&&function(t,i,o,r,n){const a=t.context,s=a.gl,l=t.transform,c=t.useProgram(\"skyboxGradient\");i.skyboxGeometry||(i.skyboxGeometry=new Lo(a)),a.activeTexture.set(s.TEXTURE0);let h=i.colorRampTexture;h||(h=i.colorRampTexture=new e.Texture(a,i.colorRamp,s.RGBA)),h.bind(s.LINEAR,s.CLAMP_TO_EDGE);const _=((t,i,o,r,n)=>({u_matrix:t,u_color_ramp:0,u_center_direction:i,u_radius:e.degToRad(o),u_opacity:r,u_temporal_offset:n}))(l.skyboxMatrix,i.getCenter(t,!1),i.paint.get(\"sky-gradient-radius\"),r,n);t.prepareDrawProgram(a,c),c.draw(a,s.TRIANGLES,o,e.StencilMode.disabled,t.colorModeForRenderPass(),e.CullFaceMode.backCW,_,\"skyboxGradient\",i.skyboxGeometry.vertexBuffer,i.skyboxGeometry.indexBuffer,i.skyboxGeometry.segment);}(t,o,c,a,h);},debug:function(e,t,i){for(let o=0;o<i.length;o++)Io(e,t,i[o]);},custom:function(t,i,o){const r=t.context,n=o.implementation;if(t.transform.projection.unsupportedLayers&&t.transform.projection.unsupportedLayers.includes(\"custom\"))e.warnOnce(\"Custom layers are not yet supported with non-mercator projections. Use mercator to enable custom layers.\");else if(\"offscreen\"===t.renderPass){const e=n.prerender;e&&(t.setCustomLayerDefaults(),r.setColorMode(t.colorModeForRenderPass()),e.call(n,r.gl,t.transform.customLayerMatrix()),r.setDirty(),t.setBaseState());}else if(\"translucent\"===t.renderPass){t.setCustomLayerDefaults(),r.setColorMode(t.colorModeForRenderPass()),r.setStencilMode(e.StencilMode.disabled);const i=\"3d\"===n.renderingMode?new e.DepthMode(t.context.gl.LEQUAL,e.DepthMode.ReadWrite,t.depthRangeFor3D):t.depthModeForSublayer(0,e.DepthMode.ReadOnly);r.setDepthMode(i),n.render(r.gl,t.transform.customLayerMatrix()),r.setDirty(),t.setBaseState(),r.bindFramebuffer.set(null);}}};class Fo{constructor(t,i){this.context=new Ie(t),this.transform=i,this._tileTextures={},this.frameCopies=[],this.loadTimeStamps=[],this.setup(),this.numSublayers=e.SourceCache.maxUnderzooming+e.SourceCache.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new $t,this.deferredRenderGpuTimeQueries=[],this.gpuTimers={},this.frameCounter=0,this._backgroundTiles={};}updateTerrain(e,t){const i=!!e&&!!e.terrain&&this.transform.projection.supportsTerrain;if(!(i||this._terrain&&this._terrain.enabled))return;this._terrain||(this._terrain=new Pi(this,e));const o=this._terrain;this.transform.elevation=i?o:null,o.update(e,this.transform,t);}_updateFog(e){const t=e.fog;if(!t||\"globe\"===this.transform.projection.name||t.getOpacity(this.transform.pitch)<1||t.properties.get(\"horizon-blend\")<.03)return void(this.transform.fogCullDistSq=null);const[i,o]=t.getFovAdjustedRange(this.transform._fov);if(i>o)return void(this.transform.fogCullDistSq=null);const r=i+.78*(o-i);this.transform.fogCullDistSq=r*r;}get terrain(){return this.transform._terrainEnabled()&&this._terrain&&this._terrain.enabled?this._terrain:null}resize(t,i){if(this.width=t*e.exported.devicePixelRatio,this.height=i*e.exported.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const e of this.style.order)this.style._layers[e].resize();}setup(){const t=this.context,i=new e.StructArrayLayout2i4;i.emplaceBack(0,0),i.emplaceBack(e.EXTENT,0),i.emplaceBack(0,e.EXTENT),i.emplaceBack(e.EXTENT,e.EXTENT),this.tileExtentBuffer=t.createVertexBuffer(i,e.posAttributes.members),this.tileExtentSegments=e.SegmentVector.simpleSegment(0,0,4,2);const o=new e.StructArrayLayout2i4;o.emplaceBack(0,0),o.emplaceBack(e.EXTENT,0),o.emplaceBack(0,e.EXTENT),o.emplaceBack(e.EXTENT,e.EXTENT),this.debugBuffer=t.createVertexBuffer(o,e.posAttributes.members),this.debugSegments=e.SegmentVector.simpleSegment(0,0,4,5);const r=new e.StructArrayLayout2i4;r.emplaceBack(-1,-1),r.emplaceBack(1,-1),r.emplaceBack(-1,1),r.emplaceBack(1,1),this.viewportBuffer=t.createVertexBuffer(r,e.posAttributes.members),this.viewportSegments=e.SegmentVector.simpleSegment(0,0,4,2);const n=new e.StructArrayLayout4i8;n.emplaceBack(0,0,0,0),n.emplaceBack(e.EXTENT,0,e.EXTENT,0),n.emplaceBack(0,e.EXTENT,0,e.EXTENT),n.emplaceBack(e.EXTENT,e.EXTENT,e.EXTENT,e.EXTENT),this.mercatorBoundsBuffer=t.createVertexBuffer(n,e.boundsAttributes.members),this.mercatorBoundsSegments=e.SegmentVector.simpleSegment(0,0,4,2);const a=new e.StructArrayLayout3ui6;a.emplaceBack(0,1,2),a.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=t.createIndexBuffer(a);const s=new e.StructArrayLayout1ui2;for(const e of [0,1,3,2,0])s.emplaceBack(e);this.debugIndexBuffer=t.createIndexBuffer(s),this.emptyTexture=new e.Texture(t,new e.RGBAImage({width:1,height:1},Uint8Array.of(0,0,0,0)),t.gl.RGBA),this.identityMat=e.create();const l=this.context.gl;this.stencilClearMode=new e.StencilMode({func:l.ALWAYS,mask:0},0,255,l.ZERO,l.ZERO,l.ZERO),this.loadTimeStamps.push(e.window.performance.now()),this.atmosphereBuffer=new Bo(this.context);}getMercatorTileBoundsBuffers(){return {tileBoundsBuffer:this.mercatorBoundsBuffer,tileBoundsIndexBuffer:this.quadTriangleIndexBuffer,tileBoundsSegments:this.mercatorBoundsSegments}}getTileBoundsBuffers(e){return e._makeTileBoundsBuffers(this.context,this.transform.projection),e._tileBoundsBuffer?{tileBoundsBuffer:e._tileBoundsBuffer,tileBoundsIndexBuffer:e._tileBoundsIndexBuffer,tileBoundsSegments:e._tileBoundsSegments}:this.getMercatorTileBoundsBuffers()}clearStencil(){const t=this.context,i=t.gl;this.nextStencilID=1,this.currentStencilSource=void 0,this._tileClippingMaskIDs={},this.useProgram(\"clippingMask\").draw(t,i.TRIANGLES,e.DepthMode.disabled,this.stencilClearMode,e.ColorMode.disabled,e.CullFaceMode.disabled,Mi(this.identityMat),\"$clipping\",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments);}resetStencilClippingMasks(){this.terrain||(this.currentStencilSource=void 0,this._tileClippingMaskIDs={});}_renderTileClippingMasks(t,i,o){if(!i||this.currentStencilSource===i.id||!t.isTileClipped()||!o||0===o.length)return;if(this._tileClippingMaskIDs&&!this.terrain){let e=!1;for(const t of o)if(void 0===this._tileClippingMaskIDs[t.key]){e=!0;break}if(!e)return}this.currentStencilSource=i.id;const r=this.context,n=r.gl;this.nextStencilID+o.length>256&&this.clearStencil(),r.setColorMode(e.ColorMode.disabled),r.setDepthMode(e.DepthMode.disabled);const a=this.useProgram(\"clippingMask\");this._tileClippingMaskIDs={};for(const t of o){const o=i.getTile(t),s=this._tileClippingMaskIDs[t.key]=this.nextStencilID++,{tileBoundsBuffer:l,tileBoundsIndexBuffer:c,tileBoundsSegments:h}=this.getTileBoundsBuffers(o);a.draw(r,n.TRIANGLES,e.DepthMode.disabled,new e.StencilMode({func:n.ALWAYS,mask:0},s,255,n.KEEP,n.KEEP,n.REPLACE),e.ColorMode.disabled,e.CullFaceMode.disabled,Mi(t.projMatrix),\"$clipping\",l,c,h);}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const t=this.nextStencilID++,i=this.context.gl;return new e.StencilMode({func:i.NOTEQUAL,mask:255},t,255,i.KEEP,i.KEEP,i.REPLACE)}stencilModeForClipping(t){if(this.terrain)return this.terrain.stencilModeForRTTOverlap(t);const i=this.context.gl;return new e.StencilMode({func:i.EQUAL,mask:255},this._tileClippingMaskIDs[t.key],0,i.KEEP,i.KEEP,i.REPLACE)}stencilConfigForOverlap(t){const i=this.context.gl,o=t.sort(((e,t)=>t.overscaledZ-e.overscaledZ)),r=o[o.length-1].overscaledZ,n=o[0].overscaledZ-r+1;if(n>1){this.currentStencilSource=void 0,this.nextStencilID+n>256&&this.clearStencil();const t={};for(let o=0;o<n;o++)t[o+r]=new e.StencilMode({func:i.GEQUAL,mask:255},o+this.nextStencilID,255,i.KEEP,i.KEEP,i.REPLACE);return this.nextStencilID+=n,[t,o]}return [{[r]:e.StencilMode.disabled},o]}colorModeForRenderPass(){const t=this.context.gl;if(this._showOverdrawInspector){const i=1/8;return new e.ColorMode([t.CONSTANT_COLOR,t.ONE],new e.Color(i,i,i,0),[!0,!0,!0,!0])}return \"opaque\"===this.renderPass?e.ColorMode.unblended:e.ColorMode.alphaBlended}depthModeForSublayer(t,i,o){if(!this.opaquePassEnabledForLayer())return e.DepthMode.disabled;const r=1-((1+this.currentLayer)*this.numSublayers+t)*this.depthEpsilon;return new e.DepthMode(o||this.context.gl.LEQUAL,i,[r,r])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(t,i){this.style=t,this.options=i,this.imageManager=t.imageManager,this.glyphManager=t.glyphManager,this.symbolFadeChange=t.placement.symbolFadeChange(e.exported.now()),this.imageManager.beginFrame();const o=this.style.order,r=this.style._sourceCaches;for(const e in r){const t=r[e];t.used&&t.prepare(this.context);}const n={},a={},s={};for(const e in r){const t=r[e];n[e]=t.getVisibleCoordinates(),a[e]=n[e].slice().reverse(),s[e]=t.getVisibleCoordinates(!0).reverse();}this.opaquePassCutoff=1/0;for(let e=0;e<o.length;e++)if(this.style._layers[o[e]].is3D()){this.opaquePassCutoff=e;break}if(this.terrain&&(this.terrain.updateTileBinding(s),this.opaquePassCutoff=0),\"globe\"!==this.transform.projection.name||this.globeSharedBuffers||(this.globeSharedBuffers=new e.GlobeSharedBuffers(this.context)),e.isMapAuthenticated(this.context.gl)){this.renderPass=\"offscreen\";for(const e of o){const i=this.style._layers[e],o=t._getLayerSourceCache(i);if(!i.hasOffscreenPass()||i.isHidden(this.transform.zoom))continue;const r=o?a[o.id]:void 0;(\"custom\"===i.type||i.isSky()||r&&r.length)&&this.renderLayer(this,o,i,r);}if(this.depthRangeFor3D=[0,1-(t.order.length+2)*this.numSublayers*this.depthEpsilon],this.terrain&&(this.style.hasSymbolLayers()||this.style.hasCircleLayers())&&this.terrain.drawDepth(),this.context.bindFramebuffer.set(null),this.context.viewport.set([0,0,this.width,this.height]),this.context.clear({color:i.showOverdrawInspector?e.Color.black:e.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=i.showOverdrawInspector,this.renderPass=\"opaque\",!this.terrain)for(this.currentLayer=o.length-1;this.currentLayer>=0;this.currentLayer--){const e=this.style._layers[o[this.currentLayer]],i=t._getLayerSourceCache(e);if(e.isSky())continue;const r=i?a[i.id]:void 0;this._renderTileClippingMasks(e,i,r),this.renderLayer(this,i,e,r);}if(this.style.fog&&this.transform.projection.supportsFog&&function(t,i){const o=t.context,r=o.gl,n=t.transform,a=new e.DepthMode(r.LEQUAL,e.DepthMode.ReadOnly,[0,1]),s=t.useProgram(\"globeAtmosphere\",null,\"globe\"===n.projection.name?[\"PROJECTION_GLOBE_VIEW\",\"FOG\"]:[\"FOG\"]),l=e.globeToMercatorTransition(n.zoom),c=i.properties.get(\"color\").toArray01(),h=i.properties.get(\"high-color\").toArray01(),_=i.properties.get(\"space-color\").toArray01PremultipliedAlpha(),u=e.identity$1([]);e.rotateY$1(u,u,-e.degToRad(n._center.lng)),e.rotateX$1(u,u,e.degToRad(n._center.lat)),e.rotateZ$1(u,u,n.angle),e.rotateX$1(u,u,-n._pitch);const d=e.fromQuat(new Float32Array(16),u),p=e.mapValue(i.properties.get(\"star-intensity\"),0,1,0,.25),m=5e-4,f=e.mapValue(i.properties.get(\"horizon-blend\"),0,1,m,.25),g=e.globeUseCustomAntiAliasing(t,o,n)&&f===m?n.worldSize/(2*Math.PI*1.025)-1:n.globeRadius,v=t.frameCounter/1e3%1,x=e.length(n.globeCenterInViewSpace),y=Math.sqrt(Math.pow(x,2)-Math.pow(g,2)),b=Math.acos(y/x),w=((t,i,o,r,n,a,s,l,c,h,_,u,d,p)=>({u_frustum_tl:t,u_frustum_tr:i,u_frustum_br:o,u_frustum_bl:r,u_horizon:n,u_transition:a,u_fadeout_range:s,u_color:l,u_high_color:c,u_space_color:h,u_star_intensity:_,u_star_size:5*e.exported.devicePixelRatio,u_star_density:0,u_temporal_offset:u,u_horizon_angle:d,u_rotation_matrix:p}))(n.frustumCorners.TL,n.frustumCorners.TR,n.frustumCorners.BR,n.frustumCorners.BL,n.frustumCorners.horizon,l,f,c,h,_,p,v,b,d);t.prepareDrawProgram(o,s);const T=t.atmosphereBuffer;T&&s.draw(o,r.TRIANGLES,a,e.StencilMode.disabled,e.ColorMode.alphaBlended,e.CullFaceMode.backCW,w,\"skybox\",T.vertexBuffer,T.indexBuffer,T.segments);}(this,this.style.fog),this.renderPass=\"sky\",(e.globeToMercatorTransition(this.transform.zoom)>0||\"globe\"!==this.transform.projection.name)&&this.transform.isHorizonVisible())for(this.currentLayer=0;this.currentLayer<o.length;this.currentLayer++){const e=this.style._layers[o[this.currentLayer]],i=t._getLayerSourceCache(e);e.isSky()&&this.renderLayer(this,i,e,i?a[i.id]:void 0);}for(this.renderPass=\"translucent\",this.currentLayer=0;this.currentLayer<o.length;){const e=this.style._layers[o[this.currentLayer]],i=t._getLayerSourceCache(e);if(e.isSky()){++this.currentLayer;continue}if(this.terrain&&this.style.isLayerDraped(e)){if(e.isHidden(this.transform.zoom)){++this.currentLayer;continue}this.currentLayer=this.terrain.renderBatch(this.currentLayer);continue}const r=i?(\"symbol\"===e.type?s:a)[i.id]:void 0;this._renderTileClippingMasks(e,i,i?n[i.id]:void 0),this.renderLayer(this,i,e,r),++this.currentLayer;}if(this.terrain&&this.terrain.postRender(),this.options.showTileBoundaries||this.options.showQueryGeometry||this.options.showTileAABBs){let i=null;e.values(this.style._layers).forEach((e=>{const o=t._getLayerSourceCache(e);o&&!e.isHidden(this.transform.zoom)&&(!i||i.getSource().maxzoom<o.getSource().maxzoom)&&(i=o);})),i&&this.options.showTileBoundaries&&ko.debug(this,i,i.getVisibleCoordinates());}this.options.showPadding&&function(e){const t=e.transform.padding;Mo(e,e.transform.height-(t.top||0),3,bo),Mo(e,t.bottom||0,3,wo),So(e,t.left||0,3,To),So(e,e.transform.width-(t.right||0),3,Eo);const i=e.transform.centerPoint;!function(e,t,i,o){zo(e,t-1,i-10,2,20,o),zo(e,t-10,i-1,20,2,o);}(e,i.x,e.transform.height-i.y,Co);}(this),this.context.setDefault(),this.frameCounter=(this.frameCounter+1)%Number.MAX_SAFE_INTEGER,this.tileLoaded&&this.options.speedIndexTiming&&(this.loadTimeStamps.push(e.window.performance.now()),this.saveCanvasCopy());}}renderLayer(e,t,i,o){i.isHidden(this.transform.zoom)||(\"background\"===i.type||\"sky\"===i.type||\"custom\"===i.type||o&&o.length)&&(this.id=i.id,this.gpuTimingStart(i),e.transform.projection.unsupportedLayers&&e.transform.projection.unsupportedLayers.includes(i.type)||ko[i.type](e,t,i,o,this.style.placement.variableOffsets,this.options.isInitialLoad),this.gpuTimingEnd());}gpuTimingStart(e){if(!this.options.gpuTiming)return;const t=this.context.extTimerQuery;let i=this.gpuTimers[e.id];i||(i=this.gpuTimers[e.id]={calls:0,cpuTime:0,query:t.createQueryEXT()}),i.calls++,t.beginQueryEXT(t.TIME_ELAPSED_EXT,i.query);}gpuTimingDeferredRenderStart(){if(this.options.gpuTimingDeferredRender){const e=this.context.extTimerQuery,t=e.createQueryEXT();this.deferredRenderGpuTimeQueries.push(t),e.beginQueryEXT(e.TIME_ELAPSED_EXT,t);}}gpuTimingDeferredRenderEnd(){if(!this.options.gpuTimingDeferredRender)return;const e=this.context.extTimerQuery;e.endQueryEXT(e.TIME_ELAPSED_EXT);}gpuTimingEnd(){if(!this.options.gpuTiming)return;const e=this.context.extTimerQuery;e.endQueryEXT(e.TIME_ELAPSED_EXT);}collectGpuTimers(){const e=this.gpuTimers;return this.gpuTimers={},e}collectDeferredRenderGpuQueries(){const e=this.deferredRenderGpuTimeQueries;return this.deferredRenderGpuTimeQueries=[],e}queryGpuTimers(e){const t={};for(const i in e){const o=e[i],r=this.context.extTimerQuery,n=r.getQueryObjectEXT(o.query,r.QUERY_RESULT_EXT)/1e6;r.deleteQueryEXT(o.query),t[i]=n;}return t}queryGpuTimeDeferredRender(e){if(!this.options.gpuTimingDeferredRender)return 0;const t=this.context.extTimerQuery;let i=0;for(const o of e)i+=t.getQueryObjectEXT(o,t.QUERY_RESULT_EXT)/1e6,t.deleteQueryEXT(o);return i}translatePosMatrix(t,i,o,r,n){if(!o[0]&&!o[1])return t;const a=n?\"map\"===r?this.transform.angle:0:\"viewport\"===r?-this.transform.angle:0;if(a){const e=Math.sin(a),t=Math.cos(a);o=[o[0]*t-o[1]*e,o[0]*e+o[1]*t];}const s=[n?o[0]:L(i,o[0],this.transform.zoom),n?o[1]:L(i,o[1],this.transform.zoom),0],l=new Float32Array(16);return e.translate(l,t,s),l}saveTileTexture(e){const t=this._tileTextures[e.size[0]];t?t.push(e):this._tileTextures[e.size[0]]=[e];}getTileTexture(e){const t=this._tileTextures[e];return t&&t.length>0?t.pop():null}isPatternMissing(e){if(!e)return !1;if(!e.from||!e.to)return !0;const t=this.imageManager.getPattern(e.from.toString()),i=this.imageManager.getPattern(e.to.toString());return !t||!i}terrainRenderModeElevated(){return this.style&&!!this.style.getTerrain()&&!!this.terrain&&!this.terrain.renderingToTexture}currentGlobalDefines(){const e=this.terrain&&this.terrain.renderingToTexture,t=this.style&&this.style.fog,i=[];return this.terrainRenderModeElevated()&&i.push(\"TERRAIN\"),\"globe\"===this.transform.projection.name&&i.push(\"GLOBE\"),t&&!e&&0!==t.getOpacity(this.transform.pitch)&&i.push(\"FOG\"),e&&i.push(\"RENDER_TO_TEXTURE\"),this._showOverdrawInspector&&i.push(\"OVERDRAW_INSPECTOR\"),i}useProgram(e,t,i){this.cache=this.cache||{};const o=i||[],r=this.currentGlobalDefines().concat(o),n=Li.cacheKey(ui[e],e,r,t);return this.cache[n]||(this.cache[n]=new Li(this.context,e,ui[e],t,lo[e],r)),this.cache[n]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.frontFace.setDefault(),this.context.cullFaceSide.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault();}setBaseState(){const e=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(e.FUNC_ADD);}initDebugOverlayCanvas(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=e.window.document.createElement(\"canvas\"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new e.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA));}destroy(){this._terrain&&this._terrain.destroy(),this.globeSharedBuffers&&this.globeSharedBuffers.destroy(),this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy(),this.atmosphereBuffer&&this.atmosphereBuffer.destroy();}prepareDrawTile(){this.terrain&&this.terrain.prepareDrawTile();}prepareDrawProgram(t,i,o){if(this.terrain&&this.terrain.renderingToTexture)return;const r=this.style.fog;if(r){const n=r.getOpacity(this.transform.pitch),a=((t,i,o,r,n,a,s,l,c,h,_)=>{const u=t.transform,d=i.properties.get(\"color\").toArray01();d[3]=r;const p=t.frameCounter/1e3%1;return {u_fog_matrix:o?u.calculateFogTileMatrix(o):t.identityMat,u_fog_range:i.getFovAdjustedRange(u._fov),u_fog_color:d,u_fog_horizon_blend:i.properties.get(\"horizon-blend\"),u_fog_temporal_offset:p,u_frustum_tl:n,u_frustum_tr:a,u_frustum_br:s,u_frustum_bl:l,u_globe_pos:c,u_globe_radius:h,u_viewport:_,u_globe_transition:e.globeToMercatorTransition(u.zoom),u_is_globe:+(\"globe\"===u.projection.name)}})(this,r,o,n,this.transform.frustumCorners.TL,this.transform.frustumCorners.TR,this.transform.frustumCorners.BR,this.transform.frustumCorners.BL,this.transform.globeCenterInViewSpace,this.transform.globeRadius,[this.transform.width*e.exported.devicePixelRatio,this.transform.height*e.exported.devicePixelRatio]);i.setFogUniformValues(t,a);}}setTileLoadedFlag(e){this.tileLoaded=e;}saveCanvasCopy(){this.frameCopies.push(this.canvasCopy()),this.tileLoaded=!1;}canvasCopy(){const e=this.context.gl,t=e.createTexture();return e.bindTexture(e.TEXTURE_2D,t),e.copyTexImage2D(e.TEXTURE_2D,0,e.RGBA,0,0,e.drawingBufferWidth,e.drawingBufferHeight,0),t}getCanvasCopiesAndTimestamps(){return {canvasCopies:this.frameCopies,timeStamps:this.loadTimeStamps}}averageElevationNeedsEasing(){if(!this.transform._elevation)return !1;const e=this.style&&this.style.fog;return !!e&&0!==e.getOpacity(this.transform.pitch)}getBackgroundTiles(){const t=this._backgroundTiles,i=this._backgroundTiles={},o=this.transform.coveringTiles({tileSize:512});for(const r of o)i[r.key]=t[r.key]||new e.Tile(r,512,this.transform.tileZoom,this);return i}clearBackgroundTiles(){this._backgroundTiles={};}}class Uo{constructor(e=0,t=0,i=0,o=0){if(isNaN(e)||e<0||isNaN(t)||t<0||isNaN(i)||i<0||isNaN(o)||o<0)throw new Error(\"Invalid value for edge-insets, top, bottom, left and right must all be numbers\");this.top=e,this.bottom=t,this.left=i,this.right=o;}interpolate(t,i,o){return null!=i.top&&null!=t.top&&(this.top=e.number(t.top,i.top,o)),null!=i.bottom&&null!=t.bottom&&(this.bottom=e.number(t.bottom,i.bottom,o)),null!=i.left&&null!=t.left&&(this.left=e.number(t.left,i.left,o)),null!=i.right&&null!=t.right&&(this.right=e.number(t.right,i.right,o)),this}getCenter(t,i){const o=e.clamp((this.left+t-this.right)/2,0,t),r=e.clamp((this.top+i-this.bottom)/2,0,i);return new e.pointGeometry(o,r)}equals(e){return this.top===e.top&&this.bottom===e.bottom&&this.left===e.left&&this.right===e.right}clone(){return new Uo(this.top,this.bottom,this.left,this.right)}toJSON(){return {top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function No(t,i){const o=e.getColumn(t,3);e.fromQuat(t,i),e.setColumn(t,3,o);}function Go(t,i){const o=e.identity$1([]);return e.rotateZ$1(o,o,-i),e.rotateX$1(o,o,-t),o}function jo(t,i){const o=[t[0],t[1],0],r=[i[0],i[1],0];if(e.length(o)>=1e-15){const t=e.normalize([],o);e.scale$2(r,t,e.dot(r,t)),i[0]=r[0],i[1]=r[1];}const n=e.cross([],i,t);if(e.len(n)<1e-15)return null;const a=Math.atan2(-n[1],n[0]);return Go(Math.atan2(Math.sqrt(t[0]*t[0]+t[1]*t[1]),-t[2]),a)}class Zo{constructor(e,t){this.position=e,this.orientation=t;}get position(){return this._position}set position(t){if(t){const i=t instanceof e.MercatorCoordinate?t:new e.MercatorCoordinate(t[0],t[1],t[2]);this._renderWorldCopies&&(i.x=e.wrap(i.x,0,1)),this._position=i;}else this._position=null;}lookAtPoint(t,i){if(this.orientation=null,!this.position)return;const o=this._elevation?this._elevation.getAtPointOrZero(e.MercatorCoordinate.fromLngLat(t)):0,r=this.position,n=e.MercatorCoordinate.fromLngLat(t,o),a=[n.x-r.x,n.y-r.y,n.z-r.z];i||(i=[0,0,1]),i[2]=Math.abs(i[2]),this.orientation=jo(a,i);}setPitchBearing(t,i){this.orientation=Go(e.degToRad(t),e.degToRad(-i));}}class Vo{constructor(t,i){this._transform=e.identity([]),this.orientation=i,this.position=t;}get mercatorPosition(){const t=this.position;return new e.MercatorCoordinate(t[0],t[1],t[2])}get position(){const t=e.getColumn(this._transform,3);return [t[0],t[1],t[2]]}set position(t){var i;t&&e.setColumn(this._transform,3,[(i=t)[0],i[1],i[2],1]);}get orientation(){return this._orientation}set orientation(t){this._orientation=t||e.identity$1([]),t&&No(this._transform,this._orientation);}getPitchBearing(){const e=this.forward(),t=this.right();return {bearing:Math.atan2(-t[1],t[0]),pitch:Math.atan2(Math.sqrt(e[0]*e[0]+e[1]*e[1]),-e[2])}}setPitchBearing(e,t){this._orientation=Go(e,t),No(this._transform,this._orientation);}forward(){const t=e.getColumn(this._transform,2);return [-t[0],-t[1],-t[2]]}up(){const t=e.getColumn(this._transform,1);return [-t[0],-t[1],-t[2]]}right(){const t=e.getColumn(this._transform,0);return [t[0],t[1],t[2]]}getCameraToWorld(t,i){const o=new Float64Array(16);return e.invert(o,this.getWorldToCamera(t,i)),o}getWorldToCameraPosition(t,i,o){const r=this.position;e.scale$2(r,r,-t);const n=new Float64Array(16);return e.fromScaling(n,[o,o,o]),e.translate(n,n,r),n[10]*=i,n}getWorldToCamera(t,i){const o=new Float64Array(16),r=new Float64Array(4),n=this.position;return e.conjugate(r,this._orientation),e.scale$2(n,n,-t),e.fromQuat(o,r),e.translate(o,o,n),o[1]*=-1,o[5]*=-1,o[9]*=-1,o[13]*=-1,o[8]*=i,o[9]*=i,o[10]*=i,o[11]*=i,o}getCameraToClipPerspective(t,i,o,r){const n=new Float64Array(16);return e.perspective(n,t,i,o,r),n}getDistanceToElevation(t){const i=0===t?0:e.mercatorZfromAltitude(t,this.position[1]),o=this.forward();return (i-this.position[2])/o[2]}clone(){return new Vo([...this.position],[...this.orientation])}}function Wo(t,i){const o=qo(t.projection,t.zoom,t.width,t.height),r=function(t,i,o,r,n){const a=new e.LngLat(o.lng-180*$o,o.lat),s=new e.LngLat(o.lng+180*$o,o.lat),l=t.project(a.lng,a.lat),c=t.project(s.lng,s.lat),h=-Math.atan2(c.y-l.y,c.x-l.x),_=e.MercatorCoordinate.fromLngLat(o);_.y=e.clamp(_.y,-.999975,.999975);const u=_.toLngLat(),d=t.project(u.lng,u.lat),p=e.MercatorCoordinate.fromLngLat(u);p.x+=$o;const m=p.toLngLat(),f=t.project(m.lng,m.lat),g=Yo(f.x-d.x,f.y-d.y,h),v=e.MercatorCoordinate.fromLngLat(u);v.y+=$o;const x=v.toLngLat(),y=t.project(x.lng,x.lat),b=Yo(y.x-d.x,y.y-d.y,h),w=Math.abs(g.x)/Math.abs(b.y),T=e.identity([]);e.rotateZ(T,T,-h*(1-(n?0:r)));const E=e.identity([]);return e.scale(E,E,[1,1-(1-w)*r,1]),E[4]=-b.x/b.y*r,e.rotateZ(E,E,h),e.multiply(E,T,E),E}(t.projection,0,t.center,o,i),n=Xo(t);return e.scale(r,r,[n,n,1]),r}function Xo(t){const i=t.projection,o=qo(t.projection,t.zoom,t.width,t.height),r=Ho(i,t.center),n=Ho(i,e.LngLat.convert(i.center));return Math.pow(2,r*o+(1-o)*n)}function qo(t,i,o,r,n=1/0){const a=t.range;if(!a)return 0;const s=Math.min(n,Math.max(o,r)),l=Math.log(s/1024)/Math.LN2;return e.smoothstep(a[0]+l,a[1]+l,i)}const $o=1/4e4;function Ho(t,i){const o=e.clamp(i.lat,-e.MAX_MERCATOR_LATITUDE,e.MAX_MERCATOR_LATITUDE),r=new e.LngLat(i.lng-180*$o,o),n=new e.LngLat(i.lng+180*$o,o),a=t.project(r.lng,o),s=t.project(n.lng,o),l=e.MercatorCoordinate.fromLngLat(r),c=e.MercatorCoordinate.fromLngLat(n),h=s.x-a.x,_=s.y-a.y,u=c.x-l.x,d=c.y-l.y,p=Math.sqrt((u*u+d*d)/(h*h+_*_));return Math.log(p)/Math.LN2}function Yo(e,t,i){const o=Math.cos(i),r=Math.sin(i);return {x:e*o-t*r,y:e*r+t*o}}class Ko{constructor(t,i,o,r,n,a,s){this.tileSize=512,this._renderWorldCopies=void 0===n||n,this._minZoom=t||0,this._maxZoom=i||22,this._minPitch=null==o?0:o,this._maxPitch=null==r?60:r,this.setProjection(a),this.setMaxBounds(s),this.width=0,this.height=0,this._center=new e.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._nearZ=0,this._farZ=0,this._unmodified=!0,this._edgeInsets=new Uo,this._projMatrixCache={},this._alignedProjMatrixCache={},this._fogTileMatrixCache={},this._distanceTileDataCache={},this._camera=new Vo,this._centerAltitude=0,this._averageElevation=0,this.cameraElevationReference=\"ground\",this._pixelsPerMercatorPixel=1,this.globeRadius=0,this.globeCenterInViewSpace=[0,0,0],this._horizonShift=.1;}clone(){const e=new Ko(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies,this.getProjection());return e._elevation=this._elevation,e._centerAltitude=this._centerAltitude,e._centerAltitudeValidForExaggeration=this._centerAltitudeValidForExaggeration,e.tileSize=this.tileSize,e.mercatorFromTransition=this.mercatorFromTransition,e.width=this.width,e.height=this.height,e.cameraElevationReference=this.cameraElevationReference,e._center=this._center,e._setZoom(this.zoom),e._seaLevelZoom=this._seaLevelZoom,e.angle=this.angle,e._fov=this._fov,e._pitch=this._pitch,e._nearZ=this._nearZ,e._farZ=this._farZ,e._averageElevation=this._averageElevation,e._unmodified=this._unmodified,e._edgeInsets=this._edgeInsets.clone(),e._camera=this._camera.clone(),e._calcMatrices(),e.freezeTileCoverage=this.freezeTileCoverage,e.frustumCorners=this.frustumCorners,e}get elevation(){return this._elevation}set elevation(e){this._elevation!==e&&(this._elevation=e,this._updateCameraOnTerrain(),this._calcMatrices());}updateElevation(e){const t=this._elevation&&this._elevation.exaggeration()!==this._centerAltitudeValidForExaggeration;(null==this._seaLevelZoom||t)&&this._updateCameraOnTerrain(),(e||t)&&this._constrainCameraAltitude(),this._calcMatrices();}getProjection(){return e.pick(this.projection,[\"name\",\"center\",\"parallels\"])}setProjection(i){this.projectionOptions=i||{name:\"mercator\"};const o=this.projection?this.getProjection():void 0;this.projection=e.getProjection(this.projectionOptions);const r=!t(o,this.getProjection());return r&&this._calcMatrices(),this.mercatorFromTransition=!1,r}setMercatorFromTransition(){const t=this.projection.name;this.mercatorFromTransition=!0,this.projectionOptions={name:\"mercator\"},this.projection=e.getProjection({name:\"mercator\"});const i=t!==this.projection.name;return i&&this._calcMatrices(),i}get minZoom(){return this._minZoom}set minZoom(e){this._minZoom!==e&&(this._minZoom=e,this.zoom=Math.max(this.zoom,e));}get maxZoom(){return this._maxZoom}set maxZoom(e){this._maxZoom!==e&&(this._maxZoom=e,this.zoom=Math.min(this.zoom,e));}get minPitch(){return this._minPitch}set minPitch(e){this._minPitch!==e&&(this._minPitch=e,this.pitch=Math.max(this.pitch,e));}get maxPitch(){return this._maxPitch}set maxPitch(e){this._maxPitch!==e&&(this._maxPitch=e,this.pitch=Math.min(this.pitch,e));}get renderWorldCopies(){return this._renderWorldCopies&&!0===this.projection.supportsWorldCopies}set renderWorldCopies(e){void 0===e?e=!0:null===e&&(e=!1),this._renderWorldCopies=e;}get worldSize(){return this.tileSize*this.scale}get cameraWorldSize(){const e=Math.max(this._camera.getDistanceToElevation(this._averageElevation),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(e))}get pixelsPerMeter(){return this.projection.pixelsPerMeter(this.center.lat,this.worldSize)}get cameraPixelsPerMeter(){return e.mercatorZfromAltitude(this.center.lat,this.cameraWorldSize)}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new e.pointGeometry(this.width,this.height)}get bearing(){return e.wrap(this.rotation,-180,180)}set bearing(e){this.rotation=e;}get rotation(){return -this.angle/Math.PI*180}set rotation(t){const i=-t*Math.PI/180;var o;this.angle!==i&&(this._unmodified=!1,this.angle=i,this._calcMatrices(),this.rotationMatrix=(o=new e.ARRAY_TYPE(4),e.ARRAY_TYPE!=Float32Array&&(o[1]=0,o[2]=0),o[0]=1,o[3]=1,o),function(e,t,i){var o=t[0],r=t[1],n=t[2],a=t[3],s=Math.sin(i),l=Math.cos(i);e[0]=o*l+n*s,e[1]=r*l+a*s,e[2]=o*-s+n*l,e[3]=r*-s+a*l;}(this.rotationMatrix,this.rotationMatrix,this.angle));}get pitch(){return this._pitch/Math.PI*180}set pitch(t){const i=e.clamp(t,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==i&&(this._unmodified=!1,this._pitch=i,this._calcMatrices());}get aspect(){return this.width/this.height}get fovX(){return this._fov}get fovY(){const e=1/Math.tan(.5*this.fovX);return 2*Math.atan(1/this.aspect/e)}set fov(t){t=Math.max(.01,Math.min(60,t)),this._fov!==t&&(this._unmodified=!1,this._fov=e.degToRad(t),this._calcMatrices());}get averageElevation(){return this._averageElevation}set averageElevation(e){this._averageElevation=e,this._calcFogMatrices(),this._distanceTileDataCache={};}get zoom(){return this._zoom}set zoom(e){const t=Math.min(Math.max(e,this.minZoom),this.maxZoom);this._zoom!==t&&(this._unmodified=!1,this._setZoom(t),this._updateSeaLevelZoom(),this._constrain(),this._calcMatrices());}_setZoom(e){this._zoom=e,this.scale=this.zoomScale(e),this.tileZoom=Math.floor(e),this.zoomFraction=e-this.tileZoom;}_updateCameraOnTerrain(){if(!this._elevation||!this._elevation.isDataAvailableAtPoint(this.locationCoordinate(this.center)))return this._centerAltitude=0,this._seaLevelZoom=null,void(this._centerAltitudeValidForExaggeration=void 0);const e=this._elevation;this._centerAltitude=e.getAtPointOrZero(this.locationCoordinate(this.center)),this._centerAltitudeValidForExaggeration=e.exaggeration(),this._updateSeaLevelZoom();}_updateSeaLevelZoom(){void 0!==this._centerAltitudeValidForExaggeration&&(this._seaLevelZoom=this._zoomFromMercatorZ((this.pixelsPerMeter*this._centerAltitude+this.cameraToCenterDistance)/this.worldSize));}sampleAverageElevation(){if(!this._elevation)return 0;const t=this._elevation,i=[[.5,.2],[.3,.5],[.5,.5],[.7,.5],[.5,.8]],o=this.horizonLineFromTop();let r=0,n=0;for(let a=0;a<i.length;a++){const s=new e.pointGeometry(i[a][0]*this.width,o+i[a][1]*(this.height-o)),l=t.pointCoordinate(s);if(!l)continue;const c=1/Math.hypot(l[0]-this._camera.position[0],l[1]-this._camera.position[1]);r+=l[3]*c,n+=c;}return 0===n?NaN:r/n}get center(){return this._center}set center(e){e.lat===this._center.lat&&e.lng===this._center.lng||(this._unmodified=!1,this._center=e,this._terrainEnabled()&&(\"ground\"===this.cameraElevationReference?this._updateCameraOnTerrain():this._updateZoomFromElevation()),this._constrain(),this._calcMatrices());}_updateZoomFromElevation(){if(null==this._seaLevelZoom||!this._elevation)return;const e=this._seaLevelZoom,t=this._elevation.getAtPointOrZero(this.locationCoordinate(this.center)),i=this.pixelsPerMeter/this.worldSize*t,o=this._mercatorZfromZoom(e),r=this._mercatorZfromZoom(this._maxZoom),n=Math.max(o-i,r);this._setZoom(this._zoomFromMercatorZ(n));}get padding(){return this._edgeInsets.toJSON()}set padding(e){this._edgeInsets.equals(e)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,e,1),this._calcMatrices());}computeZoomRelativeTo(t){const i=this.rayIntersectionCoordinate(this.pointRayIntersection(this.centerPoint,t.toAltitude()));let o;o=t.z<this._camera.position[2]?[i.x,i.y,i.z]:[t.x,t.y,t.z];const r=e.length(e.sub([],this._camera.position,o));return e.clamp(this._zoomFromMercatorZ(r),this._minZoom,this._maxZoom)}setFreeCameraOptions(t){if(!this.height)return;if(!t.position&&!t.orientation)return;this._updateCameraState();let i=!1;if(t.orientation&&!e.exactEquals(t.orientation,this._camera.orientation)&&(i=this._setCameraOrientation(t.orientation)),t.position){const o=[t.position.x,t.position.y,t.position.z];e.exactEquals$1(o,this._camera.position)||(this._setCameraPosition(o),i=!0);}i&&(this._updateStateFromCamera(),this.recenterOnTerrain());}getFreeCameraOptions(){this._updateCameraState();const t=this._camera.position,i=new Zo;return i.position=new e.MercatorCoordinate(t[0],t[1],t[2]),i.orientation=this._camera.orientation,i._elevation=this.elevation,i._renderWorldCopies=this.renderWorldCopies,i}_setCameraOrientation(t){if(!e.length$1(t))return !1;e.normalize$1(t,t);const i=e.transformQuat([],[0,0,-1],t),o=e.transformQuat([],[0,-1,0],t);if(o[2]<0)return !1;const r=jo(i,o);return !!r&&(this._camera.orientation=r,!0)}_setCameraPosition(t){const i=this.zoomScale(this.minZoom)*this.tileSize,o=this.zoomScale(this.maxZoom)*this.tileSize,r=this.cameraToCenterDistance;t[2]=e.clamp(t[2],r/o,r/i),this._camera.position=t;}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}get fovAboveCenter(){return this._fov*(.5+this.centerOffset.y/this.height)}isPaddingEqual(e){return this._edgeInsets.equals(e)}interpolatePadding(e,t,i){this._unmodified=!1,this._edgeInsets.interpolate(e,t,i),this._constrain(),this._calcMatrices();}coveringZoomLevel(e){const t=(e.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/e.tileSize));return Math.max(0,t)}getVisibleUnwrappedCoordinates(t){const i=[new e.UnwrappedTileID(0,t)];if(this.renderWorldCopies){const o=this.pointCoordinate(new e.pointGeometry(0,0)),r=this.pointCoordinate(new e.pointGeometry(this.width,0)),n=this.pointCoordinate(new e.pointGeometry(this.width,this.height)),a=this.pointCoordinate(new e.pointGeometry(0,this.height)),s=Math.floor(Math.min(o.x,r.x,n.x,a.x)),l=Math.floor(Math.max(o.x,r.x,n.x,a.x)),c=1;for(let o=s-c;o<=l+c;o++)0!==o&&i.push(new e.UnwrappedTileID(o,t));}return i}coveringTiles(t){let i=this.coveringZoomLevel(t);const o=i,r=this.elevation&&!t.isTerrainDEM,n=\"mercator\"===this.projection.name;if(void 0!==t.minzoom&&i<t.minzoom)return [];void 0!==t.maxzoom&&i>t.maxzoom&&(i=t.maxzoom);const a=this.locationCoordinate(this.center),s=this.center.lat,l=1<<i,c=[l*a.x,l*a.y,0],h=\"globe\"===this.projection.name,_=!h,u=e.Frustum.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,i,_),d=h?this._camera.mercatorPosition:this.pointCoordinate(this.getCameraPoint()),p=l*e.mercatorZfromAltitude(1,this.center.lat),m=this._camera.position[2]/e.mercatorZfromAltitude(1,this.center.lat),f=[l*d.x,l*d.y,m*(_?1:p)],g=this.cameraToCenterDistance/t.tileSize*(t.roundZoom?1:.502),v=this.pitch<=60&&this._edgeInsets.top<=this._edgeInsets.bottom&&!this._elevation&&!this.projection.isReprojectedInTileSpace?i:0,x=t.isTerrainDEM&&this._elevation?1e4*this._elevation.exaggeration():this._centerAltitude,y=t.isTerrainDEM?-x:this._elevation?this._elevation.getMinElevationBelowMSL():0,b=this.projection.isReprojectedInTileSpace?Xo(this):1,w=t=>{const i=1/4e4,o=new e.MercatorCoordinate(t.x+i,t.y,t.z),r=new e.MercatorCoordinate(t.x,t.y+i,t.z),n=t.toLngLat(),a=o.toLngLat(),s=r.toLngLat(),l=this.locationCoordinate(n),c=this.locationCoordinate(a),h=this.locationCoordinate(s),_=Math.hypot(c.x-l.x,c.y-l.y),u=Math.hypot(h.x-l.x,h.y-l.y);return Math.sqrt(_*u)*b/i},T=t=>{const i=x,o=y;return {aabb:e.tileAABB(this,l,0,0,0,t,o,i,this.projection),zoom:0,x:0,y:0,minZ:o,maxZ:i,wrap:t,fullyVisible:!1}},E=[];let C=[];const I=i,M=t.reparseOverscaled?o:i,S=e=>e*e,z=S((m-this._centerAltitude)*p),D=e=>{if(!this._elevation||!e.tileID||!n)return;const t=this._elevation.getMinMaxForTile(e.tileID),i=e.aabb;t?(i.min[2]=t.min,i.max[2]=t.max,i.center[2]=(i.min[2]+i.max[2])/2):(e.shouldSplit=A(e),e.shouldSplit||(i.min[2]=i.max[2]=i.center[2]=this._centerAltitude));},A=t=>{if(t.zoom<v)return !0;if(t.zoom===I)return !1;if(null!=t.shouldSplit)return t.shouldSplit;const i=t.aabb.distanceX(f),n=t.aabb.distanceY(f);let a=z,l=1;if(h){a=S(t.aabb.distanceZ(f));const i=Math.pow(2,t.zoom),o=e.latFromMercatorY((t.y+1)/i),r=e.latFromMercatorY(t.y/i),n=Math.min(Math.max(s,o),r),c=e.circumferenceAtLatitude(n)/e.circumferenceAtLatitude(s);if(l=n===s?1/Math.max(1,this._mercatorScaleRatio-.3):Math.min(1,c/this._mercatorScaleRatio),this.zoom<=e.GLOBE_ZOOM_THRESHOLD_MIN&&t.zoom===I-1&&c>=.9)return !0}else if(r&&(a=S(t.aabb.distanceZ(f)*p)),this.projection.isReprojectedInTileSpace&&o<=5){const i=Math.pow(2,t.zoom),o=w(new e.MercatorCoordinate((t.x+.5)/i,(t.y+.5)/i));l=o>.85?1:o;}const c=i*i+n*n+a,_=S((1<<I-t.zoom)*g*l*((e,t)=>{if(t*S(.707)<e)return 1;const i=Math.sqrt(t/e);return i/(1.4144271570014144+(Math.pow(1.1,i-1.4144271570014144+1)-1)/(1.1-1)-1)})(Math.max(a,z),c));return c<_};if(this.renderWorldCopies)for(let e=1;e<=3;e++)E.push(T(-e)),E.push(T(e));for(E.push(T(0));E.length>0;){const o=E.pop(),a=o.x,s=o.y;let _=o.fullyVisible;if(!_){const e=o.aabb.intersects(u);if(0===e)continue;_=2===e;}if(o.zoom!==I&&A(o))for(let t=0;t<4;t++){const i=(a<<1)+t%2,c=(s<<1)+(t>>1),u={aabb:n?o.aabb.quadrant(t):e.tileAABB(this,l,o.zoom+1,i,c,o.wrap,o.minZ,o.maxZ,this.projection),zoom:o.zoom+1,x:i,y:c,wrap:o.wrap,fullyVisible:_,tileID:void 0,shouldSplit:void 0,minZ:o.minZ,maxZ:o.maxZ};r&&!h&&(u.tileID=new e.OverscaledTileID(o.zoom+1===I?M:o.zoom+1,o.wrap,o.zoom+1,i,c),D(u)),E.push(u);}else {const r=o.zoom===I?M:o.zoom;if(t.minzoom&&t.minzoom>r)continue;const n=c[0]-(.5+a+(o.wrap<<o.zoom))*(1<<i-o.zoom),l=c[1]-.5-s,h=o.tileID?o.tileID:new e.OverscaledTileID(r,o.wrap,o.zoom,a,s);C.push({tileID:h,distanceSq:n*n+l*l});}}if(this.fogCullDistSq){const i=this.fogCullDistSq,o=this.horizonLineFromTop();C=C.filter((r=>{const n=[0,0,0,1],a=[e.EXTENT,e.EXTENT,0,1],s=this.calculateFogTileMatrix(r.tileID.toUnwrapped());e.transformMat4$1(n,n,s),e.transformMat4$1(a,a,s);const l=e.getAABBPointSquareDist(n,a);if(0===l)return !0;let c=!1;const h=this._elevation;if(h&&l>i&&0!==o){const i=this.calculateProjMatrix(r.tileID.toUnwrapped());let n;t.isTerrainDEM||(n=h.getMinMaxForTile(r.tileID)),n||(n={min:y,max:x});const a=e.furthestTileCorner(this.rotation),s=[a[0]*e.EXTENT,a[1]*e.EXTENT,n.max];e.transformMat4(s,s,i),c=(1-s[1])*this.height*.5<o;}return l<i||c}));}return C.sort(((e,t)=>e.distanceSq-t.distanceSq)).map((e=>e.tileID))}resize(e,t){this.width=e,this.height=t,this.pixelsToGLUnits=[2/e,-2/t],this._constrain(),this._calcMatrices();}get unmodified(){return this._unmodified}zoomScale(e){return Math.pow(2,e)}scaleZoom(e){return Math.log(e)/Math.LN2}project(t){const i=e.clamp(t.lat,-e.MAX_MERCATOR_LATITUDE,e.MAX_MERCATOR_LATITUDE),o=this.projection.project(t.lng,i);return new e.pointGeometry(o.x*this.worldSize,o.y*this.worldSize)}unproject(e){return this.projection.unproject(e.x/this.worldSize,e.y/this.worldSize)}get point(){return this.project(this.center)}setLocationAtPoint(t,i){let o,r;const n=this.centerPoint;if(\"globe\"===this.projection.name){const e=this.worldSize;o=(i.x-n.x)/e,r=(i.y-n.y)/e;}else {const e=this.pointCoordinate(i),t=this.pointCoordinate(n);o=e.x-t.x,r=e.y-t.y;}const a=this.locationCoordinate(t);this.setLocation(new e.MercatorCoordinate(a.x-o,a.y-r));}setLocation(e){this.center=this.coordinateLocation(e),this.projection.wrap&&(this.center=this.center.wrap());}locationPoint(e){return this.projection.locationPoint(this,e)}locationPoint3D(e){return this.projection.locationPoint(this,e,!0)}pointLocation(e){return this.coordinateLocation(this.pointCoordinate(e))}pointLocation3D(e){return this.coordinateLocation(this.pointCoordinate3D(e))}locationCoordinate(t,i){const o=i?e.mercatorZfromAltitude(i,t.lat):void 0,r=this.projection.project(t.lng,t.lat);return new e.MercatorCoordinate(r.x,r.y,o)}coordinateLocation(e){return this.projection.unproject(e.x,e.y)}pointRayIntersection(t,i){const o=null!=i?i:this._centerAltitude,r=[t.x,t.y,0,1],n=[t.x,t.y,1,1];e.transformMat4$1(r,r,this.pixelMatrixInverse),e.transformMat4$1(n,n,this.pixelMatrixInverse);const a=n[3];e.scale$1(r,r,1/r[3]),e.scale$1(n,n,1/a);const s=r[2],l=n[2];return {p0:r,p1:n,t:s===l?0:(o-s)/(l-s)}}screenPointToMercatorRay(t){const i=[t.x,t.y,0,1],o=[t.x,t.y,1,1];return e.transformMat4$1(i,i,this.pixelMatrixInverse),e.transformMat4$1(o,o,this.pixelMatrixInverse),e.scale$1(i,i,1/i[3]),e.scale$1(o,o,1/o[3]),i[2]=e.mercatorZfromAltitude(i[2],this._center.lat)*this.worldSize,o[2]=e.mercatorZfromAltitude(o[2],this._center.lat)*this.worldSize,e.scale$1(i,i,1/this.worldSize),e.scale$1(o,o,1/this.worldSize),new e.Ray([i[0],i[1],i[2]],e.normalize([],e.sub([],o,i)))}rayIntersectionCoordinate(t){const{p0:i,p1:o,t:r}=t,n=e.mercatorZfromAltitude(i[2],this._center.lat),a=e.mercatorZfromAltitude(o[2],this._center.lat);return new e.MercatorCoordinate(e.number(i[0],o[0],r)/this.worldSize,e.number(i[1],o[1],r)/this.worldSize,e.number(n,a,r))}pointCoordinate(e,t=this._centerAltitude){return this.projection.pointCoordinate(this,e.x,e.y,t)}pointCoordinate3D(t){if(!this.elevation)return this.pointCoordinate(t);let i=this.projection.pointCoordinate3D(this,t.x,t.y);if(i)return new e.MercatorCoordinate(i[0],i[1],i[2]);let o=0,r=this.horizonLineFromTop();if(t.y>r)return this.pointCoordinate(t);const n=.02*r,a=t.clone();for(let t=0;t<10&&r-o>n;t++){a.y=e.number(o,r,.66);const t=this.projection.pointCoordinate3D(this,a.x,a.y);t?(r=a.y,i=t):o=a.y;}return i?new e.MercatorCoordinate(i[0],i[1],i[2]):this.pointCoordinate(t)}isPointAboveHorizon(e){return this.projection.isPointAboveHorizon(this,e)}_coordinatePoint(t,i){const o=i&&this.elevation?this.elevation.getAtPointOrZero(t,this._centerAltitude):this._centerAltitude,r=[t.x*this.worldSize,t.y*this.worldSize,o+t.toAltitude(),1];return e.transformMat4$1(r,r,this.pixelMatrix),r[3]>0?new e.pointGeometry(r[0]/r[3],r[1]/r[3]):new e.pointGeometry(Number.MAX_VALUE,Number.MAX_VALUE)}_getGlobeBounds(){const{top:t,left:i}=this._edgeInsets,o=this.height-this._edgeInsets.bottom,r=this.width-this._edgeInsets.right,n=this.pointCoordinate3D(new e.pointGeometry(i,t)),a=this.pointCoordinate3D(new e.pointGeometry(r,t)),s=this.pointCoordinate3D(new e.pointGeometry(r,o)),l=this.pointCoordinate3D(new e.pointGeometry(i,o));let c=Math.min(n.x,l.x),h=Math.max(a.x,s.x),_=Math.min(n.y,a.y),u=Math.max(l.y,s.y);const d=Math.pow(2,-this.zoom)/16,p=(t,i,o,r)=>{const n=(t+o)/2,a=(i+r)/2,s=new e.pointGeometry(n,a),l=this.pointCoordinate3D(s),m=Math.max(0,c-l.x,_-l.y,l.x-h,l.y-u);c=Math.min(c,l.x),h=Math.max(h,l.x),_=Math.min(_,l.y),u=Math.max(u,l.y),m>d&&(p(t,i,n,a),p(n,a,o,r));};p(i,t,r,t),p(r,t,r,o),p(r,o,i,o),p(i,o,i,t);const m=new e.LngLat(e.lngFromMercatorX(h),e.latFromMercatorY(_)),f=new e.LngLat(e.lngFromMercatorX(c),e.latFromMercatorY(u));return new e.LngLatBounds(f,m)}_getBounds(t,i){if(\"globe\"===this.projection.name)return this._getGlobeBounds();const o=new e.pointGeometry(this._edgeInsets.left,this._edgeInsets.top),r=new e.pointGeometry(this.width-this._edgeInsets.right,this._edgeInsets.top),n=new e.pointGeometry(this.width-this._edgeInsets.right,this.height-this._edgeInsets.bottom),a=new e.pointGeometry(this._edgeInsets.left,this.height-this._edgeInsets.bottom);let s=this.pointCoordinate(o,t),l=this.pointCoordinate(r,t);const c=this.pointCoordinate(n,i),h=this.pointCoordinate(a,i),_=(e,t)=>(t.y-e.y)/(t.x-e.x);return s.y>1&&l.y>=0?s=new e.MercatorCoordinate((1-h.y)/_(h,s)+h.x,1):s.y<0&&l.y<=1&&(s=new e.MercatorCoordinate(-h.y/_(h,s)+h.x,0)),l.y>1&&s.y>=0?l=new e.MercatorCoordinate((1-c.y)/_(c,l)+c.x,1):l.y<0&&s.y<=1&&(l=new e.MercatorCoordinate(-c.y/_(c,l)+c.x,0)),(new e.LngLatBounds).extend(this.coordinateLocation(s)).extend(this.coordinateLocation(l)).extend(this.coordinateLocation(h)).extend(this.coordinateLocation(c))}_getBounds3D(){const e=this.elevation;if(!e.visibleDemTiles.length||e.isUsingMockSource())return this._getBounds(0,0);const t=e.visibleDemTiles.reduce(((e,t)=>{if(t.dem){const i=t.dem.tree;e.min=Math.min(e.min,i.minimums[0]),e.max=Math.max(e.max,i.maximums[0]);}return e}),{min:Number.MAX_VALUE,max:0});return this._getBounds(t.min*e.exaggeration(),t.max*e.exaggeration())}getBounds(){return this._terrainEnabled()?this._getBounds3D():this._getBounds(0,0)}horizonLineFromTop(e=!0){const t=this.height/2/Math.tan(this._fov/2)/Math.tan(Math.max(this._pitch,.1))+this.centerOffset.y,i=this.height/2-t*(1-this._horizonShift);return e?Math.max(0,i):i}getMaxBounds(){return this.maxBounds}setMaxBounds(t){this.maxBounds=t,this.minLat=-e.MAX_MERCATOR_LATITUDE,this.maxLat=e.MAX_MERCATOR_LATITUDE,this.minLng=-180,this.maxLng=180,t&&(this.minLat=t.getSouth(),this.maxLat=t.getNorth(),this.minLng=t.getWest(),this.maxLng=t.getEast(),this.maxLng<this.minLng&&(this.maxLng+=360)),this.worldMinX=e.mercatorXfromLng(this.minLng)*this.tileSize,this.worldMaxX=e.mercatorXfromLng(this.maxLng)*this.tileSize,this.worldMinY=e.mercatorYfromLat(this.maxLat)*this.tileSize,this.worldMaxY=e.mercatorYfromLat(this.minLat)*this.tileSize,this._constrain();}calculatePosMatrix(e,t){return this.projection.createTileMatrix(this,t,e)}calculateDistanceTileData(t){const i=t.key,o=this._distanceTileDataCache;if(o[i])return o[i];const r=t.canonical,n=1/this.height,a=this.cameraWorldSize/this.zoomScale(r.z),s=(r.x+Math.pow(2,r.z)*t.wrap)*a,l=r.y*a,c=this.point,h=this.angle,_=Math.sin(-h),u=-Math.cos(-h);return o[i]={bearing:[_,u],center:[(c.x-s)*n,(c.y-l)*n],scale:a/e.EXTENT*n},o[i]}calculateFogTileMatrix(t){const i=t.key,o=this._fogTileMatrixCache;if(o[i])return o[i];const r=this.projection.createTileMatrix(this,this.cameraWorldSize,t);return e.multiply(r,this.worldToFogMatrix,r),o[i]=new Float32Array(r),o[i]}calculateProjMatrix(t,i=!1){const o=t.key,r=i?this._alignedProjMatrixCache:this._projMatrixCache;if(r[o])return r[o];const n=this.calculatePosMatrix(t,this.worldSize);return e.multiply(n,this.projection.isReprojectedInTileSpace?this.mercatorMatrix:i?this.alignedProjMatrix:this.projMatrix,n),r[o]=new Float32Array(n),r[o]}calculatePixelsToTileUnitsMatrix(t){const i=t.tileID.key,o=this._pixelsToTileUnitsCache;if(o[i])return o[i];const r=function(t,i){const{scale:o}=t.tileTransform,r=o*e.EXTENT/(t.tileSize*Math.pow(2,i.zoom-t.tileID.overscaledZ+t.tileID.canonical.z));return n=new Float32Array(4),l=(a=i.inverseAdjustmentMatrix)[1],c=a[2],h=a[3],u=(s=[r,r])[1],n[0]=a[0]*(_=s[0]),n[1]=l*_,n[2]=c*u,n[3]=h*u,n;var n,a,s,l,c,h,_,u;}(t,this);return o[i]=r,o[i]}customLayerMatrix(){return this.mercatorMatrix.slice()}recenterOnTerrain(){if(!this._elevation||\"globe\"===this.projection.name)return;const t=this._elevation;this._updateCameraState();const i=e.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,o=this._computeCameraPosition(i),r=this._camera.forward(),n=e.mercatorZfromAltitude(1,this._center.lat);o[2]/=n,r[2]/=n,e.normalize(r,r);const a=t.raycast(o,r,t.exaggeration());if(a){const t=e.scaleAndAdd([],o,r,a),i=new e.MercatorCoordinate(t[0],t[1],e.mercatorZfromAltitude(t[2],e.latFromMercatorY(t[1]))),s=(i.z+e.length([i.x-o[0],i.y-o[1],i.z-o[2]*n]))*this._pixelsPerMercatorPixel;this._seaLevelZoom=this._zoomFromMercatorZ(s),this._centerAltitude=i.toAltitude(),this._center=this.coordinateLocation(i),this._updateZoomFromElevation(),this._constrain(),this._calcMatrices();}}_constrainCameraAltitude(){if(!this._elevation)return;const t=this._elevation;this._updateCameraState();const i=e.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,o=this._computeCameraPosition(i),r=t.getAtPointOrZero(new e.MercatorCoordinate(...o)),n=this._minimumHeightOverTerrain()*Math.cos(e.degToRad(this._maxPitch)),a=this._camera.position[2]-this.pixelsPerMeter/this.worldSize*r;if(a<n){const t=this.locationCoordinate(this._center,this._centerAltitude),i=[t.x-o[0],t.y-o[1],t.z-o[2]],r=e.length(i);i[2]-=(n-a)/this._pixelsPerMercatorPixel;const s=e.length(i);if(0===s)return;e.scale$2(i,i,r/s*this._pixelsPerMercatorPixel),this._camera.position=[t.x-i[0],t.y-i[1],t.z*this._pixelsPerMercatorPixel-i[2]],this._camera.orientation=jo(i,this._camera.up()),this._updateStateFromCamera();}}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;const t=\"globe\"===this.projection.name||this.mercatorFromTransition;if(this.projection.isReprojectedInTileSpace||t){const i=this.center;return i.lat=e.clamp(i.lat,this.minLat,this.maxLat),(this.maxBounds||!this.renderWorldCopies&&!t)&&(i.lng=e.clamp(i.lng,this.minLng,this.maxLng)),this.center=i,void(this._constraining=!1)}const i=this._unmodified,{x:o,y:r}=this.point;let n=0,a=o,s=r;const l=this.width/2,c=this.height/2,h=this.worldMinY*this.scale,_=this.worldMaxY*this.scale;if(r-c<h&&(s=h+c),r+c>_&&(s=_-c),_-h<this.height&&(n=Math.max(n,this.height/(_-h)),s=(_+h)/2),this.maxBounds||!this._renderWorldCopies||!this.projection.wrap){const e=this.worldMinX*this.scale,t=this.worldMaxX*this.scale,i=this.worldSize/2-(e+t)/2;a=(o+i+this.worldSize)%this.worldSize-i,a-l<e&&(a=e+l),a+l>t&&(a=t-l),t-e<this.width&&(n=Math.max(n,this.width/(t-e)),a=(t+e)/2);}a===o&&s===r||(this.center=this.unproject(new e.pointGeometry(a,s))),n&&(this.zoom+=this.scaleZoom(n)),this._constrainCameraAltitude(),this._unmodified=i,this._constraining=!1;}_minZoomForBounds(){let e=Math.max(0,this.scaleZoom(this.height/(this.worldMaxY-this.worldMinY)));return this.maxBounds&&(e=Math.max(e,this.scaleZoom(this.width/(this.worldMaxX-this.worldMinX)))),e}_maxCameraBoundsDistance(){return this._mercatorZfromZoom(this._minZoomForBounds())}_calcMatrices(){if(!this.height)return;const t=this.centerOffset,i=this.pixelsPerMeter;\"globe\"===this.projection.name&&(this._mercatorScaleRatio=e.mercatorZfromAltitude(1,this.center.lat)/e.mercatorZfromAltitude(1,e.GLOBE_SCALE_MATCH_LATITUDE));const o=qo(this.projection,this.zoom,this.width,this.height,1024);this._pixelsPerMercatorPixel=this.projection.pixelSpaceConversion(this.center.lat,this.worldSize,o),this.cameraToCenterDistance=.5/Math.tan(.5*this._fov)*this.height*this._pixelsPerMercatorPixel,this._updateCameraState(),this._farZ=this.projection.farthestPixelDistance(this),this._nearZ=this.height/50;const r=this._camera.getWorldToCamera(this.worldSize,\"meters\"===this.projection.zAxisUnit?i:1),n=this._camera.getCameraToClipPerspective(this._fov,this.width/this.height,this._nearZ,this._farZ);n[8]=2*-t.x/this.width,n[9]=2*t.y/this.height;let a=e.mul([],n,r);if(this.projection.isReprojectedInTileSpace){const t=this.locationCoordinate(this.center),i=e.identity([]);e.translate(i,i,[t.x*this.worldSize,t.y*this.worldSize,0]),e.multiply(i,i,Wo(this)),e.translate(i,i,[-t.x*this.worldSize,-t.y*this.worldSize,0]),e.multiply(a,a,i),this.inverseAdjustmentMatrix=function(e){const t=Wo(e,!0);return v([],[t[0],t[1],t[4],t[5]])}(this);}else this.inverseAdjustmentMatrix=[1,0,0,1];this.mercatorMatrix=e.scale([],a,[this.worldSize,this.worldSize,this.worldSize/i,1]),this.projMatrix=a,this.invProjMatrix=e.invert(new Float64Array(16),this.projMatrix);const s=e.invert([],n);this.frustumCorners=e.FrustumCorners.fromInvProjectionMatrix(s,this.horizonLineFromTop(),this.height);const l=new Float32Array(16);e.identity(l),e.scale(l,l,[1,-1,1]),e.rotateX(l,l,this._pitch),e.rotateZ(l,l,this.angle);const c=e.perspective(new Float32Array(16),this._fov,this.width/this.height,this._nearZ,this._farZ),h=(Math.PI/2-this._pitch)*(this.height/this._fov)*this._horizonShift;c[8]=2*-t.x/this.width,c[9]=2*(t.y+h)/this.height,this.skyboxMatrix=e.multiply(l,c,l);const _=this.point,u=_.x,d=_.y,p=this.width%2/2,m=this.height%2/2,f=Math.cos(this.angle),g=Math.sin(this.angle),x=u-Math.round(u)+f*p+g*m,y=d-Math.round(d)+f*m+g*p,b=new Float64Array(a);if(e.translate(b,b,[x>.5?x-1:x,y>.5?y-1:y,0]),this.alignedProjMatrix=b,a=e.create(),e.scale(a,a,[this.width/2,-this.height/2,1]),e.translate(a,a,[1,-1,0]),this.labelPlaneMatrix=a,a=e.create(),e.scale(a,a,[1,-1,1]),e.translate(a,a,[-1,-1,0]),e.scale(a,a,[2/this.width,2/this.height,1]),this.glCoordMatrix=a,this.pixelMatrix=e.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),this._calcFogMatrices(),this._distanceTileDataCache={},a=e.invert(new Float64Array(16),this.pixelMatrix),!a)throw new Error(\"failed to invert matrix\");if(this.pixelMatrixInverse=a,\"globe\"===this.projection.name||this.mercatorFromTransition){this.globeMatrix=e.calculateGlobeMatrix(this);const t=[this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]];this.globeCenterInViewSpace=e.transformMat4(t,t,r),this.globeRadius=this.worldSize/2/Math.PI-1;}else this.globeMatrix=a;this._projMatrixCache={},this._alignedProjMatrixCache={},this._pixelsToTileUnitsCache={};}_calcFogMatrices(){this._fogTileMatrixCache={};const t=this.cameraWorldSize,i=this.cameraPixelsPerMeter,o=this._camera.position,r=1/this.height/this._pixelsPerMercatorPixel,n=[t,t,i];e.scale$2(n,n,r),e.scale$2(o,o,-1),e.multiply$2(o,o,n);const a=e.create();e.translate(a,a,o),e.scale(a,a,n),this.mercatorFogMatrix=a,this.worldToFogMatrix=this._camera.getWorldToCameraPosition(t,i,r);}_computeCameraPosition(e){const t=(e=e||this.pixelsPerMeter)/this.pixelsPerMeter,i=this._camera.forward(),o=this.point,r=this._mercatorZfromZoom(this._seaLevelZoom?this._seaLevelZoom:this._zoom)*t-e/this.worldSize*this._centerAltitude;return [o.x/this.worldSize-i[0]*r,o.y/this.worldSize-i[1]*r,e/this.worldSize*this._centerAltitude-i[2]*r]}_updateCameraState(){this.height&&(this._camera.setPitchBearing(this._pitch,this.angle),this._camera.position=this._computeCameraPosition());}_translateCameraConstrained(t){const i=this._maxCameraBoundsDistance()*Math.cos(this._pitch),o=this._camera.position[2],r=t[2];let n=1;this.projection.wrap&&(this.center=this.center.wrap()),r>0&&(n=Math.min((i-o)/r,1)),this._camera.position=e.scaleAndAdd([],this._camera.position,t,n),this._updateStateFromCamera();}_updateStateFromCamera(){const t=this._camera.position,i=this._camera.forward(),{pitch:o,bearing:r}=this._camera.getPitchBearing(),n=e.mercatorZfromAltitude(this._centerAltitude,this.center.lat)*this._pixelsPerMercatorPixel,a=this._mercatorZfromZoom(this._maxZoom)*Math.cos(e.degToRad(this._maxPitch)),s=Math.max((t[2]-n)/Math.cos(o),a),l=this._zoomFromMercatorZ(s);e.scaleAndAdd(t,t,i,s),this._pitch=e.clamp(o,e.degToRad(this.minPitch),e.degToRad(this.maxPitch)),this.angle=e.wrap(r,-Math.PI,Math.PI),this._setZoom(e.clamp(l,this._minZoom,this._maxZoom)),this._updateSeaLevelZoom(),this._center=this.coordinateLocation(new e.MercatorCoordinate(t[0],t[1],t[2])),this._unmodified=!1,this._constrain(),this._calcMatrices();}_worldSizeFromZoom(e){return Math.pow(2,e)*this.tileSize}_mercatorZfromZoom(e){return this.cameraToCenterDistance/this._worldSizeFromZoom(e)}_minimumHeightOverTerrain(){const e=Math.min((null!=this._seaLevelZoom?this._seaLevelZoom:this._zoom)+2,this._maxZoom);return this._mercatorZfromZoom(e)}_zoomFromMercatorZ(e){return this.scaleZoom(this.cameraToCenterDistance/(e*this.tileSize))}zoomFromMercatorZAdjusted(e){const t=t=>{const i=this.getCameraToCenterDistance(this.projection,t);return this.scaleZoom(i/(e*this.tileSize))};let i,o=t(this.zoom),r=Math.abs(o-t(o));for(;i!==r;)o=t(o),i=r,r=Math.abs(o-t(o));return o}_terrainEnabled(){return !(!this._elevation||!this.projection.supportsTerrain&&(e.warnOnce(\"Terrain is not yet supported with alternate projections. Use mercator or globe to enable terrain.\"),1))}anyCornerOffEdge(t,i){const o=Math.min(t.x,i.x),r=Math.max(t.x,i.x),n=Math.min(t.y,i.y),a=Math.max(t.y,i.y);if(n<this.horizonLineFromTop(!1))return !0;if(\"mercator\"!==this.projection.name)return !1;const s=[new e.pointGeometry(o,n),new e.pointGeometry(r,a),new e.pointGeometry(o,a),new e.pointGeometry(r,n)],l=this.renderWorldCopies?-3:0,c=this.renderWorldCopies?4:1;for(const e of s){const t=this.pointRayIntersection(e);if(t.t<0)return !0;const i=this.rayIntersectionCoordinate(t);if(i.x<l||i.y<0||i.x>c||i.y>1)return !0}return !1}isHorizonVisible(){return this.pitch+e.radToDeg(this.fovAboveCenter)>88||this.anyCornerOffEdge(new e.pointGeometry(0,0),new e.pointGeometry(this.width,this.height))}zoomDeltaToMovement(t,i){const o=e.length(e.sub([],this._camera.position,t)),r=this._zoomFromMercatorZ(o)+i;return o-this._mercatorZfromZoom(r)}getCameraPoint(){if(\"globe\"===this.projection.name){const t=function(t,i){const o=[t[0],t[1],t[2],1];e.transformMat4$1(o,o,i);const r=Math.max(o[3],1e-6);return [o[0]/r,o[1]/r,o[2]/r,r]}([this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]],this.pixelMatrix);return new e.pointGeometry(t[0],t[1])}{const t=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new e.pointGeometry(0,t))}}getCameraToCenterDistance(e,t=this.zoom){const i=qo(e,t,this.width,this.height,1024),o=e.pixelSpaceConversion(this.center.lat,this.worldSize,i);return .5/Math.tan(.5*this._fov)*this.height*o}getWorldToCameraMatrix(){const t=this._camera.getWorldToCamera(this.worldSize,\"meters\"===this.projection.zAxisUnit?this.pixelsPerMeter:1);return \"globe\"===this.projection.name&&e.multiply(t,t,this.globeMatrix),t}}function Jo(e,t){let i=!1,o=null;const r=()=>{o=null,i&&(e(),o=setTimeout(r,t),i=!1);};return ()=>(i=!0,o||r(),o)}class Qo{constructor(t){this._hashName=t&&encodeURIComponent(t),e.bindAll([\"_getCurrentHash\",\"_onHashChange\",\"_updateHash\"],this),this._updateHash=Jo(this._updateHashUnthrottled.bind(this),300);}addTo(t){return this._map=t,e.window.addEventListener(\"hashchange\",this._onHashChange,!1),t.on(\"moveend\",this._updateHash),this}remove(){return this._map?(this._map.off(\"moveend\",this._updateHash),e.window.removeEventListener(\"hashchange\",this._onHashChange,!1),clearTimeout(this._updateHash()),this._map=void 0,this):this}getHashString(){const t=this._map;if(!t)return \"\";const i=er(t);if(this._hashName){const t=this._hashName;let o=!1;const r=e.window.location.hash.slice(1).split(\"&\").map((e=>{const r=e.split(\"=\")[0];return r===t?(o=!0,`${r}=${i}`):e})).filter((e=>e));return o||r.push(`${t}=${i}`),`#${r.join(\"&\")}`}return `#${i}`}_getCurrentHash(){const t=e.window.location.hash.replace(\"#\",\"\");if(this._hashName){let e;return t.split(\"&\").map((e=>e.split(\"=\"))).forEach((t=>{t[0]===this._hashName&&(e=t);})),(e&&e[1]||\"\").split(\"/\")}return t.split(\"/\")}_onHashChange(){const e=this._map;if(!e)return !1;const t=this._getCurrentHash();if(t.length>=3&&!t.some((e=>isNaN(e)))){const i=e.dragRotate.isEnabled()&&e.touchZoomRotate.isEnabled()?+(t[3]||0):e.getBearing();return e.jumpTo({center:[+t[2],+t[1]],zoom:+t[0],bearing:i,pitch:+(t[4]||0)}),!0}return !1}_updateHashUnthrottled(){const t=e.window.location.href.replace(/(#.+)?$/,this.getHashString());e.window.history.replaceState(e.window.history.state,null,t);}}function er(e,t){const i=e.getCenter(),o=Math.round(100*e.getZoom())/100,r=Math.ceil((o*Math.LN2+Math.log(512/360/.5))/Math.LN10),n=Math.pow(10,r),a=Math.round(i.lng*n)/n,s=Math.round(i.lat*n)/n,l=e.getBearing(),c=e.getPitch();let h=t?`/${a}/${s}/${o}`:`${o}/${s}/${a}`;return (l||c)&&(h+=\"/\"+Math.round(10*l)/10),c&&(h+=`/${Math.round(c)}`),h}const tr={linearity:.3,easing:e.bezier(0,0,.3,1)},ir=e.extend({deceleration:2500,maxSpeed:1400},tr),or=e.extend({deceleration:20,maxSpeed:1400},tr),rr=e.extend({deceleration:1e3,maxSpeed:360},tr),nr=e.extend({deceleration:1e3,maxSpeed:90},tr);class ar{constructor(e){this._map=e,this.clear();}clear(){this._inertiaBuffer=[];}record(t){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:e.exported.now(),settings:t});}_drainInertiaBuffer(){const t=this._inertiaBuffer,i=e.exported.now();for(;t.length>0&&i-t[0].time>160;)t.shift();}_onMoveEnd(t){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const i={zoom:0,bearing:0,pitch:0,pan:new e.pointGeometry(0,0),pinchAround:void 0,around:void 0};for(const{settings:e}of this._inertiaBuffer)i.zoom+=e.zoomDelta||0,i.bearing+=e.bearingDelta||0,i.pitch+=e.pitchDelta||0,e.panDelta&&i.pan._add(e.panDelta),e.around&&(i.around=e.around),e.pinchAround&&(i.pinchAround=e.pinchAround);const o=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,r={};if(i.pan.mag()){const n=lr(i.pan.mag(),o,e.extend({},ir,t||{}));r.offset=i.pan.mult(n.amount/i.pan.mag()),r.center=this._map.transform.center,sr(r,n);}if(i.zoom){const e=lr(i.zoom,o,or);r.zoom=this._map.transform.zoom+e.amount,sr(r,e);}if(i.bearing){const t=lr(i.bearing,o,rr);r.bearing=this._map.transform.bearing+e.clamp(t.amount,-179,179),sr(r,t);}if(i.pitch){const e=lr(i.pitch,o,nr);r.pitch=this._map.transform.pitch+e.amount,sr(r,e);}if(r.zoom||r.bearing){const e=void 0===i.pinchAround?i.around:i.pinchAround;r.around=e?this._map.unproject(e):this._map.getCenter();}return this.clear(),r.noMoveStart=!0,r}}function sr(e,t){(!e.duration||e.duration<t.duration)&&(e.duration=t.duration,e.easing=t.easing);}function lr(t,i,o){const{maxSpeed:r,linearity:n,deceleration:a}=o,s=e.clamp(t*n/(i/1e3),-r,r),l=Math.abs(s)/(a*n);return {easing:o.easing,duration:1e3*l,amount:s*(l/2)}}class cr extends e.Event{preventDefault(){this._defaultPrevented=!0;}get defaultPrevented(){return this._defaultPrevented}constructor(t,i,o,r={}){const n=p(i.getCanvasContainer(),o),a=i.unproject(n);super(t,e.extend({point:n,lngLat:a,originalEvent:o},r)),this._defaultPrevented=!1,this.target=i;}}class hr extends e.Event{preventDefault(){this._defaultPrevented=!0;}get defaultPrevented(){return this._defaultPrevented}constructor(t,i,o){const r=\"touchend\"===t?o.changedTouches:o.touches,n=m(i.getCanvasContainer(),r),a=n.map((e=>i.unproject(e))),s=n.reduce(((e,t,i,o)=>e.add(t.div(o.length))),new e.pointGeometry(0,0));super(t,{points:n,point:s,lngLats:a,lngLat:i.unproject(s),originalEvent:o}),this._defaultPrevented=!1;}}class _r extends e.Event{preventDefault(){this._defaultPrevented=!0;}get defaultPrevented(){return this._defaultPrevented}constructor(e,t,i){super(e,{originalEvent:i}),this._defaultPrevented=!1;}}class ur{constructor(e,t){this._map=e,this._clickTolerance=t.clickTolerance;}reset(){this._mousedownPos=void 0;}wheel(e){return this._firePreventable(new _r(e.type,this._map,e))}mousedown(e,t){return this._mousedownPos=t,this._firePreventable(new cr(e.type,this._map,e))}mouseup(e){this._map.fire(new cr(e.type,this._map,e));}preclick(t){const i=e.extend({},t);i.type=\"preclick\",this._map.fire(new cr(i.type,this._map,i));}click(e,t){this._mousedownPos&&this._mousedownPos.dist(t)>=this._clickTolerance||(this.preclick(e),this._map.fire(new cr(e.type,this._map,e)));}dblclick(e){return this._firePreventable(new cr(e.type,this._map,e))}mouseover(e){this._map.fire(new cr(e.type,this._map,e));}mouseout(e){this._map.fire(new cr(e.type,this._map,e));}touchstart(e){return this._firePreventable(new hr(e.type,this._map,e))}touchmove(e){this._map.fire(new hr(e.type,this._map,e));}touchend(e){this._map.fire(new hr(e.type,this._map,e));}touchcancel(e){this._map.fire(new hr(e.type,this._map,e));}_firePreventable(e){if(this._map.fire(e),e.defaultPrevented)return {}}isEnabled(){return !0}isActive(){return !1}enable(){}disable(){}}class dr{constructor(e){this._map=e;}reset(){this._delayContextMenu=!1,this._contextMenuEvent=void 0;}mousemove(e){this._map.fire(new cr(e.type,this._map,e));}mousedown(){this._delayContextMenu=!0;}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new cr(\"contextmenu\",this._map,this._contextMenuEvent)),delete this._contextMenuEvent);}contextmenu(e){this._delayContextMenu?this._contextMenuEvent=e:this._map.fire(new cr(e.type,this._map,e)),this._map.listens(\"contextmenu\")&&e.preventDefault();}isEnabled(){return !0}isActive(){return !1}enable(){}disable(){}}class pr{constructor(e,t){this._map=e,this._el=e.getCanvasContainer(),this._container=e.getContainer(),this._clickTolerance=t.clickTolerance||1;}isEnabled(){return !!this._enabled}isActive(){return !!this._active}enable(){this.isEnabled()||(this._enabled=!0);}disable(){this.isEnabled()&&(this._enabled=!1);}mousedown(e,t){this.isEnabled()&&e.shiftKey&&0===e.button&&(h(),this._startPos=this._lastPos=t,this._active=!0);}mousemoveWindow(e,t){if(!this._active)return;const i=t,o=this._startPos,r=this._lastPos;if(!o||!r||r.equals(i)||!this._box&&i.dist(o)<this._clickTolerance)return;this._lastPos=i,this._box||(this._box=n(\"div\",\"mapboxgl-boxzoom\",this._container),this._container.classList.add(\"mapboxgl-crosshair\"),this._fireEvent(\"boxzoomstart\",e));const a=Math.min(o.x,i.x),s=Math.max(o.x,i.x),l=Math.min(o.y,i.y),c=Math.max(o.y,i.y);this._map._requestDomTask((()=>{this._box&&(this._box.style.transform=`translate(${a}px,${l}px)`,this._box.style.width=s-a+\"px\",this._box.style.height=c-l+\"px\");}));}mouseupWindow(t,i){if(!this._active)return;const o=this._startPos,r=i;if(o&&0===t.button){if(this.reset(),d(),o.x!==r.x||o.y!==r.y)return this._map.fire(new e.Event(\"boxzoomend\",{originalEvent:t})),{cameraAnimation:e=>e.fitScreenCoordinates(o,r,this._map.getBearing(),{linear:!1})};this._fireEvent(\"boxzoomcancel\",t);}}keydown(e){this._active&&27===e.keyCode&&(this.reset(),this._fireEvent(\"boxzoomcancel\",e));}blur(){this.reset();}reset(){this._active=!1,this._container.classList.remove(\"mapboxgl-crosshair\"),this._box&&(this._box.remove(),this._box=null),_(),delete this._startPos,delete this._lastPos;}_fireEvent(t,i){return this._map.fire(new e.Event(t,{originalEvent:i}))}}function mr(e,t){const i={};for(let o=0;o<e.length;o++)i[e[o].identifier]=t[o];return i}class fr{constructor(e){this.reset(),this.numTouches=e.numTouches;}reset(){this.centroid=void 0,this.startTime=0,this.touches={},this.aborted=!1;}touchstart(t,i,o){(this.centroid||o.length>this.numTouches)&&(this.aborted=!0),this.aborted||(0===this.startTime&&(this.startTime=t.timeStamp),o.length===this.numTouches&&(this.centroid=function(t){const i=new e.pointGeometry(0,0);for(const e of t)i._add(e);return i.div(t.length)}(i),this.touches=mr(o,i)));}touchmove(e,t,i){if(this.aborted||!this.centroid)return;const o=mr(i,t);for(const e in this.touches){const t=this.touches[e],i=o[e];(!i||i.dist(t)>30)&&(this.aborted=!0);}}touchend(e,t,i){if((!this.centroid||e.timeStamp-this.startTime>500)&&(this.aborted=!0),0===i.length){const e=!this.aborted&&this.centroid;if(this.reset(),e)return e}}}class gr{constructor(e){this.singleTap=new fr(e),this.numTaps=e.numTaps,this.reset();}reset(){this.lastTime=1/0,this.lastTap=void 0,this.count=0,this.singleTap.reset();}touchstart(e,t,i){this.singleTap.touchstart(e,t,i);}touchmove(e,t,i){this.singleTap.touchmove(e,t,i);}touchend(e,t,i){const o=this.singleTap.touchend(e,t,i);if(o){const t=e.timeStamp-this.lastTime<500,i=!this.lastTap||this.lastTap.dist(o)<30;if(t&&i||this.reset(),this.count++,this.lastTime=e.timeStamp,this.lastTap=o,this.count===this.numTaps)return this.reset(),o}}}class vr{constructor(){this._zoomIn=new gr({numTouches:1,numTaps:2}),this._zoomOut=new gr({numTouches:2,numTaps:1}),this.reset();}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset();}touchstart(e,t,i){this._zoomIn.touchstart(e,t,i),this._zoomOut.touchstart(e,t,i);}touchmove(e,t,i){this._zoomIn.touchmove(e,t,i),this._zoomOut.touchmove(e,t,i);}touchend(e,t,i){const o=this._zoomIn.touchend(e,t,i),r=this._zoomOut.touchend(e,t,i);return o?(this._active=!0,e.preventDefault(),setTimeout((()=>this.reset()),0),{cameraAnimation:t=>t.easeTo({duration:300,zoom:t.getZoom()+1,around:t.unproject(o)},{originalEvent:e})}):r?(this._active=!0,e.preventDefault(),setTimeout((()=>this.reset()),0),{cameraAnimation:t=>t.easeTo({duration:300,zoom:t.getZoom()-1,around:t.unproject(r)},{originalEvent:e})}):void 0}touchcancel(){this.reset();}enable(){this._enabled=!0;}disable(){this._enabled=!1,this.reset();}isEnabled(){return this._enabled}isActive(){return this._active}}const xr={0:1,2:2};class yr{constructor(e){this.reset(),this._clickTolerance=e.clickTolerance||1;}blur(){this.reset();}reset(){this._active=!1,this._moved=!1,this._lastPoint=void 0,this._eventButton=void 0;}_correctButton(e,t){return !1}_move(e,t){return {}}mousedown(e,t){if(this._lastPoint)return;const i=f(e);this._correctButton(e,i)&&(this._lastPoint=t,this._eventButton=i);}mousemoveWindow(e,t){const i=this._lastPoint;if(i)if(e.preventDefault(),null!=this._eventButton&&function(e,t){const i=xr[t];return void 0===e.buttons||(e.buttons&i)!==i}(e,this._eventButton))this.reset();else if(this._moved||!(t.dist(i)<this._clickTolerance))return this._moved=!0,this._lastPoint=t,this._move(i,t)}mouseupWindow(e){this._lastPoint&&f(e)===this._eventButton&&(this._moved&&d(),this.reset());}enable(){this._enabled=!0;}disable(){this._enabled=!1,this.reset();}isEnabled(){return this._enabled}isActive(){return this._active}}class br extends yr{mousedown(e,t){super.mousedown(e,t),this._lastPoint&&(this._active=!0);}_correctButton(e,t){return 0===t&&!e.ctrlKey}_move(e,t){return {around:t,panDelta:t.sub(e)}}}class wr extends yr{_correctButton(e,t){return 0===t&&e.ctrlKey||2===t}_move(e,t){const i=.8*(t.x-e.x);if(i)return this._active=!0,{bearingDelta:i}}contextmenu(e){e.preventDefault();}}class Tr extends yr{_correctButton(e,t){return 0===t&&e.ctrlKey||2===t}_move(e,t){const i=-.5*(t.y-e.y);if(i)return this._active=!0,{pitchDelta:i}}contextmenu(e){e.preventDefault();}}class Er{constructor(t,i){this._map=t,this._el=t.getCanvasContainer(),this._minTouches=1,this._clickTolerance=i.clickTolerance||1,this.reset(),e.bindAll([\"_addTouchPanBlocker\",\"_showTouchPanBlockerAlert\"],this);}reset(){this._active=!1,this._touches={},this._sum=new e.pointGeometry(0,0);}touchstart(e,t,i){return this._calculateTransform(e,t,i)}touchmove(t,i,o){if(this._active&&!(o.length<this._minTouches)){if(this._map._cooperativeGestures&&!this._map.isMoving()){if(1===o.length&&!e.isFullscreen())return void this._showTouchPanBlockerAlert();\"hidden\"!==this._alertContainer.style.visibility&&(this._alertContainer.style.visibility=\"hidden\",clearTimeout(this._alertTimer));}return t.cancelable&&t.preventDefault(),this._calculateTransform(t,i,o)}}touchend(e,t,i){this._calculateTransform(e,t,i),this._active&&i.length<this._minTouches&&this.reset();}touchcancel(){this.reset();}_calculateTransform(t,i,o){o.length>0&&(this._active=!0);const r=mr(o,i),n=new e.pointGeometry(0,0),a=new e.pointGeometry(0,0);let s=0;for(const e in r){const t=r[e],i=this._touches[e];i&&(n._add(t),a._add(t.sub(i)),s++,r[e]=t);}if(this._touches=r,s<this._minTouches||!a.mag())return;const l=a.div(s);return this._sum._add(l),this._sum.mag()<this._clickTolerance?void 0:{around:n.div(s),panDelta:l}}enable(){this._enabled=!0,this._map._cooperativeGestures&&(this._addTouchPanBlocker(),this._el.classList.add(\"mapboxgl-touch-pan-blocker-override\",\"mapboxgl-scrollable-page\"));}disable(){this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove(),this._el.classList.remove(\"mapboxgl-touch-pan-blocker-override\",\"mapboxgl-scrollable-page\")),this.reset();}isEnabled(){return !!this._enabled}isActive(){return !!this._active}_addTouchPanBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=n(\"div\",\"mapboxgl-touch-pan-blocker\",this._map._container),this._alertContainer.textContent=this._map._getUIString(\"TouchPanBlocker.Message\"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`);}_showTouchPanBlockerAlert(){this._alertContainer.style.visibility=\"visible\",this._alertContainer.classList.add(\"mapboxgl-touch-pan-blocker-show\"),this._alertContainer.setAttribute(\"role\",\"alert\"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout((()=>{this._alertContainer.classList.remove(\"mapboxgl-touch-pan-blocker-show\"),this._alertContainer.setAttribute(\"role\",\"null\");}),500);}}class Cr{constructor(){this.reset();}reset(){this._active=!1,this._firstTwoTouches=void 0;}_start(e){}_move(e,t,i){return {}}touchstart(e,t,i){this._firstTwoTouches||i.length<2||(this._firstTwoTouches=[i[0].identifier,i[1].identifier],this._start([t[0],t[1]]));}touchmove(e,t,i){const o=this._firstTwoTouches;if(!o)return;e.preventDefault();const[r,n]=o,a=Ir(i,t,r),s=Ir(i,t,n);if(!a||!s)return;const l=this._aroundCenter?null:a.add(s).div(2);return this._move([a,s],l,e)}touchend(e,t,i){if(!this._firstTwoTouches)return;const[o,r]=this._firstTwoTouches,n=Ir(i,t,o),a=Ir(i,t,r);n&&a||(this._active&&d(),this.reset());}touchcancel(){this.reset();}enable(e){this._enabled=!0,this._aroundCenter=!!e&&\"center\"===e.around;}disable(){this._enabled=!1,this.reset();}isEnabled(){return this._enabled}isActive(){return this._active}}function Ir(e,t,i){for(let o=0;o<e.length;o++)if(e[o].identifier===i)return t[o]}function Mr(e,t){return Math.log(e/t)/Math.LN2}class Sr extends Cr{reset(){super.reset(),this._distance=0,this._startDistance=0;}_start(e){this._startDistance=this._distance=e[0].dist(e[1]);}_move(e,t){const i=this._distance;if(this._distance=e[0].dist(e[1]),this._active||!(Math.abs(Mr(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Mr(this._distance,i),pinchAround:t}}}function zr(e,t){return 180*e.angleWith(t)/Math.PI}class Dr extends Cr{reset(){super.reset(),this._minDiameter=0,this._startVector=void 0,this._vector=void 0;}_start(e){this._startVector=this._vector=e[0].sub(e[1]),this._minDiameter=e[0].dist(e[1]);}_move(e,t){const i=this._vector;if(this._vector=e[0].sub(e[1]),i&&(this._active||!this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:zr(this._vector,i),pinchAround:t}}_isBelowThreshold(e){this._minDiameter=Math.min(this._minDiameter,e.mag());const t=25/(Math.PI*this._minDiameter)*360,i=this._startVector;if(!i)return !1;const o=zr(e,i);return Math.abs(o)<t}}function Ar(e){return Math.abs(e.y)>Math.abs(e.x)}class Pr extends Cr{constructor(e){super(),this._map=e;}reset(){super.reset(),this._valid=void 0,this._firstMove=void 0,this._lastPoints=void 0;}_start(e){this._lastPoints=e,Ar(e[0].sub(e[1]))&&(this._valid=!1);}_move(t,i,o){const r=this._lastPoints;if(!r)return;const n=t[0].sub(r[0]),a=t[1].sub(r[1]);return this._map._cooperativeGestures&&!e.isFullscreen()&&o.touches.length<3||(this._valid=this.gestureBeginsVertically(n,a,o.timeStamp),!this._valid)?void 0:(this._lastPoints=t,this._active=!0,{pitchDelta:(n.y+a.y)/2*-.5})}gestureBeginsVertically(e,t,i){if(void 0!==this._valid)return this._valid;const o=e.mag()>=2,r=t.mag()>=2;if(!o&&!r)return;if(!o||!r)return null==this._firstMove&&(this._firstMove=i),i-this._firstMove<100&&void 0;const n=e.y>0==t.y>0;return Ar(e)&&Ar(t)&&n}}const Lr={panStep:100,bearingStep:15,pitchStep:10};class Rr{constructor(){const e=Lr;this._panStep=e.panStep,this._bearingStep=e.bearingStep,this._pitchStep=e.pitchStep,this._rotationDisabled=!1;}blur(){this.reset();}reset(){this._active=!1;}keydown(e){if(e.altKey||e.ctrlKey||e.metaKey)return;let t=0,i=0,o=0,r=0,n=0;switch(e.keyCode){case 61:case 107:case 171:case 187:t=1;break;case 189:case 109:case 173:t=-1;break;case 37:e.shiftKey?i=-1:(e.preventDefault(),r=-1);break;case 39:e.shiftKey?i=1:(e.preventDefault(),r=1);break;case 38:e.shiftKey?o=1:(e.preventDefault(),n=-1);break;case 40:e.shiftKey?o=-1:(e.preventDefault(),n=1);break;default:return}return this._rotationDisabled&&(i=0,o=0),{cameraAnimation:a=>{const s=a.getZoom();a.easeTo({duration:300,easeId:\"keyboardHandler\",easing:Or,zoom:t?Math.round(s)+t*(e.shiftKey?2:1):s,bearing:a.getBearing()+i*this._bearingStep,pitch:a.getPitch()+o*this._pitchStep,offset:[-r*this._panStep,-n*this._panStep],center:a.getCenter()},{originalEvent:e});}}}enable(){this._enabled=!0;}disable(){this._enabled=!1,this.reset();}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0;}enableRotation(){this._rotationDisabled=!1;}}function Or(e){return e*(2-e)}const Br=4.000244140625;class kr{constructor(t,i){this._map=t,this._el=t.getCanvasContainer(),this._handler=i,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,e.bindAll([\"_onTimeout\",\"_addScrollZoomBlocker\",\"_showBlockerAlert\"],this);}setZoomRate(e){this._defaultZoomRate=e;}setWheelZoomRate(e){this._wheelZoomRate=e;}isEnabled(){return !!this._enabled}isActive(){return this._active||void 0!==this._finishTimeout}isZooming(){return !!this._zooming}enable(e){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!e&&\"center\"===e.around,this._map._cooperativeGestures&&this._addScrollZoomBlocker());}disable(){this.isEnabled()&&(this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove()));}wheel(t){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!(t.ctrlKey||t.metaKey||this.isZooming()||e.isFullscreen()))return void this._showBlockerAlert();\"hidden\"!==this._alertContainer.style.visibility&&(this._alertContainer.style.visibility=\"hidden\",clearTimeout(this._alertTimer));}let i=t.deltaMode===e.window.WheelEvent.DOM_DELTA_LINE?40*t.deltaY:t.deltaY;const o=e.exported.now(),r=o-(this._lastWheelEventTime||0);this._lastWheelEventTime=o,0!==i&&i%Br==0?this._type=\"wheel\":0!==i&&Math.abs(i)<4?this._type=\"trackpad\":r>400?(this._type=null,this._lastValue=i,this._timeout=setTimeout(this._onTimeout,40,t)):this._type||(this._type=Math.abs(r*i)<200?\"trackpad\":\"wheel\",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,i+=this._lastValue)),t.shiftKey&&i&&(i/=4),this._type&&(this._lastWheelEvent=t,this._delta-=i,this._active||this._start(t)),t.preventDefault();}_onTimeout(e){this._type=\"wheel\",this._delta-=this._lastValue,this._active||this._start(e);}_start(e){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const t=p(this._el,e);this._aroundPoint=this._aroundCenter?this._map.transform.centerPoint:t,this._aroundCoord=this._map.transform.pointCoordinate3D(this._aroundPoint),this._targetZoom=void 0,this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame());}renderFrame(){if(!this._frameId)return;if(this._frameId=null,!this.isActive())return;const t=this._map.transform;\"wheel\"===this._type&&t.projection.wrap&&(t._center.lng>=180||t._center.lng<=-180)&&(this._prevEase=null,this._easing=null,this._lastWheelEvent=null,this._lastWheelEventTime=0);const i=()=>t._terrainEnabled()&&this._aroundCoord?t.computeZoomRelativeTo(this._aroundCoord):t.zoom;if(0!==this._delta){const e=\"wheel\"===this._type&&Math.abs(this._delta)>Br?this._wheelZoomRate:this._defaultZoomRate;let o=2/(1+Math.exp(-Math.abs(this._delta*e)));this._delta<0&&0!==o&&(o=1/o);const r=i(),n=Math.pow(2,r),a=\"number\"==typeof this._targetZoom?t.zoomScale(this._targetZoom):n;this._targetZoom=Math.min(t.maxZoom,Math.max(t.minZoom,t.scaleZoom(a*o))),\"wheel\"===this._type&&(this._startZoom=r,this._easing=this._smoothOutEasing(200)),this._delta=0;}const o=\"number\"==typeof this._targetZoom?this._targetZoom:i(),r=this._startZoom,n=this._easing;let a,s=!1;if(\"wheel\"===this._type&&r&&n){const t=Math.min((e.exported.now()-this._lastWheelEventTime)/200,1),i=n(t);a=e.number(r,o,i),t<1?this._frameId||(this._frameId=!0):s=!0;}else a=o,s=!0;return this._active=!0,s&&(this._active=!1,this._finishTimeout=setTimeout((()=>{this._zooming=!1,this._handler._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout;}),200)),{noInertia:!0,needsRenderFrame:!s,zoomDelta:a-i(),around:this._aroundPoint,aroundCoord:this._aroundCoord,originalEvent:this._lastWheelEvent}}_smoothOutEasing(t){let i=e.ease;if(this._prevEase){const t=this._prevEase,o=(e.exported.now()-t.start)/t.duration,r=t.easing(o+.01)-t.easing(o),n=.27/Math.sqrt(r*r+1e-4)*.01,a=Math.sqrt(.0729-n*n);i=e.bezier(n,a,.25,1);}return this._prevEase={start:e.exported.now(),duration:t,easing:i},i}blur(){this.reset();}reset(){this._active=!1;}_addScrollZoomBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=n(\"div\",\"mapboxgl-scroll-zoom-blocker\",this._map._container),this._alertContainer.textContent=/(Mac|iPad)/i.test(e.window.navigator.userAgent)?this._map._getUIString(\"ScrollZoomBlocker.CmdMessage\"):this._map._getUIString(\"ScrollZoomBlocker.CtrlMessage\"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`);}_showBlockerAlert(){this._alertContainer.style.visibility=\"visible\",this._alertContainer.classList.add(\"mapboxgl-scroll-zoom-blocker-show\"),this._alertContainer.setAttribute(\"role\",\"alert\"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout((()=>{this._alertContainer.classList.remove(\"mapboxgl-scroll-zoom-blocker-show\"),this._alertContainer.setAttribute(\"role\",\"null\");}),200);}}class Fr{constructor(e,t){this._clickZoom=e,this._tapZoom=t;}enable(){this._clickZoom.enable(),this._tapZoom.enable();}disable(){this._clickZoom.disable(),this._tapZoom.disable();}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class Ur{constructor(){this.reset();}reset(){this._active=!1;}blur(){this.reset();}dblclick(e,t){return e.preventDefault(),{cameraAnimation:i=>{i.easeTo({duration:300,zoom:i.getZoom()+(e.shiftKey?-1:1),around:i.unproject(t)},{originalEvent:e});}}}enable(){this._enabled=!0;}disable(){this._enabled=!1,this.reset();}isEnabled(){return this._enabled}isActive(){return this._active}}class Nr{constructor(){this._tap=new gr({numTouches:1,numTaps:1}),this.reset();}reset(){this._active=!1,this._swipePoint=void 0,this._swipeTouch=0,this._tapTime=0,this._tap.reset();}touchstart(e,t,i){this._swipePoint||(this._tapTime&&e.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?i.length>0&&(this._swipePoint=t[0],this._swipeTouch=i[0].identifier):this._tap.touchstart(e,t,i));}touchmove(e,t,i){if(this._tapTime){if(this._swipePoint){if(i[0].identifier!==this._swipeTouch)return;const o=t[0],r=o.y-this._swipePoint.y;return this._swipePoint=o,e.preventDefault(),this._active=!0,{zoomDelta:r/128}}}else this._tap.touchmove(e,t,i);}touchend(e,t,i){this._tapTime?this._swipePoint&&0===i.length&&this.reset():this._tap.touchend(e,t,i)&&(this._tapTime=e.timeStamp);}touchcancel(){this.reset();}enable(){this._enabled=!0;}disable(){this._enabled=!1,this.reset();}isEnabled(){return this._enabled}isActive(){return this._active}}class Gr{constructor(e,t,i){this._el=e,this._mousePan=t,this._touchPan=i;}enable(e){this._inertiaOptions=e||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add(\"mapboxgl-touch-drag-pan\");}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove(\"mapboxgl-touch-drag-pan\");}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class jr{constructor(e,t,i){this._pitchWithRotate=e.pitchWithRotate,this._mouseRotate=t,this._mousePitch=i;}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable();}disable(){this._mouseRotate.disable(),this._mousePitch.disable();}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class Zr{constructor(e,t,i,o){this._el=e,this._touchZoom=t,this._touchRotate=i,this._tapDragZoom=o,this._rotationDisabled=!1,this._enabled=!0;}enable(e){this._touchZoom.enable(e),this._rotationDisabled||this._touchRotate.enable(e),this._tapDragZoom.enable(),this._el.classList.add(\"mapboxgl-touch-zoom-rotate\");}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove(\"mapboxgl-touch-zoom-rotate\");}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable();}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable();}}const Vr=e=>e.zoom||e.drag||e.pitch||e.rotate;class Wr extends e.Event{}class Xr{constructor(){this.constants=[1,1,.01],this.radius=0;}setup(t,i){const o=e.sub([],i,t);this.radius=e.length(o[2]<0?e.div([],o,this.constants):[o[0],o[1],0]);}projectRay(t){e.div(t,t,this.constants),e.normalize(t,t),e.mul$1(t,t,this.constants);const i=e.scale$2([],t,this.radius);if(i[2]>0){const t=e.scale$2([],[0,0,1],e.dot(i,[0,0,1])),o=e.scale$2([],e.normalize([],[i[0],i[1],0]),this.radius),r=e.add([],i,e.scale$2([],e.sub([],e.add([],o,t),i),2));i[0]=r[0],i[1]=r[1];}return i}}function qr(e){return e.panDelta&&e.panDelta.mag()||e.zoomDelta||e.bearingDelta||e.pitchDelta}class $r{constructor(t,i){this._map=t,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new ar(t),this._bearingSnap=i.bearingSnap,this._previousActiveHandlers={},this._trackingEllipsoid=new Xr,this._dragOrigin=null,this._eventsInProgress={},this._addDefaultHandlers(i),e.bindAll([\"handleEvent\",\"handleWindowEvent\"],this);const o=this._el;this._listeners=[[o,\"touchstart\",{passive:!0}],[o,\"touchmove\",{passive:!1}],[o,\"touchend\",void 0],[o,\"touchcancel\",void 0],[o,\"mousedown\",void 0],[o,\"mousemove\",void 0],[o,\"mouseup\",void 0],[e.window.document,\"mousemove\",{capture:!0}],[e.window.document,\"mouseup\",void 0],[o,\"mouseover\",void 0],[o,\"mouseout\",void 0],[o,\"dblclick\",void 0],[o,\"click\",void 0],[o,\"keydown\",{capture:!1}],[o,\"keyup\",void 0],[o,\"wheel\",{passive:!1}],[o,\"contextmenu\",void 0],[e.window,\"blur\",void 0]];for(const[t,i,o]of this._listeners)t.addEventListener(i,t===e.window.document?this.handleWindowEvent:this.handleEvent,o);}destroy(){for(const[t,i,o]of this._listeners)t.removeEventListener(i,t===e.window.document?this.handleWindowEvent:this.handleEvent,o);}_addDefaultHandlers(e){const t=this._map,i=t.getCanvasContainer();this._add(\"mapEvent\",new ur(t,e));const o=t.boxZoom=new pr(t,e);this._add(\"boxZoom\",o);const r=new vr,n=new Ur;t.doubleClickZoom=new Fr(n,r),this._add(\"tapZoom\",r),this._add(\"clickZoom\",n);const a=new Nr;this._add(\"tapDragZoom\",a);const s=t.touchPitch=new Pr(t);this._add(\"touchPitch\",s);const l=new wr(e),c=new Tr(e);t.dragRotate=new jr(e,l,c),this._add(\"mouseRotate\",l,[\"mousePitch\"]),this._add(\"mousePitch\",c,[\"mouseRotate\"]);const h=new br(e),_=new Er(t,e);t.dragPan=new Gr(i,h,_),this._add(\"mousePan\",h),this._add(\"touchPan\",_,[\"touchZoom\",\"touchRotate\"]);const u=new Dr,d=new Sr;t.touchZoomRotate=new Zr(i,d,u,a),this._add(\"touchRotate\",u,[\"touchPan\",\"touchZoom\"]),this._add(\"touchZoom\",d,[\"touchPan\",\"touchRotate\"]),this._add(\"blockableMapEvent\",new dr(t));const p=t.scrollZoom=new kr(t,this);this._add(\"scrollZoom\",p,[\"mousePan\"]);const m=t.keyboard=new Rr;this._add(\"keyboard\",m);for(const i of [\"boxZoom\",\"doubleClickZoom\",\"tapDragZoom\",\"touchPitch\",\"dragRotate\",\"dragPan\",\"touchZoomRotate\",\"scrollZoom\",\"keyboard\"])e.interactive&&e[i]&&t[i].enable(e[i]);}_add(e,t,i){this._handlers.push({handlerName:e,handler:t,allowed:i}),this._handlersById[e]=t;}stop(e){if(!this._updatingCamera){for(const{handler:e}of this._handlers)e.reset();this._inertia.clear(),this._fireEvents({},{},e),this._changes=[];}}isActive(){for(const{handler:e}of this._handlers)if(e.isActive())return !0;return !1}isZooming(){return !!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return !!this._eventsInProgress.rotate}isMoving(){return !!Vr(this._eventsInProgress)||this.isZooming()}_blockedByActive(e,t,i){for(const o in e)if(o!==i&&(!t||t.indexOf(o)<0))return !0;return !1}handleWindowEvent(e){this.handleEvent(e,`${e.type}Window`);}_getMapTouches(e){const t=[];for(const i of e)this._el.contains(i.target)&&t.push(i);return t}handleEvent(e,t){this._updatingCamera=!0;const i=\"renderFrame\"===e.type,o=i?void 0:e,r={needsRenderFrame:!1},n={},a={},s=e.touches?this._getMapTouches(e.touches):void 0,l=s?m(this._el,s):i?void 0:p(this._el,e);for(const{handlerName:i,handler:c,allowed:h}of this._handlers){if(!c.isEnabled())continue;let _;this._blockedByActive(a,h,i)?c.reset():c[t||e.type]&&(_=c[t||e.type](e,l,s),this.mergeHandlerResult(r,n,_,i,o),_&&_.needsRenderFrame&&this._triggerRenderFrame()),(_||c.isActive())&&(a[i]=c);}const c={};for(const e in this._previousActiveHandlers)a[e]||(c[e]=o);this._previousActiveHandlers=a,(Object.keys(c).length||qr(r))&&(this._changes.push([r,n,c]),this._triggerRenderFrame()),(Object.keys(a).length||qr(r))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:h}=r;h&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],h(this._map));}mergeHandlerResult(t,i,o,r,n){if(!o)return;e.extend(t,o);const a={handlerName:r,originalEvent:o.originalEvent||n};void 0!==o.zoomDelta&&(i.zoom=a),void 0!==o.panDelta&&(i.drag=a),void 0!==o.pitchDelta&&(i.pitch=a),void 0!==o.bearingDelta&&(i.rotate=a);}_applyChanges(){const t={},i={},o={};for(const[r,n,a]of this._changes)r.panDelta&&(t.panDelta=(t.panDelta||new e.pointGeometry(0,0))._add(r.panDelta)),r.zoomDelta&&(t.zoomDelta=(t.zoomDelta||0)+r.zoomDelta),r.bearingDelta&&(t.bearingDelta=(t.bearingDelta||0)+r.bearingDelta),r.pitchDelta&&(t.pitchDelta=(t.pitchDelta||0)+r.pitchDelta),void 0!==r.around&&(t.around=r.around),void 0!==r.aroundCoord&&(t.aroundCoord=r.aroundCoord),void 0!==r.pinchAround&&(t.pinchAround=r.pinchAround),r.noInertia&&(t.noInertia=r.noInertia),e.extend(i,n),e.extend(o,a);this._updateMapTransform(t,i,o),this._changes=[];}_updateMapTransform(t,i,o){const r=this._map,n=r.transform,a=e=>[e.x,e.y,e.z];if((e=>{const t=this._eventsInProgress.drag;return t&&!this._handlersById[t.handlerName].isActive()})()&&!qr(t)){const e=n.zoom;n.cameraElevationReference=\"sea\",n.recenterOnTerrain(),n.cameraElevationReference=\"ground\",e!==n.zoom&&this._map._update(!0);}if(!qr(t))return void this._fireEvents(i,o,!0);let{panDelta:s,zoomDelta:l,bearingDelta:c,pitchDelta:h,around:_,aroundCoord:u,pinchAround:d}=t;void 0!==d&&(_=d),(e=>i.drag&&!this._eventsInProgress.drag)()&&_&&(this._dragOrigin=a(n.pointCoordinate3D(_)),this._trackingEllipsoid.setup(n._camera.position,this._dragOrigin)),n.cameraElevationReference=\"sea\",r._stop(!0),_=_||r.transform.centerPoint,c&&(n.bearing+=c),h&&(n.pitch+=h),n._updateCameraState();const p=[0,0,0];if(s)if(\"mercator\"===n.projection.name){const e=this._trackingEllipsoid.projectRay(n.screenPointToMercatorRay(_).dir),t=this._trackingEllipsoid.projectRay(n.screenPointToMercatorRay(_.sub(s)).dir);p[0]=t[0]-e[0],p[1]=t[1]-e[1];}else {const t=n.pointCoordinate(_);if(\"globe\"===n.projection.name){s=s.rotate(-n.angle);const i=n._pixelsPerMercatorPixel/n.worldSize;p[0]=-s.x*e.mercatorScale(e.latFromMercatorY(t.y))*i,p[1]=-s.y*e.mercatorScale(n.center.lat)*i;}else {const e=n.pointCoordinate(_.sub(s));t&&e&&(p[0]=e.x-t.x,p[1]=e.y-t.y);}}const m=n.zoom,f=[0,0,0];if(l){const t=a(u||n.pointCoordinate3D(_)),i={dir:e.normalize([],e.sub([],t,n._camera.position))};if(i.dir[2]<0){const o=n.zoomDeltaToMovement(t,l);e.scale$2(f,i.dir,o);}}const g=e.add(p,p,f);n._translateCameraConstrained(g),l&&Math.abs(n.zoom-m)>1e-4&&n.recenterOnTerrain(),n.cameraElevationReference=\"ground\",this._map._update(),t.noInertia||this._inertia.record(t),this._fireEvents(i,o,!0);}_fireEvents(t,i,o){const r=Vr(this._eventsInProgress),n=Vr(t),a={};for(const e in t){const{originalEvent:i}=t[e];this._eventsInProgress[e]||(a[`${e}start`]=i),this._eventsInProgress[e]=t[e];}!r&&n&&this._fireEvent(\"movestart\",n.originalEvent);for(const e in a)this._fireEvent(e,a[e]);n&&this._fireEvent(\"move\",n.originalEvent);for(const e in t){const{originalEvent:i}=t[e];this._fireEvent(e,i);}const s={};let l;for(const e in this._eventsInProgress){const{handlerName:t,originalEvent:o}=this._eventsInProgress[e];this._handlersById[t].isActive()||(delete this._eventsInProgress[e],l=i[t]||o,s[`${e}end`]=l);}for(const e in s)this._fireEvent(e,s[e]);const c=Vr(this._eventsInProgress);if(o&&(r||n)&&!c){this._updatingCamera=!0;const t=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),i=e=>0!==e&&-this._bearingSnap<e&&e<this._bearingSnap;t?(i(t.bearing||this._map.getBearing())&&(t.bearing=0),this._map.easeTo(t,{originalEvent:l})):(this._map.fire(new e.Event(\"moveend\",{originalEvent:l})),i(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1;}}_fireEvent(t,i){this._map.fire(new e.Event(t,i?{originalEvent:i}:{}));}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add((e=>{this._frameId=void 0,this.handleEvent(new Wr(\"renderFrame\",{timeStamp:e})),this._applyChanges();}))}_triggerRenderFrame(){void 0===this._frameId&&(this._frameId=this._requestFrame());}}const Hr=\"map.setFreeCameraOptions(...) and map.getFreeCameraOptions() are not yet supported for non-mercator projections.\";class Yr extends e.Evented{constructor(t,i){super(),this._moving=!1,this._zooming=!1,this.transform=t,this._bearingSnap=i.bearingSnap,e.bindAll([\"_renderFrameCallback\"],this);}getCenter(){return new e.LngLat(this.transform.center.lng,this.transform.center.lat)}setCenter(e,t){return this.jumpTo({center:e},t)}panBy(t,i,o){return t=e.pointGeometry.convert(t).mult(-1),this.panTo(this.transform.center,e.extend({offset:t},i),o)}panTo(t,i,o){return this.easeTo(e.extend({center:t},i),o)}getZoom(){return this.transform.zoom}setZoom(e,t){return this.jumpTo({zoom:e},t),this}zoomTo(t,i,o){return this.easeTo(e.extend({zoom:t},i),o)}zoomIn(e,t){return this.zoomTo(this.getZoom()+1,e,t),this}zoomOut(e,t){return this.zoomTo(this.getZoom()-1,e,t),this}getBearing(){return this.transform.bearing}setBearing(e,t){return this.jumpTo({bearing:e},t),this}getPadding(){return this.transform.padding}setPadding(e,t){return this.jumpTo({padding:e},t),this}rotateTo(t,i,o){return this.easeTo(e.extend({bearing:t},i),o)}resetNorth(t,i){return this.rotateTo(0,e.extend({duration:1e3},t),i),this}resetNorthPitch(t,i){return this.easeTo(e.extend({bearing:0,pitch:0,duration:1e3},t),i),this}snapToNorth(e,t){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(e,t):this}getPitch(){return this.transform.pitch}setPitch(e,t){return this.jumpTo({pitch:e},t),this}cameraForBounds(t,i){t=e.LngLatBounds.convert(t);const o=i&&i.bearing||0,r=t.getNorthWest(),n=t.getSouthEast();return this._cameraForBounds(this.transform,r,n,o,i)}_extendCameraOptions(t){const i={top:0,bottom:0,right:0,left:0};if(\"number\"==typeof(t=e.extend({padding:i,offset:[0,0],maxZoom:this.transform.maxZoom},t)).padding){const e=t.padding;t.padding={top:e,bottom:e,right:e,left:e};}return t.padding=e.extend(i,t.padding),t}_minimumAABBFrustumDistance(e,t){const i=t.max[0]-t.min[0],o=t.max[1]-t.min[1];return i/o>e.aspect?i/(2*Math.tan(.5*e.fovX)*e.aspect):o/(2*Math.tan(.5*e.fovY)*e.aspect)}_cameraForBoundsOnGlobe(t,i,o,r,n){const a=t.clone(),s=this._extendCameraOptions(n);a.bearing=r;const l=e.LngLat.convert(i),c=e.LngLat.convert(o),h=.5*(l.lat+c.lat),_=.5*(l.lng+c.lng),u=e.latLngToECEF(h,_),d=e.normalize([],u),p=e.normalize([],e.cross([],d,[0,1,0])),m=e.cross([],p,d),f=[p[0],p[1],p[2],0,m[0],m[1],m[2],0,d[0],d[1],d[2],0,0,0,0,1],g=[u,e.latLngToECEF(l.lat,l.lng),e.latLngToECEF(c.lat,l.lng),e.latLngToECEF(c.lat,c.lng),e.latLngToECEF(l.lat,c.lng),e.latLngToECEF(h,l.lng),e.latLngToECEF(h,c.lng),e.latLngToECEF(l.lat,_),e.latLngToECEF(c.lat,_)];let v=e.Aabb.fromPoints(g.map((t=>[e.dot(p,t),e.dot(m,t),e.dot(d,t)])));const x=e.transformMat4([],v.center,f);0===e.squaredLength(x)&&e.set(x,0,0,1),e.normalize(x,x),e.scale$2(x,x,e.GLOBE_RADIUS),a.center=e.ecefToLatLng(x);const y=a.getWorldToCameraMatrix(),b=e.invert(new Float64Array(16),y);v=e.Aabb.applyTransform(v,e.multiply([],y,f)),e.transformMat4(x,x,y);const w=.5*(v.max[2]-v.min[2]),T=this._minimumAABBFrustumDistance(a,v),E=e.scale$2([],[0,0,1],w),C=e.add(E,x,E),I=T+(0===a.pitch?0:e.distance(x,C)),M=a.globeCenterInViewSpace,S=e.sub([],x,[M[0],M[1],M[2]]);e.normalize(S,S),e.scale$2(S,S,I);const z=e.add([],x,S);e.transformMat4(z,z,b);const D=e.earthRadius/e.GLOBE_RADIUS,A=e.length(z),P=e.mercatorZfromAltitude(A*D-e.earthRadius,0),L=Math.min(a.zoomFromMercatorZAdjusted(P),s.maxZoom);return L>.5*(e.GLOBE_ZOOM_THRESHOLD_MIN+e.GLOBE_ZOOM_THRESHOLD_MAX)?(a.setProjection({name:\"mercator\"}),a.zoom=L,this._cameraForBounds(a,i,o,r,n)):{center:a.center,zoom:L,bearing:r}}queryTerrainElevation(t,i){const o=this.transform.elevation;return o?(i=e.extend({},{exaggerated:!0},i),o.getAtPoint(e.MercatorCoordinate.fromLngLat(t),null,i.exaggerated)):null}_cameraForBounds(t,i,o,r,n){if(\"globe\"===t.projection.name)return this._cameraForBoundsOnGlobe(t,i,o,r,n);const a=t.clone(),s=this._extendCameraOptions(n),l=a.padding;a.bearing=r;const c=e.LngLat.convert(i),h=e.LngLat.convert(o),_=new e.LngLat(c.lng,h.lat),u=new e.LngLat(h.lng,c.lat),d=a.project(c),p=a.project(h),m=this.queryTerrainElevation(c),f=this.queryTerrainElevation(h),g=this.queryTerrainElevation(_),v=this.queryTerrainElevation(u),x=[[d.x,d.y,Math.min(m||0,f||0,g||0,v||0)],[p.x,p.y,Math.max(m||0,f||0,g||0,v||0)]];let y=e.Aabb.fromPoints(x);const b=a.getWorldToCameraMatrix(),w=e.invert(new Float64Array(16),b);y=e.Aabb.applyTransform(y,b);const T=e.sub([],y.max,y.min),E=l.left||0,C=l.right||0,I=l.bottom||0,M=l.top||0,{left:S,right:z,top:D,bottom:A}=s.padding,P=.5*(E+C),L=.5*(M+I),R=Math.min(a.scaleZoom(a.scale*Math.min((a.width-(E+C+S+z))/T[0],(a.height-(I+M+A+D))/T[1])),s.maxZoom),O=a.scale/a.zoomScale(R);y=new e.Aabb([y.min[0]-(S+P)*O,y.min[1]-(A+L)*O,y.min[2]],[y.max[0]+(z+P)*O,y.max[1]+(D+L)*O,y.max[2]]);const B=.5*T[2],k=this._minimumAABBFrustumDistance(a,y),F=[0,0,1,0];e.transformMat4$1(F,F,b),e.normalize$2(F,F);const U=e.scale$2([],F,k+B),N=e.add([],y.center,U),G=(\"number\"==typeof s.offset.x&&\"number\"==typeof s.offset.y?new e.pointGeometry(s.offset.x,s.offset.y):e.pointGeometry.convert(s.offset)).rotate(-e.degToRad(r));y.center[0]-=G.x*O,y.center[1]+=G.y*O,e.transformMat4(y.center,y.center,w),e.transformMat4(N,N,w);const j=[y.center[0],y.center[1],N[2]*a.pixelsPerMeter];e.scale$2(j,j,1/a.worldSize);const Z=e.lngFromMercatorX(j[0]),V=e.latFromMercatorY(j[1]),W=Math.min(a._zoomFromMercatorZ(j[2]),s.maxZoom),X=new e.LngLat(Z,V);return a.mercatorFromTransition&&W<.5*(e.GLOBE_ZOOM_THRESHOLD_MIN+e.GLOBE_ZOOM_THRESHOLD_MAX)?(a.setProjection({name:\"globe\"}),a.zoom=W,this._cameraForBounds(a,i,o,r,n)):{center:X,zoom:W,bearing:r}}fitBounds(e,t,i){const o=this.cameraForBounds(e,t);return this._fitInternal(o,t,i)}fitScreenCoordinates(t,i,o,r,n){const a=e.pointGeometry.convert(t),s=e.pointGeometry.convert(i),l=new e.pointGeometry(Math.min(a.x,s.x),Math.min(a.y,s.y)),c=new e.pointGeometry(Math.max(a.x,s.x),Math.max(a.y,s.y));if(\"mercator\"===this.transform.projection.name&&this.transform.anyCornerOffEdge(a,s))return this;const h=this.transform.pointLocation3D(l),_=this.transform.pointLocation3D(c),u=this.transform.pointLocation3D(new e.pointGeometry(l.x,c.y)),d=this.transform.pointLocation3D(new e.pointGeometry(c.x,l.y)),p=[Math.min(h.lng,_.lng,u.lng,d.lng),Math.min(h.lat,_.lat,u.lat,d.lat)],m=[Math.max(h.lng,_.lng,u.lng,d.lng),Math.max(h.lat,_.lat,u.lat,d.lat)],f=this._cameraForBounds(this.transform,p,m,o,r);return this._fitInternal(f,r,n)}_fitInternal(t,i,o){return t?(delete(i=e.extend(t,i)).padding,i.linear?this.easeTo(i,o):this.flyTo(i,o)):this}jumpTo(t,i){this.stop();const o=t.preloadOnly?this.transform.clone():this.transform;let r=!1,n=!1,a=!1;return \"zoom\"in t&&o.zoom!==+t.zoom&&(r=!0,o.zoom=+t.zoom),void 0!==t.center&&(o.center=e.LngLat.convert(t.center)),\"bearing\"in t&&o.bearing!==+t.bearing&&(n=!0,o.bearing=+t.bearing),\"pitch\"in t&&o.pitch!==+t.pitch&&(a=!0,o.pitch=+t.pitch),null==t.padding||o.isPaddingEqual(t.padding)||(o.padding=t.padding),t.preloadOnly?(this._preloadTiles(o),this):(this.fire(new e.Event(\"movestart\",i)).fire(new e.Event(\"move\",i)),r&&this.fire(new e.Event(\"zoomstart\",i)).fire(new e.Event(\"zoom\",i)).fire(new e.Event(\"zoomend\",i)),n&&this.fire(new e.Event(\"rotatestart\",i)).fire(new e.Event(\"rotate\",i)).fire(new e.Event(\"rotateend\",i)),a&&this.fire(new e.Event(\"pitchstart\",i)).fire(new e.Event(\"pitch\",i)).fire(new e.Event(\"pitchend\",i)),this.fire(new e.Event(\"moveend\",i)))}getFreeCameraOptions(){return this.transform.projection.supportsFreeCamera||e.warnOnce(Hr),this.transform.getFreeCameraOptions()}setFreeCameraOptions(t,i){const o=this.transform;if(!o.projection.supportsFreeCamera)return e.warnOnce(Hr),this;this.stop();const r=o.zoom,n=o.pitch,a=o.bearing;o.setFreeCameraOptions(t);const s=r!==o.zoom,l=n!==o.pitch,c=a!==o.bearing;return this.fire(new e.Event(\"movestart\",i)).fire(new e.Event(\"move\",i)),s&&this.fire(new e.Event(\"zoomstart\",i)).fire(new e.Event(\"zoom\",i)).fire(new e.Event(\"zoomend\",i)),c&&this.fire(new e.Event(\"rotatestart\",i)).fire(new e.Event(\"rotate\",i)).fire(new e.Event(\"rotateend\",i)),l&&this.fire(new e.Event(\"pitchstart\",i)).fire(new e.Event(\"pitch\",i)).fire(new e.Event(\"pitchend\",i)),this.fire(new e.Event(\"moveend\",i)),this}easeTo(t,i){this._stop(!1,t.easeId),(!1===(t=e.extend({offset:[0,0],duration:500,easing:e.ease},t)).animate||!t.essential&&e.exported.prefersReducedMotion)&&(t.duration=0);const o=this.transform,r=this.getZoom(),n=this.getBearing(),a=this.getPitch(),s=this.getPadding(),l=\"zoom\"in t?+t.zoom:r,c=\"bearing\"in t?this._normalizeBearing(t.bearing,n):n,h=\"pitch\"in t?+t.pitch:a,_=\"padding\"in t?t.padding:o.padding,u=e.pointGeometry.convert(t.offset);let d,p,m;if(\"globe\"===o.projection.name){const i=e.MercatorCoordinate.fromLngLat(o.center),r=u.rotate(-o.angle);i.x+=r.x/o.worldSize,i.y+=r.y/o.worldSize;const n=i.toLngLat(),a=e.LngLat.convert(t.center||n);this._normalizeCenter(a),d=o.centerPoint.add(r),p=new e.pointGeometry(i.x,i.y).mult(o.worldSize),m=new e.pointGeometry(e.mercatorXfromLng(a.lng),e.mercatorYfromLat(a.lat)).mult(o.worldSize).sub(p);}else {d=o.centerPoint.add(u);const i=o.pointLocation(d),r=e.LngLat.convert(t.center||i);this._normalizeCenter(r),p=o.project(i),m=o.project(r).sub(p);}const f=o.zoomScale(l-r);let g,v;t.around&&(g=e.LngLat.convert(t.around),v=o.locationPoint(g));const x=this._zooming||l!==r,y=this._rotating||n!==c,b=this._pitching||h!==a,w=!o.isPaddingEqual(_),T=o=>T=>{if(x&&(o.zoom=e.number(r,l,T)),y&&(o.bearing=e.number(n,c,T)),b&&(o.pitch=e.number(a,h,T)),w&&(o.interpolatePadding(s,_,T),d=o.centerPoint.add(u)),g)o.setLocationAtPoint(g,v);else {const e=o.zoomScale(o.zoom-r),t=l>r?Math.min(2,f):Math.max(.5,f),i=Math.pow(t,1-T),n=o.unproject(p.add(m.mult(T*i)).mult(e));o.setLocationAtPoint(o.renderWorldCopies?n.wrap():n,d);}return t.preloadOnly||this._fireMoveEvents(i),o};if(t.preloadOnly){const e=this._emulate(T,t.duration,o);return this._preloadTiles(e),this}const E={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=x,this._rotating=y,this._pitching=b,this._padding=w,this._easeId=t.easeId,this._prepareEase(i,t.noMoveStart,E),this._ease(T(o),(e=>{o.recenterOnTerrain(),this._afterEase(i,e);}),t),this}_prepareEase(t,i,o={}){this._moving=!0,this.transform.cameraElevationReference=\"sea\",i||o.moving||this.fire(new e.Event(\"movestart\",t)),this._zooming&&!o.zooming&&this.fire(new e.Event(\"zoomstart\",t)),this._rotating&&!o.rotating&&this.fire(new e.Event(\"rotatestart\",t)),this._pitching&&!o.pitching&&this.fire(new e.Event(\"pitchstart\",t));}_fireMoveEvents(t){this.fire(new e.Event(\"move\",t)),this._zooming&&this.fire(new e.Event(\"zoom\",t)),this._rotating&&this.fire(new e.Event(\"rotate\",t)),this._pitching&&this.fire(new e.Event(\"pitch\",t));}_afterEase(t,i){if(this._easeId&&i&&this._easeId===i)return;this._easeId=void 0,this.transform.cameraElevationReference=\"ground\";const o=this._zooming,r=this._rotating,n=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,o&&this.fire(new e.Event(\"zoomend\",t)),r&&this.fire(new e.Event(\"rotateend\",t)),n&&this.fire(new e.Event(\"pitchend\",t)),this.fire(new e.Event(\"moveend\",t));}flyTo(t,i){if(!t.essential&&e.exported.prefersReducedMotion){const o=e.pick(t,[\"center\",\"zoom\",\"bearing\",\"pitch\",\"around\"]);return this.jumpTo(o,i)}this.stop(),t=e.extend({offset:[0,0],speed:1.2,curve:1.42,easing:e.ease},t);const o=this.transform,r=this.getZoom(),n=this.getBearing(),a=this.getPitch(),s=this.getPadding(),l=\"zoom\"in t?e.clamp(+t.zoom,o.minZoom,o.maxZoom):r,c=\"bearing\"in t?this._normalizeBearing(t.bearing,n):n,h=\"pitch\"in t?+t.pitch:a,_=\"padding\"in t?t.padding:o.padding,u=o.zoomScale(l-r),d=e.pointGeometry.convert(t.offset);let p=o.centerPoint.add(d);const m=o.pointLocation(p),f=e.LngLat.convert(t.center||m);this._normalizeCenter(f);const g=o.project(m),v=o.project(f).sub(g);let x=t.curve;const y=Math.max(o.width,o.height),b=y/u,w=v.mag();if(\"minZoom\"in t){const i=e.clamp(Math.min(t.minZoom,r,l),o.minZoom,o.maxZoom),n=y/o.zoomScale(i-r);x=Math.sqrt(n/w*2);}const T=x*x;function E(e){const t=(b*b-y*y+(e?-1:1)*T*T*w*w)/(2*(e?b:y)*T*w);return Math.log(Math.sqrt(t*t+1)-t)}function C(e){return (Math.exp(e)-Math.exp(-e))/2}function I(e){return (Math.exp(e)+Math.exp(-e))/2}const M=E(0);let S=function(e){return I(M)/I(M+x*e)},z=function(e){return y*((I(M)*(C(t=M+x*e)/I(t))-C(M))/T)/w;var t;},D=(E(1)-M)/x;if(Math.abs(w)<1e-6||!isFinite(D)){if(Math.abs(y-b)<1e-6)return this.easeTo(t,i);const e=b<y?-1:1;D=Math.abs(Math.log(b/y))/x,z=function(){return 0},S=function(t){return Math.exp(e*x*t)};}t.duration=\"duration\"in t?+t.duration:1e3*D/(\"screenSpeed\"in t?+t.screenSpeed/x:+t.speed),t.maxDuration&&t.duration>t.maxDuration&&(t.duration=0);const A=n!==c,P=h!==a,L=!o.isPaddingEqual(_),R=o=>u=>{const m=u*D,x=1/S(m);o.zoom=1===u?l:r+o.scaleZoom(x),A&&(o.bearing=e.number(n,c,u)),P&&(o.pitch=e.number(a,h,u)),L&&(o.interpolatePadding(s,_,u),p=o.centerPoint.add(d));const y=1===u?f:o.unproject(g.add(v.mult(z(m))).mult(x));return o.setLocationAtPoint(o.renderWorldCopies?y.wrap():y,p),o._updateCameraOnTerrain(),t.preloadOnly||this._fireMoveEvents(i),o};if(t.preloadOnly){const e=this._emulate(R,t.duration,o);return this._preloadTiles(e),this}return this._zooming=!0,this._rotating=A,this._pitching=P,this._padding=L,this._prepareEase(i,!1),this._ease(R(o),(()=>this._afterEase(i)),t),this}isEasing(){return !!this._easeFrameId}stop(){return this._stop()}_stop(e,t){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),this._easeFrameId=void 0,this._onEaseFrame=void 0),this._onEaseEnd){const e=this._onEaseEnd;this._onEaseEnd=void 0,e.call(this,t);}if(!e){const e=this.handlers;e&&e.stop(!1);}return this}_ease(t,i,o){!1===o.animate||0===o.duration?(t(1),i()):(this._easeStart=e.exported.now(),this._easeOptions=o,this._onEaseFrame=t,this._onEaseEnd=i,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback));}_renderFrameCallback(){const t=Math.min((e.exported.now()-this._easeStart)/this._easeOptions.duration,1),i=this._onEaseFrame;i&&i(this._easeOptions.easing(t)),t<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop();}_normalizeBearing(t,i){t=e.wrap(t,-180,180);const o=Math.abs(t-i);return Math.abs(t-360-i)<o&&(t-=360),Math.abs(t+360-i)<o&&(t+=360),t}_normalizeCenter(e){const t=this.transform;if(!t.renderWorldCopies||t.maxBounds)return;const i=e.lng-t.center.lng;e.lng+=i>180?-360:i<-180?360:0;}_emulate(e,t,i){const o=Math.ceil(15*t/1e3),r=[],n=e(i.clone());for(let e=0;e<=o;e++){const t=n(e/o);r.push(t.clone());}return r}}class Kr{constructor(t={}){this.options=t,e.bindAll([\"_toggleAttribution\",\"_updateEditLink\",\"_updateData\",\"_updateCompact\"],this);}getDefaultPosition(){return \"bottom-right\"}onAdd(e){const t=this.options&&this.options.compact;return this._map=e,this._container=n(\"div\",\"mapboxgl-ctrl mapboxgl-ctrl-attrib\"),this._compactButton=n(\"button\",\"mapboxgl-ctrl-attrib-button\",this._container),n(\"span\",\"mapboxgl-ctrl-icon\",this._compactButton).setAttribute(\"aria-hidden\",\"true\"),this._compactButton.type=\"button\",this._compactButton.addEventListener(\"click\",this._toggleAttribution),this._setElementTitle(this._compactButton,\"ToggleAttribution\"),this._innerContainer=n(\"div\",\"mapboxgl-ctrl-attrib-inner\",this._container),this._innerContainer.setAttribute(\"role\",\"list\"),t&&this._container.classList.add(\"mapboxgl-compact\"),this._updateAttributions(),this._updateEditLink(),this._map.on(\"styledata\",this._updateData),this._map.on(\"sourcedata\",this._updateData),this._map.on(\"moveend\",this._updateEditLink),void 0===t&&(this._map.on(\"resize\",this._updateCompact),this._updateCompact()),this._container}onRemove(){this._container.remove(),this._map.off(\"styledata\",this._updateData),this._map.off(\"sourcedata\",this._updateData),this._map.off(\"moveend\",this._updateEditLink),this._map.off(\"resize\",this._updateCompact),this._map=void 0,this._attribHTML=void 0;}_setElementTitle(e,t){const i=this._map._getUIString(`AttributionControl.${t}`);e.setAttribute(\"aria-label\",i),e.removeAttribute(\"title\"),e.firstElementChild&&e.firstElementChild.setAttribute(\"title\",i);}_toggleAttribution(){this._container.classList.contains(\"mapboxgl-compact-show\")?(this._container.classList.remove(\"mapboxgl-compact-show\"),this._compactButton.setAttribute(\"aria-expanded\",\"false\")):(this._container.classList.add(\"mapboxgl-compact-show\"),this._compactButton.setAttribute(\"aria-expanded\",\"true\"));}_updateEditLink(){let t=this._editLink;t||(t=this._editLink=this._container.querySelector(\".mapbox-improve-map\"));const i=[{key:\"owner\",value:this.styleOwner},{key:\"id\",value:this.styleId},{key:\"access_token\",value:this._map._requestManager._customAccessToken||e.config.ACCESS_TOKEN}];if(t){const o=i.reduce(((e,t,o)=>(t.value&&(e+=`${t.key}=${t.value}${o<i.length-1?\"&\":\"\"}`),e)),\"?\");t.href=`${e.config.FEEDBACK_URL}/${o}#${er(this._map,!0)}`,t.rel=\"noopener nofollow\",this._setElementTitle(t,\"MapFeedback\");}}_updateData(e){!e||\"metadata\"!==e.sourceDataType&&\"visibility\"!==e.sourceDataType&&\"style\"!==e.dataType||(this._updateAttributions(),this._updateEditLink());}_updateAttributions(){if(!this._map.style)return;let e=[];if(this._map.style.stylesheet){const e=this._map.style.stylesheet;this.styleOwner=e.owner,this.styleId=e.id;}const t=this._map.style._sourceCaches;for(const i in t){const o=t[i];if(o.used){const t=o.getSource();t.attribution&&e.indexOf(t.attribution)<0&&e.push(t.attribution);}}e.sort(((e,t)=>e.length-t.length)),e=e.filter(((t,i)=>{for(let o=i+1;o<e.length;o++)if(e[o].indexOf(t)>=0)return !1;return !0})),this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?e=[...this.options.customAttribution,...e]:e.unshift(this.options.customAttribution));const i=e.join(\" | \");i!==this._attribHTML&&(this._attribHTML=i,e.length?(this._innerContainer.innerHTML=i,this._container.classList.remove(\"mapboxgl-attrib-empty\")):this._container.classList.add(\"mapboxgl-attrib-empty\"),this._editLink=null);}_updateCompact(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add(\"mapboxgl-compact\"):this._container.classList.remove(\"mapboxgl-compact\",\"mapboxgl-compact-show\");}}class Jr{constructor(){e.bindAll([\"_updateLogo\",\"_updateCompact\"],this);}onAdd(e){this._map=e,this._container=n(\"div\",\"mapboxgl-ctrl\");const t=n(\"a\",\"mapboxgl-ctrl-logo\");return t.target=\"_blank\",t.rel=\"noopener nofollow\",t.href=\"https://www.mapbox.com/\",t.setAttribute(\"aria-label\",this._map._getUIString(\"LogoControl.Title\")),t.setAttribute(\"rel\",\"noopener nofollow\"),this._container.appendChild(t),this._container.style.display=\"none\",this._map.on(\"sourcedata\",this._updateLogo),this._updateLogo(),this._map.on(\"resize\",this._updateCompact),this._updateCompact(),this._container}onRemove(){this._container.remove(),this._map.off(\"sourcedata\",this._updateLogo),this._map.off(\"resize\",this._updateCompact);}getDefaultPosition(){return \"bottom-left\"}_updateLogo(e){e&&\"metadata\"!==e.sourceDataType||(this._container.style.display=this._logoRequired()?\"block\":\"none\");}_logoRequired(){if(!this._map.style)return !0;const e=this._map.style._sourceCaches;if(0===Object.entries(e).length)return !0;for(const t in e){const i=e[t].getSource();if(i.hasOwnProperty(\"mapbox_logo\")&&!i.mapbox_logo)return !1}return !0}_updateCompact(){const e=this._container.children;if(e.length){const t=e[0];this._map.getCanvasContainer().offsetWidth<250?t.classList.add(\"mapboxgl-compact\"):t.classList.remove(\"mapboxgl-compact\");}}}class Qr{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1;}add(e){const t=++this._id;return this._queue.push({callback:e,id:t,cancelled:!1}),t}remove(e){const t=this._currentlyRunning,i=t?this._queue.concat(t):this._queue;for(const t of i)if(t.id===e)return void(t.cancelled=!0)}run(e=0){const t=this._currentlyRunning=this._queue;this._queue=[];for(const i of t)if(!i.cancelled&&(i.callback(e),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1;}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[];}}function en(t,i,o){if(t=new e.LngLat(t.lng,t.lat),i){const r=new e.LngLat(t.lng-360,t.lat),n=new e.LngLat(t.lng+360,t.lat),a=360*Math.ceil(Math.abs(t.lng-o.center.lng)/360),s=o.locationPoint(t).distSqr(i),l=i.x<0||i.y<0||i.x>o.width||i.y>o.height;o.locationPoint(r).distSqr(i)<s&&(l||Math.abs(r.lng-o.center.lng)<a)?t=r:o.locationPoint(n).distSqr(i)<s&&(l||Math.abs(n.lng-o.center.lng)<a)&&(t=n);}for(;Math.abs(t.lng-o.center.lng)>180;){const e=o.locationPoint(t);if(e.x>=0&&e.y>=0&&e.x<=o.width&&e.y<=o.height)break;t.lng>o.center.lng?t.lng-=360:t.lng+=360;}return t}const tn={center:\"translate(-50%,-50%)\",top:\"translate(-50%,0)\",\"top-left\":\"translate(0,0)\",\"top-right\":\"translate(-100%,0)\",bottom:\"translate(-50%,-100%)\",\"bottom-left\":\"translate(0,-100%)\",\"bottom-right\":\"translate(-100%,-100%)\",left:\"translate(0,-50%)\",right:\"translate(-100%,-50%)\"};class on extends e.Evented{constructor(t,i){if(super(),(t instanceof e.window.HTMLElement||i)&&(t=e.extend({element:t},i)),e.bindAll([\"_update\",\"_onMove\",\"_onUp\",\"_addDragHandler\",\"_onMapClick\",\"_onKeyPress\",\"_clearFadeTimer\"],this),this._anchor=t&&t.anchor||\"center\",this._color=t&&t.color||\"#3FB1CE\",this._scale=t&&t.scale||1,this._draggable=t&&t.draggable||!1,this._clickTolerance=t&&t.clickTolerance||0,this._isDragging=!1,this._state=\"inactive\",this._rotation=t&&t.rotation||0,this._rotationAlignment=t&&t.rotationAlignment||\"auto\",this._pitchAlignment=t&&t.pitchAlignment&&t.pitchAlignment||\"auto\",this._updateMoving=()=>this._update(!0),this._occludedOpacity=t&&t.occludedOpacity||.2,t&&t.element)this._element=t.element,this._offset=e.pointGeometry.convert(t&&t.offset||[0,0]);else {this._defaultMarker=!0,this._element=n(\"div\");const i=41,o=27,r=a(\"svg\",{display:\"block\",height:i*this._scale+\"px\",width:o*this._scale+\"px\",viewBox:`0 0 ${o} ${i}`},this._element),s=a(\"radialGradient\",{id:\"shadowGradient\"},a(\"defs\",{},r));a(\"stop\",{offset:\"10%\",\"stop-opacity\":.4},s),a(\"stop\",{offset:\"100%\",\"stop-opacity\":.05},s),a(\"ellipse\",{cx:13.5,cy:34.8,rx:10.5,ry:5.25,fill:\"url(#shadowGradient)\"},r),a(\"path\",{fill:this._color,d:\"M27,13.5C27,19.07 20.25,27 14.75,34.5C14.02,35.5 12.98,35.5 12.25,34.5C6.75,27 0,19.22 0,13.5C0,6.04 6.04,0 13.5,0C20.96,0 27,6.04 27,13.5Z\"},r),a(\"path\",{opacity:.25,d:\"M13.5,0C6.04,0 0,6.04 0,13.5C0,19.22 6.75,27 12.25,34.5C13,35.52 14.02,35.5 14.75,34.5C20.25,27 27,19.07 27,13.5C27,6.04 20.96,0 13.5,0ZM13.5,1C20.42,1 26,6.58 26,13.5C26,15.9 24.5,19.18 22.22,22.74C19.95,26.3 16.71,30.14 13.94,33.91C13.74,34.18 13.61,34.32 13.5,34.44C13.39,34.32 13.26,34.18 13.06,33.91C10.28,30.13 7.41,26.31 5.02,22.77C2.62,19.23 1,15.95 1,13.5C1,6.58 6.58,1 13.5,1Z\"},r),a(\"circle\",{fill:\"white\",cx:13.5,cy:13.5,r:5.5},r),this._offset=e.pointGeometry.convert(t&&t.offset||[0,-14]);}this._element.hasAttribute(\"aria-label\")||this._element.setAttribute(\"aria-label\",\"Map marker\"),this._element.classList.add(\"mapboxgl-marker\"),this._element.addEventListener(\"dragstart\",(e=>{e.preventDefault();})),this._element.addEventListener(\"mousedown\",(e=>{e.preventDefault();}));const o=this._element.classList;for(const e in tn)o.remove(`mapboxgl-marker-anchor-${e}`);o.add(`mapboxgl-marker-anchor-${this._anchor}`),this._popup=null;}addTo(e){return e===this._map||(this.remove(),this._map=e,e.getCanvasContainer().appendChild(this._element),e.on(\"move\",this._updateMoving),e.on(\"moveend\",this._update),e.on(\"remove\",this._clearFadeTimer),e._addMarker(this),this.setDraggable(this._draggable),this._update(),e.on(\"click\",this._onMapClick)),this}remove(){const e=this._map;return e&&(e.off(\"click\",this._onMapClick),e.off(\"move\",this._updateMoving),e.off(\"moveend\",this._update),e.off(\"mousedown\",this._addDragHandler),e.off(\"touchstart\",this._addDragHandler),e.off(\"mouseup\",this._onUp),e.off(\"touchend\",this._onUp),e.off(\"mousemove\",this._onMove),e.off(\"touchmove\",this._onMove),e.off(\"remove\",this._clearFadeTimer),e._removeMarker(this),this._map=void 0),this._clearFadeTimer(),this._element.remove(),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(t){return this._lngLat=e.LngLat.convert(t),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(!0),this}getElement(){return this._element}setPopup(e){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeAttribute(\"role\"),this._element.removeEventListener(\"keypress\",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute(\"tabindex\")),e){if(!(\"offset\"in e.options)){const t=38.1,i=13.5,o=Math.sqrt(Math.pow(i,2)/2);e.options.offset=this._defaultMarker?{top:[0,0],\"top-left\":[0,0],\"top-right\":[0,0],bottom:[0,-t],\"bottom-left\":[o,-1*(t-i+o)],\"bottom-right\":[-o,-1*(t-i+o)],left:[i,-1*(t-i)],right:[-i,-1*(t-i)]}:this._offset;}this._popup=e,e._marker=this,this._lngLat&&this._popup.setLngLat(this._lngLat),this._element.setAttribute(\"role\",\"button\"),this._originalTabIndex=this._element.getAttribute(\"tabindex\"),this._originalTabIndex||this._element.setAttribute(\"tabindex\",\"0\"),this._element.addEventListener(\"keypress\",this._onKeyPress),this._element.setAttribute(\"aria-expanded\",\"false\");}return this}_onKeyPress(e){const t=e.code,i=e.charCode||e.keyCode;\"Space\"!==t&&\"Enter\"!==t&&32!==i&&13!==i||this.togglePopup();}_onMapClick(e){const t=e.originalEvent.target,i=this._element;this._popup&&(t===i||i.contains(t))&&this.togglePopup();}getPopup(){return this._popup}togglePopup(){const e=this._popup;return e?(e.isOpen()?(e.remove(),this._element.setAttribute(\"aria-expanded\",\"false\")):this._map&&(e.addTo(this._map),this._element.setAttribute(\"aria-expanded\",\"true\")),this):this}_behindTerrain(){const e=this._map,t=this._pos;if(!e||!t)return !1;const i=e.unproject(t),o=e.getFreeCameraOptions();if(!o.position)return !1;const r=o.position.toLngLat();return r.distanceTo(i)<.9*r.distanceTo(this._lngLat)}_evaluateOpacity(){const t=this._map;if(!t)return;const i=this._pos;if(!i||i.x<0||i.x>t.transform.width||i.y<0||i.y>t.transform.height)return void this._clearFadeTimer();const o=t.unproject(i);let r;t._showingGlobe()&&e.isLngLatBehindGlobe(t.transform,this._lngLat)?r=0:(r=1-t._queryFogOpacity(o),t.transform._terrainEnabled()&&t.getTerrain()&&this._behindTerrain()&&(r*=this._occludedOpacity)),this._element.style.opacity=`${r}`,this._element.style.pointerEvents=r>0?\"auto\":\"none\",this._popup&&this._popup._setOpacity(r),this._fadeTimer=null;}_clearFadeTimer(){this._fadeTimer&&(clearTimeout(this._fadeTimer),this._fadeTimer=null);}_updateDOM(){const e=this._pos;if(!e||!this._map)return;const t=this._offset.mult(this._scale);this._element.style.transform=`\\n            translate(${e.x}px,${e.y}px)\\n            ${tn[this._anchor]}\\n            ${this._calculateXYTransform()} ${this._calculateZTransform()}\\n            translate(${t.x}px,${t.y}px)\\n        `;}_calculateXYTransform(){const t=this._pos,i=this._map,o=this.getPitchAlignment();if(!i||!t||\"map\"!==o)return \"\";if(!i._showingGlobe()){const e=i.getPitch();return e?`rotateX(${e}deg)`:\"\"}const r=e.radToDeg(e.globeTiltAtLngLat(i.transform,this._lngLat)),n=t.sub(e.globeCenterToScreenPoint(i.transform)),a=Math.abs(n.x)+Math.abs(n.y);if(0===a)return \"\";const s=r/a;return `rotateX(${-n.y*s}deg) rotateY(${n.x*s}deg)`}_calculateZTransform(){const t=this._pos,i=this._map;if(!i||!t)return \"\";let o=0;const r=this.getRotationAlignment();if(\"map\"===r)if(i._showingGlobe()){const t=i.project(new e.LngLat(this._lngLat.lng,this._lngLat.lat+.001)),r=i.project(new e.LngLat(this._lngLat.lng,this._lngLat.lat-.001)).sub(t);o=e.radToDeg(Math.atan2(r.y,r.x))-90;}else o=-i.getBearing();else if(\"horizon\"===r){const r=e.smoothstep(4,6,i.getZoom()),n=e.globeCenterToScreenPoint(i.transform);n.y+=r*i.transform.height;const a=t.sub(n),s=e.radToDeg(Math.atan2(a.y,a.x));o=(s>90?s-270:s+90)*(1-r);}return o+=this._rotation,o?`rotateZ(${o}deg)`:\"\"}_update(t){e.window.cancelAnimationFrame(this._updateFrameId);const i=this._map;i&&(i.transform.renderWorldCopies&&(this._lngLat=en(this._lngLat,this._pos,i.transform)),this._pos=i.project(this._lngLat),!0===t?this._updateFrameId=e.window.requestAnimationFrame((()=>{this._element&&this._pos&&this._anchor&&(this._pos=this._pos.round(),this._updateDOM());})):this._pos=this._pos.round(),i._requestDomTask((()=>{this._map&&(this._element&&this._pos&&this._anchor&&this._updateDOM(),(i._showingGlobe()||i.getTerrain()||i.getFog())&&!this._fadeTimer&&(this._fadeTimer=setTimeout(this._evaluateOpacity.bind(this),60)));})));}getOffset(){return this._offset}setOffset(t){return this._offset=e.pointGeometry.convert(t),this._update(),this}_onMove(t){const i=this._map;if(!i)return;const o=this._pointerdownPos,r=this._positionDelta;if(o&&r){if(!this._isDragging){const e=this._clickTolerance||i._clickTolerance;if(t.point.dist(o)<e)return;this._isDragging=!0;}this._pos=t.point.sub(r),this._lngLat=i.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents=\"none\",\"pending\"===this._state&&(this._state=\"active\",this.fire(new e.Event(\"dragstart\"))),this.fire(new e.Event(\"drag\"));}}_onUp(){this._element.style.pointerEvents=\"auto\",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1;const t=this._map;t&&(t.off(\"mousemove\",this._onMove),t.off(\"touchmove\",this._onMove)),\"active\"===this._state&&this.fire(new e.Event(\"dragend\")),this._state=\"inactive\";}_addDragHandler(e){const t=this._map,i=this._pos;t&&i&&this._element.contains(e.originalEvent.target)&&(e.preventDefault(),this._positionDelta=e.point.sub(i),this._pointerdownPos=e.point,this._state=\"pending\",t.on(\"mousemove\",this._onMove),t.on(\"touchmove\",this._onMove),t.once(\"mouseup\",this._onUp),t.once(\"touchend\",this._onUp));}setDraggable(e){this._draggable=!!e;const t=this._map;return t&&(e?(t.on(\"mousedown\",this._addDragHandler),t.on(\"touchstart\",this._addDragHandler)):(t.off(\"mousedown\",this._addDragHandler),t.off(\"touchstart\",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(e){return this._rotation=e||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(e){return this._rotationAlignment=e||\"auto\",this._update(),this}getRotationAlignment(){return \"auto\"===this._rotationAlignment||\"horizon\"===this._rotationAlignment&&this._map&&!this._map._showingGlobe()?\"viewport\":this._rotationAlignment}setPitchAlignment(e){return this._pitchAlignment=e||\"auto\",this._update(),this}getPitchAlignment(){return \"auto\"===this._pitchAlignment?this.getRotationAlignment():this._pitchAlignment}setOccludedOpacity(e){return this._occludedOpacity=e||.2,this._update(),this}getOccludedOpacity(){return this._occludedOpacity}}const rn={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:\"\",maxWidth:\"240px\"},nn=[\"a[href]\",\"[tabindex]:not([tabindex='-1'])\",\"[contenteditable]:not([contenteditable='false'])\",\"button:not([disabled])\",\"input:not([disabled])\",\"select:not([disabled])\",\"textarea:not([disabled])\"].join(\", \");function an(t=new e.pointGeometry(0,0),i=\"bottom\"){if(\"number\"==typeof t){const o=Math.round(Math.sqrt(.5*Math.pow(t,2)));switch(i){case\"top\":return new e.pointGeometry(0,t);case\"top-left\":return new e.pointGeometry(o,o);case\"top-right\":return new e.pointGeometry(-o,o);case\"bottom\":return new e.pointGeometry(0,-t);case\"bottom-left\":return new e.pointGeometry(o,-o);case\"bottom-right\":return new e.pointGeometry(-o,-o);case\"left\":return new e.pointGeometry(t,0);case\"right\":return new e.pointGeometry(-t,0)}return new e.pointGeometry(0,0)}return t instanceof e.pointGeometry||Array.isArray(t)?e.pointGeometry.convert(t):e.pointGeometry.convert(t[i]||[0,0])}class sn{constructor(e){this.jumpTo(e);}getValue(t){if(t<=this._startTime)return this._start;if(t>=this._endTime)return this._end;const i=e.easeCubicInOut((t-this._startTime)/(this._endTime-this._startTime));return this._start*(1-i)+this._end*i}isEasing(e){return e>=this._startTime&&e<=this._endTime}jumpTo(e){this._startTime=-1/0,this._endTime=-1/0,this._start=e,this._end=e;}easeTo(e,t,i){this._start=this.getValue(t),this._end=e,this._startTime=t,this._endTime=t+i;}}const ln={\"AttributionControl.ToggleAttribution\":\"Toggle attribution\",\"AttributionControl.MapFeedback\":\"Map feedback\",\"FullscreenControl.Enter\":\"Enter fullscreen\",\"FullscreenControl.Exit\":\"Exit fullscreen\",\"GeolocateControl.FindMyLocation\":\"Find my location\",\"GeolocateControl.LocationNotAvailable\":\"Location not available\",\"LogoControl.Title\":\"Mapbox logo\",\"Map.Title\":\"Map\",\"NavigationControl.ResetBearing\":\"Reset bearing to north\",\"NavigationControl.ZoomIn\":\"Zoom in\",\"NavigationControl.ZoomOut\":\"Zoom out\",\"ScrollZoomBlocker.CtrlMessage\":\"Use ctrl + scroll to zoom the map\",\"ScrollZoomBlocker.CmdMessage\":\"Use â + scroll to zoom the map\",\"TouchPanBlocker.Message\":\"Use two fingers to move the map\"},cn={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:85,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,performanceMetricsCollection:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,optimizeForTerrain:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,minTileCacheSize:null,maxTileCacheSize:null,localIdeographFontFamily:\"sans-serif\",localFontFamily:null,transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0};function hn(e){e.parentNode&&e.parentNode.removeChild(e);}const _n={showCompass:!0,showZoom:!0,visualizePitch:!1};class un{constructor(t,i,o=!1){this._clickTolerance=10,this.element=i,this.mouseRotate=new wr({clickTolerance:t.dragRotate._mouseRotate._clickTolerance}),this.map=t,o&&(this.mousePitch=new Tr({clickTolerance:t.dragRotate._mousePitch._clickTolerance})),e.bindAll([\"mousedown\",\"mousemove\",\"mouseup\",\"touchstart\",\"touchmove\",\"touchend\",\"reset\"],this),i.addEventListener(\"mousedown\",this.mousedown),i.addEventListener(\"touchstart\",this.touchstart,{passive:!1}),i.addEventListener(\"touchmove\",this.touchmove),i.addEventListener(\"touchend\",this.touchend),i.addEventListener(\"touchcancel\",this.reset);}down(e,t){this.mouseRotate.mousedown(e,t),this.mousePitch&&this.mousePitch.mousedown(e,t),h();}move(e,t){const i=this.map,o=this.mouseRotate.mousemoveWindow(e,t),r=o&&o.bearingDelta;if(r&&i.setBearing(i.getBearing()+r),this.mousePitch){const o=this.mousePitch.mousemoveWindow(e,t),r=o&&o.pitchDelta;r&&i.setPitch(i.getPitch()+r);}}off(){const e=this.element;e.removeEventListener(\"mousedown\",this.mousedown),e.removeEventListener(\"touchstart\",this.touchstart,{passive:!1}),e.removeEventListener(\"touchmove\",this.touchmove),e.removeEventListener(\"touchend\",this.touchend),e.removeEventListener(\"touchcancel\",this.reset),this.offTemp();}offTemp(){_(),e.window.removeEventListener(\"mousemove\",this.mousemove),e.window.removeEventListener(\"mouseup\",this.mouseup);}mousedown(t){this.down(e.extend({},t,{ctrlKey:!0,preventDefault:()=>t.preventDefault()}),p(this.element,t)),e.window.addEventListener(\"mousemove\",this.mousemove),e.window.addEventListener(\"mouseup\",this.mouseup);}mousemove(e){this.move(e,p(this.element,e));}mouseup(e){this.mouseRotate.mouseupWindow(e),this.mousePitch&&this.mousePitch.mouseupWindow(e),this.offTemp();}touchstart(e){1!==e.targetTouches.length?this.reset():(this._startPos=this._lastPos=m(this.element,e.targetTouches)[0],this.down({type:\"mousedown\",button:0,ctrlKey:!0,preventDefault:()=>e.preventDefault()},this._startPos));}touchmove(e){1!==e.targetTouches.length?this.reset():(this._lastPos=m(this.element,e.targetTouches)[0],this.move({preventDefault:()=>e.preventDefault()},this._lastPos));}touchend(e){0===e.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset();}reset(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp();}}const dn={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0,showUserHeading:!1},pn={maxWidth:100,unit:\"metric\"};function mn(e,t,i){const o=fn(t),r=o/t,n={kilometer:\"km\",meter:\"m\",mile:\"mi\",foot:\"ft\",\"nautical-mile\":\"nm\"}[i];this._map._requestDomTask((()=>{this._container.style.width=e*r+\"px\",this._container.innerHTML=`${o}&nbsp;${n}`;}));}function fn(e){const t=Math.pow(10,`${Math.floor(e)}`.length-1);let i=e/t;return i=i>=10?10:i>=5?5:i>=3?3:i>=2?2:i>=1?1:function(e){const t=Math.pow(10,Math.ceil(-Math.log(e)/Math.LN10));return Math.round(e*t)/t}(i),t*i}const gn={version:e.version,supported:i,setRTLTextPlugin:e.setRTLTextPlugin,getRTLTextPluginStatus:e.getRTLTextPluginStatus,Map:class extends Yr{constructor(t){if(e.LivePerformanceUtils.mark(e.PerformanceMarkers.create),null!=(t=e.extend({},cn,t)).minZoom&&null!=t.maxZoom&&t.minZoom>t.maxZoom)throw new Error(\"maxZoom must be greater than or equal to minZoom\");if(null!=t.minPitch&&null!=t.maxPitch&&t.minPitch>t.maxPitch)throw new Error(\"maxPitch must be greater than or equal to minPitch\");if(null!=t.minPitch&&t.minPitch<0)throw new Error(\"minPitch must be greater than or equal to 0\");if(null!=t.maxPitch&&t.maxPitch>85)throw new Error(\"maxPitch must be less than or equal to 85\");if(t.antialias&&e.isSafariWithAntialiasingBug(e.window)&&(t.antialias=!1,e.warnOnce(\"Antialiasing is disabled for this WebGL context to avoid browser bug: https://github.com/mapbox/mapbox-gl-js/issues/11609\")),super(new Ko(t.minZoom,t.maxZoom,t.minPitch,t.maxPitch,t.renderWorldCopies),t),this._interactive=t.interactive,this._minTileCacheSize=t.minTileCacheSize,this._maxTileCacheSize=t.maxTileCacheSize,this._failIfMajorPerformanceCaveat=t.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=t.preserveDrawingBuffer,this._antialias=t.antialias,this._trackResize=t.trackResize,this._bearingSnap=t.bearingSnap,this._refreshExpiredTiles=t.refreshExpiredTiles,this._fadeDuration=t.fadeDuration,this._isInitialLoad=!0,this._crossSourceCollisions=t.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=t.collectResourceTiming,this._optimizeForTerrain=t.optimizeForTerrain,this._language=this._parseLanguage(t.language),this._worldview=t.worldview,this._renderTaskQueue=new Qr,this._domRenderTaskQueue=new Qr,this._controls=[],this._markers=[],this._popups=[],this._mapId=e.uniqueId(),this._locale=e.extend({},ln,t.locale),this._clickTolerance=t.clickTolerance,this._cooperativeGestures=t.cooperativeGestures,this._performanceMetricsCollection=t.performanceMetricsCollection,this._containerWidth=0,this._containerHeight=0,this._averageElevationLastSampledAt=-1/0,this._averageElevationExaggeration=0,this._averageElevation=new sn(0),this._interactionRange=[1/0,-1/0],this._useExplicitProjection=!1,this._requestManager=new e.RequestManager(t.transformRequest,t.accessToken,t.testMode),this._silenceAuthErrors=!!t.testMode,\"string\"==typeof t.container){if(this._container=e.window.document.getElementById(t.container),!this._container)throw new Error(`Container '${t.container}' not found.`)}else {if(!(t.container instanceof e.window.HTMLElement))throw new Error(\"Invalid type: 'container' must be a String or HTMLElement.\");this._container=t.container;}if(this._container.childNodes.length>0&&e.warnOnce(\"The map container element should be empty, otherwise the map's interactivity will be negatively impacted. If you want to display a message when WebGL is not supported, use the Mapbox GL Supported plugin instead.\"),t.maxBounds&&this.setMaxBounds(t.maxBounds),e.bindAll([\"_onWindowOnline\",\"_onWindowResize\",\"_onMapScroll\",\"_contextLost\",\"_contextRestored\"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error(\"Failed to initialize WebGL.\");this.on(\"move\",(()=>this._update(!1))),this.on(\"moveend\",(()=>this._update(!1))),this.on(\"zoom\",(()=>this._update(!0))),void 0!==e.window&&(e.window.addEventListener(\"online\",this._onWindowOnline,!1),e.window.addEventListener(\"resize\",this._onWindowResize,!1),e.window.addEventListener(\"orientationchange\",this._onWindowResize,!1),e.window.addEventListener(\"webkitfullscreenchange\",this._onWindowResize,!1)),this.handlers=new $r(this,t),this._localFontFamily=t.localFontFamily,this._localIdeographFontFamily=t.localIdeographFontFamily,t.style&&this.setStyle(t.style,{localFontFamily:this._localFontFamily,localIdeographFontFamily:this._localIdeographFontFamily}),t.projection&&this.setProjection(t.projection),this._hash=t.hash&&new Qo(\"string\"==typeof t.hash&&t.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:t.center,zoom:t.zoom,bearing:t.bearing,pitch:t.pitch}),t.bounds&&(this.resize(),this.fitBounds(t.bounds,e.extend({},t.fitBoundsOptions,{duration:0})))),this.resize(),t.attributionControl&&this.addControl(new Kr({customAttribution:t.customAttribution})),this._logoControl=new Jr,this.addControl(this._logoControl,t.logoPosition),this.on(\"style.load\",(()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet);})),this.on(\"data\",(t=>{this._update(\"style\"===t.dataType),this.fire(new e.Event(`${t.dataType}data`,t));})),this.on(\"dataloading\",(t=>{this.fire(new e.Event(`${t.dataType}dataloading`,t));}));}_getMapId(){return this._mapId}addControl(t,i){if(void 0===i&&(i=t.getDefaultPosition?t.getDefaultPosition():\"top-right\"),!t||!t.onAdd)return this.fire(new e.ErrorEvent(new Error(\"Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.\")));const o=t.onAdd(this);this._controls.push(t);const r=this._controlPositions[i];return -1!==i.indexOf(\"bottom\")?r.insertBefore(o,r.firstChild):r.appendChild(o),this}removeControl(t){if(!t||!t.onRemove)return this.fire(new e.ErrorEvent(new Error(\"Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.\")));const i=this._controls.indexOf(t);return i>-1&&this._controls.splice(i,1),t.onRemove(this),this}hasControl(e){return this._controls.indexOf(e)>-1}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}resize(t){if(this._updateContainerDimensions(),this._containerWidth===this.transform.width&&this._containerHeight===this.transform.height)return this;this._resizeCanvas(this._containerWidth,this._containerHeight),this.transform.resize(this._containerWidth,this._containerHeight),this.painter.resize(Math.ceil(this._containerWidth),Math.ceil(this._containerHeight));const i=!this._moving;return i&&this.fire(new e.Event(\"movestart\",t)).fire(new e.Event(\"move\",t)),this.fire(new e.Event(\"resize\",t)),i&&this.fire(new e.Event(\"moveend\",t)),this}getBounds(){return \"globe\"===this.transform.projection.name&&e.warnOnce('Globe projection does not support getBounds API, this API may behave unexpectedly when viewing the poles.\"'),this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()||null}setMaxBounds(t){return this.transform.setMaxBounds(e.LngLatBounds.convert(t)),this._update()}setMinZoom(t){if((t=null==t?-2:t)>=-2&&t<=this.transform.maxZoom)return this.transform.minZoom=t,this._update(),this.getZoom()<t?this.setZoom(t):this.fire(new e.Event(\"zoomstart\")).fire(new e.Event(\"zoom\")).fire(new e.Event(\"zoomend\")),this;throw new Error(\"minZoom must be between -2 and the current maxZoom, inclusive\")}getMinZoom(){return this.transform.minZoom}setMaxZoom(t){if((t=null==t?22:t)>=this.transform.minZoom)return this.transform.maxZoom=t,this._update(),this.getZoom()>t?this.setZoom(t):this.fire(new e.Event(\"zoomstart\")).fire(new e.Event(\"zoom\")).fire(new e.Event(\"zoomend\")),this;throw new Error(\"maxZoom must be greater than the current minZoom\")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(t){if((t=null==t?0:t)<0)throw new Error(\"minPitch must be greater than or equal to 0\");if(t>=0&&t<=this.transform.maxPitch)return this.transform.minPitch=t,this._update(),this.getPitch()<t?this.setPitch(t):this.fire(new e.Event(\"pitchstart\")).fire(new e.Event(\"pitch\")).fire(new e.Event(\"pitchend\")),this;throw new Error(\"minPitch must be between 0 and the current maxPitch, inclusive\")}getMinPitch(){return this.transform.minPitch}setMaxPitch(t){if((t=null==t?85:t)>85)throw new Error(\"maxPitch must be less than or equal to 85\");if(t>=this.transform.minPitch)return this.transform.maxPitch=t,this._update(),this.getPitch()>t?this.setPitch(t):this.fire(new e.Event(\"pitchstart\")).fire(new e.Event(\"pitch\")).fire(new e.Event(\"pitchend\")),this;throw new Error(\"maxPitch must be greater than or equal to minPitch\")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(e){return this.transform.renderWorldCopies=e,this.transform.renderWorldCopies||this._forceMarkerAndPopupUpdate(!0),this._update()}getLanguage(){return this._language}_parseLanguage(t){return \"auto\"===t?e.window.navigator.language:Array.isArray(t)?0===t.length?void 0:t.map((t=>\"auto\"===t?e.window.navigator.language:t)):t}setLanguage(e){const t=this._parseLanguage(e);if(!this.style||t===this._language)return this;this._language=t,this.style._reloadSources();for(const e of this._controls)e._setLanguage&&e._setLanguage(this._language);return this}getWorldview(){return this._worldview}setWorldview(e){return this.style&&e!==this._worldview?(this._worldview=e,this.style._reloadSources(),this):this}getProjection(){return this.transform.mercatorFromTransition?{name:\"globe\",center:[0,0]}:this.transform.getProjection()}_showingGlobe(){return \"globe\"===this.transform.projection.name}setProjection(e){return this._lazyInitEmptyStyle(),e?\"string\"==typeof e&&(e={name:e}):e=null,this._useExplicitProjection=!!e,this._prioritizeAndUpdateProjection(e,this.style.stylesheet?this.style.stylesheet.projection:null)}_updateProjectionTransition(){if(\"globe\"!==this.getProjection().name)return;const t=this.transform,i=t.projection.name;let o;\"globe\"===i&&t.zoom>=e.GLOBE_ZOOM_THRESHOLD_MAX?(t.setMercatorFromTransition(),o=!0):\"mercator\"===i&&t.zoom<e.GLOBE_ZOOM_THRESHOLD_MAX&&(t.setProjection({name:\"globe\"}),o=!0),o&&(this.style.applyProjectionUpdate(),this.style._forceSymbolLayerUpdate());}_prioritizeAndUpdateProjection(e,t){return this._updateProjection(e||t||{name:\"mercator\"})}_updateProjection(t){let i;if(i=\"globe\"===t.name&&this.transform.zoom>=e.GLOBE_ZOOM_THRESHOLD_MAX?this.transform.setMercatorFromTransition():this.transform.setProjection(t),this.style.applyProjectionUpdate(),i){this.painter.clearBackgroundTiles();for(const e in this.style._sourceCaches)this.style._sourceCaches[e].clearTiles();this._update(!0),this._forceMarkerAndPopupUpdate(!0);}return this}project(t){return this.transform.locationPoint3D(e.LngLat.convert(t))}unproject(t){return this.transform.pointLocation3D(e.pointGeometry.convert(t))}isMoving(){return this._moving||this.handlers&&this.handlers.isMoving()||!1}isZooming(){return this._zooming||this.handlers&&this.handlers.isZooming()||!1}isRotating(){return this._rotating||this.handlers&&this.handlers.isRotating()||!1}_createDelegatedListener(e,t,i){if(\"mouseenter\"===e||\"mouseover\"===e){let o=!1;const r=r=>{const n=t.filter((e=>this.getLayer(e))),a=n.length?this.queryRenderedFeatures(r.point,{layers:n}):[];a.length?o||(o=!0,i.call(this,new cr(e,this,r.originalEvent,{features:a}))):o=!1;},n=()=>{o=!1;};return {layers:new Set(t),listener:i,delegates:{mousemove:r,mouseout:n}}}if(\"mouseleave\"===e||\"mouseout\"===e){let o=!1;const r=r=>{const n=t.filter((e=>this.getLayer(e)));(n.length?this.queryRenderedFeatures(r.point,{layers:n}):[]).length?o=!0:o&&(o=!1,i.call(this,new cr(e,this,r.originalEvent)));},n=t=>{o&&(o=!1,i.call(this,new cr(e,this,t.originalEvent)));};return {layers:new Set(t),listener:i,delegates:{mousemove:r,mouseout:n}}}{const o=e=>{const o=t.filter((e=>this.getLayer(e))),r=o.length?this.queryRenderedFeatures(e.point,{layers:o}):[];r.length&&(e.features=r,i.call(this,e),delete e.features);};return {layers:new Set(t),listener:i,delegates:{[e]:o}}}}on(e,t,i){if(void 0===i)return super.on(e,t);Array.isArray(t)||(t=[t]);const o=this._createDelegatedListener(e,t,i);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[e]=this._delegatedListeners[e]||[],this._delegatedListeners[e].push(o);for(const e in o.delegates)this.on(e,o.delegates[e]);return this}once(e,t,i){if(void 0===i)return super.once(e,t);Array.isArray(t)||(t=[t]);const o=this._createDelegatedListener(e,t,i);for(const e in o.delegates)this.once(e,o.delegates[e]);return this}off(e,t,i){if(void 0===i)return super.off(e,t);t=new Set(Array.isArray(t)?t:[t]);const o=(e,t)=>{if(e.size!==t.size)return !1;for(const i of e)if(!t.has(i))return !1;return !0},r=this._delegatedListeners?this._delegatedListeners[e]:void 0;return r&&(e=>{for(let r=0;r<e.length;r++){const n=e[r];if(n.listener===i&&o(n.layers,t)){for(const e in n.delegates)this.off(e,n.delegates[e]);return e.splice(r,1),this}}})(r),this}queryRenderedFeatures(t,i){return this.style?(void 0!==i||void 0===t||t instanceof e.pointGeometry||Array.isArray(t)||(i=t,t=void 0),this.style.queryRenderedFeatures(t=t||[[0,0],[this.transform.width,this.transform.height]],i=i||{},this.transform)):[]}querySourceFeatures(e,t){return this.style.querySourceFeatures(e,t)}setStyle(t,i){return !1!==(i=e.extend({},{localIdeographFontFamily:this._localIdeographFontFamily,localFontFamily:this._localFontFamily},i)).diff&&i.localIdeographFontFamily===this._localIdeographFontFamily&&i.localFontFamily===this._localFontFamily&&this.style&&t?(this._diffStyle(t,i),this):(this._localIdeographFontFamily=i.localIdeographFontFamily,this._localFontFamily=i.localFontFamily,this._updateStyle(t,i))}_getUIString(e){const t=this._locale[e];if(null==t)throw new Error(`Missing UI string '${e}'`);return t}_updateStyle(e,t){return this.style&&(this.style.setEventedParent(null),this.style._remove(),this.style=void 0),e&&(this.style=new ei(this,t||{}),this.style.setEventedParent(this,{style:this.style}),\"string\"==typeof e?this.style.loadURL(e):this.style.loadJSON(e)),this._updateTerrain(),this}_lazyInitEmptyStyle(){this.style||(this.style=new ei(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty());}_diffStyle(t,i){if(\"string\"==typeof t){const o=this._requestManager.normalizeStyleURL(t),r=this._requestManager.transformRequest(o,e.ResourceType.Style);e.getJSON(r,((t,o)=>{t?this.fire(new e.ErrorEvent(t)):o&&this._updateDiff(o,i);}));}else \"object\"==typeof t&&this._updateDiff(t,i);}_updateDiff(t,i){try{this.style.setState(t)&&this._update(!0);}catch(o){e.warnOnce(`Unable to perform style diff: ${o.message||o.error||o}.  Rebuilding the style from scratch.`),this._updateStyle(t,i);}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():(e.warnOnce(\"There is no style added to the map.\"),!1)}addSource(e,t){return this._lazyInitEmptyStyle(),this.style.addSource(e,t),this._update(!0)}isSourceLoaded(e){return !!this.style&&this.style._isSourceCacheLoaded(e)}areTilesLoaded(){const e=this.style&&this.style._sourceCaches;for(const t in e){const i=e[t]._tiles;for(const e in i){const t=i[e];if(\"loaded\"!==t.state&&\"errored\"!==t.state)return !1}}return !0}addSourceType(e,t,i){this._lazyInitEmptyStyle(),this.style.addSourceType(e,t,i);}removeSource(e){return this.style.removeSource(e),this._updateTerrain(),this._update(!0)}getSource(e){return this.style.getSource(e)}addImage(t,i,{pixelRatio:o=1,sdf:r=!1,stretchX:n,stretchY:a,content:s}={}){if(this._lazyInitEmptyStyle(),i instanceof e.window.HTMLImageElement||e.window.ImageBitmap&&i instanceof e.window.ImageBitmap){const{width:l,height:c,data:h}=e.exported.getImageData(i);this.style.addImage(t,{data:new e.RGBAImage({width:l,height:c},h),pixelRatio:o,stretchX:n,stretchY:a,content:s,sdf:r,version:0});}else if(void 0===i.width||void 0===i.height)this.fire(new e.ErrorEvent(new Error(\"Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`\")));else {const{width:l,height:c}=i,h=i;this.style.addImage(t,{data:new e.RGBAImage({width:l,height:c},new Uint8Array(h.data)),pixelRatio:o,stretchX:n,stretchY:a,content:s,sdf:r,version:0,userImage:h}),h.onAdd&&h.onAdd(this,t);}}updateImage(t,i){const o=this.style.getImage(t);if(!o)return void this.fire(new e.ErrorEvent(new Error(\"The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.\")));const r=i instanceof e.window.HTMLImageElement||e.window.ImageBitmap&&i instanceof e.window.ImageBitmap?e.exported.getImageData(i):i,{width:n,height:a}=r;void 0!==n&&void 0!==a?n===o.data.width&&a===o.data.height?(o.data.replace(r.data,!(i instanceof e.window.HTMLImageElement||e.window.ImageBitmap&&i instanceof e.window.ImageBitmap)),this.style.updateImage(t,o)):this.fire(new e.ErrorEvent(new Error(`The width and height of the updated image (${n}, ${a})\\n                must be that same as the previous version of the image\\n                (${o.data.width}, ${o.data.height})`))):this.fire(new e.ErrorEvent(new Error(\"Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`\")));}hasImage(t){return t?!!this.style.getImage(t):(this.fire(new e.ErrorEvent(new Error(\"Missing required image id\"))),!1)}removeImage(e){this.style.removeImage(e);}loadImage(t,i){e.getImage(this._requestManager.transformRequest(t,e.ResourceType.Image),((t,o)=>{i(t,o instanceof e.window.HTMLImageElement?e.exported.getImageData(o):o);}));}listImages(){return this.style.listImages()}addLayer(e,t){return this._lazyInitEmptyStyle(),this.style.addLayer(e,t),this._update(!0)}moveLayer(e,t){return this.style.moveLayer(e,t),this._update(!0)}removeLayer(e){return this.style.removeLayer(e),this._update(!0)}getLayer(e){return this.style.getLayer(e)}setLayerZoomRange(e,t,i){return this.style.setLayerZoomRange(e,t,i),this._update(!0)}setFilter(e,t,i={}){return this.style.setFilter(e,t,i),this._update(!0)}getFilter(e){return this.style.getFilter(e)}setPaintProperty(e,t,i,o={}){return this.style.setPaintProperty(e,t,i,o),this._update(!0)}getPaintProperty(e,t){return this.style.getPaintProperty(e,t)}setLayoutProperty(e,t,i,o={}){return this.style.setLayoutProperty(e,t,i,o),this._update(!0)}getLayoutProperty(e,t){return this.style.getLayoutProperty(e,t)}setLight(e,t={}){return this._lazyInitEmptyStyle(),this.style.setLight(e,t),this._update(!0)}getLight(){return this.style.getLight()}setTerrain(e){return this._lazyInitEmptyStyle(),!e&&this.transform.projection.requiresDraping?this.style.setTerrainForDraping():this.style.setTerrain(e),this._averageElevationLastSampledAt=-1/0,this._update(!0)}getTerrain(){return this.style?this.style.getTerrain():null}setFog(e){return this._lazyInitEmptyStyle(),this.style.setFog(e),this._update(!0)}getFog(){return this.style?this.style.getFog():null}_queryFogOpacity(t){return this.style&&this.style.fog?this.style.fog.getOpacityAtLatLng(e.LngLat.convert(t),this.transform):0}setFeatureState(e,t){return this.style.setFeatureState(e,t),this._update()}removeFeatureState(e,t){return this.style.removeFeatureState(e,t),this._update()}getFeatureState(e){return this.style.getFeatureState(e)}_updateContainerDimensions(){if(!this._container)return;const t=this._container.getBoundingClientRect().width||400,i=this._container.getBoundingClientRect().height||300;let o,r,n,a=this._container;for(;a&&(!r||!n);){const t=e.window.getComputedStyle(a).transform;t&&\"none\"!==t&&(o=t.match(/matrix.*\\((.+)\\)/)[1].split(\", \"),o[0]&&\"0\"!==o[0]&&\"1\"!==o[0]&&(r=o[0]),o[3]&&\"0\"!==o[3]&&\"1\"!==o[3]&&(n=o[3])),a=a.parentElement;}this._containerWidth=r?Math.abs(t/r):t,this._containerHeight=n?Math.abs(i/n):i;}_detectMissingCSS(){\"rgb(250, 128, 114)\"!==e.window.getComputedStyle(this._missingCSSCanary).getPropertyValue(\"background-color\")&&e.warnOnce(\"This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.\");}_setupContainer(){const e=this._container;e.classList.add(\"mapboxgl-map\"),(this._missingCSSCanary=n(\"div\",\"mapboxgl-canary\",e)).style.visibility=\"hidden\",this._detectMissingCSS();const t=this._canvasContainer=n(\"div\",\"mapboxgl-canvas-container\",e);this._interactive&&t.classList.add(\"mapboxgl-interactive\"),this._canvas=n(\"canvas\",\"mapboxgl-canvas\",t),this._canvas.addEventListener(\"webglcontextlost\",this._contextLost,!1),this._canvas.addEventListener(\"webglcontextrestored\",this._contextRestored,!1),this._canvas.setAttribute(\"tabindex\",\"0\"),this._canvas.setAttribute(\"aria-label\",this._getUIString(\"Map.Title\")),this._canvas.setAttribute(\"role\",\"region\"),this._updateContainerDimensions(),this._resizeCanvas(this._containerWidth,this._containerHeight);const i=this._controlContainer=n(\"div\",\"mapboxgl-control-container\",e),o=this._controlPositions={};[\"top-left\",\"top-right\",\"bottom-left\",\"bottom-right\"].forEach((e=>{o[e]=n(\"div\",`mapboxgl-ctrl-${e}`,i);})),this._container.addEventListener(\"scroll\",this._onMapScroll,!1);}_resizeCanvas(t,i){const o=e.exported.devicePixelRatio||1;this._canvas.width=o*Math.ceil(t),this._canvas.height=o*Math.ceil(i),this._canvas.style.width=`${t}px`,this._canvas.style.height=`${i}px`;}_addMarker(e){this._markers.push(e);}_removeMarker(e){const t=this._markers.indexOf(e);-1!==t&&this._markers.splice(t,1);}_addPopup(e){this._popups.push(e);}_removePopup(e){const t=this._popups.indexOf(e);-1!==t&&this._popups.splice(t,1);}_setupPainter(){const t=e.extend({},i.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),o=this._canvas.getContext(\"webgl\",t)||this._canvas.getContext(\"experimental-webgl\",t);o?(e.storeAuthState(o,!0),this.painter=new Fo(o,this.transform),this.on(\"data\",(e=>{\"source\"===e.dataType&&this.painter.setTileLoadedFlag(!0);})),e.exported$1.testSupport(o)):this.fire(new e.ErrorEvent(new Error(\"Failed to initialize WebGL\")));}_contextLost(t){t.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new e.Event(\"webglcontextlost\",{originalEvent:t}));}_contextRestored(t){this._setupPainter(),this.resize(),this._update(),this.fire(new e.Event(\"webglcontextrestored\",{originalEvent:t}));}_onMapScroll(e){if(e.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}loaded(){return !this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(e){return this.style?(this._styleDirty=this._styleDirty||e,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(e){return this._update(),this._renderTaskQueue.add(e)}_cancelRenderFrame(e){this._renderTaskQueue.remove(e);}_requestDomTask(e){!this.loaded()||this.loaded()&&!this.isMoving()?e():this._domRenderTaskQueue.add(e);}_render(t){let i;const o=this.painter.context.extTimerQuery,r=e.exported.now();if(this.listens(\"gpu-timing-frame\")&&(i=o.createQueryEXT(),o.beginQueryEXT(o.TIME_ELAPSED_EXT,i)),this.painter.context.setDirty(),this.painter.setBaseState(),(this.isMoving()||this.isRotating()||this.isZooming())&&(this._interactionRange[0]=Math.min(this._interactionRange[0],e.window.performance.now()),this._interactionRange[1]=Math.max(this._interactionRange[1],e.window.performance.now())),this._renderTaskQueue.run(t),this._domRenderTaskQueue.run(t),this._removed)return;this._updateProjectionTransition();let n=!1;const a=this._isInitialLoad?0:this._fadeDuration;if(this.style&&this._styleDirty){this._styleDirty=!1;const t=this.transform.zoom,i=this.transform.pitch,o=e.exported.now();this.style.zoomHistory.update(t,o);const r=new e.EvaluationParameters(t,{now:o,fadeDuration:a,pitch:i,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),s=r.crossFadingFactor();1===s&&s===this._crossFadingFactor||(n=!0,this._crossFadingFactor=s),this.style.update(r);}this.style&&this.style.fog&&this.style.fog.hasTransition()&&(this.style._markersNeedUpdate=!0,this._sourcesDirty=!0);let s=!1;if(this.style&&this._sourcesDirty?(this._sourcesDirty=!1,this.painter._updateFog(this.style),this._updateTerrain(),s=this._updateAverageElevation(r),this.style._updateSources(this.transform),this._forceMarkerAndPopupUpdate()):s=this._updateAverageElevation(r),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,a,this._crossSourceCollisions),this.style&&this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showTerrainWireframe:this.showTerrainWireframe,showOverdrawInspector:this._showOverdrawInspector,showQueryGeometry:!!this._showQueryGeometry,showTileAABBs:this.showTileAABBs,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:a,isInitialLoad:this._isInitialLoad,showPadding:this.showPadding,gpuTiming:!!this.listens(\"gpu-timing-layer\"),gpuTimingDeferredRender:!!this.listens(\"gpu-timing-deferred-render\"),speedIndexTiming:this.speedIndexTiming}),this.fire(new e.Event(\"render\")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new e.Event(\"load\"))),this.style&&(this.style.hasTransitions()||n)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),i){const t=e.exported.now()-r;o.endQueryEXT(o.TIME_ELAPSED_EXT,i),setTimeout((()=>{const n=o.getQueryObjectEXT(i,o.QUERY_RESULT_EXT)/1e6;o.deleteQueryEXT(i),this.fire(new e.Event(\"gpu-timing-frame\",{cpuTime:t,gpuTime:n})),e.window.performance.mark(\"frame-gpu\",{startTime:r,detail:{gpuTime:n}});}),50);}if(this.listens(\"gpu-timing-layer\")){const t=this.painter.collectGpuTimers();setTimeout((()=>{const i=this.painter.queryGpuTimers(t);this.fire(new e.Event(\"gpu-timing-layer\",{layerTimes:i}));}),50);}if(this.listens(\"gpu-timing-deferred-render\")){const t=this.painter.collectDeferredRenderGpuQueries();setTimeout((()=>{const i=this.painter.queryGpuTimeDeferredRender(t);this.fire(new e.Event(\"gpu-timing-deferred-render\",{gpuTime:i}));}),50);}const l=this._sourcesDirty||this._styleDirty||this._placementDirty||s;if(l||this._repaint)this.triggerRepaint();else {const t=!this.isMoving()&&this.loaded();if(t&&(s=this._updateAverageElevation(r,!0)),s)this.triggerRepaint();else if(this._triggerFrame(!1),t&&(this.fire(new e.Event(\"idle\")),this._isInitialLoad=!1,this.speedIndexTiming)){const t=this._calculateSpeedIndex();this.fire(new e.Event(\"speedindexcompleted\",{speedIndex:t})),this.speedIndexTiming=!1;}}!this._loaded||this._fullyLoaded||l||(this._fullyLoaded=!0,e.LivePerformanceUtils.mark(e.PerformanceMarkers.fullLoad),this._performanceMetricsCollection&&e.postPerformanceEvent(this._requestManager._customAccessToken,{width:this.painter.width,height:this.painter.height,interactionRange:this._interactionRange,terrainEnabled:!!this.painter.style.getTerrain(),fogEnabled:!!this.painter.style.getFog(),projection:this.painter.transform.projection,zoom:this.transform.zoom,renderer:this.painter.context.renderer,vendor:this.painter.context.vendor}),this._authenticate());}_forceMarkerAndPopupUpdate(e){for(const t of this._markers)e&&!this.getRenderWorldCopies()&&(t._lngLat=t._lngLat.wrap()),t._update();for(const t of this._popups)!e||this.getRenderWorldCopies()||t._trackPointer||(t._lngLat=t._lngLat.wrap()),t._update();}_updateAverageElevation(e,t=!1){const i=e=>(this.transform.averageElevation=e,this._update(!1),!0);if(!this.painter.averageElevationNeedsEasing())return 0!==this.transform.averageElevation&&i(0);if((t||e-this._averageElevationLastSampledAt>500)&&!this._averageElevation.isEasing(e)){const t=this.transform.averageElevation;let o=this.transform.sampleAverageElevation(),r=!1;this.transform.elevation&&(r=this.transform.elevation.exaggeration()!==this._averageElevationExaggeration,this._averageElevationExaggeration=this.transform.elevation.exaggeration()),isNaN(o)?o=0:this._averageElevationLastSampledAt=e;const n=Math.abs(t-o);if(n>1){if(this._isInitialLoad||r)return this._averageElevation.jumpTo(o),i(o);this._averageElevation.easeTo(o,e,300);}else if(n>1e-4)return this._averageElevation.jumpTo(o),i(o)}return !!this._averageElevation.isEasing(e)&&i(this._averageElevation.getValue(e))}_authenticate(){e.getMapSessionAPI(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,(t=>{if(t&&(t.message===e.AUTH_ERR_MSG||401===t.status)){const t=this.painter.context.gl;e.storeAuthState(t,!1),this._logoControl instanceof Jr&&this._logoControl._updateLogo(),t&&t.clear(t.DEPTH_BUFFER_BIT|t.COLOR_BUFFER_BIT|t.STENCIL_BUFFER_BIT),this._silenceAuthErrors||this.fire(new e.ErrorEvent(new Error(\"A valid Mapbox access token is required to use Mapbox GL JS. To create an account or a new access token, visit https://account.mapbox.com/\")));}})),e.postMapLoadEvent(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,(()=>{}));}_updateTerrain(){this.painter.updateTerrain(this.style,this.isMoving()||this.isRotating()||this.isZooming());}_calculateSpeedIndex(){const e=this.painter.canvasCopy(),t=this.painter.getCanvasCopiesAndTimestamps();t.timeStamps.push(performance.now());const i=this.painter.context.gl,o=i.createFramebuffer();function r(e){i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,e,0);const t=new Uint8Array(i.drawingBufferWidth*i.drawingBufferHeight*4);return i.readPixels(0,0,i.drawingBufferWidth,i.drawingBufferHeight,i.RGBA,i.UNSIGNED_BYTE,t),t}return i.bindFramebuffer(i.FRAMEBUFFER,o),this._canvasPixelComparison(r(e),t.canvasCopies.map(r),t.timeStamps)}_canvasPixelComparison(e,t,i){let o=i[1]-i[0];const r=e.length/4;for(let n=0;n<t.length;n++){const a=t[n];let s=0;for(let t=0;t<a.length;t+=4)a[t]===e[t]&&a[t+1]===e[t+1]&&a[t+2]===e[t+2]&&a[t+3]===e[t+3]&&(s+=1);o+=(i[n+2]-i[n+1])*(1-s/r);}return o}remove(){this._hash&&this._hash.remove();for(const e of this._controls)e.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this._domRenderTaskQueue.clear(),this.style&&this.style.destroy(),this.painter.destroy(),this.handlers&&this.handlers.destroy(),this.handlers=void 0,this.setStyle(null),void 0!==e.window&&(e.window.removeEventListener(\"resize\",this._onWindowResize,!1),e.window.removeEventListener(\"orientationchange\",this._onWindowResize,!1),e.window.removeEventListener(\"webkitfullscreenchange\",this._onWindowResize,!1),e.window.removeEventListener(\"online\",this._onWindowOnline,!1));const t=this.painter.context.gl.getExtension(\"WEBGL_lose_context\");t&&t.loseContext(),this._canvas.removeEventListener(\"webglcontextlost\",this._contextLost,!1),this._canvas.removeEventListener(\"webglcontextrestored\",this._contextRestored,!1),hn(this._canvasContainer),hn(this._controlContainer),hn(this._missingCSSCanary),this._canvas=void 0,this._canvasContainer=void 0,this._controlContainer=void 0,this._missingCSSCanary=void 0,this._container.classList.remove(\"mapboxgl-map\"),this._container.removeEventListener(\"scroll\",this._onMapScroll,!1),e.removeAuthState(this.painter.context.gl),this._removed=!0,this.fire(new e.Event(\"remove\"));}triggerRepaint(){this._triggerFrame(!0);}_triggerFrame(t){this._renderNextFrame=this._renderNextFrame||t,this.style&&!this._frame&&(this._frame=e.exported.frame((e=>{const t=!!this._renderNextFrame;this._frame=null,this._renderNextFrame=null,t&&this._render(e);})));}_preloadTiles(t){const i=this.style?Object.values(this.style._sourceCaches):[];return e.asyncAll(i,((e,i)=>e._preloadTiles(t,i)),(()=>{this.triggerRepaint();})),this}_onWindowOnline(){this._update();}_onWindowResize(e){this._trackResize&&this.resize({originalEvent:e})._update();}get showTileBoundaries(){return !!this._showTileBoundaries}set showTileBoundaries(e){this._showTileBoundaries!==e&&(this._showTileBoundaries=e,this._update());}get showTerrainWireframe(){return !!this._showTerrainWireframe}set showTerrainWireframe(e){this._showTerrainWireframe!==e&&(this._showTerrainWireframe=e,this._update());}get speedIndexTiming(){return !!this._speedIndexTiming}set speedIndexTiming(e){this._speedIndexTiming!==e&&(this._speedIndexTiming=e,this._update());}get showPadding(){return !!this._showPadding}set showPadding(e){this._showPadding!==e&&(this._showPadding=e,this._update());}get showCollisionBoxes(){return !!this._showCollisionBoxes}set showCollisionBoxes(e){this._showCollisionBoxes!==e&&(this._showCollisionBoxes=e,e?this.style._generateCollisionBoxes():this._update());}get showOverdrawInspector(){return !!this._showOverdrawInspector}set showOverdrawInspector(e){this._showOverdrawInspector!==e&&(this._showOverdrawInspector=e,this._update());}get repaint(){return !!this._repaint}set repaint(e){this._repaint!==e&&(this._repaint=e,this.triggerRepaint());}get vertices(){return !!this._vertices}set vertices(e){this._vertices=e,this._update();}get showTileAABBs(){return !!this._showTileAABBs}set showTileAABBs(e){this._showTileAABBs!==e&&(this._showTileAABBs=e,e&&this._update());}_setCacheLimits(t,i){e.setCacheLimits(t,i);}get version(){return e.version}},NavigationControl:class{constructor(t){this.options=e.extend({},_n,t),this._container=n(\"div\",\"mapboxgl-ctrl mapboxgl-ctrl-group\"),this._container.addEventListener(\"contextmenu\",(e=>e.preventDefault())),this.options.showZoom&&(e.bindAll([\"_setButtonTitle\",\"_updateZoomButtons\"],this),this._zoomInButton=this._createButton(\"mapboxgl-ctrl-zoom-in\",(e=>{this._map&&this._map.zoomIn({},{originalEvent:e});})),n(\"span\",\"mapboxgl-ctrl-icon\",this._zoomInButton).setAttribute(\"aria-hidden\",\"true\"),this._zoomOutButton=this._createButton(\"mapboxgl-ctrl-zoom-out\",(e=>{this._map&&this._map.zoomOut({},{originalEvent:e});})),n(\"span\",\"mapboxgl-ctrl-icon\",this._zoomOutButton).setAttribute(\"aria-hidden\",\"true\")),this.options.showCompass&&(e.bindAll([\"_rotateCompassArrow\"],this),this._compass=this._createButton(\"mapboxgl-ctrl-compass\",(e=>{const t=this._map;t&&(this.options.visualizePitch?t.resetNorthPitch({},{originalEvent:e}):t.resetNorth({},{originalEvent:e}));})),this._compassIcon=n(\"span\",\"mapboxgl-ctrl-icon\",this._compass),this._compassIcon.setAttribute(\"aria-hidden\",\"true\"));}_updateZoomButtons(){const e=this._map;if(!e)return;const t=e.getZoom(),i=t===e.getMaxZoom(),o=t===e.getMinZoom();this._zoomInButton.disabled=i,this._zoomOutButton.disabled=o,this._zoomInButton.setAttribute(\"aria-disabled\",i.toString()),this._zoomOutButton.setAttribute(\"aria-disabled\",o.toString());}_rotateCompassArrow(){const e=this._map;if(!e)return;const t=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(e.transform.pitch*(Math.PI/180)),.5)}) rotateX(${e.transform.pitch}deg) rotateZ(${e.transform.angle*(180/Math.PI)}deg)`:`rotate(${e.transform.angle*(180/Math.PI)}deg)`;e._requestDomTask((()=>{this._compassIcon&&(this._compassIcon.style.transform=t);}));}onAdd(e){return this._map=e,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,\"ZoomIn\"),this._setButtonTitle(this._zoomOutButton,\"ZoomOut\"),e.on(\"zoom\",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,\"ResetBearing\"),this.options.visualizePitch&&e.on(\"pitch\",this._rotateCompassArrow),e.on(\"rotate\",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new un(e,this._compass,this.options.visualizePitch)),this._container}onRemove(){const e=this._map;e&&(this._container.remove(),this.options.showZoom&&e.off(\"zoom\",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&e.off(\"pitch\",this._rotateCompassArrow),e.off(\"rotate\",this._rotateCompassArrow),this._handler&&this._handler.off(),this._handler=void 0),this._map=void 0);}_createButton(e,t){const i=n(\"button\",e,this._container);return i.type=\"button\",i.addEventListener(\"click\",t),i}_setButtonTitle(e,t){if(!this._map)return;const i=this._map._getUIString(`NavigationControl.${t}`);e.setAttribute(\"aria-label\",i),e.firstElementChild&&e.firstElementChild.setAttribute(\"title\",i);}},GeolocateControl:class extends e.Evented{constructor(t){super(),this.options=e.extend({geolocation:e.window.navigator.geolocation},dn,t),e.bindAll([\"_onSuccess\",\"_onError\",\"_onZoom\",\"_finish\",\"_setupUI\",\"_updateCamera\",\"_updateMarker\",\"_updateMarkerRotation\",\"_onDeviceOrientation\"],this),this._updateMarkerRotationThrottled=Jo(this._updateMarkerRotation,20),this._numberOfWatches=0;}onAdd(e){return this._map=e,this._container=n(\"div\",\"mapboxgl-ctrl mapboxgl-ctrl-group\"),this._checkGeolocationSupport(this._setupUI),this._container}onRemove(){void 0!==this._geolocationWatchID&&(this.options.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),this._container.remove(),this._map.off(\"zoom\",this._onZoom),this._map=void 0,this._numberOfWatches=0,this._noTimeout=!1;}_checkGeolocationSupport(t){const i=(e=!!this.options.geolocation)=>{this._supportsGeolocation=e,t(e);};void 0!==this._supportsGeolocation?t(this._supportsGeolocation):void 0!==e.window.navigator.permissions?e.window.navigator.permissions.query({name:\"geolocation\"}).then((e=>i(\"denied\"!==e.state))).catch((()=>i())):i();}_isOutOfMapMaxBounds(e){const t=this._map.getMaxBounds(),i=e.coords;return !!t&&(i.longitude<t.getWest()||i.longitude>t.getEast()||i.latitude<t.getSouth()||i.latitude>t.getNorth())}_setErrorState(){switch(this._watchState){case\"WAITING_ACTIVE\":this._watchState=\"ACTIVE_ERROR\",this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-active\"),this._geolocateButton.classList.add(\"mapboxgl-ctrl-geolocate-active-error\");break;case\"ACTIVE_LOCK\":this._watchState=\"ACTIVE_ERROR\",this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-active\"),this._geolocateButton.classList.add(\"mapboxgl-ctrl-geolocate-active-error\"),this._geolocateButton.classList.add(\"mapboxgl-ctrl-geolocate-waiting\");break;case\"BACKGROUND\":this._watchState=\"BACKGROUND_ERROR\",this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-background\"),this._geolocateButton.classList.add(\"mapboxgl-ctrl-geolocate-background-error\"),this._geolocateButton.classList.add(\"mapboxgl-ctrl-geolocate-waiting\");}}_onSuccess(t){if(this._map){if(this._isOutOfMapMaxBounds(t))return this._setErrorState(),this.fire(new e.Event(\"outofmaxbounds\",t)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=t,this._watchState){case\"WAITING_ACTIVE\":case\"ACTIVE_LOCK\":case\"ACTIVE_ERROR\":this._watchState=\"ACTIVE_LOCK\",this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-waiting\"),this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-active-error\"),this._geolocateButton.classList.add(\"mapboxgl-ctrl-geolocate-active\");break;case\"BACKGROUND\":case\"BACKGROUND_ERROR\":this._watchState=\"BACKGROUND\",this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-waiting\"),this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-background-error\"),this._geolocateButton.classList.add(\"mapboxgl-ctrl-geolocate-background\");}this.options.showUserLocation&&\"OFF\"!==this._watchState&&this._updateMarker(t),this.options.trackUserLocation&&\"ACTIVE_LOCK\"!==this._watchState||this._updateCamera(t),this.options.showUserLocation&&this._dotElement.classList.remove(\"mapboxgl-user-location-dot-stale\"),this.fire(new e.Event(\"geolocate\",t)),this._finish();}}_updateCamera(t){const i=new e.LngLat(t.coords.longitude,t.coords.latitude),o=t.coords.accuracy,r=this._map.getBearing(),n=e.extend({bearing:r},this.options.fitBoundsOptions);this._map.fitBounds(i.toBounds(o),n,{geolocateSource:!0});}_updateMarker(t){if(t){const i=new e.LngLat(t.coords.longitude,t.coords.latitude);this._accuracyCircleMarker.setLngLat(i).addTo(this._map),this._userLocationDotMarker.setLngLat(i).addTo(this._map),this._accuracy=t.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius();}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove();}_updateCircleRadius(){const t=this._map.transform,i=e.mercatorZfromAltitude(1,t._center.lat)*t.worldSize,o=Math.ceil(2*this._accuracy*i);this._circleElement.style.width=`${o}px`,this._circleElement.style.height=`${o}px`;}_onZoom(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius();}_updateMarkerRotation(){this._userLocationDotMarker&&\"number\"==typeof this._heading?(this._userLocationDotMarker.setRotation(this._heading),this._dotElement.classList.add(\"mapboxgl-user-location-show-heading\")):(this._dotElement.classList.remove(\"mapboxgl-user-location-show-heading\"),this._userLocationDotMarker.setRotation(0));}_onError(t){if(this._map){if(this.options.trackUserLocation)if(1===t.code){this._watchState=\"OFF\",this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-waiting\"),this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-active\"),this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-active-error\"),this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-background\"),this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-background-error\"),this._geolocateButton.disabled=!0;const e=this._map._getUIString(\"GeolocateControl.LocationNotAvailable\");this._geolocateButton.setAttribute(\"aria-label\",e),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute(\"title\",e),void 0!==this._geolocationWatchID&&this._clearWatch();}else {if(3===t.code&&this._noTimeout)return;this._setErrorState();}\"OFF\"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add(\"mapboxgl-user-location-dot-stale\"),this.fire(new e.Event(\"error\",t)),this._finish();}}_finish(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0;}_setupUI(t){if(this._container.addEventListener(\"contextmenu\",(e=>e.preventDefault())),this._geolocateButton=n(\"button\",\"mapboxgl-ctrl-geolocate\",this._container),n(\"span\",\"mapboxgl-ctrl-icon\",this._geolocateButton).setAttribute(\"aria-hidden\",\"true\"),this._geolocateButton.type=\"button\",!1===t){e.warnOnce(\"Geolocation support is not available so the GeolocateControl will be disabled.\");const t=this._map._getUIString(\"GeolocateControl.LocationNotAvailable\");this._geolocateButton.disabled=!0,this._geolocateButton.setAttribute(\"aria-label\",t),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute(\"title\",t);}else {const e=this._map._getUIString(\"GeolocateControl.FindMyLocation\");this._geolocateButton.setAttribute(\"aria-label\",e),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute(\"title\",e);}this.options.trackUserLocation&&(this._geolocateButton.setAttribute(\"aria-pressed\",\"false\"),this._watchState=\"OFF\"),this.options.showUserLocation&&(this._dotElement=n(\"div\",\"mapboxgl-user-location\"),this._dotElement.appendChild(n(\"div\",\"mapboxgl-user-location-dot\")),this._dotElement.appendChild(n(\"div\",\"mapboxgl-user-location-heading\")),this._userLocationDotMarker=new on({element:this._dotElement,rotationAlignment:\"map\",pitchAlignment:\"map\"}),this._circleElement=n(\"div\",\"mapboxgl-user-location-accuracy-circle\"),this._accuracyCircleMarker=new on({element:this._circleElement,pitchAlignment:\"map\"}),this.options.trackUserLocation&&(this._watchState=\"OFF\"),this._map.on(\"zoom\",this._onZoom)),this._geolocateButton.addEventListener(\"click\",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on(\"movestart\",(t=>{t.geolocateSource||\"ACTIVE_LOCK\"!==this._watchState||t.originalEvent&&\"resize\"===t.originalEvent.type||(this._watchState=\"BACKGROUND\",this._geolocateButton.classList.add(\"mapboxgl-ctrl-geolocate-background\"),this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-active\"),this.fire(new e.Event(\"trackuserlocationend\")));}));}_onDeviceOrientation(e){this._userLocationDotMarker&&(e.webkitCompassHeading?this._heading=e.webkitCompassHeading:!0===e.absolute&&(this._heading=-1*e.alpha),this._updateMarkerRotationThrottled());}trigger(){if(!this._setup)return e.warnOnce(\"Geolocate control triggered before added to a map\"),!1;if(this.options.trackUserLocation){switch(this._watchState){case\"OFF\":this._watchState=\"WAITING_ACTIVE\",this.fire(new e.Event(\"trackuserlocationstart\"));break;case\"WAITING_ACTIVE\":case\"ACTIVE_LOCK\":case\"ACTIVE_ERROR\":case\"BACKGROUND_ERROR\":this._numberOfWatches--,this._noTimeout=!1,this._watchState=\"OFF\",this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-waiting\"),this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-active\"),this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-active-error\"),this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-background\"),this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-background-error\"),this.fire(new e.Event(\"trackuserlocationend\"));break;case\"BACKGROUND\":this._watchState=\"ACTIVE_LOCK\",this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-background\"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new e.Event(\"trackuserlocationstart\"));}switch(this._watchState){case\"WAITING_ACTIVE\":this._geolocateButton.classList.add(\"mapboxgl-ctrl-geolocate-waiting\"),this._geolocateButton.classList.add(\"mapboxgl-ctrl-geolocate-active\");break;case\"ACTIVE_LOCK\":this._geolocateButton.classList.add(\"mapboxgl-ctrl-geolocate-active\");break;case\"ACTIVE_ERROR\":this._geolocateButton.classList.add(\"mapboxgl-ctrl-geolocate-waiting\"),this._geolocateButton.classList.add(\"mapboxgl-ctrl-geolocate-active-error\");break;case\"BACKGROUND\":this._geolocateButton.classList.add(\"mapboxgl-ctrl-geolocate-background\");break;case\"BACKGROUND_ERROR\":this._geolocateButton.classList.add(\"mapboxgl-ctrl-geolocate-waiting\"),this._geolocateButton.classList.add(\"mapboxgl-ctrl-geolocate-background-error\");}if(\"OFF\"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){let e;this._geolocateButton.classList.add(\"mapboxgl-ctrl-geolocate-waiting\"),this._geolocateButton.setAttribute(\"aria-pressed\",\"true\"),this._numberOfWatches++,this._numberOfWatches>1?(e={maximumAge:6e5,timeout:0},this._noTimeout=!0):(e=this.options.positionOptions,this._noTimeout=!1),this._geolocationWatchID=this.options.geolocation.watchPosition(this._onSuccess,this._onError,e),this.options.showUserHeading&&this._addDeviceOrientationListener();}}else this.options.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return !0}_addDeviceOrientationListener(){const t=()=>{e.window.addEventListener(\"ondeviceorientationabsolute\"in e.window?\"deviceorientationabsolute\":\"deviceorientation\",this._onDeviceOrientation);};void 0!==e.window.DeviceMotionEvent&&\"function\"==typeof e.window.DeviceMotionEvent.requestPermission?DeviceOrientationEvent.requestPermission().then((e=>{\"granted\"===e&&t();})).catch(console.error):t();}_clearWatch(){this.options.geolocation.clearWatch(this._geolocationWatchID),e.window.removeEventListener(\"deviceorientation\",this._onDeviceOrientation),e.window.removeEventListener(\"deviceorientationabsolute\",this._onDeviceOrientation),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-waiting\"),this._geolocateButton.setAttribute(\"aria-pressed\",\"false\"),this.options.showUserLocation&&this._updateMarker(null);}},AttributionControl:Kr,ScaleControl:class{constructor(t){this.options=e.extend({},pn,t),function(){try{return new Intl.NumberFormat(\"en\",{style:\"unit\",unitDisplay:\"narrow\",unit:\"meter\"}),!0}catch(e){return !1}}()||(this._setScale=mn.bind(this)),e.bindAll([\"_update\",\"_setScale\",\"setUnit\"],this);}getDefaultPosition(){return \"bottom-left\"}_update(){const e=this.options.maxWidth||100,t=this._map,i=t._containerHeight/2,o=t._containerWidth/2-e/2,r=t.unproject([o,i]),n=t.unproject([o+e,i]),a=r.distanceTo(n);if(\"imperial\"===this.options.unit){const t=3.2808*a;t>5280?this._setScale(e,t/5280,\"mile\"):this._setScale(e,t,\"foot\");}else \"nautical\"===this.options.unit?this._setScale(e,a/1852,\"nautical-mile\"):a>=1e3?this._setScale(e,a/1e3,\"kilometer\"):this._setScale(e,a,\"meter\");}_setScale(e,t,i){const o=fn(t),r=o/t;this._map._requestDomTask((()=>{this._container.style.width=e*r+\"px\",this._container.innerHTML=\"nautical-mile\"!==i?new Intl.NumberFormat(this._language,{style:\"unit\",unitDisplay:\"narrow\",unit:i}).format(o):`${o}&nbsp;nm`;}));}onAdd(e){return this._map=e,this._language=e.getLanguage(),this._container=n(\"div\",\"mapboxgl-ctrl mapboxgl-ctrl-scale\",e.getContainer()),this._container.dir=\"auto\",this._map.on(\"move\",this._update),this._update(),this._container}onRemove(){this._container.remove(),this._map.off(\"move\",this._update),this._map=void 0;}_setLanguage(e){this._language=e,this._update();}setUnit(e){this.options.unit=e,this._update();}},FullscreenControl:class{constructor(t){this._fullscreen=!1,t&&t.container&&(t.container instanceof e.window.HTMLElement?this._container=t.container:e.warnOnce(\"Full screen control 'container' must be a DOM element.\")),e.bindAll([\"_onClickFullscreen\",\"_changeIcon\"],this),\"onfullscreenchange\"in e.window.document?this._fullscreenchange=\"fullscreenchange\":\"onwebkitfullscreenchange\"in e.window.document&&(this._fullscreenchange=\"webkitfullscreenchange\");}onAdd(t){return this._map=t,this._container||(this._container=this._map.getContainer()),this._controlContainer=n(\"div\",\"mapboxgl-ctrl mapboxgl-ctrl-group\"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display=\"none\",e.warnOnce(\"This device does not support fullscreen mode.\")),this._controlContainer}onRemove(){this._controlContainer.remove(),this._map=null,e.window.document.removeEventListener(this._fullscreenchange,this._changeIcon);}_checkFullscreenSupport(){return !(!e.window.document.fullscreenEnabled&&!e.window.document.webkitFullscreenEnabled)}_setupUI(){const t=this._fullscreenButton=n(\"button\",\"mapboxgl-ctrl-fullscreen\",this._controlContainer);n(\"span\",\"mapboxgl-ctrl-icon\",t).setAttribute(\"aria-hidden\",\"true\"),t.type=\"button\",this._updateTitle(),this._fullscreenButton.addEventListener(\"click\",this._onClickFullscreen),e.window.document.addEventListener(this._fullscreenchange,this._changeIcon);}_updateTitle(){const e=this._getTitle();this._fullscreenButton.setAttribute(\"aria-label\",e),this._fullscreenButton.firstElementChild&&this._fullscreenButton.firstElementChild.setAttribute(\"title\",e);}_getTitle(){return this._map._getUIString(this._isFullscreen()?\"FullscreenControl.Exit\":\"FullscreenControl.Enter\")}_isFullscreen(){return this._fullscreen}_changeIcon(){(e.window.document.fullscreenElement||e.window.document.webkitFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle(\"mapboxgl-ctrl-shrink\"),this._fullscreenButton.classList.toggle(\"mapboxgl-ctrl-fullscreen\"),this._updateTitle());}_onClickFullscreen(){this._isFullscreen()?e.window.document.exitFullscreen?e.window.document.exitFullscreen():e.window.document.webkitCancelFullScreen&&e.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen();}},Popup:class extends e.Evented{constructor(t){super(),this.options=e.extend(Object.create(rn),t),e.bindAll([\"_update\",\"_onClose\",\"remove\",\"_onMouseEvent\"],this),this._classList=new Set(t&&t.className?t.className.trim().split(/\\s+/):[]);}addTo(t){return this._map&&this.remove(),this._map=t,this.options.closeOnClick&&t.on(\"preclick\",this._onClose),this.options.closeOnMove&&t.on(\"move\",this._onClose),t.on(\"remove\",this.remove),this._update(),t._addPopup(this),this._focusFirstElement(),this._trackPointer?(t.on(\"mousemove\",this._onMouseEvent),t.on(\"mouseup\",this._onMouseEvent),t._canvasContainer.classList.add(\"mapboxgl-track-pointer\")):t.on(\"move\",this._update),this.fire(new e.Event(\"open\")),this}isOpen(){return !!this._map}remove(){this._content&&this._content.remove(),this._container&&(this._container.remove(),this._container=void 0);const t=this._map;return t&&(t.off(\"move\",this._update),t.off(\"move\",this._onClose),t.off(\"preclick\",this._onClose),t.off(\"click\",this._onClose),t.off(\"remove\",this.remove),t.off(\"mousemove\",this._onMouseEvent),t.off(\"mouseup\",this._onMouseEvent),t.off(\"drag\",this._onMouseEvent),t._canvasContainer&&t._canvasContainer.classList.remove(\"mapboxgl-track-pointer\"),t._removePopup(this),this._map=void 0),this.fire(new e.Event(\"close\")),this}getLngLat(){return this._lngLat}setLngLat(t){this._lngLat=e.LngLat.convert(t),this._pos=null,this._trackPointer=!1,this._update();const i=this._map;return i&&(i.on(\"move\",this._update),i.off(\"mousemove\",this._onMouseEvent),i._canvasContainer.classList.remove(\"mapboxgl-track-pointer\")),this}trackPointer(){this._trackPointer=!0,this._pos=null,this._update();const e=this._map;return e&&(e.off(\"move\",this._update),e.on(\"mousemove\",this._onMouseEvent),e.on(\"drag\",this._onMouseEvent),e._canvasContainer.classList.add(\"mapboxgl-track-pointer\")),this}getElement(){return this._container}setText(t){return this.setDOMContent(e.window.document.createTextNode(t))}setHTML(t){const i=e.window.document.createDocumentFragment(),o=e.window.document.createElement(\"body\");let r;for(o.innerHTML=t;r=o.firstChild,r;)i.appendChild(r);return this.setDOMContent(i)}getMaxWidth(){return this._container&&this._container.style.maxWidth}setMaxWidth(e){return this.options.maxWidth=e,this._update(),this}setDOMContent(e){let t=this._content;if(t)for(;t.hasChildNodes();)t.firstChild&&t.removeChild(t.firstChild);else t=this._content=n(\"div\",\"mapboxgl-popup-content\",this._container||void 0);if(t.appendChild(e),this.options.closeButton){const e=this._closeButton=n(\"button\",\"mapboxgl-popup-close-button\",t);e.type=\"button\",e.setAttribute(\"aria-label\",\"Close popup\"),e.setAttribute(\"aria-hidden\",\"true\"),e.innerHTML=\"&#215;\",e.addEventListener(\"click\",this._onClose);}return this._update(),this._focusFirstElement(),this}addClassName(e){return this._classList.add(e),this._updateClassList(),this}removeClassName(e){return this._classList.delete(e),this._updateClassList(),this}setOffset(e){return this.options.offset=e,this._update(),this}toggleClassName(e){let t;return this._classList.delete(e)?t=!1:(this._classList.add(e),t=!0),this._updateClassList(),t}_onMouseEvent(e){this._update(e.point);}_getAnchor(e){if(this.options.anchor)return this.options.anchor;const t=this._map,i=this._container,o=this._pos;if(!t||!i||!o)return \"bottom\";const r=i.offsetWidth,n=i.offsetHeight,a=o.x<r/2,s=o.x>t.transform.width-r/2;if(o.y+e<n)return a?\"top-left\":s?\"top-right\":\"top\";if(o.y>t.transform.height-n){if(a)return \"bottom-left\";if(s)return \"bottom-right\"}return a?\"left\":s?\"right\":\"bottom\"}_updateClassList(){const e=this._container;if(!e)return;const t=[...this._classList];t.push(\"mapboxgl-popup\"),this._anchor&&t.push(`mapboxgl-popup-anchor-${this._anchor}`),this._trackPointer&&t.push(\"mapboxgl-popup-track-pointer\"),e.className=t.join(\" \");}_update(t){const i=this._map,o=this._content;if(!i||!this._lngLat&&!this._trackPointer||!o)return;let r=this._container;if(r||(r=this._container=n(\"div\",\"mapboxgl-popup\",i.getContainer()),this._tip=n(\"div\",\"mapboxgl-popup-tip\",r),r.appendChild(o)),this.options.maxWidth&&r.style.maxWidth!==this.options.maxWidth&&(r.style.maxWidth=this.options.maxWidth),i.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=en(this._lngLat,this._pos,i.transform)),!this._trackPointer||t){const e=this._pos=this._trackPointer&&t?t:i.project(this._lngLat),o=an(this.options.offset),r=this._anchor=this._getAnchor(o.y),n=an(this.options.offset,r),a=e.add(n).round();i._requestDomTask((()=>{this._container&&r&&(this._container.style.transform=`${tn[r]} translate(${a.x}px,${a.y}px)`);}));}if(!this._marker&&i._showingGlobe()){const t=e.isLngLatBehindGlobe(i.transform,this._lngLat)?0:1;this._setOpacity(t);}this._updateClassList();}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const e=this._container.querySelector(nn);e&&e.focus();}_onClose(){this.remove();}_setOpacity(e){this._container&&(this._container.style.opacity=`${e}`),this._content&&(this._content.style.pointerEvents=e?\"auto\":\"none\");}},Marker:on,Style:ei,LngLat:e.LngLat,LngLatBounds:e.LngLatBounds,Point:e.pointGeometry,MercatorCoordinate:e.MercatorCoordinate,FreeCameraOptions:Zo,Evented:e.Evented,config:e.config,prewarm:function(){Ge().acquire(Fe);},clearPrewarmedResources:function(){const e=Ne;e&&(e.isPreloaded()&&1===e.numActive()?(e.release(Fe),Ne=null):console.warn(\"Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()\"));},get accessToken(){return e.config.ACCESS_TOKEN},set accessToken(t){e.config.ACCESS_TOKEN=t;},get baseApiUrl(){return e.config.API_URL},set baseApiUrl(t){e.config.API_URL=t;},get workerCount(){return Ue.workerCount},set workerCount(e){Ue.workerCount=e;},get maxParallelImageRequests(){return e.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(t){e.config.MAX_PARALLEL_IMAGE_REQUESTS=t;},clearStorage(t){e.clearTileCache(t);},workerUrl:\"\",workerClass:null,setNow:e.exported.setNow,restoreNow:e.exported.restoreNow};return gn}));\n\n//\n\nvar mapboxgl$1 = mapboxgl;\n\nreturn mapboxgl$1;\n\n}));\n//# sourceMappingURL=mapbox-gl.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbWFwYm94LWdsL2Rpc3QvbWFwYm94LWdsLmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQSxLQUE0RDtBQUM1RCxDQUN1RztBQUN2RyxDQUFDLHVCQUF1Qjs7QUFFeEI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0EsRUFBRTtBQUNGLDBEQUEwRCxpSUFBaUksa0ZBQWtGLHNCQUFzQiwrQkFBK0IsK0JBQStCLG9CQUFvQjs7QUFFclg7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5RkFBeUYseUJBQXlCO0FBQ2xIO0FBQ0E7QUFDQTs7O0FBR0EsZ0NBQWdDLGFBQWEsc0NBQXNDLFlBQVksTUFBTSxTQUFTLHFEQUFxRCxZQUFZLGlFQUFpRSxJQUFJLDJFQUEyRSxTQUFTLE1BQU0sU0FBUywwQkFBMEIsK0VBQStFLHdCQUF3QiwrRkFBK0YsdUJBQXVCLHVGQUF1Rix1QkFBdUIsaUZBQWlGLGtCQUFrQiw4TUFBOE0sOE1BQThNLElBQUkscUNBQXFDLHVCQUF1QixrQkFBa0IsY0FBYywwQkFBMEIsOEJBQThCLElBQUkseUZBQXlGLGdCQUFnQixVQUFVLHlCQUF5QixtRUFBbUUscUJBQXFCLHNCQUFzQixhQUFhLHdCQUF3Qiw4REFBOEQsYUFBYSxRQUFRLG9CQUFvQix5S0FBeUssYUFBYSx5QkFBeUIseUNBQXlDLDBCQUEwQix5Q0FBeUMsb0NBQW9DLHlDQUF5QywyQkFBMkIscUNBQXFDLGdCQUFnQixnQkFBZ0IsSUFBSSxLQUFLLDZCQUE2QiwwQkFBMEIscUNBQXFDLDBCQUEwQixRQUFRLFlBQVksWUFBWSxrREFBa0QsNkJBQTZCLFNBQVMscUJBQXFCLGtEQUFrRCxRQUFRLGdCQUFnQixtQkFBbUIsYUFBYSxpQkFBaUIsNEJBQTRCLGlCQUFpQiw0QkFBNEIsaUJBQWlCLDRCQUE0Qix5QkFBeUIsb0NBQW9DLHdCQUF3QixtQ0FBbUMsa0JBQWtCLDZCQUE2QixpQkFBaUIsNEJBQTRCLG9CQUFvQiwrQkFBK0IsNEJBQTRCLHVDQUF1QyxxQkFBcUIsZ0NBQWdDLGlCQUFpQiw0QkFBNEIsaUJBQWlCLDRCQUE0QixrQkFBa0IsNkJBQTZCLGdCQUFnQiw4Q0FBOEMsb0JBQW9CLGtDQUFrQyxrQkFBa0Isa0NBQWtDLHFCQUFxQiw4QkFBOEIsZUFBZSxrQkFBa0IsaUNBQWlDLHFCQUFxQix5Q0FBeUMsdUJBQXVCLGtDQUFrQyw0QkFBNEIsdURBQXVELHNCQUFzQiw4QkFBOEIsb0RBQW9ELGtCQUFrQixvQ0FBb0Msa0JBQWtCLG9DQUFvQyxtQkFBbUIsZ0NBQWdDLGtCQUFrQixnQ0FBZ0MsMEJBQTBCLG9DQUFvQyx5QkFBeUIsb0NBQW9DLGtCQUFrQixrQ0FBa0Msa0JBQWtCLGFBQWEsb0NBQW9DLHFCQUFxQixvREFBb0QsOENBQThDLDZCQUE2QixvRUFBb0UsOERBQThELG1CQUFtQixpRUFBaUUsdUJBQXVCLDZEQUE2RCxrQ0FBa0MsY0FBYyxXQUFXLGNBQWMsV0FBVyxrQ0FBa0MsY0FBYyxpQkFBaUIsaUJBQWlCLGtCQUFrQixnQ0FBZ0Msb0JBQW9CLHVCQUF1QixtQkFBbUIsbUJBQW1CLHdCQUF3QixrQkFBa0IsaUNBQWlDLGtCQUFrQix3Q0FBd0Msa0JBQWtCLDhCQUE4QixpQkFBaUIsa0JBQWtCLCtCQUErQixlQUFlLDRCQUE0QixXQUFXLG1CQUFtQixhQUFhLGdDQUFnQyxJQUFJLElBQUksY0FBYyxXQUFXLDhCQUE4QixTQUFTLG1CQUFtQiw0Q0FBNEMsU0FBUyxRQUFRLGFBQWEsV0FBVyxhQUFhLHFCQUFxQixxR0FBcUcsR0FBRyxjQUFjLDBEQUEwRCxjQUFjLHVCQUF1QixFQUFFLFVBQVUsRUFBRSxhQUFhLEVBQUUsZ0JBQWdCLEVBQUUsVUFBVSxHQUFHLFlBQVksZ0JBQWdCLGVBQWUsMkJBQTJCLElBQUksZ0JBQWdCLDJDQUEyQyxrQkFBa0IsV0FBVywrQ0FBK0MsU0FBUyxrQkFBa0IsV0FBVyx1REFBdUQsU0FBUyxjQUFjLGdFQUFnRSxXQUFXLGNBQWMsOERBQThELGtCQUFrQiwrQ0FBK0MsY0FBYyxRQUFRLGlDQUFpQyxJQUFJLDJDQUEyQyxTQUFTLGFBQWEsMEdBQTBHLGNBQWMsV0FBVyxzREFBc0QsaUJBQWlCLEVBQUUscUNBQXFDLGlCQUFpQixFQUFFLG9EQUFvRCxhQUFhLG1DQUFtQyxpQkFBaUIsa0NBQWtDLDZDQUE2QyxTQUFTLFdBQVcsY0FBYyxZQUFZLCtDQUErQyxpR0FBaUcsU0FBUyxjQUFjLElBQUksYUFBYSxxRUFBcUUsU0FBUyxXQUFXLGdCQUFnQiwyQ0FBMkMsdUJBQXVCLG9CQUFvQixjQUFjLElBQUksZ0JBQWdCLFdBQVcsY0FBYyxnQ0FBZ0MsZUFBZSx1QkFBdUIsZ0JBQWdCLG9CQUFvQix1QkFBdUIsc0NBQXNDLG9CQUFvQixxQkFBcUIsNkNBQTZDLEdBQUcsbUJBQW1CLGFBQWEsR0FBRyxZQUFZLGVBQWUsV0FBVyxVQUFVLDZJQUE2SSxvREFBb0QsdUJBQXVCLG1CQUFtQiwrTEFBK0wsV0FBVyxVQUFVLFVBQVUsSUFBSSxjQUFjLEdBQUcsWUFBWSxLQUFLLFNBQVMsR0FBRyxnSEFBZ0gsdUJBQXVCLHFFQUFxRSw0R0FBNEcscURBQXFELDZHQUE2RyxFQUFFLGNBQWMsMkNBQTJDLE1BQU0sNERBQTRELGtCQUFrQixZQUFZLHlEQUF5RCxtQkFBbUIscUJBQXFCLFNBQVMseUJBQXlCLGdCQUFnQiw4Q0FBOEMsY0FBYyxzQ0FBc0MsSUFBSSxhQUFhLHFGQUFxRiwwQkFBMEIsa0JBQWtCLFNBQVMsK0RBQStELCtDQUErQyw4Q0FBOEMsd0JBQXdCLGtGQUFrRixpQ0FBaUMsZ0RBQWdELGtCQUFrQix1Q0FBdUMsU0FBUyxNQUFNLDhCQUE4QixRQUFRLDRCQUE0QixrRUFBa0UsS0FBSyxpRkFBaUYsY0FBYyw0QkFBNEIsS0FBSyx1QkFBdUIsMEJBQTBCLGtCQUFrQixZQUFZLHFCQUFxQixvQkFBb0IsZ0JBQWdCLHNGQUFzRixvQ0FBb0MsSUFBSSwrQ0FBK0MsYUFBYSxhQUFhLG9CQUFvQixZQUFZLHFCQUFxQixNQUFNLGtHQUFrRyxNQUFNLHFCQUFxQiw2QkFBNkIsd0ZBQXdGLDREQUE0RCwySkFBMkosNEJBQTRCLGVBQWUsbUVBQW1FLGlCQUFpQix1QkFBdUIsMEJBQTBCLFNBQVMsWUFBWSwrRUFBK0UsNkNBQTZDLGlCQUFpQixzQkFBc0IsTUFBTSxrQkFBa0IsZUFBZSxtQkFBbUIsTUFBTSxlQUFlLHNDQUFzQyw2RkFBNkYseUJBQXlCLHFHQUFxRyxVQUFVLFdBQVcsdUJBQXVCLHlDQUF5Qyx3RUFBd0UsU0FBUyxxREFBcUQscUJBQXFCLG9CQUFvQixLQUFLLFNBQVMsYUFBYSxvQkFBb0IsNENBQTRDLEVBQUUsb0JBQW9CLDJDQUEyQyxHQUFHLCtCQUErQixxQkFBcUIsaURBQWlELHdDQUF3QyxpQkFBaUIsRUFBRSxpQ0FBaUMsV0FBVyxjQUFjLCtDQUErQyxVQUFVLDRHQUE0RyxJQUFJLHNDQUFzQyw0QkFBNEIsY0FBYywrRUFBK0UsVUFBVSxJQUFJLDJKQUEySix3Q0FBd0MsaUJBQWlCLEVBQUUsNENBQTRDLDBCQUEwQixHQUFHLFFBQVEsWUFBWSxrQkFBa0Isc0JBQXNCLGVBQWUsZ0NBQWdDLGVBQWUsK0JBQStCLGVBQWUseUNBQXlDLGVBQWUsa0NBQWtDLGlEQUFpRCxlQUFlLG9CQUFvQixvREFBb0QsUUFBUSw0RUFBNEUsZUFBZSw0QkFBNEIsbUJBQW1CLEtBQUssVUFBVSxXQUFXLEtBQUssWUFBWSxFQUFFLE9BQU8sRUFBRSxFQUFFLEVBQUUsZUFBZSxrQkFBa0IscUJBQXFCLGdDQUFnQyxJQUFJLG1JQUFtSSxTQUFTLGFBQWEsU0FBUyxlQUFlLDhDQUE4Qyx5Q0FBeUMsaUJBQWlCLDJCQUEyQixTQUFTLG1FQUFtRSxFQUFFLDRGQUE0RixFQUFFLEdBQUcsRUFBRSxzQkFBc0IsRUFBRSxFQUFFLGlCQUFpQiw4RUFBOEUsU0FBUyxrQ0FBa0Msa0NBQWtDLGtDQUFrQyxvQkFBb0IsU0FBUyx3Q0FBd0MsZ0JBQWdCLDhFQUE4RSxTQUFTLHVJQUF1SSxTQUFTLHVDQUF1QyxvQkFBb0IsbUJBQW1CLHdCQUF3Qix5QkFBeUIsOEJBQThCLHNCQUFzQixHQUFHLFNBQVMsa0RBQWtELGlCQUFpQixtQkFBbUIsNEJBQTRCLDJCQUEyQixrQ0FBa0MsZUFBZSxjQUFjLEtBQUssUUFBUSw0RUFBNEUsSUFBSSxrQkFBa0IsNkNBQTZDLDhCQUE4QixlQUFlLHFEQUFxRCx3QkFBd0IsNEdBQTRHLG1CQUFtQixxREFBcUQsc0ZBQXNGLGtEQUFrRCxnQ0FBZ0MsdUNBQXVDLDJCQUEyQiwrQkFBK0Isa0dBQWtHLDRDQUE0QyxVQUFVLG9CQUFvQiw0RkFBNEYsTUFBTSwyREFBMkQsOEJBQThCLDJEQUEyRCxjQUFjLGlDQUFpQyxtQkFBbUIsMEJBQTBCLG1GQUFtRiwwQkFBMEIsa0NBQWtDLG1CQUFtQixxREFBcUQsTUFBTSxpQkFBaUIsb0JBQW9CLDRHQUE0Ryw0RkFBNEYsTUFBTSwyQ0FBMkMsUUFBUSx5REFBeUQsY0FBYywyQkFBMkIsMEJBQTBCLHNEQUFzRCx1Q0FBdUMsS0FBSyxtQkFBbUIscURBQXFELE1BQU0sOEJBQThCLGtDQUFrQywwR0FBMEcsV0FBVywwREFBMEQsV0FBVyxFQUFFLG1CQUFtQixFQUFFLHNCQUFzQixFQUFFLGlCQUFpQiw2R0FBNkcsU0FBUyxlQUFlLFdBQVcsdUJBQXVCLGFBQWEsdUNBQXVDLFNBQVMsa0hBQWtILHNDQUFzQyxhQUFhLGlCQUFpQiwwQkFBMEIsSUFBSSxzQ0FBc0Msc05BQXNOLHdDQUF3QyxnQ0FBZ0MsMENBQTBDLHVCQUF1Qiw2QkFBNkIsVUFBVSwrQkFBK0IsMENBQTBDLEtBQUssR0FBRyxLQUFLLElBQUksdXZCQUF1dkIsSUFBSSwyQkFBMkIsMkJBQTJCLDZCQUE2QiwwQkFBMEIsT0FBTyw2REFBNkQsY0FBYyxpQ0FBaUMsbUJBQW1CLG9CQUFvQixzQ0FBc0MscUNBQXFDLHFCQUFxQixNQUFNLGlDQUFpQyxzQkFBc0IsR0FBRyxTQUFTLG1CQUFtQiw4QkFBOEIsa0NBQWtDLGVBQWUsYUFBYSxLQUFLLFFBQVEsNEVBQTRFLElBQUksdUJBQXVCLGdHQUFnRywwQkFBMEIsa0NBQWtDLG1CQUFtQixxREFBcUQsTUFBTSxpQkFBaUIsb0JBQW9CLHlEQUF5RCwyQ0FBMkMsT0FBTyw2Q0FBNkMsZ0RBQWdELEtBQUssUUFBUSx1QkFBdUIsZ0JBQWdCLGdDQUFnQyxlQUFlLDZCQUE2Qiw2RkFBNkYsaUNBQWlDLHlEQUF5RCxvQ0FBb0MsdUJBQXVCLHVCQUF1QixlQUFlLGtDQUFrQyw4QkFBOEIsZ0JBQWdCLFVBQVUscURBQXFELE1BQU0sY0FBYyxXQUFXLFVBQVUsbUNBQW1DLFFBQVEsc0NBQXNDLHFCQUFxQixNQUFNLGlCQUFpQixHQUFHLDRDQUE0Qyw0QkFBNEIsNERBQTRELG1KQUFtSixpR0FBaUcsMEJBQTBCLDRCQUE0QixzR0FBc0csbUJBQW1CLDBEQUEwRCxtQkFBbUIsWUFBWSx3QkFBd0IsMkJBQTJCLFNBQVMsa0JBQWtCLEVBQUUsd0JBQXdCLG9CQUFvQixrQkFBa0IsRUFBRSxpQkFBaUIsUUFBUSxPQUFPLFNBQVMsUUFBUSwwQ0FBMEMsOEJBQThCLFNBQVMsbUVBQW1FLFVBQVUsMkRBQTJELHVFQUF1RSxVQUFVLHFDQUFxQyxHQUFHLGVBQWUsb0JBQW9CLGNBQWMsMEVBQTBFLGdDQUFnQywrRkFBK0YsK0RBQStELDRCQUE0QixrSEFBa0gsNkNBQTZDLFlBQVksV0FBVyx3TkFBd04sc0JBQXNCLDZEQUE2RCxvQkFBb0Isc0JBQXNCLFdBQVcsMkNBQTJDLFNBQVMsZ0JBQWdCLGFBQWEsV0FBVyxXQUFXLGdDQUFnQyxTQUFTLGdCQUFnQixZQUFZLDJEQUEyRCxVQUFVLDhDQUE4QyxVQUFVLGVBQWUsWUFBWSxpQkFBaUIsUUFBUSxhQUFhLFlBQVksaUNBQWlDLFdBQVcsZ0JBQWdCLFdBQVcsZ0JBQWdCLGVBQWUsb0JBQW9CLGVBQWUsb0JBQW9CLFdBQVcsZ0RBQWdELFlBQVksS0FBSyxpQkFBaUIsZ0lBQWdJLFFBQVEsd0NBQXdDLGFBQWEsUUFBUSxnQkFBZ0IsVUFBVSxnQ0FBZ0MsV0FBVyxxRkFBcUYsV0FBVyx3QkFBd0IsUUFBUSxVQUFVLGlCQUFpQixZQUFZLDRCQUE0QixZQUFZLDZCQUE2QixnQkFBZ0IsZ0JBQWdCLGNBQWMsbUJBQW1CLGFBQWEsaUNBQWlDLE1BQU0sWUFBWSxrQkFBa0IsUUFBUSx3Q0FBd0MsYUFBYSxRQUFRLGdCQUFnQixVQUFVLGdDQUFnQyxXQUFXLHFGQUFxRixZQUFZLDRCQUE0QixZQUFZLDZCQUE2QixhQUFhLCtDQUErQyxXQUFXLHdCQUF3QixRQUFRLFVBQVUsaUJBQWlCLGdCQUFnQixnQkFBZ0IsYUFBYSxpQ0FBaUMsTUFBTSxZQUFZLHNCQUFzQixRQUFRLHdDQUF3QyxpQkFBaUIsUUFBUSxnQkFBZ0IsVUFBVSxnQ0FBZ0MsV0FBVyxxRkFBcUYsWUFBWSw0QkFBNEIsWUFBWSw2QkFBNkIsYUFBYSwrQ0FBK0MsZ0JBQWdCLGdCQUFnQixhQUFhLHdCQUF3QixjQUFjLGFBQWEsb0JBQW9CLGFBQWEsaUNBQWlDLE1BQU0sWUFBWSxtQkFBbUIsUUFBUSx3Q0FBd0MsY0FBYyxTQUFTLFdBQVcsWUFBWSw2QkFBNkIsZ0JBQWdCLGdCQUFnQixXQUFXLHdEQUF3RCxXQUFXLFdBQVcsY0FBYyxnQ0FBZ0MsWUFBWSxpQ0FBaUMsa0JBQWtCLHlDQUF5QyxtQkFBbUIsZ0JBQWdCLHFCQUFxQixnQkFBZ0Isc0JBQXNCLFdBQVcsZ0JBQWdCLGlDQUFpQyxlQUFlLGlDQUFpQyxjQUFjLG9CQUFvQixpQkFBaUIsUUFBUSx3Q0FBd0MsWUFBWSxTQUFTLGdEQUFnRCxnQkFBZ0IsbURBQW1ELDZDQUE2QyxpQkFBaUIsUUFBUSx3Q0FBd0MsWUFBWSxRQUFRLGdDQUFnQyxnQkFBZ0IsbURBQW1ELDZDQUE2QyxVQUFVLE1BQU0sZ0NBQWdDLFNBQVMsd0JBQXdCLFNBQVMsVUFBVSxZQUFZLFlBQVksYUFBYSxvQkFBb0IsWUFBWSxlQUFlLGdCQUFnQixVQUFVLGlCQUFpQixhQUFhLFdBQVcsV0FBVyxnQkFBZ0IsaUJBQWlCLGdCQUFnQixZQUFZLHlDQUF5QyxZQUFZLHlDQUF5QyxXQUFXLGdCQUFnQixXQUFXLGdCQUFnQixVQUFVLGdCQUFnQiwwTUFBME0sY0FBYyx3QkFBd0IsWUFBWSxXQUFXLGlEQUFpRCxlQUFlLGNBQWMsd0JBQXdCLFlBQVksV0FBVyxpREFBaUQsZ0JBQWdCLGlCQUFpQiw4QkFBOEIscURBQXFELCtCQUErQixlQUFlLHdCQUF3QixZQUFZLFdBQVcsaURBQWlELGtCQUFrQixtQkFBbUIsOEJBQThCLHFEQUFxRCwrQkFBK0IsZUFBZSx3QkFBd0IsWUFBWSxXQUFXLGlEQUFpRCxtQkFBbUIsY0FBYyx3QkFBd0IsWUFBWSxXQUFXLGlEQUFpRCwwQkFBMEIsY0FBYyx3QkFBd0IsWUFBWSxXQUFXLGdEQUFnRCwrQkFBK0IsK0ZBQStGLGdCQUFnQixZQUFZLHdCQUF3QixTQUFTLFdBQVcsYUFBYSxnQ0FBZ0MscURBQXFELCtCQUErQixjQUFjLHdCQUF3QixVQUFVLFdBQVcsWUFBWSxpQ0FBaUMscURBQXFELCtCQUErQixxQkFBcUIseUNBQXlDLG9CQUFvQixnQkFBZ0IsMENBQTBDLGlDQUFpQyxxQkFBcUIsNENBQTRDLG9CQUFvQixnQkFBZ0IsMENBQTBDLGlDQUFpQyxrQkFBa0IsOEJBQThCLHFEQUFxRCwrQkFBK0IsZUFBZSx3QkFBd0IsWUFBWSxXQUFXLGlEQUFpRCxrQkFBa0Isb0JBQW9CLHdCQUF3QixVQUFVLFVBQVUsa0JBQWtCLGlDQUFpQywyQ0FBMkMsaUNBQWlDLG1CQUFtQix3RUFBd0UsMEJBQTBCLGdCQUFnQiwwQ0FBMEMsaUNBQWlDLHVCQUF1QiwrQ0FBK0MsMkNBQTJDLGlDQUFpQyxvQkFBb0IsOEJBQThCLHFEQUFxRCwrQkFBK0IsbUJBQW1CLHdCQUF3QixTQUFTLGdCQUFnQixhQUFhLGdDQUFnQywyQ0FBMkMsaUNBQWlDLHVCQUF1Qix5RUFBeUUsMkNBQTJDLGlDQUFpQywwQkFBMEIseUVBQXlFLDJDQUEyQyxpQ0FBaUMsa0JBQWtCLHNGQUFzRiwyQ0FBMkMsaUNBQWlDLDRCQUE0Qix3QkFBd0IsUUFBUSxjQUFjLFdBQVcsMERBQTBELDJDQUEyQyxpQ0FBaUMsY0FBYywySEFBMkgsb0RBQW9ELCtCQUErQixrQkFBa0Isd0JBQXdCLFNBQVMsV0FBVyxZQUFZLFdBQVcsdUVBQXVFLDJDQUEyQyxpQ0FBaUMsMEJBQTBCLHVIQUF1SCwwQ0FBMEMsZ0JBQWdCLDBDQUEwQyxpQ0FBaUMsZUFBZSxtREFBbUQscURBQXFELCtCQUErQixnQkFBZ0IsbUdBQW1HLG9EQUFvRCwrQkFBK0IsaUJBQWlCLGlHQUFpRywwQ0FBMEMsaUNBQWlDLHNCQUFzQiwyREFBMkQsZ0NBQWdDLEVBQUUsMENBQTBDLGdCQUFnQiwyQ0FBMkMsaUNBQWlDLGdCQUFnQixtR0FBbUcsb0RBQW9ELCtCQUErQixnQkFBZ0Isd0JBQXdCLFdBQVcsVUFBVSxXQUFXLFNBQVMsWUFBWSxjQUFjLGVBQWUsaUJBQWlCLG1CQUFtQiw0REFBNEQscURBQXFELCtCQUErQix5QkFBeUIsd0JBQXdCLFFBQVEsY0FBYyxXQUFXLDBEQUEwRCwyQ0FBMkMsaUNBQWlDLHlCQUF5Qix3QkFBd0IsUUFBUSxjQUFjLFdBQVcsMERBQTBELDJDQUEyQyxpQ0FBaUMsNEJBQTRCLHdCQUF3QixRQUFRLGNBQWMsV0FBVywwREFBMEQsMkNBQTJDLGlDQUFpQyxlQUFlLDREQUE0RCxxREFBcUQsK0JBQStCLGNBQWMsbUlBQW1JLHFEQUFxRCwrQkFBK0IsY0FBYyxrR0FBa0csb0RBQW9ELCtCQUErQixtQkFBbUIsaUZBQWlGLDZCQUE2QixnQkFBZ0Isb0RBQW9ELCtCQUErQixxQkFBcUIsb0ZBQW9GLG9EQUFvRCwrQkFBK0Isd0JBQXdCLGtGQUFrRixvREFBb0QsK0JBQStCLGlCQUFpQix3QkFBd0IsU0FBUyxVQUFVLFlBQVksWUFBWSw0REFBNEQscURBQXFELCtCQUErQix1QkFBdUIsZ0hBQWdILHFEQUFxRCx5QkFBeUIsd0NBQXdDLFdBQVcsVUFBVSxXQUFXLFNBQVMsWUFBWSxjQUFjLGVBQWUsaUJBQWlCLG1CQUFtQiwyQkFBMkIsNkJBQTZCLGdCQUFnQiwyQ0FBMkMsaUNBQWlDLGdCQUFnQix3QkFBd0IsV0FBVyxVQUFVLFdBQVcsU0FBUyxZQUFZLGNBQWMsZUFBZSxpQkFBaUIsbUJBQW1CLDhDQUE4QywyQkFBMkIsZ0JBQWdCLHFEQUFxRCwrQkFBK0IsbUJBQW1CLHlFQUF5RSwwQ0FBMEMsZ0JBQWdCLDBDQUEwQyxpQ0FBaUMsc0JBQXNCLHdDQUF3QyxlQUFlLGVBQWUseUNBQXlDLDJDQUEyQyxpQ0FBaUMsZ0JBQWdCLG1HQUFtRyxvREFBb0QsK0JBQStCLGlCQUFpQixpR0FBaUcsMENBQTBDLGlDQUFpQyxzQkFBc0IsMERBQTBELGdDQUFnQyxFQUFFLDBDQUEwQyxnQkFBZ0IsMkNBQTJDLGlDQUFpQyxtQkFBbUIsd0JBQXdCLFNBQVMsZUFBZSxnQkFBZ0IsMERBQTBELHFEQUFxRCwrQkFBK0IsZ0JBQWdCLG1HQUFtRyx5QkFBeUIsZ0JBQWdCLG9EQUFvRCwrQkFBK0IsdUJBQXVCLHlFQUF5RSwyQ0FBMkMsaUNBQWlDLDBCQUEwQix5RUFBeUUsMkNBQTJDLGlDQUFpQyxrQkFBa0Isc0ZBQXNGLDJDQUEyQyxpQ0FBaUMsZUFBZSx3QkFBd0IsWUFBWSxXQUFXLGlEQUFpRCxrQkFBa0IsY0FBYyx3QkFBd0IsWUFBWSxXQUFXLGlEQUFpRCxxQkFBcUIsY0FBYyx3QkFBd0IsWUFBWSxXQUFXLGlEQUFpRCxXQUFXLDJCQUEyQixrQkFBa0IsZ0dBQWdHLHFGQUFxRixnQkFBZ0IsZ0dBQWdHLHNEQUFzRCxnQkFBZ0IsZ0dBQWdHLHNEQUFzRCxrQkFBa0IsZ0dBQWdHLHNEQUFzRCwwQkFBMEIsZ0dBQWdHLHNEQUFzRCxtQkFBbUIsZ0dBQWdHLHNEQUFzRCxvQkFBb0Isd0JBQXdCLE9BQU8sUUFBUSxPQUFPLFFBQVEsT0FBTyxRQUFRLFFBQVEsU0FBUyxTQUFTLFNBQVMsVUFBVSxTQUFTLFVBQVUsY0FBYyxrQkFBa0Isd0JBQXdCLFVBQVUsZ0JBQWdCLGVBQWUsYUFBYSxjQUFjLG9CQUFvQixVQUFVLHVDQUF1QyxTQUFTLHdDQUF3QyxhQUFhLGtDQUFrQyxTQUFTLHdCQUF3QixhQUFhLGlCQUFpQixjQUFjLGtCQUFrQix5QkFBeUIsZUFBZSx3QkFBd0IsUUFBUSxTQUFTLFVBQVUsaUJBQWlCLFlBQVksNkJBQTZCLGtCQUFrQiw4RUFBOEUsZUFBZSx1Q0FBdUMsUUFBUSxTQUFTLHlKQUF5SiwyQ0FBMkMsVUFBVSxpRkFBaUYsMENBQTBDLG1CQUFtQixlQUFlLGlGQUFpRiwwQ0FBMEMsbUJBQW1CLGdCQUFnQixtSUFBbUksMENBQTBDLG1CQUFtQixrQkFBa0IsZ0pBQWdKLDBDQUEwQyxtQkFBbUIsbUJBQW1CLCtJQUErSSwwQ0FBMEMsb0JBQW9CLFVBQVUsVUFBVSw2Q0FBNkMsUUFBUSxlQUFlLGtFQUFrRSw0Q0FBNEMsYUFBYSxtSUFBbUksMkNBQTJDLFVBQVUsaUZBQWlGLDBDQUEwQyxtQkFBbUIsY0FBYyxvR0FBb0csMENBQTBDLG9CQUFvQixlQUFlLFFBQVEsd0JBQXdCLFdBQVcsZ0JBQWdCLHFCQUFxQiwyQkFBMkIsY0FBYyxrQkFBa0Isa0JBQWtCLFlBQVksc0NBQXNDLFdBQVcsbUpBQW1KLDBDQUEwQyxFQUFFLGNBQWMsaUpBQWlKLDBDQUEwQyxHQUFHLFlBQVksVUFBVSxnQ0FBZ0MsaUJBQWlCLHFHQUFxRywwQ0FBMEMsMENBQTBDLHdMQUF3TCxrQkFBa0IsOENBQThDLDJDQUEyQyxpQ0FBaUMsaUJBQWlCLG9GQUFvRixvRUFBb0UsK0JBQStCLGVBQWUsa0VBQWtFLG1CQUFtQixnQkFBZ0Isb0VBQW9FLCtCQUErQix1QkFBdUIsOENBQThDLG1CQUFtQixFQUFFLHNCQUFzQixnQkFBZ0Isb0VBQW9FLCtCQUErQixtQkFBbUIsNEdBQTRHLDBDQUEwQyxpQ0FBaUMsMEJBQTBCLHdCQUF3QixRQUFRLGVBQWUsNkRBQTZELDJDQUEyQyxpQ0FBaUMsaUJBQWlCLHVEQUF1RCxxREFBcUQsNENBQTRDLHlCQUF5QiwwQkFBMEIsb0ZBQW9GLDBDQUEwQyxpQ0FBaUMseUJBQXlCLGtFQUFrRSw2QkFBNkIsZ0JBQWdCLG9FQUFvRSwrQkFBK0IsNkJBQTZCLDRHQUE0RywwQ0FBMEMsaUNBQWlDLG9DQUFvQyx3QkFBd0IsUUFBUSxlQUFlLHVFQUF1RSwyQ0FBMkMsaUNBQWlDLDJCQUEyQix1REFBdUQscURBQXFELDJDQUEyQywwQkFBMEIseUZBQXlGLG9FQUFvRSwrQkFBK0Isd0JBQXdCLDhIQUE4SCxvRUFBb0UsK0JBQStCLHFDQUFxQyxpRUFBaUUsMkNBQTJDLGlDQUFpQywrQ0FBK0MsaUhBQWlILDBDQUEwQyxtQkFBbUIsNENBQTRDLHFHQUFxRywwQ0FBMEMsOERBQThELGVBQWUsZ0JBQWdCLG9GQUFvRixvRUFBb0UsK0JBQStCLGVBQWUsa0VBQWtFLG1CQUFtQixnQkFBZ0Isb0VBQW9FLCtCQUErQixtQkFBbUIsNEdBQTRHLDBDQUEwQyxpQ0FBaUMsMEJBQTBCLHdCQUF3QixRQUFRLGVBQWUsNkRBQTZELDJDQUEyQyxpQ0FBaUMsZUFBZSx5RkFBeUYsb0VBQW9FLCtCQUErQixtQkFBbUIseUZBQXlGLG9FQUFvRSwrQkFBK0IsZ0JBQWdCLDZFQUE2RSxvRUFBb0UsK0JBQStCLGNBQWMseUZBQXlGLG9FQUFvRSwrQkFBK0IsbUJBQW1CLGlHQUFpRyxtQkFBbUIsZ0JBQWdCLHFEQUFxRCwyQ0FBMkMsaUJBQWlCLHVEQUF1RCxxREFBcUQsMkNBQTJDLGtCQUFrQiwrQ0FBK0MsbUJBQW1CLEVBQUUsMEJBQTBCLG9CQUFvQixnQkFBZ0IsbURBQW1ELDhCQUE4QixxQkFBcUIsMkhBQTJILDBCQUEwQixvQkFBb0IsOEJBQThCLGlCQUFpQixpQkFBaUIseUZBQXlGLG9FQUFvRSwrQkFBK0IsaUJBQWlCLG1FQUFtRSxvRUFBb0UsK0JBQStCLGdCQUFnQiw0REFBNEQsb0VBQW9FLCtCQUErQixtQkFBbUIsb0ZBQW9GLG9FQUFvRSwrQkFBK0IscUJBQXFCLDRHQUE0RywwQ0FBMEMsaUNBQWlDLDRCQUE0Qix3QkFBd0IsUUFBUSxlQUFlLCtEQUErRCwyQ0FBMkMsaUNBQWlDLHVCQUF1Qix3QkFBd0IsUUFBUSxlQUFlLCtCQUErQiwyQ0FBMkMsaUNBQWlDLDJCQUEyQix3QkFBd0IsUUFBUSxlQUFlLG9DQUFvQywyQ0FBMkMsaUNBQWlDLHdCQUF3Qix5RkFBeUYsb0VBQW9FLCtCQUErQix3QkFBd0IsbUVBQW1FLG9FQUFvRSwrQkFBK0IsMEJBQTBCLG9GQUFvRixvRUFBb0UsZ0NBQWdDLGtCQUFrQixrQkFBa0IsMEZBQTBGLG9FQUFvRSwrQkFBK0IsbUJBQW1CLHlFQUF5RSxvRUFBb0UsK0JBQStCLHNCQUFzQix3RUFBd0UsMENBQTBDLGlDQUFpQyxrQkFBa0IsMkxBQTJMLHFEQUFxRCw4QkFBOEIsb0JBQW9CLG9GQUFvRiwwQ0FBMEMsa0NBQWtDLGlCQUFpQixnQkFBZ0IsOEdBQThHLG9FQUFvRSwrQkFBK0IsZUFBZSw2RkFBNkYsb0VBQW9FLCtCQUErQixvQkFBb0Isc0dBQXNHLG9FQUFvRSwrQkFBK0Isb0JBQW9CLG1IQUFtSCxvRUFBb0UsK0JBQStCLG1CQUFtQixtSEFBbUgsb0VBQW9FLCtCQUErQixtQkFBbUIsc0lBQXNJLDBDQUEwQyxpQ0FBaUMsMEJBQTBCLHdCQUF3QixRQUFRLGVBQWUsMEVBQTBFLDJDQUEyQyxpQ0FBaUMsaUJBQWlCLDhHQUE4RyxvRUFBb0UsK0JBQStCLGVBQWUsZ0hBQWdILG9FQUFvRSwrQkFBK0Isb0JBQW9CLHNHQUFzRyxvRUFBb0UsK0JBQStCLG9CQUFvQixtSEFBbUgsb0VBQW9FLCtCQUErQixtQkFBbUIsbUhBQW1ILG9FQUFvRSwrQkFBK0IsbUJBQW1CLHNJQUFzSSwwQ0FBMEMsaUNBQWlDLDBCQUEwQix3QkFBd0IsUUFBUSxlQUFlLDBFQUEwRSwyQ0FBMkMsa0NBQWtDLGlCQUFpQixrQkFBa0Isb0ZBQW9GLDBDQUEwQyxpQ0FBaUMsc0JBQXNCLDJGQUEyRiwwQ0FBMEMsaUNBQWlDLDBCQUEwQixvRkFBb0YsMENBQTBDLGlDQUFpQywwQkFBMEIsb0ZBQW9GLDBDQUEwQyxpQ0FBaUMsc0JBQXNCLHFGQUFxRiwwQ0FBMEMsaUNBQWlDLG9CQUFvQixxRkFBcUYsMENBQTBDLGlDQUFpQyxzQkFBc0Isd0JBQXdCLFdBQVcsY0FBYyxrQ0FBa0MsMkNBQTJDLGlDQUFpQyx5QkFBeUIsa0dBQWtHLDBDQUEwQyxrQ0FBa0Msb0JBQW9CLG9DQUFvQyx5RkFBeUYsMENBQTBDLGlDQUFpQyxrQ0FBa0Msd0JBQXdCLFFBQVEsZUFBZSxvQ0FBb0MsMkNBQTJDLGlDQUFpQywyQkFBMkIsc0ZBQXNGLDBDQUEwQyxpQ0FBaUMsMkJBQTJCLG1FQUFtRSwwQ0FBMEMsaUNBQWlDLDhCQUE4QixtRUFBbUUsMENBQTBDLGlDQUFpQywyQkFBMkIsbUVBQW1FLDBDQUEwQyxrQ0FBa0MscUJBQXFCLG9CQUFvQixrRUFBa0UseUJBQXlCLGdCQUFnQiwwQ0FBMEMsaUNBQWlDLHVCQUF1Qix1REFBdUQsMkNBQTJDLCtCQUErQix1QkFBdUIsb0ZBQW9GLDBDQUEwQyxrQ0FBa0MsY0FBYyxZQUFZLHdCQUF3QixhQUFhLGlCQUFpQixzQ0FBc0MsMkNBQTJDLGlDQUFpQyx1QkFBdUIsaUlBQWlJLHdCQUF3QixnQkFBZ0IsMkNBQTJDLGlDQUFpQyxpQ0FBaUMsNkJBQTZCLHdCQUF3Qiw0RkFBNEYsd0JBQXdCLDRCQUE0QixzQkFBc0IscUlBQXFJLDJDQUEyQyxpQ0FBaUMsd0JBQXdCLDZCQUE2QixzQkFBc0IsMEVBQTBFLDJDQUEyQyxpQ0FBaUMsaUJBQWlCLG9JQUFvSSxzQkFBc0IsZ0JBQWdCLHlEQUF5RCw4QkFBOEIsOEJBQThCLGlFQUFpRSx3QkFBd0Isa0NBQWtDLHlCQUF5QixpRUFBaUUsd0JBQXdCLGtDQUFrQyxnQkFBZ0Isb0ZBQW9GLDBDQUEwQyxrQ0FBa0MsZUFBZSxZQUFZLGlFQUFpRSxVQUFVLGdFQUFnRSxrQkFBa0IsZUFBZSx1QkFBdUIsZ0JBQWdCLHVCQUF1Qiw0QkFBNEIsdUJBQXVCLGVBQWUsdUJBQXVCLGtCQUFrQix1QkFBdUIsYUFBYSx3QkFBd0IsY0FBYyxLQUFLLGtCQUFrQixHQUFHLG9CQUFvQiw0Q0FBNEMsU0FBUyxlQUFlLG9GQUFvRixlQUFlLHFDQUFxQywyRkFBMkYsV0FBVywrQkFBK0IsU0FBUyxhQUFhLHVCQUF1QixpQkFBaUIscUNBQXFDLFVBQVUsU0FBUyxvQkFBb0IsK0JBQStCLHVDQUF1QyxVQUFVLHNCQUFzQixPQUFPLDRDQUE0Qyx5Q0FBeUMsbUJBQW1CLEdBQUcsc0JBQXNCLE9BQU8sOERBQThELFVBQVUsVUFBVSxZQUFZLEtBQUssY0FBYyxLQUFLLGNBQWMsS0FBSyxlQUFlLEtBQUssYUFBYSxLQUFLLGNBQWMsS0FBSyxhQUFhLEtBQUssZ0JBQWdCLEtBQUssaUJBQWlCLEtBQUssc0JBQXNCLGlCQUFpQixRQUFRLDZCQUE2QixlQUFlLHFCQUFxQix1QkFBdUIscUNBQXFDLEVBQUUsSUFBSSxJQUFJLDhDQUE4QyxFQUFFLEdBQUcsY0FBYywwQ0FBMEMsaUJBQWlCLGdDQUFnQyxxQkFBcUIscUlBQXFJLE1BQU0sK0JBQStCLDhEQUE4RCxtQkFBbUIsT0FBTyxZQUFZLE9BQU8sVUFBVSxpQkFBaUIsb0NBQW9DLGlCQUFpQix3SUFBd0ksV0FBVyxpb0hBQWlvSCxlQUFlLHlDQUF5QyxlQUFlLGlFQUFpRSxlQUFlLDJFQUEyRSxPQUFPLG1CQUFtQixnRkFBZ0YsSUFBSSxLQUFLLDJCQUEyQix5Q0FBeUMsZ0NBQWdDLG9QQUFvUCxzQ0FBc0MsMkJBQTJCLDJEQUEyRCxVQUFVLHVDQUF1QyxjQUFjLGtFQUFrRSx1Q0FBdUMsY0FBYyxzQ0FBc0MsK0ZBQStGLHlFQUF5RSxxQkFBcUIsY0FBYyxVQUFVLFNBQVMsdUJBQXVCLHFDQUFxQyxnQkFBZ0IsYUFBYSw0QkFBNEIsNkJBQTZCLGNBQWMsdUVBQXVFLFdBQVcsOEJBQThCLGVBQWUsY0FBYyxHQUFHLGNBQWMsR0FBRyxjQUFjLEdBQUcsRUFBRSxHQUFHLFVBQVUsTUFBTSxnQkFBZ0IsTUFBTSxtREFBbUQsWUFBWSxNQUFNLGdCQUFnQixNQUFNLHVDQUF1Qyw4QkFBOEIsTUFBTSxnQkFBZ0IsTUFBTSxrQkFBa0IsZ0lBQWdJLFVBQVUsU0FBUyxtQkFBbUIsa0lBQWtJLDRDQUE0QyxHQUFHLGFBQWEsa0NBQWtDLGlCQUFpQiwrRUFBK0UsU0FBUyx1QkFBdUIsb0dBQW9HLFNBQVMsZUFBZSxpQkFBaUIscUJBQXFCLCtDQUErQyxVQUFVLCtHQUErRyxrQkFBa0IsMENBQTBDLFdBQVcsMkVBQTJFLFlBQVksbUJBQW1CLDhCQUE4QixZQUFZLCtCQUErQixTQUFTLGVBQWUsV0FBVyxxTEFBcUwsVUFBVSxTQUFTLGVBQWUsNkNBQTZDLFdBQVcsaUJBQWlCLHFCQUFxQixpQkFBaUIsb0JBQW9CLE9BQU8sWUFBWSw0QkFBNEIscUJBQXFCLG1MQUFtTCxxQkFBcUIsd0RBQXdELGtEQUFrRCxpREFBaUQsZUFBZSxzQkFBc0IsZ0NBQWdDLGlDQUFpQyxnQ0FBZ0MsNkJBQTZCLDZCQUE2Qiw2QkFBNkIsNkJBQTZCLHFCQUFxQixxQ0FBcUMsVUFBVSx1QkFBdUIsd0NBQXdDLFVBQVUsVUFBVSxlQUFlLHNCQUFzQixnQ0FBZ0MsaUNBQWlDLGdDQUFnQyw2QkFBNkIsNkJBQTZCLDZCQUE2Qiw2QkFBNkIscUJBQXFCLGlCQUFpQixNQUFNLGtCQUFrQixjQUFjLE1BQU0sa0JBQWtCLEtBQUssTUFBTSxLQUFLLG1CQUFtQixVQUFVLGVBQWUsaUJBQWlCLHdKQUF3SixTQUFTLGlCQUFpQiwwQkFBMEIsa0JBQWtCLGdHQUFnRyxZQUFZLFdBQVcsNkNBQTZDLGFBQWEsWUFBWSx1QkFBdUIseUdBQXlHLFdBQVcsa0JBQWtCLGFBQWEsZ0JBQWdCLFVBQVUsWUFBWSw2TUFBNk0sbUJBQW1CLGVBQWUsc0RBQXNELFNBQVMsc0JBQXNCLFVBQVUsMENBQTBDLFNBQVMsaUJBQWlCLHlCQUF5QixrQkFBa0IsZ0VBQWdFLFVBQVUsYUFBYSxnQkFBZ0IsUUFBUSxlQUFlLGFBQWEsNklBQTZJLGFBQWEsVUFBVSxlQUFlLCtKQUErSixZQUFZLFdBQVcsYUFBYSxXQUFXLEtBQUssV0FBVyxLQUFLLDJCQUEyQixrQkFBa0IsV0FBVyxtQkFBbUIsWUFBWSxZQUFZLG1CQUFtQixLQUFLLGlDQUFpQyxpQ0FBaUMsdUVBQXVFLGNBQWMsY0FBYyxXQUFXLFdBQVcsWUFBWSxhQUFhLHNCQUFzQixnQkFBZ0IsK0NBQStDLFlBQVksNkJBQTZCLHFCQUFxQixtQkFBbUIsNkRBQTZELGVBQWUsWUFBWSxzREFBc0Qsb0RBQW9ELFVBQVUsU0FBUyxlQUFlLDhCQUE4QixrQkFBa0IsZ0VBQWdFLGFBQWEsNEdBQTRHLFdBQVcsU0FBUyxZQUFZLGNBQWMsS0FBSyxhQUFhLDZDQUE2QyxLQUFLLFdBQVcscUVBQXFFLFdBQVcsdUVBQXVFLFdBQVcscUVBQXFFLHNCQUFzQixrQ0FBa0MsTUFBTSwyQkFBMkIsa0JBQWtCLG9CQUFvQixrSkFBa0osYUFBYSw4Q0FBOEMsSUFBSSxpQkFBaUIsWUFBWSxxQ0FBcUMsOEJBQThCLG9MQUFvTCxJQUFJLGFBQWEsNkdBQTZHLGdCQUFnQixVQUFVLFlBQVksbUJBQW1CLDhCQUE4Qiw4QkFBOEIsV0FBVyw2SkFBNkosVUFBVSxTQUFTLGVBQWUsMkJBQTJCLGtCQUFrQiwwREFBMEQsMkJBQTJCLHNEQUFzRCxZQUFZLGtEQUFrRCw2RUFBNkUsYUFBYSxlQUFlLGdCQUFnQixVQUFVLFlBQVkseUNBQXlDLFVBQVUsNkRBQTZELFNBQVMsaUJBQWlCLHlCQUF5QixrQkFBa0IsZ0VBQWdFLGFBQWEsOEZBQThGLG1CQUFtQixZQUFZLFdBQVcsS0FBSywyQkFBMkIsa0JBQWtCLFdBQVcsbUJBQW1CLFlBQVksdUVBQXVFLDZCQUE2QixRQUFRLDBCQUEwQixtREFBbUQsdUJBQXVCLHdCQUF3QixjQUFjLDBFQUEwRSxrQkFBa0IsZ0pBQWdKLHFEQUFxRCwrQ0FBK0MsSUFBSSw4QkFBOEIsV0FBVywwQkFBMEIscUNBQXFDLGtCQUFrQixzQkFBc0Isa0NBQWtDLG1CQUFtQixhQUFhLDBMQUEwTCxhQUFhLHNCQUFzQixnQkFBZ0IsK0NBQStDLFlBQVksZ0RBQWdELHlEQUF5RCxlQUFlLDRFQUE0RSxlQUFlLGVBQWUsR0FBRywyQkFBMkIsdUJBQXVCLE1BQU0sVUFBVSxvREFBb0QsYUFBYSxjQUFjLDhHQUE4Ryx5R0FBeUcsS0FBSyxtRUFBbUUsZUFBZSxvR0FBb0csV0FBVywwRUFBMEUsY0FBYyxzQkFBc0IsYUFBYSxpREFBaUQscUJBQXFCLG9EQUFvRCwwRUFBMEUsUUFBUSx1QkFBdUIscUdBQXFHLFNBQVMsY0FBYywrQkFBK0IsdURBQXVELFNBQVMscUJBQXFCLHNEQUFzRCxZQUFZLG1DQUFtQyxhQUFhLHNCQUFzQixnQkFBZ0IsVUFBVSxZQUFZLDZEQUE2RCxrQkFBa0IsaUNBQWlDLDRDQUE0QyxFQUFFLDhEQUE4RCxnSkFBZ0osV0FBVyxvQkFBb0IseUNBQXlDLFdBQVcsU0FBUyxZQUFZLFdBQVcsS0FBSyx3RUFBd0UsT0FBTyxLQUFLLE1BQU0sV0FBVyxtRUFBbUUsVUFBVSx1QkFBdUIsVUFBVSxXQUFXLE1BQU0sWUFBWSxXQUFXLEtBQUssNENBQTRDLHNDQUFzQywrQ0FBK0MsMkNBQTJDLE1BQU0sb0NBQW9DLGdDQUFnQyxxQkFBcUIsT0FBTyxXQUFXLE1BQU0sT0FBTyxvQkFBb0IsWUFBWSxXQUFXLEtBQUssaUNBQWlDLGtCQUFrQixvQkFBb0Isc0NBQXNDLEVBQUUsZUFBZSxhQUFhLGNBQWMsWUFBWSxxQkFBcUIsaUJBQWlCLDJCQUEyQixVQUFVLFNBQVMsbUJBQW1CLDJFQUEyRSxrQkFBa0IseURBQXlELGFBQWEsdUdBQXVHLHdFQUF3RSxrQkFBa0Isa0ZBQWtGLGtCQUFrQixXQUFXLGtFQUFrRSxZQUFZLDJIQUEySCxhQUFhLDhFQUE4RSxnQkFBZ0IsVUFBVSxZQUFZLFdBQVcsdUxBQXVMLGNBQWMsaUJBQWlCLHFHQUFxRyxpQkFBaUIseURBQXlELGlCQUFpQixnSEFBZ0gsK0NBQStDLG1CQUFtQixzREFBc0Qsa0NBQWtDLGlCQUFpQixTQUFTLHVCQUF1QixJQUFJLEtBQUssYUFBYSx1QkFBdUIsTUFBTSxLQUFLLCtCQUErQixrR0FBa0csVUFBVSxTQUFTLGlCQUFpQixZQUFZLFdBQVcsNEJBQTRCLFVBQVUscUJBQXFCLDBGQUEwRiwwQkFBMEIsbUJBQW1CLDZCQUE2QixhQUFhLDBJQUEwSSxnQkFBZ0IsVUFBVSxpQkFBaUIsWUFBWSxXQUFXLDZCQUE2QixZQUFZLGFBQWEsbUNBQW1DLFVBQVUsaUJBQWlCLFlBQVksV0FBVyw0QkFBNEIsVUFBVSxtQkFBbUIsV0FBVyxZQUFZLFdBQVcsS0FBSyxXQUFXLFlBQVksY0FBYyxLQUFLLHNCQUFzQixtQkFBbUIsV0FBVyxTQUFTLG1CQUFtQixXQUFXLFlBQVksV0FBVyxLQUFLLHFCQUFxQixXQUFXLFNBQVMscUJBQXFCLHlCQUF5QixhQUFhLHFDQUFxQyxtREFBbUQsU0FBUyxxQkFBcUIsa0RBQWtELGVBQWUsbUNBQW1DLDRCQUE0Qix1QkFBdUIsU0FBUyxxQkFBcUIsa0RBQWtELGVBQWUsa0JBQWtCLFdBQVcsa0JBQWtCLDRCQUE0QixtQkFBbUIsV0FBVyxtQkFBbUIsaUNBQWlDLCtDQUErQyxNQUFNLFNBQVMsU0FBUyxpQkFBaUIsK0NBQStDLGtCQUFrQiwrRkFBK0YsWUFBWSxXQUFXLGFBQWEsYUFBYSw0Q0FBNEMsb0JBQW9CLEtBQUssb0NBQW9DLDZFQUE2RSw0QkFBNEIsd0JBQXdCLGlFQUFpRSx1RUFBdUUseUdBQXlHLFlBQVksOENBQThDLG1EQUFtRCxvRUFBb0UsZ0JBQWdCLHVCQUF1Qix1REFBdUQsc0JBQXNCLHVDQUF1Qyw0QkFBNEIsdURBQXVELHNCQUFzQix1Q0FBdUMsVUFBVSxvQkFBb0Isd0RBQXdELG9FQUFvRSxnQkFBZ0IsdUJBQXVCLHVEQUF1RCxzQkFBc0IsdUNBQXVDLDRCQUE0Qix1REFBdUQsc0JBQXNCLHVDQUF1QyxVQUFVLG9CQUFvQixVQUFVLGFBQWEsZ0JBQWdCLFVBQVUsWUFBWSxnQ0FBZ0MsVUFBVSxlQUFlLG9CQUFvQiwrQ0FBK0Msc0NBQXNDLCtDQUErQyw0RUFBNEUscUNBQXFDLDZCQUE2QixTQUFTLHdCQUF3QixtQkFBbUIsS0FBSyxlQUFlLHVEQUF1RCxTQUFTLHdCQUF3QixtQkFBbUIsS0FBSyxpQkFBaUIsbURBQW1ELFNBQVMsd0JBQXdCLHFCQUFxQixLQUFLLFNBQVMsaUJBQWlCLHFEQUFxRCxrQkFBa0Isd0hBQXdILGFBQWEsNEVBQTRFLEVBQUUsZ0JBQWdCLEVBQUUsdUVBQXVFLFlBQVksd0NBQXdDLGFBQWEsZ0JBQWdCLFVBQVUsWUFBWSwwQkFBMEIsVUFBVSxTQUFTLG9DQUFvQyxtREFBbUQsRUFBRSw4REFBOEQsa0JBQWtCLEVBQUUseURBQXlELFlBQVksa0JBQWtCLCtEQUErRCw4R0FBOEcsc0lBQXNJLGFBQWEsdUZBQXVGLFVBQVUseUVBQXlFLHlCQUF5QixNQUFNLHNCQUFzQixrQkFBa0Isc0JBQXNCLG1DQUFtQyw2TkFBNk4sc0NBQXNDLHlDQUF5QywwQ0FBMEMsNkRBQTZELGVBQWUsSUFBSSxnQ0FBZ0MsU0FBUyxtQ0FBbUMsU0FBUyx5Q0FBeUMsRUFBRSw4REFBOEQsdUlBQXVJLElBQUksNENBQTRDLFVBQVUsV0FBVyxjQUFjLDZGQUE2RixxREFBcUQsY0FBYyxXQUFXLFNBQVMsRUFBRSxjQUFjLEVBQUUsY0FBYyxFQUFFLCtCQUErQixrQkFBa0IsZ0JBQWdCLDJCQUEyQixVQUFVLGVBQWUsZ0RBQWdELCtDQUErQyw2QkFBNkIsNkJBQTZCLHlDQUF5QyxTQUFTLHdCQUF3QixpQ0FBaUMseUpBQXlKLGlCQUFpQixtQkFBbUIsb0JBQW9CLEtBQUssS0FBSyxnREFBZ0QsdUJBQXVCLE9BQU8sTUFBTSxpREFBaUQsT0FBTyxTQUFTLFNBQVMsbUJBQW1CLHdEQUF3RCw2REFBNkQsa0JBQWtCLGdGQUFnRixXQUFXLElBQUksNkVBQTZFLDJCQUEyQixrQkFBa0IsV0FBVyxXQUFXLGtFQUFrRSxZQUFZLFdBQVcsTUFBTSwyQ0FBMkMsa0xBQWtMLCtKQUErSix1QkFBdUIsa0JBQWtCLDJCQUEyQixxQkFBcUIsWUFBWSxtQ0FBbUMsd0NBQXdDLCtCQUErQixtQ0FBbUMsaUJBQWlCLDJEQUEyRCxhQUFhLGNBQWMsa0NBQWtDLGdCQUFnQixrREFBa0QsWUFBWSx3Q0FBd0MsWUFBWSxxQkFBcUIsb0VBQW9FLFVBQVUsVUFBVSxtQkFBbUIsbUJBQW1CLHNCQUFzQiwrQ0FBK0MsdUVBQXVFLHVCQUF1QixxQ0FBcUMsRUFBRSxvRkFBb0YsZUFBZSxxREFBcUQsZUFBZSw0QkFBNEIsZUFBZSw4REFBOEQsZUFBZSw2REFBNkQsZUFBZSwwSEFBMEgsUUFBUSxxRkFBcUYsZUFBZSxxRUFBcUUseUtBQXlLLG1CQUFtQixZQUFZLHFEQUFxRCxVQUFVLGtEQUFrRCxRQUFRLDhFQUE4RSxLQUFLLG9CQUFvQixNQUFNLFlBQVksNEJBQTRCLFFBQVEsa0RBQWtELHFCQUFxQixxQkFBcUIsV0FBVyxvREFBb0QsRUFBRSw2QkFBNkIsUUFBUSwrRUFBK0Usc0JBQXNCLDZCQUE2QixFQUFFLFNBQVMsdUJBQXVCLDZGQUE2Riw2REFBNkQsb0NBQW9DLFFBQVEsNkNBQTZDLHdDQUF3QyxpQ0FBaUMsd0JBQXdCLGlEQUFpRCxTQUFTLGtCQUFrQixrQkFBa0Isa0dBQWtHLHNCQUFzQixlQUFlLDhCQUE4QixhQUFhLCtGQUErRixHQUFHLDRCQUE0QixNQUFNLHNFQUFzRSxhQUFhLFFBQVEsbUJBQW1CLHVLQUF1SyxHQUFHLHVDQUF1QyxnRkFBZ0YsV0FBVyxJQUFJLDZFQUE2RSxvQ0FBb0MsV0FBVyxXQUFXLG9IQUFvSCxZQUFZLFdBQVcsTUFBTSxrQ0FBa0MseUxBQXlMLHNLQUFzSyx1QkFBdUIsa0JBQWtCLDJCQUEyQixpSkFBaUosT0FBTyx5QkFBeUIsWUFBWSxtQ0FBbUMsd0NBQXdDLCtCQUErQixtQ0FBbUMsaUJBQWlCLHVDQUF1QyxtSEFBbUgsbU9BQW1PLGFBQWEsY0FBYyxrQ0FBa0MsZ0JBQWdCLGtEQUFrRCxZQUFZLE1BQU0saU9BQWlPLGlEQUFpRCxZQUFZLHFCQUFxQix1REFBdUQsVUFBVSxxQkFBcUIsa0JBQWtCLDZEQUE2RCxVQUFVLFNBQVMsaUJBQWlCLHlCQUF5QixrQkFBa0IsbUVBQW1FLFdBQVcsdUJBQXVCLDJCQUEyQixXQUFXLDJCQUEyQix1Q0FBdUMsc0JBQXNCLEVBQUUsa0JBQWtCLHVCQUF1QixxQ0FBcUMsd0JBQXdCLFlBQVksaUJBQWlCLDBCQUEwQix5R0FBeUcsa0JBQWtCLFNBQVMsYUFBYSxzQkFBc0IsZ0JBQWdCLCtDQUErQyxZQUFZLHFCQUFxQiwyQkFBMkIsdUJBQXVCLE1BQU0sVUFBVSxTQUFTLGlCQUFpQiwyREFBMkQsWUFBWSwrQkFBK0IsYUFBYSxxQ0FBcUMsZ0JBQWdCLGtCQUFrQix5RUFBeUUsWUFBWSxXQUFXLFdBQVcsWUFBWSxhQUFhLE1BQU0sYUFBYSxtRUFBbUUsVUFBVSxhQUFhLGdIQUFnSCw0QkFBNEIsa0JBQWtCLGVBQWUsMkRBQTJELDBCQUEwQixnQkFBZ0IsbUNBQW1DLFlBQVksZ0JBQWdCLHVEQUF1RCwwQ0FBMEMsVUFBVSxTQUFTLG1CQUFtQix1Q0FBdUMsa0JBQWtCLGtFQUFrRSxZQUFZLFdBQVcsb0VBQW9FLDZDQUE2QyxZQUFZLHdEQUF3RCxrREFBa0QsR0FBRyxPQUFPLDBEQUEwRCxHQUFHLElBQUksV0FBVyxJQUFJLCtFQUErRSxHQUFHLFdBQVcsWUFBWSxhQUFhLDZCQUE2QixnQkFBZ0IsVUFBVSxZQUFZLDZEQUE2RCxVQUFVLFNBQVMsaUJBQWlCLDRDQUE0QyxrQkFBa0Isa0VBQWtFLFlBQVksV0FBVyxnREFBZ0QsZ0pBQWdKLFlBQVksZUFBZSxZQUFZLDREQUE0RCxxQkFBcUIsZ0pBQWdKLFdBQVcsV0FBVywrR0FBK0csV0FBVyxXQUFXLHVCQUF1QixhQUFhLGlDQUFpQyxnQkFBZ0IsVUFBVSxZQUFZLGlFQUFpRSxVQUFVLFNBQVMsbUJBQW1CLDZEQUE2RCxrQkFBa0IsbUZBQW1GLFlBQVksV0FBVyxnREFBZ0Qsc0JBQXNCLG1JQUFtSSxZQUFZLFVBQVUsaUJBQWlCLDJCQUEyQiw0QkFBNEIsbUJBQW1CLFlBQVksNERBQTRELGdKQUFnSixXQUFXLFdBQVcsK0dBQStHLFdBQVcsV0FBVyxtQkFBbUIsbUNBQW1DLHNCQUFzQixvQkFBb0IsYUFBYSxtRUFBbUUsZ0JBQWdCLFVBQVUsWUFBWSxrREFBa0QsbUNBQW1DLHdFQUF3RSx1RUFBdUUsVUFBVSxTQUFTLHlCQUF5Qix3RkFBd0Ysa0JBQWtCLDhFQUE4RSxXQUFXLElBQUkseUVBQXlFLFFBQVEsa0VBQWtFLFVBQVUsTUFBTSxZQUFZLGFBQWEsTUFBTSxXQUFXLGVBQWUsMEJBQTBCLG9CQUFvQixzRUFBc0Usa0JBQWtCLHNHQUFzRywySEFBMkgsd0JBQXdCLElBQUkseUdBQXlHLE1BQU0sdUNBQXVDLGFBQWEseUVBQXlFLHVCQUF1Qix1QkFBdUIsa0JBQWtCLHVCQUF1QiwyQkFBMkIsa0JBQWtCLDRDQUE0QyxpR0FBaUcsWUFBWSwrQkFBK0IseUZBQXlGLGFBQWEseURBQXlELGdCQUFnQixrRkFBa0YsWUFBWSxvRkFBb0Ysa0JBQWtCLHlCQUF5QixvRkFBb0Ysc0RBQXNELDZGQUE2Riw2Q0FBNkMsVUFBVSxTQUFTLG1CQUFtQiw4Q0FBOEMsa0JBQWtCLDhFQUE4RSxXQUFXLElBQUksd0VBQXdFLE1BQU0sa0VBQWtFLFdBQVcsWUFBWSxhQUFhLE1BQU0sMkJBQTJCLGtCQUFrQiw4QkFBOEIsa0JBQWtCLDJCQUEyQiw0Q0FBNEMsNEJBQTRCLFlBQVkscUVBQXFFLGtDQUFrQyxhQUFhLHlDQUF5QyxtQkFBbUIsZ0JBQWdCLHlGQUF5RixZQUFZLGlCQUFpQiwyQkFBMkIsdUJBQXVCLE1BQU0sVUFBVSxTQUFTLHFCQUFxQiw0REFBNEQsa0JBQWtCLG1GQUFtRixZQUFZLFdBQVcsZ0RBQWdELHNCQUFzQixpSEFBaUgsWUFBWSxVQUFVLGlCQUFpQiwyQkFBMkIsbUNBQW1DLDBCQUEwQixZQUFZLDZEQUE2RCw4R0FBOEcsV0FBVyxXQUFXLGtCQUFrQixrQ0FBa0Msb0JBQW9CLGtCQUFrQixhQUFhLGtFQUFrRSxnQkFBZ0IsVUFBVSxZQUFZLGdEQUFnRCxrQ0FBa0Msc0VBQXNFLHFFQUFxRSxVQUFVLGlCQUFpQiw2S0FBNksscUJBQXFCLDBCQUEwQixtQkFBbUIsMkJBQTJCLGVBQWUsbUJBQW1CLHlIQUF5SCxrQkFBa0IsaUZBQWlGLGFBQWEseUJBQXlCLGtCQUFrQiw4Q0FBOEMsRUFBRSw0Q0FBNEMsV0FBVyxLQUFLLHlCQUF5QixrQkFBa0IsOENBQThDLEVBQUUsNENBQTRDLFdBQVcsS0FBSyxtSEFBbUgsV0FBVyxTQUFTLFdBQVcsS0FBSyw0SUFBNEksV0FBVyxpQkFBaUIsbUtBQW1LLHVDQUF1QyxvQkFBb0IsWUFBWSxvREFBb0QsK0JBQStCLHNCQUFzQixpR0FBaUcsRUFBRSwyREFBMkQsT0FBTyxJQUFJLE9BQU8sYUFBYSwrQ0FBK0Msc0JBQXNCLHdEQUF3RCxpRUFBaUUsYUFBYSx5REFBeUQsZ0JBQWdCLFVBQVUsWUFBWSxZQUFZLDJCQUEyQix1QkFBdUIsT0FBTyxrQ0FBa0MsYUFBYSxrQ0FBa0MsYUFBYSxxQkFBcUIsb0JBQW9CLDhCQUE4QixXQUFXLHFCQUFxQix3QkFBd0IsOEJBQThCLFdBQVcscUJBQXFCLHdCQUF3QiwrQkFBK0IsWUFBWSxxQkFBcUIseUJBQXlCLCtCQUErQixZQUFZLHFCQUFxQix5QkFBeUIsR0FBRyxTQUFTLHlCQUF5Qix3SEFBd0gsa0JBQWtCLDBEQUEwRCwyQkFBMkIsa0JBQWtCLGFBQWEsMkdBQTJHLFdBQVcsdURBQXVELFdBQVcsMkRBQTJELFdBQVcsbURBQW1ELFdBQVcsdUZBQXVGLFdBQVcsd0dBQXdHLFlBQVkscUVBQXFFLGdWQUFnVixrQ0FBa0MsYUFBYSx3TUFBd00sZ0JBQWdCLFVBQVUsWUFBWSxXQUFXLGdYQUFnWCxTQUFTLGVBQWUsMkJBQTJCLGtCQUFrQixpRUFBaUUsWUFBWSxXQUFXLHdCQUF3Qiw4SUFBOEksWUFBWSwwQkFBMEIsWUFBWSwrQkFBK0Isc0NBQXNDLG9DQUFvQyx3RUFBd0UsV0FBVyxXQUFXLGFBQWEsZUFBZSxnQkFBZ0IsVUFBVSxZQUFZLG1CQUFtQiwyQkFBMkIsdUJBQXVCLE1BQU0sVUFBVSw2WEFBNlgseUJBQXlCLGdEQUFnRCx3Q0FBd0MscUJBQXFCLHlDQUF5QyxpQkFBaUIsY0FBYyxpQkFBaUIsYUFBYSx5QkFBeUIsZUFBZSxRQUFRLFFBQVEsZ0JBQWdCLFFBQVEsYUFBYSxnQkFBZ0IsNEJBQTRCLG9LQUFvSywwSEFBMEgsTUFBTSwwSEFBMEgsc0VBQXNFLDJmQUEyZixRQUFRLGtDQUFrQyxTQUFTLHlCQUF5QixRQUFRLGtDQUFrQyxTQUFTLE9BQU8sb0dBQW9HLCs2QkFBKzZCLHNCQUFzQix5Q0FBeUMsaVVBQWlVLDBDQUEwQywrQkFBK0IsbUNBQW1DLHlCQUF5QiwrQkFBK0IscUNBQXFDLDBDQUEwQywrQkFBK0IsbUNBQW1DLHlCQUF5QiwrQkFBK0Isc0NBQXNDLDBDQUEwQyxnQ0FBZ0Msb0NBQW9DLHlCQUF5QixnQ0FBZ0Msc0NBQXNDLDBDQUEwQyxnQ0FBZ0Msb0NBQW9DLHlCQUF5QixnQ0FBZ0MsNlpBQTZaLEtBQUssS0FBSyxFQUFFLGVBQWUsc0JBQXNCLG9CQUFvQixVQUFVLDJEQUEyRCxxRkFBcUYsNkNBQTZDLFVBQVUsR0FBRyxNQUFNLHFGQUFxRiw0Q0FBNEMsVUFBVSxHQUFHLGdGQUFnRiwrQ0FBK0MsNEJBQTRCLHFQQUFxUCxFQUFFLFVBQVUsZUFBZSxRQUFRLDBCQUEwQixlQUFlLFFBQVEsd0JBQXdCLGVBQWUsMEZBQTBGLGVBQWUsa0VBQWtFLGVBQWUsaURBQWlELGVBQWUsa0pBQWtKLGVBQWUsdURBQXVELGVBQWUsU0FBUyxpQkFBaUIsNklBQTZJLGVBQWUsK01BQStNLGFBQWEsR0FBRyxVQUFVLDBCQUEwQiw0QkFBNEIsMkJBQTJCLDJCQUEyQixvQ0FBb0Msd0JBQXdCLE1BQU0sNERBQTRELEVBQUUsSUFBSSxNQUFNLE1BQU0sVUFBVSxNQUFNLFlBQVksaUJBQWlCLEtBQUssK0JBQStCLHNCQUFzQixrRUFBa0UsZ0RBQWdELFdBQVcsZ0RBQWdELFNBQVMsZUFBZSxRQUFRLHFJQUFxSSxPQUFPLFNBQVMsb0JBQW9CLHFCQUFxQixNQUFNLDJCQUEyQixpREFBaUQsTUFBTSxRQUFRLHdJQUF3SSxPQUFPLGlCQUFpQixRQUFRLDRCQUE0Qix3REFBd0QseURBQXlELG1CQUFtQixxREFBcUQsdUJBQXVCLHdEQUF3RCxtQkFBbUIsbURBQW1ELHVCQUF1Qiw4QkFBOEIseUNBQXlDLDZDQUE2QyxxQ0FBcUMscUJBQXFCLG1CQUFtQixpQ0FBaUMsbURBQW1ELHVCQUF1Qiw4QkFBOEIseUNBQXlDLDZDQUE2Qyx5REFBeUQsa0JBQWtCLDZEQUE2RCxzRUFBc0UscUJBQXFCLHVDQUF1Qyx5QkFBeUIsZ0VBQWdFLHNDQUFzQyxlQUFlLGdFQUFnRSwyQ0FBMkMsVUFBVSxtQkFBbUIsbU9BQW1PLFNBQVMsaUJBQWlCLHlDQUF5Qyx5REFBeUQsZ0tBQWdLLDREQUE0RCw4Q0FBOEMsc1VBQXNVLDBCQUEwQix1U0FBdVMsSUFBSSxrREFBa0QsK0RBQStELDBGQUEwRixxRUFBcUUsY0FBYyxtQkFBbUIsV0FBVyxTQUFTLFNBQVMsdUpBQXVKLGVBQWUsc0VBQXNFLGlCQUFpQixtQ0FBbUMsU0FBUywrRUFBK0UsOERBQThELG1FQUFtRSx3QkFBd0IsU0FBUyxzQ0FBc0MsU0FBUyxpQkFBaUIsNkZBQTZGLDBDQUEwQyx1RUFBdUUsc0JBQXNCLG9EQUFvRCxTQUFTLHFCQUFxQixxSUFBcUksMENBQTBDLHVFQUF1RSxzQkFBc0IsbURBQW1ELDJCQUEyQixzRkFBc0YsaUJBQWlCLHlDQUF5QyxtQ0FBbUMsdUVBQXVFLHNEQUFzRCx1RUFBdUUsY0FBYyxnWUFBZ1ksU0FBUyxpQkFBaUIsNEZBQTRGLHNCQUFzQiw4Q0FBOEMsb0JBQW9CLFFBQVEsNERBQTRELGVBQWUsV0FBVyxrQ0FBa0MseUJBQXlCLHlDQUF5Qyw2RkFBNkYseUNBQXlDLGNBQWMsK1BBQStQLEtBQUssU0FBUyxxQkFBcUIsbUJBQW1CLEVBQUUsK0VBQStFLGVBQWUseUNBQXlDLGdDQUFnQyx5QkFBeUIsU0FBUyxjQUFjLHVEQUF1RCxHQUFHLFNBQVMsa0JBQWtCLHVDQUF1QyxNQUFNLHFFQUFxRSxVQUFVLEVBQUUsd0VBQXdFLCtDQUErQyxFQUFFLE1BQU0sNEhBQTRILEVBQUUsS0FBSyxTQUFTLGVBQWUsNEZBQTRGLHlEQUF5RCxPQUFPLFNBQVMsb0VBQW9FLFVBQVUsbUJBQW1CLFVBQVUsU0FBUyx5RkFBeUYsaUJBQWlCLG1CQUFtQixVQUFVLFNBQVMsT0FBTyxrRkFBa0YsMEVBQTBFLFNBQVMsWUFBWSxXQUFXLGtCQUFrQix1RUFBdUUsRUFBRSxHQUFHLEVBQUUsR0FBRyxHQUFHLFNBQVMsZUFBZSxzQ0FBc0MsWUFBWSxxRkFBcUYsR0FBRyxTQUFTLGtCQUFrQixnQkFBZ0Isa0ZBQWtGLEdBQUcsaUNBQWlDLEVBQUUsSUFBSSxrQkFBa0IsZ0JBQWdCLGtGQUFrRixHQUFHLG9DQUFvQyxFQUFFLElBQUksVUFBVSxlQUFlLHVDQUF1QyxlQUFlLGtLQUFrSyxvSEFBb0gsa0JBQWtCLHFHQUFxRyxTQUFTLGdCQUFnQixzQkFBc0Isb0dBQW9HLGdHQUFnRyxxQkFBcUIsV0FBVyx3RUFBd0UsSUFBSSxFQUFFLHVuQkFBdW5CLGNBQWMsU0FBUyx3QkFBd0IseURBQXlELE9BQU8sU0FBUyxzRUFBc0UsVUFBVSxTQUFTLE1BQU0sOERBQThELFVBQVUsU0FBUyw0RUFBNEUsOEVBQThFLHNCQUFzQixzRkFBc0YseUZBQXlGLHlCQUF5QixpQkFBaUIsT0FBTyxFQUFFLDJCQUEyQixRQUFRLDhEQUE4RCxpQkFBaUIsSUFBSSxtQkFBbUIsT0FBTyxFQUFFLDRCQUE0QixxQ0FBcUMsS0FBSyx3Q0FBd0MsRUFBRSwyRUFBMkUsT0FBTyxFQUFFLGdFQUFnRSxHQUFHLGdCQUFnQiw2REFBNkQsTUFBTSxtQ0FBbUMsR0FBRyx3REFBd0QsRUFBRSxJQUFJLFNBQVMsNExBQTRMLG9DQUFvQywwQkFBMEIsR0FBRyxPQUFPLHVJQUF1SSx3WUFBd1ksVUFBVSxLQUFLLGVBQWUsMEVBQTBFLHVEQUF1RCxNQUFNLEVBQUUsTUFBTSx1QkFBdUIsZ0VBQWdFLGtKQUFrSixjQUFjLHlFQUF5RSxtTEFBbUwsaURBQWlELG9FQUFvRSxzSkFBc0osbUxBQW1MLFVBQVUsaUJBQWlCLHlFQUF5RSxvR0FBb0csd0JBQXdCLFdBQVcsaUVBQWlFLE9BQU8sbURBQW1ELGVBQWUsaUJBQWlCLFlBQVksc0JBQXNCLG9CQUFvQixNQUFNLGVBQWUsMkNBQTJDLG1HQUFtRyxvQkFBb0IsS0FBSyxtQkFBbUIsMEZBQTBGLGlDQUFpQyxLQUFLLG1CQUFtQixXQUFXLGVBQWUsNEJBQTRCLDZDQUE2QyxhQUFhLDJEQUEyRCwwRUFBMEUsMENBQTBDLGtIQUFrSCx1RkFBdUYsVUFBVSxtQkFBbUIsd0JBQXdCLG1CQUFtQiw4Q0FBOEMsaUJBQWlCLFVBQVUsU0FBUyxJQUFJLGNBQWMsbUJBQW1CLFlBQVksdUJBQXVCLEtBQUssU0FBUyx1V0FBdVcseUJBQXlCLGNBQWMscUJBQXFCLEVBQUUsYUFBYSxXQUFXLHlEQUF5RCxNQUFNLElBQUksVUFBVSxnQkFBZ0Isa0NBQWtDLElBQUksa0JBQWtCLFVBQVUsZ0JBQWdCLHlEQUF5RCxNQUFNLElBQUksVUFBVSxnQkFBZ0Isc0NBQXNDLGlEQUFpRCxRQUFRLHFFQUFxRSxlQUFlLDhCQUE4QixvQkFBb0IsNEJBQTRCLFdBQVcsMEJBQTBCLFNBQVMsSUFBSSxrQ0FBa0MsZUFBZSxTQUFTLFdBQVcsa0JBQWtCLFlBQVksYUFBYSxrQ0FBa0MsdUJBQXVCLHdCQUF3QixjQUFjLFlBQVksYUFBYSxvQkFBb0IsdUJBQXVCLHVCQUF1QixjQUFjLFlBQVksYUFBYSxxQkFBcUIsbUNBQW1DLFlBQVksV0FBVyxjQUFjLGVBQWUsK0JBQStCLDREQUE0RCxNQUFNLFlBQVksV0FBVywwQkFBMEIsVUFBVSxrRUFBa0UsaUJBQWlCLHNCQUFzQixlQUFlLCtCQUErQiw2QkFBNkIsWUFBWSxXQUFXLDBCQUEwQixVQUFVLGVBQWUsZ0JBQWdCLGFBQWEsOFpBQThaLE9BQU8sbUJBQW1CLFVBQVUsbUNBQW1DLEVBQUUsS0FBSywrQkFBK0IsRUFBRSxLQUFLLDBCQUEwQixFQUFFLFFBQVEsaUJBQWlCLDBCQUEwQixVQUFVLG9EQUFvRCxnREFBZ0QsbUpBQW1KLGVBQWUsVUFBVSxzQkFBc0IsbUNBQW1DLGlDQUFpQyxlQUFlLGVBQWUsZUFBZSwrQkFBK0IsSUFBSSwyREFBMkQsb0JBQW9CLEdBQUcsU0FBUyxlQUFlLHdCQUF3Qix5REFBeUQsT0FBTyxTQUFTLG9CQUFvQixXQUFXLCtFQUErRSxzQkFBc0IsT0FBTyxFQUFFLGdGQUFnRixhQUFhLDZIQUE2SCxLQUFLLEtBQUssZ0ZBQWdGLEtBQUssMEJBQTBCLDJFQUEyRSxFQUFFLDhCQUE4QixHQUFHLFVBQVUsWUFBWSxXQUFXLGlEQUFpRCxPQUFPLEVBQUUsR0FBRyxFQUFFLDRFQUE0RSwrREFBK0QsRUFBRSxHQUFHLEVBQUUsZ0RBQWdELEdBQUcsU0FBUyxNQUFNLDJDQUEyQyxXQUFXLG1CQUFtQixPQUFPLEVBQUUsR0FBRyxFQUFFLGtEQUFrRCxHQUFHLE1BQU0sb0ZBQW9GLEtBQUssa0VBQWtFLEVBQUUsOEJBQThCLEdBQUcsU0FBUyxNQUFNLDRFQUE0RSxLQUFLLGtFQUFrRSxFQUFFLDhCQUE4QixHQUFHLFVBQVUsU0FBUyxpQkFBaUIscUVBQXFFLEVBQUUsR0FBRyxZQUFZLEdBQUcsZ0JBQWdCLHFDQUFxQywwREFBMEQseURBQXlELEVBQUUsMEJBQTBCLDhDQUE4QyxFQUFFLEtBQUssTUFBTSw2Q0FBNkMsSUFBSSxJQUFJLG1DQUFtQyxFQUFFLHdGQUF3RixrQ0FBa0MsdUJBQXVCLE9BQU8sV0FBVyxzUkFBc1IsNEdBQTRHLEdBQUcsZUFBZSxxQkFBcUIsZUFBZSxzQkFBc0IsZUFBZSxTQUFTLGdEQUFnRCx3RUFBd0UsaUJBQWlCLGtCQUFrQixTQUFTLGlCQUFpQixZQUFZLGVBQWUsS0FBSyxvQkFBb0IsMERBQTBELEtBQUssNkJBQTZCLGNBQWMsTUFBTSxjQUFjLE1BQU0sZ0VBQWdFLGlDQUFpQyxFQUFFLG1DQUFtQyx5QkFBeUIscUJBQXFCLGlKQUFpSixFQUFFLGdCQUFnQixpREFBaUQsdURBQXVELGdFQUFnRSxLQUFLLDRGQUE0RixLQUFLLHNVQUFzVSxLQUFLLDBIQUEwSCxLQUFLLHVFQUF1RSxTQUFTLGdCQUFnQiw4REFBOEQsc0JBQXNCLDZGQUE2Rix3QkFBd0IsT0FBTyxFQUFFLHlHQUF5RyxtQkFBbUIsWUFBWSxtQkFBbUIsNENBQTRDLDhEQUE4RCxjQUFjLFlBQVksTUFBTSxlQUFlLDRDQUE0Qyw4REFBOEQsY0FBYyxZQUFZLE1BQU0sR0FBRyxLQUFLLGVBQWUsZ0NBQWdDLG9EQUFvRCxHQUFHLFlBQVksVUFBVSxvQkFBb0IsY0FBYyxFQUFFLCtCQUErQixjQUFjLEdBQUcsV0FBVywrQkFBK0IsT0FBTyxFQUFFLEdBQUcsRUFBRSxhQUFhLEdBQUcsWUFBWSxlQUFlLGdEQUFnRCxxREFBcUQsbUJBQW1CLE1BQU0sVUFBVSx3REFBd0Qsb0NBQW9DLG1CQUFtQix3REFBd0QsSUFBSSx1QkFBdUIsd0ZBQXdGLGdEQUFnRCx1RkFBdUYsY0FBYyxPQUFPLEVBQUUsR0FBRyxFQUFFLDhDQUE4QyxpQkFBaUIsT0FBTyxFQUFFLEdBQUcsRUFBRSxvREFBb0QsSUFBSSxTQUFTLHVCQUF1QiwyREFBMkQsRUFBRSx1QkFBdUIsMkRBQTJELEVBQUUsaUpBQWlKLG1CQUFtQixPQUFPLEVBQUUsK0JBQStCLGtFQUFrRSxxQkFBcUIsR0FBRyxlQUFlLGtEQUFrRCxTQUFTLGNBQWMsdUJBQXVCLHdFQUF3RSxHQUFHLFlBQVksa0JBQWtCLHFDQUFxQyw4Q0FBOEMsNERBQTRELFdBQVcsb0RBQW9ELHNDQUFzQyxFQUFFLE9BQU8sU0FBUyxlQUFlLDREQUE0RCxTQUFTLGNBQWMsdUJBQXVCLDBFQUEwRSxHQUFHLFlBQVksa0JBQWtCLHFDQUFxQyw4Q0FBOEMsNERBQTRELFdBQVcsb0RBQW9ELHNDQUFzQyxFQUFFLE9BQU8sYUFBYSx1REFBdUQsNkZBQTZGLFVBQVUseUZBQXlGLFNBQVMsZ0JBQWdCLHlFQUF5RSxTQUFTLGVBQWUsZ0RBQWdELFNBQVMsY0FBYyx1QkFBdUIsc0VBQXNFLEdBQUcsWUFBWSxrQkFBa0IscUNBQXFDLDhDQUE4Qyw0REFBNEQsV0FBVyxvREFBb0Qsc0NBQXNDLEVBQUUsT0FBTyxTQUFTLFVBQVUsd0NBQXdDLGdDQUFnQyxzREFBc0QsR0FBRyxZQUFZLDZCQUE2QixnQ0FBZ0MsbURBQW1ELEdBQUcsc0RBQXNELEVBQUUsY0FBYyx1SEFBdUgsaUNBQWlDLDJCQUEyQixpQ0FBaUMsd0JBQXdCLHVEQUF1RCxTQUFTLGNBQWMsZ0RBQWdELG9EQUFvRCxHQUFHLG9GQUFvRixHQUFHLFdBQVcsV0FBVyxlQUFlLDRDQUE0Qyw0R0FBNEcsSUFBSSw2QkFBNkIsR0FBRyxlQUFlLGdDQUFnQyxtQ0FBbUMsVUFBVSxxREFBcUQsVUFBVSw0QkFBNEIsTUFBTSxxREFBcUQsTUFBTSxjQUFjLG9CQUFvQixjQUFjLDhFQUE4RSxzQkFBc0IsR0FBRyxzQ0FBc0MsZUFBZSwrREFBK0QsaUJBQWlCLFNBQVMsMEVBQTBFLFNBQVMsVUFBVSxtQkFBbUIsb0JBQW9CLDZCQUE2QixtQkFBbUIsdUNBQXVDLGtDQUFrQyxZQUFZLGdCQUFnQixLQUFLLHdCQUF3QixvQ0FBb0Msc0JBQXNCLGtHQUFrRyxNQUFNLGFBQWEsWUFBWSxnQkFBZ0IsZUFBZSw2QkFBNkIsZ0VBQWdFLFlBQVksMEJBQTBCLHdDQUF3QywwSkFBMEoseUNBQXlDLG9FQUFvRSxnREFBZ0QsdUJBQXVCLHdDQUF3QywwQkFBMEIsMkVBQTJFLFNBQVMscURBQXFELE1BQU0sbURBQW1ELG9CQUFvQixrREFBa0QsV0FBVyxLQUFLLFdBQVcsa0JBQWtCLFVBQVUsZ0hBQWdILHFEQUFxRCxvSUFBb0ksS0FBSyxnQkFBZ0IsS0FBSyxLQUFLLGlCQUFpQiw4S0FBOEssZ0RBQWdELG1DQUFtQyw4Q0FBOEMsNEVBQTRFLHVDQUF1Qyw0Q0FBNEMsdURBQXVELG9CQUFvQiw0QkFBNEIsOERBQThELCtDQUErQyxnQkFBZ0IsV0FBVyxLQUFLLFdBQVcsaUNBQWlDLG1JQUFtSSxZQUFZLG9CQUFvQixFQUFFLDZDQUE2QyxxQkFBcUIsU0FBUywwQkFBMEIsK0NBQStDLDBCQUEwQixxQkFBcUIsVUFBVSw0QkFBNEIsd0JBQXdCLGtDQUFrQyxhQUFhLG1KQUFtSixvQkFBb0IsK0ZBQStGLG1CQUFtQixFQUFFLHFFQUFxRSxFQUFFLEdBQUcsZUFBZSx5SEFBeUgsZUFBZSxpREFBaUQsaUJBQWlCLHlMQUF5TCxzQ0FBc0MsMEJBQTBCLFVBQVUsNkJBQTZCLDhEQUE4RCxxQkFBcUIsV0FBVyxpQ0FBaUMsU0FBUyx1QkFBdUIsNENBQTRDLHNFQUFzRSxFQUFFLEdBQUcsd0NBQXdDLGlCQUFpQixvRkFBb0YsMkNBQTJDLHlGQUF5RixtQ0FBbUMsNERBQTRELGVBQWUsd1BBQXdQLHFDQUFxQyx1QkFBdUIsMkJBQTJCLFFBQVEsT0FBTyw4REFBOEQsRUFBRSxHQUFHLHlDQUF5QyxtQ0FBbUMsMkRBQTJELFNBQVMsOERBQThELFNBQVMsY0FBYyxlQUFlLFlBQVksc0JBQXNCLGlWQUFpVixtcUJBQW1xQixlQUFlLGtEQUFrRCxVQUFVLGVBQWUsbURBQW1ELFVBQVUsZUFBZSw0Q0FBNEMsZUFBZSw4cUJBQThxQixlQUFlLDRCQUE0QiwrM0JBQSszQixLQUFLLGVBQWUsc0NBQXNDLGlCQUFpQixrRkFBa0YsZUFBZSxrREFBa0QsVUFBVSw2Q0FBNkMscUNBQXFDLHFCQUFxQiw4RUFBOEUsY0FBYyxvQ0FBb0MsNkJBQTZCLElBQUksOEJBQThCLFVBQVUsZUFBZSx3R0FBd0csbUJBQW1CLE9BQU8sTUFBTSxzQkFBc0IsSUFBSSxLQUFLLDhLQUE4SyxrQ0FBa0MsMklBQTJJLFNBQVMsaUJBQWlCLHlOQUF5TixnQkFBZ0IscUJBQXFCLHFCQUFxQixxREFBcUQsVUFBVSxrQkFBa0Isb0JBQW9CLDZHQUE2Ryx5QkFBeUIsK0RBQStELDJDQUEyQyxrQ0FBa0MsRUFBRSxxQ0FBcUMsU0FBUyxpQkFBaUIsMkRBQTJELDRCQUE0QixVQUFVLGdCQUFnQix5REFBeUQsTUFBTSxJQUFJLFVBQVUsZ0JBQWdCLGdCQUFnQixRQUFRLDhEQUE4RCxpQ0FBaUMsd0RBQXdELGVBQWUsMkVBQTJFLHdCQUF3QixtREFBbUQsU0FBUyxlQUFlLDZDQUE2QyxrQkFBa0IsNkNBQTZDLHNDQUFzQyxpQkFBaUIsOENBQThDLEtBQUssU0FBUyxlQUFlLHNGQUFzRixZQUFZLHNDQUFzQyxjQUFjLGdLQUFnSyxpQkFBaUIscUNBQXFDLG1CQUFtQiw0SEFBNEgsWUFBWSxXQUFXLDBDQUEwQyx5QkFBeUIscUJBQXFCLDhCQUE4QixrQkFBa0IsRUFBRSxrQkFBa0IsU0FBUyxrQkFBa0IsaUNBQWlDLG1HQUFtRyxTQUFTLGlCQUFpQixpQ0FBaUMsdUZBQXVGLFVBQVUsU0FBUyx1QkFBdUIsbUNBQW1DLDRJQUE0SSx3QkFBd0IsbUVBQW1FLE1BQU0sdUNBQXVDLHNEQUFzRCxrREFBa0QsNkNBQTZDLG9FQUFvRSxVQUFVLFNBQVMsZUFBZSxxRkFBcUYsd0JBQXdCLGlDQUFpQyw4RkFBOEYsU0FBUyxnQkFBZ0IsNEVBQTRFLFdBQVcsU0FBUyxlQUFlLHdFQUF3RSxZQUFZLGdDQUFnQyxjQUFjLHVFQUF1RSxZQUFZLFdBQVcsMENBQTBDLHlCQUF5QixzQkFBc0IsU0FBUyx3QkFBd0IsaUNBQWlDLDhGQUE4RixVQUFVLFNBQVMsbUJBQW1CLGdEQUFnRCxhQUFhLG9DQUFvQyxjQUFjLHVEQUF1RCxrQkFBa0IsbUVBQW1FLFNBQVMsZUFBZSxpRkFBaUYsT0FBTyx3QkFBd0IsU0FBUyxlQUFlLHNCQUFzQixzQkFBc0IsZ0NBQWdDLG1CQUFtQixvQ0FBb0MscUJBQXFCLFNBQVMsaUJBQWlCLHVDQUF1QywwQkFBMEIsaUZBQWlGLHFEQUFxRCxNQUFNLGlCQUFpQixtQkFBbUIsaUVBQWlFLHNFQUFzRSw2QkFBNkIsZUFBZSxvQ0FBb0Msc0JBQXNCLHVEQUF1RCxpQkFBaUIsc0JBQXNCLDBEQUEwRCxvQkFBb0IsMEJBQTBCLHdDQUF3Qyw2QkFBNkIsSUFBSSxtQ0FBbUMsdUNBQXVDLGdIQUFnSCxvQkFBb0Isd0JBQXdCLElBQUksaUNBQWlDLCtDQUErQyxjQUFjLHlCQUF5QixZQUFZLHlCQUF5QixjQUFjLEtBQUssb0JBQW9CLHdCQUF3QixJQUFJLG1DQUFtQyxzQkFBc0Isc0JBQXNCLDhCQUE4QixnQ0FBZ0Msd0RBQXdELDBCQUEwQixrQkFBa0Isd0JBQXdCLGtCQUFrQiwwQkFBMEIsaUJBQWlCLG9CQUFvQiw2Q0FBNkMsb0JBQW9CLEVBQUUscUJBQXFCLGVBQWUsVUFBVSxTQUFTLGVBQWUsc0JBQXNCLDBCQUEwQixxQkFBcUIsbUNBQW1DLHVDQUF1QyxNQUFNLGdDQUFnQywyTEFBMkwsb0JBQW9CLDZDQUE2QyxZQUFZLEVBQUUsYUFBYSxlQUFlLFVBQVUsU0FBUyxlQUFlLHNCQUFzQiwwQkFBMEIsd0NBQXdDLE1BQU0sY0FBYyxXQUFXLFNBQVMsZUFBZSwrQ0FBK0MsNENBQTRDLDJDQUEyQyx1Q0FBdUMsK0JBQStCLG1CQUFtQixFQUFFLGtCQUFrQixhQUFhLGdFQUFnRSwrR0FBK0csOEhBQThILGlCQUFpQiw2REFBNkQsdUpBQXVKLFVBQVUsOEhBQThILFNBQVMsaUJBQWlCLHFIQUFxSCxTQUFTLGNBQWMsdURBQXVELHNCQUFzQixnRUFBZ0UsMkNBQTJDLHNCQUFzQixzQ0FBc0MsK0hBQStILFFBQVEsMkpBQTJKLFFBQVEsZUFBZSxVQUFVLCtCQUErQixXQUFXLG9CQUFvQiwrSEFBK0gsbUJBQW1CLDRDQUE0QyxnQkFBZ0IsMkZBQTJGLFVBQVUsNkdBQTZHLG1CQUFtQixZQUFZLFFBQVEsbUJBQW1CLCtFQUErRSwrQkFBK0IsK0NBQStDLHlDQUF5QyxpQkFBaUIsd0JBQXdCLG9CQUFvQixnQkFBZ0IseUZBQXlGLGlCQUFpQixvQkFBb0IsNENBQTRDLGVBQWUsWUFBWSw4Q0FBOEMsNkRBQTZELG9CQUFvQixnQkFBZ0IseUZBQXlGLG1CQUFtQixvQkFBb0IsOENBQThDLGlCQUFpQixZQUFZLGdFQUFnRSw2REFBNkQsb0JBQW9CLGdCQUFnQix5RkFBeUYscUJBQXFCLG9CQUFvQixnREFBZ0QsbUJBQW1CLFlBQVksa0ZBQWtGLDZEQUE2RCxvQkFBb0IsZ0JBQWdCLHlJQUF5SSwyQkFBMkIsb0JBQW9CLHNEQUFzRCx5QkFBeUIseUJBQXlCLDBJQUEwSSxvRUFBb0Usb0JBQW9CLGdCQUFnQiw2RkFBNkYscUJBQXFCLG9CQUFvQixnREFBZ0QsbUJBQW1CLFlBQVksMEZBQTBGLCtEQUErRCxvQkFBb0IsZ0JBQWdCLDJGQUEyRixpQ0FBaUMsb0JBQW9CLDREQUE0RCwrQkFBK0IsYUFBYSx3TUFBd00saUVBQWlFLG9CQUFvQixnQkFBZ0IsMkZBQTJGLDZCQUE2QixvQkFBb0Isd0RBQXdELDJCQUEyQixZQUFZLGtLQUFrSyxnRUFBZ0Usb0JBQW9CLGdCQUFnQix5RkFBeUYseUJBQXlCLG9CQUFvQixvREFBb0QsdUJBQXVCLFlBQVksc0hBQXNILCtEQUErRCxvQkFBb0IsZ0JBQWdCLHVJQUF1SSxxQ0FBcUMsb0JBQW9CLGdFQUFnRSxtQ0FBbUMsYUFBYSx3T0FBd08sb0VBQW9FLG9CQUFvQixnQkFBZ0IseUlBQXlJLHlCQUF5QixvQkFBb0Isb0RBQW9ELHVCQUF1QixtQkFBbUIsNEhBQTRILGlFQUFpRSxvQkFBb0IsZ0JBQWdCLDJGQUEyRixlQUFlLG9CQUFvQiwwQ0FBMEMsYUFBYSwrQkFBK0IsOERBQThELG9CQUFvQixnQkFBZ0IscU9BQXFPLHVDQUF1QyxvQkFBb0Isa0VBQWtFLHFDQUFxQyxvQkFBb0Isa1FBQWtRLHlFQUF5RSxvQkFBb0IsZ0JBQWdCLHlGQUF5RiwyQkFBMkIsb0JBQW9CLHNEQUFzRCx5QkFBeUIsWUFBWSx3SUFBd0ksbUVBQW1FLG9CQUFvQixnQkFBZ0IseUlBQXlJLHVCQUF1QixvQkFBb0Isa0RBQWtELHFCQUFxQixrQkFBa0IsMEdBQTBHLG1FQUFtRSxvQkFBb0IsZ0JBQWdCLDZGQUE2RixxQkFBcUIsb0JBQW9CLGdEQUFnRCxtQkFBbUIsbUJBQW1CLHNGQUFzRixrRUFBa0Usb0JBQW9CLGdCQUFnQiw2RkFBNkYsbUJBQW1CLG9CQUFvQiw4Q0FBOEMsaUJBQWlCLFlBQVksc0VBQXNFLCtEQUErRCxvQkFBb0IsZ0JBQWdCLDJGQUEyRixtQkFBbUIsb0JBQW9CLDhDQUE4QyxpQkFBaUIsWUFBWSxtRUFBbUUsOERBQThELG9CQUFvQixnQkFBZ0IscU9BQXFPLHVEQUF1RCxvQkFBb0Isa0ZBQWtGLHFEQUFxRCwyQkFBMkIsZ2FBQWdhLHVGQUF1RixvQkFBb0IsZ0JBQWdCLHFPQUFxTyx5RUFBeUUsb0JBQW9CLG9HQUFvRyx1RUFBdUUsb0JBQW9CLHVsQkFBdWxCLDRFQUE0RSxvQkFBb0IsZ0JBQWdCLDZGQUE2RixlQUFlLG9CQUFvQiwwQ0FBMEMsYUFBYSxnQ0FBZ0MsNkRBQTZELG9CQUFvQixnQkFBZ0IsNkZBQTZGLHVCQUF1QixvQkFBb0Isa0RBQWtELHFCQUFxQixZQUFZLDhHQUE4RywrREFBK0Qsb0JBQW9CLGdCQUFnQix5SUFBeUkscUJBQXFCLG9CQUFvQixnREFBZ0QsbUJBQW1CLFlBQVksd0ZBQXdGLG1FQUFtRSxvQkFBb0IsZ0JBQWdCLDJGQUEyRixpQkFBaUIsb0JBQW9CLDRDQUE0QyxlQUFlLFlBQVksZ0RBQWdELDhEQUE4RCxvQkFBb0IsZ0JBQWdCLDJGQUEyRixlQUFlLG9CQUFvQiwwQ0FBMEMsYUFBYSwrQkFBK0IsOERBQThELG9CQUFvQixnQkFBZ0IsNkZBQTZGLGlCQUFpQixvQkFBb0IsNENBQTRDLGVBQWUsWUFBWSxrREFBa0QsNkRBQTZELG9CQUFvQixlQUFlLDZDQUE2QyxlQUFlLDZDQUE2QyxlQUFlLDZDQUE2QyxzQkFBc0IsNkNBQTZDLHNCQUFzQiw2Q0FBNkMsc0JBQXNCLDhDQUE4QyxxQkFBcUIsb0JBQW9CLE9BQU8sdUJBQXVCLCtCQUErQixvQkFBb0IsdUJBQXVCLDZDQUE2Qyx1QkFBdUIsNkNBQTZDLHVCQUF1Qiw2Q0FBNkMsa0JBQWtCLDZDQUE2QyxrQkFBa0IsNkNBQTZDLFNBQVMsK0NBQStDLFNBQVMsK0NBQStDLFNBQVMsK0NBQStDLFNBQVMsK0NBQStDLGNBQWMsOENBQThDLG1CQUFtQiw4Q0FBOEMsdUJBQXVCLCtDQUErQyxrQkFBa0IsZ0RBQWdELHFCQUFxQixvQkFBb0IsT0FBTyx1QkFBdUIsMkJBQTJCLG9CQUFvQix1QkFBdUIsNkNBQTZDLHVCQUF1Qiw2Q0FBNkMsdUJBQXVCLDZDQUE2QyxrQkFBa0IsK0NBQStDLGtCQUFrQiwrQ0FBK0Msc0JBQXNCLDhDQUE4QyxnQkFBZ0IsOENBQThDLHVCQUF1Qiw4Q0FBOEMscUJBQXFCLDhDQUE4QyxpQkFBaUIsOENBQThDLGNBQWMsK0NBQStDLGdCQUFnQiwrQ0FBK0MsZ0JBQWdCLCtDQUErQyxrQkFBa0IsZ0RBQWdELGtCQUFrQixnREFBZ0Qsa0JBQWtCLDhDQUE4Qyx3QkFBd0IsOENBQThDLHlCQUF5QiwwQ0FBMEMsYUFBYSw4Q0FBOEMsY0FBYywwQ0FBMEMsa0JBQWtCLCtDQUErQyxtQkFBbUIsMkNBQTJDLDBCQUEwQiw4Q0FBOEMsZ0JBQWdCLDhDQUE4QyxpQkFBaUIsMkNBQTJDLHFCQUFxQixvQkFBb0IsT0FBTyx1QkFBdUIsMkJBQTJCLG9CQUFvQix1QkFBdUIsNkNBQTZDLHVCQUF1Qiw2Q0FBNkMsdUJBQXVCLDZDQUE2QyxrQkFBa0IsK0NBQStDLGtCQUFrQiwrQ0FBK0Msb0NBQW9DLDZDQUE2QyxxQ0FBcUMsNkNBQTZDLG1DQUFtQyw4Q0FBOEMsb0NBQW9DLDhDQUE4Qyw0QkFBNEIsOENBQThDLG9DQUFvQyw4Q0FBOEMsVUFBVSwrQ0FBK0Msd0JBQXdCLCtDQUErQyxzQkFBc0IsK0NBQStDLGdDQUFnQywrQ0FBK0MsOEJBQThCLCtDQUErQyx3QkFBd0IsK0NBQStDLHNCQUFzQiwrQ0FBK0MsZ0NBQWdDLCtDQUErQyw4QkFBOEIsK0NBQStDLG1CQUFtQiwrQ0FBK0MsaUNBQWlDLCtDQUErQywrQkFBK0IsK0NBQStDLHNCQUFzQiwrQ0FBK0MsOEJBQThCLCtDQUErQyxpQ0FBaUMsK0NBQStDLGtCQUFrQiwrQ0FBK0MsbUJBQW1CLDJDQUEyQyxrQkFBa0IsZ0RBQWdELGtCQUFrQixnREFBZ0QsOEJBQThCLGlEQUFpRCxxQkFBcUIsb0JBQW9CLE9BQU8sdUJBQXVCLDZCQUE2QixvQkFBb0IsY0FBYyw0QkFBNEIsMEJBQTBCLG9CQUFvQixRQUFRLHlCQUF5QixRQUFRLHlCQUF5QixpQ0FBaUMsMEJBQTBCLCtCQUErQixvQkFBb0IsbUJBQW1CLDhDQUE4Qyx1QkFBdUIsOENBQThDLGtCQUFrQiw4Q0FBOEMsOEJBQThCLCtDQUErQyxxQkFBcUIsb0JBQW9CLE9BQU8sdUJBQXVCLDJCQUEyQixvQkFBb0Isc0JBQXNCLDhDQUE4QyxzQkFBc0IsK0NBQStDLG9CQUFvQixvQkFBb0IsT0FBTyx1QkFBdUIsb0NBQW9DLG9CQUFvQixlQUFlLDZDQUE2QyxlQUFlLDZDQUE2QyxlQUFlLDZDQUE2QyxzQkFBc0IsNkNBQTZDLHNCQUFzQiw2Q0FBNkMsc0JBQXNCLDhDQUE4QyxxQkFBcUIsb0JBQW9CLE9BQU8sdUJBQXVCLDZCQUE2QixjQUFjLCtDQUErQyxFQUFFLGlEQUFpRCxFQUFFLG1EQUFtRCxFQUFFLHFEQUFxRCxXQUFXLDRDQUE0QyxFQUFFLDhDQUE4QyxHQUFHLFFBQVEsV0FBVyxLQUFLLFlBQVkseUJBQXlCLG9CQUFvQiwrREFBK0QsSUFBSSxvVkFBb1YsY0FBYyxzQ0FBc0MscUNBQXFDLHFKQUFxSixnTUFBZ00sUUFBUSxZQUFZLHlCQUF5QiwrQkFBK0IsS0FBSywwU0FBMFMsVUFBVSxzQ0FBc0MscUNBQXFDLHdGQUF3RiwyRkFBMkYsZ0NBQWdDLDBEQUEwRCxTQUFTLGNBQWMsK0NBQStDLGFBQWEsaURBQWlELGdCQUFnQixjQUFjLDRCQUE0QixLQUFLLElBQUksRUFBRSxlQUFlLDBCQUEwQixXQUFXLEtBQUssZ0JBQWdCLFNBQVMsZ0ZBQWdGLE1BQU0sU0FBUyxzQkFBc0IsK0RBQStELDBEQUEwRCxtQkFBbUIsc0JBQXNCLGVBQWUsMkRBQTJELGVBQWUsV0FBVyxpR0FBaUcscUJBQXFCLEtBQUssSUFBSSxFQUFFLGtCQUFrQixnQkFBZ0IsTUFBTSxFQUFFLEdBQUcsS0FBSyxjQUFjLEdBQUcsS0FBSyxjQUFjLGNBQWMsNkRBQTZELGtEQUFrRCxtQkFBbUIsYUFBYSxrQkFBa0IsNEJBQTRCLFNBQVMsZUFBZSxrQ0FBa0MsMEJBQTBCLDZIQUE2SCxvQkFBb0IsZUFBZSx5QkFBeUIsV0FBVyx3R0FBd0csb0JBQW9CLGVBQWUsaUNBQWlDLFdBQVcsME1BQTBNLG9CQUFvQixlQUFlLHNDQUFzQyxXQUFXLDhMQUE4TCw0RUFBNEUsZUFBZSxpREFBaUQsU0FBUyxtQkFBbUIsOENBQThDLEVBQUUsaUJBQWlCLHNCQUFzQixxQ0FBcUMsZ0JBQWdCLGdEQUFnRCxTQUFTLGlCQUFpQixpQ0FBaUMsRUFBRSx5RkFBeUYsaUNBQWlDLDJJQUEySSxzQkFBc0IsK01BQStNLGlCQUFpQixnQkFBZ0IseUdBQXlHLFNBQVMscUJBQXFCLHFGQUFxRixVQUFVLEVBQUUscURBQXFELGlDQUFpQyxnQ0FBZ0MsOEVBQThFLFFBQVEsNERBQTRELDRCQUE0QixrQ0FBa0MsT0FBTyxlQUFlLDRCQUE0QixzQkFBc0Isd0JBQXdCLGNBQWMsWUFBWSxJQUFJLGdEQUFnRCxNQUFNLFlBQVksSUFBSSx1Q0FBdUMsb0RBQW9ELFVBQVUsMlNBQTJTLFVBQVUsMkRBQTJELFNBQVMseUJBQXlCLG1EQUFtRCxFQUFFLDJHQUEyRyxVQUFVLEVBQUUscURBQXFELGlDQUFpQyxnQ0FBZ0MsdURBQXVELDJEQUEyRCx1Q0FBdUMsOERBQThELDRCQUE0QixrQ0FBa0MsZUFBZSwyQ0FBMkMsaUJBQWlCLGVBQWUsOEJBQThCLHdCQUF3Qix3QkFBd0Isc0JBQXNCLFlBQVksSUFBSSwwREFBMEQsTUFBTSxZQUFZLElBQUkseUNBQXlDLGdFQUFnRSxVQUFVLDJTQUEyUyxVQUFVLDBEQUEwRCxzQkFBc0IsNEhBQTRILGNBQWMsZ0JBQWdCLGtCQUFrQixTQUFTLDJCQUEyQixzSUFBc0ksWUFBWSxXQUFXLEtBQUssc0VBQXNFLDBCQUEwQiwyQ0FBMkMsK0lBQStJLDhCQUE4QixrRUFBa0UseUJBQXlCLGlCQUFpQixNQUFNLGtCQUFrQix3QkFBd0IsdUJBQXVCLElBQUksb0hBQW9ILHdCQUF3Qix3R0FBd0csVUFBVSx5YUFBeWEsVUFBVSw4SUFBOEksU0FBUyw0QkFBNEIsZUFBZSxrQkFBa0IsV0FBVyxnQ0FBZ0Msa0JBQWtCLHVCQUF1Qiw2REFBNkQsMlFBQTJRLHNEQUFzRCx5QkFBeUIsd0VBQXdFLEVBQUUsSUFBSSxNQUFNLDRCQUE0QixpREFBaUQsRUFBRSxJQUFJLDBFQUEwRSxFQUFFLElBQUksaUNBQWlDLGVBQWUsd0JBQXdCLHFEQUFxRCxpQ0FBaUMsNkJBQTZCLHdCQUF3Qix5RkFBeUYsaUNBQWlDLDZCQUE2Qix3QkFBd0Isc0RBQXNELCtCQUErQixTQUFTLGtCQUFrQiwwQkFBMEIsa0JBQWtCLDJCQUEyQiw2QkFBNkIsd0JBQXdCLDRGQUE0Rix1QkFBdUIsMkVBQTJFLFNBQVMsVUFBVSxXQUFXLDZCQUE2Qix3QkFBd0IsNEZBQTRGLEVBQUUsTUFBTSxTQUFTLHNCQUFzQixXQUFXLDZCQUE2Qix3QkFBd0IsaUVBQWlFLGlDQUFpQyw2Q0FBNkMsU0FBUyxvQkFBb0IsV0FBVyw2QkFBNkIsd0JBQXdCLDhGQUE4RixTQUFTLHdCQUF3QixxQkFBcUIsZUFBZSxXQUFXLDZCQUE2Qix3QkFBd0IsMkZBQTJGLDRDQUE0QyxHQUFHLFNBQVMsdUJBQXVCLFVBQVUsNEJBQTRCLG1EQUFtRCxzQkFBc0IsaUJBQWlCLDZCQUE2Qix3QkFBd0IsdUJBQXVCLDZFQUE2RSwwQkFBMEIsd0dBQXdHLFVBQVUsNkJBQTZCLHdCQUF3QixrRUFBa0UsMkJBQTJCLFVBQVUsNkJBQTZCLHdCQUF3QixvRUFBb0UsU0FBUyw0QkFBNEIsOEJBQThCLGdFQUFnRSxrRUFBa0UsbUNBQW1DLHlHQUF5RywyR0FBMkcsNkJBQTZCLG9JQUFvSSxPQUFPLHFDQUFxQyxVQUFVLHFCQUFxQixrRkFBa0Ysc0JBQXNCLFVBQVUsb0ZBQW9GLFVBQVUscW5CQUFxbkIsaUJBQWlCLDRCQUE0QixFQUFFLDBCQUEwQixVQUFVLGdCQUFnQix1QkFBdUIsaUJBQWlCLHVCQUF1QiwyQkFBMkIsdUJBQXVCLG1CQUFtQix3QkFBd0IsS0FBSyxPQUFPLHVCQUF1QixTQUFTLHlCQUF5QixtQkFBbUIsY0FBYyx5QkFBeUIsOExBQThMLGtCQUFrQixtQ0FBbUMsdUJBQXVCLG9CQUFvQixpQkFBaUIsOERBQThELDZDQUE2Qyx5U0FBeVMsMENBQTBDLDJEQUEyRCxZQUFZLEVBQUUsOERBQThELFlBQVksRUFBRSxpR0FBaUcseUJBQXlCLGlDQUFpQyxxQkFBcUIsNEVBQTRFLDBCQUEwQixFQUFFLHFDQUFxQyxRQUFRLFVBQVUsRUFBRSxzRkFBc0Ysb0JBQW9CLG9IQUFvSCx5QkFBeUIsRUFBRSx3Q0FBd0MsUUFBUSxTQUFTLEVBQUUsbUJBQW1CLCtGQUErRix3SkFBd0osa0ZBQWtGLG1EQUFtRCxrRkFBa0Ysc0NBQXNDLGdCQUFnQixZQUFZLDJCQUEyQixZQUFZLDZDQUE2QyxVQUFVLFlBQVkscUdBQXFHLHFCQUFxQiw2RkFBNkYsZ0JBQWdCLGdEQUFnRCxpQkFBaUIsK09BQStPLFlBQVksU0FBUyw2U0FBNlMsOENBQThDLDZJQUE2SSxzQkFBc0IsRUFBRSxpREFBaUQsa0VBQWtFLHFCQUFxQixHQUFHLE9BQU8sVUFBVSxRQUFRLFVBQVUsZ0JBQWdCLFVBQVUsbUJBQW1CLFVBQVUsVUFBVSxtQkFBbUIsbUNBQW1DLDBCQUEwQiw0SUFBNEksVUFBVSxnQkFBZ0IscUZBQXFGLDJCQUEyQix5QkFBeUIsZ0JBQWdCLHlDQUF5Qyw0QkFBNEIsd0NBQXdDLGNBQWMsdUNBQXVDLGFBQWEseUNBQXlDLEVBQUUsZ0RBQWdELEdBQUcsU0FBUyxrQkFBa0IsaUJBQWlCLHdCQUF3Qiw0Q0FBNEMsc0VBQXNFLDJCQUEyQixxQkFBcUIsRUFBRSx5RUFBeUUsZ0ZBQWdGLG9EQUFvRCxNQUFNLHFCQUFxQixVQUFVLHdFQUF3RSw4QkFBOEIsZ0JBQWdCLHlFQUF5RSxXQUFXLElBQUksbUVBQW1FLFlBQVksU0FBUyxpQkFBaUIsOEpBQThKLGdCQUFnQix1RUFBdUUsZ0JBQWdCLHVFQUF1RSxVQUFVLDRCQUE0QixRQUFRLDJCQUEyQixNQUFNLHdQQUF3UCxzQ0FBc0MsK0xBQStMLFlBQVksMkVBQTJFLGVBQWUsZ0JBQWdCLGVBQWUsZ0JBQWdCLGVBQWUsOENBQThDLGVBQWUsOENBQThDLFVBQVUsb0JBQW9CLFdBQVcsb0JBQW9CLFVBQVUsb0JBQW9CLFdBQVcsb0JBQW9CLFVBQVUsK0NBQStDLFdBQVcsdUJBQXVCLG9CQUFvQixJQUFJLG9CQUFvQixHQUFHLFVBQVUsNkJBQTZCLFlBQVksTUFBTSxZQUFZLGVBQWUsdUNBQXVDLDJHQUEyRyxrQkFBa0Isd0NBQXdDLG1CQUFtQixTQUFTLGlCQUFpQixpRUFBaUUsRUFBRSxJQUFJLEVBQUUsSUFBSSxrSUFBa0ksT0FBTyw2Q0FBNkMsVUFBVSwyQkFBMkIsV0FBVyxpQkFBaUIsU0FBUyxJQUFJLFNBQVMsR0FBRyxjQUFjLDBIQUEwSCxtQ0FBbUMsY0FBYywwREFBMEQsMkVBQTJFLGtCQUFrQiw0QkFBNEIsMkZBQTJGLDhHQUE4RywwRkFBMEYsdUJBQXVCLGFBQWEsdUJBQXVCLG1DQUFtQyxzQkFBc0IsZUFBZSxrQ0FBa0MsZUFBZSxtQkFBbUIsZUFBZSx5RUFBeUUsaUJBQWlCLGVBQWUsZUFBZSxpQkFBaUIsZUFBZSxtRUFBbUUsaUJBQWlCLG1CQUFtQixtQkFBbUIsZUFBZSxpQ0FBaUMsU0FBUyxxQkFBcUIsK0JBQStCLHlCQUF5QixzQkFBc0IsK0NBQStDLFdBQVcscUNBQXFDLGFBQWEseUJBQXlCLGlDQUFpQyw0QkFBNEIsK0JBQStCLHVDQUF1QywyQkFBMkIsa0JBQWtCLGlEQUFpRCxzRkFBc0YsbUJBQW1CLHVCQUF1QixLQUFLLFlBQVksWUFBWSxXQUFXLEtBQUssY0FBYyxRQUFRLEdBQUcsd0NBQXdDLFNBQVMscUJBQXFCLFdBQVcsMkJBQTJCLHlCQUF5QixnQkFBZ0IsaUJBQWlCLFdBQVcsWUFBWSxZQUFZLFdBQVcsS0FBSyxhQUFhLGlCQUFpQixTQUFTLG1DQUFtQyxpQkFBaUIsOENBQThDLG1KQUFtSixtQkFBbUIsMkNBQTJDLGdEQUFnRCxnQkFBZ0IsNkJBQTZCLFNBQVMsK0RBQStELGtDQUFrQyxZQUFZLFdBQVcsb0NBQW9DLE1BQU0sV0FBVyxtRUFBbUUsU0FBUywwQ0FBMEMsU0FBUyxpQkFBaUIsUUFBUSxpRUFBaUUsdUJBQXVCLHdDQUF3QyxtQkFBbUIsY0FBYyxpREFBaUQsU0FBUyxlQUFlLHdZQUF3WSxrQkFBa0IsNEJBQTRCLFdBQVcsdURBQXVELFVBQVUsMENBQTBDLE1BQU0sNkRBQTZELHlFQUF5RSx5QkFBeUIsY0FBYywrR0FBK0csWUFBWSxXQUFXLHdDQUF3QyxXQUFXLDhFQUE4RSxrQkFBa0IsTUFBTSxzQ0FBc0Msa0JBQWtCLHlGQUF5RixnQkFBZ0IsbUhBQW1ILFVBQVUseUNBQXlDLGdCQUFnQiw4REFBOEQsVUFBVSw4VEFBOFQsVUFBVSxxTkFBcU4sd0JBQXdCLG1DQUFtQyxrQkFBa0IsbUNBQW1DLE1BQU0saUZBQWlGLHlDQUF5QywwR0FBMEcsc1FBQXNRLG1GQUFtRixRQUFRLGlCQUFpQixZQUFZLFdBQVcsNEJBQTRCLFlBQVksV0FBVyw0QkFBNEIsaUJBQWlCLG1CQUFtQiw4QkFBOEIsaUJBQWlCLGtDQUFrQyxZQUFZLFdBQVcsS0FBSyxhQUFhLFlBQVksV0FBVyw0QkFBNEIsWUFBWSxXQUFXLDRCQUE0QixZQUFZLFdBQVcsNEJBQTRCLFVBQVUsbUJBQW1CLGVBQWUscUJBQXFCLFlBQVksV0FBVyw4QkFBOEIsWUFBWSxXQUFXLDhCQUE4QixVQUFVLGlCQUFpQix3Q0FBd0MsWUFBWSxhQUFhLEtBQUssc0JBQXNCLFlBQVksYUFBYSxxQ0FBcUMsVUFBVSxxQkFBcUIsZ0RBQWdELG1CQUFtQixZQUFZLHlDQUF5QyxZQUFZLFdBQVcscUNBQXFDLFVBQVUsbUJBQW1CLHFCQUFxQiw2QkFBNkIsb0RBQW9ELHdEQUF3RCxpQkFBaUIsZUFBZSxZQUFZLFdBQVcsS0FBSyxPQUFPLHlCQUF5QixXQUFXLHFGQUFxRixTQUFTLGlCQUFpQixTQUFTLHlCQUF5QixXQUFXLE9BQU8sb0JBQW9CLGlFQUFpRSxTQUFTLHVCQUF1Qiw2REFBNkQsc0RBQXNELG9EQUFvRCxZQUFZLGFBQWEsbUNBQW1DLFVBQVUsbUJBQW1CLG9CQUFvQixvRkFBb0Ysb0JBQW9CLHlEQUF5RCxtQkFBbUIsNkJBQTZCLG9GQUFvRixlQUFlLHNDQUFzQyx1QkFBdUIseUJBQXlCLDhCQUE4Qiw4QkFBOEIsV0FBVyxZQUFZLFdBQVcsd0JBQXdCLFNBQVMscUJBQXFCLDhCQUE4Qix1Q0FBdUMsc0JBQXNCLGdCQUFnQixFQUFFLGlCQUFpQiw4REFBOEQsRUFBRSxRQUFRLGNBQWMsNnNCQUE2c0IsWUFBWSxnRUFBZ0UsY0FBYyxnQkFBZ0IsNEZBQTRGLG1CQUFtQixrSUFBa0ksa0tBQWtLLGVBQWUsK0hBQStILGlCQUFpQiw0UUFBNFEsOFdBQThXLG1CQUFtQixzSkFBc0oseWJBQXliLG1CQUFtQixpREFBaUQsbWFBQW1hLG1CQUFtQix5QkFBeUIsNk1BQTZNLG1CQUFtQiwwRkFBMEYsb05BQW9OLG1CQUFtQiwwRkFBMEYsb05BQW9OLGlCQUFpQix3SUFBd0ksbUJBQW1CLG1EQUFtRCxrUUFBa1EsbUNBQW1DLCtCQUErQixJQUFJLDhCQUE4QixvQkFBb0IsRUFBRSxVQUFVLGNBQWMsZ0JBQWdCLGtEQUFrRCxlQUFlLGdCQUFnQix1Q0FBdUMsZUFBZSxrQ0FBa0MsbUJBQW1CLGdCQUFnQiw4QkFBOEIsbUJBQW1CLHNEQUFzRCxtQkFBbUIsc0RBQXNELG1CQUFtQixzREFBc0QsbUJBQW1CLG9GQUFvRixtQkFBbUIsb0ZBQW9GLG1CQUFtQiw2Q0FBNkMscUJBQXFCLDREQUE0RCxpQkFBaUIsdUNBQXVDLHFFQUFxRSxpQkFBaUIscUNBQXFDLG1CQUFtQiw4Q0FBOEMsZ0RBQWdELG1CQUFtQix1REFBdUQsNkhBQTZILG1CQUFtQixtSEFBbUgsd0VBQXdFLHlCQUF5QixtQkFBbUIseURBQXlELGlCQUFpQixrREFBa0QscUVBQXFFLG1CQUFtQixnQ0FBZ0MsbUpBQW1KLGNBQWMsZ0JBQWdCLHlEQUF5RCxlQUFlLHFDQUFxQyxtQkFBbUIsTUFBTSw0REFBNEQsNkRBQTZELG1CQUFtQixNQUFNLDREQUE0RCw2REFBNkQsc0VBQXNFLFVBQVUsd0NBQXdDLFNBQVMsaUJBQWlCLHVCQUF1Qix1QkFBdUIsdUJBQXVCLDhCQUE4QixvRkFBb0YsdUdBQXVHLDRCQUE0QixpQkFBaUIsOENBQThDLDJLQUEySywrQ0FBK0MsMklBQTJJLFFBQVEscUVBQXFFLDRDQUE0QyxnQ0FBZ0MsUUFBUSwwQkFBMEIsMkNBQTJDLDZDQUE2QyxTQUFTLHVCQUF1Qix3REFBd0Qsc0NBQXNDLGtHQUFrRyw0QkFBNEIsU0FBUyxpQkFBaUIsNkJBQTZCLHdDQUF3QywrSEFBK0gsZ0NBQWdDLHVCQUF1QixxRUFBcUUseUJBQXlCLGdFQUFnRSxxRkFBcUYsbUJBQW1CLEdBQUcsb0JBQW9CLFNBQVMscUJBQXFCLHlDQUF5QyxxQ0FBcUMsbUJBQW1CLDJCQUEyQix1QkFBdUIsWUFBWSxXQUFXLG9CQUFvQix3QkFBd0IsaUJBQWlCLHNFQUFzRSxZQUFZLG1EQUFtRCxZQUFZLFdBQVcsOEVBQThFLG9DQUFvQyxhQUFhLDZEQUE2RCxhQUFhLDZEQUE2RCxhQUFhLDZEQUE2RCxhQUFhLDRCQUE0QixpSkFBaUosY0FBYywwQkFBMEIsU0FBUyxZQUFZLGtCQUFrQixLQUFLLG9CQUFvQixRQUFRLFlBQVksV0FBVywwQkFBMEIsa0JBQWtCLHNCQUFzQixjQUFjLFlBQVksSUFBSSxLQUFLLDJDQUEyQyxZQUFZLGtCQUFrQixLQUFLLG1DQUFtQyxpQ0FBaUMsMkNBQTJDLFVBQVUsK0JBQStCLCtDQUErQyxpQ0FBaUMsaUdBQWlHLG1DQUFtQyx1SUFBdUksUUFBUSx5Q0FBeUMsMkNBQTJDLDhIQUE4SCx1RkFBdUYsa0NBQWtDLDZDQUE2Qyx1QkFBdUIsVUFBVSxxQkFBcUIsMkJBQTJCLGtDQUFrQyxnQ0FBZ0MsaUJBQWlCLGFBQWEsMkRBQTJELHFCQUFxQixlQUFlLGlCQUFpQixNQUFNLE1BQU0sNkRBQTZELHVFQUF1RSw2QkFBNkIsdUNBQXVDLG1CQUFtQixNQUFNLGlCQUFpQixHQUFHLG9DQUFvQyxRQUFRLEVBQUUsUUFBUSxFQUFFLHNEQUFzRCx5Q0FBeUMseUJBQXlCLHNDQUFzQyx5SkFBeUosOEpBQThKLHdCQUF3QixZQUFZLFdBQVcsS0FBSywwREFBMEQsWUFBWSxZQUFZLG1CQUFtQixTQUFTLHVCQUF1QixnQkFBZ0IsRUFBRSxTQUFTLGlCQUFpQixnQkFBZ0IsVUFBVSxzQkFBc0IsUUFBUSxlQUFlLG9DQUFvQyw0QkFBNEIsdUJBQXVCLGtCQUFrQixTQUFTLGlCQUFpQixnQkFBZ0IsVUFBVSxzQkFBc0IsYUFBYSx3RkFBd0YsUUFBUSxlQUFlLG9DQUFvQyw0QkFBNEIsdUJBQXVCLGtCQUFrQix1Q0FBdUMsUUFBUSxjQUFjLGtUQUFrVCxHQUFHLGVBQWUsVUFBVSxtRUFBbUUsaUJBQWlCLGNBQWMscUJBQXFCLGlDQUFpQyxzSkFBc0osMkJBQTJCLElBQUksMkJBQTJCLElBQUksVUFBVSxpQkFBaUIsY0FBYyxZQUFZLG9CQUFvQixxQkFBcUIsSUFBSSx3QkFBd0IsU0FBUyxRQUFRLGNBQWMsNGZBQTRmLEdBQUcsY0FBYyx1Q0FBdUMsTUFBTSxXQUFXLElBQUksUUFBUSxZQUFZLG1CQUFtQixPQUFPLDBFQUEwRSxnQ0FBZ0MsMkJBQTJCLGVBQWUsbUJBQW1CLElBQUkseUZBQXlGLG1CQUFtQixXQUFXLGlCQUFpQixTQUFTLDBCQUEwQixrQkFBa0IsWUFBWSxJQUFJLGlFQUFpRSx1Q0FBdUMsMkJBQTJCLHVCQUF1QixRQUFRLDZCQUE2QixJQUFJLDJCQUEyQixlQUFlLEtBQUssMkJBQTJCLDJDQUEyQyxpQkFBaUIsZUFBZSxTQUFTLFVBQVUsR0FBRyxtRUFBbUUsTUFBTSxxQ0FBcUMsT0FBTyxnQkFBZ0IsU0FBUywyQkFBMkIsTUFBTSx5QkFBeUIsUUFBUSxHQUFHLHlFQUF5RSxhQUFhLDRDQUE0Qyx3QkFBd0IsR0FBRywwQkFBMEIsRUFBRSxFQUFFLG9CQUFvQixxQkFBcUIsS0FBSyxRQUFRLFlBQVksb0dBQW9HLEtBQUssbUJBQW1CLFdBQVcsS0FBSyxVQUFVLGdCQUFnQixnQkFBZ0Isa0hBQWtILG1CQUFtQixxRkFBcUYsUUFBUSxlQUFlLDBCQUEwQiwwQkFBMEIsNklBQTZJLE1BQU0sRUFBRSw2RkFBNkYsVUFBVSxVQUFVLHFCQUFxQiwwQkFBMEIsMEJBQTBCLHdMQUF3TCxxQkFBcUIsRUFBRSwyR0FBMkcscUhBQXFILFdBQVcsS0FBSyxVQUFVLEVBQUUsMkdBQTJHLFdBQVcsS0FBSyxVQUFVLEVBQUUsMkdBQTJHLFdBQVcsVUFBVSxtQkFBbUIsUUFBUSxHQUFHLDJCQUEyQixpSUFBaUksYUFBYSxhQUFhLHlCQUF5QixRQUFRLEdBQUcsc0JBQXNCLFdBQVcsRUFBRSx1QkFBdUIsY0FBYyw4RUFBOEUsVUFBVSxVQUFVLGFBQWEsaUJBQWlCLGVBQWUsaUJBQWlCLG9CQUFvQiw2QkFBNkIsR0FBRyx3Q0FBd0MsZ0RBQWdELDJEQUEyRCxVQUFVLGFBQWEsa0JBQWtCLDRCQUE0QixJQUFJLEdBQUcsb0tBQW9LLGFBQWEsU0FBUyxNQUFNLGVBQWUsY0FBYyxpQ0FBaUMsaUJBQWlCLG9EQUFvRCx1QkFBdUIsOE1BQThNLGVBQWUsWUFBWSxHQUFHLCtDQUErQyxhQUFhLFNBQVMsNkJBQTZCLG9GQUFvRixpQkFBaUIsc0RBQXNELFFBQVEsR0FBRyxvRkFBb0YsVUFBVSxhQUFhLFVBQVUsd0NBQXdDLHlDQUF5QyxHQUFHLGlHQUFpRyxhQUFhLFNBQVMscUdBQXFHLG1CQUFtQiwrQ0FBK0MsaUJBQWlCLDRCQUE0QixxQkFBcUIsb0VBQW9FLDRHQUE0RyxtQkFBbUIsc0dBQXNHLGVBQWUsc0JBQXNCLGlCQUFpQixxR0FBcUcsaUJBQWlCLGtFQUFrRSxpRkFBaUYscUJBQXFCLG9CQUFvQiwrRUFBK0UsZUFBZSx5R0FBeUcsbUJBQW1CLG1IQUFtSCxxQkFBcUIsc0JBQXNCLElBQUksd0NBQXdDLFNBQVMsdUJBQXVCLGtDQUFrQyx1QkFBdUIsS0FBSyxJQUFJLEVBQUUsWUFBWSxrR0FBa0csbUZBQW1GLG1CQUFtQixxQ0FBcUMsSUFBSSxFQUFFLHNCQUFzQixZQUFZLEtBQUssS0FBSyxZQUFZLE1BQU0sa0VBQWtFLG1CQUFtQixXQUFXLGtCQUFrQixpQkFBaUIsc0JBQXNCLGlCQUFpQixpQkFBaUIsbUJBQW1CLFdBQVcsUUFBUSxZQUFZLElBQUksS0FBSyxnQkFBZ0IsaUdBQWlHLGdDQUFnQyxXQUFXLHlFQUF5RSxTQUFTLGlCQUFpQixxQkFBcUIsbUJBQW1CLDhCQUE4QixTQUFTLGtCQUFrQix1QkFBdUIsRUFBRSxXQUFXLHVCQUF1QiwyQkFBMkIsbUNBQW1DLFNBQVMsdUJBQXVCLDhCQUE4QixrQkFBa0IsdUJBQXVCLEVBQUUsaUJBQWlCLHdCQUF3QixrQkFBa0IsU0FBUyxLQUFLLGtDQUFrQyxPQUFPLEtBQUssa0NBQWtDLFNBQVMsS0FBSyxvQkFBb0IseUdBQXlHLHFCQUFxQixTQUFTLG1FQUFtRSwwREFBMEQsNEJBQTRCLElBQUksd0RBQXdELFFBQVEsUUFBUSxXQUFXLE1BQU0sbUNBQW1DLHNFQUFzRSx3Q0FBd0Msd0JBQXdCLDRCQUE0QixrQ0FBa0MsU0FBUyxXQUFXLEtBQUssWUFBWSxjQUFjLGdCQUFnQixJQUFJLGdDQUFnQyxxQ0FBcUMsVUFBVSxTQUFTLGVBQWUsOGNBQThjLGtCQUFrQix5Q0FBeUMsd0RBQXdELFVBQVUsMENBQTBDLE1BQU0sNkRBQTZELHlFQUF5RSx5QkFBeUIsZ0NBQWdDLCtHQUErRyxZQUFZLFdBQVcsd0NBQXdDLGtCQUFrQixNQUFNLHNDQUFzQyxHQUFHLG9CQUFvQiw2Q0FBNkMsOEJBQThCLCtCQUErQixvQkFBb0IsdURBQXVELGdCQUFnQixtSEFBbUgsdUJBQXVCLGlGQUFpRixVQUFVLHlDQUF5QyxnQkFBZ0IsOERBQThELFVBQVUsOFBBQThQLFVBQVUsMk1BQTJNLDJCQUEyQiwwQkFBMEIsUUFBUSw2QkFBNkIsMEdBQTBHLGtCQUFrQix5QkFBeUIsNkJBQTZCLHlHQUF5Ryw2SEFBNkgsWUFBWSxXQUFXLDRIQUE0SCxzREFBc0Qsd0JBQXdCLFlBQVksV0FBVywyREFBMkQsaURBQWlELDBGQUEwRixvQkFBb0Isa0NBQWtDLEVBQUUsaUJBQWlCLHdEQUF3RCxFQUFFLFFBQVEsY0FBYyxxWkFBcVosYUFBYSxjQUFjLGlEQUFpRCxXQUFXLGlEQUFpRCxXQUFXLHlDQUF5QyxFQUFFLGdEQUFnRCxJQUFJLFdBQVcsSUFBSSxTQUFTLFlBQVksdUJBQXVCLGtCQUFrQiw4R0FBOEcsbUJBQW1CLDRDQUE0QywrQkFBK0IsUUFBUSxFQUFFLDBEQUEwRCxvQkFBb0IsNERBQTRELGVBQWUscUNBQXFDLElBQUksMkNBQTJDLFNBQVMseUZBQXlGLGdCQUFnQixxQkFBcUIsc0RBQXNELFFBQVEsRUFBRSxTQUFTLHFCQUFxQixjQUFjLHlHQUF5RyxNQUFNLCtDQUErQywwQkFBMEIsc0JBQXNCLDhCQUE4QixnQkFBZ0IscUJBQXFCLHlFQUF5RSxRQUFRLEVBQUUsU0FBUyxxQkFBcUIsY0FBYyxzR0FBc0csb0RBQW9ELGlCQUFpQix3Q0FBd0MsZ0hBQWdILGNBQWMsWUFBWSxXQUFXLEtBQUssV0FBVywrRkFBK0Ysa0JBQWtCLGdCQUFnQixRQUFRLFdBQVcsaUJBQWlCLE9BQU8sTUFBTSxlQUFlLFdBQVcsWUFBWSxNQUFNLHlCQUF5QixlQUFlLG1CQUFtQixxQkFBcUIsSUFBSSxLQUFLLGVBQWUsMkVBQTJFLHNCQUFzQixRQUFRLFdBQVcsWUFBWSxjQUFjLGdCQUFnQixnQ0FBZ0MsT0FBTyx5QkFBeUIscUJBQXFCLDZCQUE2QixzQ0FBc0MsZ0JBQWdCLGlCQUFpQixvTEFBb0wsbUJBQW1CLDZMQUE2TCxzQ0FBc0MsUUFBUSxFQUFFLHdCQUF3Qiw4SkFBOEosU0FBUyxNQUFNLGlDQUFpQyxnRkFBZ0YsZ0NBQWdDLDJDQUEyQyxnRUFBZ0UsVUFBVSxtQkFBbUIsVUFBVSxxQ0FBcUMsMEJBQTBCLG1DQUFtQyw4QkFBOEIsS0FBSyw0QkFBNEIscUJBQXFCLG1DQUFtQyxzQ0FBc0MsaUJBQWlCLHVDQUF1QyxrQkFBa0IsV0FBVyxrQkFBa0Isd0JBQXdCLFdBQVcsWUFBWSxhQUFhLEtBQUssc0VBQXNFLGtIQUFrSCxvQkFBb0Isc0JBQXNCLHNHQUFzRyxxQkFBcUIsU0FBUyxzQkFBc0Isb0NBQW9DLDZCQUE2Qix3RUFBd0UsbUJBQW1CLGNBQWMsaURBQWlELFNBQVMsY0FBYyx1Q0FBdUMsYUFBYSx1QkFBdUIsY0FBYyx5R0FBeUcsWUFBWSwrQ0FBK0MsNEJBQTRCLHdkQUF3ZCwyQkFBMkIsbUxBQW1MLHdCQUF3QixtQ0FBbUMsMEJBQTBCLGNBQWMsb0JBQW9CLG9CQUFvQixxRUFBcUUsTUFBTSxvQkFBb0Isc0VBQXNFLFdBQVcsb0RBQW9ELGlEQUFpRCxPQUFPLDBEQUEwRCxrQkFBa0Isc0VBQXNFLFNBQVMsZUFBZSx3ZkFBd2Ysa0JBQWtCLGdNQUFnTSw2Q0FBNkMsc0NBQXNDLDZGQUE2RixVQUFVLDBDQUEwQyxNQUFNLDZEQUE2RCx5RUFBeUUsU0FBUyxnSEFBZ0gsaUNBQWlDLHNIQUFzSCw0RUFBNEUsb0JBQW9CLHVCQUF1Qiw4QkFBOEIsTUFBTSxXQUFXLEdBQUcsc0NBQXNDLG9CQUFvQixnQkFBZ0IsbUhBQW1ILFVBQVUseUNBQXlDLGdCQUFnQiw4REFBOEQsVUFBVSw0VEFBNFQsa0JBQWtCLDhRQUE4USxVQUFVLHNSQUFzUiwwQkFBMEIsa0lBQWtJLGtFQUFrRSxrQkFBa0IscUJBQXFCLEtBQUssS0FBSyxhQUFhLGdJQUFnSSxNQUFNLE1BQU0saUJBQWlCLE1BQU0sS0FBSyx5QkFBeUIsbUJBQW1CLEdBQUcsNEJBQTRCLFVBQVUsbUJBQW1CLE1BQU0sWUFBWSx1RkFBdUYsdUZBQXVGLE1BQU0sZ0JBQWdCLGlCQUFpQixrQkFBa0IsUUFBUSx3RUFBd0UsWUFBWSxXQUFXLEtBQUssdUNBQXVDLElBQUksUUFBUSxHQUFHLE1BQU0sMkJBQTJCLDZEQUE2RCx1QkFBdUIseUpBQXlKLHdCQUF3QixZQUFZLFdBQVcsZ0ZBQWdGLGtCQUFrQiwrQkFBK0Isd0ZBQXdGLGlDQUFpQyxTQUFTLGdCQUFnQixXQUFXLEtBQUssb0JBQW9CLGdDQUFnQyw2Q0FBNkMscUNBQXFDLFNBQVMsaUJBQWlCLHFGQUFxRix1QkFBdUIsMkJBQTJCLDBCQUEwQixnQkFBZ0IseUJBQXlCLGtFQUFrRSwrQ0FBK0MsZ0JBQWdCLHlVQUF5VSwrQ0FBK0MscUlBQXFJLHdDQUF3QywySUFBMkksTUFBTSxNQUFNLGtKQUFrSiwwQ0FBMEMscUJBQXFCLDRCQUE0QixjQUFjLG9EQUFvRCxvREFBb0QsWUFBWSxJQUFJLHlEQUF5RCxzREFBc0QseUZBQXlGLGNBQWMsWUFBWSxJQUFJLGtIQUFrSCx5QkFBeUIsUUFBUSxpQkFBaUIseUNBQXlDLDZHQUE2RyxrQ0FBa0MsY0FBYyw0REFBNEQsNEJBQTRCLG9GQUFvRixZQUFZLFFBQVEsOENBQThDLFlBQVksWUFBWSwyRkFBMkYsaUJBQWlCLHlCQUF5Qix1QkFBdUIscUJBQXFCLDREQUE0RCwyQkFBMkIsdUJBQXVCLHlCQUF5QiwrQ0FBK0MsbUJBQW1CLHNHQUFzRyxtQkFBbUIsNERBQTRELHVDQUF1QyxpR0FBaUcsbUJBQW1CLG1CQUFtQixrQkFBa0IsY0FBYyxzQ0FBc0MsOEJBQThCLG1CQUFtQix1RUFBdUUsK0JBQStCLFdBQVcsOEJBQThCLGdCQUFnQix5QkFBeUIsbUJBQW1CLEdBQUcsZ0VBQWdFLFlBQVksY0FBYyxvQkFBb0IsWUFBWSxnQkFBZ0Isd0JBQXdCLFFBQVEsOEVBQThFLFdBQVcscUJBQXFCLDRCQUE0QixTQUFTLFNBQVMsRUFBRSx5S0FBeUssYUFBYSwyQ0FBMkMscUJBQXFCLDhCQUE4QixVQUFVLGFBQWEsMkNBQTJDLHFCQUFxQiw4QkFBOEIsV0FBVyxTQUFTLGdFQUFnRSwwQkFBMEIseUJBQXlCLCtDQUErQyxHQUFHLDZCQUE2QiwyQkFBMkIsd0JBQXdCLGlCQUFpQiwrRkFBK0YsRUFBRSxRQUFRLGNBQWMsbzhCQUFvOEIsYUFBYSxtQkFBbUIsMENBQTBDLHlEQUF5RCxTQUFTLG1CQUFtQixtREFBbUQsVUFBVSxnREFBZ0QsU0FBUyx3QkFBd0Isd0VBQXdFLHVDQUF1Qyx5Q0FBeUMsV0FBVyxZQUFZLElBQUksb0NBQW9DLFNBQVMsdUJBQXVCLDZDQUE2QyxPQUFPLCtEQUErRCxFQUFFLDZCQUE2QixFQUFFLDZCQUE2QixFQUFFLG1FQUFtRSxRQUFRLGVBQWUsZUFBZSxLQUFLLFdBQVcsVUFBVSxPQUFPLEdBQUcsT0FBTyxHQUFHLE9BQU8sR0FBRyxTQUFTLGlCQUFpQiw4REFBOEQsU0FBUyx1QkFBdUIsc0hBQXNILFVBQVUsZ0dBQWdHLFlBQVksMkJBQTJCLCtKQUErSiwyQkFBMkIsMkNBQTJDLG9HQUFvRywyQkFBMkIscUVBQXFFLGFBQWEsZ0NBQWdDLHVDQUF1QyxtSUFBbUksWUFBWSx3SEFBd0gscUVBQXFFLHlIQUF5SCxjQUFjLHVOQUF1TixVQUFVLHFGQUFxRixZQUFZLHFGQUFxRixrQkFBa0IscURBQXFELGNBQWMsd0NBQXdDLFdBQVcsVUFBVSxpQkFBaUIsR0FBRyxpQkFBaUIsR0FBRyxpQkFBaUIsR0FBRyx1QkFBdUIsMEJBQTBCLGtCQUFrQiw0RUFBNEUsbURBQW1ELG9CQUFvQixFQUFFLG1CQUFtQixtQkFBbUIsc0JBQXNCLGlCQUFpQix1QkFBdUIsaUJBQWlCLGlCQUFpQixRQUFRLGVBQWUsTUFBTSxLQUFLLGdCQUFnQiwyQkFBMkIsS0FBSyxXQUFXLEtBQUssdUtBQXVLLHdCQUF3QixZQUFZLFVBQVUsbUNBQW1DLFVBQVUsNkJBQTZCLCtGQUErRixxUEFBcVAseUlBQXlJLGdLQUFnSywyQkFBMkIsVUFBVSxRQUFRLG1EQUFtRCxjQUFjLDhDQUE4QyxFQUFFLHdDQUF3QyxFQUFFLCtDQUErQyxNQUFNLFdBQVcsWUFBWSw0Q0FBNEMsSUFBSSxXQUFXLDhDQUE4QyxTQUFTLGVBQWUsaVBBQWlQLDBCQUEwQix5QkFBeUIsOFFBQThRLGtCQUFrQix5Q0FBeUMsd0RBQXdELFVBQVUsMENBQTBDLE1BQU0sNkRBQTZELHlFQUF5RSx5QkFBeUIsY0FBYywrR0FBK0csWUFBWSxXQUFXLHdDQUF3QyxNQUFNLDJCQUEyQiwrQkFBK0Isa0JBQWtCLE1BQU0sc0NBQXNDLEdBQUcsa0RBQWtELDZDQUE2Qyw4QkFBOEIsNERBQTRELDBDQUEwQyxxQkFBcUIsU0FBUyw0QkFBNEIsNkVBQTZFLGlEQUFpRCxNQUFNLDBCQUEwQixlQUFlLHNFQUFzRSxTQUFTLHNCQUFzQixrQkFBa0IsNEJBQTRCLDZFQUE2RSxxREFBcUQsZ0JBQWdCLHdCQUF3QixnQkFBZ0IsZUFBZSxpQ0FBaUMsbUJBQW1CLFNBQVMsa0JBQWtCLE9BQU8sa0JBQWtCLFNBQVMsSUFBSSxpREFBaUQsU0FBUyxrQkFBa0IsT0FBTyxrQkFBa0IsU0FBUyxrREFBa0Qsc0RBQXNELGtCQUFrQixxQkFBcUIsZ0JBQWdCLG1IQUFtSCx1QkFBdUIsaUZBQWlGLFVBQVUseUNBQXlDLGdCQUFnQiw4REFBOEQsVUFBVSxzVEFBc1QsVUFBVSxzSkFBc0osb0JBQW9CLDBIQUEwSCx5RUFBeUUsd0JBQXdCLGdFQUFnRSxtQ0FBbUMsMERBQTBELHdDQUF3QywyQ0FBMkMseUZBQXlGLHFCQUFxQiwrRkFBK0YseUNBQXlDLFlBQVksYUFBYSwwQ0FBMEMsZ0dBQWdHLCtCQUErQixlQUFlLEtBQUssNEJBQTRCLEtBQUssUUFBUSxLQUFLLDJCQUEyQixLQUFLLG9CQUFvQixzQkFBc0IseUlBQXlJLGNBQWMsK0RBQStELFlBQVksSUFBSSxLQUFLLCtEQUErRCwrREFBK0QsZUFBZSw0QkFBNEIsZ0hBQWdILFdBQVcsa0JBQWtCLFVBQVUsNENBQTRDLGdFQUFnRSxhQUFhLHFCQUFxQixnT0FBZ08seUJBQXlCLHNCQUFzQixNQUFNLHdDQUF3Qyw2QkFBNkIsNEVBQTRFLHNDQUFzQywwQ0FBMEMsd0RBQXdELHFDQUFxQyxZQUFZLElBQUksS0FBSyxVQUFVLFdBQVcsYUFBYSw4RkFBOEYsd0RBQXdELHlDQUF5Qyx1Q0FBdUMsb0RBQW9ELHNCQUFzQixlQUFlLDBHQUEwRywwS0FBMEssYUFBYSxrQkFBa0IsVUFBVSw0Q0FBNEMsa0VBQWtFLGlDQUFpQywrQkFBK0Isd0ZBQXdGLGVBQWUsUUFBUSxjQUFjLDhSQUE4Uix5QkFBeUIsb0hBQW9ILHVCQUF1QixtQkFBbUIscUVBQXFFLDBHQUEwRyxtQ0FBbUMsb0JBQW9CLHVEQUF1RCxvQkFBb0Isa0NBQWtDLEVBQUUsaUJBQWlCLGtSQUFrUixFQUFFLFFBQVEsY0FBYyxvcEJBQW9wQixhQUFhLDhCQUE4QixzQkFBc0Isb0NBQW9DLHdGQUF3Riw4QkFBOEIsa0JBQWtCLGFBQWEsSUFBSSx3QkFBd0IsMkJBQTJCLGtEQUFrRCxpQkFBaUIsbUJBQW1CLHFCQUFxQixjQUFjLDhDQUE4QyxFQUFFLDZDQUE2QyxFQUFFLCtDQUErQyxhQUFhLGdEQUFnRCxFQUFFLGtEQUFrRCxhQUFhLG1EQUFtRCxLQUFLLEtBQUssaURBQWlELEtBQUssY0FBYywwQ0FBMEMsRUFBRSwyQ0FBMkMsV0FBVyxnREFBZ0QsRUFBRSw2Q0FBNkMsR0FBRyxLQUFLLHFDQUFxQyxFQUFFLHFDQUFxQyxFQUFFLHFDQUFxQyxFQUFFLGdDQUFnQyxFQUFFLGdDQUFnQyxFQUFFLHlCQUF5QixFQUFFLHlCQUF5QixFQUFFLHlCQUF5QixFQUFFLHlCQUF5QixFQUFFLDRCQUE0QixFQUFFLGtDQUFrQyxFQUFFLHNDQUFzQyxFQUFFLGlDQUFpQyxHQUFHLGNBQWMsdUNBQXVDLEVBQUUsOENBQThDLEVBQUUsMkNBQTJDLGFBQWEsNENBQTRDLEVBQUUsNENBQTRDLEVBQUUseUNBQXlDLEtBQUssS0FBSywyQ0FBMkMsUUFBUSxxQ0FBcUMsRUFBRSxxQ0FBcUMsRUFBRSxxQ0FBcUMsRUFBRSxrQ0FBa0MsRUFBRSxrQ0FBa0MsRUFBRSxxQ0FBcUMsRUFBRSwrQkFBK0IsRUFBRSxzQ0FBc0MsRUFBRSxvQ0FBb0MsRUFBRSxnQ0FBZ0MsRUFBRSw2QkFBNkIsRUFBRSwrQkFBK0IsRUFBRSwrQkFBK0IsRUFBRSxrQ0FBa0MsRUFBRSxrQ0FBa0MsRUFBRSxnQ0FBZ0MsRUFBRSxzQ0FBc0MsRUFBRSwyQkFBMkIsRUFBRSxpQ0FBaUMsRUFBRSx3Q0FBd0MsRUFBRSw4QkFBOEIsUUFBUSxxQ0FBcUMsRUFBRSxxQ0FBcUMsRUFBRSxxQ0FBcUMsRUFBRSxrQ0FBa0MsRUFBRSxrQ0FBa0MsRUFBRSxrREFBa0QsRUFBRSxtREFBbUQsRUFBRSxpREFBaUQsRUFBRSxrREFBa0QsRUFBRSwwQ0FBMEMsRUFBRSxrREFBa0QsRUFBRSx5QkFBeUIsRUFBRSx1Q0FBdUMsRUFBRSxxQ0FBcUMsRUFBRSwrQ0FBK0MsRUFBRSw2Q0FBNkMsRUFBRSx1Q0FBdUMsRUFBRSxxQ0FBcUMsRUFBRSwrQ0FBK0MsRUFBRSw2Q0FBNkMsRUFBRSxrQ0FBa0MsRUFBRSxnREFBZ0QsRUFBRSw4Q0FBOEMsRUFBRSxxQ0FBcUMsRUFBRSw2Q0FBNkMsRUFBRSxnREFBZ0QsRUFBRSxpQ0FBaUMsRUFBRSw4Q0FBOEMsRUFBRSw4Q0FBOEMsUUFBUSw4QkFBOEIsUUFBUSxzQkFBc0IsRUFBRSxzQkFBc0IsRUFBRSwrQ0FBK0MsR0FBRyxVQUFVLGFBQWEsaUJBQWlCLE1BQU0sYUFBYSxHQUFHLCtCQUErQixvREFBb0QsNkJBQTZCLGdCQUFnQixNQUFNLGdDQUFnQyxHQUFHLFFBQVEsS0FBSyxvQkFBb0IsS0FBSyxrQkFBa0IsUUFBUSxLQUFLLHFCQUFxQixLQUFLLHlCQUF5QixvQkFBb0IsNkJBQTZCLHlEQUF5RCxFQUFFLG9IQUFvSCxlQUFlLGlCQUFpQixFQUFFLHdCQUF3QixFQUFFLHFFQUFxRSxpQkFBaUIsWUFBWSxzQ0FBc0MsMkJBQTJCLE1BQU0sd0NBQXdDLGdEQUFnRCxtREFBbUQsUUFBUSxrQkFBa0Isc0JBQXNCLG1HQUFtRyxFQUFFLG1CQUFtQiwrQkFBK0IsdUJBQXVCLG9EQUFvRCxFQUFFLGdKQUFnSixjQUFjLEtBQUssVUFBVSxnSEFBZ0gsK0ZBQStGLGdCQUFnQix1YkFBdWIsZUFBZSwrSkFBK0osZUFBZSxnR0FBZ0csaUNBQWlDLHFFQUFxRSxtQ0FBbUMsSUFBSSwwQkFBMEIsOEJBQThCLElBQUksMEJBQTBCLGVBQWUsTUFBTSxtQ0FBbUMsdUJBQXVCLGtDQUFrQywwQkFBMEIsNEhBQTRILG1SQUFtUixLQUFLLCtCQUErQixrQkFBa0IsSUFBSSwrQkFBK0I7QUFDdG4yUSx3R0FBd0csOEhBQThILGlEQUFpRCwwRkFBMEYsZUFBZSxzREFBc0QsbUJBQW1CLHlEQUF5RCxtQkFBbUIsa0ZBQWtGLGFBQWEsa0JBQWtCLEtBQUsseUJBQXlCLGlCQUFpQixZQUFZLFdBQVcseUJBQXlCLGlCQUFpQixZQUFZLFdBQVcsMEJBQTBCLGlCQUFpQixZQUFZLFdBQVcsd0JBQXdCLGlCQUFpQixZQUFZLFdBQVcseUJBQXlCLGlCQUFpQixZQUFZLFdBQVcsMEJBQTBCLGlCQUFpQixZQUFZLFdBQVcsMEJBQTBCLGlCQUFpQixZQUFZLFdBQVcsMkJBQTJCLGlCQUFpQixZQUFZLFdBQVcsMEJBQTBCLGlCQUFpQixZQUFZLFdBQVcsMkJBQTJCLGlCQUFpQixtREFBbUQsbUJBQW1CLGlEQUFpRCxpQkFBaUIsZ0RBQWdELG1CQUFtQix3Q0FBd0MsbUJBQW1CLFVBQVUsTUFBTSxzREFBc0Qsb0JBQW9CLEVBQUUsZUFBZSxvQkFBb0IscUJBQXFCLGFBQWEseUNBQXlDLEdBQUcsNEVBQTRFLG1CQUFtQiw4TUFBOE0sZUFBZSxZQUFZLDhDQUE4Qyx5QkFBeUIsVUFBVSx3REFBd0QsRUFBRSxZQUFZLHNDQUFzQyxLQUFLLEtBQUssYUFBYSx3QkFBd0IscUZBQXFGLGdCQUFnQixzQkFBc0IsMEVBQTBFLGdDQUFnQyxxQkFBcUIsT0FBTyxRQUFRLHlCQUF5QixjQUFjLG1CQUFtQixlQUFlLDRCQUE0QixxQkFBcUIsV0FBVyxFQUFFLDBDQUEwQyxzREFBc0QsU0FBUywyQkFBMkIsdURBQXVELHdCQUF3Qiw0QkFBNEIscUJBQXFCLHlCQUF5Qiw0QkFBNEIscUJBQXFCLHdCQUF3Qix1REFBdUQscUJBQXFCLHlCQUF5Qix1REFBdUQscUJBQXFCLHNCQUFzQixvQ0FBb0MscUJBQXFCLHVCQUF1QixvQ0FBb0MscUJBQXFCLHdCQUF3QixtQkFBbUIsOEtBQThLLGdCQUFnQixvREFBb0QscURBQXFELHNEQUFzRCxzREFBc0Qsc0RBQXNELG9EQUFvRCwwREFBMEQsd0NBQXdDLHlCQUF5QiwyQkFBMkIsd0JBQXdCLHdCQUF3QiwyQkFBMkIsd0JBQXdCLGtDQUFrQyx1QkFBdUIsNENBQTRDLDhDQUE4QyxrQ0FBa0MsK0JBQStCLGlCQUFpQixJQUFJLEVBQUUsb0RBQW9ELGVBQWUsc2VBQXNlLFNBQVMsZUFBZSxzQkFBc0IsaUVBQWlFLG9CQUFvQixnQ0FBZ0MsMERBQTBELGVBQWUsWUFBWSxXQUFXLDRCQUE0QixTQUFTLCtCQUErQiwwREFBMEQsZUFBZSxZQUFZLFdBQVcsNEJBQTRCLFNBQVMsK0JBQStCLDBEQUEwRCxlQUFlLFlBQVksV0FBVyw0QkFBNEIsU0FBUyw2QkFBNkIsd0RBQXdELGVBQWUsWUFBWSxXQUFXLDBCQUEwQixTQUFTLDhCQUE4Qix5REFBeUQsZUFBZSxZQUFZLFdBQVcsMkJBQTJCLFNBQVMsK0JBQStCLDBEQUEwRCxlQUFlLFlBQVksV0FBVyw0QkFBNEIsU0FBUyxnQ0FBZ0MsMkRBQTJELGVBQWUsWUFBWSxXQUFXLDZCQUE2QixTQUFTLCtCQUErQiwwREFBMEQsZUFBZSxZQUFZLFdBQVcsNEJBQTRCLFNBQVMsZ0NBQWdDLDJEQUEyRCxlQUFlLFlBQVksV0FBVyw2QkFBNkIsU0FBUyxrQkFBa0IsVUFBVSxzQkFBc0IseUJBQXlCLEVBQUUseURBQXlELG1DQUFtQyxNQUFNLDREQUE0RCxjQUFjLHdCQUF3QiwwQkFBMEIscUJBQXFCLDBCQUEwQixhQUFhLE1BQU0sb0JBQW9CLHdCQUF3QiwyQ0FBMkMsbUJBQW1CLHdFQUF3RSwwQkFBMEIscURBQXFELDJCQUEyQixxREFBcUQsMEJBQTBCLGlHQUFpRywyQkFBMkIsaUdBQWlHLHlCQUF5Qix1Q0FBdUMsUUFBUSxnT0FBZ08sOEJBQThCLG9KQUFvSixzQkFBc0IsZUFBZSwwT0FBME8sT0FBTyxrT0FBa08sMEJBQTBCLGtDQUFrQywwQkFBMEIsOEJBQThCLHlCQUF5QixnREFBZ0QsZUFBZSx5QkFBeUIsZ0JBQWdCLFdBQVcsS0FBSyx1Q0FBdUMsT0FBTywrREFBK0QsU0FBUyxZQUFZLHFDQUFxQyxTQUFTLG9DQUFvQyxrREFBa0QsOElBQThJLFNBQVMsc0JBQXNCLGlCQUFpQixtRUFBbUUsd0JBQXdCLDZEQUE2RCx5QkFBeUIsNkRBQTZELHdCQUF3QixlQUFlLG9DQUFvQyxZQUFZLElBQUksK0JBQStCLCtCQUErQixXQUFXLGVBQWUsVUFBVSxpQkFBaUIsbUVBQW1FLDhCQUE4QixxREFBcUQsaUNBQWlDLHFDQUFxQyxrQ0FBa0MscUNBQXFDLGtDQUFrQyxxQ0FBcUMsZ0NBQWdDLHFDQUFxQyxpQ0FBaUMscUNBQXFDLGtDQUFrQyxxQ0FBcUMsbUNBQW1DLHFDQUFxQyxrQ0FBa0MscUNBQXFDLG1DQUFtQyxxQ0FBcUMsK0JBQStCLDhDQUE4QyxpQ0FBaUMsa0RBQWtELGtDQUFrQyxtREFBbUQsaUNBQWlDLGtEQUFrRCxrQ0FBa0MsbURBQW1ELGdDQUFnQyxnREFBZ0QsaUNBQWlDLGlEQUFpRCxnQ0FBZ0MsK0NBQStDLCtCQUErQixnREFBZ0QsZ0NBQWdDLGlEQUFpRCxpQ0FBaUMsdUNBQXVDLFNBQVMsZUFBZSx1REFBdUQsRUFBRSxtR0FBbUcsU0FBUyxpREFBaUQsU0FBUyxxRkFBcUYsa0JBQWtCLHNGQUFzRixTQUFTLGlCQUFpQixVQUFVLE1BQU0sNEJBQTRCLFdBQVcsNENBQTRDLE1BQU0sUUFBUSxpQkFBaUIsdUJBQXVCLEVBQUUsa0JBQWtCLCtCQUErQixrQkFBa0IsUUFBUSxFQUFFLGdCQUFnQixVQUFVLGtCQUFrQiw4RUFBOEUsa0JBQWtCLFFBQVEsRUFBRSxRQUFRLDJCQUEyQixVQUFVLEVBQUUsVUFBVSxFQUFFLGlCQUFpQixvQkFBb0IsUUFBUSxFQUFFLFVBQVUsRUFBRSxpQkFBaUIsb0JBQW9CLFVBQVUsRUFBRSxVQUFVLEVBQUUsaUJBQWlCLG9CQUFvQixRQUFRLEVBQUUsVUFBVSxFQUFFLGlCQUFpQixHQUFHLDJEQUEyRCxpQkFBaUIsa0JBQWtCLGdCQUFnQiw0Q0FBNEMsbUZBQW1GLHdCQUF3QixpSUFBaUksK0pBQStKLHlCQUF5QixpQkFBaUIsZ0NBQWdDLG9CQUFvQixnQkFBZ0Isd0JBQXdCLFFBQVEsSUFBSSwyQ0FBMkMsVUFBVSwwQ0FBMEMsU0FBUyxjQUFjLG9EQUFvRCxvQkFBb0IsZUFBZSxvQ0FBb0MsbUJBQW1CLGVBQWUsd0JBQXdCLFNBQVMsY0FBYyw2RUFBNkUsd0JBQXdCLGVBQWUsWUFBWSxvQkFBb0IsS0FBSyxzQkFBc0Isb0RBQW9ELFNBQVMsU0FBUyx3QkFBd0IsY0FBYywyQ0FBMkMsY0FBYyxxQkFBcUIsbUJBQW1CLDRCQUE0QixlQUFlLCtCQUErQiwwQkFBMEIsd0JBQXdCLFNBQVMsWUFBWSxXQUFXLEtBQUssMERBQTBELGdGQUFnRixTQUFTLGVBQWUsT0FBTyxRQUFRLFlBQVksZ0RBQWdELFFBQVEsdUJBQXVCLDZCQUE2Qix3Q0FBd0MsUUFBUSxtRkFBbUYsZUFBZSxlQUFlLDhHQUE4RyxXQUFXLGlCQUFpQixjQUFjLCtFQUErRSxvQkFBb0IseUVBQXlFLCtCQUErQixZQUFZLGdCQUFnQiwrQkFBK0IsbUJBQW1CLGdDQUFnQyxpRkFBaUYsMkNBQTJDLG9LQUFvSyw4QkFBOEIsa0lBQWtJLDZDQUE2Qyw0QkFBNEIsTUFBTSw2Q0FBNkMsTUFBTSw0REFBNEQsSUFBSSw2QkFBNkIsS0FBSywwQ0FBMEMsa0JBQWtCLGVBQWUsK0JBQStCLFlBQVksV0FBVywyQkFBMkIsWUFBWSxXQUFXLEtBQUssbURBQW1ELGtCQUFrQixlQUFlLGtFQUFrRSxxQkFBcUIsb0JBQW9CLFFBQVEsOENBQThDLHFEQUFxRCxzQkFBc0IsY0FBYyw2SUFBNkkseUNBQXlDLGdCQUFnQixzQ0FBc0MsU0FBUyxrQkFBa0Isd0JBQXdCLGtCQUFrQix3QkFBd0IsdUJBQXVCLDZEQUE2RCxZQUFZLFFBQVEsa0JBQWtCLFNBQVMsc0NBQXNDLGtDQUFrQyx1QkFBdUIsMkJBQTJCLFFBQVEsZ0JBQWdCLFNBQVMsU0FBUyxZQUFZLFlBQVksYUFBYSxLQUFLLGtFQUFrRSw0Q0FBNEMsOEZBQThGLGdCQUFnQix1QkFBdUIsZUFBZSw2REFBNkQsc0JBQXNCLFlBQVksdUVBQXVFLDRDQUE0Qyw2QkFBNkIsaUJBQWlCLE1BQU0sdUJBQXVCLGVBQWUsZUFBZSx1QkFBdUIsZUFBZSxvQkFBb0IsZUFBZSxrQ0FBa0MsNEdBQTRHLCtCQUErQixvQkFBb0IsK0JBQStCLCtIQUErSCxxQkFBcUIsK0hBQStILHFCQUFxQiwwRUFBMEUsY0FBYyxxQ0FBcUMsTUFBTSxXQUFXLGtDQUFrQyxPQUFPLHdCQUF3Qix1QkFBdUIsa0VBQWtFLDRHQUE0Ryx1Q0FBdUMsNERBQTRELFVBQVUsT0FBTyxVQUFVLG1DQUFtQyxLQUFLLCtGQUErRix5QkFBeUIsZ0JBQWdCLHVCQUF1Qiw0Q0FBNEMsd0NBQXdDLHdDQUF3QyxxQkFBcUIsd0JBQXdCLHFDQUFxQyxtQkFBbUIsUUFBUSw0RkFBNEYseUJBQXlCLHlCQUF5QixrQkFBa0Isa0NBQWtDLGlCQUFpQixRQUFRLG9DQUFvQyxlQUFlLDZDQUE2QywyQkFBMkIseUJBQXlCLGdCQUFnQixtQ0FBbUMsUUFBUSxZQUFZLGFBQWEsS0FBSyx3QkFBd0IsbUNBQW1DLG9DQUFvQyx1Q0FBdUMsUUFBUSxZQUFZLGFBQWEsS0FBSywyQ0FBMkMsK0NBQStDLHNLQUFzSyxrRkFBa0YsTUFBTSxxQ0FBcUMsZUFBZSxjQUFjLFVBQVUsbURBQW1ELE1BQU0saURBQWlELFVBQVUsc0RBQXNELE1BQU0sOENBQThDLFFBQVEsbUNBQW1DLHVCQUF1Qix3QkFBd0IsOERBQThELFlBQVksS0FBSyw2QkFBNkIsbUJBQW1CLE1BQU0sa0NBQWtDLDJEQUEyRCxRQUFRLHlFQUF5RSx5QkFBeUIsZ0JBQWdCLE1BQU0sY0FBYyxvQ0FBb0MsbUVBQW1FLDZCQUE2QixZQUFZLDZHQUE2Ryw2QkFBNkIsc0hBQXNILDBEQUEwRCxtQkFBbUIsdUJBQXVCLCtEQUErRCxRQUFRLDZEQUE2RCx1QkFBdUIsZ0NBQWdDLDBCQUEwQixLQUFLLE9BQU8sRUFBRSxxQkFBcUIsd0JBQXdCLHlCQUF5QixXQUFXLFFBQVEsS0FBSyxNQUFNLEVBQUUsc0JBQXNCLGdCQUFnQixxQ0FBcUMsMERBQTBELHdCQUF3QixPQUFPLGtCQUFrQix5QkFBeUIsaUJBQWlCLGtCQUFrQixVQUFVLGVBQWUsUUFBUSxZQUFZLGFBQWEseUJBQXlCLFNBQVMsbUJBQW1CLGtCQUFrQixpQkFBaUIsdURBQXVELHlCQUF5Qiw4QkFBOEIsUUFBUSxnQkFBZ0IsWUFBWSxhQUFhLEtBQUssa0NBQWtDLFVBQVUsK0VBQStFLGtDQUFrQyxPQUFPLCtCQUErQixtRkFBbUYseUVBQXlFLCtCQUErQixvQkFBb0IsbUJBQW1CLFlBQVksYUFBYSxLQUFLLGlEQUFpRCxLQUFLLFFBQVEsRUFBRSxLQUFLLGdEQUFnRCx5Q0FBeUMsMEJBQTBCLDBDQUEwQyxNQUFNLHNEQUFzRCx1QkFBdUIsV0FBVyxZQUFZLFdBQVcsS0FBSyxhQUFhLE1BQU0sWUFBWSxhQUFhLEtBQUssb0JBQW9CLDhsQkFBOGxCLFNBQVMsZ0JBQWdCLGNBQWMsK0JBQStCLFlBQVksTUFBTSwwQkFBMEIsWUFBWSxNQUFNLDJCQUEyQiwyQkFBMkIsa0NBQWtDLG9CQUFvQixJQUFJLEtBQUssY0FBYyxZQUFZLEdBQUcsYUFBYSw2QkFBNkIsdUJBQXVCLDZCQUE2QixnQkFBZ0IsSUFBSSxLQUFLLEtBQUssU0FBUyxLQUFLLG1CQUFtQixvQkFBb0IsVUFBVSwyQkFBMkIsU0FBUyxtQkFBbUIsa0ZBQWtGLG1CQUFtQixNQUFNLE9BQU8sT0FBTyxVQUFVLFVBQVUsWUFBWSxlQUFlLFdBQVcsNkNBQTZDLGFBQWEsRUFBRSxPQUFPLGFBQWEsTUFBTSxzQkFBc0IsdUJBQXVCLFNBQVMsWUFBWSxVQUFVLGtDQUFrQyxFQUFFLGtCQUFrQixrQ0FBa0MscUJBQXFCLEVBQUUsOERBQThELHFCQUFxQixFQUFFLDBCQUEwQix3RUFBd0UsbUNBQW1DLHFCQUFxQixFQUFFLG9CQUFvQixtRkFBbUYsTUFBTSw4Q0FBOEMseUZBQXlGLGdCQUFnQix3QkFBd0Isc0JBQXNCLG9CQUFvQixrQkFBa0IscUNBQXFDLEdBQUcsSUFBSSxXQUFXLFVBQVUsV0FBVyxXQUFXLFVBQVUscUJBQXFCLDRCQUE0Qix1Q0FBdUMscUJBQXFCLGtEQUFrRCxpRkFBaUYsWUFBWSxJQUFJLDhCQUE4Qix3SkFBd0osZ0JBQWdCLDZCQUE2QixrREFBa0QsZ0JBQWdCLE9BQU8sWUFBWSwwR0FBMEcseURBQXlELGtCQUFrQiw4RUFBOEUsZ0NBQWdDLHlGQUF5RixXQUFXLDBDQUEwQyxvQkFBb0IsaUJBQWlCLGFBQWEsc0VBQXNFLHFCQUFxQix5TkFBeU4sb0NBQW9DLGlCQUFpQixrQkFBa0IsaUhBQWlILG9CQUFvQixzVkFBc1YsTUFBTSwrQ0FBK0MseURBQXlELDhDQUE4QyxRQUFRLHlCQUF5QixzRkFBc0YsdUlBQXVJLGdDQUFnQyw4QkFBOEIsWUFBWSxhQUFhLEtBQUssc0JBQXNCLFlBQVksYUFBYSxpQ0FBaUMsZUFBZSxtQkFBbUIsRUFBRSxtQkFBbUIsRUFBRSxvQkFBb0IsRUFBRSxvQkFBb0IsR0FBRyxTQUFTLG1CQUFtQixRQUFRLDhFQUE4RSxTQUFTLG1CQUFtQixVQUFVLG1CQUFtQixFQUFFLG9CQUFvQixzQkFBc0IsUUFBUSxvQ0FBb0MsVUFBVSwwQ0FBMEMsR0FBRyxlQUFlLG9CQUFvQixJQUFJLHFCQUFxQixlQUFlLHFCQUFxQixlQUFlLHFCQUFxQiwwQ0FBMEMsaUVBQWlFLHNDQUFzQyw2RUFBNkUsVUFBVSxlQUFlLE1BQU0sS0FBSyxFQUFFLEdBQUcsRUFBRSxjQUFjLGNBQWMsVUFBVSxXQUFXLFVBQVUsZUFBZSxpQ0FBaUMsRUFBRSxJQUFJLGtDQUFrQyxRQUFRLG1EQUFtRCxJQUFJLElBQUksa0JBQWtCLGFBQWEsc0hBQXNILEdBQUcsRUFBRSwwQ0FBMEMsOEVBQThFLHNCQUFzQixFQUFFLFVBQVUsR0FBRyxFQUFFLEdBQUcsRUFBRSxFQUFFLEtBQUssRUFBRSxrT0FBa08saUJBQWlCLHlDQUF5Qyw0QkFBNEIsUUFBUSxNQUFNLDhHQUE4Ryw4TkFBOE4sMEZBQTBGLHlCQUF5QixNQUFNLHVDQUF1QyxNQUFNLHlDQUF5QyxnQ0FBZ0MsNkJBQTZCLFlBQVksSUFBSSxnQkFBZ0IsSUFBSSxLQUFLLGdDQUFnQyxrQkFBa0Isb0JBQW9CLHdCQUF3QixNQUFNLGFBQWEsZ0NBQWdDLDBFQUEwRSxZQUFZLElBQUksS0FBSyx3Q0FBd0Msc0RBQXNELFdBQVcsU0FBUyx1QkFBdUIsc0dBQXNHLEtBQUssbUJBQW1CLFFBQVEseURBQXlELE1BQU0sMEJBQTBCLHVDQUF1QyxxRUFBcUUsT0FBTyxvQkFBb0IsT0FBTyxNQUFNLGlCQUFpQixhQUFhLEtBQUssSUFBSSxFQUFFLHNCQUFzQixtQkFBbUIsWUFBWSxRQUFRLFNBQVMsTUFBTSxpQkFBaUIsOEJBQThCLEtBQUssSUFBSSxFQUFFLHNCQUFzQixZQUFZLDREQUE0RCxZQUFZLFNBQVMsaUJBQWlCLHNCQUFzQix3QkFBd0IsOEJBQThCLGFBQWEsWUFBWSxXQUFXLEtBQUssYUFBYSxxRkFBcUYsMEJBQTBCLFVBQVUsc0JBQXNCLDJCQUEyQixZQUFZLElBQUksaUJBQWlCLElBQUksaUNBQWlDLGtCQUFrQixnQkFBZ0IsYUFBYSw2QkFBNkIsSUFBSSxPQUFPLHNDQUFzQyxzQ0FBc0MsMkJBQTJCLGVBQWUsS0FBSyxTQUFTLEVBQUUsZ0JBQWdCLCtRQUErUSxzQ0FBc0MsRUFBRSxpQ0FBaUMsSUFBSSxRQUFRLGlCQUFpQixtQkFBbUIscUJBQXFCLGdEQUFnRCxlQUFlLFlBQVksV0FBVyxLQUFLLGFBQWEsNkJBQTZCLElBQUksT0FBTyxvQkFBb0IsMEZBQTBGLDZCQUE2Qiw4Q0FBOEMsa0RBQWtELGlCQUFpQixpQ0FBaUMsWUFBWSxzQ0FBc0MsK0NBQStDLE1BQU0seURBQXlELFVBQVUsb0RBQW9ELE1BQU0saURBQWlELGFBQWEsNEJBQTRCLFlBQVksV0FBVyxhQUFhLFVBQVUscUNBQXFDLE1BQU0sMkNBQTJDLE1BQU0sbUJBQW1CLE1BQU0saUJBQWlCLFVBQVUsd0NBQXdDLE1BQU0scUNBQXFDLE1BQU0sZUFBZSxNQUFNLGtCQUFrQixhQUFhLFNBQVMsaUNBQWlDLHlFQUF5RSxzQkFBc0IseUVBQXlFLHNDQUFzQyxNQUFNLG9CQUFvQixnQkFBZ0Isa0hBQWtILHNDQUFzQyxNQUFNLG9CQUFvQixnQkFBZ0Isa0hBQWtILDRMQUE0TCwyR0FBMkcsMkJBQTJCLHdDQUF3QywrQkFBK0Isb0NBQW9DLHFDQUFxQyxLQUFLLGFBQWEsaUJBQWlCLFdBQVcsY0FBYyxNQUFNLGlFQUFpRSxnREFBZ0QsdURBQXVELG9DQUFvQyxPQUFPLGlEQUFpRCxJQUFJLHNEQUFzRCxvQkFBb0Isb0RBQW9ELElBQUksbUdBQW1HLGVBQWUsK0ZBQStGLFVBQVUseUNBQXlDLFNBQVMsWUFBWSxXQUFXLEtBQUssYUFBYSx5REFBeUQsTUFBTSxnRUFBZ0Usd0RBQXdELFdBQVcsTUFBTSx5RkFBeUYseURBQXlELHdCQUF3QiwwQkFBMEIsU0FBUyx3QkFBd0IsdUJBQXVCLDBEQUEwRCxzQ0FBc0MsK09BQStPLHFDQUFxQyx5RkFBeUYsMkRBQTJELGVBQWUsVUFBVSw4REFBOEQsMERBQTBELGdCQUFnQix1Q0FBdUMsaUNBQWlDLElBQUksa0JBQWtCLCtEQUErRCxpZUFBaWUsTUFBTSwrQkFBK0IsTUFBTSxxS0FBcUssa0JBQWtCLHlDQUF5QyxXQUFXLE1BQU0sTUFBTSxZQUFZLCtCQUErQixHQUFHLHlEQUF5RCw2REFBNkQsb0NBQW9DLDRDQUE0QyxXQUFXLHFCQUFxQixxQkFBcUIsWUFBWSwrR0FBK0csc0VBQXNFLG1EQUFtRCxtQkFBbUIsMEJBQTBCLE1BQU0saURBQWlELE9BQU8seURBQXlELE1BQU0saURBQWlELGtGQUFrRixxQ0FBcUMsdUJBQXVCLFdBQVcsZ0VBQWdFLG1CQUFtQixjQUFjLGlJQUFpSSw0Q0FBNEMsOEJBQThCLGNBQWMseVRBQXlULDZCQUE2Qix3QkFBd0IsaUdBQWlHLFFBQVEscUNBQXFDLDJIQUEySCxxRkFBcUYsU0FBUyxpQ0FBaUMsMkJBQTJCLGlCQUFpQiw4ckJBQThyQiwrR0FBK0csdURBQXVELHdEQUF3RCxrQkFBa0IsVUFBVSxnQ0FBZ0MsMkJBQTJCLHlDQUF5QyxxQ0FBcUMsY0FBYyw0REFBNEQsaUJBQWlCLHNDQUFzQyxnR0FBZ0cseUdBQXlHLGVBQWUsK0NBQStDLGtDQUFrQyxXQUFXLHlDQUF5QyxpREFBaUQsNEJBQTRCLDBCQUEwQixnREFBZ0QsSUFBSSwrQkFBK0IsaURBQWlELHVDQUF1QyxpQkFBaUIsWUFBWSxJQUFJLEtBQUssNkJBQTZCLGNBQWMsbUNBQW1DLG9CQUFvQixtQkFBbUIscUJBQXFCLGdCQUFnQix1QkFBdUIsZUFBZSxVQUFVLHlFQUF5RSxTQUFTLDJCQUEyQiw4RUFBOEUscUJBQXFCLG1FQUFtRSw0QkFBNEIseUJBQXlCLGtFQUFrRSxnRkFBZ0YsWUFBWSxNQUFNLHlEQUF5RCxxRkFBcUYsZ0ZBQWdGLCtOQUErTixNQUFNLHdFQUF3RSxxREFBcUQsTUFBTSxNQUFNLHdJQUF3SSxnQ0FBZ0MsUUFBUSxzS0FBc0ssSUFBSSxTQUFTLDBEQUEwRCxXQUFXLGdFQUFnRSxtQkFBbUIsY0FBYyxpSUFBaUksNENBQTRDLDhCQUE4QixjQUFjLHdJQUF3SSx3REFBd0Qsa0JBQWtCLGVBQWUsNkJBQTZCLFlBQVksaUNBQWlDLDBDQUEwQywyQkFBMkIsMkNBQTJDLGlFQUFpRSxpQkFBaUIsNk5BQTZOLHFFQUFxRSxlQUFlLG1GQUFtRix1QkFBdUIsK0JBQStCLHFCQUFxQixzQkFBc0IsV0FBVyxhQUFhLHFCQUFxQixLQUFLLGdDQUFnQyxhQUFhLHVCQUF1QixjQUFjLCtDQUErQyxFQUFFLHdDQUF3QyxJQUFJLFdBQVcsWUFBWSx5Q0FBeUMsR0FBRyxZQUFZLHVDQUF1QyxHQUFHLGtPQUFrTyx3QkFBd0IsMERBQTBELDRDQUE0QyxxSkFBcUosbUJBQW1CLGtCQUFrQixnQkFBZ0IsaUVBQWlFLFdBQVcsd0NBQXdDLHlHQUF5Ryx5QkFBeUIsNkJBQTZCLDBCQUEwQixzQkFBc0IsaUJBQWlCLDZCQUE2QixtQkFBbUIsU0FBUyxtQkFBbUIsa0RBQWtELHNDQUFzQyxnQ0FBZ0MsaUJBQWlCLDJCQUEyQixNQUFNLGtKQUFrSixvQkFBb0IsbURBQW1ELDZDQUE2QyxlQUFlLG1DQUFtQyxrQkFBa0Isd0JBQXdCLG1CQUFtQiwrQkFBK0IsaUJBQWlCLG1CQUFtQixzQkFBc0IsK01BQStNLHdJQUF3SSxtQkFBbUIsc0NBQXNDLG1CQUFtQixzQ0FBc0MsV0FBVywyQkFBMkIsa0NBQWtDLHNCQUFzQixVQUFVLGdEQUFnRCx5QkFBeUIscUNBQXFDLE9BQU8sa0NBQWtDLHVDQUF1QyxzSUFBc0ksa0JBQWtCLGdCQUFnQix3QkFBd0IsUUFBUSwrSEFBK0gscUdBQXFHLFFBQVEsa0JBQWtCLFlBQVksVUFBVSxpQkFBaUIsZ0NBQWdDLGtCQUFrQiwwSUFBMEksb0NBQW9DLFlBQVksV0FBVyxvQkFBb0IsK0JBQStCLHNCQUFzQixxQ0FBcUMsZ0VBQWdFLGFBQWEsWUFBWSxFQUFFLDZFQUE2RSxtQkFBbUIsZUFBZSw4SEFBOEgsaURBQWlELHdCQUF3QixxREFBcUQsbUJBQW1CLDZDQUE2QyxxQkFBcUIsOEJBQThCLG9DQUFvQyxhQUFhLFlBQVksRUFBRSxxREFBcUQsOEJBQThCLGVBQWUsK0JBQStCLGlFQUFpRSxTQUFTLGVBQWUsd0pBQXdKLFFBQVEsZ0JBQWdCLHVCQUF1Qix1QkFBdUIsb0JBQW9CLHVCQUF1Qix1QkFBdUIsc0RBQXNELCtEQUErRCxlQUFlLGdCQUFnQixpQkFBaUIsc0NBQXNDLHdDQUF3Qyx5QkFBeUIsMEJBQTBCLDhCQUE4QixpQkFBaUIsaUZBQWlGLElBQUksdUtBQXVLLHlCQUF5QiwrQ0FBK0MsaUJBQWlCLGtPQUFrTyw4Q0FBOEMsaUJBQWlCLHVDQUF1Qyx5REFBeUQscUtBQXFLLG9IQUFvSCxhQUFhLHdCQUF3Qix5RkFBeUYsOEdBQThHLGdGQUFnRiw0QkFBNEIsUUFBUSxnREFBZ0Qsa0NBQWtDLFNBQVMsZUFBZSxzU0FBc1MsYUFBYSxRQUFRLGFBQWEsZUFBZSxtQkFBbUIsd0JBQXdCLFFBQVEsYUFBYSx3QkFBd0IscURBQXFELG9CQUFvQixpQkFBaUIsNEJBQTRCLFNBQVMseUJBQXlCLDhCQUE4Qix5QkFBeUIsMERBQTBELGdFQUFnRSx5QkFBeUIsbUJBQW1CLHNEQUFzRCwwQ0FBMEMsc0JBQXNCLHlCQUF5Qix5REFBeUQsK0JBQStCLGFBQWEsMkJBQTJCLFVBQVUsd0JBQXdCLFVBQVUsK0NBQStDLGtDQUFrQyxtQkFBbUIsaUZBQWlGLG1FQUFtRSwrQ0FBK0MsZ0JBQWdCLGVBQWUscUJBQXFCLFFBQVEsaUJBQWlCLG9CQUFvQixlQUFlLDJEQUEyRCxvRUFBb0Usc0ZBQXNGLGFBQWEsTUFBTSxhQUFhLG9FQUFvRSxRQUFRLDJDQUEyQyxlQUFlLE1BQU0sYUFBYSxZQUFZLDZDQUE2Qyw4Q0FBOEMsNEJBQTRCLDRCQUE0QiwrR0FBK0csb0JBQW9CLHFFQUFxRSxvQkFBb0IsYUFBYSxnQ0FBZ0MsZ0RBQWdELFFBQVEsaUhBQWlILGVBQWUsbUJBQW1CLDBDQUEwQyxrQkFBa0IsdUlBQXVJLEtBQUssOElBQThJLG9CQUFvQixvQkFBb0IsZUFBZSxtREFBbUQsYUFBYSxRQUFRLDJCQUEyQixlQUFlLGlEQUFpRCxvQkFBb0IsbUJBQW1CLGVBQWUsMEJBQTBCLG9CQUFvQixlQUFlLHNDQUFzQywrQ0FBK0Msa0JBQWtCLDJEQUEyRCw0QkFBNEIsMkdBQTJHLGFBQWEseURBQXlELGNBQWMsUUFBUSxNQUFNLHdDQUF3Qyw0QkFBNEIsMENBQTBDLGdEQUFnRCxxQ0FBcUMsZUFBZSx1RUFBdUUsTUFBTSxRQUFRLDZEQUE2RCxrQ0FBa0MsbUNBQW1DLGtHQUFrRywyQ0FBMkMsb0JBQW9CLGVBQWUscU1BQXFNLGFBQWEsUUFBUSxxQkFBcUIsZUFBZSxzQkFBc0Isb0JBQW9CLGVBQWUsb0JBQW9CLGFBQWEseUJBQXlCLFFBQVEsa0tBQWtLLGVBQWUsbUJBQW1CLDJDQUEyQyxHQUFHLE1BQU0sWUFBWSwwSUFBMEksK0JBQStCLE1BQU0sMEZBQTBGLG9CQUFvQixlQUFlLG9CQUFvQixhQUFhLGNBQWMseUlBQXlJLFFBQVEsOENBQThDLGVBQWUsc0RBQXNELGFBQWEsWUFBWSxHQUFHLGdUQUFnVCx1RUFBdUUsNkNBQTZDLDBCQUEwQixvQkFBb0IsZUFBZSx1T0FBdU8sYUFBYSxNQUFNLGlCQUFpQixNQUFNLFFBQVEsNENBQTRDLGVBQWUsTUFBTSxpQkFBaUIsK0ZBQStGLG9CQUFvQixvQkFBb0IsZUFBZSxxS0FBcUssd0JBQXdCLGtCQUFrQiwwQkFBMEIsc0JBQXNCLG1CQUFtQiwySUFBMkksdUJBQXVCLGlDQUFpQyxvRUFBb0Usb0JBQW9CLGlCQUFpQiw0QkFBNEIsdUNBQXVDLGtDQUFrQyx3QkFBd0IsNEJBQTRCLGdEQUFnRCwyQkFBMkIsTUFBTSxTQUFTLGVBQWUsOEhBQThILHlCQUF5QixpQ0FBaUMseUJBQXlCLHNDQUFzQyxxQkFBcUIseUJBQXlCLHlCQUF5Qix5QkFBeUIsc0JBQXNCLHNSQUFzUixNQUFNLDRDQUE0QyxnQ0FBZ0Msb0NBQW9DLE1BQU0sZ0NBQWdDLFFBQVEsZ0JBQWdCLHVCQUF1Qiw4Q0FBOEMsZ0JBQWdCLGNBQWMsK0RBQStELFFBQVEsd0hBQXdILGdEQUFnRCxTQUFTLGdCQUFnQixtQkFBbUIsaUJBQWlCLFFBQVEsNEJBQTRCLGVBQWUsbURBQW1ELGVBQWUsZ0NBQWdDLHVDQUF1QyxvQ0FBb0Msa0NBQWtDLG9DQUFvQywwQ0FBMEMseURBQXlELDZCQUE2Qiw0Q0FBNEMsT0FBTyxHQUFHLHVCQUF1Qix5REFBeUQsRUFBRSx1Q0FBdUMsOEVBQThFLGlHQUFpRywyQkFBMkIsNEJBQTRCLHVCQUF1Qiw2RkFBNkYsZUFBZSxrREFBa0QsVUFBVSxTQUFTLGVBQWUsME9BQTBPLFVBQVUsbUpBQW1KLGdCQUFnQiwyaEJBQTJoQixVQUFVLGtTQUFrUyx1QkFBdUIsU0FBUyxtQkFBbUIsc0tBQXNLLFVBQVUsMFVBQTBVLFVBQVUsK0xBQStMLDBCQUEwQixTQUFTLGVBQWUsdWFBQXVhLGtEQUFrRCw4RkFBOEYsbUZBQW1GLHNmQUFzZixlQUFlLGdPQUFnTyxzQ0FBc0MsWUFBWSxXQUFXLG1DQUFtQyx3QkFBd0IsNkJBQTZCLGtCQUFrQiw2WkFBNlosa0NBQWtDLHlGQUF5RixVQUFVLDBDQUEwQyxNQUFNLGdEQUFnRCw0Q0FBNEMsb0RBQW9ELGlGQUFpRixZQUFZLFdBQVcscUJBQXFCLFFBQVEsTUFBTSx1RUFBdUUscUhBQXFILE1BQU0sdURBQXVELHNDQUFzQyxtQkFBbUIsOENBQThDLFdBQVcsdUJBQXVCLG9IQUFvSCx1QkFBdUIsdUJBQXVCLDhGQUE4Rix5RkFBeUYsd0RBQXdELE1BQU0sMERBQTBELDZFQUE2RSwrREFBK0QsVUFBVSxLQUFLLE1BQU0sUUFBUSxjQUFjLGtCQUFrQixrQkFBa0IsYUFBYSxrR0FBa0csa0JBQWtCLGFBQWEsb0dBQW9HLGtCQUFrQixzQ0FBc0MsVUFBVSxFQUFFLEdBQUcsSUFBSSxHQUFHLElBQUksRUFBRSxZQUFZLFdBQVcsS0FBSywwREFBMEQsT0FBTyxLQUFLLFNBQVMsMkJBQTJCLGdDQUFnQyx3Q0FBd0MsdUVBQXVFLCtEQUErRCxpQ0FBaUMsMkZBQTJGLGdCQUFnQixtTEFBbUwsVUFBVSx5REFBeUQsZ0JBQWdCLGdIQUFnSCxVQUFVLGlVQUFpVSxtQkFBbUIsaUVBQWlFLGdCQUFnQixzR0FBc0csVUFBVSxzRkFBc0YsMEJBQTBCLGdEQUFnRCxlQUFlLG9DQUFvQyxXQUFXLGNBQWMsV0FBVyxVQUFVLCtDQUErQyxzQ0FBc0MsZUFBZSxLQUFLLFVBQVUsK0NBQStDLDZCQUE2QixZQUFZLFdBQVcsS0FBSyxhQUFhLHlFQUF5RSxRQUFRLDJEQUEyRCx3Q0FBd0MscVJBQXFSLFlBQVksV0FBVyxLQUFLLE1BQU0sK0hBQStILDhCQUE4QixzTkFBc04sd0JBQXdCLGtMQUFrTCxrREFBa0QsNk9BQTZPLGVBQWUscUJBQXFCLGdKQUFnSixtQ0FBbUMsMERBQTBELDBDQUEwQyx1SEFBdUgsWUFBWSxJQUFJLGdEQUFnRCw4aUJBQThpQixxQkFBcUIsOEdBQThHLHlDQUF5QyxZQUFZLElBQUksS0FBSywyREFBMkQsd0hBQXdILHlDQUF5QyxZQUFZLElBQUksS0FBSywrRUFBK0Usd0hBQXdILG1DQUFtQywySUFBMkksMERBQTBELFlBQVksOEJBQThCLEtBQUssb0NBQW9DLGtXQUFrVyxtQ0FBbUMsc1ZBQXNWLDZCQUE2QixpQ0FBaUMsdUVBQXVFLDZCQUE2Qix5Q0FBeUMseUZBQXlGLDRDQUE0QyxZQUFZLElBQUksS0FBSywyREFBMkQsb0dBQW9HLDRDQUE0QyxZQUFZLElBQUksS0FBSyx5REFBeUQsb0dBQW9HLGlDQUFpQywrQkFBK0IsNEtBQTRLLDBEQUEwRCxZQUFZLDhCQUE4QixLQUFLLG9DQUFvQyx5WkFBeVosbVhBQW1YLHVEQUF1RCxXQUFXLFlBQVksSUFBSSxLQUFLLGlCQUFpQixXQUFXLGtOQUFrTixtQ0FBbUMsTUFBTSxZQUFZLElBQUksS0FBSyxpQkFBaUIsbUJBQW1CLGtOQUFrTiwyQ0FBMkMsTUFBTSxZQUFZLElBQUksS0FBSyxpQkFBaUIsV0FBVyxrTkFBa04sbUNBQW1DLE1BQU0sWUFBWSxJQUFJLEtBQUssaUJBQWlCLG1CQUFtQixrTkFBa04sMkNBQTJDLE1BQU0sU0FBUyw2QkFBNkIsd0JBQXdCLFlBQVksOEJBQThCLEtBQUssb0NBQW9DLGlRQUFpUSxjQUFjLHlDQUF5QyxjQUFjLHlDQUF5QyxlQUFlLG9EQUFvRCwwQkFBMEIsMEVBQTBFLDBCQUEwQiwwRUFBMEUsK0JBQStCLHNFQUFzRSw2QkFBNkIsSUFBSSxnRkFBZ0YsMEJBQTBCLCtGQUErRixpREFBaUQsWUFBWSw4QkFBOEIsS0FBSyxVQUFVLG9DQUFvQyw4RUFBOEUsK0NBQStDLHdCQUF3Qix3REFBd0Qsa0VBQWtFLHNEQUFzRCxHQUFHLGdCQUFnQix3SEFBd0gsZ0tBQWdLLDJDQUEyQyxvQ0FBb0MsZ0tBQWdLLHFFQUFxRSw4VEFBOFQsK0pBQStKLHNCQUFzQiw2REFBNkQsaURBQWlELGlCQUFpQixnL0VBQWcvRSxFQUFFLFFBQVEsY0FBYyw2Z0JBQTZnQix1RUFBdUUsMlRBQTJULGFBQWEsU0FBUyxlQUFlLHdGQUF3RixZQUFZLHVCQUF1Qiw2Q0FBNkMsaUZBQWlGLHVJQUF1SSxhQUFhLHdGQUF3RixnQkFBZ0IsVUFBVSxZQUFZLGFBQWEsK0JBQStCLHNCQUFzQixFQUFFLG9CQUFvQixlQUFlLGFBQWEsaUJBQWlCLHVuQkFBdW5CLDZDQUE2QyxNQUFNLFdBQVcsMkNBQTJDLDRDQUE0QyxxSUFBcUksMkJBQTJCLGtDQUFrQyx3Q0FBd0MsMkNBQTJDLHlEQUF5RCxtQkFBbUIsS0FBSyxJQUFJLG9DQUFvQyxpQkFBaUIsZ0JBQWdCLGlCQUFpQixjQUFjLFNBQVMseUJBQXlCLFVBQVUscUJBQXFCLCtDQUErQyxnREFBZ0QsMkVBQTJFLFdBQVcscU1BQXFNLDZDQUE2QywrRkFBK0YsNkJBQTZCLHFEQUFxRCxTQUFTLFlBQVksK0VBQStFLG9GQUFvRixpQ0FBaUMsWUFBWSx5R0FBeUcsV0FBVyxzREFBc0QsU0FBUywyQkFBMkIsdUJBQXVCLFFBQVEsY0FBYyxpTkFBaU4sRUFBRSxLQUFLLGNBQWMsb2hCQUFvaEIsR0FBRyxvQkFBb0IsZUFBZSxVQUFVLHlCQUF5QixPQUFPLGdEQUFnRCxtQkFBbUIsOENBQThDLGVBQWUscUJBQXFCLGdCQUFnQixVQUFVLGFBQWEsU0FBUyw4RUFBOEUsWUFBWSxxRkFBcUYsUUFBUSxjQUFjLDRqQkFBNGpCLEdBQUcsbUJBQW1CLHlCQUF5QixvRUFBb0UsVUFBVSx3QkFBd0IsZUFBZSxhQUFhLGdCQUFnQixpQkFBaUIsZUFBZSxVQUFVLDBHQUEwRyx3Q0FBd0MsOE5BQThOLHVIQUF1SCxnQkFBZ0Isa0JBQWtCLDJCQUEyQix1QkFBdUIsMEJBQTBCLGdCQUFnQixpQkFBaUIsZUFBZSxxQ0FBcUMscUNBQXFDLDhDQUE4QyxtQkFBbUIsbUJBQW1CLG1JQUFtSSw4QkFBOEIsU0FBUyxtRUFBbUUsZUFBZSxtQ0FBbUMsd0NBQXdDLHVEQUF1RCx3Q0FBd0MsbUJBQW1CLHVFQUF1RSxnQkFBZ0Isb0NBQW9DLDJCQUEyQix1QkFBdUIsNEJBQTRCLGVBQWUsYUFBYSxtQkFBbUIsOEVBQThFLGdCQUFnQix5Q0FBeUMsdUJBQXVCLGVBQWUsYUFBYSxnQkFBZ0IsdUZBQXVGLHNJQUFzSSwyQkFBMkIsc0JBQXNCLGlCQUFpQix1QkFBdUIsaURBQWlELGdJQUFnSSxnQkFBZ0IsaUJBQWlCLGNBQWMsNENBQTRDLG9DQUFvQyxnTEFBZ0wsZ0JBQWdCLFdBQVcsbUNBQW1DLGVBQWUsYUFBYSxnQkFBZ0IsaUJBQWlCLGNBQWMsc0RBQXNELE9BQU8sVUFBVSxnQkFBZ0IsdUdBQXVHLDJCQUEyQixzQkFBc0IsMENBQTBDLHFWQUFxVix1QkFBdUIsb0NBQW9DLGVBQWUsaUJBQWlCLGdEQUFnRCxnQ0FBZ0MsaUhBQWlILHVEQUF1RCxtRUFBbUUsNEhBQTRILDZCQUE2QixRQUFRLGlCQUFpQixrQkFBa0IsZ0JBQWdCLGtCQUFrQixvR0FBb0csWUFBWSxNQUFNLDRCQUE0QixvQkFBb0Isa01BQWtNLHFCQUFxQixhQUFhLHNEQUFzRCw0QkFBNEIsa0JBQWtCLGdCQUFnQixrQkFBa0IsZ0RBQWdELG9FQUFvRSw4Q0FBOEMsbUVBQW1FLDhDQUE4QyxxQkFBcUIscUJBQXFCLGFBQWEsd0NBQXdDLDRGQUE0RixrQkFBa0IsZ0JBQWdCLGtCQUFrQixnTUFBZ00seURBQXlELHFCQUFxQixhQUFhLFlBQVksc0VBQXNFLHVCQUF1QixVQUFVLHdCQUF3QixZQUFZLFdBQVcsS0FBSyxvQkFBb0IsWUFBWSxhQUFhLEtBQUssd0NBQXdDLG1DQUFtQyxrQkFBa0Isd0RBQXdELHVCQUF1QixlQUFlLG9DQUFvQyxxQ0FBcUMsd0JBQXdCLDRFQUE0RSw2SkFBNkoscUJBQXFCLDJFQUEyRSxpQkFBaUIsMElBQTBJLGdCQUFnQixpQkFBaUIsZ0JBQWdCLDJFQUEyRSwyQkFBMkIsc0JBQXNCLGVBQWUsK0ZBQStGLDREQUE0RCxvQ0FBb0MsNENBQTRDLG1UQUFtVCwyQkFBMkIsd0JBQXdCLFlBQVksV0FBVyxLQUFLLGtCQUFrQixZQUFZLFdBQVcsS0FBSyxrSUFBa0kseURBQXlELFdBQVcsU0FBUyxnREFBZ0QsWUFBWSxXQUFXLEtBQUssYUFBYSwyQkFBMkIsV0FBVyw0QkFBNEIsdUJBQXVCLFVBQVUsUUFBUSxnQkFBZ0IsV0FBVyx1Q0FBdUMsZUFBZSxhQUFhLGdCQUFnQixnRkFBZ0YseUJBQXlCLGVBQWUsYUFBYSxnQkFBZ0IsbUJBQW1CLHNCQUFzQixlQUFlLHFDQUFxQyxxQ0FBcUMsb01BQW9NLG1CQUFtQixtQkFBbUIsZ0hBQWdILHVGQUF1RixzQkFBc0IsZ0ZBQWdGLDBDQUEwQyxpREFBaUQsd0ZBQXdGLFVBQVUsZUFBZSw4Q0FBOEMsaUdBQWlHLDJNQUEyTSw4Q0FBOEMsMEJBQTBCLE9BQU8sVUFBVSxRQUFRLFVBQVUsbUJBQW1CLHlGQUF5RixtQkFBbUIsVUFBVSxnQkFBZ0IsbUNBQW1DLDZGQUE2RixTQUFTLHFCQUFxQixpRkFBaUYsY0FBYyxNQUFNLGlCQUFpQixJQUFJLFVBQVUsT0FBTyxLQUFLLElBQUksb0ZBQW9GLEdBQUcsK09BQStPLE1BQU0sUUFBUSxLQUFLLFNBQVMsc05BQXNOLGdRQUFnUSxnSEFBZ0gsVUFBVSxNQUFNLFVBQVUsT0FBTyxLQUFLLEdBQUcsa1lBQWtZLG1CQUFtQix5RUFBeUUsVUFBVSxNQUFNLEtBQUssY0FBYyxrREFBa0QsU0FBUyxlQUFlLDZJQUE2SSxxQ0FBcUMsR0FBRyxVQUFVLHdHQUF3RyxxQ0FBcUMsT0FBTyxTQUFTLDZDQUE2QyxTQUFTLGNBQWMsYUFBYSx3RkFBd0YsU0FBUyxrQ0FBa0MsNkJBQTZCLEVBQUUsNElBQTRJLElBQUksVUFBVSxJQUFJLElBQUksS0FBSyxTQUFTLFFBQVEsZUFBZSxzQkFBc0IsZ0NBQWdDLGdEQUFnRCxZQUFZLHdCQUF3QixVQUFVLElBQUksSUFBSSw0RkFBNEYsb0JBQW9CLG1CQUFtQixzQkFBc0IsZ0ZBQWdGLFFBQVEsVUFBVSxPQUFPLGlCQUFpQixZQUFZLHdCQUF3QixLQUFLLHNDQUFzQyxrQ0FBa0Msd0JBQXdCLDBCQUEwQixvQ0FBb0MsU0FBUyx3QkFBd0IsU0FBUyxlQUFlLHVCQUF1Qix5QkFBeUIsWUFBWSxXQUFXLEtBQUssYUFBYSxzREFBc0QsVUFBVSwrQkFBK0IsVUFBVSxnQ0FBZ0MseURBQXlELFNBQVMsdUJBQXVCLG9IQUFvSCxlQUFlLG9JQUFvSSxnQkFBZ0Isa0JBQWtCLFNBQVMsU0FBUyxrRUFBa0UsaUNBQWlDLG1EQUFtRCxVQUFVLDJDQUEyQyxZQUFZLE9BQU8sS0FBSyxrQ0FBa0MsMEJBQTBCLFVBQVUsRUFBRSx3QkFBd0IsaURBQWlELFlBQVkseUNBQXlDLGdGQUFnRixlQUFlLHFDQUFxQyxZQUFZLHVDQUF1QyxFQUFFLCtDQUErQyxHQUFHLFVBQVUsMEdBQTBHLFNBQVMsdUJBQXVCLHNGQUFzRiw4R0FBOEcsMkhBQTJILHdCQUF3Qix5QkFBeUIsd0VBQXdFLGVBQWUsK0VBQStFLG9CQUFvQixnSEFBZ0gsc0JBQXNCLGtEQUFrRCwyVEFBMlQsV0FBVyxlQUFlLGtCQUFrQiwyREFBMkQsaUJBQWlCLDRIQUE0SCw2QkFBNkIsU0FBUyw2Q0FBNkMsNkJBQTZCLHdCQUF3QixvQkFBb0IscUNBQXFDLG9CQUFvQix5RUFBeUUsd0JBQXdCLGtDQUFrQywwRUFBMEUsT0FBTyxvQkFBb0IsNkJBQTZCLHdCQUF3QixrRkFBa0Ysb0pBQW9KLG9DQUFvQyxtQkFBbUIsbUJBQW1CLHNEQUFzRCxlQUFlLHlqQ0FBeWpDLGFBQWEsMEJBQTBCLFVBQVUsNkJBQTZCLHdCQUF3QixnQ0FBZ0MsYUFBYSw2WEFBNlgsV0FBVywrRUFBK0UsdUNBQXVDLG1HQUFtRyxvRkFBb0YsV0FBVyx5QkFBeUIsZ0NBQWdDLDZCQUE2QiwwRUFBMEUsYUFBYSx5QkFBeUIsWUFBWSwwQkFBMEIsYUFBYSxZQUFZLFdBQVcsS0FBSyxxQkFBcUIsbUJBQW1CLGlCQUFpQiwrRUFBK0UsOERBQThELHlDQUF5QyxxQkFBcUIsVUFBVSwrRUFBK0UsaUJBQWlCLGlGQUFpRixpQkFBaUIsNEJBQTRCLG1CQUFtQiwwQkFBMEIsaUVBQWlFLG9FQUFvRSx3QkFBd0IsbUJBQW1CLFNBQVMsOEJBQThCLHdDQUF3QyxNQUFNLDhCQUE4Qiw4Q0FBOEMsVUFBVSxpRkFBaUYsbUJBQW1CLDRLQUE0SyxxQkFBcUIsd0dBQXdHLHNFQUFzRSw2QkFBNkIsaUNBQWlDLHFGQUFxRiw4Q0FBOEMsdUVBQXVFLG9DQUFvQyxvREFBb0QsK0hBQStILHdDQUF3QyxzRUFBc0UsaUJBQWlCLHlDQUF5QyxxQkFBcUIsb0VBQW9FLGdCQUFnQixpQ0FBaUMsbUJBQW1CLHFDQUFxQyxnQkFBZ0IseUJBQXlCLHlGQUF5RixhQUFhLG1DQUFtQyxhQUFhLHVNQUF1TSxxQkFBcUIsV0FBVyx5QkFBeUIsd0JBQXdCLG1CQUFtQixrQkFBa0IsNkJBQTZCLHdDQUF3QyxVQUFVLHNCQUFzQixpQ0FBaUMseURBQXlELDZFQUE2RSxZQUFZLFdBQVcsS0FBSyxNQUFNLFFBQVEsTUFBTSxxQ0FBcUMsNkxBQTZMLDRCQUE0QiwwREFBMEQsMkRBQTJELFFBQVEsa0JBQWtCLHNCQUFzQixrQ0FBa0MsWUFBWSxLQUFLLGdCQUFnQixLQUFLLEtBQUssc0ZBQXNGLHVGQUF1RixzQkFBc0IsZUFBZSxLQUFLLEtBQUssdU1BQXVNLGdDQUFnQyxvREFBb0QsNEJBQTRCLHdCQUF3QixRQUFRLGdCQUFnQixlQUFlLHlGQUF5Rix3QkFBd0Isd0JBQXdCLDJFQUEyRSxNQUFNLGlDQUFpQyx1QkFBdUIsNENBQTRDLHNCQUFzQiwwQkFBMEIsMEJBQTBCLE1BQU0sa0JBQWtCLFVBQVUsUUFBUSw0QkFBNEIscUNBQXFDLFlBQVksV0FBVyx3Q0FBd0MsK0tBQStLLGdDQUFnQyxxQkFBcUIscURBQXFELHlEQUF5RCxNQUFNLG1KQUFtSiwyQkFBMkIsZ0JBQWdCLE1BQU0sb0VBQW9FLFFBQVEsdUJBQXVCLG9DQUFvQyx3RUFBd0Usd0NBQXdDLHVCQUF1QixpQkFBaUIsNkNBQTZDLGlEQUFpRCw2Q0FBNkMsWUFBWSxJQUFJLEtBQUssc0JBQXNCLG1CQUFtQix3Q0FBd0MsbURBQW1ELE1BQU0sd1NBQXdTLDJDQUEyQyxzQ0FBc0Msd0NBQXdDLHFCQUFxQixZQUFZLElBQUksS0FBSyxlQUFlLFlBQVksSUFBSSxLQUFLLGVBQWUsbUJBQW1CLHdDQUF3QyxnQ0FBZ0MsWUFBWSxJQUFJLGdCQUFnQixJQUFJLEtBQUssa0RBQWtELDJDQUEyQyw4T0FBOE8sU0FBUyxjQUFjLGFBQWEscUJBQXFCLHdCQUF3QixtQkFBbUIsa0JBQWtCLGdEQUFnRCxvREFBb0QsNERBQTRELHlCQUF5QixxRUFBcUUsZ0VBQWdFLDRCQUE0QiwwRUFBMEUsK0lBQStJLDBCQUEwQix1Q0FBdUMsa0JBQWtCLGtEQUFrRCxzR0FBc0csbUNBQW1DLHdHQUF3RywwREFBMEQsbUNBQW1DLGlDQUFpQyxjQUFjLHdCQUF3QixtQkFBbUIsOEJBQThCLE1BQU0sMENBQTBDLDBCQUEwQixpQ0FBaUMsc0JBQXNCLDhCQUE4QixTQUFTLHlCQUF5QixpQ0FBaUMscUJBQXFCLFdBQVcsa0NBQWtDLGdDQUFnQyxXQUFXLDBFQUEwRSxvRUFBb0UsUUFBUSxtQ0FBbUMsZ0NBQWdDLFdBQVcsb0VBQW9FLHFCQUFxQiwyQ0FBMkMsdURBQXVELHFGQUFxRix1QkFBdUIsYUFBYSxZQUFZLHVCQUF1QixzQkFBc0Isd0VBQXdFLFNBQVMsZUFBZSw4REFBOEQsa0JBQWtCLHdCQUF3QixRQUFRLDJDQUEyQyxZQUFZLG9DQUFvQyxXQUFXLHNCQUFzQixxQkFBcUIsMkJBQTJCLFlBQVksSUFBSSw2QkFBNkIsb0NBQW9DLE1BQU0sZUFBZSxvQ0FBb0MsUUFBUSxVQUFVLFNBQVMseUNBQXlDLFNBQVMsbUNBQW1DLHdHQUF3RyxpQ0FBaUMseURBQXlELHdCQUF3QiwrREFBK0QsdUNBQXVDLG1CQUFtQixtQkFBbUIsK0JBQStCLG1FQUFtRSx1Q0FBdUMsU0FBUyxlQUFlLG9LQUFvSyxvQkFBb0IsMkNBQTJDLCtCQUErQiw0QkFBNEIsNENBQTRDLGdDQUFnQyxnQkFBZ0IsV0FBVyxZQUFZLE1BQU0sS0FBSyw4QkFBOEIsOEVBQThFLHdGQUF3RixtQkFBbUIsS0FBSyxNQUFNLHNCQUFzQixZQUFZLFlBQVksTUFBTSxLQUFLLDhCQUE4QixtU0FBbVMsb0VBQW9FLFdBQVcsU0FBUywrQkFBK0IsbUZBQW1GLDZCQUE2QixtREFBbUQseUJBQXlCLCtCQUErQix3Q0FBd0MsdUJBQXVCLDhCQUE4QixrQ0FBa0MsRUFBRSxLQUFLLFdBQVcsRUFBRSxNQUFNLGtDQUFrQyxTQUFTLG1CQUFtQixzQkFBc0IseVNBQXlTLGtDQUFrQyxxQkFBcUIsb0VBQW9FLFNBQVMsUUFBUSxZQUFZLDZCQUE2QixLQUFLLDZJQUE2SSxvQkFBb0IsWUFBWSxVQUFVLE9BQU8sU0FBUyxZQUFZLFFBQVEsdUNBQXVDLGtCQUFrQixZQUFZLElBQUksS0FBSyxhQUFhLFFBQVEsMEhBQTBILElBQUksWUFBWSxnQkFBZ0Isa0hBQWtILHNCQUFzQiwrQkFBK0IsNERBQTRELG1CQUFtQixZQUFZLFlBQVksNkJBQTZCLEtBQUssMklBQTJJLHVCQUF1QixZQUFZLDZCQUE2QixtR0FBbUcseUJBQXlCLGlDQUFpQyxtQkFBbUIsMEhBQTBILCtEQUErRCxVQUFVLDJEQUEyRCxTQUFTLFdBQVcsb0RBQW9ELDZCQUE2QixrRkFBa0YsaURBQWlELEVBQUUsZ0ZBQWdGLHFCQUFxQiw2REFBNkQsOEZBQThGLFlBQVksSUFBSSwwSkFBMEosdUxBQXVMLGlCQUFpQix5QkFBeUIsY0FBYywyQ0FBMkMseUJBQXlCLGdJQUFnSSwwQkFBMEIsYUFBYSxtQkFBbUIseUJBQXlCLFVBQVUsaUhBQWlILCtCQUErQixxQkFBcUIsa0NBQWtDLHdCQUF3QiwyQkFBMkIsaUJBQWlCLDBDQUEwQyxnQ0FBZ0MsOEVBQThFLFlBQVksZUFBZSxxQ0FBcUMsY0FBYyxzQkFBc0IsOERBQThELDBFQUEwRSxVQUFVLGFBQWEsTUFBTSxjQUFjLFVBQVUsYUFBYSxNQUFNLGNBQWMsa0NBQWtDLFlBQVksSUFBSSxnQkFBZ0IsSUFBSSxLQUFLLGdEQUFnRCw4SEFBOEgsZ0JBQWdCLG9DQUFvQyw0Q0FBNEMsYUFBYSxFQUFFLFNBQVMsaUJBQWlCLHlDQUF5QyxRQUFRLCtHQUErRyxtQkFBbUIsb0JBQW9CLFdBQVcsd0JBQXdCLHlDQUF5QyxTQUFTLHdCQUF3QiwyQ0FBMkMsa0JBQWtCLDBFQUEwRSwrQ0FBK0MscUJBQXFCLFlBQVksT0FBTyxvQ0FBb0MsZ0JBQWdCLGlFQUFpRSxzQkFBc0IsNkJBQTZCLDBJQUEwSSxZQUFZLHFCQUFxQix5QkFBeUIsT0FBTyw0REFBNEQsWUFBWSw0QkFBNEIsaUZBQWlGLHVMQUF1TCxjQUFjLGVBQWUsMkJBQTJCLEVBQUUsK0NBQStDLHFCQUFxQixZQUFZLFVBQVUsV0FBVywyRUFBMkUsaURBQWlELFNBQVMsbUJBQW1CLHVDQUF1Qyx5RUFBeUUsY0FBYyxTQUFTLHlCQUF5Qiw4RUFBOEUsb0JBQW9CLGdCQUFnQixlQUFlLFNBQVMsbUJBQW1CLHFEQUFxRCx1TUFBdU0sc0JBQXNCLFNBQVMsbUJBQW1CLDZDQUE2QyxxSkFBcUosb0JBQW9CLG1CQUFtQix1REFBdUQsbU9BQW1PLHNCQUFzQix3QkFBd0IsZ0NBQWdDLGtFQUFrRSxxQkFBcUIsK0dBQStHLHNCQUFzQixvS0FBb0ssU0FBUyxzTkFBc04sU0FBUyxpQ0FBaUMsaUNBQWlDLG9DQUFvQyw0QkFBNEIsdUJBQXVCLHFEQUFxRCxVQUFVLFlBQVksb0JBQW9CLFFBQVEsaUJBQWlCLFNBQVMsd0JBQXdCLG1DQUFtQyw0R0FBNEcsZUFBZSxtRUFBbUUsZUFBZSxtRUFBbUUsR0FBRyxjQUFjLGlFQUFpRSxHQUFHLFlBQVksZ0NBQWdDLFdBQVcscUhBQXFILDRCQUE0Qix1QkFBdUIscURBQXFELFNBQVMsa0VBQWtFLG9CQUFvQixXQUFXLDhFQUE4RSx5QkFBeUIsa0tBQWtLLHFEQUFxRCx3RUFBd0UsdUJBQXVCLG1DQUFtQywrQ0FBK0MscUJBQXFCLCtHQUErRyxTQUFTLDhDQUE4QyxNQUFNLG9CQUFvQixnR0FBZ0csaUJBQWlCLHVCQUF1QiwyRkFBMkYscUJBQXFCLHFFQUFxRSxPQUFPLEdBQUcseUZBQXlGLGlDQUFpQyx5RkFBeUYsaUNBQWlDLHVRQUF1USw4REFBOEQsSUFBSSxnQkFBZ0IsZ0NBQWdDLFlBQVksV0FBVyxLQUFLLGFBQWEsOENBQThDLDRCQUE0QixnQkFBZ0IsZ0JBQWdCLG9DQUFvQyxzREFBc0QsZ0RBQWdELG9HQUFvRyxvT0FBb08sV0FBVywrQkFBK0IsZUFBZSxzQkFBc0IsK0JBQStCLDRCQUE0QixxQkFBcUIsZ0ZBQWdGLGVBQWUsS0FBSyw0QkFBNEIsRUFBRSxrREFBa0QsNENBQTRDLFFBQVEsS0FBSyxnQkFBZ0IsNENBQTRDLFdBQVcsUUFBUSxzQkFBc0IscUNBQXFDLHVDQUF1Qyx5Q0FBeUMsMEJBQTBCLEtBQUssS0FBSywrQ0FBK0MsZUFBZSxrQkFBa0IsMkJBQTJCLDZHQUE2RyxxQkFBcUIsMkJBQTJCLDJPQUEyTywyQkFBMkIsa0JBQWtCLHFFQUFxRSxzQkFBc0IsV0FBVyw0QkFBNEIsdUJBQXVCLCtEQUErRCxjQUFjLGlGQUFpRix5RUFBeUUsY0FBYyxnR0FBZ0csa0NBQWtDLE1BQU0sd0lBQXdJLGlOQUFpTixtTkFBbU4seUVBQXlFLHFDQUFxQyx3Q0FBd0MsVUFBVSxLQUFLLGtCQUFrQixrQkFBa0IsOEJBQThCLHVEQUF1RCxnR0FBZ0csOERBQThELGtDQUFrQyw0QkFBNEIsdUJBQXVCLCtCQUErQixlQUFlLEtBQUssZ0JBQWdCLEVBQUUsOEJBQThCLDJCQUEyQiw2QkFBNkIsY0FBYyxRQUFRLDZEQUE2RCxnREFBZ0Qsc0JBQXNCLFdBQVcsbUNBQW1DLFNBQVMsZ0JBQWdCLGtCQUFrQix1QkFBdUIscUpBQXFKLDZHQUE2Ryx5QkFBeUIsa0ZBQWtGLHdCQUF3QixXQUFXLHlCQUF5QixVQUFVLHVMQUF1TCxrQkFBa0IseUJBQXlCLDhEQUE4RCxvQ0FBb0Msa0JBQWtCLHlCQUF5Qix3QkFBd0Isd0NBQXdDLDhEQUE4RCxtQkFBbUIsV0FBVyxVQUFVLE1BQU0seUNBQXlDLCtEQUErRCx1QkFBdUIsMEJBQTBCLEtBQUssS0FBSyxzQkFBc0Isa0JBQWtCLG1IQUFtSCxTQUFTLCtCQUErQiwyQkFBMkIsNEJBQTRCLFdBQVcsOEJBQThCLEtBQUssZ0JBQWdCLEVBQUUscUNBQXFDLGlDQUFpQyxNQUFNLGNBQWMsb0NBQW9DLG9DQUFvQyxLQUFLLGdEQUFnRCxZQUFZLHlCQUF5QixjQUFjLHVSQUF1UixtQkFBbUIsT0FBTyx1Q0FBdUMsOEpBQThKLG1GQUFtRix3Q0FBd0MsV0FBVyx5QkFBeUIsMEVBQTBFLDZCQUE2QixxQ0FBcUMsc0RBQXNELE9BQU8sZUFBZSx1QkFBdUIsbVFBQW1RLGFBQWEsOENBQThDLGdEQUFnRCxnTEFBZ0wsZUFBZSw0QkFBNEIsZUFBZSx1REFBdUQsNEJBQTRCLHVCQUF1Qix5REFBeUQsTUFBTSxNQUFNLDJCQUEyQixZQUFZLG1FQUFtRSxxQ0FBcUMsTUFBTSwrRkFBK0Ysa0NBQWtDLFdBQVcsa0JBQWtCLGdDQUFnQyxlQUFlLFNBQVMseUJBQXlCLGlFQUFpRSxrRkFBa0YsU0FBUyxnQkFBZ0IsMENBQTBDLHFEQUFxRCx1QkFBdUIsNkRBQTZELFVBQVUsdUJBQXVCLHVEQUF1RCwwQkFBMEIsOERBQThELHFCQUFxQix3REFBd0QsdUJBQXVCLHVCQUF1QiwyQkFBMkIsZ0NBQWdDLCtGQUErRixnREFBZ0QsbUJBQW1CLDRJQUE0SSxrQkFBa0IseUJBQXlCLDhNQUE4TSxFQUFFLGdDQUFnQyw0Q0FBNEMsa0NBQWtDLG9IQUFvSCxzQkFBc0Isc0VBQXNFLElBQUksT0FBTyxpQkFBaUIsd0VBQXdFLGtHQUFrRyxlQUFlLDREQUE0RCxpQkFBaUIsZUFBZSw2QkFBNkIsMENBQTBDLFNBQVMsbUJBQW1CLDBFQUEwRSxxQkFBcUIsK0JBQStCLHFCQUFxQiwwREFBMEQsK0dBQStHLHNCQUFzQixrR0FBa0csa0JBQWtCLHdCQUF3QixrSEFBa0gsZ0hBQWdILDJCQUEyQiw4QkFBOEIsaUJBQWlCLHVFQUF1RSxTQUFTLGlCQUFpQix1SkFBdUosc0JBQXNCLHNDQUFzQyw0Q0FBNEMsa0JBQWtCLFlBQVksV0FBVyxLQUFLLG1DQUFtQyxZQUFZLFdBQVcsS0FBSyxhQUFhLGlHQUFpRyxzRUFBc0UsZUFBZSxtQkFBbUIsNktBQTZLLG9EQUFvRCxxQkFBcUIsZUFBZSxvQkFBb0Isb0JBQW9CLGlMQUFpTCxXQUFXLFdBQVcsZ0VBQWdFLFdBQVcsTUFBTSxZQUFZLFdBQVcsS0FBSyxhQUFhLGtCQUFrQixJQUFJLHNDQUFzQyxXQUFXLGdOQUFnTixTQUFTLHVDQUF1QyxNQUFNLDBFQUEwRSw0QkFBNEIscUJBQXFCLFlBQVksV0FBVyxvQ0FBb0MsVUFBVSxhQUFhLHNFQUFzRSxtQkFBbUIsaUJBQWlCLDZFQUE2RSw0REFBNEQsd0JBQXdCLFlBQVksV0FBVyxLQUFLLGFBQWEsOEJBQThCLGFBQWEsZUFBZSxTQUFTLG9FQUFvRSxZQUFZLE9BQU8sdUVBQXVFLHVCQUF1QixlQUFlLHlDQUF5QyxVQUFVLFdBQVcsZ0NBQWdDLHlDQUF5QyxJQUFJLHNDQUFzQyxXQUFXLG9CQUFvQixjQUFjLDZDQUE2QywwRUFBMEUsWUFBWSxTQUFTLGVBQWUsTUFBTSxrQ0FBa0MsR0FBRyxvQkFBb0IsNkRBQTZELG9CQUFvQixvQ0FBb0MsZ0JBQWdCLFlBQVksdUVBQXVFLFVBQVUsV0FBVyxXQUFXLG1CQUFtQix5RUFBeUUsaUVBQWlFLFVBQVUsdUJBQXVCLG9CQUFvQixzQ0FBc0MseUNBQXlDLEdBQUcsaUJBQWlCLFdBQVcsc0JBQXNCLHdDQUF3QyxFQUFFLFNBQVMsaUJBQWlCLDZEQUE2RCxpQkFBaUIsbUJBQW1CLG1CQUFtQixhQUFhLHlCQUF5Qix5QkFBeUIsT0FBTyxpREFBaUQsbUJBQW1CLGlCQUFpQixHQUFHLFlBQVkscUJBQXFCLHFCQUFxQixXQUFXLHFEQUFxRCxRQUFRLDRDQUE0QyxFQUFFLFdBQVcsWUFBWSxXQUFXLEtBQUssS0FBSyxhQUFhLHlCQUF5Qix5Q0FBeUMsR0FBRyxTQUFTLG9CQUFvQixZQUFZLGFBQWEsS0FBSyxLQUFLLHNDQUFzQyxlQUFlLFlBQVksYUFBYSxLQUFLLHdCQUF3QixpRUFBaUUsTUFBTSxrQkFBa0IsYUFBYSxzQkFBc0Isc0JBQXNCLDRCQUE0Qix3REFBd0Qsb0JBQW9CLHFCQUFxQixLQUFLLEtBQUssc0JBQXNCLGtGQUFrRiw2QkFBNkIsMkVBQTJFLGdDQUFnQyxlQUFlLFlBQVksYUFBYSxLQUFLLHdCQUF3QixpRUFBaUUsdUVBQXVFLGFBQWEseUJBQXlCLDhDQUE4QyxvQ0FBb0Msc0VBQXNFLHdCQUF3QixRQUFRLFlBQVksV0FBVyxxR0FBcUcsVUFBVSwwREFBMEQsdUVBQXVFLHVCQUF1QixnQkFBZ0IsU0FBUyxtQkFBbUIsOEJBQThCLG1CQUFtQixTQUFTLGVBQWUsVUFBVSxNQUFNLGtCQUFrQix1QkFBdUIseUJBQXlCLHFCQUFxQix3REFBd0Qsb0NBQW9DLG9EQUFvRCxtQkFBbUIsTUFBTSxRQUFRLGlCQUFpQix1QkFBdUIsRUFBRSxrQkFBa0IsYUFBYSx5QkFBeUIscUJBQXFCLHdEQUF3RCwyQ0FBMkMsb0JBQW9CLFFBQVEsRUFBRSxnQkFBZ0IsYUFBYSxnQ0FBZ0Msb0JBQW9CLFNBQVMsZUFBZSxrcEJBQWtwQixpQkFBaUIsZ0VBQWdFLGtGQUFrRixvQkFBb0IsVUFBVSxzQkFBc0Isa0NBQWtDLHVCQUF1QixxQkFBcUIsK0JBQStCLG1DQUFtQyxrQkFBa0Isb0JBQW9CLGVBQWUsY0FBYyxtREFBbUQsdUNBQXVDLHVDQUF1Qyx3Q0FBd0MsWUFBWSxXQUFXLEVBQUUsbUZBQW1GLHlCQUF5QixZQUFZLFdBQVcsS0FBSyxvQ0FBb0MsUUFBUSwwQ0FBMEMsR0FBRyxxQkFBcUIsYUFBYSxtTkFBbU4sMlNBQTJTLHFHQUFxRyxZQUFZLFNBQVMsU0FBUyxrRUFBa0UsMERBQTBELDBDQUEwQyxzQkFBc0IsVUFBVSwyQkFBMkIsb0JBQW9CLHdDQUF3Qyw2QkFBNkIsMkRBQTJELFVBQVUsMkJBQTJCLG9CQUFvQiwyQ0FBMkMsYUFBYSxpQkFBaUIsWUFBWSxnQ0FBZ0Msa0JBQWtCLGFBQWEsNlVBQTZVLDJCQUEyQix1UkFBdVIsSUFBSSw2QkFBNkIsOERBQThELFVBQVUsMkJBQTJCLG1CQUFtQixnQkFBZ0IsbUJBQW1CLGtCQUFrQixxQ0FBcUMsU0FBUyxlQUFlLGVBQWUsbUJBQW1CLGlCQUFpQiwwQ0FBMEMsY0FBYyxhQUFhLG9CQUFvQiwrQ0FBK0MsUUFBUSxtQkFBbUIsMERBQTBELGVBQWUsbUVBQW1FLFFBQVEsWUFBWSw4Q0FBOEMsU0FBUyxrSEFBa0gsbUJBQW1CLGtDQUFrQyx5Q0FBeUMscUJBQXFCLDBCQUEwQiw2REFBNkQsTUFBTSxrQ0FBa0Msa0JBQWtCLHlFQUF5RSxHQUFHLEdBQUcsWUFBWSxpQkFBaUIsS0FBSywwREFBMEQsbUJBQW1CLDBEQUEwRCx3QkFBd0IsNkhBQTZILHFCQUFxQixvRUFBb0Usc0NBQXNDLHNDQUFzQyxnQ0FBZ0MsMEZBQTBGLEtBQUssWUFBWSxxREFBcUQsMERBQTBELEtBQUssV0FBVyxzQkFBc0IsMkVBQTJFLGdDQUFnQyw4Q0FBOEMsMEJBQTBCLDBCQUEwQix1RkFBdUYsZUFBZSxHQUFHLDRCQUE0QixpQkFBaUIsMEJBQTBCLDBCQUEwQix5RUFBeUUsTUFBTSw4REFBOEQsd0RBQXdELDhFQUE4RSxLQUFLLE1BQU0sY0FBYyw4REFBOEQscUNBQXFDLDBCQUEwQixxRUFBcUUsNENBQTRDLE9BQU8sTUFBTSxTQUFTLHFGQUFxRiwwS0FBMEssMEJBQTBCLHVCQUF1Qix3REFBd0QsNElBQTRJLHFCQUFxQix3QkFBd0IsK0JBQStCLHFCQUFxQix3Q0FBd0Msa0JBQWtCLHVCQUF1QixlQUFlLHlCQUF5QiwwSUFBMEksdUJBQXVCLGdKQUFnSiw2R0FBNkcsdUJBQXVCLHlCQUF5QiwyRkFBMkYsNkJBQTZCLFdBQVcsMEVBQTBFLGtFQUFrRSwwQkFBMEIsc0NBQXNDLDRCQUE0Qiw0QkFBNEIsd0RBQXdELE9BQU8sb0JBQW9CLHdDQUF3QywrQkFBK0IsMEJBQTBCLCtEQUErRCx3RUFBd0UsWUFBWSw0Q0FBNEMsS0FBSyxVQUFVLHNDQUFzQyxpQ0FBaUMsUUFBUSw2RUFBNkUsMEJBQTBCLCtDQUErQyxlQUFlLCtDQUErQyxtQkFBbUIsK0NBQStDLFVBQVUsK0NBQStDLG9CQUFvQiwrQ0FBK0MsZUFBZSwrQ0FBK0Msa0JBQWtCLCtDQUErQyxzQkFBc0IsNERBQTRELDhSQUE4UixlQUFlLDBDQUEwQyxVQUFVLHVLQUF1Syw4Q0FBOEMsOENBQThDLCtCQUErQixxQ0FBcUMscURBQXFELGVBQWUsNkJBQTZCLFlBQVksSUFBSSxnQkFBZ0IsSUFBSSx1QkFBdUIsc0JBQXNCLGdCQUFnQixZQUFZLEtBQUssY0FBYyxZQUFZLElBQUksZ0JBQWdCLEtBQUssS0FBSyxjQUFjLHVEQUF1RCxlQUFlLCtEQUErRCxxR0FBcUcsZ0JBQWdCLGVBQWUsWUFBWSxNQUFNLDZCQUE2QixnREFBZ0Qsd0JBQXdCLHNCQUFzQixnQkFBZ0IsSUFBSSxLQUFLLG1CQUFtQix3REFBd0QsWUFBWSxNQUFNLEtBQUssZ0RBQWdELG1EQUFtRCw0REFBNEQscUhBQXFILGtCQUFrQixzRUFBc0Usa0JBQWtCLDZHQUE2Ryx3QkFBd0IsNkJBQTZCLDBCQUEwQiwyQkFBMkIsZ0JBQWdCLFlBQVksS0FBSyxjQUFjLFlBQVksSUFBSSxnQkFBZ0IsSUFBSSxLQUFLLGNBQWMsa0VBQWtFLGNBQWMsb0VBQW9FLG1EQUFtRCxpRkFBaUYsOFJBQThSLG1CQUFtQix5R0FBeUcsa0JBQWtCLG1CQUFtQixTQUFTLFlBQVksS0FBSyxzR0FBc0csUUFBUSwwREFBMEQsR0FBRyxpRUFBaUUscUJBQXFCLDBDQUEwQyxzQkFBc0IsaUVBQWlFLE9BQU8sdUJBQXVCLG1CQUFtQixjQUFjLDJCQUEyQixPQUFPLGlEQUFpRCx3QkFBd0IsbUJBQW1CLGNBQWMsMEJBQTBCLE9BQU8saURBQWlELDRCQUE0QixtQkFBbUIsY0FBYyxxQkFBcUIsWUFBWSw0REFBNEQsRUFBRSxpQ0FBaUMsRUFBRSxrREFBa0QsNEJBQTRCLGNBQWMsa0NBQWtDLE9BQU8sU0FBUyxFQUFFLEVBQUUsRUFBRSw4REFBOEQsRUFBRSxFQUFFLEVBQUUsU0FBUyx3QkFBd0Isd0VBQXdFLGNBQWMsaURBQWlELCtDQUErQyxFQUFFLHlCQUF5QixxQ0FBcUMsb0JBQW9CLEVBQUUsT0FBTyxxREFBcUQsbUJBQW1CLEVBQUUsT0FBTyxHQUFHLDZDQUE2QyxrQkFBa0IsdUNBQXVDLGlCQUFpQixZQUFZLDJCQUEyQix1RUFBdUUsZUFBZSx5QkFBeUIseUJBQXlCLGNBQWMsaUZBQWlGLGtCQUFrQiw2Q0FBNkMsbUJBQW1CLG9CQUFvQixPQUFPLGNBQWMsbUJBQW1CLG1CQUFtQixPQUFPLEVBQUUsZUFBZSwwRUFBMEUsWUFBWSxLQUFLLHlCQUF5Qix3QkFBd0IsaUZBQWlGLFNBQVMsaUJBQWlCLHVHQUF1RyxzRUFBc0UsbUNBQW1DLDRCQUE0Qiw0QkFBNEIsT0FBTyxFQUFFLE9BQU8sd0NBQXdDLGlEQUFpRCwyRUFBMkUsRUFBRSxHQUFHLG9IQUFvSCxFQUFFLEdBQUcsbUdBQW1HLE1BQU0sVUFBVSx5WEFBeVgsZUFBZSx5QkFBeUIsV0FBVyx3R0FBd0csOEJBQThCLGVBQWUsNkJBQTZCLFdBQVcsZ0pBQWdKLDhCQUE4QixlQUFlLCtCQUErQixXQUFXLDZLQUE2SyxxRUFBcUUsZUFBZSwwQkFBMEIsV0FBVyw4Q0FBOEMsSUFBSSwrQkFBK0IsNERBQTRELFFBQVEsb0NBQW9DLGVBQWUsMEJBQTBCLFdBQVcsOENBQThDLElBQUksK0JBQStCLDREQUE0RCxRQUFRLG9DQUFvQyxlQUFlLDBCQUEwQixXQUFXLG1DQUFtQyw0SEFBNEgsWUFBWSxLQUFLLCtCQUErQiw0REFBNEQsU0FBUyw0R0FBNEcsdUJBQXVCLHVHQUF1RyxlQUFlLG9GQUFvRixjQUFjLHNGQUFzRix1Q0FBdUMseUJBQXlCLHFGQUFxRix1QkFBdUIsOEhBQThILGFBQWEsOEVBQThFLHFCQUFxQixXQUFXLE1BQU0sY0FBYyw4REFBOEQsVUFBVSx1QkFBdUIsVUFBVSxLQUFLLHlEQUF5RCxxQ0FBcUMsNkRBQTZELE9BQU8sOEJBQThCLG1CQUFtQixJQUFJLGdCQUFnQixtQ0FBbUMsWUFBWSxhQUFhLDBKQUEwSixnQkFBZ0IseUJBQXlCLHdHQUF3Ryx3SkFBd0osZUFBZSxnQ0FBZ0Msb0RBQW9ELGdCQUFnQiw0QkFBNEIsMkJBQTJCLDhGQUE4RixtRUFBbUUsOEhBQThILCtGQUErRixXQUFXLFlBQVksV0FBVyxLQUFLLDhLQUE4SyxrQkFBa0IsU0FBUyx1Q0FBdUMsaUVBQWlFLDJDQUEyQyxNQUFNLFFBQVEsNkRBQTZELHlCQUF5QixvQ0FBb0MsTUFBTSxRQUFRLFVBQVUsWUFBWSxXQUFXLCtCQUErQiw0Q0FBNEMsMkVBQTJFLDRFQUE0RSxxRUFBcUUsZ0JBQWdCLDJCQUEyQiwrQkFBK0IsbUNBQW1DLGlCQUFpQixxTEFBcUwsNkVBQTZFLG9EQUFvRCxxQkFBcUIsaUJBQWlCLG1KQUFtSixzRkFBc0YscURBQXFELGtEQUFrRCxpREFBaUQsdUJBQXVCLHNEQUFzRCx3RkFBd0YseUVBQXlFLHlCQUF5Qiw0RUFBNEUsb0JBQW9CLG1CQUFtQixZQUFZLGFBQWEsb0JBQW9CLElBQUksSUFBSSwySEFBMkgsMERBQTBELCtCQUErQiw2Q0FBNkMsOEhBQThILG9HQUFvRywwQkFBMEIsd0dBQXdHLHVKQUF1Siw4QkFBOEIsZ0NBQWdDLHlFQUF5RSxtREFBbUQsd0NBQXdDLFlBQVksMENBQTBDLFFBQVEsWUFBWSxJQUFJLEtBQUssaUJBQWlCLCtEQUErRCxTQUFTLDZFQUE2RSw4QkFBOEIseUZBQXlGLFFBQVEsK0JBQStCLGlEQUFpRCw2SEFBNkgsVUFBVSxjQUFjLGdEQUFnRCxrQ0FBa0MsdUNBQXVDLGVBQWUsWUFBWSxLQUFLLGlDQUFpQyxrQkFBa0IseUJBQXlCLDZDQUE2QyxtQ0FBbUMsaUpBQWlKLFFBQVEsTUFBTSx3REFBd0QsaUNBQWlDLHFFQUFxRSwwQkFBMEIsMENBQTBDLG9DQUFvQyxZQUFZLFlBQVksV0FBVyxLQUFLLDJDQUEyQyxtRUFBbUUsUUFBUSxlQUFlLHdDQUF3QywyQ0FBMkMsb0VBQW9FLDJEQUEyRCxnQkFBZ0IsK0NBQStDLGdFQUFnRSx3Q0FBd0MsMENBQTBDLDJEQUEyRCxrREFBa0QseUhBQXlILG1KQUFtSix3QkFBd0IscUVBQXFFLDRFQUE0RSxxQ0FBcUMsOEJBQThCLGtDQUFrQyxpQkFBaUIsNERBQTRELCtDQUErQyw4SEFBOEgscUZBQXFGLHVDQUF1QywyRkFBMkYsa0NBQWtDLDZRQUE2USxrQ0FBa0MseUpBQXlKLDRDQUE0Qyx3QkFBd0IsaU1BQWlNLHNCQUFzQixXQUFXLFlBQVksV0FBVyxLQUFLLGFBQWEscUJBQXFCLFNBQVMsMkpBQTJKLCtFQUErRSw4QkFBOEIsc0lBQXNJLDJEQUEyRCxnSkFBZ0osVUFBVSw2QkFBNkIsaUNBQWlDLCtCQUErQixjQUFjLHNIQUFzSCx3RkFBd0Ysc05BQXNOLDZCQUE2QixNQUFNLDREQUE0RCw2REFBNkQsK0VBQStFLDhCQUE4QixnQ0FBZ0MsVUFBVSw2QkFBNkIseURBQXlELHVDQUF1QyxrR0FBa0csNkNBQTZDLHNEQUFzRCx5QkFBeUIsbUJBQW1CLGdDQUFnQywwQkFBMEIsK0VBQStFLGlEQUFpRCxZQUFZLFlBQVksSUFBSSw2RkFBNkYsNkVBQTZFLHlCQUF5Qix1RkFBdUYsbUlBQW1JLFVBQVUseUJBQXlCLG9EQUFvRCwrRkFBK0YsU0FBUyw4RkFBOEYsY0FBYyxvREFBb0Qsd0NBQXdDLGtCQUFrQiwyQkFBMkIsa0JBQWtCLEVBQUUsa0NBQWtDLDZCQUE2QixrQkFBa0IsRUFBRSxvQ0FBb0MsMkVBQTJFLGtCQUFrQixFQUFFLHdEQUF3RCxJQUFJLDZRQUE2UTs7QUFFaDd4SyxpQ0FBaUMsYUFBYSxjQUFjLGlHQUFpRyxxQkFBcUIsVUFBVSx1QkFBdUIsS0FBSyxHQUFHLFVBQVUsRUFBRSxHQUFHLFFBQVEsRUFBRSwyQ0FBMkMsRUFBRSxHQUFHLFFBQVEsR0FBRyxVQUFVLEdBQUcsRUFBRSxjQUFjLFNBQVMsc0NBQXNDLFFBQVEsRUFBRSxTQUFTLFFBQVEsZUFBZSxnQkFBZ0IscUJBQXFCLFdBQVcscUJBQXFCLGdCQUFnQixvQkFBb0IsWUFBWSx1SkFBdUosNkZBQTZGLHlCQUF5QixzQkFBc0IsV0FBVyxZQUFZLFdBQVcsS0FBSywrQkFBK0Isa0JBQWtCLFdBQVcsNkJBQTZCLFdBQVcsOEJBQThCLFNBQVMsNkNBQTZDLGtCQUFrQiw4Q0FBOEMsa0NBQWtDLHFCQUFxQiwrQkFBK0IsaUNBQWlDLEVBQUUsMkNBQTJDLFdBQVcsNEJBQTRCLFFBQVEsY0FBYyxNQUFNLDBEQUEwRCxzRkFBc0Ysb0NBQW9DLGtCQUFrQix3VEFBd1QsaUZBQWlGLDRHQUE0RyxzQkFBc0Isa0JBQWtCLG1DQUFtQyxvQkFBb0IsdUJBQXVCLHlDQUF5QyxzQkFBc0IseUJBQXlCLHNDQUFzQyx5Q0FBeUMsbUNBQW1DLHVCQUF1QiwwQkFBMEIsVUFBVSxnQkFBZ0IsaUJBQWlCLFVBQVUsWUFBWSxXQUFXLGlCQUFpQixnQkFBZ0IscUNBQXFDLElBQUksT0FBTyxnREFBZ0QsNkNBQTZDLDBCQUEwQixnREFBZ0QsUUFBUSxlQUFlLGtJQUFrSSxlQUFlLDJCQUEyQixXQUFXLCtFQUErRSxVQUFVLFdBQVcsdUNBQXVDLFdBQVcsd0RBQXdELFdBQVcsVUFBVSxpQkFBaUIsMkJBQTJCLFFBQVEsZUFBZSxhQUFhLHVCQUF1QiwyRkFBMkYsV0FBVyxpQ0FBaUMsT0FBTyxXQUFXLHdEQUF3RCxnQkFBZ0Isa0JBQWtCLHVDQUF1QyxnQkFBZ0IsMkpBQTJKLGdDQUFnQyxtREFBbUQscUNBQXFDLHVCQUF1QixpQkFBaUIsWUFBWSxXQUFXLEtBQUssd0JBQXdCLFdBQVcsbUNBQW1DLHVCQUF1QixxQkFBcUIsNkJBQTZCLG1DQUFtQyxzREFBc0QsV0FBVyx1QkFBdUIsV0FBVyxLQUFLLFdBQVcseUVBQXlFLGlCQUFpQiw2Q0FBNkMsZ0JBQWdCLGNBQWMsWUFBWSxxQkFBcUIsdURBQXVELGlCQUFpQixnQkFBZ0IsTUFBTSwwR0FBMEcsT0FBTyw2QkFBNkIsZ0JBQWdCLFFBQVEsV0FBVyxpREFBaUQsYUFBYSxRQUFRLFdBQVcsK0JBQStCLGVBQWUsUUFBUSxXQUFXLDhCQUE4QixnQkFBZ0IsZ0JBQWdCLG9IQUFvSCxnQkFBZ0IsZ0VBQWdFLDJCQUEyQiw2QkFBNkIsYUFBYSwyREFBMkQsZUFBZSxpRUFBaUUscUJBQXFCLDhEQUE4RCxnQkFBZ0Isb0JBQW9CLGNBQWMsa0JBQWtCLGdCQUFnQiwyREFBMkQsSUFBSSxLQUFLLGVBQWUsMENBQTBDLHdDQUF3QyxJQUFJLEtBQUssc0NBQXNDLDBCQUEwQixtREFBbUQsK0JBQStCLGdCQUFnQixlQUFlLGlMQUFpTCx3QkFBd0IsaUJBQWlCLGVBQWUsd0RBQXdELHdCQUF3QixLQUFLLElBQUksRUFBRSxZQUFZLG9HQUFvRyxvRkFBb0YsaUJBQWlCLFlBQVksc0NBQXNDLElBQUksRUFBRSx1QkFBdUIsV0FBVyxLQUFLLEtBQUssV0FBVyxNQUFNLHVFQUF1RSxvQkFBb0Isd0NBQXdDLGtCQUFrQixhQUFhLGtCQUFrQixvQkFBb0Isa0JBQWtCLGVBQWUsK0VBQStFLFFBQVEsU0FBUyxtR0FBbUcsVUFBVSxTQUFTLEVBQUUsNEJBQTRCLDBCQUEwQixRQUFRLDJDQUEyQyw4QkFBOEIsMEdBQTBHLFlBQVksV0FBVywyQ0FBMkMseUJBQXlCLGVBQWUsK0JBQStCLDhCQUE4QixRQUFRLEtBQUssU0FBUyxFQUFFLG9DQUFvQyxXQUFXLFlBQVksS0FBSyw2REFBNkQsU0FBUyw0QkFBNEIseURBQXlELGdCQUFnQiwyR0FBMkcsU0FBUyw2Q0FBNkMsY0FBYyw2QkFBNkIsb0NBQW9DLEtBQUssU0FBUyxFQUFFLG9DQUFvQyxXQUFXLFlBQVksS0FBSyw0Q0FBNEMsU0FBUyxnREFBZ0QsNEJBQTRCLGdCQUFnQixtSEFBbUgsU0FBUyw0Q0FBNEMsU0FBUyw0R0FBNEcsMERBQTBELE1BQU0sUUFBUSxlQUFlLGlGQUFpRixRQUFRLE1BQU0scUNBQXFDLGNBQWMsOEJBQThCLG1CQUFtQixVQUFVLFFBQVEsaUNBQWlDLFNBQVMsWUFBWSxXQUFXLHFDQUFxQyxrRUFBa0UsWUFBWSxLQUFLLEtBQUssb0JBQW9CLG9JQUFvSSw2Q0FBNkMsaUJBQWlCLG1DQUFtQyx3Q0FBd0Msa0RBQWtELHdDQUF3QywrQkFBK0IsYUFBYSwyRUFBMkUsbUJBQW1CLDJFQUEyRSxrQkFBa0Isb0JBQW9CLCtDQUErQyxTQUFTLGVBQWUsNEdBQTRHLHlCQUF5QixvQkFBb0IseUJBQXlCLDZGQUE2RixrQkFBa0Isb0JBQW9CLCtEQUErRCxtQ0FBbUMsU0FBUyxpQkFBaUIsV0FBVyxrREFBa0QsZUFBZSx3REFBd0Qsa0JBQWtCLDZDQUE2QyxhQUFhLGdQQUFnUCwyQkFBMkIsK0JBQStCLEtBQUssd0JBQXdCLEVBQUUsNEJBQTRCLDBCQUEwQiw4QkFBOEIsU0FBUyx5QkFBeUIsNEJBQTRCLGtCQUFrQixxQkFBcUIsb0lBQW9JLFNBQVMsOEJBQThCLGtCQUFrQiwyQkFBMkIsVUFBVSx3QkFBd0IsTUFBTSw2QkFBNkIsOEVBQThFLFNBQVMsNEdBQTRHLE1BQU0sMElBQTBJLGNBQWMsc0ZBQXNGLGNBQWMsWUFBWSx1Q0FBdUMsb0NBQW9DLFlBQVksV0FBVyxLQUFLLGFBQWEsc0JBQXNCLFNBQVMsK0RBQStELFFBQVEsa0JBQWtCLG9CQUFvQiwrQkFBK0IsY0FBYyxrREFBa0Qsd0NBQXdDLGtCQUFrQixvQkFBb0Isc0JBQXNCLFNBQVMsdUJBQXVCLDhFQUE4RSx1Q0FBdUMsd0NBQXdDLG9CQUFvQixrQ0FBa0MsU0FBUyxnQkFBZ0IsK0JBQStCLGtCQUFrQixpQ0FBaUMsVUFBVSw0QkFBNEIsNEJBQTRCLDhEQUE4RCxvQkFBb0IsT0FBTyxzQkFBc0IsUUFBUSxrRUFBa0UsZ0JBQWdCLGtDQUFrQyxRQUFRLGtEQUFrRCxjQUFjLFFBQVEsaURBQWlELHVEQUF1RCxPQUFPLGNBQWMsZ0NBQWdDLGtCQUFrQixxQ0FBcUMsYUFBYSxnQkFBZ0IsbUVBQW1FLEVBQUUsY0FBYyxnQkFBZ0IsY0FBYyx1RUFBdUUscUJBQXFCLGNBQWMsZ0NBQWdDLDZDQUE2QyxnQkFBZ0IsMkJBQTJCLFNBQVMsY0FBYyxXQUFXLGNBQWMsV0FBVyxvQkFBb0IsbUVBQW1FLElBQUksTUFBTSw2QkFBNkIsZUFBZSxlQUFlLG9CQUFvQixpQkFBaUIscURBQXFELHdCQUF3QixnQkFBZ0IsaUJBQWlCLGtDQUFrQyxvQ0FBb0MsMkJBQTJCLG9CQUFvQixPQUFPLHFGQUFxRixtQkFBbUIsMEJBQTBCLDBEQUEwRCx5REFBeUQsV0FBVyxjQUFjLG1DQUFtQyxXQUFXLGdCQUFnQixjQUFjLGtCQUFrQixNQUFNLGdCQUFnQixZQUFZLFdBQVcsOEhBQThILG9CQUFvQixlQUFlLCtHQUErRyxzRkFBc0YscUNBQXFDLFdBQVcsZUFBZSxzQ0FBc0MsK0JBQStCLGtCQUFrQixRQUFRLFdBQVcsZ0VBQWdFLE9BQU8sY0FBYyxtQ0FBbUMsTUFBTSx1QkFBdUIsNkJBQTZCLFFBQVEsK0JBQStCLFNBQVMsK0RBQStELE1BQU0sT0FBTyw2REFBNkQsUUFBUSxXQUFXLEtBQUssU0FBUyw0QkFBNEIsZ0NBQWdDLGlCQUFpQiw2Q0FBNkMscUJBQXFCLG9CQUFvQixXQUFXLEtBQUssZ0NBQWdDLDBHQUEwRyxpQkFBaUIsc0VBQXNFLHFCQUFxQixZQUFZLFdBQVcsS0FBSyxTQUFTLDJCQUEyQixlQUFlLGdCQUFnQixlQUFlLHFFQUFxRSxxQkFBcUIsNkJBQTZCLGdDQUFnQyx5QkFBeUIsaUJBQWlCLFdBQVcsS0FBSyw2RUFBNkUsdUJBQXVCLHNCQUFzQixTQUFTLCtDQUErQyx3REFBd0QsK0NBQStDLHVDQUF1Qyx1Q0FBdUMsV0FBVyxLQUFLLFNBQVMseUNBQXlDLGFBQWEsb0NBQW9DLFFBQVEsV0FBVyxrQ0FBa0MsU0FBUyx1TUFBdU0sdUJBQXVCLHVCQUF1QixZQUFZLFdBQVcsTUFBTSxhQUFhLDJEQUEyRCwyQkFBMkIsZ0RBQWdELGFBQWEsTUFBTSw0RUFBNEUseVJBQXlSLGlCQUFpQiwySkFBMkosZUFBZSxTQUFTLG1EQUFtRCx5QkFBeUIsWUFBWSxXQUFXLDJCQUEyQixxQkFBcUIsK0JBQStCLHlCQUF5QixrQkFBa0IsK0NBQStDLHlCQUF5QixrQkFBa0IsK0NBQStDLGlCQUFpQixpQkFBaUIsV0FBVyxLQUFLLHNCQUFzQixzRUFBc0UsOENBQThDLEtBQUssWUFBWSxvQkFBb0IsaUNBQWlDLHdDQUF3QyxvQkFBb0IsS0FBSyxpQkFBaUIsdUJBQXVCLG1DQUFtQyxXQUFXLDRCQUE0QixTQUFTLGlCQUFpQixTQUFTLDhEQUE4RCxZQUFZLFdBQVcsa0NBQWtDLFNBQVMsaUJBQWlCLDBCQUEwQiwrQkFBK0IsUUFBUSxvQkFBb0IsS0FBSywwQ0FBMEMsK0JBQStCLFdBQVcsOENBQThDLGFBQWEsV0FBVyxLQUFLLFNBQVMsUUFBUSxjQUFjLDJDQUEyQyxxQkFBcUIsMEJBQTBCLHlCQUF5QixxREFBcUQsdUJBQXVCLDJEQUEyRCwwSEFBMEgsS0FBSyxXQUFXLEtBQUssK0JBQStCLG9EQUFvRCxxRkFBcUYsU0FBUyxxQkFBcUIsK0JBQStCLDZDQUE2QyxXQUFXLGlFQUFpRSwyQ0FBMkMscURBQXFELFdBQVcsdUNBQXVDLHVDQUF1QyxXQUFXLEtBQUssV0FBVyxRQUFRLFdBQVcsNkJBQTZCLGFBQWEsbUJBQW1CLG9DQUFvQyxpQkFBaUIsdUJBQXVCLG1FQUFtRSxPQUFPLHdHQUF3Ryw4Q0FBOEMseUJBQXlCLFVBQVUsK0NBQStDLE1BQU0saUJBQWlCLFdBQVcsc0ZBQXNGLGlCQUFpQixpQ0FBaUMsSUFBSSx3Q0FBd0MsOEJBQThCLE1BQU0sTUFBTSxvQkFBb0Isc0RBQXNELGtCQUFrQixpQkFBaUIsb0NBQW9DLHlCQUF5QixTQUFTLHVDQUF1Qyx1SEFBdUgsa0dBQWtHLG9CQUFvQixTQUFTLDRDQUE0QyxvQkFBb0IsMkJBQTJCLCtCQUErQixXQUFXLElBQUksU0FBUyxNQUFNLGFBQWEsd0xBQXdMLCtCQUErQixpRkFBaUYsb0dBQW9HLDBQQUEwUCxtQkFBbUIseUJBQXlCLGlCQUFpQiwyQkFBMkIsMkNBQTJDLGdEQUFnRCwwQkFBMEIsMEJBQTBCLG1CQUFtQixvRkFBb0YsOEJBQThCLEdBQUcsc0JBQXNCLG1JQUFtSSxnREFBZ0QsNkNBQTZDLFNBQVMsRUFBRSx3Q0FBd0MsdUNBQXVDLDBGQUEwRixZQUFZLE1BQU0sNEpBQTRKLFlBQVksaURBQWlELGlCQUFpQixpQ0FBaUMsYUFBYSxxREFBcUQsbUVBQW1FLCtCQUErQiw4QkFBOEIsMkRBQTJELHdaQUF3WixzQ0FBc0Msd0NBQXdDLHlCQUF5QixpQ0FBaUMsNENBQTRDLHFEQUFxRCxzQkFBc0IsUUFBUSxpRUFBaUUsc09BQXNPLDBDQUEwQyx1QkFBdUIsMkNBQTJDLGNBQWMsa0RBQWtELDRCQUE0QixxQkFBcUIsaUVBQWlFLFNBQVMscUNBQXFDLFFBQVEsSUFBSSxhQUFhLHFDQUFxQywwRUFBMEUsRUFBRSx5REFBeUQsTUFBTSxJQUFJLFVBQVUsZ0JBQWdCLGdEQUFnRCxPQUFPLE1BQU0sR0FBRyxzQ0FBc0MsNkNBQTZDLDBDQUEwQyxFQUFFLG1CQUFtQixVQUFVLEtBQUssSUFBSSx3QkFBd0IsSUFBSSxnQkFBZ0Isa0JBQWtCLGtCQUFrQixpSEFBaUgsMkJBQTJCLGlCQUFpQixlQUFlLFdBQVcseUNBQXlDLFNBQVMsa0JBQWtCLGVBQWUsNkRBQTZELEdBQUcsb0NBQW9DLG1CQUFtQix3QkFBd0IsU0FBUyxZQUFZLGVBQWUsV0FBVyxNQUFNLHVDQUF1Qyx1QkFBdUIsNERBQTRELFlBQVksSUFBSSxnQkFBZ0Isb0JBQW9CLDREQUE0RCxpQkFBaUIsb0NBQW9DLE1BQU0sc0VBQXNFLFNBQVMsb0NBQW9DLElBQUksa0NBQWtDLFNBQVMsMkNBQTJDLFNBQVMsc0NBQXNDLDZCQUE2QixJQUFJLGlFQUFpRSxTQUFTLE9BQU8sd0JBQXdCLElBQUkscURBQXFELFNBQVMsT0FBTyxzQkFBc0IsSUFBSSxvRUFBb0UsU0FBUyxRQUFRLFNBQVMsZUFBZSwrREFBK0Qsd0JBQXdCLHVCQUF1QixvQkFBb0IseUNBQXlDLGdCQUFnQiwwQkFBMEIsMkNBQTJDLHNCQUFzQix5QkFBeUIsd0NBQXdDLHlFQUF5RSxFQUFFLHdCQUF3Qiw2QkFBNkIscUNBQXFDLDhFQUE4RSwwTEFBMEwsbUJBQW1CLDZIQUE2SCxvQkFBb0IsS0FBSyxpQkFBaUIsaUJBQWlCLGtCQUFrQix5QkFBeUIsc0NBQXNDLGlDQUFpQyw2SEFBNkgsaUJBQWlCLDBCQUEwQixzQ0FBc0MsaUNBQWlDLHlDQUF5QyxLQUFLLHFCQUFxQixvQkFBb0IsbUJBQW1CLHdDQUF3QyxpQkFBaUIsc0NBQXNDLG9CQUFvQix5REFBeUQsZ0JBQWdCLHFDQUFxQywyQkFBMkIsTUFBTSxnSEFBZ0gsbUJBQW1CLHFDQUFxQywyQkFBMkIsTUFBTSxtREFBbUQsa0JBQWtCLHFDQUFxQywyQkFBMkIsTUFBTSxrSEFBa0gsaUJBQWlCLHdEQUF3RCxrQkFBa0IseURBQXlELG9CQUFvQiwyR0FBMkcsZ0RBQWdELGdHQUFnRyx3QkFBd0IsSUFBSSxvQ0FBb0MsU0FBUyxrQkFBa0IsMEJBQTBCLElBQUkscUJBQXFCLGdDQUFnQyx1REFBdUQsMkJBQTJCLDRCQUE0QixzRUFBc0UsRUFBRSxRQUFRLFNBQVMsa0JBQWtCLHNCQUFzQiw4QkFBOEIsbUJBQW1CLGlCQUFpQiwyQkFBMkIsMkNBQTJDLHVCQUF1QixtREFBbUQsd0RBQXdELGdDQUFnQyxTQUFTLHFCQUFxQiw4QkFBOEIsaUNBQWlDLHNJQUFzSSxtQ0FBbUMsd0JBQXdCLDZEQUE2RCwrRkFBK0YsMkJBQTJCLDRCQUE0QixtQ0FBbUMsbUJBQW1CLHlJQUF5STs7QUFFOXc2QixpQ0FBaUMsYUFBYSxnQkFBZ0IscUJBQXFCLG9EQUFvRCxZQUFZLFdBQVcsK0JBQStCLFVBQVUsMkNBQTJDLGdDQUFnQywyREFBMkQsNENBQTRDLFVBQVUsYUFBYSxRQUFRLGNBQWMsb0JBQW9CLG9zQkFBb3NCLG1FQUFtRSx5QkFBeUIsdUJBQXVCLDJCQUEyQixJQUFJLHNCQUFzQixTQUFTLE1BQU0saURBQWlELDhEQUE4RCx1Q0FBdUMsbUJBQW1CLHlCQUF5QixnQkFBZ0IsOEJBQThCLDRCQUE0Qix1RUFBdUUsb0JBQW9CLGlGQUFpRixzR0FBc0csSUFBSSxnQkFBZ0IsSUFBSSxtQ0FBbUMsU0FBUyxVQUFVLGtFQUFrRSxxRUFBcUUsb1hBQW9YLE9BQU8sSUFBSSxTQUFTLGtCQUFrQiwyQ0FBMkMseURBQXlELGtCQUFrQiwwRUFBMEUsNERBQTRELDZCQUE2QiwwQkFBMEIsMkNBQTJDLDhIQUE4SCxNQUFNLGFBQWEsNEJBQTRCLGFBQWEsZ0JBQWdCLGNBQWMsbUZBQW1GLGFBQWEsa0VBQWtFLDRDQUE0QyxNQUFNLGdCQUFnQixrQ0FBa0MsZ0JBQWdCLGdCQUFnQix1Q0FBdUMsWUFBWSxXQUFXLHdCQUF3QixTQUFTLGNBQWMseUlBQXlJLGtCQUFrQix3REFBd0QscUVBQXFFLGdCQUFnQiwwQ0FBMEMsOERBQThELGNBQWMsTUFBTSxZQUFZLEdBQUcsdUZBQXVGLDBCQUEwQixjQUFjLHNCQUFzQixzQkFBc0Isb0NBQW9DLG1EQUFtRCxrQ0FBa0MsaUJBQWlCLGlCQUFpQixXQUFXLG1CQUFtQixhQUFhLHVDQUF1QyxVQUFVLGlCQUFpQixxQ0FBcUMscUJBQXFCLFlBQVksMEJBQTBCLFlBQVksc0JBQXNCLGNBQWMseUNBQXlDLGVBQWUsU0FBUywrR0FBK0csRUFBRSxrSkFBa0osRUFBRSw2SEFBNkgsRUFBRSwwQ0FBMEMsc0JBQXNCLGdCQUFnQixRQUFRLGtCQUFrQix1Q0FBdUMsUUFBUSxVQUFVLHNCQUFzQixnS0FBZ0ssaUJBQWlCLDhFQUE4RSxlQUFlLHVCQUF1Qix5R0FBeUcsYUFBYSxnQ0FBZ0MsZUFBZSxTQUFTLDREQUE0RCwyREFBMkQsaUJBQWlCLEdBQUcsYUFBYSxXQUFXLGtCQUFrQiwyREFBMkQsS0FBSyxHQUFHLHVCQUF1QixRQUFRLDZMQUE2TCxzQkFBc0IsRUFBRSxpTkFBaU4sV0FBVyxlQUFlLE1BQU0saUJBQWlCLGlCQUFpQixRQUFRLGtCQUFrQixjQUFjLDRDQUE0QyxrQkFBa0IsdURBQXVELGtDQUFrQyxNQUFNLFNBQVMsMkNBQTJDLDRCQUE0QixrQkFBa0IsbUJBQW1CLDREQUE0RCxRQUFRLGFBQWEsb01BQW9NLHNCQUFzQixXQUFXLDBEQUEwRCxNQUFNLFFBQVEsZ0NBQWdDLFVBQVUsdUJBQXVCLEVBQUUsOEJBQThCLE1BQU0sTUFBTSw2RUFBNkUsc0JBQXNCLFFBQVEsRUFBRSxRQUFRLEVBQUUsaUJBQWlCLHdCQUF3QixVQUFVLEVBQUUsVUFBVSxFQUFFLGlCQUFpQix3QkFBd0IsUUFBUSxFQUFFLFVBQVUsRUFBRSxpQkFBaUIsd0JBQXdCLFVBQVUsRUFBRSxVQUFVLEVBQUUsaUJBQWlCLHdCQUF3QixRQUFRLEVBQUUsVUFBVSxFQUFFLGlCQUFpQixHQUFHLGVBQWUsYUFBYSxxQ0FBcUMsMkJBQTJCLGtCQUFrQixnREFBZ0QsdUNBQXVDLHVCQUF1QiwrQkFBK0IsMEJBQTBCLDBFQUEwRSxjQUFjLDBDQUEwQyxzQkFBc0IseUJBQXlCLHlDQUF5QyxRQUFRLDZGQUE2RiwyQkFBMkIsbUJBQW1CLFFBQVEsb0pBQW9KLG1IQUFtSCxrQkFBa0IsMEJBQTBCLGVBQWUsaUlBQWlJLFdBQVcsd0NBQXdDLGVBQWUsRUFBRSwwREFBMEQsYUFBYSxnSEFBZ0gscUJBQXFCLDhFQUE4RSxnQkFBZ0IsMkNBQTJDLGVBQWUseURBQXlELGlCQUFpQiwyRkFBMkYsZUFBZSxvQkFBb0Isa0JBQWtCLEtBQUssMEJBQTBCLDhIQUE4SCxrQkFBa0IsMEJBQTBCLGlCQUFpQixtSkFBbUosTUFBTSx3Q0FBd0MsT0FBTyxrQkFBa0IsYUFBYSxnSEFBZ0gscUJBQXFCLDhFQUE4RSxnQkFBZ0IsMkNBQTJDLGVBQWUsMERBQTBELG9CQUFvQix5REFBeUQsNkNBQTZDLGtEQUFrRCxnQkFBZ0IsMEJBQTBCLG1DQUFtQywwQkFBMEIsOFhBQThYLGtCQUFrQiwwQkFBMEIsaUJBQWlCLDhJQUE4SSxZQUFZLG9JQUFvSSxRQUFRLGdKQUFnSixNQUFNLHdDQUF3QyxVQUFVLEVBQUUsdUNBQXVDLHNGQUFzRixrQkFBa0IsYUFBYSxpSEFBaUgsY0FBYyxvREFBb0QseURBQXlELCtFQUErRSx3QkFBd0IsOERBQThELHlHQUF5RyxzRUFBc0UsbUJBQW1CLHVCQUF1QixvRUFBb0UscUJBQXFCLDhFQUE4RSxnQkFBZ0IsMkNBQTJDLGVBQWUseURBQXlELGlCQUFpQiwyRkFBMkYsZUFBZSxvQkFBb0Isa0JBQWtCLEtBQUssUUFBUSxpQkFBaUIsMEVBQTBFLHlDQUF5QyxZQUFZLFdBQVcsS0FBSyxvQ0FBb0MsaUJBQWlCLEVBQUUsdUJBQXVCLHVEQUF1RCxlQUFlLElBQUksaUJBQWlCLGdDQUFnQyxlQUFlLG1CQUFtQixHQUFHLFdBQVcsaUdBQWlHLFNBQVMseUJBQXlCLFlBQVkscURBQXFELGtCQUFrQixvRUFBb0UsZ0JBQWdCLFFBQVEscUJBQXFCLGtFQUFrRSw0QkFBNEIseUlBQXlJLG1DQUFtQyxRQUFRLHdEQUF3RCxtQ0FBbUMsa0NBQWtDLE1BQU0sc0VBQXNFLHdFQUF3RSx1Q0FBdUMsZUFBZSxvQ0FBb0MsMEJBQTBCLHlIQUF5SCwwQkFBMEIsbUtBQW1LLHlPQUF5TywrQkFBK0IsMkxBQTJMLHNEQUFzRCw2QkFBNkIsTUFBTSx1QkFBdUIsTUFBTSxjQUFjLE1BQU0sdUJBQXVCLE1BQU0sdUJBQXVCLE1BQU0sY0FBYyxNQUFNLHVCQUF1QixNQUFNLGVBQWUsU0FBUyx3QkFBd0IsMkhBQTJILHNDQUFzQyxnRUFBZ0UsMkRBQTJELDREQUE0RCw2UEFBNlAscUJBQXFCLHVDQUF1Qyw2Q0FBNkMsUUFBUSxpVUFBaVUsT0FBTyw2QkFBNkIsYUFBYSxtRUFBbUUsTUFBTSxpR0FBaUcscUZBQXFGLGtDQUFrQyw2QkFBNkIsYUFBYSxtRUFBbUUsTUFBTSxzR0FBc0cscUZBQXFGLGtDQUFrQyx5QkFBeUIsc0JBQXNCLGtIQUFrSCwyRUFBMkUsOEtBQThLLHNCQUFzQix3QkFBd0IsWUFBWSxXQUFXLEtBQUssMEVBQTBFLFFBQVEsZUFBZSxvQkFBb0Isb0JBQW9CLHVCQUF1QixZQUFZLGFBQWEsa0JBQWtCLE1BQU0sVUFBVSxHQUFHLCtEQUErRCw0RkFBNEYsZUFBZSxvQ0FBb0MsK0RBQStELE1BQU0sNFFBQTRRLG9FQUFvRSxNQUFNLGNBQWMsc0JBQXNCLG9CQUFvQixZQUFZLGFBQWEsNkJBQTZCLFlBQVksYUFBYSxLQUFLLDJDQUEyQyxrSEFBa0gseUNBQXlDLDBDQUEwQyxRQUFRLElBQUksdUJBQXVCLHFEQUFxRCxRQUFRLHNGQUFzRixnQkFBZ0IseUJBQXlCLCtCQUErQixpQkFBaUIsU0FBUyxjQUFjLHFCQUFxQixjQUFjLGVBQWUsc0JBQXNCLHNCQUFzQixpQkFBaUIsTUFBTSx3Q0FBd0MsZ0lBQWdJLHFKQUFxSiwySUFBMkksUUFBUSxtQkFBbUIsaUdBQWlHLGtCQUFrQixzSUFBc0ksWUFBWSxnUUFBZ1EscUNBQXFDLFFBQVEsbUJBQW1CLGVBQWUsYUFBYSx1UEFBdVAsT0FBTyxpREFBaUQsY0FBYyx3QkFBd0IsOEZBQThGLFVBQVUsOEVBQThFLFNBQVMsMkhBQTJILFFBQVEscUJBQXFCLHlHQUF5RyxhQUFhLHlMQUF5TCxPQUFPLGdEQUFnRCxjQUFjLHdCQUF3Qiw2REFBNkQsc0JBQXNCLFlBQVkseUJBQXlCLEtBQUssOENBQThDLDJDQUEyQywrQkFBK0IsWUFBWSx5QkFBeUIsS0FBSyxrREFBa0QsZ0hBQWdILFVBQVUsOEVBQThFLFFBQVEsZUFBZSxxRkFBcUYsTUFBTSxvQkFBb0IsUUFBUSxhQUFhLG9CQUFvQixhQUFhLHlCQUF5QixrQkFBa0IsYUFBYSwyQkFBMkIsT0FBTyxxQkFBcUIsK0hBQStILGtCQUFrQixhQUFhLFNBQVMsT0FBTyx1RkFBdUYsa0JBQWtCLGFBQWEsU0FBUyxPQUFPLHlGQUF5RixrQkFBa0IsYUFBYSxxQkFBcUIsT0FBTyxxQkFBcUIsMElBQTBJLGtCQUFrQixhQUFhLFVBQVUsT0FBTyxzRkFBc0Ysa0JBQWtCLGFBQWEsV0FBVyxPQUFPLHdGQUF3RixrQkFBa0IsYUFBYSxRQUFRLG9DQUFvQyxPQUFPLHFCQUFxQix5SUFBeUksa0JBQWtCLGFBQWEsZ0JBQWdCLDhCQUE4QixPQUFPLHFCQUFxQix3SEFBd0gsa0JBQWtCLGFBQWEsVUFBVSxPQUFPLHdDQUF3QyxnQkFBZ0Isb0ZBQW9GLGtCQUFrQixhQUFhLGFBQWEsT0FBTyxxQkFBcUIsdUdBQXVHLG1CQUFtQixhQUFhLFVBQVUsT0FBTyx3Q0FBd0MsZ0JBQWdCLGdGQUFnRixtQkFBbUIsYUFBYSxvQkFBb0IsT0FBTyxzRkFBc0YsbUJBQW1CLGFBQWEsVUFBVSxPQUFPLHdDQUF3QyxnQkFBZ0Isc0VBQXNFLG1CQUFtQixhQUFhLGdCQUFnQixzQkFBc0IsT0FBTyxxQkFBcUIsc0dBQXNHLG1CQUFtQixhQUFhLDJCQUEyQixPQUFPLHFCQUFxQiwrSEFBK0gsbUJBQW1CLGFBQWEsd0JBQXdCLE9BQU8sMEZBQTBGLG1CQUFtQixhQUFhLFVBQVUsT0FBTyx3Q0FBd0MsZ0JBQWdCLDhFQUE4RSxtQkFBbUIsYUFBYSxvQkFBb0IsT0FBTyxxRkFBcUYsbUJBQW1CLGFBQWEsbUJBQW1CLE9BQU8sc0ZBQXNGLG1CQUFtQixhQUFhLFlBQVksT0FBTyx1RkFBdUYsbUJBQW1CLGFBQWEsd0JBQXdCLE9BQU8sMEZBQTBGLG1CQUFtQixhQUFhLGdCQUFnQix3REFBd0QsT0FBTyxxQkFBcUIseUlBQXlJLG1CQUFtQixhQUFhLFlBQVksT0FBTyx3Q0FBd0MsZ0JBQWdCLGtFQUFrRSxtQkFBbUIsYUFBYSxZQUFZLE9BQU8sd0NBQXdDLGdCQUFnQixvRUFBb0UsbUJBQW1CLGFBQWEsWUFBWSxPQUFPLHdDQUF3QyxnQkFBZ0IsNkRBQTZELG1CQUFtQixhQUFhLFlBQVksT0FBTyx3Q0FBd0MsZ0JBQWdCLDhEQUE4RCxtQkFBbUIsYUFBYSxZQUFZLE9BQU8sZ0JBQWdCLHNFQUFzRSxtQkFBbUIsZUFBZSwwQ0FBMEMsYUFBYSxZQUFZLE9BQU8sMEdBQTBHLG1CQUFtQixhQUFhLFNBQVMsT0FBTyx3Q0FBd0MsZ0JBQWdCLG1FQUFtRSxtQkFBbUIsYUFBYSxVQUFVLE9BQU8sd0NBQXdDLGdCQUFnQixpRkFBaUYsbUJBQW1CLGFBQWEsVUFBVSxPQUFPLHdDQUF3QyxnQkFBZ0Isc0VBQXNFLG1CQUFtQixpQkFBaUIsdUNBQXVDLGFBQWEsYUFBYSxvQkFBb0IsV0FBVyxlQUFlLE9BQU8sd0NBQXdDLDhDQUE4QyxnQkFBZ0IsMEdBQTBHLG9CQUFvQixhQUFhLGdDQUFnQyxPQUFPLHdDQUF3Qyw4Q0FBOEMsZ0JBQWdCLDJHQUEyRyxvQkFBb0IsYUFBYSx5Q0FBeUMsU0FBUyxxQkFBcUIsMENBQTBDLGtEQUFrRCx3RUFBd0UsVUFBVSxxREFBcUQsK0NBQStDLG1DQUFtQyw0QkFBNEIsd0NBQXdDLFNBQVMsZUFBZSwrbUVBQSttRSxhQUFhLCt3QkFBK3dCLFdBQVcsdTJCQUF1MkIsdUJBQXVCLHVCQUF1QiwwQkFBMEIseUJBQXlCLDBCQUEwQix5Q0FBeUMsa0hBQWtILHlCQUF5QiwwQkFBMEIsT0FBTywwQkFBMEIsRUFBRSxnQkFBZ0IsUUFBUSxzU0FBc1MsZUFBZSwySEFBMkgsZ0JBQWdCLG9LQUFvSyxrQkFBa0Isa0tBQWtLLDRDQUE0Qyw2QkFBNkIsZ0JBQWdCLGlMQUFpTCxZQUFZLCtEQUErRCwyQkFBMkIscUJBQXFCLDZNQUE2TSxjQUFjLDBEQUEwRCxPQUFPLHFEQUFxRCxrQkFBa0IscUZBQXFGLG1PQUFtTyw0Q0FBNEMsaUNBQWlDLDJDQUEyQyxLQUFLLElBQUksU0FBUyxvQkFBb0IsU0FBUyx3QkFBd0IsV0FBVyxvRkFBb0YsWUFBWSxrQkFBa0IsZ0JBQWdCLFdBQVcsK0RBQStELGNBQWMsbUpBQW1KLHlPQUF5Tyx5QkFBeUIseUhBQXlILDJCQUEyQixtQkFBbUIsMkJBQTJCLHlDQUF5QyxlQUFlLHNEQUFzRCxnQkFBZ0IsNERBQTRELGdCQUFnQixXQUFXLE9BQU8sNkJBQTZCLHNHQUFzRyw2Q0FBNkMsMkJBQTJCLHFCQUFxQixtSkFBbUoseUVBQXlFLFVBQVUsd0RBQXdELGtCQUFrQiw2SUFBNkksNEVBQTRFLFdBQVcsTUFBTSxtQkFBbUIsVUFBVSxnTEFBZ0wsSUFBSSxTQUFTLG9CQUFvQixlQUFlLHNNQUFzTSxpQkFBaUIsK0VBQStFLDRDQUE0QyxLQUFLLFNBQVMsd0JBQXdCLFdBQVcsZ0hBQWdILGtCQUFrQiw0Q0FBNEMsK0NBQStDLCtCQUErQiw4QkFBOEIseUZBQXlGLDBGQUEwRiw0RUFBNEUsMEVBQTBFLDJDQUEyQyxRQUFRLFNBQVMsMEJBQTBCLGdCQUFnQiwyQkFBMkIsc0JBQXNCLCtEQUErRCw0QkFBNEIsdUdBQXVHLHdDQUF3QyxvQ0FBb0MsR0FBRyx3REFBd0Qsa0RBQWtELG9GQUFvRix5REFBeUQscURBQXFELHdUQUF3VCxVQUFVLDBEQUEwRCx3Q0FBd0MsK0xBQStMLGNBQWMscUdBQXFHLHVDQUF1QyxZQUFZLFFBQVEsZ0VBQWdFLGdCQUFnQixXQUFXLFVBQVUsK0JBQStCLHFCQUFxQixzUkFBc1IsY0FBYywrSUFBK0ksNkNBQTZDLHFDQUFxQyxRQUFRLHFEQUFxRCxrQkFBa0IsR0FBRyw2R0FBNkcsNEVBQTRFLDRKQUE0SixFQUFFLHlHQUF5RyxFQUFFLHNPQUFzTyw0Q0FBNEMsaUNBQWlDLDJDQUEyQyxhQUFhLElBQUksU0FBUyxvQkFBb0IsV0FBVywrREFBK0QsU0FBUyx3QkFBd0IsU0FBUyw2Q0FBNkMsaURBQWlELGlDQUFpQyxJQUFJLHFCQUFxQixtQkFBbUIsWUFBWSxnREFBZ0QsVUFBVSx5REFBeUQsV0FBVyw4QkFBOEIsWUFBWSxrQkFBa0IsZ0JBQWdCLGNBQWMscUdBQXFHLHlYQUF5WCx1TEFBdUwsd0tBQXdLLE1BQU0sK0JBQStCLHNCQUFzQixZQUFZLDhCQUE4Qix5RUFBeUUsOERBQThELE1BQU0sV0FBVyxXQUFXLGdCQUFnQiw0VkFBNFYsYUFBYSxvRkFBb0Ysd0NBQXdDLEdBQUcsY0FBYyx5REFBeUQsd0NBQXdDLEdBQUcsZ0JBQWdCLFVBQVUsY0FBYyxzQkFBc0Isd0JBQXdCLHFGQUFxRix5Q0FBeUMscUJBQXFCLDhFQUE4RSxrQkFBa0Isd0NBQXdDLGNBQWMsbUhBQW1ILGdCQUFnQiwrSUFBK0ksd0dBQXdHLHlEQUF5RCxpQ0FBaUMsV0FBVyxnREFBZ0QseUJBQXlCLEVBQUUsMlBBQTJQLGtGQUFrRiw0Q0FBNEMseUZBQXlGLDBIQUEwSCxjQUFjLHdCQUF3Qiw2SEFBNkgsaUVBQWlFLGNBQWMsMkRBQTJELGNBQWMscUVBQXFFLGNBQWMsb0VBQW9FLGNBQWMsNkRBQTZELGNBQWMsd0VBQXdFLGNBQWMsb0VBQW9FLGNBQWMsNkRBQTZELGNBQWMsSUFBSSxjQUFjLHNLQUFzSyxpQ0FBaUMscUJBQXFCLG1QQUFtUCwyTUFBMk0sK0JBQStCLDZCQUE2Qix1REFBdUQsNkxBQTZMLHNCQUFzQix3TkFBd04sdURBQXVELG1CQUFtQixTQUFTLHFDQUFxQyxXQUFXLGtEQUFrRCw2QkFBNkIsMERBQTBELDJCQUEyQixTQUFTLHdCQUF3QixxREFBcUQsMkJBQTJCLFNBQVMsMEJBQTBCLG1EQUFtRCw0Q0FBNEMsU0FBUyxvQkFBb0Isb0RBQW9ELHFDQUFxQyxrQkFBa0IsbUJBQW1CLG1CQUFtQixrQ0FBa0MsbVBBQW1QLFVBQVUsc0JBQXNCLDJFQUEyRSxNQUFNLFNBQVMsMkVBQTJFLG1MQUFtTCw4REFBOEQsSUFBSSxTQUFTLG9CQUFvQixjQUFjLHdDQUF3QyxnREFBZ0QsaVFBQWlRLG1LQUFtSyxhQUFhLCtEQUErRCxjQUFjLG1EQUFtRCx3Q0FBd0MsR0FBRyxXQUFXLCtDQUErQyxZQUFZLGtCQUFrQixnQkFBZ0IsK0JBQStCLEVBQUUsZ0JBQWdCLFdBQVcsd0JBQXdCLHFCQUFxQixtRUFBbUUsT0FBTyxnQkFBZ0IscUJBQXFCLGFBQWEsNkdBQTZHLDhCQUE4QiwyS0FBMkssMkJBQTJCLHVEQUF1RCxJQUFJLFFBQVEsZ0NBQWdDLE9BQU8sK0JBQStCLFFBQVEsZUFBZSw0QkFBNEIscUZBQXFGLFFBQVEsOERBQThELFlBQVksTUFBTSxTQUFTLDZDQUE2QyxXQUFXLGtCQUFrQixTQUFTLDBHQUEwRyxVQUFVLHNFQUFzRSx3Q0FBd0MsNFVBQTRVLFlBQVksUUFBUSwwREFBMEQsZ0JBQWdCLHVDQUF1QyxrQ0FBa0MscUJBQXFCLDZPQUE2TyxFQUFFLG9KQUFvSixFQUFFLHdKQUF3SixFQUFFLGdOQUFnTixFQUFFLHdNQUF3TSxFQUFFLDBHQUEwRyxPQUFPLGdZQUFnWSw0Q0FBNEMsdUJBQXVCLGtEQUFrRCx5QkFBeUIsWUFBWSxtQkFBbUIsU0FBUywrREFBK0QsV0FBVyxjQUFjLFVBQVUsU0FBUyxtTEFBbUwsNkNBQTZDLGlDQUFpQyxrRUFBa0UsZUFBZSxzREFBc0QsZUFBZSx3QkFBd0IsWUFBWSxRQUFRLDRDQUE0QyxnQkFBZ0IscUJBQXFCLHdCQUF3QixrRkFBa0YsV0FBVyxnQ0FBZ0MscUJBQXFCLDhUQUE4VCxTQUFTLDZIQUE2SCxTQUFTLDBYQUEwWCxZQUFZLG1GQUFtRixPQUFPLDhDQUE4Qyw0Q0FBNEMsaUNBQWlDLDJDQUEyQyxJQUFJLFNBQVMsb0JBQW9CLFNBQVMsaUVBQWlFLGtCQUFrQiwwRUFBMEUsWUFBWSxpRUFBaUUsV0FBVyxpQ0FBaUMsTUFBTSxZQUFZLGFBQWEscUNBQXFDLFlBQVksRUFBRSwrREFBK0QsY0FBYyxNQUFNLFlBQVksbURBQW1ELHlEQUF5RCxZQUFZLEVBQUUsZ0JBQWdCLG9CQUFvQixxSUFBcUksbURBQW1ELHdDQUF3QywySkFBMkosdUhBQXVILFFBQVEsK0NBQStDLHdCQUF3Qix1Q0FBdUMsbUNBQW1DLGtCQUFrQix3Q0FBd0Msa0JBQWtCLHdDQUF3QyxnQkFBZ0IsMkRBQTJELE1BQU0sWUFBWSxvQkFBb0IsaUNBQWlDLFlBQVksR0FBRyxLQUFLLGVBQWUsd0VBQXdFLGdCQUFnQixVQUFVLGlCQUFpQiwwQ0FBMEMsMEZBQTBGLFlBQVksZ0RBQWdELElBQUksY0FBYyx1Q0FBdUMsVUFBVSw4QkFBOEIsMkNBQTJDLE1BQU0sc0JBQXNCLGdDQUFnQyx3REFBd0QsR0FBRyxhQUFhLEtBQUssR0FBRyx1RUFBdUUsaUJBQWlCLHVCQUF1QixzSkFBc0osZ0NBQWdDLHlCQUF5QixXQUFXLFdBQVcseUJBQXlCLHdJQUF3SSxFQUFFLG9CQUFvQixVQUFVLE1BQU0sa0JBQWtCLHlEQUF5RCxrQkFBa0IsNEJBQTRCLGlCQUFpQix1RUFBdUUsU0FBUyxJQUFJLG1DQUFtQyw0QkFBNEIsb0xBQW9MLEdBQUcsR0FBRyxTQUFTLGlCQUFpQixrRUFBa0UsWUFBWSxXQUFXLEtBQUssc0NBQXNDLDRDQUE0QyxTQUFTLGlCQUFpQiw0QkFBNEIsNEdBQTRHLGNBQWMsaUZBQWlGLDBDQUEwQyxTQUFTLGNBQWMsZ0JBQWdCLFdBQVcscUNBQXFDLG1DQUFtQywyQkFBMkIsOENBQThDLFdBQVcsdUVBQXVFLGVBQWUsdUJBQXVCLGNBQWMseUJBQXlCLFlBQVksd0NBQXdDLE9BQU8sY0FBYywwQkFBMEIsaUJBQWlCLFdBQVcsd0NBQXdDLG9DQUFvQyxxQkFBcUIsS0FBSyxlQUFlLFlBQVksNEJBQTRCLFlBQVksV0FBVyxvQkFBb0IsWUFBWSxXQUFXLDhDQUE4QyxTQUFTLGlCQUFpQixVQUFVLG1rQkFBbWtCLG1CQUFtQixRQUFRLG1DQUFtQyxHQUFHLG1CQUFtQixRQUFRLGlDQUFpQyxXQUFXLHFCQUFxQixxQkFBcUIsbUJBQW1CLE1BQU0sbUZBQW1GLG1GQUFtRixVQUFVLHlCQUF5QixNQUFNLGdCQUFnQixRQUFRLDZDQUE2Qyw0QkFBNEIsR0FBRyw2RUFBNkUsNEJBQTRCLElBQUksZUFBZSxZQUFZLGlCQUFpQixtQkFBbUIsU0FBUyxpQkFBaUIsaUJBQWlCLFdBQVcsc0NBQXNDLFlBQVkscUJBQXFCLGtGQUFrRiwrSUFBK0ksUUFBUSxnREFBZ0QsaUJBQWlCLDZCQUE2Qix5Q0FBeUMsS0FBSyw4QkFBOEIsd0JBQXdCLHVEQUF1RCw2REFBNkQsU0FBUyxtQkFBbUIsK0NBQStDLDhEQUE4RCxZQUFZLGtDQUFrQywwQkFBMEIseUxBQXlMLGFBQWEsa0RBQWtELGtCQUFrQixtS0FBbUssc0JBQXNCLG1LQUFtSyw0QkFBNEIsMEJBQTBCLCtCQUErQiw2QkFBNkIsb0JBQW9CLHVEQUF1RCxXQUFXLDhDQUE4QyxlQUFlLFlBQVksc0JBQXNCLFlBQVksMEdBQTBHLEVBQUUsWUFBWSx5QkFBeUIsS0FBSyxzRUFBc0UsUUFBUSxtREFBbUQsR0FBRyx1QkFBdUIsb0RBQW9ELG9CQUFvQixNQUFNLFlBQVksbUJBQW1CLHdCQUF3Qiw4QkFBOEIsdURBQXVELFdBQVcsMERBQTBELGtCQUFrQixpQkFBaUIsV0FBVyxNQUFNLFlBQVksbUJBQW1CLGlCQUFpQixpQ0FBaUMsbUJBQW1CLGlDQUFpQyx1QkFBdUIscUNBQXFDLDRCQUE0QixzQ0FBc0MsYUFBYSxvQkFBb0IsK0JBQStCLFlBQVksWUFBWSx5RUFBeUUsa0NBQWtDLFFBQVEsMERBQTBELEtBQUssNEJBQTRCLGFBQWEscUJBQXFCLGtDQUFrQyxlQUFlLFlBQVksd0ZBQXdGLG1DQUFtQywrQkFBK0IsUUFBUSxtREFBbUQsT0FBTyxrQ0FBa0MsaURBQWlELGFBQWEsb0JBQW9CLCtCQUErQixZQUFZLFlBQVksNEhBQTRILDRCQUE0QixhQUFhLHFCQUFxQixrQ0FBa0MsZUFBZSxZQUFZLGlIQUFpSCw4QkFBOEIsa0lBQWtJLFlBQVksS0FBSyxnQkFBZ0IsS0FBSyw2REFBNkQsd0JBQXdCLHlFQUF5RSx3QkFBd0IseUVBQXlFLDZCQUE2Qix3QkFBd0IsbUJBQW1CLHFDQUFxQyxvQ0FBb0MsbUJBQW1CLG9DQUFvQyxtQkFBbUIsd0JBQXdCLGtCQUFrQixxQkFBcUIsa0NBQWtDLDJCQUEyQixtQkFBbUIsMEJBQTBCLHlDQUF5QyxtQkFBbUIsTUFBTSxnQkFBZ0IsbUVBQW1FLHdDQUF3QyxTQUFTLDJCQUEyQiwwQkFBMEIsd0RBQXdELDJCQUEyQixNQUFNLHFCQUFxQiwwQkFBMEIsMENBQTBDLG9DQUFvQywrRkFBK0YsdUJBQXVCLHFCQUFxQixzQkFBc0IscUNBQXFDLGFBQWEsUUFBUSx5REFBeUQsaUJBQWlCLDJCQUEyQix5QkFBeUIsYUFBYSxRQUFRLHlEQUF5RCxpQkFBaUIsK0JBQStCLGlCQUFpQiw4QkFBOEIsNENBQTRDLGlDQUFpQyx5T0FBeU8sVUFBVSxXQUFXLCtEQUErRCx1SEFBdUgsU0FBUyxZQUFZLFdBQVcsS0FBSyxpQkFBaUIsdUtBQXVLLGtCQUFrQixTQUFTLEtBQUsseUtBQXlLLHNDQUFzQyxrQkFBa0IsU0FBUyw4SUFBOEksa0NBQWtDLGtCQUFrQixTQUFTLFNBQVMsZ0dBQWdHLHlDQUF5Qyx3SkFBd0osK0xBQStMLDZDQUE2QyxvTUFBb00sa0JBQWtCLDJEQUEyRCxVQUFVLGVBQWUsTUFBTSxxQkFBcUIsd0ZBQXdGLGVBQWUsaURBQWlELGlCQUFpQix1Q0FBdUMsb0JBQW9CLHVDQUF1Qyx5QkFBeUIsaUJBQWlCLGVBQWUsaUJBQWlCLE1BQU0sbURBQW1ELGlEQUFpRCxTQUFTLGtCQUFrQixnSUFBZ0ksY0FBYyxrQkFBa0IsK0hBQStILFVBQVUsb0JBQW9CLGlEQUFpRCxZQUFZLDhCQUE4QixNQUFNLEtBQUssMEVBQTBFLGNBQWMsa0JBQWtCLFdBQVcsZ0JBQWdCLE1BQU0sVUFBVSw0UEFBNFAsaURBQWlELHFJQUFxSSxjQUFjLGtCQUFrQixPQUFPLHlWQUF5Vix5RkFBeUYsVUFBVSx1QkFBdUIsc0NBQXNDLHlCQUF5QixhQUFhLDZEQUE2RCw2QkFBNkIsa0VBQWtFLDJDQUEyQyxpREFBaUQsa0JBQWtCLG1CQUFtQix1Q0FBdUMsb0NBQW9DLDhCQUE4QixRQUFRLGFBQWEsWUFBWSx3REFBd0QsUUFBUSxZQUFZLDZDQUE2QyxLQUFLLE9BQU8sRUFBRSw4QkFBOEIsc0RBQXNELDJDQUEyQyxnQ0FBZ0MsaURBQWlELFlBQVksd0JBQXdCLDhDQUE4QyxZQUFZLHFEQUFxRCxxRkFBcUYsNEJBQTRCLHdFQUF3RSwwQkFBMEIsd0dBQXdHLE1BQU0sd0JBQXdCLDJDQUEyQywwQkFBMEIsK0JBQStCLHdDQUF3Qyx5RkFBeUYsaUJBQWlCLFlBQVksSUFBSSxLQUFLLGlCQUFpQixzQ0FBc0MsbUJBQW1CLG9CQUFvQixvRkFBb0YsYUFBYSxTQUFTLDZGQUE2RixnUkFBZ1IsbUNBQW1DLG1FQUFtRSwrQkFBK0IsU0FBUywyTEFBMkwscUNBQXFDLDJWQUEyVix5RUFBeUUsd0NBQXdDLEVBQUUsK0RBQStELHFEQUFxRCxxY0FBcWMsbUJBQW1CLGlLQUFpSyxpREFBaUQsbUJBQW1CLG1CQUFtQix3SkFBd0osU0FBUywwQkFBMEIsS0FBSyxzQkFBc0IsWUFBWSxnQkFBZ0Isc0JBQXNCLGNBQWMsTUFBTSw0QkFBNEIseUZBQXlGLHlCQUF5QixhQUFhLHFFQUFxRSxTQUFTLGVBQWUsbURBQW1ELDhCQUE4QixZQUFZLFdBQVcsd0ZBQXdGLG9HQUFvRyxrQkFBa0IsaUJBQWlCLFFBQVEsaURBQWlELFlBQVksSUFBSSxLQUFLLHdEQUF3RCxnQkFBZ0IsOEJBQThCLDBIQUEwSCwyREFBMkQsUUFBUSw0RUFBNEUsd0JBQXdCLHlGQUF5RixXQUFXLDhCQUE4QixrQkFBa0IsMkNBQTJDLG1GQUFtRiw2RUFBNkUsTUFBTSxrQkFBa0IsY0FBYyw0REFBNEQsaURBQWlELHNJQUFzSSxtTEFBbUwsU0FBUyw4QkFBOEIsdUNBQXVDLHFEQUFxRCx1QkFBdUIsa0NBQWtDLHdDQUF3QyxzREFBc0QsWUFBWSxXQUFXLDJDQUEyQyx5Q0FBeUMsMkJBQTJCLFNBQVMsaUNBQWlDLHlCQUF5Qix5QkFBeUIsK0NBQStDLDhDQUE4QyxvREFBb0QsbUVBQW1FLGVBQWUsUUFBUSwyUEFBMlAscUJBQXFCLDRFQUE0RSxzQkFBc0IsdUVBQXVFLG9CQUFvQix1QkFBdUIseUNBQXlDLG1CQUFtQiwwREFBMEQsdURBQXVELG1CQUFtQiw2REFBNkQsa0JBQWtCLCtEQUErRCxtQkFBbUIseURBQXlELFNBQVMscUJBQXFCLHlGQUF5RixXQUFXLHVDQUF1QyxTQUFTLDRCQUE0Qiw0RkFBNEYsV0FBVyxtREFBbUQsU0FBUyx3QkFBd0IseURBQXlELFNBQVMsY0FBYywrRUFBK0UsU0FBUyx1QkFBdUIsdUdBQXVHLFNBQVMsZUFBZSx3RUFBd0UsT0FBTyxzQ0FBc0MscUJBQXFCLDZCQUE2QiwwQkFBMEIseUJBQXlCLDJDQUEyQyxnQ0FBZ0MsdUJBQXVCLE1BQU0sa0NBQWtDLGlGQUFpRiw4Q0FBOEMsdUJBQXVCLGlDQUFpQyw4QkFBOEIsU0FBUyx1QkFBdUIsMEhBQTBILGtCQUFrQix3QkFBd0IsOEVBQThFLDZEQUE2RCw4RUFBOEUsd0JBQXdCLDhDQUE4Qyx1Q0FBdUMsdUpBQXVKLDJDQUEyQyxvSUFBb0ksVUFBVSx5RkFBeUYsa0JBQWtCLGlMQUFpTCxXQUFXLE1BQU0sd0VBQXdFLG9EQUFvRCxXQUFXLDZCQUE2QixnR0FBZ0csOEdBQThHLFNBQVMsd1lBQXdZLHFDQUFxQyxNQUFNLG9EQUFvRCxHQUFHLFFBQVEsaUVBQWlFLEdBQUcsYUFBYSw4RUFBOEUsR0FBRyw0REFBNEQsNEpBQTRKLE1BQU0sbUZBQW1GLDZIQUE2SCxtQkFBbUIsTUFBTSxpUkFBaVIsZ0VBQWdFLDJJQUEySSw2QkFBNkIsOEJBQThCLE1BQU0sMk5BQTJOLDBSQUEwUiwyQ0FBMkMsZ0VBQWdFLGlIQUFpSCxrQkFBa0IsTUFBTSxTQUFTLHFEQUFxRCxXQUFXLGdDQUFnQyxtREFBbUQsOEJBQThCLG9IQUFvSCxHQUFHLDBSQUEwUiwyQkFBMkIsa0VBQWtFLHVDQUF1QyxzQ0FBc0MsSUFBSSxzQ0FBc0Msa0NBQWtDLG9KQUFvSixZQUFZLHNRQUFzUSxhQUFhLE1BQU0sS0FBSyxZQUFZLCtCQUErQixxREFBcUQsNkRBQTZELG1GQUFtRixTQUFTLFdBQVcsOEVBQThFLDJHQUEyRyxhQUFhLGtDQUFrQyxvQ0FBb0MsMEVBQTBFLDBEQUEwRCw0RUFBNEUsa0JBQWtCLHNJQUFzSSxRQUFRLE9BQU8saUNBQWlDLDhCQUE4QixZQUFZLElBQUksS0FBSywrRkFBK0YscURBQXFELGVBQWUsT0FBTyxVQUFVLHNEQUFzRCwwQkFBMEIsbUpBQW1KLHVDQUF1QywyQ0FBMkMsb0JBQW9CLDJCQUEyQiwwREFBMEQsd0ZBQXdGLE1BQU0sZ0JBQWdCLHlKQUF5Siw2R0FBNkcsNENBQTRDLDBCQUEwQixxR0FBcUcsdUNBQXVDLCtCQUErQixpR0FBaUcsa05BQWtOLHNSQUFzUix5REFBeUQsWUFBWSxLQUFLLHdKQUF3Six5RUFBeUUscUpBQXFKLHVHQUF1RywrWUFBK1ksMkJBQTJCLG9DQUFvQyxxREFBcUQsWUFBWSxtQkFBbUIsMklBQTJJLG9DQUFvQyxtSEFBbUgsTUFBTSx1REFBdUQscUJBQXFCLEtBQUssS0FBSyxhQUFhLHFEQUFxRCxxQ0FBcUMsc0JBQXNCLHVEQUF1RCx3REFBd0QsdURBQXVELHNGQUFzRixtQkFBbUIsK0JBQStCLE1BQU0sOERBQThELGtIQUFrSCw4QkFBOEIsMElBQTBJLGtHQUFrRywyQkFBMkIsb09BQW9PLHFFQUFxRSwySEFBMkgsVUFBVSxrRUFBa0UsMkJBQTJCLFNBQVMsa0VBQWtFLG9EQUFvRCx5QkFBeUIsNkJBQTZCLGdDQUFnQyxrQ0FBa0MsOE1BQThNLGtCQUFrQixhQUFhLHVCQUF1QiwwQkFBMEIsd0VBQXdFLDJIQUEySCxpSUFBaUksOElBQThJLDBCQUEwQixXQUFXLGtCQUFrQix1QkFBdUIscUdBQXFHLDZCQUE2QixnUUFBZ1EsNFpBQTRaLGtIQUFrSCxrQkFBa0IsWUFBWSxNQUFNLDBDQUEwQyxRQUFRLFlBQVksMkJBQTJCLEtBQUssa0NBQWtDLHNFQUFzRSxHQUFHLHdCQUF3Qiw4Q0FBOEMsOEtBQThLLGdDQUFnQyxtQkFBbUIsc0NBQXNDLDBCQUEwQiwrR0FBK0cseURBQXlELHVIQUF1SCw0Q0FBNEMsOENBQThDLCtDQUErQywrRUFBK0UsTUFBTSxtQkFBbUIseVRBQXlULDZEQUE2RCw2QkFBNkIsTUFBTSxvQ0FBb0MsaUNBQWlDLE1BQU0sZ0NBQWdDLDhIQUE4SCxpTUFBaU0sMENBQTBDLDBMQUEwTCxneEJBQWd4Qix1REFBdUQsNktBQTZLLG9CQUFvQiw2RkFBNkYsa0JBQWtCLCtDQUErQyxrQkFBa0Isb0VBQW9FLGlCQUFpQixtRUFBbUUsMkVBQTJFLFdBQVcsZ0JBQWdCLHVCQUF1QixxSkFBcUosaUlBQWlJLGVBQWUscUNBQXFDLDZDQUE2QyxpREFBaUQsNENBQTRDLFdBQVcsU0FBUyxlQUFlLHVNQUF1TSx1QkFBdUIsNkJBQTZCLDBCQUEwQixLQUFLLGdDQUFnQyxpSEFBaUgsMkZBQTJGLGdDQUFnQyxFQUFFLGtDQUFrQyx1SEFBdUgsV0FBVyxTQUFTLDZCQUE2Qiw2SUFBNkksU0FBUyxrQkFBa0IseUJBQXlCLGdDQUFnQywyQkFBMkIsdUNBQXVDLEtBQUssK0JBQStCLEVBQUUseUZBQXlGLDZFQUE2RSxvS0FBb0ssOEJBQThCLCtCQUErQixlQUFlLFVBQVUsZ0RBQWdELHdCQUF3QixTQUFTLG1CQUFtQiw0Q0FBNEMseUJBQXlCLFlBQVksV0FBVyxLQUFLLHlCQUF5Qix5R0FBeUcsK0RBQStELElBQUksMEJBQTBCLDZEQUE2RCxRQUFRLCtHQUErRyxtQkFBbUIsa0dBQWtHLFlBQVksV0FBVyxLQUFLLGlCQUFpQiwwQkFBMEIsMkNBQTJDLGVBQWUsdUNBQXVDLCtGQUErRixnREFBZ0QsU0FBUyxTQUFTLGNBQWMsdUJBQXVCLFdBQVcsOEJBQThCLFNBQVMsY0FBYyxlQUFlLHlCQUF5QixhQUFhLGtCQUFrQixxQ0FBcUMsc0NBQXNDLDZCQUE2QixrQkFBa0IsYUFBYSwrREFBK0QsbUJBQW1CLFlBQVksaUJBQWlCLG9FQUFvRSxzRkFBc0YsaUZBQWlGLFlBQVksMkJBQTJCLDJDQUEyQyw4RUFBOEUsRUFBRSw2Q0FBNkMsNkJBQTZCLHdCQUF3Qiw2Q0FBNkMsYUFBYSw2REFBNkQsTUFBTSxxQ0FBcUMsMENBQTBDLFlBQVksMkJBQTJCLEtBQUssaUNBQWlDLGlFQUFpRSw0RUFBNEUsdUZBQXVGLDhCQUE4QixtSUFBbUksc0JBQXNCLFNBQVMsNkJBQTZCLHdCQUF3QixxR0FBcUcsVUFBVSxTQUFTLGNBQWMsb0JBQW9CLHdGQUF3RixrQkFBa0IsOEJBQThCLCtDQUErQyxTQUFTLFdBQVcsc0NBQXNDLGtCQUFrQix1QkFBdUIsMktBQTJLLHlDQUF5QyxxQkFBcUIsV0FBVyxlQUFlLFNBQVMsR0FBRyxxRUFBcUUsZ1lBQWdZLCtCQUErQixLQUFLLHNEQUFzRCwyQkFBMkIsa0JBQWtCLEVBQUUsK1hBQStYLDhGQUE4RixzQkFBc0IsMkJBQTJCLDRCQUE0QiwrTkFBK04sYUFBYSxpRUFBaUUsNkNBQTZDLGtEQUFrRCxVQUFVLHdGQUF3RixnREFBZ0QsMENBQTBDLElBQUksdUJBQXVCLCtEQUErRCxtQ0FBbUMsb0RBQW9ELHdCQUF3QiwwQ0FBMEMsSUFBSSxjQUFjLEVBQUUscUNBQXFDLGlCQUFpQixHQUFHLGtFQUFrRSw4REFBOEQsMEVBQTBFLG1DQUFtQyx3RUFBd0UsSUFBSSxlQUFlLEVBQUUscUNBQXFDLGlCQUFpQix3Q0FBd0Msa0RBQWtELElBQUksWUFBWSxxQ0FBcUMsaUJBQWlCLHNCQUFzQix1QkFBdUIsZUFBZSw4SEFBOEgsV0FBVyx5Q0FBeUMseUVBQXlFLHdEQUF3RCxZQUFZLEVBQUUsdUtBQXVLLG1DQUFtQyw0Q0FBNEMsMkJBQTJCLGdFQUFnRSxPQUFPLFNBQVMsK0ZBQStGLG1WQUFtVixpQkFBaUIseUNBQXlDLDJCQUEyQix3REFBd0QsaUJBQWlCLDhGQUE4Rix3QkFBd0IsOFFBQThRLHVCQUF1Qix1SUFBdUksZUFBZSxvQ0FBb0MsVUFBVSwrQ0FBK0MseUdBQXlHLHlCQUF5Qix5R0FBeUcseUJBQXlCLEdBQUcsYUFBYSxVQUFVLGNBQWMsd0NBQXdDLGtCQUFrQixNQUFNLDRFQUE0RSx5QkFBeUIsaUJBQWlCLEVBQUUsc0JBQXNCLFFBQVEsRUFBRSxRQUFRLEVBQUUsaUJBQWlCLFFBQVEsNERBQTRELFlBQVksUUFBUSxTQUFTLGlEQUFpRCxxQ0FBcUMsNkRBQTZELDhEQUE4RCw2TkFBNk4saUJBQWlCLElBQUksSUFBSSxrQkFBa0IsaUNBQWlDLGFBQWEsc0JBQXNCLG1JQUFtSSxFQUFFLDhCQUE4QixLQUFLLGlDQUFpQyxLQUFLLE9BQU8sU0FBUywyQkFBMkIsc0RBQXNELCtFQUErRSxzQ0FBc0Msb0JBQW9CLFdBQVcsa0JBQWtCLHdCQUF3QiwwQ0FBMEMsU0FBUyxpQkFBaUIsb0RBQW9ELGdEQUFnRCxxRkFBcUYseUVBQXlFLFVBQVUsWUFBWSxxRkFBcUYsaUJBQWlCLGtDQUFrQyxlQUFlLDhEQUE4RCxVQUFVLHdCQUF3QixzQkFBc0Isa0JBQWtCLDRFQUE0RSxvREFBb0QscUNBQXFDLGdDQUFnQyxzRUFBc0Usb0NBQW9DLDRFQUE0RSw4RkFBOEYsV0FBVyxtQ0FBbUMsOEJBQThCLHVCQUF1Qiw0QkFBNEIsd0JBQXdCLCtEQUErRCxxQ0FBcUMsZ0JBQWdCLHlCQUF5QixNQUFNLDBCQUEwQixlQUFlLDBDQUEwQyxxQ0FBcUMsa0JBQWtCLDhCQUE4QixzREFBc0Qsd0VBQXdFLElBQUksd09BQXdPLGlCQUFpQixJQUFJLCtCQUErQix5Q0FBeUMsYUFBYSwyR0FBMkcseUJBQXlCLHlCQUF5QiwwQ0FBMEMsNkNBQTZDLEdBQUcsZ0JBQWdCLHVDQUF1Qyx1QkFBdUIsd0JBQXdCLDJCQUEyQix5QkFBeUIsWUFBWSw2REFBNkQscUNBQXFDLHNCQUFzQixlQUFlLDZCQUE2QixFQUFFLFNBQVMsSUFBSSxvQ0FBb0MsNkJBQTZCLEVBQUUsOEJBQThCLHFDQUFxQyw0QkFBNEIsaUNBQWlDLGtDQUFrQyx1Q0FBdUMsOEJBQThCLG1DQUFtQyxnQ0FBZ0MscUNBQXFDLGdDQUFnQyxxQ0FBcUMsd0NBQXdDLDZDQUE2Qyw4QkFBOEIsbUNBQW1DLDBCQUEwQiwrQkFBK0Isd0NBQXdDLDZDQUE2QyxFQUFFLFVBQVUsTUFBTSxtQkFBbUIsTUFBTSxnQkFBZ0IsUUFBUSx1REFBdUQsb0lBQW9JLG1EQUFtRCwyQkFBMkIsMEJBQTBCLFdBQVcsZ0NBQWdDLDhCQUE4QixtQ0FBbUMsYUFBYSxHQUFHLGdCQUFnQix5QkFBeUIsb0NBQW9DLGtEQUFrRCx1Q0FBdUMsa0JBQWtCLFFBQVEsc0RBQXNELGtCQUFrQixvQ0FBb0Msa0JBQWtCLFlBQVksV0FBVyw0Q0FBNEMsZ0NBQWdDLDhCQUE4QixZQUFZLFdBQVcseUVBQXlFLGdDQUFnQyx1RUFBdUUsa0NBQWtDLG9DQUFvQyxRQUFRLFdBQVcsOEhBQThILDRJQUE0SSx1Q0FBdUMsMERBQTBELDBEQUEwRCxnTkFBZ04sNENBQTRDLEdBQUcsNk9BQTZPLDRDQUE0QyxJQUFJLGFBQWEsZ0NBQWdDLGtDQUFrQywrQkFBK0IsR0FBRyxnQkFBZ0IsU0FBUyxvREFBb0QsNkJBQTZCLEdBQUcsU0FBUyxxREFBcUQsMEJBQTBCLDBDQUEwQyxnREFBZ0QsaUNBQWlDLElBQUksc0JBQXNCLDhGQUE4RixvREFBb0QsY0FBYyw0S0FBNEssaUJBQWlCLG9DQUFvQyxZQUFZLHFDQUFxQyxlQUFlLHFLQUFxSyxzQkFBc0IsMkxBQTJMLGlCQUFpQixJQUFJLGFBQWEseURBQXlELGtCQUFrQixFQUFFLDRHQUE0RywrR0FBK0csMEJBQTBCLElBQUksZ0hBQWdILEVBQUUsbUJBQW1CLHdFQUF3RSxxQ0FBcUMsK0JBQStCLDRFQUE0RSxJQUFJLFlBQVksa0ZBQWtGLDJGQUEyRixnR0FBZ0csZ0JBQWdCLG9CQUFvQiwwQkFBMEIseURBQXlELGlIQUFpSCxFQUFFLG1DQUFtQyxFQUFFLG1CQUFtQixzR0FBc0csRUFBRSxtREFBbUQsaUNBQWlDLDhHQUE4RyxzRUFBc0UsMkNBQTJDLDRKQUE0SiwwQkFBMEIsbUVBQW1FLGFBQWEsZ0NBQWdDLHdCQUF3QixjQUFjLFdBQVcsd0NBQXdDLGdDQUFnQywwQkFBMEIsU0FBUyxpQkFBaUIsRUFBRSxvQkFBb0IsYUFBYSx1RkFBdUYsRUFBRSxpQ0FBaUMsTUFBTSxzQkFBc0IsaURBQWlELHlCQUF5QixNQUFNLHVGQUF1RixTQUFTLDRDQUE0QyxFQUFFLEtBQUssY0FBYyxXQUFXLHdFQUF3RSxPQUFPLE1BQU0sMkVBQTJFLG9EQUFvRCxnRkFBZ0YsRUFBRSxrQ0FBa0MsdUVBQXVFLHFDQUFxQywyREFBMkQsK0JBQStCLDBJQUEwSSxnRkFBZ0YsZUFBZSx3SEFBd0gsRUFBRSw2REFBNkQsZ0JBQWdCLCtCQUErQix3QkFBd0Isb0RBQW9ELGlFQUFpRSxFQUFFLHlIQUF5SCxlQUFlLG9CQUFvQix3QkFBd0IscUVBQXFFLEVBQUUsK0RBQStELHNEQUFzRCwrQkFBK0Isc1JBQXNSLFlBQVksdUJBQXVCLFlBQVkseUJBQXlCLGdCQUFnQixrRUFBa0UsVUFBVSx5QkFBeUIsb0JBQW9CLHlCQUF5Qix3SkFBd0osRUFBRSxzRUFBc0Usa0JBQWtCLEVBQUUsb0JBQW9CLHlCQUF5QixNQUFNLDRIQUE0SCxLQUFLLFlBQVksaUJBQWlCLG1EQUFtRCx3REFBd0QsRUFBRSxpRUFBaUUsYUFBYSx5QkFBeUIsOEJBQThCLDRCQUE0QixFQUFFLG9CQUFvQix5QkFBeUIsb0lBQW9JLEVBQUUsK0RBQStELHVCQUF1Qix5QkFBeUIsbUNBQW1DLG1EQUFtRCxFQUFFLDBDQUEwQywyQkFBMkIsRUFBRSxvQkFBb0IseUJBQXlCLGtMQUFrTCxFQUFFLCtEQUErRCxzQkFBc0IseUJBQXlCLGdDQUFnQyxxQkFBcUIsb0JBQW9CLHFEQUFxRCxzRUFBc0UsRUFBRSx5Q0FBeUMsZUFBZSwrSEFBK0gsOElBQThJLG9HQUFvRyxpQ0FBaUMsOENBQThDLHdCQUF3QixvQkFBb0IscUNBQXFDLHNFQUFzRSxFQUFFLHlDQUF5QyxtREFBbUQsOElBQThJLHlLQUF5SyxpQ0FBaUMsaURBQWlELG1CQUFtQixvQkFBb0IscURBQXFELE1BQU0sdUxBQXVMLCtHQUErRyx5REFBeUQsRUFBRSwwQ0FBMEMsZ0JBQWdCLGlCQUFpQixxQkFBcUIsOENBQThDLFlBQVksV0FBVyxtQ0FBbUMsMENBQTBDLGtDQUFrQyx1QkFBdUIsa2VBQWtlLGtCQUFrQixnQkFBZ0IsNkJBQTZCLHFDQUFxQyxnTEFBZ0wsbUNBQW1DLHVEQUF1RCxNQUFNLCtCQUErQixLQUFLLEtBQUssdUJBQXVCLFNBQVMsT0FBTyxrQkFBa0IsYUFBYSxtQ0FBbUMsaURBQWlELFdBQVcsK0JBQStCLEtBQUssS0FBSyx1QkFBdUIsNkJBQTZCLEtBQUssS0FBSyxxQkFBcUIseUJBQXlCLG1CQUFtQix1QkFBdUIsYUFBYSwwQ0FBMEMsU0FBUyw2QkFBNkIsNkZBQTZGLFdBQVcsZ0JBQWdCLG9IQUFvSCx5QkFBeUIsd0JBQXdCLGdFQUFnRSxFQUFFLCtFQUErRSxpQkFBaUIsV0FBVyx3Q0FBd0MsdUNBQXVDLHlCQUF5QixtQkFBbUIsc0RBQXNELG1DQUFtQyw2Q0FBNkMsOEhBQThILHNEQUFzRCxVQUFVLGtDQUFrQyx1REFBdUQsV0FBVyxrQkFBa0IsNElBQTRJLGtCQUFrQiw2QkFBNkIsZ0JBQWdCLDJCQUEyQixNQUFNLGtDQUFrQyxtQ0FBbUMscUNBQXFDLEdBQUcsNkJBQTZCLG1DQUFtQywwRUFBMEUsb0dBQW9HLEdBQUcsU0FBUyxzTUFBc00seUJBQXlCLDJGQUEyRixpQ0FBaUMsU0FBUyxxQ0FBcUMsU0FBUyxxQkFBcUIsZ0VBQWdFLEVBQUUsaUhBQWlILDZCQUE2QixrQkFBa0IsV0FBVyw2QkFBNkIsZUFBZSxFQUFFLG9CQUFvQiw4QkFBOEIsU0FBUyxtQ0FBbUMsS0FBSyxNQUFNLGFBQWEsdUNBQXVDLHFCQUFxQixFQUFFLDBEQUEwRCxhQUFhLDhFQUE4RSx1QkFBdUIsaUJBQWlCLHlCQUF5QixLQUFLLGtCQUFrQiw4TEFBOEwsVUFBVSw4QkFBOEIsMEJBQTBCLHdEQUF3RCxTQUFTLEdBQUcsd0RBQXdELDBGQUEwRixNQUFNLCtCQUErQiw2SEFBNkgsbUNBQW1DLG1DQUFtQyx1Q0FBdUMsV0FBVyxFQUFFLHVCQUF1QixPQUFPLDJEQUEyRCxjQUFjLDZDQUE2QyxzQkFBc0IsdUNBQXVDLFdBQVcsRUFBRSx3QkFBd0Isd0JBQXdCLDZEQUE2RCx1REFBdUQsSUFBSSxTQUFTLG9DQUFvQyxVQUFVLDZHQUE2RyxhQUFhLDJCQUEyQixvQ0FBb0MsbUNBQW1DLCtCQUErQix1Q0FBdUMsV0FBVyxFQUFFLHVCQUF1QixPQUFPLHdCQUF3Qiw0QkFBNEIsNEJBQTRCLFFBQVEsd0VBQXdFLDBCQUEwQix1REFBdUQscUlBQXFJLCtGQUErRixvQkFBb0IsZ0NBQWdDLGlJQUFpSSx1Q0FBdUMsV0FBVyxFQUFFLHdCQUF3QixzQkFBc0IsNkJBQTZCLHdCQUF3QixrREFBa0QsMEJBQTBCLDZCQUE2Qix3QkFBd0IsMENBQTBDLHNCQUFzQixFQUFFLHVFQUF1RSxzREFBc0QsTUFBTSxVQUFVLHVNQUF1TSxtRUFBbUUsa0hBQWtILCtGQUErRixnQkFBZ0IsaUNBQWlDLGlDQUFpQyxpQkFBaUIsaUNBQWlDLHdDQUF3QyxpQkFBaUIsd0RBQXdELGtCQUFrQixtRUFBbUUsMEJBQTBCLG1DQUFtQyw4QkFBOEIsd0JBQXdCLCtCQUErQixjQUFjLFdBQVcsNEJBQTRCLHdCQUF3Qiw4QkFBOEIsaUJBQWlCLHFDQUFxQyxlQUFlLDhKQUE4SixvRkFBb0YsUUFBUSx5dUJBQXl1Qix3QkFBd0IsdUVBQXVFLDBGQUEwRiwwQkFBMEIsa0ZBQWtGLGlCQUFpQiwyRUFBMkUsWUFBWSxvREFBb0QsNEVBQTRFLGlCQUFpQix5Q0FBeUMsbUJBQW1CLDBCQUEwQixtQkFBbUIsa0NBQWtDLHdCQUF3Qiw4RkFBOEYsb0JBQW9CLFdBQVcseUlBQXlJLHdCQUF3QixpQ0FBaUMseUZBQXlGLEVBQUUsbUNBQW1DLGNBQWMsMkJBQTJCLGtCQUFrQiwrQkFBK0Isa0JBQWtCLCtCQUErQixxQkFBcUIsMENBQTBDLFVBQVUsa0hBQWtILDZCQUE2QixhQUFhLGdDQUFnQyxTQUFTLGdFQUFnRSw2UUFBNlEsMkJBQTJCLHdCQUF3QixhQUFhLDZFQUE2RSxtQ0FBbUMscUNBQXFDLHNCQUFzQiw2SEFBNkgsMEJBQTBCLDBCQUEwQiwwQkFBMEIsOEJBQThCLGdDQUFnQyxtQkFBbUIsNkdBQTZHLDJCQUEyQiwwQ0FBMEMscUJBQXFCLHlGQUF5RixtQ0FBbUMsaUNBQWlDLDZCQUE2QixvQ0FBb0Msc0JBQXNCLDJCQUEyQiwwQkFBMEIsK0JBQStCLHlCQUF5Qix5QkFBeUIsNkJBQTZCLDZCQUE2QixzQ0FBc0MsMEJBQTBCLDhCQUE4Qiw0RUFBNEUsNENBQTRDLGtCQUFrQiwyQ0FBMkMsK0JBQStCLGlEQUFpRCxtQ0FBbUMsaUhBQWlILDZDQUE2Qyx1Q0FBdUMsc0VBQXNFLGNBQWMsWUFBWSwrQ0FBK0MsOERBQThELHNFQUFzRSw0REFBNEQsMkRBQTJELDZEQUE2RCxXQUFXLGdDQUFnQywySEFBMkgsa0RBQWtELHVDQUF1QyxnRkFBZ0YsY0FBYyxZQUFZLG9EQUFvRCxpRUFBaUUsaUVBQWlFLGdFQUFnRSw2REFBNkQsV0FBVyw4REFBOEQsMkNBQTJDLHdDQUF3QyxvREFBb0QscUNBQXFDLCtCQUErQiw0REFBNEQseUZBQXlGLDBDQUEwQyw0QkFBNEIsMkJBQTJCLGdFQUFnRSwrQkFBK0IsZ0NBQWdDLDJCQUEyQix1Q0FBdUMseUJBQXlCLDZMQUE2TCxtRkFBbUYsb0NBQW9DLG1FQUFtRSxnREFBZ0QsZ0RBQWdELG9DQUFvQyw4REFBOEQsaUNBQWlDLHFFQUFxRSxpQ0FBaUMscUVBQXFFLGlDQUFpQyx5REFBeUQsaUNBQWlDLG9DQUFvQyxnQ0FBZ0MsMEJBQTBCLCtCQUErQix1Q0FBdUMsMEJBQTBCLGtCQUFrQixxREFBcUQsa0JBQWtCLG1CQUFtQixnQ0FBZ0MsbURBQW1ELDRDQUE0QyxZQUFZLGdDQUFnQyxtQ0FBbUMsNkJBQTZCLGtGQUFrRixvQkFBb0IsOEJBQThCLDRCQUE0Qix1Q0FBdUMsK0RBQStELHFDQUFxQyxhQUFhLDZCQUE2QixlQUFlLGlDQUFpQyxhQUFhLDJEQUEyRCxpQ0FBaUMsMENBQTBDLGtDQUFrQyx1QkFBdUIsOEJBQThCLCtEQUErRCw2Q0FBNkMsa0RBQWtELG9DQUFvQyw0QkFBNEIsc0JBQXNCLHlDQUF5Qyx5QkFBeUIsK0NBQStDLDZCQUE2Qix5Q0FBeUMsNkJBQTZCLG9DQUFvQyxxQkFBcUIsd0JBQXdCLDRDQUE0QyxnREFBZ0QsMkRBQTJELGlDQUFpQywwQ0FBMEMsNENBQTRDLHVCQUF1QixnQ0FBZ0MsZ0NBQWdDLGdDQUFnQyxnQ0FBZ0MsK0JBQStCLG1DQUFtQyw4QkFBOEIsaUNBQWlDLHVCQUF1Qiw4QkFBOEIsK0RBQStELDZDQUE2QyxrREFBa0Qsb0NBQW9DLDRCQUE0QixzQkFBc0IseUNBQXlDLHlCQUF5QiwrQ0FBK0MsNkJBQTZCLHlDQUF5QywyR0FBMkcsa0NBQWtDLGtEQUFrRCxpRUFBaUUsbUJBQW1CLDZCQUE2Qix3QkFBd0Isc0NBQXNDLHFDQUFxQyx3QkFBd0IsY0FBYyxvQkFBb0IsMENBQTBDLG9EQUFvRCxvQ0FBb0MsTUFBTSxzQ0FBc0MsMENBQTBDLDJDQUEyQyxxREFBcUQsNEJBQTRCLDhEQUE4RCxjQUFjLDZEQUE2RCxnRUFBZ0UscURBQXFELG1EQUFtRCw0QkFBNEIsK0NBQStDLGNBQWMsNkJBQTZCLHVEQUF1RCxrQ0FBa0MsNkJBQTZCLDRDQUE0QyxVQUFVLFNBQVMsT0FBTyxZQUFZLGtFQUFrRSw4Q0FBOEMsNERBQTRELHlCQUF5QixzQ0FBc0MseUNBQXlDLDJDQUEyQyx3QkFBd0Isa0RBQWtELHlGQUF5RiwwQ0FBMEMsMENBQTBDLGdDQUFnQyx5RUFBeUUsbUVBQW1FLHNDQUFzQyx1QkFBdUIsWUFBWSw4Q0FBOEMsZ0JBQWdCLGtDQUFrQywyQkFBMkIsNkhBQTZILDJEQUEyRCxvREFBb0QsMEJBQTBCLHFDQUFxQyxnRUFBZ0UsbUNBQW1DLHlCQUF5QiwwQkFBMEIsV0FBVywyREFBMkQsOEJBQThCLHdGQUF3RixrR0FBa0csbURBQW1ELDBDQUEwQyxpQ0FBaUMsc0RBQXNELG9DQUFvQywwQkFBMEIsdUNBQXVDLGdEQUFnRCxvQ0FBb0MsNkRBQTZELDRDQUE0QywwRkFBMEYsNkRBQTZELDZDQUE2Qyw4REFBOEQsa0VBQWtFLGtFQUFrRSxpQ0FBaUMseUpBQXlKLGtIQUFrSCx1REFBdUQsZ0RBQWdELHlHQUF5RywrSkFBK0osUUFBUSxvQ0FBb0Msd0JBQXdCLGFBQWEsdUJBQXVCLGlGQUFpRiwyQ0FBMkMsb0RBQW9ELFdBQVcsd0JBQXdCLHNCQUFzQixhQUFhLHFDQUFxQyw0Q0FBNEMsV0FBVyxxREFBcUQsNEJBQTRCLDRCQUE0Qiw0QkFBNEIsdUJBQXVCLG9CQUFvQix3QkFBd0IsMEJBQTBCLHFCQUFxQixxQkFBcUIsYUFBYSxpQ0FBaUMsMkVBQTJFLG1DQUFtQyxtQ0FBbUMsOEVBQThFLG9DQUFvQyx3Q0FBd0MsaUZBQWlGLDJDQUEyQyxvREFBb0QsV0FBVyx5QkFBeUIsOEJBQThCLDhCQUE4QixpQ0FBaUMsaUNBQWlDLHdCQUF3Qix3QkFBd0IscUNBQXFDLHFCQUFxQixxQkFBcUIscUJBQXFCLGFBQWEscUNBQXFDLHlIQUF5SCx5SEFBeUgsNENBQTRDLFdBQVcsa0NBQWtDLDJCQUEyQiw2VUFBNlUsbVhBQW1YLHFDQUFxQyxrQ0FBa0MsZ0RBQWdELG9FQUFvRSwySEFBMkgsc0VBQXNFLHFFQUFxRSwwREFBMEQsb0RBQW9ELFdBQVcsdUpBQXVKLDZCQUE2Qix3Q0FBd0MsZ0RBQWdELHFCQUFxQix1REFBdUQsOEJBQThCLDhCQUE4QiwyQkFBMkIsdUJBQXVCLGdDQUFnQyxzQkFBc0IsOEJBQThCLDJCQUEyQixvWkFBb1osbUVBQW1FLHlGQUF5RixvRUFBb0UsbUVBQW1FLGtFQUFrRSxtRUFBbUUsc0NBQXNDLHNDQUFzQyxzQ0FBc0Msc0NBQXNDLG1DQUFtQyxrQ0FBa0MsNkRBQTZELG9CQUFvQixXQUFXLG9KQUFvSix5RUFBeUUsc0tBQXNLLGtFQUFrRSxpRUFBaUUsV0FBVyx5QkFBeUIsbUVBQW1FLCtDQUErQyxXQUFXLGlCQUFpQixzWUFBc1ksb0NBQW9DLGtCQUFrQixxQkFBcUIseUVBQXlFLHdGQUF3RixpRkFBaUYsb0ZBQW9GLHlEQUF5RCxpRkFBaUYsa0lBQWtJLGtFQUFrRSx5QkFBeUIsb0NBQW9DLDZDQUE2QywwQ0FBMEMsc0RBQXNELHFCQUFxQiwrREFBK0QsbUVBQW1FLCtFQUErRSx1Q0FBdUMsbUlBQW1JLHFCQUFxQiwrQ0FBK0MsNEJBQTRCLGdDQUFnQyx3SEFBd0gsaUVBQWlFLDJEQUEyRCw2Q0FBNkMsNENBQTRDLDBCQUEwQiw2QkFBNkIsU0FBUywwREFBMEQsYUFBYSwwQkFBMEIsTUFBTSxrRUFBa0UseUlBQXlJLDJDQUEyQyxvRUFBb0Usd0JBQXdCLHVEQUF1RCxrQ0FBa0Msd0VBQXdFLCtDQUErQyx1REFBdUQsV0FBVyxpQ0FBaUMsd0JBQXdCLHdCQUF3QixzQkFBc0IsYUFBYSxzQ0FBc0MsK0NBQStDLHVCQUF1QixpR0FBaUcsK0ZBQStGLCtDQUErQyxtQ0FBbUMsa0NBQWtDLHFEQUFxRCw0REFBNEQsV0FBVyx5QkFBeUIsOEJBQThCLHdCQUF3QiwwQkFBMEIscUJBQXFCLHVEQUF1RCw4QkFBOEIsOEJBQThCLDJCQUEyQix1QkFBdUIsZ0NBQWdDLHNCQUFzQixpQ0FBaUMsZ0lBQWdJLDBEQUEwRCxxSkFBcUosK0RBQStELDZCQUE2Qiw4Q0FBOEMsOEJBQThCLFNBQVMseUVBQXlFLDZGQUE2RixpRkFBaUYsaUVBQWlFLHlEQUF5RCxvRUFBb0UsNEhBQTRILDZEQUE2RCxzREFBc0QsMkNBQTJDLDBDQUEwQyxXQUFXLGdEQUFnRCwrQkFBK0Isd0JBQXdCLG1CQUFtQixhQUFhLG1DQUFtQywrQ0FBK0MsNkJBQTZCLG9EQUFvRCxXQUFXLHdCQUF3QixtQkFBbUIsYUFBYSw0QkFBNEIscUJBQXFCLDJDQUEyQyx3QkFBd0IsYUFBYSxnQ0FBZ0MsZ0NBQWdDLG1EQUFtRCxnREFBZ0Qsd0JBQXdCLDRCQUE0Qix5QkFBeUIsd0JBQXdCLHVCQUF1Qiw2QkFBNkIseUJBQXlCLHNCQUFzQiw2QkFBNkIsMENBQTBDLHVCQUF1Qix3QkFBd0IsYUFBYSxpR0FBaUcsdURBQXVELHlIQUF5SCwyQkFBMkIscUhBQXFILG9CQUFvQixzQkFBc0IsOENBQThDLHVCQUF1QixrQ0FBa0MsMEJBQTBCLGFBQWEsNkNBQTZDLHFEQUFxRCwyQ0FBMkMsd0RBQXdELGlFQUFpRSx3RUFBd0Usb0NBQW9DLDJCQUEyQix5QkFBeUIsdUJBQXVCLHNCQUFzQiwwQkFBMEIsNkJBQTZCLDBDQUEwQyx1QkFBdUIsdUJBQXVCLGtDQUFrQywwQkFBMEIscUNBQXFDLG9EQUFvRCxvREFBb0QseUJBQXlCLHVCQUF1QixxREFBcUQsdUNBQXVDLGFBQWEsNEJBQTRCLHNCQUFzQiwwQkFBMEIsMEJBQTBCLDJIQUEySCw4Q0FBOEMsMkNBQTJDLHdDQUF3QyxnREFBZ0QseUhBQXlILHlCQUF5QixnQkFBZ0IsMENBQTBDLGdEQUFnRCxzQkFBc0IsK0dBQStHLHdDQUF3Qyw0QkFBNEIsa0JBQWtCLGFBQWEsNkNBQTZDLHlEQUF5RCx3QkFBd0IsdURBQXVELDRCQUE0QixzQkFBc0IsOEJBQThCLGFBQWEseUJBQXlCLGtCQUFrQiw4RkFBOEYsOERBQThELFdBQVcsNkdBQTZHLG1IQUFtSCxpRkFBaUYseUNBQXlDLG9EQUFvRCxXQUFXLHdCQUF3QixzQkFBc0IsbUdBQW1HLG1JQUFtSSw0Q0FBNEMsV0FBVyxzQ0FBc0MsMkdBQTJHLCtJQUErSSx5Q0FBeUMsNkJBQTZCLGlGQUFpRixpREFBaUQsb0RBQW9ELFdBQVcsd0JBQXdCLHNCQUFzQixxQkFBcUIsbUJBQW1CLDJHQUEyRywySUFBMkkscURBQXFELDRDQUE0QyxXQUFXLGlEQUFpRCwwQkFBMEIscUJBQXFCLHFCQUFxQixxQkFBcUIsbUJBQW1CLHNKQUFzSiw2TEFBNkwsa0NBQWtDLGdDQUFnQyxnQ0FBZ0MsaUNBQWlDLHVFQUF1RSxtQ0FBbUMsbUNBQW1DLDBFQUEwRSxvQ0FBb0MseUNBQXlDLHlDQUF5Qyx5Q0FBeUMsaUZBQWlGLGlEQUFpRCxvREFBb0QsV0FBVyx5QkFBeUIscUJBQXFCLGlDQUFpQyxpQ0FBaUMscUJBQXFCLHFCQUFxQixxQkFBcUIscUJBQXFCLG1CQUFtQiw0UEFBNFAsMlNBQTJTLGtDQUFrQyxnQ0FBZ0MsZ0NBQWdDLDBCQUEwQiwwQkFBMEIsd0JBQXdCLHFDQUFxQyxpRUFBaUUsK0RBQStELDBHQUEwRyx3R0FBd0cscURBQXFELDRDQUE0QyxXQUFXLDBDQUEwQyxxQkFBcUIsMEJBQTBCLHFCQUFxQixxQkFBcUIsc0pBQXNKLDZMQUE2TCxrQ0FBa0MsZ0NBQWdDLGdDQUFnQyxpQ0FBaUMsdUVBQXVFLG1DQUFtQyxtQ0FBbUMsMEVBQTBFLG9DQUFvQyx5Q0FBeUMsaUZBQWlGLHlDQUF5QyxvREFBb0QsV0FBVyx5QkFBeUIsaUNBQWlDLGlDQUFpQyxxQkFBcUIscUJBQXFCLHFCQUFxQixxQkFBcUIsNFBBQTRQLDJTQUEyUyxrQ0FBa0MsZ0NBQWdDLGdDQUFnQyw4QkFBOEIsMEJBQTBCLHdCQUF3QixpRUFBaUUsK0RBQStELHFDQUFxQyw4R0FBOEcsNEdBQTRHLDRDQUE0QyxXQUFXLDBDQUEwQywrREFBK0Qsc0NBQXNDLHNCQUFzQixpREFBaUQsa0JBQWtCLDZEQUE2RCxnR0FBZ0csdUJBQXVCLGlGQUFpRixrQkFBa0IsV0FBVyx1REFBdUQsa0NBQWtDLHVCQUF1QixrREFBa0Qsd0JBQXdCLHlCQUF5QixnREFBZ0QsMklBQTJJLDRCQUE0Qiw0Q0FBNEMseUdBQXlHLGdEQUFnRCwwQkFBMEIsaUdBQWlHLHFIQUFxSCxpRkFBaUYsNkJBQTZCLG9EQUFvRCxXQUFXLHlCQUF5QiwwQkFBMEIsNkJBQTZCLG9DQUFvQyxrQ0FBa0MsNkJBQTZCLDRCQUE0QiwrQkFBK0IsOEJBQThCLHVEQUF1RCw4QkFBOEIsOEJBQThCLDJCQUEyQix1QkFBdUIsZ0NBQWdDLHNCQUFzQiw0QkFBNEIsK0JBQStCLHVEQUF1RCw4QkFBOEIsc0NBQXNDLHNDQUFzQyxzQkFBc0IsNkRBQTZELGdHQUFnRyxpREFBaUQsa0JBQWtCLG9KQUFvSixrTEFBa0wsZ0RBQWdELG1DQUFtQywrQkFBK0IsMkhBQTJILDRFQUE0RSw2QkFBNkIscUZBQXFGLG9CQUFvQiw0QkFBNEIsNkVBQTZFLHdCQUF3QixZQUFZLFlBQVksU0FBUyxpRUFBaUUseUJBQXlCLGdIQUFnSCwrRkFBK0Ysc0JBQXNCLG1DQUFtQyxzQkFBc0IsdUZBQXVGLFFBQVEsb0ZBQW9GLHdEQUF3RCxxSEFBcUgsNkRBQTZELHlFQUF5RSxrREFBa0QseUVBQXlFLGdEQUFnRCxzQkFBc0Isd0VBQXdFLDhCQUE4QiwyQ0FBMkMsb0JBQW9CLHdEQUF3RCwrRkFBK0YscUJBQXFCLCtJQUErSSxpRUFBaUUsOEJBQThCLHlDQUF5Qyx3QkFBd0IsMkdBQTJHLDJDQUEyQyxnRUFBZ0Usa0RBQWtELDBEQUEwRCxxSEFBcUgscUhBQXFILG1CQUFtQiw4REFBOEQsZ0RBQWdELG1HQUFtRyxrSEFBa0gsd0JBQXdCLGtEQUFrRCxXQUFXLG1EQUFtRCxxQkFBcUIsMEJBQTBCLHlDQUF5QyxrQkFBa0IsK0JBQStCLHFCQUFxQix3QkFBd0IsbVNBQW1TLHNWQUFzVixrQ0FBa0MsZ0NBQWdDLGdDQUFnQyxpQ0FBaUMsdUVBQXVFLG1DQUFtQyxtQ0FBbUMsMEVBQTBFLG9DQUFvQyx5Q0FBeUMsK0JBQStCLDBDQUEwQyx3QkFBd0IseUJBQXlCLGdEQUFnRCwySUFBMkksNEJBQTRCLCtGQUErRixnREFBZ0Qsa0NBQWtDLHlGQUF5RixpQ0FBaUMsb0RBQW9ELFdBQVcseUJBQXlCLGlDQUFpQyxpQ0FBaUMsOEJBQThCLHFCQUFxQixrQ0FBa0MsNkJBQTZCLDBCQUEwQiw2QkFBNkIsb0NBQW9DLCtCQUErQiw4QkFBOEIsdURBQXVELDhCQUE4Qiw4QkFBOEIsMkJBQTJCLHVCQUF1QixnQ0FBZ0Msc0JBQXNCLDRCQUE0QiwrQkFBK0IscUJBQXFCLHdCQUF3Qix5Q0FBeUMsa0JBQWtCLDJTQUEyUyxzVkFBc1Ysa0NBQWtDLGdDQUFnQyxnQ0FBZ0MsMEJBQTBCLDBCQUEwQix3QkFBd0IsdUNBQXVDLHdEQUF3RCwyQ0FBMkMsK0JBQStCLDJIQUEySCxxQ0FBcUMsaUVBQWlFLCtEQUErRCxtQkFBbUIsdUJBQXVCLG9CQUFvQixnQ0FBZ0MsNEJBQTRCLDZFQUE2RSx3QkFBd0IsVUFBVSxPQUFPLFlBQVksaUVBQWlFLHlCQUF5QixnSEFBZ0gsK0ZBQStGLG9CQUFvQiw2QkFBNkIsdUZBQXVGLFFBQVEsb0ZBQW9GLGlFQUFpRSxpSEFBaUgsMkRBQTJELHlFQUF5RSxnREFBZ0QsNEVBQTRFLHdHQUF3RyxzR0FBc0csaUNBQWlDLHdEQUF3RCxvRkFBb0YscUJBQXFCLCtJQUErSSxpRUFBaUUsOEJBQThCLHlDQUF5Qyx3QkFBd0IsMkdBQTJHLDJDQUEyQyxnRUFBZ0Usa0RBQWtELDBEQUEwRCxxSEFBcUgsOEdBQThHLHNCQUFzQix3Q0FBd0MsV0FBVyw0REFBNEQsb0NBQW9DLG1CQUFtQix5QkFBeUIscUJBQXFCLHNCQUFzQixnQ0FBZ0MseUVBQXlFLGtEQUFrRCxZQUFZLDhCQUE4QixXQUFXLGFBQWEsNkJBQTZCLHdEQUF3RCwrQ0FBK0MsdURBQXVELCtDQUErQyw0QkFBNEIsOENBQThDLHVEQUF1RCw4Q0FBOEMsc0RBQXNELHdFQUF3RSwwRUFBMEUsb0dBQW9HLDRFQUE0RSxvREFBb0QsV0FBVyx5QkFBeUIseUJBQXlCLHFCQUFxQiw2QkFBNkIsbUJBQW1CLGFBQWEscUNBQXFDLG1DQUFtQyw4Q0FBOEMsNENBQTRDLDJDQUEyQyxtQkFBbUIsd0JBQXdCLHFCQUFxQixzQkFBc0IseUJBQXlCLHNCQUFzQixhQUFhLG9DQUFvQyxnQ0FBZ0MsMEZBQTBGLGlEQUFpRCx5RkFBeUYsMEJBQTBCLDJCQUEyQixnQ0FBZ0Msc0JBQXNCLHNHQUFzRyw4QkFBOEIscUVBQXFFLHNEQUFzRCwrRkFBK0YsMERBQTBELHVGQUF1Riw0REFBNEQsV0FBVyx5QkFBeUIscUJBQXFCLDZCQUE2QixtQkFBbUIsYUFBYSxxQ0FBcUMsMkJBQTJCLDRDQUE0QyxXQUFXLG9EQUFvRCx3Q0FBd0MsaUNBQWlDLHNCQUFzQixzQkFBc0IsNEJBQTRCLHdCQUF3QiwwREFBMEQsb0JBQW9CLHFCQUFxQixxQkFBcUIscUJBQXFCLDBFQUEwRSx1Q0FBdUMsNEJBQTRCLHlCQUF5Qix5Q0FBeUMsK1FBQStRLGlVQUFpVSwwREFBMEQsOEVBQThFLDZFQUE2RSxrREFBa0QsNkNBQTZDLDhEQUE4RCx1REFBdUQsMkVBQTJFLGdHQUFnRyw4QkFBOEIsb0VBQW9FLHdCQUF3Qix3Q0FBd0Msc0NBQXNDLHVEQUF1RCw0QkFBNEIsNkRBQTZELDBCQUEwQix5RkFBeUYsb0ZBQW9GLFNBQVMsOEZBQThGLHFGQUFxRixrQkFBa0IsNkNBQTZDLDJHQUEyRyx5Q0FBeUMscUNBQXFDLG9FQUFvRSx5RUFBeUUsTUFBTSx1Q0FBdUMseUVBQXlFLFdBQVcsaURBQWlELG9EQUFvRCxXQUFXLG9FQUFvRSxzQkFBc0IsdUdBQXVHLCtEQUErRCxnQ0FBZ0Msb0NBQW9DLCtCQUErQix3Q0FBd0Msc0JBQXNCLHNCQUFzQiw0QkFBNEIsd0JBQXdCLGtEQUFrRCw2QkFBNkIscUJBQXFCLHFCQUFxQixvRUFBb0UsNFpBQTRaLDJkQUEyZCwrQkFBK0Isd0NBQXdDLGlDQUFpQyx5Q0FBeUMsMEJBQTBCLGdCQUFnQixzQkFBc0IsMEJBQTBCLG1CQUFtQiwyREFBMkQsbUdBQW1HLGlEQUFpRCxnQ0FBZ0MsMkJBQTJCLDRFQUE0RSwwRUFBMEUsd0ZBQXdGLG1GQUFtRixtR0FBbUcsaUZBQWlGLDJCQUEyQiwwR0FBMEcsZ0NBQWdDLHFDQUFxQyxtQ0FBbUMsMkVBQTJFLCtDQUErQyx1RkFBdUYsdURBQXVELHlFQUF5RSwwQkFBMEIsd0JBQXdCLDRFQUE0RSxzRUFBc0UsMEJBQTBCLHdCQUF3Qiw0RkFBNEYsMEZBQTBGLHNDQUFzQywwQ0FBMEMsV0FBVywyREFBMkQsdUJBQXVCLHFCQUFxQiw2QkFBNkIsMEJBQTBCLHNCQUFzQixzQkFBc0IsMEJBQTBCLDRCQUE0QixzQkFBc0Isb1NBQW9TLHVWQUF1VixrQ0FBa0MsZ0NBQWdDLGdDQUFnQyw4QkFBOEIsMEJBQTBCLHdCQUF3QixpRUFBaUUsK0RBQStELG9GQUFvRixrRkFBa0Ysd0NBQXdDLHdDQUF3Qyx1Q0FBdUMsMERBQTBELDhFQUE4RSx5REFBeUQseURBQXlELDJCQUEyQiw4QkFBOEIsa0dBQWtHLGtHQUFrRyx5RUFBeUUseUVBQXlFLDZDQUE2QyxvREFBb0QsV0FBVyw0REFBNEQsc0JBQXNCLDRCQUE0QixzQkFBc0IsK0JBQStCLG9DQUFvQyx3Q0FBd0Msc0JBQXNCLHNCQUFzQiwwQkFBMEIsNEJBQTRCLHNCQUFzQix1ZEFBdWQsd2lCQUF3aUIsK0JBQStCLHdDQUF3QyxpQ0FBaUMseUNBQXlDLDBCQUEwQixnQkFBZ0Isc0JBQXNCLDBCQUEwQixtQkFBbUIsMkRBQTJELG1HQUFtRyx5Q0FBeUMsZ0NBQWdDLDJCQUEyQixvRUFBb0UsMEVBQTBFLHdGQUF3RixtRkFBbUYsbUdBQW1HLGlGQUFpRiwyQkFBMkIsa0NBQWtDLDRCQUE0QixtQkFBbUIsMENBQTBDLFdBQVcscUNBQXFDLHdCQUF3QiwyQkFBMkIsMkJBQTJCLG9CQUFvQixvQkFBb0IsK0JBQStCLGdDQUFnQyxrQ0FBa0MsZ0NBQWdDLDRCQUE0QixhQUFhLHVDQUF1Qyx1Q0FBdUMscUJBQXFCLGdDQUFnQyxxQkFBcUIsZ0NBQWdDLHVDQUF1QyxtQkFBbUIsbUJBQW1CLGdHQUFnRyw0Q0FBNEMsdUNBQXVDLG9DQUFvQyx5RUFBeUUsMkVBQTJFLDZDQUE2QyxtRUFBbUUsdURBQXVELG9EQUFvRCxXQUFXLHlCQUF5Qix5QkFBeUIsNkJBQTZCLHFDQUFxQyxxQkFBcUIsNkJBQTZCLG9CQUFvQixvQkFBb0IsYUFBYSx1REFBdUQsdUNBQXVDLDRCQUE0QiwyQ0FBMkMsNENBQTRDLFdBQVcsOENBQThDLG1CQUFtQiw2QkFBNkIsMERBQTBELHlGQUF5Riw4Q0FBOEMsb0RBQW9ELFdBQVcsK0JBQStCLDBCQUEwQiw2QkFBNkIsK0JBQStCLCtCQUErQiw4REFBOEQsOEJBQThCLCtDQUErQyx3Q0FBd0MsNkJBQTZCLDJCQUEyQixnREFBZ0QsNkJBQTZCLG1DQUFtQyw0QkFBNEIsc0JBQXNCLGtDQUFrQyw0QkFBNEIsdUJBQXVCLDhCQUE4Qix1QkFBdUIseUJBQXlCLHVEQUF1RCw4QkFBOEIsMkJBQTJCLDhCQUE4QixnQ0FBZ0MsMkJBQTJCLDJCQUEyQiw2QkFBNkIsNkJBQTZCLDBEQUEwRCw0RUFBNEUsOEJBQThCLHlCQUF5QiwwQkFBMEIsc0NBQXNDLGlDQUFpQyw2Q0FBNkMsOENBQThDLFdBQVcsOERBQThELGdEQUFnRCxrRUFBa0Usd0JBQXdCLE1BQU0sYUFBYSx1QkFBdUIsMkRBQTJELDJCQUEyQixlQUFlLGtCQUFrQiwwSEFBMEgsOEVBQThFLGtEQUFrRCxrREFBa0QsNkVBQTZFLHlDQUF5Qyx5QkFBeUIsMERBQTBELHdEQUF3RCw4SkFBOEosc0VBQXNFLHdCQUF3Qiw4Q0FBOEMsZ0NBQWdDLHNCQUFzQiwyQkFBMkIsNkZBQTZGLG1FQUFtRSx3RUFBd0Usc0RBQXNELHdEQUF3RCx3REFBd0QsbUJBQW1CLHVIQUF1SCxzREFBc0QsNkVBQTZFLG1FQUFtRSx5REFBeUQsd0VBQXdFLFlBQVksNkZBQTZGLGdJQUFnSSx5QkFBeUIsMkZBQTJGLHlIQUF5SCxtRkFBbUYscUtBQXFLLHdKQUF3SiwrQ0FBK0MsMklBQTJJLGdDQUFnQyxpREFBaUQsd0VBQXdFLG9HQUFvRyw0REFBNEQsNEJBQTRCLGtDQUFrQyx3Q0FBd0MsdUJBQXVCLHFCQUFxQixxQkFBcUIsaVBBQWlQLG9TQUFvUyxvQkFBb0IsNEJBQTRCLHFCQUFxQiw4QkFBOEIsNkNBQTZDLDJCQUEyQix1REFBdUQsbUNBQW1DLGdCQUFnQixpQkFBaUIsbUVBQW1FLHdDQUF3QywyQ0FBMkMsMkNBQTJDLHVFQUF1RSxnREFBZ0Qsb0RBQW9ELFdBQVcsK0JBQStCLDBCQUEwQiw2QkFBNkIsK0JBQStCLCtCQUErQiw4REFBOEQsOEJBQThCLCtDQUErQyx3Q0FBd0MsNkJBQTZCLDJCQUEyQixzQkFBc0Isa0NBQWtDLDRCQUE0Qix1QkFBdUIsOEJBQThCLDZCQUE2QixtQ0FBbUMsZ0RBQWdELDRCQUE0Qix1QkFBdUIseUJBQXlCLHVEQUF1RCw4QkFBOEIsMkJBQTJCLDhCQUE4QixnQ0FBZ0MsMkJBQTJCLDJCQUEyQiwrQkFBK0IscUJBQXFCLGlQQUFpUCxtUkFBbVIsOEJBQThCLHlCQUF5QiwwQkFBMEIsc0NBQXNDLGlDQUFpQyw4Q0FBOEMsV0FBVyw4REFBOEQsZ0RBQWdELGtFQUFrRSx3QkFBd0IsTUFBTSxhQUFhLHVCQUF1QiwyREFBMkQsMkJBQTJCLGVBQWUsa0JBQWtCLDBIQUEwSCw4RUFBOEUsa0RBQWtELGtEQUFrRCw2RUFBNkUseUNBQXlDLHlCQUF5QiwwREFBMEQsd0RBQXdELDhKQUE4SixzRUFBc0Usd0JBQXdCLDZDQUE2QyxnQ0FBZ0Msc0JBQXNCLDJCQUEyQiw2RkFBNkYsbUVBQW1FLHdFQUF3RSxzREFBc0Qsd0RBQXdELHdEQUF3RCxtQkFBbUIsdUhBQXVILHNEQUFzRCw2RUFBNkUsbUVBQW1FLHlEQUF5RCx3RUFBd0UsWUFBWSxpRUFBaUUsZ0lBQWdJLHlCQUF5QiwyRkFBMkYseUhBQXlILG1GQUFtRixxS0FBcUssd0pBQXdKLDBDQUEwQyxxQ0FBcUMsMklBQTJJLDJEQUEyRCx3RUFBd0UseUZBQXlGLHdCQUF3QixxRkFBcUYsdUdBQXVHLDRCQUE0QixpQ0FBaUMsa0NBQWtDLHdDQUF3QyxxQkFBcUIscUJBQXFCLGlQQUFpUCxzUkFBc1Isc0JBQXNCLHlCQUF5QixzQ0FBc0Msc0RBQXNELG9EQUFvRCxrQkFBa0Isb0JBQW9CLDRDQUE0Qyw0QkFBNEIscUJBQXFCLDBCQUEwQiwyQkFBMkIsdURBQXVELG1DQUFtQyxnQkFBZ0IsaUJBQWlCLG1FQUFtRSx3Q0FBd0MsMkNBQTJDLDJDQUEyQyx1RUFBdUUsZ0RBQWdELG9EQUFvRCxXQUFXLCtCQUErQiwwQkFBMEIsK0JBQStCLCtCQUErQiw4REFBOEQsOEJBQThCLCtDQUErQyx3Q0FBd0MsNkJBQTZCLDJCQUEyQixzQkFBc0Isa0NBQWtDLDRCQUE0Qix1QkFBdUIsOEJBQThCLDZCQUE2QixtQ0FBbUMsZ0RBQWdELDRCQUE0Qix1QkFBdUIseUJBQXlCLDRCQUE0Qix1REFBdUQsOEJBQThCLDJCQUEyQiw4QkFBOEIsZ0NBQWdDLDJCQUEyQiwyQkFBMkIsK0JBQStCLHFCQUFxQixpUEFBaVAsbVJBQW1SLDhCQUE4Qix5QkFBeUIsMEJBQTBCLHNDQUFzQyxzQ0FBc0MsOENBQThDLFdBQVcsOERBQThELGdEQUFnRCxrRUFBa0Usd0JBQXdCLE1BQU0sYUFBYSx1QkFBdUIsMkRBQTJELDJCQUEyQixlQUFlLGtCQUFrQiwwSEFBMEgsOEVBQThFLGtEQUFrRCxrREFBa0QsNkVBQTZFLHlDQUF5Qyx5QkFBeUIsMERBQTBELHdEQUF3RCw4SkFBOEosc0VBQXNFLHdCQUF3QiwyQkFBMkIsZ0NBQWdDLHNCQUFzQiwrREFBK0QsNENBQTRDLDBEQUEwRCx3REFBd0QsbUJBQW1CLHVIQUF1SCxzREFBc0QsNkVBQTZFLG1FQUFtRSx5REFBeUQsd0VBQXdFLFlBQVksdURBQXVELGdJQUFnSSx5QkFBeUIsMkZBQTJGLHlIQUF5SCxtRkFBbUYscUtBQXFLLHdKQUF3SiwwQ0FBMEMsaURBQWlELHdFQUF3RSx5RkFBeUYscUNBQXFDLDJJQUEySSxxQ0FBcUMsZ0NBQWdDLDRGQUE0RixnREFBZ0Qsb0JBQW9CLDBDQUEwQyxpRUFBaUUsZ0NBQWdDLHNCQUFzQix1QkFBdUIsc0NBQXNDLDJHQUEyRyxpRkFBaUYsNkJBQTZCLCtEQUErRCw0REFBNEQsV0FBVyx5QkFBeUIsNkJBQTZCLHFCQUFxQiw2QkFBNkIsb0JBQW9CLDBDQUEwQywrREFBK0QsOEJBQThCLGdDQUFnQyxnQ0FBZ0Msc0JBQXNCLDBDQUEwQyxvQ0FBb0MsYUFBYSw0QkFBNEIseUNBQXlDLDhEQUE4RCxxRkFBcUYsNERBQTRELG9EQUFvRCwwRUFBMEUscUVBQXFFLGlEQUFpRCxpREFBaUQsc0JBQXNCLFdBQVcsd0RBQXdELGdDQUFnQyxhQUFhLGtDQUFrQyx5QkFBeUIscUJBQXFCLDZCQUE2QixzQkFBc0IsYUFBYSx5Q0FBeUMsK0NBQStDLHFDQUFxQyx1Q0FBdUMsbUNBQW1DLDZCQUE2QixzQ0FBc0MsbUNBQW1DLG1FQUFtRSxrRUFBa0UseURBQXlELHdDQUF3QyxvSEFBb0gsNEVBQTRFLGtFQUFrRSxhQUFhLGFBQWEseUJBQXlCLGFBQWEsNEJBQTRCLGdDQUFnQyw2Q0FBNkMsbUVBQW1FLGdGQUFnRiw4Q0FBOEMsaURBQWlELG9EQUFvRCxXQUFXLGlEQUFpRCxvQ0FBb0Msc0NBQXNDLDRCQUE0Qiw2QkFBNkIsc0NBQXNDLGFBQWEsc0VBQXNFLHNEQUFzRCxtRkFBbUYsMkJBQTJCLDhEQUE4RCxtQkFBbUIsb0RBQW9ELFdBQVcsd0RBQXdELG9DQUFvQyxnQ0FBZ0Msa0NBQWtDLGtDQUFrQyxrQ0FBa0Msc0NBQXNDLHNjQUFzYyxxQkFBcUIsMEJBQTBCLHFDQUFxQywwQkFBMEIsdUJBQXVCLCtCQUErQix3RkFBd0YsZ0NBQWdDLGtEQUFrRCxnREFBZ0QsZ0RBQWdELDBCQUEwQixrQ0FBa0Msa0RBQWtELGtDQUFrQyxzSUFBc0ksdURBQXVELGlFQUFpRSw0Q0FBNEMsMkNBQTJDLGNBQWMsa0JBQWtCLE1BQU0sNERBQTRELG9FQUFvRSxvQ0FBb0Msc0VBQXNFLHFDQUFxQyx5QkFBeUIseUJBQXlCLHdDQUF3QyxnRUFBZ0UsMkNBQTJDLGNBQWMsaUJBQWlCLE1BQU0sMkRBQTJELGtEQUFrRCwrQkFBK0IsbUZBQW1GLGtGQUFrRix1REFBdUQsZ0NBQWdDLGlDQUFpQywyQ0FBMkMsbUNBQW1DLG1DQUFtQyx1REFBdUQsdURBQXVELDBFQUEwRSxtQkFBbUIsbUJBQW1CLG1CQUFtQixtQkFBbUIsbUJBQW1CLG1CQUFtQixpQ0FBaUMsZ0RBQWdELGFBQWEsOEJBQThCLHlDQUF5Qyx5QkFBeUIsd0JBQXdCLGdGQUFnRixxQ0FBcUMsNkVBQTZFLDhCQUE4QixpQ0FBaUMseUJBQXlCLDhCQUE4Qiw0RUFBNEUsa0VBQWtFLGFBQWEsd0NBQXdDLG1CQUFtQixtQkFBbUIsZ0RBQWdELHVDQUF1Qyw4Q0FBOEMsb0JBQW9CLCtDQUErQyxnQ0FBZ0MsZ0NBQWdDLGdDQUFnQywrQkFBK0IsbUNBQW1DLHdCQUF3Qix1QkFBdUIsV0FBVyxpRUFBaUUsMkdBQTJHLDRCQUE0Qiw0Q0FBNEMsaUZBQWlGLGdDQUFnQyxxRUFBcUUsdUVBQXVFLHVDQUF1QyxvREFBb0QsMENBQTBDLGlGQUFpRiw2QkFBNkIsK0RBQStELDREQUE0RCxXQUFXLDhCQUE4QixnQ0FBZ0MsNEJBQTRCLDJCQUEyQixnQ0FBZ0MsMkJBQTJCLDJCQUEyQixpREFBaUQsb0JBQW9CLDhCQUE4Qiw4QkFBOEIsZ0NBQWdDLG1DQUFtQywwQkFBMEIsbUNBQW1DLDJFQUEyRSxnQ0FBZ0MseUJBQXlCLDRCQUE0Qiw0QkFBNEIsNEJBQTRCLDRCQUE0QixvQ0FBb0MsOEJBQThCLG9DQUFvQyx1QkFBdUIsYUFBYSxpREFBaUQsYUFBYSx5Q0FBeUMsOEJBQThCLDhCQUE4QiwwQ0FBMEMsNENBQTRDLDhCQUE4Qiw0Q0FBNEMsOEJBQThCLHVDQUF1Qyx3Q0FBd0Msc0JBQXNCLG9CQUFvQix3QkFBd0IsMEVBQTBFLGtEQUFrRCwyQ0FBMkMsb0RBQW9ELHNDQUFzQywrRUFBK0UsaUVBQWlFLDhCQUE4Qiw4QkFBOEIseUNBQXlDLGlDQUFpQyxpREFBaUQsNkNBQTZDLDhGQUE4RixxREFBcUQsbUZBQW1GLFdBQVcsa0RBQWtELG9DQUFvQyxzQ0FBc0MsMkJBQTJCLHFCQUFxQiwyQkFBMkIsMEJBQTBCLCtCQUErQiwwQkFBMEIsNkJBQTZCLDhCQUE4QiwrQkFBK0IsNkJBQTZCLGlDQUFpQyxrQ0FBa0MseUNBQXlDLDZCQUE2Qix1QkFBdUIsNkNBQTZDLDZDQUE2Qyx3REFBd0QsMkJBQTJCLHdCQUF3Qix3REFBd0QsNERBQTRELGlDQUFpQyxhQUFhLG9DQUFvQyx3QkFBd0IsdUVBQXVFLDREQUE0RCxxRkFBcUYsbUNBQW1DLFFBQVEsUUFBUSwwREFBMEQsZ0dBQWdHLG9CQUFvQiwrRUFBK0UsZ0VBQWdFLDhFQUE4RSwwRkFBMEYscUNBQXFDLGdFQUFnRSw4Q0FBOEMsNEJBQTRCLDRDQUE0Qyx3QkFBd0IsNkJBQTZCLDhCQUE4Qiw4QkFBOEIsbUNBQW1DLG9DQUFvQywrQ0FBK0MscUNBQXFDLHFCQUFxQiwrQkFBK0Isa0NBQWtDLDZCQUE2QixzQkFBc0IsMkJBQTJCLHVDQUF1Qyw2Q0FBNkMsa0VBQWtFLGdDQUFnQyx1QkFBdUIsaUlBQWlJLHlCQUF5QiwwQkFBMEIsMkJBQTJCLDZCQUE2Qix1Q0FBdUMsdUNBQXVDLHVDQUF1Qyx1Q0FBdUMsd0RBQXdELHVCQUF1Qiw4Q0FBOEMsd0JBQXdCLHdCQUF3QixvQkFBb0IsMEJBQTBCLDBCQUEwQiwwQkFBMEIsMEJBQTBCLHdCQUF3Qiw2QkFBNkIsaUNBQWlDLGFBQWEsb0dBQW9HLDhHQUE4Ryw2QkFBNkIsSUFBSSxpQkFBaUIsdURBQXVELGlGQUFpRiwwSEFBMEgscUJBQXFCLDRDQUE0QyxpQkFBaUIsK0hBQStILFdBQVcsd0JBQXdCLDRGQUE0RixFQUFFLFlBQVksR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLG1CQUFtQixHQUFHLEVBQUUsR0FBRyxJQUFJLEdBQUcsc0NBQXNDLEVBQUUsUUFBUSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsTUFBTSxHQUFHLHlEQUF5RCwrREFBK0Qsb0RBQW9ELEVBQUUseUJBQXlCLEVBQUUsR0FBRyxjQUFjLEdBQUcsRUFBRSxHQUFHLElBQUksR0FBRyxZQUFZLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxtQkFBbUIsR0FBRyxFQUFFLEdBQUcsSUFBSSxHQUFHLGtEQUFrRCxFQUFFLFFBQVEsR0FBRyxNQUFNLEdBQUcsZUFBZSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsTUFBTSxHQUFHLHVDQUF1QyxFQUFFLFFBQVEsR0FBRyxlQUFlLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxJQUFJLGVBQWUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLE1BQU0sR0FBRyxvREFBb0QsRUFBRSx5QkFBeUIsRUFBRSxHQUFHLGNBQWMsR0FBRyxFQUFFLEdBQUcsSUFBSSxHQUFHLG1CQUFtQixHQUFHLEVBQUUsR0FBRyxJQUFJLEdBQUcsa0RBQWtELEVBQUUsUUFBUSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsTUFBTSxHQUFHLGVBQWUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLE1BQU0sR0FBRyx1Q0FBdUMsRUFBRSxRQUFRLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxlQUFlLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxJQUFJLGVBQWUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLE1BQU0sR0FBRyxZQUFZLHFDQUFxQyxTQUFTLGNBQWMsaU1BQWlNLG9CQUFvQixlQUFlLHFEQUFxRCxZQUFZLGVBQWUsbURBQW1ELHVEQUF1RCxZQUFZLGVBQWUscURBQXFELHdMQUF3TCxNQUFNLG1DQUFtQyw2QkFBNkIsNkJBQTZCLHVCQUF1QixNQUFNLDhDQUE4QyxxVEFBcVQsTUFBTSw0QkFBNEIsWUFBWSxJQUFJLG1DQUFtQyxrRUFBa0UsbUZBQW1GLHdGQUF3RixzQ0FBc0MsVUFBVSw2RkFBNkYsaUJBQWlCLGtEQUFrRCwyR0FBMkcsMkJBQTJCLGlDQUFpQyxhQUFhLG9CQUFvQixrQ0FBa0Msb0ZBQW9GLHFCQUFxQixpSUFBaUksb0VBQW9FLGtGQUFrRiwwQkFBMEIsUUFBUSxpTUFBaU0scUNBQXFDLDBDQUEwQyxNQUFNLGdFQUFnRSwyQkFBMkIsa0VBQWtFLG1CQUFtQixtQ0FBbUMseUJBQXlCLGlHQUFpRyxzQkFBc0Isb0NBQW9DLGVBQWUseUNBQXlDLGVBQWUsOEJBQThCLHlCQUF5Qix5QkFBeUIsaUJBQWlCLGNBQWMsa0VBQWtFLDZDQUE2QyxjQUFjLGdDQUFnQyxZQUFZLE9BQU8seUJBQXlCLDJCQUEyQixTQUFTLHVHQUF1RywrREFBK0QsTUFBTSxnRUFBZ0Usa0NBQWtDLDJGQUEyRiw4QkFBOEIsK0VBQStFLHFGQUFxRixzREFBc0QsY0FBYyxnR0FBZ0csY0FBYyx1Q0FBdUMsc0NBQXNDLDRUQUE0VCxFQUFFLGlCQUFpQiw0SEFBNEgsbUJBQW1CLGNBQWMsb0JBQW9CLHVCQUF1Qix5QkFBeUIsMkJBQTJCLDhDQUE4Qyx5QkFBeUIseURBQXlELDBCQUEwQix1Q0FBdUMsMkJBQTJCLFFBQVEsbUNBQW1DLFVBQVUsZ0NBQWdDLDJCQUEyQix1Q0FBdUMsOEJBQThCLHdCQUF3QiwwQkFBMEIsUUFBUSxhQUFhLHdGQUF3RixZQUFZLHlDQUF5QyxLQUFLLDBEQUEwRCxpQkFBaUIsZUFBZSxvREFBb0QsY0FBYyxXQUFXLEVBQUUsdUJBQXVCLFFBQVEsNkdBQTZHLDBDQUEwQyxnSUFBZ0ksMEVBQTBFLGtCQUFrQixFQUFFLGlCQUFpQixRQUFRLGlCQUFpQiwrQkFBK0IsZUFBZSxTQUFTLDhDQUE4QyxpREFBaUQsdUVBQXVFLGVBQWUsMkJBQTJCLCtCQUErQixlQUFlLG9CQUFvQiwyQ0FBMkMsMkJBQTJCLGlMQUFpTCxjQUFjLCtCQUErQixpQkFBaUIseUJBQXlCLDJLQUEySyxrQkFBa0Isb0NBQW9DLDJFQUEyRSx1Q0FBdUMsU0FBUyxJQUFJLEVBQUUsOEdBQThHLFdBQVcsK0JBQStCLGVBQWUseUJBQXlCLGdFQUFnRSxxQkFBcUIsbUhBQW1ILG9DQUFvQyxtQkFBbUIsOEdBQThHLDZCQUE2QixpQkFBaUIsaURBQWlELGdDQUFnQyx5QkFBeUIsdUVBQXVFLGtDQUFrQywwQ0FBMEMsYUFBYSxJQUFJLGtCQUFrQixJQUFJLE1BQU0sMkdBQTJHLDBCQUEwQixnQkFBZ0IsY0FBYyx3REFBd0QsWUFBWSxNQUFNLGdCQUFnQixNQUFNLFdBQVcsNEJBQTRCLFlBQVksTUFBTSxtQkFBbUIsZUFBZSxlQUFlLHNTQUFzUyxrRkFBa0YsMktBQTJLLGFBQWEsNENBQTRDLHVCQUF1QiwrR0FBK0csb0JBQW9CLG1HQUFtRyxhQUFhLDhKQUE4SixjQUFjLGlCQUFpQixnREFBZ0QsNkJBQTZCLGlKQUFpSixhQUFhLHdEQUF3RCxvQkFBb0IsK0xBQStMLG9DQUFvQyxpRkFBaUYsNFJBQTRSLHNCQUFzQix3QkFBd0IsbUNBQW1DLHVCQUF1Qiw0RkFBNEYsOEJBQThCLGdEQUFnRCx1SEFBdUgsYUFBYSwrSkFBK0oscUJBQXFCLDREQUE0RCxxQkFBcUIsOElBQThJLFdBQVcsbU5BQW1OLFVBQVUsOFJBQThSLFVBQVUsMENBQTBDLG9CQUFvQixnREFBZ0QsZUFBZSwwQkFBMEIsc0JBQXNCLDZCQUE2QixzQkFBc0IscURBQXFELGFBQWEseUJBQXlCLDJCQUEyQixxQkFBcUIsd0JBQXdCLG9EQUFvRCx1REFBdUQsd0xBQXdMLDZDQUE2QyxnQ0FBZ0MsNkRBQTZELEdBQUcsZUFBZSxpR0FBaUcsZ0JBQWdCLGtFQUFrRSwyTEFBMkwsaURBQWlELElBQUksMkNBQTJDLCtCQUErQixxQkFBcUIsZ0JBQWdCLDhCQUE4Qiw4QkFBOEIsa0NBQWtDLGtCQUFrQixhQUFhLG9CQUFvQiw4SEFBOEgsYUFBYSw4REFBOEQsOFFBQThRLFdBQVcseUJBQXlCLGlDQUFpQyx1Q0FBdUMsZUFBZSxxQkFBcUIsaURBQWlELHVCQUF1QixtQ0FBbUMseUNBQXlDLHlEQUF5RCx1Q0FBdUMsSUFBSSxzQkFBc0Isb0NBQW9DLHdDQUF3QywyQ0FBMkMscUdBQXFHLGlDQUFpQyxvQ0FBb0MsMEVBQTBFLG9CQUFvQixFQUFFLHFDQUFxQyxFQUFFLFFBQVEsc0JBQXNCLDhHQUE4Ryw4QkFBOEIsb0NBQW9DLG1DQUFtQyx5QkFBeUIsaUJBQWlCLGlDQUFpQyx3REFBd0QsZUFBZSxHQUFHLHFDQUFxQyx3QkFBd0IsUUFBUSw4Q0FBOEMsbUJBQW1CLCtCQUErQixvQkFBb0IsS0FBSyxlQUFlLHlCQUF5QixvQ0FBb0MsZ0NBQWdDLHdEQUF3RCxpQkFBaUIsMEVBQTBFLDhCQUE4Qiw0QkFBNEIscUJBQXFCLGVBQWUsb0RBQW9ELGVBQWUsSUFBSSwwQkFBMEIsZ0ZBQWdGLCtNQUErTSxFQUFFLE1BQU0sd0ZBQXdGLHNCQUFzQiwyQ0FBMkMsc0RBQXNELDBIQUEwSCxpc0JBQWlzQixxSUFBcUksb0JBQW9CLGlLQUFpSyw2R0FBNkcsK0JBQStCLDBCQUEwQixxQkFBcUIsUUFBUSwyUEFBMlAsc0JBQXNCLDRDQUE0QyxrS0FBa0ssOERBQThELHlCQUF5QixRQUFRLHlHQUF5RyxnQkFBZ0Isd0NBQXdDLDRGQUE0RixrR0FBa0csYUFBYSwyUUFBMlEsaUNBQWlDLGtCQUFrQixLQUFLLDhCQUE4QixrQkFBa0IsOEdBQThHLGtIQUFrSCxpREFBaUQsaUJBQWlCLFVBQVUsbUVBQW1FLEVBQUUsOFlBQThZLG1GQUFtRixxRUFBcUUsbUVBQW1FLE1BQU0sZ0RBQWdELHNFQUFzRSxrQkFBa0IsTUFBTSxZQUFZLGtFQUFrRSxjQUFjLHFCQUFxQix5RUFBeUUsc0NBQXNDLDZUQUE2VCxpSUFBaUksWUFBWSxNQUFNLHlCQUF5QixRQUFRLHFEQUFxRCxnQkFBZ0IsZ0JBQWdCLDZEQUE2RCxrR0FBa0csYUFBYSxpRUFBaUUsOEJBQThCLEtBQUssK0ZBQStGLGtCQUFrQiw4R0FBOEcsMElBQTBJLGlEQUFpRCxNQUFNLE9BQU8sVUFBVSxtRUFBbUUsRUFBRSxvRUFBb0UsNEpBQTRKLEtBQUssd0lBQXdJLGVBQWUsbURBQW1ELDJCQUEyQix3SkFBd0osUUFBUSxrQkFBa0IsNEpBQTRKLGdDQUFnQyxpQkFBaUIsU0FBUyxNQUFNLGtGQUFrRixvQ0FBb0MsY0FBYyxrQkFBa0IsU0FBUyxLQUFLLDhCQUE4Qix5Q0FBeUMsZ0ZBQWdGLGVBQWUsVUFBVSxvSUFBb0ksa0dBQWtHLHdJQUF3SSxjQUFjLHlCQUF5Qix1QkFBdUIsaUJBQWlCLGdCQUFnQixtQkFBbUIsWUFBWSxJQUFJLEtBQUssOEJBQThCLDREQUE0RCxjQUFjLGVBQWUsRUFBRSw2Q0FBNkMsMEJBQTBCLFFBQVEsNkRBQTZELHNDQUFzQyxxQ0FBcUMsZUFBZSxzQ0FBc0MsMERBQTBELHFDQUFxQyxRQUFRLDZDQUE2QyxRQUFRLDRFQUE0RSxHQUFHLHFGQUFxRixrQkFBa0IseUJBQXlCLG1FQUFtRSxvQkFBb0IsWUFBWSxhQUFhLDJEQUEyRCxnQ0FBZ0MseUJBQXlCLGlDQUFpQyxTQUFTLGlDQUFpQywwQ0FBMEMsNlFBQTZRLFVBQVUsbVBBQW1QLHFCQUFxQixlQUFlLEtBQUsscURBQXFELG9DQUFvQyw0QkFBNEIsa0VBQWtFLG1HQUFtRyxtQ0FBbUMseUlBQXlJLHFDQUFxQyxHQUFHLGtDQUFrQyxTQUFTLGdHQUFnRyxLQUFLLE1BQU0saUJBQWlCLDJCQUEyQixLQUFLLGtJQUFrSSxxQ0FBcUMsNENBQTRDLGlDQUFpQyx3Q0FBd0MsdUJBQXVCLDRFQUE0RSxzRUFBc0UsNEJBQTRCLHFDQUFxQyxnQkFBZ0IsV0FBVyxzQ0FBc0MsS0FBSyw4RUFBOEUsNkJBQTZCLEtBQUssSUFBSSxLQUFLLGtDQUFrQyw4R0FBOEcsZ0JBQWdCLGNBQWMsb0JBQW9CLGdCQUFnQiwrQkFBK0IscUJBQXFCLDhCQUE4QixrRUFBa0UsaUZBQWlGLHdDQUF3QyxvQkFBb0IsWUFBWSxXQUFXLEtBQUssNEJBQTRCLCtCQUErQixPQUFPLHVDQUF1Qyw0Q0FBNEMscUJBQXFCLEtBQUssS0FBSyxhQUFhLDBEQUEwRCw2Q0FBNkMsUUFBUSxrQkFBa0Isb0JBQW9CLHlGQUF5RixLQUFLLE1BQU0sS0FBSywwSEFBMEgsdUNBQXVDLCtDQUErQyxtQ0FBbUMsb0NBQW9DLDhCQUE4QiwySUFBMkksZ0VBQWdFLHFCQUFxQix1QkFBdUIsNEdBQTRHLG9DQUFvQyx3REFBd0QsTUFBTSwrREFBK0Qsc0JBQXNCLGlDQUFpQyxNQUFNLDBGQUEwRixtQ0FBbUMsd0JBQXdCLGtDQUFrQyxrQ0FBa0MsVUFBVSwwS0FBMEssK0JBQStCLDRFQUE0RSw0QkFBNEIsc05BQXNOLDhCQUE4QixtREFBbUQseUJBQXlCLDJFQUEyRSxxQ0FBcUMsa0JBQWtCLDBDQUEwQyw2REFBNkQscUJBQXFCLCtLQUErSyxtQkFBbUIsK0JBQStCLHVEQUF1RCxzQkFBc0Isc0dBQXNHLDRIQUE0SCxpQkFBaUIsNkNBQTZDLHFFQUFxRSxZQUFZLG9HQUFvRyxxS0FBcUssMkNBQTJDLGdDQUFnQyx5QkFBeUIsMkJBQTJCLFNBQVMsbUVBQW1FLHlEQUF5RCxnRUFBZ0UsOEZBQThGLGdEQUFnRCx5QkFBeUIsU0FBUyxRQUFRLEVBQUUsdUdBQXVHLGtCQUFrQiwwQ0FBMEMsK0xBQStMLDZCQUE2QixtQ0FBbUMsbUZBQW1GLHdFQUF3RSx1REFBdUQsWUFBWSxXQUFXLEtBQUssaURBQWlELE1BQU0sNERBQTRELGdEQUFnRCxTQUFTLFlBQVksV0FBVyxLQUFLLHdCQUF3Qiw2QkFBNkIscUVBQXFFLG1EQUFtRCwwSEFBMEgsdUZBQXVGLGtDQUFrQyx5Q0FBeUMsa0NBQWtDLDBWQUEwVix3SEFBd0gsWUFBWSw4TEFBOEwsK0RBQStELFlBQVksV0FBVyxLQUFLLGFBQWEsWUFBWSxXQUFXLEtBQUssd0JBQXdCLDZCQUE2QiwwQkFBMEIsOEZBQThGLDZEQUE2RCx3QkFBd0IsdUJBQXVCLE1BQU0sMENBQTBDLGNBQWMseUJBQXlCLDJDQUEyQyxVQUFVLGFBQWEsNENBQTRDLGtTQUFrUyxnQ0FBZ0MsNkJBQTZCLG1CQUFtQiwyQkFBMkIscURBQXFELCtEQUErRCxtQ0FBbUMsbUNBQW1DLE9BQU8sOEJBQThCLHFCQUFxQix3QkFBd0IsK09BQStPLCtDQUErQyxZQUFZLGVBQWUsUUFBUSxnQkFBZ0IsU0FBUyx5QkFBeUIsS0FBSyxtQkFBbUIsZ0NBQWdDLDJDQUEyQyxhQUFhLGtCQUFrQix5Q0FBeUMsb0RBQW9ELGtCQUFrQiwwRUFBMEUsa0JBQWtCLHdCQUF3Qiw4QkFBOEIsMEJBQTBCLDRCQUE0QixlQUFlLG9CQUFvQiw0QkFBNEIsb0JBQW9CLFFBQVEsMENBQTBDLFlBQVksTUFBTSxLQUFLLFlBQVksTUFBTSwrR0FBK0csMEJBQTBCLFNBQVMsR0FBRywrSkFBK0osMkRBQTJELFNBQVMseUJBQXlCLFNBQVMsRUFBRSxFQUFFLGdCQUFnQixFQUFFLG9EQUFvRCxFQUFFLEdBQUcsU0FBUyx5QkFBeUIsYUFBYSwrQkFBK0Isb0JBQW9CLFdBQVcsWUFBWSxXQUFXLEtBQUssd0JBQXdCLHdCQUF3QixpQkFBaUIsU0FBUyxrRUFBa0UsdUJBQXVCLGdDQUFnQyxFQUFFLEtBQUsscU9BQXFPLGlSQUFpUix5REFBeUQsc0VBQXNFLHdDQUF3Qyw0Q0FBNEMsTUFBTSx3RkFBd0YsNkJBQTZCLFlBQVkscUJBQXFCLDhFQUE4RSxxTEFBcUwsd2NBQXdjLHNEQUFzRCxtS0FBbUssa0RBQWtELHVkQUF1ZCxTQUFTLDZCQUE2QixnQ0FBZ0MsNkJBQTZCLHlCQUF5Qiw0QkFBNEIsdURBQXVELDJCQUEyQiw4QkFBOEIsMkJBQTJCLHlCQUF5Qiw0QkFBNEIsdURBQXVELHlCQUF5Qiw0QkFBNEIseUJBQXlCLHlCQUF5Qiw0QkFBNEIsaURBQWlELG9DQUFvQyxhQUFhLDhCQUE4QixxR0FBcUcsOEZBQThGLHVEQUF1RCxPQUFPLEVBQUUsU0FBUyw2Q0FBNkMsSUFBSSx3QkFBd0IsMEJBQTBCLEVBQUUsMktBQTJLLG1CQUFtQiw2TEFBNkwsUUFBUSxtS0FBbUssaURBQWlELG9GQUFvRix1R0FBdUcsbURBQW1ELDRRQUE0USw2UUFBNlEsa0NBQWtDLHFDQUFxQyx5REFBeUQsK0JBQStCLFNBQVMsV0FBVyxzREFBc0QscUJBQXFCLHdDQUF3QyxVQUFVLG1DQUFtQyxrREFBa0QsTUFBTSx1REFBdUQsK0VBQStFLGdDQUFnQyw2Q0FBNkMseUVBQXlFLFNBQVMsNlVBQTZVLE1BQU0sMEpBQTBKLHNDQUFzQyxvRUFBb0UsU0FBUyxRQUFRLFdBQVcscUpBQXFKLGdCQUFnQiw0QkFBNEIsUUFBUSx1SUFBdUksaUJBQWlCLG1EQUFtRCxxQ0FBcUMseUlBQXlJLHNKQUFzSixNQUFNLDBKQUEwSixzQ0FBc0Msb0VBQW9FLFNBQVMsd0JBQXdCLCtEQUErRCwrUUFBK1EsVUFBVSwwQkFBMEIscUZBQXFGLFNBQVMsb0JBQW9CLDhCQUE4QixRQUFRLG1TQUFtUyxpQkFBaUIsMkJBQTJCLHFCQUFxQix5SEFBeUgsZUFBZSw0Q0FBNEMsb0NBQW9DLHlCQUF5QixRQUFRLGdkQUFnZCxVQUFVLGVBQWUsZUFBZSxrQ0FBa0Msa0VBQWtFLDJEQUEyRCx1QkFBdUIsOGtCQUE4a0IsOFRBQThULHVGQUF1Riw0SkFBNEosMEZBQTBGLGtDQUFrQyxnQkFBZ0IsaUNBQWlDLCtDQUErQyxtR0FBbUcsaUJBQWlCLHNMQUFzTCxRQUFRLDBWQUEwVixXQUFXLHVCQUF1QixNQUFNLG1CQUFtQiwyY0FBMmMsNEJBQTRCLHlxQkFBeXFCLFlBQVksa0NBQWtDLG1CQUFtQiw2TkFBNk4sbUJBQW1CLDZEQUE2RCwwQkFBMEIsd1BBQXdQLGNBQWMsMlVBQTJVLG9CQUFvQixvSEFBb0gsdUJBQXVCLDBKQUEwSixhQUFhLGdJQUFnSSxvQkFBb0Isa0NBQWtDLGVBQWUsNlFBQTZRLHNCQUFzQix3RkFBd0YsaUJBQWlCLHNOQUFzTix3QkFBd0Isa0pBQWtKLFlBQVksb2FBQW9hLG1CQUFtQix5VEFBeVQsY0FBYyxzYkFBc2Isa0JBQWtCLCt5QkFBK3lCLGlCQUFpQixxNUJBQXE1Qix5QkFBeUIsaXNCQUFpc0Isa0JBQWtCLDZGQUE2Rix5QkFBeUIsa2hCQUFraEIsK0NBQStDLG9LQUFvSyxzQkFBc0Isc01BQXNNLHFCQUFxQiw4TUFBOE0sbUJBQW1CLDBnQkFBMGdCLHVCQUF1QixvaEJBQW9oQixHQUFHLE9BQU8sMkJBQTJCLDJFQUEyRSxZQUFZLFlBQVksV0FBVyxLQUFLLDZDQUE2QyxlQUFlLGtCQUFrQixRQUFRLHNEQUFzRCx5RUFBeUUsZUFBZSx1QkFBdUIsK0ZBQStGLHFGQUFxRixxQkFBcUIseVRBQXlULHdCQUF3QiwwRUFBMEUsd0JBQXdCLFFBQVEsNkJBQTZCLHlCQUF5QixLQUFLLGdHQUFnRyxxR0FBcUcsc0NBQXNDLDBDQUEwQyxzQkFBc0IsWUFBWSxJQUFJLEtBQUssWUFBWSx5SEFBeUgsU0FBUyxLQUFLLGdHQUFnRyxrQkFBa0IsU0FBUywrSkFBK0osMk9BQTJPLE1BQU0seUJBQXlCLG9CQUFvQix5QkFBeUIsTUFBTSxrQ0FBa0MsaUZBQWlGLHNEQUFzRCxtQ0FBbUMseUdBQXlHLG1IQUFtSCxVQUFVLFlBQVksV0FBVyxLQUFLLHNIQUFzSCxNQUFNLHVXQUF1Vyw4REFBOEQsMkJBQTJCLE1BQU0sbURBQW1ELHFCQUFxQixNQUFNLE1BQU0sa0JBQWtCLFlBQVkseURBQXlELHlGQUF5RixNQUFNLCtCQUErQixxQ0FBcUMsMkZBQTJGLFlBQVksY0FBYywrQ0FBK0Msd0RBQXdELHdCQUF3QixHQUFHLHdCQUF3QixNQUFNLFVBQVUsaUNBQWlDLFlBQVksV0FBVyxLQUFLLGlCQUFpQiw4QkFBOEIsTUFBTSxhQUFhLGlCQUFpQixjQUFjLCtGQUErRix5QkFBeUIsZ0RBQWdELGdEQUFnRCxtQkFBbUIsdUVBQXVFLHFDQUFxQyxvTEFBb0wsU0FBUyxrTkFBa04sUUFBUSxpREFBaUQsbUZBQW1GLGNBQWMsNEJBQTRCLGlGQUFpRixLQUFLLGtCQUFrQixzQ0FBc0MsZUFBZSw4Q0FBOEMsd0JBQXdCLHlEQUF5RCwrSUFBK0ksMkJBQTJCLE1BQU0sOEVBQThFLGlEQUFpRCxnREFBZ0QsbUVBQW1FLE1BQU0sdUVBQXVFLHNIQUFzSCxrWUFBa1ksTUFBTSw0SkFBNEoseUJBQXlCLDZKQUE2Siw2SUFBNkksZ0ZBQWdGLE9BQU8saU1BQWlNLFVBQVUsK0xBQStMLG9CQUFvQixLQUFLLHlCQUF5Qix5QkFBeUIsNkRBQTZELEdBQUcsYUFBYSx1Q0FBdUMsR0FBRyx3Q0FBd0Msa0JBQWtCLGdCQUFnQiw2REFBNkQsa0VBQWtFLGlQQUFpUCx3QkFBd0IseUZBQXlGLCtEQUErRCwrQkFBK0IsK0ZBQStGLGlLQUFpSywyQkFBMkIscUdBQXFHLGNBQWMseUlBQXlJLGtCQUFrQixxQkFBcUIsbUNBQW1DLHVCQUF1QixlQUFlLG9CQUFvQiw4REFBOEQsd0hBQXdILDJCQUEyQixvQkFBb0IsbUdBQW1HLDBDQUEwQyxnSEFBZ0gsTUFBTSwrQkFBK0IsdUhBQXVILHFEQUFxRCx3REFBd0QsMkxBQTJMLDJCQUEyQix1aEJBQXVoQixxSEFBcUgsa0JBQWtCLHNDQUFzQyxzREFBc0QsdUdBQXVHLGNBQWMsa0JBQWtCLGdFQUFnRSxpQkFBaUIsRUFBRSxNQUFNLDZCQUE2Qiw2QkFBNkIsaUJBQWlCLDJDQUEyQyxvQ0FBb0MsdUNBQXVDLHdIQUF3SCwyQkFBMkIsb0JBQW9CLG1HQUFtRywwQ0FBMEMsc1NBQXNTLDBDQUEwQyxXQUFXLHVOQUF1Tix5QkFBeUIsYUFBYSwrQkFBK0IsK0dBQStHLEtBQUssK0JBQStCLDZHQUE2Ryw0UUFBNFEsb0NBQW9DLHlCQUF5Qix3Q0FBd0MsWUFBWSxrQkFBa0IsOEJBQThCLGlEQUFpRCxlQUFlLHNXQUFzVyxVQUFVLHNCQUFzQiwyRkFBMkYscUpBQXFKLFlBQVksSUFBSSxLQUFLLG1DQUFtQyx5QkFBeUIseUJBQXlCLHNFQUFzRSx1R0FBdUcsNkNBQTZDLE9BQU8sNEJBQTRCLHFCQUFxQixLQUFLLHFCQUFxQixRQUFRLHFEQUFxRCxrQ0FBa0MsWUFBWSxXQUFXLEtBQUssZ0RBQWdELE1BQU0sS0FBSyxtRUFBbUUsc0NBQXNDLGtCQUFrQixVQUFVLFFBQVEsS0FBSyxnREFBZ0QsNEJBQTRCLG1GQUFtRiw0RUFBNEUsU0FBUyxxQ0FBcUMsNkdBQTZHLG9DQUFvQyw4SUFBOEksTUFBTSxtRUFBbUUsTUFBTSxtRUFBbUUscUVBQXFFLHNFQUFzRSx5R0FBeUcsOEhBQThILG1CQUFtQix3R0FBd0csbUJBQW1CLDZDQUE2Qyw4RUFBOEUsaUZBQWlGLDREQUE0RCw2Q0FBNkMsOEZBQThGLGdMQUFnTCxnSUFBZ0ksOEhBQThILDRJQUE0SSw2QkFBNkIsMENBQTBDLGNBQWMsVUFBVSxFQUFFLGtCQUFrQiwyQkFBMkIsb0ZBQW9GLHVTQUF1UyxNQUFNLG1KQUFtSiw2SkFBNkoscUJBQXFCLHFDQUFxQyxxQkFBcUIsc0NBQXNDLHlCQUF5Qix5QkFBeUIscUtBQXFLLFFBQVEsNkJBQTZCLDBCQUEwQiw0Q0FBNEMsSUFBSSxXQUFXLElBQUkscUJBQXFCLHNCQUFzQixTQUFTLGVBQWUsaTJCQUFpMkIseUJBQXlCLDhKQUE4SixxSUFBcUksdUNBQXVDLGtVQUFrVSwwQkFBMEIseUNBQXlDLEVBQUUsd0NBQXdDLEdBQUcsU0FBUyxlQUFlLG9DQUFvQyx3R0FBd0csb0NBQW9DLDZMQUE2TCxVQUFVLGlGQUFpRixVQUFVLDJCQUEyQix1Q0FBdUMsNERBQTRELDhEQUE4RCw0Q0FBNEMsa0JBQWtCLHNDQUFzQyx1REFBdUQsd09BQXdPLE1BQU0sZ0RBQWdELHdDQUF3Qyxrd0JBQWt3QiwwQkFBMEIsdUNBQXVDLDJLQUEySywwRUFBMEUsdVBBQXVQLFlBQVksV0FBVyxLQUFLLDZDQUE2QyxzREFBc0Qsa0RBQWtELG1DQUFtQywwSkFBMEosaUlBQWlJLE1BQU0seUJBQXlCLHlCQUF5Qiw0REFBNEQsR0FBRyxhQUFhLHNDQUFzQyxHQUFHLHdDQUF3QyxTQUFTLHlCQUF5QixrQkFBa0IsTUFBTSxrSEFBa0gsc0JBQXNCLHdMQUF3TCwyQkFBMkIscUVBQXFFLHFIQUFxSCxtQkFBbUIsc0NBQXNDLDBEQUEwRCxtQkFBbUIsdUNBQXVDLGVBQWUsMEJBQTBCLHFWQUFxVixhQUFhLG1LQUFtSyxlQUFlLCtGQUErRiw4REFBOEQsMEJBQTBCLEVBQUUsK01BQStNLFlBQVksV0FBVyxLQUFLLGFBQWEscUNBQXFDLHNDQUFzQyxzREFBc0QseUVBQXlFLE9BQU8sYUFBYSx1RkFBdUYsMERBQTBELGlOQUFpTix3Q0FBd0MscUdBQXFHLHdDQUF3QyxhQUFhLG9IQUFvSCx5QkFBeUIsOFBBQThQLGtFQUFrRSxzR0FBc0csUUFBUSx3QkFBd0IsdUNBQXVDLGdFQUFnRSxtREFBbUQsd1lBQXdZLFdBQVcsK0ZBQStGLHdDQUF3QyxzREFBc0Qsa0dBQWtHLG9EQUFvRCxLQUFLLDhDQUE4Qyw0REFBNEQsa0JBQWtCLHFCQUFxQixtQ0FBbUMsdUJBQXVCLGVBQWUsb0JBQW9CLHFGQUFxRixvQkFBb0IsbUdBQW1HLDBDQUEwQyxnREFBZ0QsMEJBQTBCLDhEQUE4RCwwQ0FBMEMseUNBQXlDLDhCQUE4QixVQUFVLHNDQUFzQyxzR0FBc0csTUFBTSwwQkFBMEIsZ0JBQWdCLGtDQUFrQyxVQUFVLHNCQUFzQixvR0FBb0csbUZBQW1GLDhCQUE4Qiw0SEFBNEgsK0hBQStILDhGQUE4RixrUUFBa1EsWUFBWSw4SkFBOEosTUFBTSx3Q0FBd0MsMkJBQTJCLFVBQVUsRUFBRSxTQUFTLHVCQUF1QixzS0FBc0sscUNBQXFDLHNEQUFzRCxVQUFVLElBQUksd0JBQXdCLGdFQUFnRSw4QkFBOEIsd01BQXdNLHFCQUFxQixxR0FBcUcsb0JBQW9CLGdFQUFnRSxrR0FBa0cscUJBQXFCLG9DQUFvQyw4Q0FBOEMsd0NBQXdDLHFGQUFxRixvTkFBb04sTUFBTSxtQ0FBbUMsMENBQTBDLDZCQUE2QixtRUFBbUUsbUxBQW1MLGlDQUFpQyxrQkFBa0IscUJBQXFCLDRGQUE0RixzQ0FBc0MsNEVBQTRFLG9CQUFvQixzRUFBc0UsOEJBQThCLHVDQUF1Qyw0Q0FBNEMsb0JBQW9CLHFLQUFxSyxpRkFBaUYsa0JBQWtCLDRMQUE0TCxrQ0FBa0MsNEtBQTRLLDBCQUEwQiwwREFBMEQsUUFBUSx1Q0FBdUMsd0VBQXdFLHdSQUF3Uiw2RUFBNkUsMk5BQTJOLE1BQU0sTUFBTSxnRUFBZ0UsMkJBQTJCLG1FQUFtRSwrQkFBK0IsOEJBQThCLDRFQUE0RSxnQkFBZ0Isd0ZBQXdGLGdDQUFnQyxpRkFBaUYsMkJBQTJCLG1NQUFtTSxVQUFVLHdJQUF3SSxtQ0FBbUMsa0JBQWtCLDRFQUE0RSxvQkFBb0IsMkVBQTJFLG9CQUFvQixjQUFjLDRCQUE0QixNQUFNLGdFQUFnRSwyQkFBMkIsbUVBQW1FLHFCQUFxQiw0SUFBNEksZ0JBQWdCLDZIQUE2SCx3RkFBd0YseUJBQXlCLGtCQUFrQixPQUFPLDRhQUE0YSxZQUFZLElBQUksZ0dBQWdHLGlFQUFpRSxpRkFBaUYsNlZBQTZWLHNFQUFzRSxnRUFBZ0Usa0ZBQWtGLHdCQUF3Qix5RUFBeUUsMkNBQTJDLDBOQUEwTixzRUFBc0Usd0VBQXdFLCtFQUErRSx5QkFBeUIsK0ZBQStGLHdCQUF3QixzR0FBc0csNEVBQTRFLGtPQUFrTyxhQUFhLHVCQUF1QixZQUFZLFdBQVcsa0JBQWtCLHdCQUF3QixxQ0FBcUMsZ09BQWdPLG9DQUFvQyxvQkFBb0IseUpBQXlKLHNDQUFzQywrR0FBK0csMkpBQTJKLCtIQUErSCxTQUFTLGlCQUFpQiw2REFBNkQsa1FBQWtRLCtDQUErQyxtQkFBbUIsb0VBQW9FLHFEQUFxRCw4Q0FBOEMsc0JBQXNCLGdFQUFnRSxjQUFjLGNBQWMsNEtBQTRLLHNEQUFzRCxzREFBc0Qsb0JBQW9CLGtDQUFrQyxjQUFjLGlHQUFpRyxZQUFZLHlOQUF5TixRQUFRLGtEQUFrRCw2T0FBNk8sbUNBQW1DLG1PQUFtTyxtQ0FBbUMsaU5BQWlOLG1DQUFtQyxvU0FBb1Msb0NBQW9DLDhGQUE4RixvQ0FBb0MsNENBQTRDLGdHQUFnRyxpQkFBaUIsZ0VBQWdFLHdCQUF3Qix5Q0FBeUMscUJBQXFCLDhIQUE4SCwrQkFBK0IsUUFBUSw4SUFBOEksd0JBQXdCLDZGQUE2Riw2SEFBNkgscUNBQXFDLGVBQWUsNEJBQTRCLGtGQUFrRixzUEFBc1AsNEJBQTRCLDRFQUE0RSxHQUFHLGdDQUFnQyxxRkFBcUYsNkNBQTZDLFNBQVMsK0RBQStELEtBQUssTUFBTSxhQUFhLCtCQUErQiw0QkFBNEIsK0hBQStILHdDQUF3Qyw2QkFBNkIsa0JBQWtCLDhFQUE4RSxnRUFBZ0UsOEJBQThCLDZEQUE2RCxxQkFBcUIsbUhBQW1ILG1CQUFtQiwrRUFBK0UsK0NBQStDLDBCQUEwQix5QkFBeUIsZ0NBQWdDLDBCQUEwQixnRUFBZ0Usd0JBQXdCLDBCQUEwQixzQkFBc0IsNkRBQTZELDJCQUEyQiwwSEFBMEgsUUFBUSwrRUFBK0UsV0FBVyxZQUFZLElBQUksOEJBQThCLHVCQUF1QixtREFBbUQsbUNBQW1DLFNBQVMsMkJBQTJCLElBQUkseUJBQXlCLHdCQUF3QixnQ0FBZ0MsWUFBWSxvRkFBb0YsaUZBQWlGLDRCQUE0QixpRUFBaUUsd0VBQXdFLDBEQUEwRCw0QkFBNEIsK0NBQStDLFlBQVksa01BQWtNLG9EQUFvRCxrQkFBa0IsYUFBYSxpQ0FBaUMsVUFBVSxLQUFLLE1BQU0sa0JBQWtCLGFBQWEsdUdBQXVHLDBCQUEwQixZQUFZLFdBQVcsd0NBQXdDLHdCQUF3QixNQUFNLHdQQUF3UCw0QkFBNEIsa0JBQWtCLDBEQUEwRCxtRUFBbUUseUJBQXlCLDJFQUEyRSw2U0FBNlMsd0VBQXdFLGtKQUFrSixxQkFBcUIscUJBQXFCLDZFQUE2RSxzQkFBc0IseUJBQXlCLG1FQUFtRSx3RUFBd0UsdVpBQXVaLDJJQUEySSw0WkFBNFosMFJBQTBSLCtIQUErSCwwQkFBMEIsMkJBQTJCLHFKQUFxSixzTUFBc00sMkJBQTJCLHFCQUFxQiw2RUFBNkUsd0RBQXdELHNEQUFzRCwyQkFBMkIsRUFBRSw2RUFBNkUsY0FBYyxvQkFBb0IsU0FBUyw4Q0FBOEMsb0NBQW9DLG9CQUFvQixTQUFTLDhEQUE4RCxTQUFTLCtDQUErQyxzR0FBc0csd0lBQXdJLFdBQVcsMENBQTBDLGtDQUFrQywrRkFBK0YsbUZBQW1GLHNDQUFzQyw0QkFBNEIsK0hBQStILGdDQUFnQyxtQkFBbUIsNkNBQTZDLG1DQUFtQyxnT0FBZ08scUJBQXFCLDhWQUE4VixrQkFBa0Isa0NBQWtDLG1DQUFtQywyQkFBMkIsNEJBQTRCLDJDQUEyQyx5REFBeUQsK0JBQStCLHlDQUF5Qyx3REFBd0Qsa0ZBQWtGLDZCQUE2QixnREFBZ0QsbUNBQW1DLG1DQUFtQyxlQUFlLGtDQUFrQyxtQ0FBbUMsbUNBQW1DLG1CQUFtQix1QkFBdUIsd0JBQXdCLEdBQUcsa0NBQWtDLDBDQUEwQyw4Q0FBOEMsa0JBQWtCLFdBQVcsa0JBQWtCLGdHQUFnRyxrQ0FBa0MsU0FBUyw4QkFBOEIsa0RBQWtELG1DQUFtQyxRQUFRLHNGQUFzRixTQUFTLDhCQUE4Qix5QkFBeUIsa0ZBQWtGLE1BQU0sa0NBQWtDLGlDQUFpQyw2R0FBNkcsNEJBQTRCLG1CQUFtQixzQ0FBc0MsK0NBQStDLGtCQUFrQiw4QkFBOEIsa0NBQWtDLG9CQUFvQixnQkFBZ0IsNEJBQTRCLHdHQUF3RyxjQUFjLDRCQUE0QiwrRkFBK0YsdUJBQXVCLHdGQUF3Riw2UUFBNlEsa0JBQWtCLDBCQUEwQixpRkFBaUYsMkZBQTJGLHlCQUF5QixzVUFBc1UsZUFBZSx3QkFBd0Isa0lBQWtJLHlCQUF5QiwyUUFBMlEsVUFBVSxtUEFBbVAsa0JBQWtCLDhDQUE4QywwQkFBMEIsd0RBQXdELHVCQUF1QixNQUFNLHdFQUF3RSw0REFBNEQsT0FBTyw2QkFBNkIsUUFBUSx5WUFBeVksd1RBQXdULDZCQUE2QixxQkFBcUIsbUJBQW1CLGlCQUFpQiw2REFBNkQsYUFBYSw0Q0FBNEMsZ0lBQWdJLCtCQUErQixRQUFRLDhEQUE4RCw4QkFBOEIsd0NBQXdDLG1DQUFtQyxtREFBbUQscUJBQXFCLHdEQUF3RCxpQ0FBaUMsYUFBYSxFQUFFLG1GQUFtRixTQUFTLHVCQUF1QiwyQkFBMkIsU0FBUyw2QkFBNkIsZ0tBQWdLLG1EQUFtRCxtQkFBbUIsOFJBQThSLGVBQWUsMEZBQTBGLGdDQUFnQyxVQUFVLDBGQUEwRixRQUFRLHlEQUF5RCxTQUFTLFFBQVEsa0VBQWtFLGlCQUFpQix5QkFBeUIsb0NBQW9DLGlCQUFpQix5QkFBeUIsaURBQWlELGlCQUFpQixzQ0FBc0MsdUJBQXVCLDBCQUEwQiwrQ0FBK0Msd0JBQXdCLDhCQUE4QiwrQkFBK0IsOERBQThELFNBQVMsaUJBQWlCLG9DQUFvQyxlQUFlLHNCQUFzQixnQkFBZ0IsTUFBTSxxRkFBcUYsaUVBQWlFLDBCQUEwQixpQkFBaUIsK0NBQStDLGtMQUFrTCw2REFBNkQscUJBQXFCLG9EQUFvRCxTQUFTLGlCQUFpQixtRUFBbUUsdUJBQXVCLHNCQUFzQixnREFBZ0QsZUFBZSx1Q0FBdUMsd0JBQXdCLGdCQUFnQixNQUFNLDBEQUEwRCxrQkFBa0IseUJBQXlCLG1CQUFtQixnRkFBZ0Ysa0JBQWtCLHNDQUFzQyxRQUFRLHVGQUF1RixxQkFBcUIsaUVBQWlFLFVBQVUsdUNBQXVDLDJCQUEyQixLQUFLLHVDQUF1QywyQkFBMkIsUUFBUSx1Q0FBdUMsd0JBQXdCLHNCQUFzQiw2QkFBNkIsZ0RBQWdELGdDQUFnQyxzQkFBc0Isa0JBQWtCLDZCQUE2Qiw4REFBOEQsc0JBQXNCLG1FQUFtRSxzS0FBc0ssb0NBQW9DLDZCQUE2QixrQ0FBa0MsMEJBQTBCLDZFQUE2RSxpQ0FBaUMsUUFBUSx5REFBeUQsaUJBQWlCLHVFQUF1RSxrTUFBa00sa0NBQWtDLG1GQUFtRixRQUFRLDJHQUEyRyxRQUFRLHFIQUFxSCw4QkFBOEIsdUJBQXVCLHlGQUF5RixzQ0FBc0MsOEJBQThCLGVBQWUsb0hBQW9ILCtCQUErQiwyQkFBMkIsZ0JBQWdCLGVBQWUsOERBQThELHFDQUFxQyxlQUFlLGlCQUFpQixtVUFBbVUsNEJBQTRCLG1CQUFtQixrQ0FBa0MsUUFBUSxxQkFBcUIsU0FBUywyQkFBMkIsNlpBQTZaLGdDQUFnQyw0QkFBNEIsK0JBQStCLHlOQUF5TixRQUFRLHNIQUFzSCxndkJBQWd2QixnQkFBZ0IsdUJBQXVCLGlCQUFpQiw2RkFBNkYsbUJBQW1CLG1HQUFtRywySEFBMkgsZ0JBQWdCLDZEQUE2RCxpQkFBaUIsMkJBQTJCLGlCQUFpQixvREFBb0Qsd0RBQXdELG1DQUFtQyxnRUFBZ0UsNEJBQTRCLDZCQUE2Qix1REFBdUQsZ0JBQWdCLGtDQUFrQyxnQkFBZ0IsRUFBRSxpQ0FBaUMsaUNBQWlDLGNBQWMscUJBQXFCLGVBQWUsc0VBQXNFLGNBQWMscUJBQXFCLGVBQWUsc0VBQXNFLGVBQWUsc0JBQXNCLGdCQUFnQiwwRUFBMEUsZUFBZSxzQkFBc0IsZ0JBQWdCLDBFQUEwRSx3QkFBd0IseUVBQXlFLHlCQUF5Qiw0REFBNEQsZ0JBQWdCLGdDQUFnQyxzQkFBc0IsNkZBQTZGLDJEQUEyRCxxQkFBcUIsc0VBQXNFLDJCQUEyQixxRUFBcUUsbUJBQW1CLGdEQUFnRCxXQUFXLG1EQUFtRCxjQUFjLHNDQUFzQyxlQUFlLGlCQUFpQixlQUFlLCtCQUErQixnQkFBZ0IsdUJBQXVCLE1BQU0sK0xBQStMLDREQUE0RCx1REFBdUQsdURBQXVELFlBQVksK0JBQStCLGFBQWEsMkRBQTJELDJFQUEyRSxhQUFhLDhCQUE4QixXQUFXLGlCQUFpQixXQUFXLGlDQUFpQyxvQ0FBb0MsV0FBVyxrSEFBa0gsdUJBQXVCLDhCQUE4Qix3QkFBd0IsaUZBQWlGLFdBQVcsa0JBQWtCLFlBQVksd0RBQXdELDBIQUEwSCxZQUFZLHlHQUF5Ryx5QkFBeUIsK01BQStNLHdCQUF3QixvS0FBb0ssc0JBQXNCLHdMQUF3TCx5QkFBeUIsNkJBQTZCLGdHQUFnRyxZQUFZLFlBQVksV0FBVyxLQUFLLGlHQUFpRyxlQUFlLGtGQUFrRixnQkFBZ0IscUJBQXFCLGFBQWEsb0JBQW9CLGNBQWMsa1FBQWtRLDJCQUEyQixxREFBcUQsbU9BQW1PLDJDQUEyQyxjQUFjLGlDQUFpQyxlQUFlLDJIQUEySCx5QkFBeUIsbUdBQW1HLE1BQU0sMkRBQTJELG9EQUFvRCx1RUFBdUUsd0JBQXdCLHVCQUF1QixzQ0FBc0MsMEJBQTBCLFNBQVMsb0lBQW9JLGlEQUFpRCw2RUFBNkUsNkRBQTZELHVCQUF1QiwwQkFBMEIsdUNBQXVDLDRLQUE0Syx5QkFBeUIsNEJBQTRCLG1CQUFtQix3RUFBd0Usb0JBQW9CLGdCQUFnQiw0Q0FBNEMsc0JBQXNCLDhIQUE4SCxvREFBb0Qsa0JBQWtCLDBEQUEwRCxxQkFBcUIsc0RBQXNELGtCQUFrQixrQ0FBa0MsMEJBQTBCLGdHQUFnRyxxQkFBcUIsZ0dBQWdHLHFCQUFxQixrQ0FBa0MscUNBQXFDLDJCQUEyQixvVUFBb1UsY0FBYyxPQUFPLCtDQUErQyxTQUFTLGlCQUFpQixnQ0FBZ0MsZ0ZBQWdGLDZDQUE2QywrQ0FBK0MsMjBCQUEyMEIsa1NBQWtTLDBCQUEwQixPQUFPLGNBQWMsUUFBUSx5R0FBeUcsTUFBTSxTQUFTLG1GQUFtRiwwQ0FBMEMsNERBQTRELDhKQUE4SixPQUFPLHNCQUFzQix3QkFBd0IsNENBQTRDLGtEQUFrRCxZQUFZLE1BQU0seUJBQXlCLCtLQUErSyxpS0FBaUssd0ZBQXdGLGdGQUFnRixhQUFhLGlEQUFpRCx3QkFBd0IsdUJBQXVCLGlGQUFpRixvQkFBb0IsWUFBWSxzQ0FBc0MsS0FBSywrQkFBK0IsaUJBQWlCLFdBQVcsRUFBRSw0QkFBNEIscUJBQXFCLE9BQU8sNkJBQTZCLGtCQUFrQixTQUFTLGdDQUFnQyxJQUFJLEtBQUssc0NBQXNDLDBNQUEwTSxzR0FBc0csTUFBTSw0QkFBNEIsbUNBQW1DLCtIQUErSCxRQUFRLDRCQUE0QixJQUFJLHVCQUF1Qix1REFBdUQsZ0JBQWdCLGtHQUFrRyxrREFBa0Qsc0NBQXNDLG1CQUFtQixTQUFTLHdCQUF3QixrQkFBa0IseURBQXlELE1BQU0sd0RBQXdELFlBQVksRUFBRSxrRkFBa0Ysb0RBQW9ELGNBQWMsSUFBSSxxRUFBcUUsWUFBWSxtR0FBbUcsaUJBQWlCLHdCQUF3QixhQUFhLHFCQUFxQixhQUFhLDRCQUE0QixXQUFXLDJHQUEyRyxrRUFBa0UsYUFBYSx3RUFBd0UsWUFBWSxpQ0FBaUMsd0JBQXdCLFFBQVEseUJBQXlCLG1DQUFtQyx1QkFBdUIsNkJBQTZCLE1BQU0sMERBQTBELHFCQUFxQixtQ0FBbUMseURBQXlELGVBQWUsK0ZBQStGLGlCQUFpQiw2Q0FBNkMsbUJBQW1CLGdEQUFnRCxpQkFBaUIsd0RBQXdELG1CQUFtQiwwREFBMEQsd0JBQXdCLHlGQUF5RiwyQ0FBMkMsc0JBQXNCLDBDQUEwQywwQkFBMEIsdUVBQXVFLDhGQUE4RixhQUFhLHlDQUF5QyxvQkFBb0IsUUFBUSxpQ0FBaUMsNEJBQTRCLHNDQUFzQyxpWkFBaVosNkJBQTZCLE1BQU0sY0FBYyxxR0FBcUcsMkhBQTJILDBDQUEwQyx1REFBdUQscUJBQXFCLGtEQUFrRCxzREFBc0QscURBQXFELG9DQUFvQyx3Q0FBd0MsMEJBQTBCLFlBQVksWUFBWSxLQUFLLHNCQUFzQix3REFBd0QscUJBQXFCLDBFQUEwRSx1QkFBdUIsbURBQW1ELHNCQUFzQixvS0FBb0ssc0pBQXNKLGtCQUFrQixNQUFNLGFBQWEsd1NBQXdTLG9GQUFvRixnREFBZ0QsdUhBQXVILHVHQUF1Ryw0Q0FBNEMsOEhBQThILCtCQUErQixnQkFBZ0IsZ0VBQWdFLG9VQUFvVSw0REFBNEQsMkZBQTJGLG9hQUFvYSxlQUFlLHVCQUF1QixnRkFBZ0YsMENBQTBDLFVBQVUsbUJBQW1CLHlFQUF5RSxTQUFTLEdBQUcsMkJBQTJCLEVBQUUsc0VBQXNFLFlBQVksdUVBQXVFLHlCQUF5Qiw0SUFBNEkseUJBQXlCLGVBQWUsc0JBQXNCLGdCQUFnQixxaEJBQXFoQix3QkFBd0Isa0RBQWtELDZCQUE2Qiw0Q0FBNEMsb0JBQW9CLGlMQUFpTCxhQUFhLDhEQUE4RCxNQUFNLDBCQUEwQix5Q0FBeUMsb0JBQW9CLHNFQUFzRSwyRUFBMkUsNEJBQTRCLHFFQUFxRSxvQkFBb0Isa0RBQWtELDJKQUEySixvQ0FBb0Msb0RBQW9ELG9CQUFvQixzQkFBc0IsTUFBTSxRQUFRLHdHQUF3Ryw2SUFBNkkscUJBQXFCLFNBQVMsbUJBQW1CLG9CQUFvQixtQ0FBbUMsb0JBQW9CLDJEQUEyRCx3QkFBd0IsMEJBQTBCLDJLQUEySyxpQ0FBaUMsd0NBQXdDLE1BQU0sMk1BQTJNLG1NQUFtTSwyQkFBMkIsMkJBQTJCLHdCQUF3QiwwQkFBMEIsaVNBQWlTLFFBQVEsZ0hBQWdILHlDQUF5QyxvQkFBb0IsZ0JBQWdCLGlOQUFpTixhQUFhLHNFQUFzRSxzQkFBc0Isb0VBQW9FLGdEQUFnRCxvQkFBb0IsNExBQTRMLDBCQUEwQixRQUFRLFlBQVksZ0JBQWdCLDZGQUE2RiwrSkFBK0oseUZBQXlGLGtJQUFrSSxpTEFBaUwsb0JBQW9CLDhFQUE4RSxvR0FBb0csMkJBQTJCLHlEQUF5RCxnQkFBZ0IsdUJBQXVCLGdEQUFnRCw4SkFBOEosa0VBQWtFLCtTQUErUyxrTUFBa00sOENBQThDLG9CQUFvQiw2Q0FBNkMsOERBQThELDRNQUE0TSxpQkFBaUIsbUNBQW1DLFFBQVEsNENBQTRDLHlLQUF5Syx1QkFBdUIsc0dBQXNHLDZCQUE2Qix5RkFBeUYseUtBQXlLLHNGQUFzRiwwTEFBMEwsZ2NBQWdjLGlHQUFpRywwRkFBMEYsOENBQThDLHlFQUF5RSxnR0FBZ0csd0JBQXdCLHdCQUF3QixnQ0FBZ0Msa0NBQWtDLG1CQUFtQiw0QkFBNEIsd0lBQXdJLHVEQUF1RCxtQkFBbUIsK0hBQStILDBCQUEwQixpTkFBaU4sMEdBQTBHLHFCQUFxQix5SEFBeUgsK0JBQStCLGdHQUFnRyxRQUFRLHFMQUFxTCx5QkFBeUIsd0RBQXdELGtCQUFrQiwyUUFBMlEsb1dBQW9XLHNCQUFzQixtQ0FBbUMsc0JBQXNCLDhEQUE4RCw0QkFBNEIsMkZBQTJGLGtDQUFrQyxzQkFBc0IscUVBQXFFLDZCQUE2QixZQUFZLDBEQUEwRCw0Q0FBNEMsd0NBQXdDLEtBQUssTUFBTSwrQkFBK0IsU0FBUyxrQkFBa0Isa0xBQWtMLHNCQUFzQixzRkFBc0YsMkNBQTJDLCtDQUErQyx5S0FBeUssa0JBQWtCLHFDQUFxQyxtQkFBbUIsMENBQTBDLHdDQUF3QyxVQUFVLG1CQUFtQixrSkFBa0oseUJBQXlCLG1GQUFtRixvQ0FBb0MsaUJBQWlCLG1DQUFtQyxzQkFBc0IsMkJBQTJCLHlCQUF5Qiw0QkFBNEIsZ0NBQWdDLG9GQUFvRix1Q0FBdUMsK0RBQStELHVEQUF1RCx5Q0FBeUMsdUdBQXVHLCtDQUErQyx5QkFBeUIsaUhBQWlILDJFQUEyRSxpQkFBaUIsZ0JBQWdCLGFBQWEseUNBQXlDLDJCQUEyQixTQUFTLGVBQWUsMktBQTJLLFNBQVMsdUhBQXVILFNBQVMsMExBQTBMLGdCQUFnQixrQkFBa0IsZ0JBQWdCLGNBQWMsbUJBQW1CLHVCQUF1QixTQUFTLDREQUE0RCx3QkFBd0Isc0JBQXNCLEVBQUUsR0FBRyxFQUFFLEtBQUssa0JBQWtCLG9CQUFvQixFQUFFLEdBQUcsRUFBRSxPQUFPLFlBQVksRUFBRSxXQUFXLEVBQUUsRUFBRSxrQkFBa0IsK0NBQStDLG1CQUFtQixNQUFNLHdEQUF3RCw4QkFBOEIsNEJBQTRCLG9CQUFvQixnQkFBZ0Isa0JBQWtCLGdCQUFnQiwrQkFBK0Isd0NBQXdDLDBGQUEwRixpQkFBaUIsMkRBQTJELEtBQUssVUFBVSx5QkFBeUIsdUVBQXVFLCtEQUErRCxpQkFBaUIsa05BQWtOLFlBQVksRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEtBQUssRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEVBQUUsdURBQXVELGNBQWMsS0FBSyxVQUFVLHVDQUF1QyxjQUFjLGdDQUFnQyxrQkFBa0IsOEJBQThCLGtCQUFrQiw4QkFBOEIsa0JBQWtCLDZCQUE2QixLQUFLLFNBQVMsZUFBZSwwQkFBMEIsUUFBUSx3QkFBd0IsVUFBVSxxREFBcUQsaUNBQWlDLEdBQUcsc0JBQXNCLCtDQUErQyxLQUFLLDRCQUE0QixZQUFZLGNBQWMsa0VBQWtFLFNBQVMsd0ZBQXdGLFVBQVUsV0FBVyxrTkFBa04sZ0dBQWdHLGdCQUFnQixvQ0FBb0MsU0FBUyxHQUFHLHVGQUF1RixXQUFXLHdCQUF3QixrREFBa0QsY0FBYywyQkFBMkIsMEVBQTBFLFlBQVkseUJBQXlCLG9EQUFvRCxzQkFBc0Isc0RBQXNELHlEQUF5RCx3Q0FBd0MsaUJBQWlCLGlGQUFpRixtQkFBbUIsTUFBTSxzQ0FBc0MsbURBQW1ELFFBQVEsK0NBQStDLHlCQUF5QixpQkFBaUIsMkJBQTJCLHVCQUF1Qiw4QkFBOEIsc0JBQXNCLEVBQUUscURBQXFELGtCQUFrQixpQ0FBaUMsK0NBQStDLHlCQUF5QixpQkFBaUIsMkJBQTJCLHVCQUF1Qiw4QkFBOEIsbUJBQW1CLHNMQUFzTCxTQUFTLGlFQUFpRSw4QkFBOEIseUJBQXlCLGlCQUFpQiwyQkFBMkIsdUJBQXVCLDhCQUE4QixtQkFBbUIsU0FBUyxnQkFBZ0IsOEJBQThCLFNBQVMsaUJBQWlCLG1EQUFtRCxRQUFRLDJCQUEyQixTQUFTLHlEQUF5RCxlQUFlLDhFQUE4RSxXQUFXLDRDQUE0QyxZQUFZLG1CQUFtQixJQUFJLDhEQUE4RCxXQUFXLHFJQUFxSSxZQUFZLHlEQUF5RCxhQUFhLDRDQUE0QyxZQUFZLDRDQUE0QyxjQUFjLHlEQUF5RCxhQUFhLDRDQUE0QyxZQUFZLDRDQUE0QyxlQUFlLDRDQUE0QyxvQkFBb0Isa0RBQWtELFlBQVksVUFBVSxXQUFXLFVBQVUsVUFBVSxZQUFZLFNBQVMsZUFBZSxhQUFhLFFBQVEseURBQXlELGFBQWEsNENBQTRDLFlBQVksMkJBQTJCLFVBQVUsMEpBQTBKLGVBQWUsaUpBQWlKLFlBQVksVUFBVSxXQUFXLFVBQVUsVUFBVSxZQUFZLFNBQVMsaUJBQWlCLHVIQUF1SCxZQUFZLHVCQUF1QixXQUFXLHNCQUFzQixTQUFTLHNDQUFzQyxVQUFVLHNDQUFzQyxlQUFlLGtHQUFrRyxxQkFBcUIsd0JBQXdCLDJDQUEyQywwRUFBMEUseUtBQXlLLHNGQUFzRixnQ0FBZ0MsbURBQW1ELEVBQUUsS0FBSyxFQUFFLHNFQUFzRSxJQUFJLG1CQUFtQix3QkFBd0IsMkJBQTJCLG9CQUFvQix5RkFBeUYsZ0JBQWdCLElBQUksc0VBQXNFLFVBQVUsR0FBRyxxQ0FBcUMsV0FBVyxpRkFBaUYsT0FBTyxjQUFjLFFBQVEsc0tBQXNLLGdCQUFnQixxQ0FBcUMsZ0JBQWdCLElBQUksaUJBQWlCLFdBQVcsWUFBWSxXQUFXLDRCQUE0QixTQUFTLFNBQVMsZUFBZSwyQ0FBMkMsUUFBUSxxREFBcUQsa0JBQWtCLGtCQUFrQixvTEFBb0wsaUNBQWlDLDJCQUEyQix1QkFBdUIsNEJBQTRCLGlCQUFpQix1Q0FBdUMsZ0JBQWdCLDZCQUE2QiwrQkFBK0Isd0NBQXdDLGdCQUFnQixxRkFBcUYscUNBQXFDLDZCQUE2QixTQUFTLGVBQWUsOERBQThELFFBQVEsMkVBQTJFLGtCQUFrQixrQ0FBa0MsaUJBQWlCLGlDQUFpQyxnQkFBZ0IsdUNBQXVDLE1BQU0sK0VBQStFLDhIQUE4SCxTQUFTLGNBQWMscUJBQXFCLHVCQUF1Qix3QkFBd0IsdUJBQXVCLGdCQUFnQixRQUFRLDREQUE0RCxrQkFBa0IsZ0VBQWdFLGlCQUFpQiw4REFBOEQsZ0JBQWdCLHFFQUFxRSwrRUFBK0UsNkJBQTZCLHNEQUFzRCxFQUFFLGdCQUFnQixFQUFFLDBFQUEwRSw2QkFBNkIsc0RBQXNELEVBQUUsZ0JBQWdCLEVBQUUsU0FBUyxjQUFjLGNBQWMsU0FBUyxrQkFBa0IsVUFBVSwrQkFBK0IsWUFBWSxxQkFBcUIsV0FBVyxxQkFBcUIsVUFBVSxTQUFTLFNBQVMsZUFBZSx1REFBdUQsT0FBTyxjQUFjLFFBQVEsZ0ZBQWdGLG9CQUFvQixVQUFVLFdBQVcsVUFBVSxlQUFlLDBCQUEwQixhQUFhLG1FQUFtRSxxQkFBcUIsd0JBQXdCLGtFQUFrRSxjQUFjLDZDQUE2QyxtQ0FBbUMsK0dBQStHLGlCQUFpQiw0RUFBNEUsU0FBUyxrQkFBa0IsVUFBVSwrQkFBK0IsWUFBWSxxQkFBcUIsV0FBVyxxQkFBcUIsb0JBQW9CLGVBQWUseURBQXlELG9CQUFvQix5QkFBeUIsV0FBVyxRQUFRLDZCQUE2QixvQkFBb0Isb0JBQW9CLCtCQUErQixXQUFXLHFCQUFxQiw2QkFBNkIsZ0JBQWdCLGVBQWUscUJBQXFCLG9CQUFvQixvQkFBb0IsK0JBQStCLFdBQVcsc0JBQXNCLDZCQUE2QixjQUFjLGVBQWUscUJBQXFCLFNBQVMsaUJBQWlCLDBMQUEwTCxRQUFRLGdDQUFnQyxxQ0FBcUMsa0JBQWtCLHVDQUF1QyxpQkFBaUIsK0NBQStDLDBEQUEwRCxnRkFBZ0YsbUlBQW1JLHlFQUF5RSxnQkFBZ0IsdUZBQXVGLGNBQWMsY0FBYywyQkFBMkIsOEJBQThCLHNFQUFzRSxRQUFRLGtCQUFrQixnQ0FBZ0MsNENBQTRDLHVEQUF1RCxpQkFBaUIsc0VBQXNFLDRCQUE0QixTQUFTLHdLQUF3SyxVQUFVLDBOQUEwTixZQUFZLHVCQUF1QixXQUFXLHNCQUFzQixzQkFBc0IsNk9BQTZPLCtEQUErRCxNQUFNLDRCQUE0Qix5T0FBeU8sMkhBQTJILFNBQVMsU0FBUyxjQUFjLGNBQWMsUUFBUSw4Q0FBOEMsV0FBVyxhQUFhLFVBQVUsa0JBQWtCLHVIQUF1SCxpQkFBaUIsOEJBQThCLGFBQWEsbUJBQW1CLHFDQUFxQyxpQkFBaUIsZ0RBQWdELDZCQUE2QixnQkFBZ0IsaUNBQWlDLHlEQUF5RCx3Q0FBd0MsY0FBYyxjQUFjLFVBQVUsOERBQThELFVBQVUsK0JBQStCLFlBQVkscUJBQXFCLFdBQVcscUJBQXFCLG1CQUFtQixZQUFZLFdBQVcsdUNBQXVDLGlCQUFpQiw4QkFBOEIsb0JBQW9CLFFBQVEsc0RBQXNELFVBQVUsb0RBQW9ELFdBQVcsdUJBQXVCLCtIQUErSCwrQ0FBK0MsaUJBQWlCLGtDQUFrQyxvQkFBb0IsUUFBUSxnRkFBZ0YsVUFBVSxpRkFBaUYsV0FBVyxxQkFBcUIsZ0hBQWdILCtDQUErQyxxQkFBcUIsc0RBQXNELCtEQUErRCxnQkFBZ0IsZ0JBQWdCLHNCQUFzQixlQUFlLG1DQUFtQyxvQkFBb0IsZUFBZSxxQkFBcUIsUUFBUSxpRkFBaUYsVUFBVSx5REFBeUQsYUFBYSx5QkFBeUIsYUFBYSx3Q0FBd0MsbU1BQW1NLDJCQUEyQixFQUFFLCtCQUErQiwyQ0FBMkMsZ0NBQWdDLGlCQUFpQiwwRkFBMEYscUJBQXFCLHdCQUF3QixVQUFVLHlDQUF5QyxTQUFTLGNBQWMsV0FBVywrR0FBK0csT0FBTyxjQUFjLFFBQVEsaUJBQWlCLFdBQVcseUNBQXlDLHdCQUF3QixrQkFBa0IsdUNBQXVDLE1BQU0sZ0NBQWdDLE1BQU0sa0RBQWtELE1BQU0sZ0RBQWdELE1BQU0saURBQWlELE1BQU0saURBQWlELE1BQU0sZUFBZSwwQ0FBMEMsb0JBQW9CLG9CQUFvQixVQUFVLDBPQUEwTyxFQUFFLGdCQUFnQixLQUFLLFNBQVMsa0JBQWtCLFVBQVUsK0JBQStCLFlBQVkscUJBQXFCLFdBQVcsb0JBQW9CLGtCQUFrQiwyQkFBMkIsaUJBQWlCLDRCQUE0QixlQUFlLGVBQWUsd0JBQXdCLFNBQVMsaUJBQWlCLHlOQUF5TixlQUFlLHlCQUF5QixvQkFBb0IsdUJBQXVCLFlBQVksdUJBQXVCLFdBQVcsa0RBQWtELFlBQVksdUJBQXVCLFVBQVUsK0lBQStJLFVBQVUscUlBQXFJLFNBQVMsNEJBQTRCLG1DQUFtQyxvR0FBb0csbUlBQW1JLDRFQUE0RSwyREFBMkQsNmNBQTZjLGNBQWMsOEVBQThFLFVBQVUsdUJBQXVCLDZLQUE2SyxzQkFBc0IsaVBBQWlQLGNBQWMseUJBQXlCLDhDQUE4Qyw0QkFBNEIsaUxBQWlMLHFHQUFxRyxvQkFBb0IsaUdBQWlHLCtDQUErQyw4QkFBOEIsZ0dBQWdHLDJLQUEySyxnR0FBZ0csV0FBVywrQkFBK0IsMkVBQTJFLDhEQUE4RCxjQUFjLGdGQUFnRix5R0FBeUcsU0FBUyw0SUFBNEksb0JBQW9CLGFBQWEsbUJBQW1CLGtKQUFrSix1QkFBdUIsdUJBQXVCLDJDQUEyQyxHQUFHLE9BQU8sY0FBYyxRQUFRLGlCQUFpQix3QkFBd0IsNlZBQTZWLCtEQUErRCxNQUFNLG9CQUFvQiwyT0FBMk8sNkhBQTZILFNBQVMsU0FBUyxpQkFBaUIsbUNBQW1DLFNBQVMsaURBQWlELFVBQVUsbURBQW1ELFlBQVksOERBQThELFdBQVcsNkRBQTZELFNBQVMsY0FBYyxjQUFjLFFBQVEsaUJBQWlCLE9BQU8sY0FBYyxjQUFjLDJCQUEyQixvQkFBb0IsVUFBVSxzRUFBc0UsRUFBRSxnQkFBZ0IsS0FBSyxTQUFTLGtCQUFrQixVQUFVLCtCQUErQixZQUFZLHFCQUFxQixXQUFXLHFCQUFxQixTQUFTLGNBQWMsa0JBQWtCLHVCQUF1QixnQkFBZ0IsUUFBUSw4RkFBOEYsa0JBQWtCLCtMQUErTCxpQkFBaUIsa0JBQWtCLHFCQUFxQiw2Q0FBNkMsc0NBQXNDLDhEQUE4RCxrQkFBa0IsaUNBQWlDLGdCQUFnQixtSEFBbUgsY0FBYyxjQUFjLFNBQVMsa0JBQWtCLFVBQVUsK0JBQStCLFlBQVkscUJBQXFCLFdBQVcscUJBQXFCLFNBQVMsbUJBQW1CLDhDQUE4QyxVQUFVLDBCQUEwQixvR0FBb0csVUFBVSx3R0FBd0csWUFBWSw4REFBOEQsV0FBVyw2REFBNkQsU0FBUyxtQkFBbUIsZ0ZBQWdGLFNBQVMsNkVBQTZFLFVBQVUsd0RBQXdELFlBQVksNkZBQTZGLFdBQVcsa0VBQWtFLFNBQVMscUJBQXFCLGlIQUFpSCxVQUFVLCtKQUErSixVQUFVLDJJQUEySSxZQUFZLDJIQUEySCxXQUFXLDhGQUE4RixrQkFBa0IsdURBQXVELGlCQUFpQixvRkFBb0YsOENBQThDLDBCQUEwQixTQUFTLGNBQWMsd0NBQXdDLFdBQVcsc0JBQXNCLHVFQUF1RSxjQUFjLHVFQUF1RSxvQ0FBb0MsV0FBVyxpS0FBaUsscUJBQXFCLFVBQVUsZUFBZSwrRUFBK0UsU0FBUyxpQkFBaUIsMkZBQTJGLHlHQUF5RywrRUFBK0UsaUZBQWlGLGlCQUFpQixrQ0FBa0MsV0FBVyxrQkFBa0IsV0FBVyxvSkFBb0osV0FBVywySUFBMkksV0FBVyxpQ0FBaUMsV0FBVyxxREFBcUQsMEhBQTBILFVBQVUsNkhBQTZILHVCQUF1QiwyQ0FBMkMsa0NBQWtDLDhCQUE4Qix1QkFBdUIsd0JBQXdCLDhFQUE4RSxlQUFlLDJCQUEyQiwrQkFBK0IsMEJBQTBCLDhCQUE4QiwrR0FBK0csZ0NBQWdDLG9HQUFvRyx3QkFBd0IsbUxBQW1MLG9DQUFvQyx1Q0FBdUMsMEJBQTBCLHdCQUF3QixpTEFBaUwsWUFBWSxxQkFBcUIsa0NBQWtDLDJCQUEyQixRQUFRLDBCQUEwQixVQUFVLFVBQVUsNEJBQTRCLHlDQUF5QyxHQUFHLHVCQUF1QixXQUFXLFVBQVUsVUFBVSw0Q0FBNEMsVUFBVSxZQUFZLHVFQUF1RSxhQUFhLHVDQUF1QyxXQUFXLHNEQUFzRCx3QkFBd0IsMERBQTBELFVBQVUscUJBQXFCLHNCQUFzQixPQUFPLFVBQVUsa0JBQWtCLFdBQVcsd0RBQXdELFNBQVMsaUJBQWlCLHdCQUF3QiwrQ0FBK0Msb0JBQW9CLEtBQUssS0FBSyw0RkFBNEYsVUFBVSxrQ0FBa0MsbUJBQW1CLDJCQUEyQixNQUFNLCtMQUErTCxXQUFXLDJEQUEyRCxvTUFBb00sTUFBTSxrQkFBa0IsR0FBRyw2Q0FBNkMsR0FBRyxxQ0FBcUMsOEJBQThCLGFBQWEsY0FBYyxTQUFTLGdEQUFnRCwySUFBMkksZ0JBQWdCLFVBQVUsS0FBSyxNQUFNLGdnQkFBZ2dCLGtEQUFrRCwyQkFBMkIsbURBQW1ELFFBQVEsb0NBQW9DLHdEQUF3RCxhQUFhLGVBQWUsOEhBQThILCtDQUErQyxJQUFJLHdGQUF3RixHQUFHLHFUQUFxVCxnQkFBZ0Isd0NBQXdDLDZKQUE2SiwrQkFBK0IsTUFBTSw2QkFBNkIsZ0NBQWdDLHFCQUFxQiw4Q0FBOEMsZ0dBQWdHLE1BQU0sb0NBQW9DLG9DQUFvQyx5QkFBeUIsTUFBTSx3Q0FBd0Msb0RBQW9ELGVBQWUsbUNBQW1DLHVCQUF1QixxQkFBcUIsME1BQTBNLG1CQUFtQixnREFBZ0Qsa0JBQWtCLE1BQU0sZ0JBQWdCLE1BQU0saUNBQWlDLEVBQUUsMkNBQTJDLG9EQUFvRCx5Q0FBeUMsMkNBQTJDLGtCQUFrQixNQUFNLGdCQUFnQixNQUFNLHNCQUFzQixXQUFXLE1BQU0sdUNBQXVDLE1BQU0sOEJBQThCLDJCQUEyQixtRkFBbUYsRUFBRSxVQUFVLHlDQUF5QyxtQ0FBbUMsa0JBQWtCLHdCQUF3QiwwSEFBMEgsMkVBQTJFLGdCQUFnQiwwQ0FBMEMsZ0JBQWdCLGdGQUFnRixnQkFBZ0IsZ0NBQWdDLGdCQUFnQixHQUFHLElBQUksZ0JBQWdCLHNFQUFzRSw0REFBNEQsWUFBWSx5QkFBeUIsR0FBRyxzQkFBc0IsK0RBQStELDRIQUE0SCwyQkFBMkIsaUJBQWlCLG9JQUFvSSxZQUFZLHlFQUF5RSxlQUFlLG9CQUFvQixTQUFTLElBQUksYUFBYSx3RkFBd0YsU0FBUyxPQUFPLGFBQWEsNkJBQTZCLFNBQVMsT0FBTyxVQUFVLDJCQUEyQixhQUFhLG9CQUFvQixPQUFPLFNBQVMsY0FBYyw2QkFBNkIsT0FBTyxPQUFPLFlBQVksOENBQThDLGFBQWEsOENBQThDLGFBQWEsOEJBQThCLGdCQUFnQixvQkFBb0IsVUFBVSxTQUFTLGFBQWEsOEJBQThCLGdCQUFnQixvQkFBb0IsVUFBVSxTQUFTLGdCQUFnQiw2QkFBNkIsVUFBVSxPQUFPLGdCQUFnQixpQ0FBaUMsYUFBYSxZQUFZLHFCQUFxQiw2QkFBNkIsK0JBQStCLFlBQVksaUJBQWlCLCtFQUErRSxXQUFXLDRCQUE0QixjQUFjLG9CQUFvQixRQUFRLFNBQVMscUJBQXFCLDRCQUE0Qiw4REFBOEQscURBQXFELHdCQUF3QixTQUFTLCtCQUErQixnQ0FBZ0Msc0RBQXNELGNBQWMsa0JBQWtCLFdBQVcsZ0NBQWdDLHlDQUF5QyxpQ0FBaUMsOENBQThDLDBGQUEwRixtQ0FBbUMsaURBQWlELFlBQVksaWRBQWlkLHdFQUF3RSx1Q0FBdUMsaUhBQWlILHNFQUFzRSxxRUFBcUUsOE1BQThNLGtDQUFrQyxzQkFBc0IsdUJBQXVCLHVKQUF1SixzRkFBc0YsZ0JBQWdCLDhDQUE4QyxrQ0FBa0MsMkJBQTJCLGlDQUFpQyx1QkFBdUIsRUFBRSxlQUFlLDhFQUE4RSw0QkFBNEIsOEVBQThFLDZEQUE2RCxZQUFZLDRWQUE0ViwyQkFBMkIsc0VBQXNFLDZCQUE2QixpRkFBaUYsOEJBQThCLGtLQUFrSyx3R0FBd0csb0VBQW9FLDRDQUE0QyxvTkFBb04sa0dBQWtHLHdEQUF3RCw2QkFBNkIsaUlBQWlJLGdIQUFnSCxhQUFhLDhDQUE4QywyQkFBMkIsaUJBQWlCLGtDQUFrQyxnQ0FBZ0MsZ0NBQWdDLHNMQUFzTCxpR0FBaUcsNFlBQTRZLGdDQUFnQyxvQkFBb0IsMEZBQTBGLFlBQVksWUFBWSw0REFBNEQsbUJBQW1CLDR2QkFBNHZCLHVCQUF1QiwwR0FBMEcsMEJBQTBCLHVCQUF1QiwrREFBK0QsWUFBWSxxQ0FBcUMsMEJBQTBCLGlEQUFpRCx1YUFBdWEsWUFBWSwyQ0FBMkMsd0NBQXdDLDZFQUE2RSxnUkFBZ1IsVUFBVSxnQ0FBZ0MsdUVBQXVFLDBDQUEwQyxxREFBcUQsc01BQXNNLE1BQU0sdUJBQXVCLDJEQUEyRCwrREFBK0QseUJBQXlCLFFBQVEsOERBQThELDZHQUE2RywrS0FBK0ssTUFBTSw2SEFBNkgsd0RBQXdELGlEQUFpRCxrQkFBa0Isc0NBQXNDLGtDQUFrQyxTQUFTLDJGQUEyRix5SkFBeUosNENBQTRDLFVBQVUscUJBQXFCLEVBQUUsNFRBQTRULG1CQUFtQix1TEFBdUwsZ0JBQWdCLDRDQUE0QyxxRUFBcUUsd0RBQXdELG1QQUFtUCxXQUFXLGtEQUFrRCwrREFBK0Qsd0JBQXdCLHdCQUF3QixnREFBZ0QsSUFBSSxnVUFBZ1UsMkJBQTJCLDJEQUEyRCx5QkFBeUIsMkNBQTJDLGNBQWMsbURBQW1ELGtCQUFrQixrRkFBa0Ysb0JBQW9CLFlBQVksY0FBYyxtREFBbUQsb0NBQW9DLGNBQWMsb0NBQW9DLGNBQWMsb0NBQW9DLGFBQWEsa0JBQWtCLHFCQUFxQixlQUFlLDZDQUE2QyxPQUFPLGNBQWMsbUNBQW1DLDhDQUE4QyxpQkFBaUIseUNBQXlDLFNBQVMsZUFBZSx5QkFBeUIsa0pBQWtKLHNEQUFzRCxxQkFBcUIsb0pBQW9KLHlEQUF5RCxtSUFBbUksa0JBQWtCLHNDQUFzQyxrQ0FBa0MsbUpBQW1KLFdBQVcsMkJBQTJCLE9BQU8sb0JBQW9CLFdBQVcsc0lBQXNJLHdCQUF3Qix1Q0FBdUMsT0FBTyxzQkFBc0IsZUFBZSxZQUFZLGFBQWEsOE1BQThNLHVCQUF1QixzR0FBc0cseUhBQXlILHVCQUF1QixxQkFBcUIsc0JBQXNCLHFFQUFxRSxvQkFBb0IsdUJBQXVCLDRDQUE0QywyQkFBMkIsZ0NBQWdDLGdCQUFnQixnREFBZ0QsWUFBWSxLQUFLLEtBQUssZUFBZSxtQkFBbUIsVUFBVSxTQUFTLGdCQUFnQixFQUFFLHdHQUF3RyxxQkFBcUIsc0JBQXNCLFNBQVMsMkNBQTJDLGsyQkFBazJCLFdBQVcsc1BBQXNQLHNCQUFzQixxREFBcUQsRUFBRSxHQUFHLDRIQUE0SCxxQkFBcUIscVNBQXFTLGtCQUFrQixxQkFBcUIsMkVBQTJFLFVBQVUsa0NBQWtDLEVBQUUsNEJBQTRCLEVBQUUsNkZBQTZGLEVBQUUsTUFBTSw0Q0FBNEMsTUFBTSxHQUFHLFFBQVEsRUFBRSxvQkFBb0IsWUFBWSxVQUFVLHNCQUFzQixHQUFHLEVBQUUsR0FBRyxpQkFBaUIscUVBQXFFLGVBQWUsK0lBQStJLHNCQUFzQiwyQkFBMkIsU0FBUywrQkFBK0IsbUNBQW1DLDJDQUEyQyxzQ0FBc0Msa0JBQWtCLGFBQWEsV0FBVyxzQkFBc0IsbUVBQW1FLHVEQUF1RCxjQUFjLFdBQVcsb0NBQW9DLFVBQVUsd0tBQXdLLHNCQUFzQiw2TkFBNk4saUJBQWlCLGlMQUFpTCxTQUFTLGNBQWMsa0RBQWtELFNBQVMscURBQXFELG9DQUFvQywyWkFBMlosV0FBVyxtSEFBbUgscUJBQXFCLHFCQUFxQixlQUFlLHVHQUF1RyxnQkFBZ0IsOEJBQThCLHNDQUFzQywwQ0FBMEMsa0JBQWtCLHlCQUF5Qiw2REFBNkQsVUFBVSxpQkFBaUIsaUNBQWlDLGFBQWEsYUFBYSw2SEFBNkgsU0FBUyxjQUFjLHNFQUFzRSxPQUFPLG1CQUFtQix5QkFBeUIsNkJBQTZCLElBQUksVUFBVSxxRUFBcUUseURBQXlELFNBQVMsMkNBQTJDLGVBQWUsc0VBQXNFLDRDQUE0QyxRQUFRLDREQUE0RCxtQkFBbUIsa0NBQWtDLGtNQUFrTSxzSkFBc0osS0FBSyxpQ0FBaUMsRUFBRSwyQkFBMkIscURBQXFELDBDQUEwQyxTQUFTLFVBQVUscVJBQXFSLDJCQUEyQixpQkFBaUIsZ0VBQWdFLFVBQVUsMnBCQUEycEIsTUFBTSw4Q0FBOEMsMkJBQTJCLGtGQUFrRixHQUFHLEVBQUUsRUFBRSxFQUFFLHNDQUFzQyxvQkFBb0IsWUFBWSxLQUFLLFVBQVUsK0JBQStCLGNBQWMsaUNBQWlDLGlCQUFpQiw0REFBNEQsY0FBYyxpS0FBaUssY0FBYyxtWkFBbVosZ0JBQWdCLG1DQUFtQyxnRUFBZ0UsK0xBQStMLG9CQUFvQixtREFBbUQsb0JBQW9CLEdBQUcsZ0NBQWdDLHFEQUFxRCxFQUFFLEdBQUcsZ0NBQWdDLGFBQWEscUJBQXFCLFNBQVMsOFNBQThTLFNBQVMsa0JBQWtCLHNkQUFzZCxZQUFZLG9CQUFvQixhQUFhLDhIQUE4SCxhQUFhLHFCQUFxQixZQUFZLGtPQUFrTyw0QkFBNEIsaURBQWlELHNDQUFzQyw2SkFBNkosZUFBZSw2V0FBNlcsWUFBWSxlQUFlLHVDQUF1Qyw4REFBOEQsZUFBZSwrQ0FBK0MseURBQXlELFdBQVcsbUJBQW1CLGNBQWMsb0JBQW9CLG9MQUFvTCxpQkFBaUIsOEJBQThCLG9CQUFvQixrREFBa0QseUJBQXlCLDhCQUE4QixxREFBcUQsbUJBQW1CLGtCQUFrQixhQUFhLGtCQUFrQixzR0FBc0csdUJBQXVCLE1BQU0sbU9BQW1PLEVBQUUsb0hBQW9ILGtCQUFrQix1RUFBdUUsYUFBYSxrQkFBa0IseUJBQXlCLHVDQUF1Qyx5REFBeUQsSUFBSSxLQUFLLElBQUksbUJBQW1CLGlCQUFpQixnQkFBZ0IsOEJBQThCLEVBQUUsNEJBQTRCLDBCQUEwQixJQUFJLEtBQUssSUFBSSxnQkFBZ0Isd0JBQXdCLHlEQUF5RCwrQkFBK0IsdUJBQXVCLHFCQUFxQixvQkFBb0IsRUFBRSxTQUFTLGlKQUFpSixtQkFBbUIsWUFBWSxrQkFBa0IsT0FBTyxlQUFlLE1BQU0sTUFBTSx1QkFBdUIsOEJBQThCLG9CQUFvQixRQUFRLG9DQUFvQyxtQ0FBbUMsaUpBQWlKLHNDQUFzQyx1QkFBdUIsdUJBQXVCLGdGQUFnRiwwQkFBMEIsbURBQW1ELDJCQUEyQixzQ0FBc0MsRUFBRSxTQUFTLFdBQVcsbURBQW1ELGtCQUFrQiwyTEFBMkwseUZBQXlGLHVEQUF1RCw2TUFBNk0sS0FBSyxZQUFZLG9CQUFvQixhQUFhLG1FQUFtRSxXQUFXLGtCQUFrQixhQUFhLG1EQUFtRCxTQUFTLHNCQUFzQixnREFBZ0QsNEJBQTRCLHFCQUFxQix3UEFBd1AsUUFBUSxnSEFBZ0gsa0JBQWtCLHVKQUF1SixtQkFBbUIsOEJBQThCLDJSQUEyUixnQkFBZ0Isb0JBQW9CLGtCQUFrQix1TEFBdUwsY0FBYyx1QkFBdUIsZUFBZSwrQ0FBK0MsY0FBYyxzQkFBc0Isd0JBQXdCLDZEQUE2RCx1QkFBdUIsdUpBQXVKLHFCQUFxQiwwREFBMEQsb0JBQW9CLHNGQUFzRixzQkFBc0IsdURBQXVELHFCQUFxQiw4QkFBOEIsVUFBVSwrRUFBK0UscU5BQXFOLG1EQUFtRCx1QkFBdUIsZ0RBQWdELFVBQVUsMENBQTBDLCtDQUErQyxpREFBaUQsOENBQThDLG1EQUFtRCxxREFBcUQsMkNBQTJDLDZDQUE2QyxnQ0FBZ0Msc0hBQXNILFNBQVMsZUFBZSxnQkFBZ0IsWUFBWSx5Q0FBeUMscUNBQXFDLDhFQUE4RSxxQ0FBcUMsWUFBWSw0Q0FBNEMsVUFBVSxtRUFBbUUsY0FBYywrRUFBK0UsVUFBVSxvckJBQW9yQixLQUFLLDhwQkFBOHBCLGVBQWUsMkNBQTJDLFVBQVUsOENBQThDLFNBQVMsc0JBQXNCLGdFQUFnRSx5REFBeUQseUNBQXlDLHdEQUF3RCxtTUFBbU0sV0FBVyw0SUFBNEksVUFBVSxxRkFBcUYsVUFBVSw2RUFBNkUsc0RBQXNELCtEQUErRCxnQ0FBZ0MsTUFBTSxxQkFBcUIsc0dBQXNHLFdBQVcsb0tBQW9LLFVBQVUsbUhBQW1ILGFBQWEscUJBQXFCLElBQUksaURBQWlELDhIQUE4SCxhQUFhLGdDQUFnQyxXQUFXLG9HQUFvRyxjQUFjLG9IQUFvSCwyRUFBMkUsbUJBQW1CLGFBQWEscUdBQXFHLHNDQUFzQyxrQkFBa0IsWUFBWSx1SkFBdUosUUFBUSw4SEFBOEgsVUFBVSxpQkFBaUIsK0NBQStDLG1CQUFtQixXQUFXLG1GQUFtRixLQUFLLDRCQUE0QixtQkFBbUIsdUJBQXVCLGtFQUFrRSxJQUFJLGdDQUFnQyxrRUFBa0UsRUFBRSxNQUFNLEVBQUUsRUFBRSxHQUFHLElBQUksZUFBZSx1QkFBdUIsY0FBYyxZQUFZLFVBQVUsMERBQTBELHVEQUF1RCx5QkFBeUIsUUFBUSxVQUFVLHVJQUF1SSxlQUFlLGdGQUFnRiwwSEFBMEgsbUlBQW1JLGlHQUFpRyxnR0FBZ0csNG1DQUE0bUMsK2hCQUEraEIsZ0hBQWdILFlBQVksZUFBZSxNQUFNLGdJQUFnSSw2QkFBNkIsOGdCQUE4Z0IsdWpCQUF1akIsOEZBQThGLHNMQUFzTCw0REFBNEQsOERBQThELHFCQUFxQixXQUFXLGlFQUFpRSxzQ0FBc0MseUdBQXlHLCtEQUErRCx1QkFBdUIsNERBQTRELFdBQVcsV0FBVyw4QkFBOEIseUJBQXlCLFdBQVcsa0JBQWtCLElBQUksWUFBWSxtQkFBbUIsZ0JBQWdCLDJPQUEyTyxzQkFBc0IsdUJBQXVCLGtDQUFrQyxxRkFBcUYsaUJBQWlCLHlLQUF5SyxrQ0FBa0MsOERBQThELGNBQWMsb0NBQW9DLGVBQWUsdUJBQXVCLHFCQUFxQiw2QkFBNkIsWUFBWSxvQkFBb0IsVUFBVSw0SUFBNEksdU5BQXVOLHNCQUFzQiwySkFBMkosWUFBWSxxTUFBcU0sZUFBZSwyQ0FBMkMsZ0JBQWdCLDZFQUE2RSxjQUFjLG1PQUFtTyxpRkFBaUYsYUFBYSw4QkFBOEIsY0FBYyw0TkFBNE4sb0VBQW9FLGFBQWEsOEJBQThCLGVBQWUsb0ZBQW9GLDBOQUEwTixrRkFBa0YsY0FBYywrQkFBK0IsZUFBZSxvRkFBb0Ysb05BQW9OLHNFQUFzRSxjQUFjLCtCQUErQix1QkFBdUIsd0NBQXdDLHdCQUF3QiwrSEFBK0gsY0FBYyxzQkFBc0Isa0JBQWtCLDBJQUEwSSxlQUFlLCtCQUErQiwrQ0FBK0MsNkNBQTZDLDZFQUE2RSxZQUFZLGVBQWUsdUJBQXVCLGdCQUFnQixpR0FBaUcsZ0JBQWdCLDhDQUE4QywwQkFBMEIsZ0NBQWdDLGdCQUFnQixnREFBZ0QsaUJBQWlCLDREQUE0RCxPQUFPLDRJQUE0SSw4QkFBOEIsOENBQThDLDJDQUEyQyxNQUFNLDBKQUEwSixhQUFhLHNGQUFzRixvQ0FBb0MscUNBQXFDLGdCQUFnQixFQUFFLHFCQUFxQixNQUFNLHdMQUF3TCxvQ0FBb0MsaUZBQWlGLHNEQUFzRCxZQUFZLFdBQVcsMkRBQTJELGFBQWEsa0VBQWtFLFdBQVcsaUVBQWlFLFlBQVksbUVBQW1FLGFBQWEscUVBQXFFLGdDQUFnQyxzQ0FBc0MsU0FBUyxZQUFZLHVGQUF1RixTQUFTLEtBQUssNkRBQTZELFdBQVcsVUFBVSxRQUFRLE9BQU8sUUFBUSx3Q0FBd0MseUJBQXlCLHFDQUFxQyxTQUFTLFlBQVksd0NBQXdDLDhDQUE4QyxTQUFTLHlFQUF5RSxPQUFPLHdEQUF3RCxRQUFRLHdDQUF3QywwQkFBMEIsWUFBWSx1RkFBdUYsU0FBUyxLQUFLLDREQUE0RCxRQUFRLHdDQUF3QyxTQUFTLFVBQVUsbUNBQW1DLDBCQUEwQiw2Q0FBNkMscURBQXFELGlHQUFpRyxxREFBcUQsWUFBWSxZQUFZLHFDQUFxQywwQkFBMEIsNkNBQTZDLHVEQUF1RCxZQUFZLFdBQVcsb0NBQW9DLGtDQUFrQyxnQkFBZ0IsNkJBQTZCLHdDQUF3QyxVQUFVLCtEQUErRCxlQUFlLFlBQVksV0FBVyxLQUFLLGFBQWEsa0NBQWtDLHNEQUFzRCw0QkFBNEIsVUFBVSwyQkFBMkIsNE1BQTRNLHFCQUFxQix5QkFBeUIsMkNBQTJDLGNBQWMsMEJBQTBCLEVBQUUsOEZBQThGLHdSQUF3UixnQkFBZ0Isd0JBQXdCLGlEQUFpRCxFQUFFLElBQUksU0FBUyxrQkFBa0IsOEhBQThILG9DQUFvQyxpQkFBaUIsOEZBQThGLHNCQUFzQixzQ0FBc0Msb0NBQW9DLGlCQUFpQiwyQkFBMkIsZ0JBQWdCLHVCQUF1QixrSEFBa0gscUJBQXFCLDJEQUEyRCxJQUFJLGdEQUFnRCxpQkFBaUIsSUFBSSwwQ0FBMEMsU0FBUyw0Q0FBNEMsc0JBQXNCLGlFQUFpRSxXQUFXLDRDQUE0QyxnQkFBZ0IsNkZBQTZGLGVBQWUsNkVBQTZFLGtCQUFrQix3REFBd0QsaUJBQWlCLDZDQUE2QyxrQkFBa0Isb0JBQW9CLGtCQUFrQixhQUFhLHNEQUFzRCxVQUFVLHFCQUFxQiw0REFBNEQsZ0JBQWdCLHlFQUF5RSxhQUFhLCtCQUErQixjQUFjLHdEQUF3RCxHQUFHLEVBQUUsK0hBQStILE1BQU0sd0JBQXdCLDRCQUE0Qix1QkFBdUIsc0JBQXNCLGlCQUFpQixpRUFBaUUsR0FBRyxzU0FBc1MsTUFBTSxNQUFNLGlCQUFpQixPQUFPLHVCQUF1QixzQkFBc0IsaUJBQWlCLGtHQUFrRyw2QkFBNkIsaUJBQWlCLCtCQUErQiw4SkFBOEosc0lBQXNJLGlCQUFpQixHQUFHLHNTQUFzUyxFQUFFLElBQUksRUFBRSw4RkFBOEYsYUFBYSxJQUFJLGNBQWMsb1FBQW9RLFlBQVksMkdBQTJHLGVBQWUsMkJBQTJCLGVBQWUsa0ZBQWtGLDBFQUEwRSxJQUFJLGFBQWEsK0JBQStCLGNBQWMsNEVBQTRFLGVBQWUsa0RBQWtELGVBQWUsa0RBQWtELFlBQVksOEJBQThCLHlCQUF5Qiw0REFBNEQsa0JBQWtCLEVBQUUsb0RBQW9ELGFBQWEsK0JBQStCLDJCQUEyQixFQUFFLDZEQUE2RCxzQkFBc0Isd0NBQXdDLDRCQUE0QixFQUFFLDhEQUE4RCx1QkFBdUIseUNBQXlDLGVBQWUsRUFBRSw0RUFBNEUsV0FBVyw2QkFBNkIsY0FBYyxxTUFBcU0sYUFBYSwrQ0FBK0MsVUFBVSx3RUFBd0UsU0FBUywyQ0FBMkMsb0JBQW9CLDBHQUEwRyxxQkFBcUIsc0RBQXNELHdCQUF3Qix5REFBeUQsbUJBQW1CLHFDQUFxQyw2QkFBNkIsMkJBQTJCLGlIQUFpSCw0QkFBNEIsS0FBSyxZQUFZLEVBQUUsK0NBQStDLCtKQUErSixnRkFBZ0Ysb0JBQW9CLDJWQUEyVixrQkFBa0Isd0JBQXdCLHlJQUF5SSxxRUFBcUUsMmZBQTJmLG1HQUFtRyxtRUFBbUUsOEJBQThCLEVBQUUsTUFBTSxvRUFBb0UsbUJBQW1CLHVDQUF1QyxpR0FBaUcsRUFBRSxpQ0FBaUMsRUFBRSxLQUFLLGNBQWMsdUJBQXVCLGlCQUFpQixpQ0FBaUMsbUNBQW1DLGFBQWEsc0JBQXNCLGdCQUFnQixnQ0FBZ0Msa0NBQWtDLGdCQUFnQixtQkFBbUIsMkJBQTJCLGdKQUFnSix3RkFBd0Ysb0ZBQW9GLDJEQUEyRCxzR0FBc0csZ0JBQWdCLGtIQUFrSCxnQkFBZ0IsSUFBSSxvQkFBb0IsZ0dBQWdHLGdCQUFnQixJQUFJLGdCQUFnQixpR0FBaUcsU0FBUyxpRkFBaUYsV0FBVywrR0FBK0csdUJBQXVCLG1EQUFtRCxzQkFBc0IsaUNBQWlDLG1CQUFtQixxRkFBcUYsV0FBVyxNQUFNLDhEQUE4RCw0ZEFBNGQsbUNBQW1DLFNBQVMsaURBQWlELGlDQUFpQyxvQkFBb0Isc0VBQXNFLG1DQUFtQyxzQ0FBc0Msc0dBQXNHLDBCQUEwQiwyRkFBMkYscUhBQXFILFNBQVMsMmJBQTJiLDJnQkFBMmdCLGlRQUFpUSwyQkFBMkIscURBQXFELHNEQUFzRCw4REFBOEQsb0JBQW9CLDBDQUEwQyxvQkFBb0IsV0FBVyxHQUFHLE9BQU8scUNBQXFDLHdDQUF3QyxpQkFBaUIsdUNBQXVDLDBDQUEwQyxhQUFhLElBQUksT0FBTywrQ0FBK0MsdURBQXVELGlCQUFpQixtREFBbUQsb0RBQW9ELFVBQVUsSUFBSSxPQUFPLHNFQUFzRSwwQ0FBMEMsTUFBTSx3Q0FBd0MscUVBQXFFLGlIQUFpSCxvQ0FBb0MsNkNBQTZDLGFBQWEsOEJBQThCLDBOQUEwTixzVUFBc1UseUJBQXlCLDhCQUE4Qix1R0FBdUcsd0hBQXdILGdDQUFnQyxtRUFBbUUsZ0dBQWdHLHdGQUF3Rix3Q0FBd0MsbURBQW1ELHlPQUF5TyxzQkFBc0IsUUFBUSx1RUFBdUUsd0NBQXdDLDREQUE0RCxtRkFBbUYsZ0JBQWdCLGdIQUFnSCxvREFBb0QsZ0NBQWdDLCtXQUErVyxxSEFBcUgsSUFBSSxpQkFBaUIsNkZBQTZGLHVCQUF1QixnRkFBZ0YscUNBQXFDLHdEQUF3RCxjQUFjLDJFQUEyRSxxRUFBcUUsK0ZBQStGLCtHQUErRyw4QkFBOEIsZ0JBQWdCLG1CQUFtQixZQUFZLFdBQVcsS0FBSyxhQUFhLFFBQVEsWUFBWSxXQUFXLDRFQUE0RSw0QkFBNEIsU0FBUyxTQUFTLGdDQUFnQywrQ0FBK0MsMGpCQUEwakIsbUVBQW1FLDhqQkFBOGpCLGlCQUFpQix3QkFBd0IsaUJBQWlCLDRHQUE0RyxnQ0FBZ0MsZ0VBQWdFLEtBQUssaUJBQWlCLDhEQUE4RCx3REFBd0QsdUJBQXVCLFFBQVEsa0JBQWtCLGdCQUFnQixtQkFBbUIsZ0NBQWdDLGdCQUFnQixhQUFhLHlCQUF5QixrQ0FBa0MsMEJBQTBCLDJFQUEyRSwyQkFBMkIsb0NBQW9DLDRCQUE0QiwrRUFBK0UsdUJBQXVCLGdDQUFnQyx3QkFBd0IsdUVBQXVFLGtCQUFrQiwyQkFBMkIsbUJBQW1CLDZEQUE2RCx5QkFBeUIsa0NBQWtDLDBCQUEwQixrSEFBa0gsNEJBQTRCLHFDQUFxQyw2QkFBNkIsaUZBQWlGLGNBQWMsdUJBQXVCLGVBQWUsNERBQTRELGVBQWUsd0JBQXdCLGdCQUFnQixpQ0FBaUMsb0JBQW9CLDZCQUE2QixxQkFBcUIsb0VBQW9FLHFCQUFxQix1QkFBdUIsY0FBYyxrQkFBa0IseUJBQXlCLGVBQWUsd0JBQXdCLGdTQUFnUyw4QkFBOEIsRUFBRSxnQkFBZ0IsR0FBRyw2SkFBNkosK0JBQStCLEVBQUUsZ0JBQWdCLEdBQUcsMk5BQTJOLGtCQUFrQixvREFBb0QsRUFBRSxnQkFBZ0IsaUJBQWlCLEVBQUUsZ0JBQWdCLElBQUkseUhBQXlILHFCQUFxQixrQkFBa0IsYUFBYSw4REFBOEQsMkxBQTJMLHNCQUFzQixrQkFBa0IsYUFBYSw2Q0FBNkMseURBQXlELFlBQVksa0JBQWtCLGVBQWUsZ0NBQWdDLGdCQUFnQixnQ0FBZ0MsTUFBTSx3QkFBd0IsMERBQTBELElBQUksU0FBUyx5ZkFBeWYsV0FBVyxrQkFBa0IsK1NBQStTLG1CQUFtQixzQ0FBc0MsdURBQXVELHFCQUFxQixxQkFBcUIsb0RBQW9ELEVBQUUsR0FBRyxrR0FBa0csMENBQTBDLGVBQWUsK0JBQStCLDJDQUEyQyw4UEFBOFAsU0FBUyw2SUFBNkksV0FBVyw4YkFBOGIsNEJBQTRCLHlDQUF5QyxtQ0FBbUMsOElBQThJLG1CQUFtQix5REFBeUQsd0JBQXdCLDRDQUE0QyxpSEFBaUgsaUJBQWlCLHlCQUF5QiwwTUFBME0sTUFBTSw4UUFBOFEsTUFBTSwyUkFBMlIsY0FBYyxjQUFjLGlKQUFpSixxRkFBcUYsd1RBQXdULE1BQU0sOFNBQThTLG1VQUFtVSxpQkFBaUIsb0hBQW9ILFVBQVUsZ0NBQWdDLHFDQUFxQyxtQkFBbUIsR0FBRyxpQkFBaUIsTUFBTSwyREFBMkQsZ1BBQWdQLCtFQUErRSxzQkFBc0IsbUhBQW1ILG1DQUFtQyxFQUFFLHdDQUF3QyxFQUFFLEtBQUssVUFBVSw0RkFBNEYsd0JBQXdCLGtUQUFrVCxZQUFZLGNBQWMsaURBQWlELDJiQUEyYix3RUFBd0UsbU5BQW1OLE1BQU0sc0NBQXNDLHVCQUF1QiwrS0FBK0ssVUFBVSx1RUFBdUUsWUFBWSwyUkFBMlIsNkZBQTZGLHdFQUF3RSwrTEFBK0wsTUFBTSxrRUFBa0UsNkpBQTZKLHVYQUF1WCxzRUFBc0UsMkdBQTJHLGlEQUFpRCxtUEFBbVAsMFVBQTBVLElBQUksd0JBQXdCLDhLQUE4SyxVQUFVLDBGQUEwRixtQ0FBbUMseUJBQXlCLDZGQUE2RixNQUFNLG9rQkFBb2tCLE1BQU0sb1BBQW9QLHlCQUF5QixrS0FBa0ssTUFBTSx3RkFBd0YsTUFBTSxzS0FBc0ssTUFBTSwyRkFBMkYsTUFBTSwrS0FBK0ssa0ZBQWtGLDJDQUEyQyxNQUFNLHFMQUFxTCx5QkFBeUIsK09BQStPLDBKQUEwSixVQUFVLGdDQUFnQyxhQUFhLGdKQUFnSiwwSkFBMEosb0JBQW9CLDZCQUE2QixjQUFjLDZiQUE2YiwwQ0FBMEMsZUFBZSx3QkFBd0Isa0JBQWtCLElBQUksbUNBQW1DLCtDQUErQyxLQUFLLFNBQVMsV0FBVyxzRkFBc0YscUJBQXFCLHFCQUFxQixVQUFVLDhKQUE4SixtQ0FBbUMsaUJBQWlCLG1FQUFtRSxxSkFBcUosaUJBQWlCLG9CQUFvQixnQ0FBZ0MseUhBQXlILHlDQUF5QyxlQUFlLEVBQUUsTUFBTSxLQUFLLElBQUksU0FBUyw0TkFBNE4sV0FBVyw4RUFBOEUsZ0JBQWdCLGlDQUFpQyxXQUFXLHFDQUFxQyx5QkFBeUIsZUFBZSw4WkFBOFosU0FBUyxtVUFBbVUsV0FBVywrSEFBK0gsMEJBQTBCLDJGQUEyRixXQUFXLDZGQUE2Riw4UEFBOFAsZUFBZSx5QkFBeUIsZ0tBQWdLLFlBQVksdUdBQXVHLGdCQUFnQix3QkFBd0IsY0FBYyxxVEFBcVQscUJBQXFCLHlVQUF5VSwrQkFBK0IsZUFBZSwrTEFBK0wsU0FBUyx1Y0FBdWMsU0FBUyxtQkFBbUIsU0FBUyx5R0FBeUcsa0JBQWtCLG9hQUFvYSxZQUFZLG9CQUFvQixhQUFhLHFGQUFxRixrQkFBa0IsK0lBQStJLGVBQWUsb0RBQW9ELGtCQUFrQiw0S0FBNEssYUFBYSx1QkFBdUIsV0FBVywrREFBK0QsV0FBVyw2RkFBNkYsTUFBTSxrQkFBa0IsaUJBQWlCLGtCQUFrQiw2QkFBNkIsY0FBYyx1REFBdUQsZUFBZSxtREFBbUQsaUJBQWlCLG9CQUFvQixVQUFVLGtCQUFrQiwyQ0FBMkMsK0VBQStFLDhDQUE4QyxzRUFBc0UsbUhBQW1ILDZDQUE2QyxxREFBcUQsZ0JBQWdCLDJEQUEyRCxtQkFBbUIsOERBQThELGFBQWEsaURBQWlELG1CQUFtQixNQUFNLDhGQUE4RixpQkFBaUIsdUJBQXVCLGNBQWMsa0RBQWtELGdEQUFnRCw4QkFBOEIsNkVBQTZFLG1EQUFtRCw2QkFBNkIsMEJBQTBCLDJCQUEyQixtQ0FBbUMsbUJBQW1CLHdCQUF3QixhQUFhLDZCQUE2Qix1RUFBdUUsYUFBYSx1RkFBdUYsV0FBVyxrQ0FBa0MscURBQXFELHNCQUFzQiw0V0FBNFcsK0tBQStLLHdCQUF3Qix3REFBd0QsT0FBTyxZQUFZLElBQUksS0FBSyxJQUFJLE9BQU8sSUFBSSxxQ0FBcUMsNERBQTRELHFCQUFxQix5QkFBeUIscUJBQXFCLHlEQUF5RCwwQ0FBMEMsY0FBYyxXQUFXLGVBQWUsZUFBZSxtREFBbUQsRUFBRSx3RUFBd0Usd01BQXdNLGtCQUFrQixvQ0FBb0MsV0FBVyx1UkFBdVIsbUJBQW1CLDZCQUE2QixvQkFBb0IseUJBQXlCLGtCQUFrQix3QkFBd0IsbUJBQW1CLG9CQUFvQixtQkFBbUIsc0JBQXNCLG9CQUFvQixrQkFBa0IsZ0NBQWdDLDRDQUE0QyxpQ0FBaUMsd0NBQXdDLGlCQUFpQixxQkFBcUIsMEZBQTBGLFVBQVU7O0FBRTNuaGY7O0FBRUE7O0FBRUE7O0FBRUEsQ0FBQztBQUNEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXJpc3RvcnktdmlsbGFnZXMtdWkvLi9ub2RlX21vZHVsZXMvbWFwYm94LWdsL2Rpc3QvbWFwYm94LWdsLmpzP2UxOTIiXSwic291cmNlc0NvbnRlbnQiOlsiLyogTWFwYm94IEdMIEpTIGlzIENvcHlyaWdodCDCqSAyMDIwIE1hcGJveCBhbmQgc3ViamVjdCB0byB0aGUgTWFwYm94IFRlcm1zIG9mIFNlcnZpY2UgKChodHRwczovL3d3dy5tYXBib3guY29tL2xlZ2FsL3Rvcy8pLiAqL1xuKGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcbnR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyA/IG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpIDpcbnR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShmYWN0b3J5KSA6XG4oZ2xvYmFsID0gdHlwZW9mIGdsb2JhbFRoaXMgIT09ICd1bmRlZmluZWQnID8gZ2xvYmFsVGhpcyA6IGdsb2JhbCB8fCBzZWxmLCBnbG9iYWwubWFwYm94Z2wgPSBmYWN0b3J5KCkpO1xufSkodGhpcywgKGZ1bmN0aW9uICgpIHsgJ3VzZSBzdHJpY3QnO1xuXG4vKiBlc2xpbnQtZGlzYWJsZSAqL1xuXG52YXIgc2hhcmVkLCB3b3JrZXIsIG1hcGJveGdsO1xuLy8gZGVmaW5lIGdldHMgY2FsbGVkIHRocmVlIHRpbWVzOiBvbmUgZm9yIGVhY2ggY2h1bmsuIHdlIHJlbHkgb24gdGhlIG9yZGVyXG4vLyB0aGV5J3JlIGltcG9ydGVkIHRvIGtub3cgd2hpY2ggaXMgd2hpY2hcbmZ1bmN0aW9uIGRlZmluZShfLCBjaHVuaykge1xuaWYgKCFzaGFyZWQpIHtcbiAgICBzaGFyZWQgPSBjaHVuaztcbn0gZWxzZSBpZiAoIXdvcmtlcikge1xuICAgIHdvcmtlciA9IGNodW5rO1xufSBlbHNlIHtcbiAgICB2YXIgd29ya2VyQnVuZGxlU3RyaW5nID0gXCJzZWxmLm9uZXJyb3IgPSBmdW5jdGlvbigpIHsgY29uc29sZS5lcnJvcignQW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgcGFyc2luZyB0aGUgV2ViV29ya2VyIGJ1bmRsZS4gVGhpcyBpcyBtb3N0IGxpa2VseSBkdWUgdG8gaW1wcm9wZXIgdHJhbnNwaWxhdGlvbiBieSBCYWJlbDsgcGxlYXNlIHNlZSBodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZ3VpZGVzL2luc3RhbGwvI3RyYW5zcGlsaW5nJyk7IH07IHZhciBzaGFyZWRDaHVuayA9IHt9OyAoXCIgKyBzaGFyZWQgKyBcIikoc2hhcmVkQ2h1bmspOyAoXCIgKyB3b3JrZXIgKyBcIikoc2hhcmVkQ2h1bmspOyBzZWxmLm9uZXJyb3IgPSBudWxsO1wiXG5cbiAgICB2YXIgc2hhcmVkQ2h1bmsgPSB7fTtcbiAgICBzaGFyZWQoc2hhcmVkQ2h1bmspO1xuICAgIG1hcGJveGdsID0gY2h1bmsoc2hhcmVkQ2h1bmspO1xuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cgJiYgd2luZG93LlVSTCAmJiB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTCkge1xuICAgICAgICBtYXBib3hnbC53b3JrZXJVcmwgPSB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChuZXcgQmxvYihbd29ya2VyQnVuZGxlU3RyaW5nXSwgeyB0eXBlOiAndGV4dC9qYXZhc2NyaXB0JyB9KSk7XG4gICAgfVxufVxufVxuXG5cbmRlZmluZShbXCJleHBvcnRzXCJdLChmdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjt2YXIgZT1cInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOnt9LHI9XCIyLjExLjBcIjtsZXQgbjtjb25zdCBpPXtBUElfVVJMOlwiaHR0cHM6Ly9hcGkubWFwYm94LmNvbVwiLGdldCBBUElfVVJMX1JFR0VYKCl7aWYobnVsbD09bil7Y29uc3QgdD0vXigoaHR0cHM/Oik/XFwvXFwvKT8oW15cXC9dK1xcLik/bWFwYm94XFwuYyhufG9tKShcXC98XFw/fCQpL2k7dHJ5e249bnVsbCE9cHJvY2Vzcy5lbnYuQVBJX1VSTF9SRUdFWD9uZXcgUmVnRXhwKHByb2Nlc3MuZW52LkFQSV9VUkxfUkVHRVgpOnQ7fWNhdGNoKGUpe249dDt9fXJldHVybiBufSxnZXQgQVBJX1RJTEVKU09OX1JFR0VYKCl7cmV0dXJuIC9eKChodHRwcz86KT9cXC9cXC8pPyhbXlxcL10rXFwuKT9tYXBib3hcXC5jKG58b20pKFxcL3ZbMC05XSpcXC8uKlxcLmpzb24uKiQpL2l9LGdldCBBUElfU1BSSVRFX1JFR0VYKCl7cmV0dXJuIC9eKChodHRwcz86KT9cXC9cXC8pPyhbXlxcL10rXFwuKT9tYXBib3hcXC5jKG58b20pKFxcL3N0eWxlc1xcL3ZbMC05XSpcXC8pKC4qXFwvc3ByaXRlLipcXC4uKiQpL2l9LGdldCBBUElfRk9OVFNfUkVHRVgoKXtyZXR1cm4gL14oKGh0dHBzPzopP1xcL1xcLyk/KFteXFwvXStcXC4pP21hcGJveFxcLmMobnxvbSkoXFwvZm9udHNcXC92WzAtOV0qXFwvKSguKlxcLnBiZi4qJCkvaX0sZ2V0IEFQSV9TVFlMRV9SRUdFWCgpe3JldHVybiAvXigoaHR0cHM/Oik/XFwvXFwvKT8oW15cXC9dK1xcLik/bWFwYm94XFwuYyhufG9tKShcXC9zdHlsZXNcXC92WzAtOV0qXFwvKSguKiQpL2l9LGdldCBFVkVOVFNfVVJMKCl7cmV0dXJuIHRoaXMuQVBJX1VSTD8wPT09dGhpcy5BUElfVVJMLmluZGV4T2YoXCJodHRwczovL2FwaS5tYXBib3guY25cIik/XCJodHRwczovL2V2ZW50cy5tYXBib3guY24vZXZlbnRzL3YyXCI6MD09PXRoaXMuQVBJX1VSTC5pbmRleE9mKFwiaHR0cHM6Ly9hcGkubWFwYm94LmNvbVwiKT9cImh0dHBzOi8vZXZlbnRzLm1hcGJveC5jb20vZXZlbnRzL3YyXCI6bnVsbDpudWxsfSxTRVNTSU9OX1BBVEg6XCIvbWFwLXNlc3Npb25zL3YxXCIsRkVFREJBQ0tfVVJMOlwiaHR0cHM6Ly9hcHBzLm1hcGJveC5jb20vZmVlZGJhY2tcIixUSUxFX1VSTF9WRVJTSU9OOlwidjRcIixSQVNURVJfVVJMX1BSRUZJWDpcInJhc3Rlci92MVwiLFJFUVVJUkVfQUNDRVNTX1RPS0VOOiEwLEFDQ0VTU19UT0tFTjpudWxsLE1BWF9QQVJBTExFTF9JTUFHRV9SRVFVRVNUUzoxNn0scz17c3VwcG9ydGVkOiExLHRlc3RTdXBwb3J0OmZ1bmN0aW9uKHQpeyFsJiZvJiYodT9jKHQpOmE9dCk7fX07bGV0IGEsbyxsPSExLHU9ITE7ZnVuY3Rpb24gYyh0KXtjb25zdCBlPXQuY3JlYXRlVGV4dHVyZSgpO3QuYmluZFRleHR1cmUodC5URVhUVVJFXzJELGUpO3RyeXtpZih0LnRleEltYWdlMkQodC5URVhUVVJFXzJELDAsdC5SR0JBLHQuUkdCQSx0LlVOU0lHTkVEX0JZVEUsbyksdC5pc0NvbnRleHRMb3N0KCkpcmV0dXJuO3Muc3VwcG9ydGVkPSEwO31jYXRjaCh0KXt9dC5kZWxldGVUZXh0dXJlKGUpLGw9ITA7fWUuZG9jdW1lbnQmJihvPWUuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKSxvLm9ubG9hZD1mdW5jdGlvbigpe2EmJmMoYSksYT1udWxsLHU9ITA7fSxvLm9uZXJyb3I9ZnVuY3Rpb24oKXtsPSEwLGE9bnVsbDt9LG8uc3JjPVwiZGF0YTppbWFnZS93ZWJwO2Jhc2U2NCxVa2xHUmg0QUFBQlhSVUpRVmxBNFRCRUFBQUF2QVFBQUFBZlEvLzczdi8rQmlPaC9BQUE9XCIpO2NvbnN0IGg9XCIwMVwiO3ZhciBwPWY7ZnVuY3Rpb24gZih0LGUscixuKXt0aGlzLmN4PTMqdCx0aGlzLmJ4PTMqKHItdCktdGhpcy5jeCx0aGlzLmF4PTEtdGhpcy5jeC10aGlzLmJ4LHRoaXMuY3k9MyplLHRoaXMuYnk9Myoobi1lKS10aGlzLmN5LHRoaXMuYXk9MS10aGlzLmN5LXRoaXMuYnksdGhpcy5wMXg9dCx0aGlzLnAxeT1lLHRoaXMucDJ4PXIsdGhpcy5wMnk9bjt9Zi5wcm90b3R5cGU9e3NhbXBsZUN1cnZlWDpmdW5jdGlvbih0KXtyZXR1cm4gKCh0aGlzLmF4KnQrdGhpcy5ieCkqdCt0aGlzLmN4KSp0fSxzYW1wbGVDdXJ2ZVk6ZnVuY3Rpb24odCl7cmV0dXJuICgodGhpcy5heSp0K3RoaXMuYnkpKnQrdGhpcy5jeSkqdH0sc2FtcGxlQ3VydmVEZXJpdmF0aXZlWDpmdW5jdGlvbih0KXtyZXR1cm4gKDMqdGhpcy5heCp0KzIqdGhpcy5ieCkqdCt0aGlzLmN4fSxzb2x2ZUN1cnZlWDpmdW5jdGlvbih0LGUpe2lmKHZvaWQgMD09PWUmJihlPTFlLTYpLHQ8MClyZXR1cm4gMDtpZih0PjEpcmV0dXJuIDE7Zm9yKHZhciByPXQsbj0wO248ODtuKyspe3ZhciBpPXRoaXMuc2FtcGxlQ3VydmVYKHIpLXQ7aWYoTWF0aC5hYnMoaSk8ZSlyZXR1cm4gcjt2YXIgcz10aGlzLnNhbXBsZUN1cnZlRGVyaXZhdGl2ZVgocik7aWYoTWF0aC5hYnMocyk8MWUtNilicmVhaztyLT1pL3M7fXZhciBhPTAsbz0xO2ZvcihyPXQsbj0wO248MjAmJihpPXRoaXMuc2FtcGxlQ3VydmVYKHIpLCEoTWF0aC5hYnMoaS10KTxlKSk7bisrKXQ+aT9hPXI6bz1yLHI9LjUqKG8tYSkrYTtyZXR1cm4gcn0sc29sdmU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5zYW1wbGVDdXJ2ZVkodGhpcy5zb2x2ZUN1cnZlWCh0LGUpKX19O3ZhciBkPXk7ZnVuY3Rpb24geSh0LGUpe3RoaXMueD10LHRoaXMueT1lO315LnByb3RvdHlwZT17Y2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHkodGhpcy54LHRoaXMueSl9LGFkZDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jbG9uZSgpLl9hZGQodCl9LHN1YjpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jbG9uZSgpLl9zdWIodCl9LG11bHRCeVBvaW50OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNsb25lKCkuX211bHRCeVBvaW50KHQpfSxkaXZCeVBvaW50OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNsb25lKCkuX2RpdkJ5UG9pbnQodCl9LG11bHQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY2xvbmUoKS5fbXVsdCh0KX0sZGl2OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNsb25lKCkuX2Rpdih0KX0scm90YXRlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNsb25lKCkuX3JvdGF0ZSh0KX0scm90YXRlQXJvdW5kOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuY2xvbmUoKS5fcm90YXRlQXJvdW5kKHQsZSl9LG1hdE11bHQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY2xvbmUoKS5fbWF0TXVsdCh0KX0sdW5pdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNsb25lKCkuX3VuaXQoKX0scGVycDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNsb25lKCkuX3BlcnAoKX0scm91bmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jbG9uZSgpLl9yb3VuZCgpfSxtYWc6ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5zcXJ0KHRoaXMueCp0aGlzLngrdGhpcy55KnRoaXMueSl9LGVxdWFsczpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy54PT09dC54JiZ0aGlzLnk9PT10Lnl9LGRpc3Q6ZnVuY3Rpb24odCl7cmV0dXJuIE1hdGguc3FydCh0aGlzLmRpc3RTcXIodCkpfSxkaXN0U3FyOmZ1bmN0aW9uKHQpe3ZhciBlPXQueC10aGlzLngscj10LnktdGhpcy55O3JldHVybiBlKmUrcipyfSxhbmdsZTpmdW5jdGlvbigpe3JldHVybiBNYXRoLmF0YW4yKHRoaXMueSx0aGlzLngpfSxhbmdsZVRvOmZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLmF0YW4yKHRoaXMueS10LnksdGhpcy54LXQueCl9LGFuZ2xlV2l0aDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5hbmdsZVdpdGhTZXAodC54LHQueSl9LGFuZ2xlV2l0aFNlcDpmdW5jdGlvbih0LGUpe3JldHVybiBNYXRoLmF0YW4yKHRoaXMueCplLXRoaXMueSp0LHRoaXMueCp0K3RoaXMueSplKX0sX21hdE11bHQ6ZnVuY3Rpb24odCl7dmFyIGU9dFsyXSp0aGlzLngrdFszXSp0aGlzLnk7cmV0dXJuIHRoaXMueD10WzBdKnRoaXMueCt0WzFdKnRoaXMueSx0aGlzLnk9ZSx0aGlzfSxfYWRkOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLngrPXQueCx0aGlzLnkrPXQueSx0aGlzfSxfc3ViOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLngtPXQueCx0aGlzLnktPXQueSx0aGlzfSxfbXVsdDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy54Kj10LHRoaXMueSo9dCx0aGlzfSxfZGl2OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLngvPXQsdGhpcy55Lz10LHRoaXN9LF9tdWx0QnlQb2ludDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy54Kj10LngsdGhpcy55Kj10LnksdGhpc30sX2RpdkJ5UG9pbnQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMueC89dC54LHRoaXMueS89dC55LHRoaXN9LF91bml0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Rpdih0aGlzLm1hZygpKSx0aGlzfSxfcGVycDpmdW5jdGlvbigpe3ZhciB0PXRoaXMueTtyZXR1cm4gdGhpcy55PXRoaXMueCx0aGlzLng9LXQsdGhpc30sX3JvdGF0ZTpmdW5jdGlvbih0KXt2YXIgZT1NYXRoLmNvcyh0KSxyPU1hdGguc2luKHQpLG49cip0aGlzLngrZSp0aGlzLnk7cmV0dXJuIHRoaXMueD1lKnRoaXMueC1yKnRoaXMueSx0aGlzLnk9bix0aGlzfSxfcm90YXRlQXJvdW5kOmZ1bmN0aW9uKHQsZSl7dmFyIHI9TWF0aC5jb3ModCksbj1NYXRoLnNpbih0KSxpPWUueStuKih0aGlzLngtZS54KStyKih0aGlzLnktZS55KTtyZXR1cm4gdGhpcy54PWUueCtyKih0aGlzLngtZS54KS1uKih0aGlzLnktZS55KSx0aGlzLnk9aSx0aGlzfSxfcm91bmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy54PU1hdGgucm91bmQodGhpcy54KSx0aGlzLnk9TWF0aC5yb3VuZCh0aGlzLnkpLHRoaXN9fSx5LmNvbnZlcnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiB5P3Q6QXJyYXkuaXNBcnJheSh0KT9uZXcgeSh0WzBdLHRbMV0pOnR9O2NvbnN0IG09TWF0aC5QSS8xODAsZz0xODAvTWF0aC5QSTtmdW5jdGlvbiB4KHQpe3JldHVybiB0Km19ZnVuY3Rpb24gdih0KXtyZXR1cm4gdCpnfWNvbnN0IGI9W1swLDBdLFsxLDBdLFsxLDFdLFswLDFdXTtmdW5jdGlvbiBfKHQpe2lmKHQ8PTApcmV0dXJuIDA7aWYodD49MSlyZXR1cm4gMTtjb25zdCBlPXQqdCxyPWUqdDtyZXR1cm4gNCoodDwuNT9yOjMqKHQtZSkrci0uNzUpfWZ1bmN0aW9uIHcodCxlLHIsbil7Y29uc3QgaT1uZXcgcCh0LGUscixuKTtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGkuc29sdmUodCl9fWNvbnN0IEE9dyguMjUsLjEsLjI1LDEpO2Z1bmN0aW9uIFModCxlLHIpe3JldHVybiBNYXRoLm1pbihyLE1hdGgubWF4KGUsdCkpfWZ1bmN0aW9uIGsodCxlLHIpe3JldHVybiAocj1TKChyLXQpLyhlLXQpLDAsMSkpKnIqKDMtMipyKX1mdW5jdGlvbiBJKHQsZSxyKXtjb25zdCBuPXItZSxpPSgodC1lKSVuK24pJW4rZTtyZXR1cm4gaT09PWU/cjppfWZ1bmN0aW9uIE0odCxlLHIpe2lmKCF0Lmxlbmd0aClyZXR1cm4gcihudWxsLFtdKTtsZXQgbj10Lmxlbmd0aDtjb25zdCBpPW5ldyBBcnJheSh0Lmxlbmd0aCk7bGV0IHM9bnVsbDt0LmZvckVhY2goKCh0LGEpPT57ZSh0LCgodCxlKT0+e3QmJihzPXQpLGlbYV09ZSwwPT0tLW4mJnIocyxpKTt9KSk7fSkpO31mdW5jdGlvbiB6KHQpe2NvbnN0IGU9W107Zm9yKGNvbnN0IHIgaW4gdCllLnB1c2godFtyXSk7cmV0dXJuIGV9ZnVuY3Rpb24gVCh0LC4uLmUpe2Zvcihjb25zdCByIG9mIGUpZm9yKGNvbnN0IGUgaW4gcil0W2VdPXJbZV07cmV0dXJuIHR9bGV0IEI9MTtmdW5jdGlvbiBFKCl7cmV0dXJuIEIrK31mdW5jdGlvbiBQKCl7cmV0dXJuIGZ1bmN0aW9uIHQoZSl7cmV0dXJuIGU/KGVeTWF0aC5yYW5kb20oKSooMTY+PmUvNCkpLnRvU3RyaW5nKDE2KTooWzFlN10rLVsxZTNdKy00ZTMrLThlMystMWUxMSkucmVwbGFjZSgvWzAxOF0vZyx0KX0oKX1mdW5jdGlvbiBDKHQpe3JldHVybiB0PD0xPzE6TWF0aC5wb3coMixNYXRoLmNlaWwoTWF0aC5sb2codCkvTWF0aC5MTjIpKX1mdW5jdGlvbiBEKHQpe3JldHVybiAhIXQmJi9eWzAtOWEtZl17OH0tWzAtOWEtZl17NH0tWzRdWzAtOWEtZl17M30tWzg5YWJdWzAtOWEtZl17M30tWzAtOWEtZl17MTJ9JC9pLnRlc3QodCl9ZnVuY3Rpb24gVih0LGUpe3QuZm9yRWFjaCgodD0+e2VbdF0mJihlW3RdPWVbdF0uYmluZChlKSk7fSkpO31mdW5jdGlvbiBGKHQsZSl7cmV0dXJuIC0xIT09dC5pbmRleE9mKGUsdC5sZW5ndGgtZS5sZW5ndGgpfWZ1bmN0aW9uIEwodCxlLHIpe2NvbnN0IG49e307Zm9yKGNvbnN0IGkgaW4gdCluW2ldPWUuY2FsbChyfHx0aGlzLHRbaV0saSx0KTtyZXR1cm4gbn1mdW5jdGlvbiBSKHQsZSxyKXtjb25zdCBuPXt9O2Zvcihjb25zdCBpIGluIHQpZS5jYWxsKHJ8fHRoaXMsdFtpXSxpLHQpJiYobltpXT10W2ldKTtyZXR1cm4gbn1mdW5jdGlvbiBVKHQpe3JldHVybiBBcnJheS5pc0FycmF5KHQpP3QubWFwKFUpOlwib2JqZWN0XCI9PXR5cGVvZiB0JiZ0P0wodCxVKTp0fWNvbnN0IGo9e307ZnVuY3Rpb24gJCh0KXtqW3RdfHwoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGNvbnNvbGUmJmNvbnNvbGUud2Fybih0KSxqW3RdPSEwKTt9ZnVuY3Rpb24gTyh0LGUscil7cmV0dXJuIChyLnktdC55KSooZS54LXQueCk+KGUueS10LnkpKihyLngtdC54KX1mdW5jdGlvbiBxKHQpe2xldCBlPTA7Zm9yKGxldCByLG4saT0wLHM9dC5sZW5ndGgsYT1zLTE7aTxzO2E9aSsrKXI9dFtpXSxuPXRbYV0sZSs9KG4ueC1yLngpKihyLnkrbi55KTtyZXR1cm4gZX1mdW5jdGlvbiBOKCl7cmV0dXJuIFwidW5kZWZpbmVkXCIhPXR5cGVvZiBXb3JrZXJHbG9iYWxTY29wZSYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGYmJnNlbGYgaW5zdGFuY2VvZiBXb3JrZXJHbG9iYWxTY29wZX1mdW5jdGlvbiBHKHQpe2NvbnN0IGU9e307aWYodC5yZXBsYWNlKC8oPzpefCg/OlxccypcXCxcXHMqKSkoW15cXHgwMC1cXHgyMFxcKFxcKTw+QFxcLDtcXDpcXFxcXCJcXC9cXFtcXF1cXD9cXD1cXHtcXH1cXHg3Rl0rKSg/OlxcPSg/OihbXlxceDAwLVxceDIwXFwoXFwpPD5AXFwsO1xcOlxcXFxcIlxcL1xcW1xcXVxcP1xcPVxce1xcfVxceDdGXSspfCg/OlxcXCIoKD86W15cIlxcXFxdfFxcXFwuKSopXFxcIikpKT8vZywoKHQscixuLGkpPT57Y29uc3Qgcz1ufHxpO3JldHVybiBlW3JdPSFzfHxzLnRvTG93ZXJDYXNlKCksXCJcIn0pKSxlW1wibWF4LWFnZVwiXSl7Y29uc3QgdD1wYXJzZUludChlW1wibWF4LWFnZVwiXSwxMCk7aXNOYU4odCk/ZGVsZXRlIGVbXCJtYXgtYWdlXCJdOmVbXCJtYXgtYWdlXCJdPXQ7fXJldHVybiBlfWxldCBaPW51bGw7ZnVuY3Rpb24gWCh0KXtpZihudWxsPT1aKXtjb25zdCBlPXQubmF2aWdhdG9yP3QubmF2aWdhdG9yLnVzZXJBZ2VudDpudWxsO1o9ISF0LnNhZmFyaXx8ISghZXx8ISgvXFxiKGlQYWR8aVBob25lfGlQb2QpXFxiLy50ZXN0KGUpfHxlLm1hdGNoKFwiU2FmYXJpXCIpJiYhZS5tYXRjaChcIkNocm9tZVwiKSkpO31yZXR1cm4gWn1mdW5jdGlvbiBLKHQpe3RyeXtjb25zdCByPWVbdF07cmV0dXJuIHIuc2V0SXRlbShcIl9tYXBib3hfdGVzdF9cIiwxKSxyLnJlbW92ZUl0ZW0oXCJfbWFwYm94X3Rlc3RfXCIpLCEwfWNhdGNoKHQpe3JldHVybiAhMX19ZnVuY3Rpb24gSCh0LGUpe3JldHVybiBbdFs0KmVdLHRbNCplKzFdLHRbNCplKzJdLHRbNCplKzNdXX1jb25zdCBZPVwibWFwYm94LXRpbGVzXCI7bGV0IFcsSixRPTUwMCx0dD01MDtmdW5jdGlvbiBldCgpe3RyeXtyZXR1cm4gZS5jYWNoZXN9Y2F0Y2godCl7fX1mdW5jdGlvbiBydCgpe2V0KCkmJiFXJiYoVz1lLmNhY2hlcy5vcGVuKFkpKTt9ZnVuY3Rpb24gbnQodCl7Y29uc3QgZT10LmluZGV4T2YoXCI/XCIpO2lmKGU8MClyZXR1cm4gdDtjb25zdCByPWZ1bmN0aW9uKHQpe2NvbnN0IGU9dC5pbmRleE9mKFwiP1wiKTtyZXR1cm4gZT4wP3Quc2xpY2UoZSsxKS5zcGxpdChcIiZcIik6W119KHQpLG49ci5maWx0ZXIoKHQ9Pntjb25zdCBlPXQuc3BsaXQoXCI9XCIpO3JldHVybiBcImxhbmd1YWdlXCI9PT1lWzBdfHxcIndvcmxkdmlld1wiPT09ZVswXX0pKTtyZXR1cm4gbi5sZW5ndGg/YCR7dC5zbGljZSgwLGUpfT8ke24uam9pbihcIiZcIil9YDp0LnNsaWNlKDAsZSl9bGV0IGl0PTEvMDtjb25zdCBzdD17VW5rbm93bjpcIlVua25vd25cIixTdHlsZTpcIlN0eWxlXCIsU291cmNlOlwiU291cmNlXCIsVGlsZTpcIlRpbGVcIixHbHlwaHM6XCJHbHlwaHNcIixTcHJpdGVJbWFnZTpcIlNwcml0ZUltYWdlXCIsU3ByaXRlSlNPTjpcIlNwcml0ZUpTT05cIixJbWFnZTpcIkltYWdlXCJ9O1wiZnVuY3Rpb25cIj09dHlwZW9mIE9iamVjdC5mcmVlemUmJk9iamVjdC5mcmVlemUoc3QpO2NsYXNzIGF0IGV4dGVuZHMgRXJyb3J7Y29uc3RydWN0b3IodCxlLHIpezQwMT09PWUmJmd0KHIpJiYodCs9XCI6IHlvdSBtYXkgaGF2ZSBwcm92aWRlZCBhbiBpbnZhbGlkIE1hcGJveCBhY2Nlc3MgdG9rZW4uIFNlZSBodHRwczovL3d3dy5tYXBib3guY29tL2FwaS1kb2N1bWVudGF0aW9uLyNhY2Nlc3MtdG9rZW5zLWFuZC10b2tlbi1zY29wZXNcIiksc3VwZXIodCksdGhpcy5zdGF0dXM9ZSx0aGlzLnVybD1yO310b1N0cmluZygpe3JldHVybiBgJHt0aGlzLm5hbWV9OiAke3RoaXMubWVzc2FnZX0gKCR7dGhpcy5zdGF0dXN9KTogJHt0aGlzLnVybH1gfX1jb25zdCBvdD1OKCk/KCk9PnNlbGYud29ya2VyJiZzZWxmLndvcmtlci5yZWZlcnJlcjooKT0+KFwiYmxvYjpcIj09PWUubG9jYXRpb24ucHJvdG9jb2w/ZS5wYXJlbnQ6ZSkubG9jYXRpb24uaHJlZjtjb25zdCBsdD1mdW5jdGlvbih0LHIpe2lmKCEoL15maWxlOi8udGVzdChuPXQudXJsKXx8L15maWxlOi8udGVzdChvdCgpKSYmIS9eXFx3KzovLnRlc3QobikpKXtpZihlLmZldGNoJiZlLlJlcXVlc3QmJmUuQWJvcnRDb250cm9sbGVyJiZlLlJlcXVlc3QucHJvdG90eXBlLmhhc093blByb3BlcnR5KFwic2lnbmFsXCIpKXJldHVybiBmdW5jdGlvbih0LHIpe2NvbnN0IG49bmV3IGUuQWJvcnRDb250cm9sbGVyLGk9bmV3IGUuUmVxdWVzdCh0LnVybCx7bWV0aG9kOnQubWV0aG9kfHxcIkdFVFwiLGJvZHk6dC5ib2R5LGNyZWRlbnRpYWxzOnQuY3JlZGVudGlhbHMsaGVhZGVyczp0LmhlYWRlcnMscmVmZXJyZXI6b3QoKSxzaWduYWw6bi5zaWduYWx9KTtsZXQgcz0hMSxhPSExO2NvbnN0IG89KGw9aS51cmwpLmluZGV4T2YoXCJza3U9XCIpPjAmJmd0KGwpO3ZhciBsO1wianNvblwiPT09dC50eXBlJiZpLmhlYWRlcnMuc2V0KFwiQWNjZXB0XCIsXCJhcHBsaWNhdGlvbi9qc29uXCIpO2NvbnN0IHU9KG4scyxsKT0+e2lmKGEpcmV0dXJuO2lmKG4mJlwiU2VjdXJpdHlFcnJvclwiIT09bi5tZXNzYWdlJiYkKG4pLHMmJmwpcmV0dXJuIGMocyk7Y29uc3QgdT1EYXRlLm5vdygpO2UuZmV0Y2goaSkudGhlbigoZT0+e2lmKGUub2spe2NvbnN0IHQ9bz9lLmNsb25lKCk6bnVsbDtyZXR1cm4gYyhlLHQsdSl9cmV0dXJuIHIobmV3IGF0KGUuc3RhdHVzVGV4dCxlLnN0YXR1cyx0LnVybCkpfSkpLmNhdGNoKCh0PT57MjAhPT10LmNvZGUmJnIobmV3IEVycm9yKHQubWVzc2FnZSkpO30pKTt9LGM9KG4sbyxsKT0+eyhcImFycmF5QnVmZmVyXCI9PT10LnR5cGU/bi5hcnJheUJ1ZmZlcigpOlwianNvblwiPT09dC50eXBlP24uanNvbigpOm4udGV4dCgpKS50aGVuKCh0PT57YXx8KG8mJmwmJmZ1bmN0aW9uKHQscixuKXtpZihydCgpLCFXKXJldHVybjtjb25zdCBpPXtzdGF0dXM6ci5zdGF0dXMsc3RhdHVzVGV4dDpyLnN0YXR1c1RleHQsaGVhZGVyczpuZXcgZS5IZWFkZXJzfTtyLmhlYWRlcnMuZm9yRWFjaCgoKHQsZSk9PmkuaGVhZGVycy5zZXQoZSx0KSkpO2NvbnN0IHM9RyhyLmhlYWRlcnMuZ2V0KFwiQ2FjaGUtQ29udHJvbFwiKXx8XCJcIik7aWYoc1tcIm5vLXN0b3JlXCJdKXJldHVybjtzW1wibWF4LWFnZVwiXSYmaS5oZWFkZXJzLnNldChcIkV4cGlyZXNcIixuZXcgRGF0ZShuKzFlMypzW1wibWF4LWFnZVwiXSkudG9VVENTdHJpbmcoKSk7Y29uc3QgYT1pLmhlYWRlcnMuZ2V0KFwiRXhwaXJlc1wiKTthJiYobmV3IERhdGUoYSkuZ2V0VGltZSgpLW48NDJlNHx8ZnVuY3Rpb24odCxlKXtpZih2b2lkIDA9PT1KKXRyeXtuZXcgUmVzcG9uc2UobmV3IFJlYWRhYmxlU3RyZWFtKSxKPSEwO31jYXRjaCh0KXtKPSExO31KP2UodC5ib2R5KTp0LmJsb2IoKS50aGVuKGUpO30ociwocj0+e2NvbnN0IG49bmV3IGUuUmVzcG9uc2UocixpKTtydCgpLFcmJlcudGhlbigoZT0+ZS5wdXQobnQodC51cmwpLG4pKSkuY2F0Y2goKHQ9PiQodC5tZXNzYWdlKSkpO30pKSk7fShpLG8sbCkscz0hMCxyKG51bGwsdCxuLmhlYWRlcnMuZ2V0KFwiQ2FjaGUtQ29udHJvbFwiKSxuLmhlYWRlcnMuZ2V0KFwiRXhwaXJlc1wiKSkpO30pKS5jYXRjaCgodD0+e2F8fHIobmV3IEVycm9yKHQubWVzc2FnZSkpO30pKTt9O3JldHVybiBvP2Z1bmN0aW9uKHQsZSl7aWYocnQoKSwhVylyZXR1cm4gZShudWxsKTtjb25zdCByPW50KHQudXJsKTtXLnRoZW4oKHQ9Pnt0Lm1hdGNoKHIpLnRoZW4oKG49Pntjb25zdCBpPWZ1bmN0aW9uKHQpe2lmKCF0KXJldHVybiAhMTtjb25zdCBlPW5ldyBEYXRlKHQuaGVhZGVycy5nZXQoXCJFeHBpcmVzXCIpfHwwKSxyPUcodC5oZWFkZXJzLmdldChcIkNhY2hlLUNvbnRyb2xcIil8fFwiXCIpO3JldHVybiBlPkRhdGUubm93KCkmJiFyW1wibm8tY2FjaGVcIl19KG4pO3QuZGVsZXRlKHIpLGkmJnQucHV0KHIsbi5jbG9uZSgpKSxlKG51bGwsbixpKTt9KSkuY2F0Y2goZSk7fSkpLmNhdGNoKGUpO30oaSx1KTp1KG51bGwsbnVsbCkse2NhbmNlbDooKT0+e2E9ITAsc3x8bi5hYm9ydCgpO319fSh0LHIpO2lmKE4oKSYmc2VsZi53b3JrZXImJnNlbGYud29ya2VyLmFjdG9yKXJldHVybiBzZWxmLndvcmtlci5hY3Rvci5zZW5kKFwiZ2V0UmVzb3VyY2VcIix0LHIsdm9pZCAwLCEwKX12YXIgbjtyZXR1cm4gZnVuY3Rpb24odCxyKXtjb25zdCBuPW5ldyBlLlhNTEh0dHBSZXF1ZXN0O24ub3Blbih0Lm1ldGhvZHx8XCJHRVRcIix0LnVybCwhMCksXCJhcnJheUJ1ZmZlclwiPT09dC50eXBlJiYobi5yZXNwb25zZVR5cGU9XCJhcnJheWJ1ZmZlclwiKTtmb3IoY29uc3QgZSBpbiB0LmhlYWRlcnMpbi5zZXRSZXF1ZXN0SGVhZGVyKGUsdC5oZWFkZXJzW2VdKTtyZXR1cm4gXCJqc29uXCI9PT10LnR5cGUmJihuLnJlc3BvbnNlVHlwZT1cInRleHRcIixuLnNldFJlcXVlc3RIZWFkZXIoXCJBY2NlcHRcIixcImFwcGxpY2F0aW9uL2pzb25cIikpLG4ud2l0aENyZWRlbnRpYWxzPVwiaW5jbHVkZVwiPT09dC5jcmVkZW50aWFscyxuLm9uZXJyb3I9KCk9PntyKG5ldyBFcnJvcihuLnN0YXR1c1RleHQpKTt9LG4ub25sb2FkPSgpPT57aWYoKG4uc3RhdHVzPj0yMDAmJm4uc3RhdHVzPDMwMHx8MD09PW4uc3RhdHVzKSYmbnVsbCE9PW4ucmVzcG9uc2Upe2xldCBlPW4ucmVzcG9uc2U7aWYoXCJqc29uXCI9PT10LnR5cGUpdHJ5e2U9SlNPTi5wYXJzZShuLnJlc3BvbnNlKTt9Y2F0Y2godCl7cmV0dXJuIHIodCl9cihudWxsLGUsbi5nZXRSZXNwb25zZUhlYWRlcihcIkNhY2hlLUNvbnRyb2xcIiksbi5nZXRSZXNwb25zZUhlYWRlcihcIkV4cGlyZXNcIikpO31lbHNlIHIobmV3IGF0KG4uc3RhdHVzVGV4dCxuLnN0YXR1cyx0LnVybCkpO30sbi5zZW5kKHQuYm9keSkse2NhbmNlbDooKT0+bi5hYm9ydCgpfX0odCxyKX0sdXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbHQoVCh0LHt0eXBlOlwiYXJyYXlCdWZmZXJcIn0pLGUpfTtmdW5jdGlvbiBjdCh0KXtjb25zdCByPWUuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7cmV0dXJuIHIuaHJlZj10LHIucHJvdG9jb2w9PT1lLmRvY3VtZW50LmxvY2F0aW9uLnByb3RvY29sJiZyLmhvc3Q9PT1lLmRvY3VtZW50LmxvY2F0aW9uLmhvc3R9Y29uc3QgaHQ9XCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUFFQUFBQUJDQVlBQUFBZkZjU0pBQUFBQzBsRVFWUVlWMk5nQUFJQUFBVUFBYXJWeUZFQUFBQUFTVVZPUks1Q1lJST1cIjtsZXQgcHQsZnQ7cHQ9W10sZnQ9MDtjb25zdCBkdD1mdW5jdGlvbih0LHIpe2lmKHMuc3VwcG9ydGVkJiYodC5oZWFkZXJzfHwodC5oZWFkZXJzPXt9KSx0LmhlYWRlcnMuYWNjZXB0PVwiaW1hZ2Uvd2VicCwqLypcIiksZnQ+PWkuTUFYX1BBUkFMTEVMX0lNQUdFX1JFUVVFU1RTKXtjb25zdCBlPXtyZXF1ZXN0UGFyYW1ldGVyczp0LGNhbGxiYWNrOnIsY2FuY2VsbGVkOiExLGNhbmNlbCgpe3RoaXMuY2FuY2VsbGVkPSEwO319O3JldHVybiBwdC5wdXNoKGUpLGV9ZnQrKztsZXQgbj0hMTtjb25zdCBhPSgpPT57aWYoIW4pZm9yKG49ITAsZnQtLTtwdC5sZW5ndGgmJmZ0PGkuTUFYX1BBUkFMTEVMX0lNQUdFX1JFUVVFU1RTOyl7Y29uc3QgdD1wdC5zaGlmdCgpLHtyZXF1ZXN0UGFyYW1ldGVyczplLGNhbGxiYWNrOnIsY2FuY2VsbGVkOm59PXQ7bnx8KHQuY2FuY2VsPWR0KGUscikuY2FuY2VsKTt9fSxvPXV0KHQsKCh0LG4saSxzKT0+e2EoKSx0P3IodCk6biYmKGUuY3JlYXRlSW1hZ2VCaXRtYXA/ZnVuY3Rpb24odCxyKXtjb25zdCBuPW5ldyBlLkJsb2IoW25ldyBVaW50OEFycmF5KHQpXSx7dHlwZTpcImltYWdlL3BuZ1wifSk7ZS5jcmVhdGVJbWFnZUJpdG1hcChuKS50aGVuKCh0PT57cihudWxsLHQpO30pKS5jYXRjaCgodD0+e3IobmV3IEVycm9yKGBDb3VsZCBub3QgbG9hZCBpbWFnZSBiZWNhdXNlIG9mICR7dC5tZXNzYWdlfS4gUGxlYXNlIG1ha2Ugc3VyZSB0byB1c2UgYSBzdXBwb3J0ZWQgaW1hZ2UgdHlwZSBzdWNoIGFzIFBORyBvciBKUEVHLiBOb3RlIHRoYXQgU1ZHcyBhcmUgbm90IHN1cHBvcnRlZC5gKSk7fSkpO30obiwoKHQsZSk9PnIodCxlLGkscykpKTpmdW5jdGlvbih0LHIpe2NvbnN0IG49bmV3IGUuSW1hZ2UsaT1lLlVSTDtuLm9ubG9hZD0oKT0+e3IobnVsbCxuKSxpLnJldm9rZU9iamVjdFVSTChuLnNyYyksbi5vbmxvYWQ9bnVsbCxlLnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKCk9PntuLnNyYz1odDt9KSk7fSxuLm9uZXJyb3I9KCk9PnIobmV3IEVycm9yKFwiQ291bGQgbm90IGxvYWQgaW1hZ2UuIFBsZWFzZSBtYWtlIHN1cmUgdG8gdXNlIGEgc3VwcG9ydGVkIGltYWdlIHR5cGUgc3VjaCBhcyBQTkcgb3IgSlBFRy4gTm90ZSB0aGF0IFNWR3MgYXJlIG5vdCBzdXBwb3J0ZWQuXCIpKTtjb25zdCBzPW5ldyBlLkJsb2IoW25ldyBVaW50OEFycmF5KHQpXSx7dHlwZTpcImltYWdlL3BuZ1wifSk7bi5zcmM9dC5ieXRlTGVuZ3RoP2kuY3JlYXRlT2JqZWN0VVJMKHMpOmh0O30obiwoKHQsZSk9PnIodCxlLGkscykpKSk7fSkpO3JldHVybiB7Y2FuY2VsOigpPT57by5jYW5jZWwoKSxhKCk7fX19LHl0PVwiTk9fQUNDRVNTX1RPS0VOXCI7ZnVuY3Rpb24gbXQodCl7cmV0dXJuIDA9PT10LmluZGV4T2YoXCJtYXBib3g6XCIpfWZ1bmN0aW9uIGd0KHQpe3JldHVybiBpLkFQSV9VUkxfUkVHRVgudGVzdCh0KX1mdW5jdGlvbiB4dCh0KXtyZXR1cm4gaS5BUElfU1RZTEVfUkVHRVgudGVzdCh0KSYmIXZ0KHQpfWZ1bmN0aW9uIHZ0KHQpe3JldHVybiBpLkFQSV9TUFJJVEVfUkVHRVgudGVzdCh0KX1jb25zdCBidD0vXihcXHcrKTpcXC9cXC8oW14vP10qKShcXC9bXj9dKyk/XFw/PyguKyk/LztmdW5jdGlvbiBfdCh0KXtjb25zdCBlPXQubWF0Y2goYnQpO2lmKCFlKXRocm93IG5ldyBFcnJvcihcIlVuYWJsZSB0byBwYXJzZSBVUkwgb2JqZWN0XCIpO3JldHVybiB7cHJvdG9jb2w6ZVsxXSxhdXRob3JpdHk6ZVsyXSxwYXRoOmVbM118fFwiL1wiLHBhcmFtczplWzRdP2VbNF0uc3BsaXQoXCImXCIpOltdfX1mdW5jdGlvbiB3dCh0KXtjb25zdCBlPXQucGFyYW1zLmxlbmd0aD9gPyR7dC5wYXJhbXMuam9pbihcIiZcIil9YDpcIlwiO3JldHVybiBgJHt0LnByb3RvY29sfTovLyR7dC5hdXRob3JpdHl9JHt0LnBhdGh9JHtlfWB9ZnVuY3Rpb24gQXQodCl7aWYoIXQpcmV0dXJuIG51bGw7Y29uc3Qgcj10LnNwbGl0KFwiLlwiKTtpZighcnx8MyE9PXIubGVuZ3RoKXJldHVybiBudWxsO3RyeXtyZXR1cm4gSlNPTi5wYXJzZShkZWNvZGVVUklDb21wb25lbnQoZS5hdG9iKHJbMV0pLnNwbGl0KFwiXCIpLm1hcCgodD0+XCIlXCIrKFwiMDBcIit0LmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpKS5zbGljZSgtMikpKS5qb2luKFwiXCIpKSl9Y2F0Y2godCl7cmV0dXJuIG51bGx9fWNsYXNzIFN0e2NvbnN0cnVjdG9yKHQpe3RoaXMudHlwZT10LHRoaXMuYW5vbklkPW51bGwsdGhpcy5ldmVudERhdGE9e30sdGhpcy5xdWV1ZT1bXSx0aGlzLnBlbmRpbmdSZXF1ZXN0PW51bGw7fWdldFN0b3JhZ2VLZXkodCl7Y29uc3Qgcj1BdChpLkFDQ0VTU19UT0tFTik7bGV0IG49XCJcIjtyZXR1cm4gbj1yJiZyLnU/ZS5idG9hKGVuY29kZVVSSUNvbXBvbmVudChyLnUpLnJlcGxhY2UoLyUoWzAtOUEtRl17Mn0pL2csKCh0LGUpPT5TdHJpbmcuZnJvbUNoYXJDb2RlKE51bWJlcihcIjB4XCIrZSkpKSkpOmkuQUNDRVNTX1RPS0VOfHxcIlwiLHQ/YG1hcGJveC5ldmVudERhdGEuJHt0fToke259YDpgbWFwYm94LmV2ZW50RGF0YToke259YH1mZXRjaEV2ZW50RGF0YSgpe2NvbnN0IHQ9SyhcImxvY2FsU3RvcmFnZVwiKSxyPXRoaXMuZ2V0U3RvcmFnZUtleSgpLG49dGhpcy5nZXRTdG9yYWdlS2V5KFwidXVpZFwiKTtpZih0KXRyeXtjb25zdCB0PWUubG9jYWxTdG9yYWdlLmdldEl0ZW0ocik7dCYmKHRoaXMuZXZlbnREYXRhPUpTT04ucGFyc2UodCkpO2NvbnN0IGk9ZS5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShuKTtpJiYodGhpcy5hbm9uSWQ9aSk7fWNhdGNoKHQpeyQoXCJVbmFibGUgdG8gcmVhZCBmcm9tIExvY2FsU3RvcmFnZVwiKTt9fXNhdmVFdmVudERhdGEoKXtjb25zdCB0PUsoXCJsb2NhbFN0b3JhZ2VcIikscj10aGlzLmdldFN0b3JhZ2VLZXkoKSxuPXRoaXMuZ2V0U3RvcmFnZUtleShcInV1aWRcIik7aWYodCl0cnl7ZS5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShuLHRoaXMuYW5vbklkKSxPYmplY3Qua2V5cyh0aGlzLmV2ZW50RGF0YSkubGVuZ3RoPj0xJiZlLmxvY2FsU3RvcmFnZS5zZXRJdGVtKHIsSlNPTi5zdHJpbmdpZnkodGhpcy5ldmVudERhdGEpKTt9Y2F0Y2godCl7JChcIlVuYWJsZSB0byB3cml0ZSB0byBMb2NhbFN0b3JhZ2VcIik7fX1wcm9jZXNzUmVxdWVzdHModCl7fXBvc3RFdmVudCh0LGUscixuKXtpZighaS5FVkVOVFNfVVJMKXJldHVybjtjb25zdCBzPV90KGkuRVZFTlRTX1VSTCk7cy5wYXJhbXMucHVzaChgYWNjZXNzX3Rva2VuPSR7bnx8aS5BQ0NFU1NfVE9LRU58fFwiXCJ9YCk7Y29uc3QgYT17ZXZlbnQ6dGhpcy50eXBlLGNyZWF0ZWQ6bmV3IERhdGUodCkudG9JU09TdHJpbmcoKX0sbz1lP1QoYSxlKTphLGw9e3VybDp3dChzKSxoZWFkZXJzOntcIkNvbnRlbnQtVHlwZVwiOlwidGV4dC9wbGFpblwifSxib2R5OkpTT04uc3RyaW5naWZ5KFtvXSl9O3RoaXMucGVuZGluZ1JlcXVlc3Q9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbHQoVCh0LHttZXRob2Q6XCJQT1NUXCJ9KSxlKX0obCwodD0+e3RoaXMucGVuZGluZ1JlcXVlc3Q9bnVsbCxyKHQpLHRoaXMuc2F2ZUV2ZW50RGF0YSgpLHRoaXMucHJvY2Vzc1JlcXVlc3RzKG4pO30pKTt9cXVldWVSZXF1ZXN0KHQsZSl7dGhpcy5xdWV1ZS5wdXNoKHQpLHRoaXMucHJvY2Vzc1JlcXVlc3RzKGUpO319Y29uc3Qga3Q9bmV3IGNsYXNzIGV4dGVuZHMgU3R7Y29uc3RydWN0b3IodCl7c3VwZXIoXCJhcHBVc2VyVHVybnN0aWxlXCIpLHRoaXMuX2N1c3RvbUFjY2Vzc1Rva2VuPXQ7fXBvc3RUdXJuc3RpbGVFdmVudCh0LGUpe2kuRVZFTlRTX1VSTCYmaS5BQ0NFU1NfVE9LRU4mJkFycmF5LmlzQXJyYXkodCkmJnQuc29tZSgodD0+bXQodCl8fGd0KHQpKSkmJnRoaXMucXVldWVSZXF1ZXN0KERhdGUubm93KCksZSk7fXByb2Nlc3NSZXF1ZXN0cyh0KXtpZih0aGlzLnBlbmRpbmdSZXF1ZXN0fHwwPT09dGhpcy5xdWV1ZS5sZW5ndGgpcmV0dXJuO3RoaXMuYW5vbklkJiZ0aGlzLmV2ZW50RGF0YS5sYXN0U3VjY2VzcyYmdGhpcy5ldmVudERhdGEudG9rZW5VfHx0aGlzLmZldGNoRXZlbnREYXRhKCk7Y29uc3QgZT1BdChpLkFDQ0VTU19UT0tFTiksbj1lP2UudTppLkFDQ0VTU19UT0tFTjtsZXQgcz1uIT09dGhpcy5ldmVudERhdGEudG9rZW5VO0QodGhpcy5hbm9uSWQpfHwodGhpcy5hbm9uSWQ9UCgpLHM9ITApO2NvbnN0IGE9dGhpcy5xdWV1ZS5zaGlmdCgpO2lmKHRoaXMuZXZlbnREYXRhLmxhc3RTdWNjZXNzKXtjb25zdCB0PW5ldyBEYXRlKHRoaXMuZXZlbnREYXRhLmxhc3RTdWNjZXNzKSxlPW5ldyBEYXRlKGEpLHI9KGEtdGhpcy5ldmVudERhdGEubGFzdFN1Y2Nlc3MpLzg2NGU1O3M9c3x8cj49MXx8cjwtMXx8dC5nZXREYXRlKCkhPT1lLmdldERhdGUoKTt9ZWxzZSBzPSEwO3M/dGhpcy5wb3N0RXZlbnQoYSx7c2RrSWRlbnRpZmllcjpcIm1hcGJveC1nbC1qc1wiLHNka1ZlcnNpb246cixza3VJZDpoLFwiZW5hYmxlZC50ZWxlbWV0cnlcIjohMSx1c2VySWQ6dGhpcy5hbm9uSWR9LCh0PT57dHx8KHRoaXMuZXZlbnREYXRhLmxhc3RTdWNjZXNzPWEsdGhpcy5ldmVudERhdGEudG9rZW5VPW4pO30pLHQpOnRoaXMucHJvY2Vzc1JlcXVlc3RzKCk7fX0sSXQ9a3QucG9zdFR1cm5zdGlsZUV2ZW50LmJpbmQoa3QpLE10PW5ldyBjbGFzcyBleHRlbmRzIFN0e2NvbnN0cnVjdG9yKCl7c3VwZXIoXCJtYXAubG9hZFwiKSx0aGlzLnN1Y2Nlc3M9e30sdGhpcy5za3VUb2tlbj1cIlwiO31wb3N0TWFwTG9hZEV2ZW50KHQsZSxyLG4pe3RoaXMuc2t1VG9rZW49ZSx0aGlzLmVycm9yQ2I9bixpLkVWRU5UU19VUkwmJihyfHxpLkFDQ0VTU19UT0tFTj90aGlzLnF1ZXVlUmVxdWVzdCh7aWQ6dCx0aW1lc3RhbXA6RGF0ZS5ub3coKX0scik6dGhpcy5lcnJvckNiKG5ldyBFcnJvcih5dCkpKTt9cHJvY2Vzc1JlcXVlc3RzKHQpe2lmKHRoaXMucGVuZGluZ1JlcXVlc3R8fDA9PT10aGlzLnF1ZXVlLmxlbmd0aClyZXR1cm47Y29uc3R7aWQ6ZSx0aW1lc3RhbXA6bn09dGhpcy5xdWV1ZS5zaGlmdCgpO2UmJnRoaXMuc3VjY2Vzc1tlXXx8KHRoaXMuYW5vbklkfHx0aGlzLmZldGNoRXZlbnREYXRhKCksRCh0aGlzLmFub25JZCl8fCh0aGlzLmFub25JZD1QKCkpLHRoaXMucG9zdEV2ZW50KG4se3Nka0lkZW50aWZpZXI6XCJtYXBib3gtZ2wtanNcIixzZGtWZXJzaW9uOnIsc2t1SWQ6aCxza3VUb2tlbjp0aGlzLnNrdVRva2VuLHVzZXJJZDp0aGlzLmFub25JZH0sKHQ9Pnt0P3RoaXMuZXJyb3JDYih0KTplJiYodGhpcy5zdWNjZXNzW2VdPSEwKTt9KSx0KSk7fX0senQ9TXQucG9zdE1hcExvYWRFdmVudC5iaW5kKE10KSxUdD1uZXcgY2xhc3MgZXh0ZW5kcyBTdHtjb25zdHJ1Y3Rvcigpe3N1cGVyKFwiZ2xqcy5wZXJmb3JtYW5jZVwiKTt9cG9zdFBlcmZvcm1hbmNlRXZlbnQodCxlKXtpLkVWRU5UU19VUkwmJih0fHxpLkFDQ0VTU19UT0tFTikmJnRoaXMucXVldWVSZXF1ZXN0KHt0aW1lc3RhbXA6RGF0ZS5ub3coKSxwZXJmb3JtYW5jZURhdGE6ZX0sdCk7fXByb2Nlc3NSZXF1ZXN0cyh0KXtpZih0aGlzLnBlbmRpbmdSZXF1ZXN0fHwwPT09dGhpcy5xdWV1ZS5sZW5ndGgpcmV0dXJuO2NvbnN0e3RpbWVzdGFtcDpuLHBlcmZvcm1hbmNlRGF0YTppfT10aGlzLnF1ZXVlLnNoaWZ0KCkscz1mdW5jdGlvbih0KXtjb25zdCBuPWUucGVyZm9ybWFuY2UuZ2V0RW50cmllc0J5VHlwZShcInJlc291cmNlXCIpLGk9ZS5wZXJmb3JtYW5jZS5nZXRFbnRyaWVzQnlUeXBlKFwibWFya1wiKSxzPWZ1bmN0aW9uKHQpe2NvbnN0IGU9e307aWYodClmb3IoY29uc3QgciBpbiB0KWlmKFwib3RoZXJcIiE9PXIpZm9yKGNvbnN0IG4gb2YgdFtyXSl7Y29uc3QgdD1gJHtyfVJlcXVlc3RDb3VudGAsaT1gJHtyfVJlc29sdmVSYW5nZU1pbmAscz1gJHtyfVJlc29sdmVSYW5nZU1heGA7ZVtpXT1NYXRoLm1pbihlW2ldfHwxLzAsbi5zdGFydFRpbWUpLGVbc109TWF0aC5tYXgoZVtzXXx8LTEvMCxuLnJlc3BvbnNlRW5kKSx2b2lkIDA9PT1lW3RdJiYoZVt0XT0wKSwrK2VbdF07fXJldHVybiBlfShmdW5jdGlvbih0LGUpe2NvbnN0IHI9e307aWYodClmb3IoY29uc3QgbiBvZiB0KXtjb25zdCB0PWUobik7dm9pZCAwPT09clt0XSYmKHJbdF09W10pLHJbdF0ucHVzaChuKTt9cmV0dXJuIHJ9KG4sRnQpKSxhPWUuZGV2aWNlUGl4ZWxSYXRpbyxvPWUubmF2aWdhdG9yLmNvbm5lY3Rpb258fGUubmF2aWdhdG9yLm1vekNvbm5lY3Rpb258fGUubmF2aWdhdG9yLndlYmtpdENvbm5lY3Rpb24sbD17Y291bnRlcnM6W10sbWV0YWRhdGE6W10sYXR0cmlidXRlczpbXX0sdT0odCxlLHIpPT57bnVsbCE9ciYmdC5wdXNoKHtuYW1lOmUsdmFsdWU6ci50b1N0cmluZygpfSk7fTtmb3IoY29uc3QgdCBpbiBzKXUobC5jb3VudGVycyx0LHNbdF0pO2lmKHQuaW50ZXJhY3Rpb25SYW5nZVswXSE9PTEvMCYmdC5pbnRlcmFjdGlvblJhbmdlWzFdIT09LTEvMCYmKHUobC5jb3VudGVycyxcImludGVyYWN0aW9uUmFuZ2VNaW5cIix0LmludGVyYWN0aW9uUmFuZ2VbMF0pLHUobC5jb3VudGVycyxcImludGVyYWN0aW9uUmFuZ2VNYXhcIix0LmludGVyYWN0aW9uUmFuZ2VbMV0pKSxpKWZvcihjb25zdCB0IG9mIE9iamVjdC5rZXlzKER0KSl7Y29uc3QgZT1EdFt0XSxyPWkuZmluZCgodD0+dC5uYW1lPT09ZSkpO3ImJnUobC5jb3VudGVycyxlLHIuc3RhcnRUaW1lKTt9cmV0dXJuIHUobC5hdHRyaWJ1dGVzLFwic3R5bGVcIixmdW5jdGlvbih0KXtpZih0KWZvcihjb25zdCBlIG9mIHQpe2NvbnN0IHQ9ZS5uYW1lLnNwbGl0KFwiP1wiKVswXTtpZih4dCh0KSl7Y29uc3QgZT10LnNwbGl0KFwiL1wiKS5zbGljZSgtMik7aWYoMj09PWUubGVuZ3RoKXJldHVybiBgbWFwYm94Oi8vc3R5bGVzLyR7ZVswXX0vJHtlWzFdfWB9fX0obikpLHUobC5hdHRyaWJ1dGVzLFwidGVycmFpbkVuYWJsZWRcIix0LnRlcnJhaW5FbmFibGVkP1widHJ1ZVwiOlwiZmFsc2VcIiksdShsLmF0dHJpYnV0ZXMsXCJmb2dFbmFibGVkXCIsdC5mb2dFbmFibGVkP1widHJ1ZVwiOlwiZmFsc2VcIiksdShsLmF0dHJpYnV0ZXMsXCJwcm9qZWN0aW9uXCIsdC5wcm9qZWN0aW9uLm5hbWUpLHUobC5hdHRyaWJ1dGVzLFwiem9vbVwiLHQuem9vbSksdShsLm1ldGFkYXRhLFwiZGV2aWNlUGl4ZWxSYXRpb1wiLGEpLHUobC5tZXRhZGF0YSxcImNvbm5lY3Rpb25FZmZlY3RpdmVUeXBlXCIsbz9vLmVmZmVjdGl2ZVR5cGU6dm9pZCAwKSx1KGwubWV0YWRhdGEsXCJuYXZpZ2F0b3JVc2VyQWdlbnRcIixlLm5hdmlnYXRvci51c2VyQWdlbnQpLHUobC5tZXRhZGF0YSxcInNjcmVlbldpZHRoXCIsZS5zY3JlZW4ud2lkdGgpLHUobC5tZXRhZGF0YSxcInNjcmVlbkhlaWdodFwiLGUuc2NyZWVuLmhlaWdodCksdShsLm1ldGFkYXRhLFwid2luZG93V2lkdGhcIixlLmlubmVyV2lkdGgpLHUobC5tZXRhZGF0YSxcIndpbmRvd0hlaWdodFwiLGUuaW5uZXJIZWlnaHQpLHUobC5tZXRhZGF0YSxcIm1hcFdpZHRoXCIsdC53aWR0aC9hKSx1KGwubWV0YWRhdGEsXCJtYXBIZWlnaHRcIix0LmhlaWdodC9hKSx1KGwubWV0YWRhdGEsXCJ3ZWJnbFJlbmRlcmVyXCIsdC5yZW5kZXJlciksdShsLm1ldGFkYXRhLFwid2ViZ2xWZW5kb3JcIix0LnZlbmRvciksdShsLm1ldGFkYXRhLFwic2RrVmVyc2lvblwiLHIpLHUobC5tZXRhZGF0YSxcInNka0lkZW50aWZpZXJcIixcIm1hcGJveC1nbC1qc1wiKSxsfShpKTtmb3IoY29uc3QgdCBvZiBzLm1ldGFkYXRhKTtmb3IoY29uc3QgdCBvZiBzLmNvdW50ZXJzKTtmb3IoY29uc3QgdCBvZiBzLmF0dHJpYnV0ZXMpO3RoaXMucG9zdEV2ZW50KG4scywoKCk9Pnt9KSx0KTt9fSxCdD1UdC5wb3N0UGVyZm9ybWFuY2VFdmVudC5iaW5kKFR0KSxFdD1uZXcgY2xhc3MgZXh0ZW5kcyBTdHtjb25zdHJ1Y3Rvcigpe3N1cGVyKFwibWFwLmF1dGhcIiksdGhpcy5zdWNjZXNzPXt9LHRoaXMuc2t1VG9rZW49XCJcIjt9Z2V0U2Vzc2lvbih0LGUscixuKXtpZighaS5BUElfVVJMfHwhaS5TRVNTSU9OX1BBVEgpcmV0dXJuO2NvbnN0IHM9X3QoaS5BUElfVVJMK2kuU0VTU0lPTl9QQVRIKTtzLnBhcmFtcy5wdXNoKGBza3U9JHtlfHxcIlwifWApLHMucGFyYW1zLnB1c2goYGFjY2Vzc190b2tlbj0ke258fGkuQUNDRVNTX1RPS0VOfHxcIlwifWApO2NvbnN0IGE9e3VybDp3dChzKSxoZWFkZXJzOntcIkNvbnRlbnQtVHlwZVwiOlwidGV4dC9wbGFpblwifX07dGhpcy5wZW5kaW5nUmVxdWVzdD1mdW5jdGlvbih0LGUpe3JldHVybiBsdChUKHQse21ldGhvZDpcIkdFVFwifSksZSl9KGEsKHQ9Pnt0aGlzLnBlbmRpbmdSZXF1ZXN0PW51bGwscih0KSx0aGlzLnNhdmVFdmVudERhdGEoKSx0aGlzLnByb2Nlc3NSZXF1ZXN0cyhuKTt9KSk7fWdldFNlc3Npb25BUEkodCxlLHIsbil7dGhpcy5za3VUb2tlbj1lLHRoaXMuZXJyb3JDYj1uLGkuU0VTU0lPTl9QQVRIJiZpLkFQSV9VUkwmJihyfHxpLkFDQ0VTU19UT0tFTj90aGlzLnF1ZXVlUmVxdWVzdCh7aWQ6dCx0aW1lc3RhbXA6RGF0ZS5ub3coKX0scik6dGhpcy5lcnJvckNiKG5ldyBFcnJvcih5dCkpKTt9cHJvY2Vzc1JlcXVlc3RzKHQpe2lmKHRoaXMucGVuZGluZ1JlcXVlc3R8fDA9PT10aGlzLnF1ZXVlLmxlbmd0aClyZXR1cm47Y29uc3R7aWQ6ZSx0aW1lc3RhbXA6cn09dGhpcy5xdWV1ZS5zaGlmdCgpO2UmJnRoaXMuc3VjY2Vzc1tlXXx8dGhpcy5nZXRTZXNzaW9uKHIsdGhpcy5za3VUb2tlbiwodD0+e3Q/dGhpcy5lcnJvckNiKHQpOmUmJih0aGlzLnN1Y2Nlc3NbZV09ITApO30pLHQpO319LFB0PUV0LmdldFNlc3Npb25BUEkuYmluZChFdCksQ3Q9bmV3IFNldCxEdD17Y3JlYXRlOlwiY3JlYXRlXCIsbG9hZDpcImxvYWRcIixmdWxsTG9hZDpcImZ1bGxMb2FkXCJ9LFZ0PXttYXJrKHQpe2UucGVyZm9ybWFuY2UubWFyayh0KTt9LG1lYXN1cmUodCxyLG4pe2UucGVyZm9ybWFuY2UubWVhc3VyZSh0LHIsbik7fX07ZnVuY3Rpb24gRnQodCl7Y29uc3QgZT10Lm5hbWUuc3BsaXQoXCI/XCIpWzBdO3JldHVybiBlLmluY2x1ZGVzKFwibWFwYm94LWdsLmpzXCIpP1wiamF2YXNjcmlwdFwiOmUuaW5jbHVkZXMoXCJtYXBib3gtZ2wuY3NzXCIpP1wiY3NzXCI6ZnVuY3Rpb24odCl7cmV0dXJuIGkuQVBJX0ZPTlRTX1JFR0VYLnRlc3QodCl9KGUpP1wiZm9udFJhbmdlXCI6dnQoZSk/XCJzcHJpdGVcIjp4dChlKT9cInN0eWxlXCI6ZnVuY3Rpb24odCl7cmV0dXJuIGkuQVBJX1RJTEVKU09OX1JFR0VYLnRlc3QodCl9KGUpP1widGlsZWpzb25cIjpcIm90aGVyXCJ9Y29uc3QgTHQ9ZS5wZXJmb3JtYW5jZTtmdW5jdGlvbiBSdCh0KXtjb25zdCBlPXQ/dC51cmwudG9TdHJpbmcoKTp2b2lkIDA7cmV0dXJuIEx0LmdldEVudHJpZXNCeU5hbWUoZSl9bGV0IFV0LGp0LCR0LE90O2NvbnN0IHF0PXtub3c6KCk9PnZvaWQgMCE9PSR0PyR0OmUucGVyZm9ybWFuY2Uubm93KCksc2V0Tm93KHQpeyR0PXQ7fSxyZXN0b3JlTm93KCl7JHQ9dm9pZCAwO30sZnJhbWUodCl7Y29uc3Qgcj1lLnJlcXVlc3RBbmltYXRpb25GcmFtZSh0KTtyZXR1cm4ge2NhbmNlbDooKT0+ZS5jYW5jZWxBbmltYXRpb25GcmFtZShyKX19LGdldEltYWdlRGF0YSh0LHI9MCl7Y29uc3R7d2lkdGg6bixoZWlnaHQ6aX09dDtPdHx8KE90PWUuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKSk7Y29uc3Qgcz1PdC5nZXRDb250ZXh0KFwiMmRcIik7aWYoIXMpdGhyb3cgbmV3IEVycm9yKFwiZmFpbGVkIHRvIGNyZWF0ZSBjYW52YXMgMmQgY29udGV4dFwiKTtyZXR1cm4gKG4+T3Qud2lkdGh8fGk+T3QuaGVpZ2h0KSYmKE90LndpZHRoPW4sT3QuaGVpZ2h0PWkpLHMuY2xlYXJSZWN0KC1yLC1yLG4rMipyLGkrMipyKSxzLmRyYXdJbWFnZSh0LDAsMCxuLGkpLHMuZ2V0SW1hZ2VEYXRhKC1yLC1yLG4rMipyLGkrMipyKX0scmVzb2x2ZVVSTDp0PT4oVXR8fChVdD1lLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpKSxVdC5ocmVmPXQsVXQuaHJlZiksZ2V0IGRldmljZVBpeGVsUmF0aW8oKXtyZXR1cm4gZS5kZXZpY2VQaXhlbFJhdGlvfSxnZXQgcHJlZmVyc1JlZHVjZWRNb3Rpb24oKXtyZXR1cm4gISFlLm1hdGNoTWVkaWEmJihudWxsPT1qdCYmKGp0PWUubWF0Y2hNZWRpYShcIihwcmVmZXJzLXJlZHVjZWQtbW90aW9uOiByZWR1Y2UpXCIpKSxqdC5tYXRjaGVzKX19O2Z1bmN0aW9uIE50KHQsZSxyKXtyW3RdJiYtMSE9PXJbdF0uaW5kZXhPZihlKXx8KHJbdF09clt0XXx8W10sclt0XS5wdXNoKGUpKTt9ZnVuY3Rpb24gR3QodCxlLHIpe2lmKHImJnJbdF0pe2NvbnN0IG49clt0XS5pbmRleE9mKGUpOy0xIT09biYmclt0XS5zcGxpY2UobiwxKTt9fWNsYXNzIFp0e2NvbnN0cnVjdG9yKHQsZT17fSl7VCh0aGlzLGUpLHRoaXMudHlwZT10O319Y2xhc3MgWHQgZXh0ZW5kcyBadHtjb25zdHJ1Y3Rvcih0LGU9e30pe3N1cGVyKFwiZXJyb3JcIixUKHtlcnJvcjp0fSxlKSk7fX1jbGFzcyBLdHtvbih0LGUpe3JldHVybiB0aGlzLl9saXN0ZW5lcnM9dGhpcy5fbGlzdGVuZXJzfHx7fSxOdCh0LGUsdGhpcy5fbGlzdGVuZXJzKSx0aGlzfW9mZih0LGUpe3JldHVybiBHdCh0LGUsdGhpcy5fbGlzdGVuZXJzKSxHdCh0LGUsdGhpcy5fb25lVGltZUxpc3RlbmVycyksdGhpc31vbmNlKHQsZSl7cmV0dXJuIGU/KHRoaXMuX29uZVRpbWVMaXN0ZW5lcnM9dGhpcy5fb25lVGltZUxpc3RlbmVyc3x8e30sTnQodCxlLHRoaXMuX29uZVRpbWVMaXN0ZW5lcnMpLHRoaXMpOm5ldyBQcm9taXNlKChlPT50aGlzLm9uY2UodCxlKSkpfWZpcmUodCxlKXtcInN0cmluZ1wiPT10eXBlb2YgdCYmKHQ9bmV3IFp0KHQsZXx8e30pKTtjb25zdCByPXQudHlwZTtpZih0aGlzLmxpc3RlbnMocikpe3QudGFyZ2V0PXRoaXM7Y29uc3QgZT10aGlzLl9saXN0ZW5lcnMmJnRoaXMuX2xpc3RlbmVyc1tyXT90aGlzLl9saXN0ZW5lcnNbcl0uc2xpY2UoKTpbXTtmb3IoY29uc3QgciBvZiBlKXIuY2FsbCh0aGlzLHQpO2NvbnN0IG49dGhpcy5fb25lVGltZUxpc3RlbmVycyYmdGhpcy5fb25lVGltZUxpc3RlbmVyc1tyXT90aGlzLl9vbmVUaW1lTGlzdGVuZXJzW3JdLnNsaWNlKCk6W107Zm9yKGNvbnN0IGUgb2YgbilHdChyLGUsdGhpcy5fb25lVGltZUxpc3RlbmVycyksZS5jYWxsKHRoaXMsdCk7Y29uc3QgaT10aGlzLl9ldmVudGVkUGFyZW50O2kmJihUKHQsXCJmdW5jdGlvblwiPT10eXBlb2YgdGhpcy5fZXZlbnRlZFBhcmVudERhdGE/dGhpcy5fZXZlbnRlZFBhcmVudERhdGEoKTp0aGlzLl9ldmVudGVkUGFyZW50RGF0YSksaS5maXJlKHQpKTt9ZWxzZSB0IGluc3RhbmNlb2YgWHQmJmNvbnNvbGUuZXJyb3IodC5lcnJvcik7cmV0dXJuIHRoaXN9bGlzdGVucyh0KXtyZXR1cm4gISEodGhpcy5fbGlzdGVuZXJzJiZ0aGlzLl9saXN0ZW5lcnNbdF0mJnRoaXMuX2xpc3RlbmVyc1t0XS5sZW5ndGg+MHx8dGhpcy5fb25lVGltZUxpc3RlbmVycyYmdGhpcy5fb25lVGltZUxpc3RlbmVyc1t0XSYmdGhpcy5fb25lVGltZUxpc3RlbmVyc1t0XS5sZW5ndGg+MHx8dGhpcy5fZXZlbnRlZFBhcmVudCYmdGhpcy5fZXZlbnRlZFBhcmVudC5saXN0ZW5zKHQpKX1zZXRFdmVudGVkUGFyZW50KHQsZSl7cmV0dXJuIHRoaXMuX2V2ZW50ZWRQYXJlbnQ9dCx0aGlzLl9ldmVudGVkUGFyZW50RGF0YT1lLHRoaXN9fXZhciBIdD1KU09OLnBhcnNlKCd7XCIkdmVyc2lvblwiOjgsXCIkcm9vdFwiOntcInZlcnNpb25cIjp7XCJyZXF1aXJlZFwiOnRydWUsXCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjpbOF19LFwibmFtZVwiOntcInR5cGVcIjpcInN0cmluZ1wifSxcIm1ldGFkYXRhXCI6e1widHlwZVwiOlwiKlwifSxcImNlbnRlclwiOntcInR5cGVcIjpcImFycmF5XCIsXCJ2YWx1ZVwiOlwibnVtYmVyXCJ9LFwiem9vbVwiOntcInR5cGVcIjpcIm51bWJlclwifSxcImJlYXJpbmdcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLFwicGVyaW9kXCI6MzYwLFwidW5pdHNcIjpcImRlZ3JlZXNcIn0sXCJwaXRjaFwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjAsXCJ1bml0c1wiOlwiZGVncmVlc1wifSxcImxpZ2h0XCI6e1widHlwZVwiOlwibGlnaHRcIn0sXCJ0ZXJyYWluXCI6e1widHlwZVwiOlwidGVycmFpblwifSxcImZvZ1wiOntcInR5cGVcIjpcImZvZ1wifSxcInNvdXJjZXNcIjp7XCJyZXF1aXJlZFwiOnRydWUsXCJ0eXBlXCI6XCJzb3VyY2VzXCJ9LFwic3ByaXRlXCI6e1widHlwZVwiOlwic3RyaW5nXCJ9LFwiZ2x5cGhzXCI6e1widHlwZVwiOlwic3RyaW5nXCJ9LFwidHJhbnNpdGlvblwiOntcInR5cGVcIjpcInRyYW5zaXRpb25cIn0sXCJwcm9qZWN0aW9uXCI6e1widHlwZVwiOlwicHJvamVjdGlvblwifSxcImxheWVyc1wiOntcInJlcXVpcmVkXCI6dHJ1ZSxcInR5cGVcIjpcImFycmF5XCIsXCJ2YWx1ZVwiOlwibGF5ZXJcIn19LFwic291cmNlc1wiOntcIipcIjp7XCJ0eXBlXCI6XCJzb3VyY2VcIn19LFwic291cmNlXCI6W1wic291cmNlX3ZlY3RvclwiLFwic291cmNlX3Jhc3RlclwiLFwic291cmNlX3Jhc3Rlcl9kZW1cIixcInNvdXJjZV9nZW9qc29uXCIsXCJzb3VyY2VfdmlkZW9cIixcInNvdXJjZV9pbWFnZVwiXSxcInNvdXJjZV92ZWN0b3JcIjp7XCJ0eXBlXCI6e1wicmVxdWlyZWRcIjp0cnVlLFwidHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1widmVjdG9yXCI6e319fSxcInVybFwiOntcInR5cGVcIjpcInN0cmluZ1wifSxcInRpbGVzXCI6e1widHlwZVwiOlwiYXJyYXlcIixcInZhbHVlXCI6XCJzdHJpbmdcIn0sXCJib3VuZHNcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcIm51bWJlclwiLFwibGVuZ3RoXCI6NCxcImRlZmF1bHRcIjpbLTE4MCwtODUuMDUxMTI5LDE4MCw4NS4wNTExMjldfSxcInNjaGVtZVwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcInh5elwiOnt9LFwidG1zXCI6e319LFwiZGVmYXVsdFwiOlwieHl6XCJ9LFwibWluem9vbVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjB9LFwibWF4em9vbVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjIyfSxcImF0dHJpYnV0aW9uXCI6e1widHlwZVwiOlwic3RyaW5nXCJ9LFwicHJvbW90ZUlkXCI6e1widHlwZVwiOlwicHJvbW90ZUlkXCJ9LFwidm9sYXRpbGVcIjp7XCJ0eXBlXCI6XCJib29sZWFuXCIsXCJkZWZhdWx0XCI6ZmFsc2V9LFwiKlwiOntcInR5cGVcIjpcIipcIn19LFwic291cmNlX3Jhc3RlclwiOntcInR5cGVcIjp7XCJyZXF1aXJlZFwiOnRydWUsXCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJyYXN0ZXJcIjp7fX19LFwidXJsXCI6e1widHlwZVwiOlwic3RyaW5nXCJ9LFwidGlsZXNcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcInN0cmluZ1wifSxcImJvdW5kc1wiOntcInR5cGVcIjpcImFycmF5XCIsXCJ2YWx1ZVwiOlwibnVtYmVyXCIsXCJsZW5ndGhcIjo0LFwiZGVmYXVsdFwiOlstMTgwLC04NS4wNTExMjksMTgwLDg1LjA1MTEyOV19LFwibWluem9vbVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjB9LFwibWF4em9vbVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjIyfSxcInRpbGVTaXplXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6NTEyLFwidW5pdHNcIjpcInBpeGVsc1wifSxcInNjaGVtZVwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcInh5elwiOnt9LFwidG1zXCI6e319LFwiZGVmYXVsdFwiOlwieHl6XCJ9LFwiYXR0cmlidXRpb25cIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIn0sXCJ2b2xhdGlsZVwiOntcInR5cGVcIjpcImJvb2xlYW5cIixcImRlZmF1bHRcIjpmYWxzZX0sXCIqXCI6e1widHlwZVwiOlwiKlwifX0sXCJzb3VyY2VfcmFzdGVyX2RlbVwiOntcInR5cGVcIjp7XCJyZXF1aXJlZFwiOnRydWUsXCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJyYXN0ZXItZGVtXCI6e319fSxcInVybFwiOntcInR5cGVcIjpcInN0cmluZ1wifSxcInRpbGVzXCI6e1widHlwZVwiOlwiYXJyYXlcIixcInZhbHVlXCI6XCJzdHJpbmdcIn0sXCJib3VuZHNcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcIm51bWJlclwiLFwibGVuZ3RoXCI6NCxcImRlZmF1bHRcIjpbLTE4MCwtODUuMDUxMTI5LDE4MCw4NS4wNTExMjldfSxcIm1pbnpvb21cIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowfSxcIm1heHpvb21cIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjoyMn0sXCJ0aWxlU2l6ZVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjUxMixcInVuaXRzXCI6XCJwaXhlbHNcIn0sXCJhdHRyaWJ1dGlvblwiOntcInR5cGVcIjpcInN0cmluZ1wifSxcImVuY29kaW5nXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1widGVycmFyaXVtXCI6e30sXCJtYXBib3hcIjp7fX0sXCJkZWZhdWx0XCI6XCJtYXBib3hcIn0sXCJ2b2xhdGlsZVwiOntcInR5cGVcIjpcImJvb2xlYW5cIixcImRlZmF1bHRcIjpmYWxzZX0sXCIqXCI6e1widHlwZVwiOlwiKlwifX0sXCJzb3VyY2VfZ2VvanNvblwiOntcInR5cGVcIjp7XCJyZXF1aXJlZFwiOnRydWUsXCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJnZW9qc29uXCI6e319fSxcImRhdGFcIjp7XCJ0eXBlXCI6XCIqXCJ9LFwibWF4em9vbVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjE4fSxcImF0dHJpYnV0aW9uXCI6e1widHlwZVwiOlwic3RyaW5nXCJ9LFwiYnVmZmVyXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MTI4LFwibWF4aW11bVwiOjUxMixcIm1pbmltdW1cIjowfSxcImZpbHRlclwiOntcInR5cGVcIjpcIipcIn0sXCJ0b2xlcmFuY2VcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLjM3NX0sXCJjbHVzdGVyXCI6e1widHlwZVwiOlwiYm9vbGVhblwiLFwiZGVmYXVsdFwiOmZhbHNlfSxcImNsdXN0ZXJSYWRpdXNcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjo1MCxcIm1pbmltdW1cIjowfSxcImNsdXN0ZXJNYXhab29tXCI6e1widHlwZVwiOlwibnVtYmVyXCJ9LFwiY2x1c3Rlck1pblBvaW50c1wiOntcInR5cGVcIjpcIm51bWJlclwifSxcImNsdXN0ZXJQcm9wZXJ0aWVzXCI6e1widHlwZVwiOlwiKlwifSxcImxpbmVNZXRyaWNzXCI6e1widHlwZVwiOlwiYm9vbGVhblwiLFwiZGVmYXVsdFwiOmZhbHNlfSxcImdlbmVyYXRlSWRcIjp7XCJ0eXBlXCI6XCJib29sZWFuXCIsXCJkZWZhdWx0XCI6ZmFsc2V9LFwicHJvbW90ZUlkXCI6e1widHlwZVwiOlwicHJvbW90ZUlkXCJ9fSxcInNvdXJjZV92aWRlb1wiOntcInR5cGVcIjp7XCJyZXF1aXJlZFwiOnRydWUsXCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJ2aWRlb1wiOnt9fX0sXCJ1cmxzXCI6e1wicmVxdWlyZWRcIjp0cnVlLFwidHlwZVwiOlwiYXJyYXlcIixcInZhbHVlXCI6XCJzdHJpbmdcIn0sXCJjb29yZGluYXRlc1wiOntcInJlcXVpcmVkXCI6dHJ1ZSxcInR5cGVcIjpcImFycmF5XCIsXCJsZW5ndGhcIjo0LFwidmFsdWVcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwibGVuZ3RoXCI6MixcInZhbHVlXCI6XCJudW1iZXJcIn19fSxcInNvdXJjZV9pbWFnZVwiOntcInR5cGVcIjp7XCJyZXF1aXJlZFwiOnRydWUsXCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJpbWFnZVwiOnt9fX0sXCJ1cmxcIjp7XCJyZXF1aXJlZFwiOnRydWUsXCJ0eXBlXCI6XCJzdHJpbmdcIn0sXCJjb29yZGluYXRlc1wiOntcInJlcXVpcmVkXCI6dHJ1ZSxcInR5cGVcIjpcImFycmF5XCIsXCJsZW5ndGhcIjo0LFwidmFsdWVcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwibGVuZ3RoXCI6MixcInZhbHVlXCI6XCJudW1iZXJcIn19fSxcImxheWVyXCI6e1wiaWRcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcInJlcXVpcmVkXCI6dHJ1ZX0sXCJ0eXBlXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wiZmlsbFwiOnt9LFwibGluZVwiOnt9LFwic3ltYm9sXCI6e30sXCJjaXJjbGVcIjp7fSxcImhlYXRtYXBcIjp7fSxcImZpbGwtZXh0cnVzaW9uXCI6e30sXCJyYXN0ZXJcIjp7fSxcImhpbGxzaGFkZVwiOnt9LFwiYmFja2dyb3VuZFwiOnt9LFwic2t5XCI6e319LFwicmVxdWlyZWRcIjp0cnVlfSxcIm1ldGFkYXRhXCI6e1widHlwZVwiOlwiKlwifSxcInNvdXJjZVwiOntcInR5cGVcIjpcInN0cmluZ1wifSxcInNvdXJjZS1sYXllclwiOntcInR5cGVcIjpcInN0cmluZ1wifSxcIm1pbnpvb21cIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjI0fSxcIm1heHpvb21cIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjI0fSxcImZpbHRlclwiOntcInR5cGVcIjpcImZpbHRlclwifSxcImxheW91dFwiOntcInR5cGVcIjpcImxheW91dFwifSxcInBhaW50XCI6e1widHlwZVwiOlwicGFpbnRcIn19LFwibGF5b3V0XCI6W1wibGF5b3V0X2ZpbGxcIixcImxheW91dF9saW5lXCIsXCJsYXlvdXRfY2lyY2xlXCIsXCJsYXlvdXRfaGVhdG1hcFwiLFwibGF5b3V0X2ZpbGwtZXh0cnVzaW9uXCIsXCJsYXlvdXRfc3ltYm9sXCIsXCJsYXlvdXRfcmFzdGVyXCIsXCJsYXlvdXRfaGlsbHNoYWRlXCIsXCJsYXlvdXRfYmFja2dyb3VuZFwiLFwibGF5b3V0X3NreVwiXSxcImxheW91dF9iYWNrZ3JvdW5kXCI6e1widmlzaWJpbGl0eVwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcInZpc2libGVcIjp7fSxcIm5vbmVcIjp7fX0sXCJkZWZhdWx0XCI6XCJ2aXNpYmxlXCIsXCJwcm9wZXJ0eS10eXBlXCI6XCJjb25zdGFudFwifX0sXCJsYXlvdXRfc2t5XCI6e1widmlzaWJpbGl0eVwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcInZpc2libGVcIjp7fSxcIm5vbmVcIjp7fX0sXCJkZWZhdWx0XCI6XCJ2aXNpYmxlXCIsXCJwcm9wZXJ0eS10eXBlXCI6XCJjb25zdGFudFwifX0sXCJsYXlvdXRfZmlsbFwiOntcImZpbGwtc29ydC1rZXlcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwidmlzaWJpbGl0eVwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcInZpc2libGVcIjp7fSxcIm5vbmVcIjp7fX0sXCJkZWZhdWx0XCI6XCJ2aXNpYmxlXCIsXCJwcm9wZXJ0eS10eXBlXCI6XCJjb25zdGFudFwifX0sXCJsYXlvdXRfY2lyY2xlXCI6e1wiY2lyY2xlLXNvcnQta2V5XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcInZpc2liaWxpdHlcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJ2aXNpYmxlXCI6e30sXCJub25lXCI6e319LFwiZGVmYXVsdFwiOlwidmlzaWJsZVwiLFwicHJvcGVydHktdHlwZVwiOlwiY29uc3RhbnRcIn19LFwibGF5b3V0X2hlYXRtYXBcIjp7XCJ2aXNpYmlsaXR5XCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1widmlzaWJsZVwiOnt9LFwibm9uZVwiOnt9fSxcImRlZmF1bHRcIjpcInZpc2libGVcIixcInByb3BlcnR5LXR5cGVcIjpcImNvbnN0YW50XCJ9fSxcImxheW91dF9maWxsLWV4dHJ1c2lvblwiOntcInZpc2liaWxpdHlcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJ2aXNpYmxlXCI6e30sXCJub25lXCI6e319LFwiZGVmYXVsdFwiOlwidmlzaWJsZVwiLFwicHJvcGVydHktdHlwZVwiOlwiY29uc3RhbnRcIn0sXCJmaWxsLWV4dHJ1c2lvbi1lZGdlLXJhZGl1c1wiOntcInR5cGVcIjpcIm51bWJlclwiLFwicHJpdmF0ZVwiOnRydWUsXCJkZWZhdWx0XCI6MCxcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjEsXCJwcm9wZXJ0eS10eXBlXCI6XCJjb25zdGFudFwifX0sXCJsYXlvdXRfbGluZVwiOntcImxpbmUtY2FwXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wiYnV0dFwiOnt9LFwicm91bmRcIjp7fSxcInNxdWFyZVwiOnt9fSxcImRlZmF1bHRcIjpcImJ1dHRcIixcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwibGluZS1qb2luXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wiYmV2ZWxcIjp7fSxcInJvdW5kXCI6e30sXCJtaXRlclwiOnt9fSxcImRlZmF1bHRcIjpcIm1pdGVyXCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImxpbmUtbWl0ZXItbGltaXRcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjoyLFwicmVxdWlyZXNcIjpbe1wibGluZS1qb2luXCI6XCJtaXRlclwifV0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJsaW5lLXJvdW5kLWxpbWl0XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MS4wNSxcInJlcXVpcmVzXCI6W3tcImxpbmUtam9pblwiOlwicm91bmRcIn1dLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwibGluZS1zb3J0LWtleVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJ2aXNpYmlsaXR5XCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1widmlzaWJsZVwiOnt9LFwibm9uZVwiOnt9fSxcImRlZmF1bHRcIjpcInZpc2libGVcIixcInByb3BlcnR5LXR5cGVcIjpcImNvbnN0YW50XCJ9fSxcImxheW91dF9zeW1ib2xcIjp7XCJzeW1ib2wtcGxhY2VtZW50XCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wicG9pbnRcIjp7fSxcImxpbmVcIjp7fSxcImxpbmUtY2VudGVyXCI6e319LFwiZGVmYXVsdFwiOlwicG9pbnRcIixcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJzeW1ib2wtc3BhY2luZ1wiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjI1MCxcIm1pbmltdW1cIjoxLFwidW5pdHNcIjpcInBpeGVsc1wiLFwicmVxdWlyZXNcIjpbe1wic3ltYm9sLXBsYWNlbWVudFwiOlwibGluZVwifV0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJzeW1ib2wtYXZvaWQtZWRnZXNcIjp7XCJ0eXBlXCI6XCJib29sZWFuXCIsXCJkZWZhdWx0XCI6ZmFsc2UsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwic3ltYm9sLXNvcnQta2V5XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcInN5bWJvbC16LW9yZGVyXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wiYXV0b1wiOnt9LFwidmlld3BvcnQteVwiOnt9LFwic291cmNlXCI6e319LFwiZGVmYXVsdFwiOlwiYXV0b1wiLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImljb24tYWxsb3ctb3ZlcmxhcFwiOntcInR5cGVcIjpcImJvb2xlYW5cIixcImRlZmF1bHRcIjpmYWxzZSxcInJlcXVpcmVzXCI6W1wiaWNvbi1pbWFnZVwiXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJpY29uLWlnbm9yZS1wbGFjZW1lbnRcIjp7XCJ0eXBlXCI6XCJib29sZWFuXCIsXCJkZWZhdWx0XCI6ZmFsc2UsXCJyZXF1aXJlc1wiOltcImljb24taW1hZ2VcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiaWNvbi1vcHRpb25hbFwiOntcInR5cGVcIjpcImJvb2xlYW5cIixcImRlZmF1bHRcIjpmYWxzZSxcInJlcXVpcmVzXCI6W1wiaWNvbi1pbWFnZVwiLFwidGV4dC1maWVsZFwiXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJpY29uLXJvdGF0aW9uLWFsaWdubWVudFwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcIm1hcFwiOnt9LFwidmlld3BvcnRcIjp7fSxcImF1dG9cIjp7fX0sXCJkZWZhdWx0XCI6XCJhdXRvXCIsXCJyZXF1aXJlc1wiOltcImljb24taW1hZ2VcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiaWNvbi1zaXplXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MSxcIm1pbmltdW1cIjowLFwidW5pdHNcIjpcImZhY3RvciBvZiB0aGUgb3JpZ2luYWwgaWNvbiBzaXplXCIsXCJyZXF1aXJlc1wiOltcImljb24taW1hZ2VcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwiaWNvbi10ZXh0LWZpdFwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcIm5vbmVcIjp7fSxcIndpZHRoXCI6e30sXCJoZWlnaHRcIjp7fSxcImJvdGhcIjp7fX0sXCJkZWZhdWx0XCI6XCJub25lXCIsXCJyZXF1aXJlc1wiOltcImljb24taW1hZ2VcIixcInRleHQtZmllbGRcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiaWNvbi10ZXh0LWZpdC1wYWRkaW5nXCI6e1widHlwZVwiOlwiYXJyYXlcIixcInZhbHVlXCI6XCJudW1iZXJcIixcImxlbmd0aFwiOjQsXCJkZWZhdWx0XCI6WzAsMCwwLDBdLFwidW5pdHNcIjpcInBpeGVsc1wiLFwicmVxdWlyZXNcIjpbXCJpY29uLWltYWdlXCIsXCJ0ZXh0LWZpZWxkXCIse1wiaWNvbi10ZXh0LWZpdFwiOltcImJvdGhcIixcIndpZHRoXCIsXCJoZWlnaHRcIl19XSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImljb24taW1hZ2VcIjp7XCJ0eXBlXCI6XCJyZXNvbHZlZEltYWdlXCIsXCJ0b2tlbnNcIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJpY29uLXJvdGF0ZVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjAsXCJwZXJpb2RcIjozNjAsXCJ1bml0c1wiOlwiZGVncmVlc1wiLFwicmVxdWlyZXNcIjpbXCJpY29uLWltYWdlXCJdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImljb24tcGFkZGluZ1wiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjIsXCJtaW5pbXVtXCI6MCxcInVuaXRzXCI6XCJwaXhlbHNcIixcInJlcXVpcmVzXCI6W1wiaWNvbi1pbWFnZVwiXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImljb24ta2VlcC11cHJpZ2h0XCI6e1widHlwZVwiOlwiYm9vbGVhblwiLFwiZGVmYXVsdFwiOmZhbHNlLFwicmVxdWlyZXNcIjpbXCJpY29uLWltYWdlXCIse1wiaWNvbi1yb3RhdGlvbi1hbGlnbm1lbnRcIjpcIm1hcFwifSx7XCJzeW1ib2wtcGxhY2VtZW50XCI6W1wibGluZVwiLFwibGluZS1jZW50ZXJcIl19XSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJpY29uLW9mZnNldFwiOntcInR5cGVcIjpcImFycmF5XCIsXCJ2YWx1ZVwiOlwibnVtYmVyXCIsXCJsZW5ndGhcIjoyLFwiZGVmYXVsdFwiOlswLDBdLFwicmVxdWlyZXNcIjpbXCJpY29uLWltYWdlXCJdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImljb24tYW5jaG9yXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wiY2VudGVyXCI6e30sXCJsZWZ0XCI6e30sXCJyaWdodFwiOnt9LFwidG9wXCI6e30sXCJib3R0b21cIjp7fSxcInRvcC1sZWZ0XCI6e30sXCJ0b3AtcmlnaHRcIjp7fSxcImJvdHRvbS1sZWZ0XCI6e30sXCJib3R0b20tcmlnaHRcIjp7fX0sXCJkZWZhdWx0XCI6XCJjZW50ZXJcIixcInJlcXVpcmVzXCI6W1wiaWNvbi1pbWFnZVwiXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwiaWNvbi1waXRjaC1hbGlnbm1lbnRcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJtYXBcIjp7fSxcInZpZXdwb3J0XCI6e30sXCJhdXRvXCI6e319LFwiZGVmYXVsdFwiOlwiYXV0b1wiLFwicmVxdWlyZXNcIjpbXCJpY29uLWltYWdlXCJdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInRleHQtcGl0Y2gtYWxpZ25tZW50XCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wibWFwXCI6e30sXCJ2aWV3cG9ydFwiOnt9LFwiYXV0b1wiOnt9fSxcImRlZmF1bHRcIjpcImF1dG9cIixcInJlcXVpcmVzXCI6W1widGV4dC1maWVsZFwiXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJ0ZXh0LXJvdGF0aW9uLWFsaWdubWVudFwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcIm1hcFwiOnt9LFwidmlld3BvcnRcIjp7fSxcImF1dG9cIjp7fX0sXCJkZWZhdWx0XCI6XCJhdXRvXCIsXCJyZXF1aXJlc1wiOltcInRleHQtZmllbGRcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwidGV4dC1maWVsZFwiOntcInR5cGVcIjpcImZvcm1hdHRlZFwiLFwiZGVmYXVsdFwiOlwiXCIsXCJ0b2tlbnNcIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJ0ZXh0LWZvbnRcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcInN0cmluZ1wiLFwiZGVmYXVsdFwiOltcIk9wZW4gU2FucyBSZWd1bGFyXCIsXCJBcmlhbCBVbmljb2RlIE1TIFJlZ3VsYXJcIl0sXCJyZXF1aXJlc1wiOltcInRleHQtZmllbGRcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcInRleHQtc2l6ZVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjE2LFwibWluaW11bVwiOjAsXCJ1bml0c1wiOlwicGl4ZWxzXCIsXCJyZXF1aXJlc1wiOltcInRleHQtZmllbGRcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwidGV4dC1tYXgtd2lkdGhcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjoxMCxcIm1pbmltdW1cIjowLFwidW5pdHNcIjpcImVtc1wiLFwicmVxdWlyZXNcIjpbXCJ0ZXh0LWZpZWxkXCIse1wic3ltYm9sLXBsYWNlbWVudFwiOltcInBvaW50XCJdfV0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwidGV4dC1saW5lLWhlaWdodFwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjEuMixcInVuaXRzXCI6XCJlbXNcIixcInJlcXVpcmVzXCI6W1widGV4dC1maWVsZFwiXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJ0ZXh0LWxldHRlci1zcGFjaW5nXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MCxcInVuaXRzXCI6XCJlbXNcIixcInJlcXVpcmVzXCI6W1widGV4dC1maWVsZFwiXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJ0ZXh0LWp1c3RpZnlcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJhdXRvXCI6e30sXCJsZWZ0XCI6e30sXCJjZW50ZXJcIjp7fSxcInJpZ2h0XCI6e319LFwiZGVmYXVsdFwiOlwiY2VudGVyXCIsXCJyZXF1aXJlc1wiOltcInRleHQtZmllbGRcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcInRleHQtcmFkaWFsLW9mZnNldFwiOntcInR5cGVcIjpcIm51bWJlclwiLFwidW5pdHNcIjpcImVtc1wiLFwiZGVmYXVsdFwiOjAsXCJyZXF1aXJlc1wiOltcInRleHQtZmllbGRcIl0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwiLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX19LFwidGV4dC12YXJpYWJsZS1hbmNob3JcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcImVudW1cIixcInZhbHVlc1wiOntcImNlbnRlclwiOnt9LFwibGVmdFwiOnt9LFwicmlnaHRcIjp7fSxcInRvcFwiOnt9LFwiYm90dG9tXCI6e30sXCJ0b3AtbGVmdFwiOnt9LFwidG9wLXJpZ2h0XCI6e30sXCJib3R0b20tbGVmdFwiOnt9LFwiYm90dG9tLXJpZ2h0XCI6e319LFwicmVxdWlyZXNcIjpbXCJ0ZXh0LWZpZWxkXCIse1wic3ltYm9sLXBsYWNlbWVudFwiOltcInBvaW50XCJdfV0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwidGV4dC1hbmNob3JcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJjZW50ZXJcIjp7fSxcImxlZnRcIjp7fSxcInJpZ2h0XCI6e30sXCJ0b3BcIjp7fSxcImJvdHRvbVwiOnt9LFwidG9wLWxlZnRcIjp7fSxcInRvcC1yaWdodFwiOnt9LFwiYm90dG9tLWxlZnRcIjp7fSxcImJvdHRvbS1yaWdodFwiOnt9fSxcImRlZmF1bHRcIjpcImNlbnRlclwiLFwicmVxdWlyZXNcIjpbXCJ0ZXh0LWZpZWxkXCIse1wiIVwiOlwidGV4dC12YXJpYWJsZS1hbmNob3JcIn1dLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJ0ZXh0LW1heC1hbmdsZVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjQ1LFwidW5pdHNcIjpcImRlZ3JlZXNcIixcInJlcXVpcmVzXCI6W1widGV4dC1maWVsZFwiLHtcInN5bWJvbC1wbGFjZW1lbnRcIjpbXCJsaW5lXCIsXCJsaW5lLWNlbnRlclwiXX1dLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwidGV4dC13cml0aW5nLW1vZGVcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcImVudW1cIixcInZhbHVlc1wiOntcImhvcml6b250YWxcIjp7fSxcInZlcnRpY2FsXCI6e319LFwicmVxdWlyZXNcIjpbXCJ0ZXh0LWZpZWxkXCJdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInRleHQtcm90YXRlXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MCxcInBlcmlvZFwiOjM2MCxcInVuaXRzXCI6XCJkZWdyZWVzXCIsXCJyZXF1aXJlc1wiOltcInRleHQtZmllbGRcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwidGV4dC1wYWRkaW5nXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MixcIm1pbmltdW1cIjowLFwidW5pdHNcIjpcInBpeGVsc1wiLFwicmVxdWlyZXNcIjpbXCJ0ZXh0LWZpZWxkXCJdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwidGV4dC1rZWVwLXVwcmlnaHRcIjp7XCJ0eXBlXCI6XCJib29sZWFuXCIsXCJkZWZhdWx0XCI6dHJ1ZSxcInJlcXVpcmVzXCI6W1widGV4dC1maWVsZFwiLHtcInRleHQtcm90YXRpb24tYWxpZ25tZW50XCI6XCJtYXBcIn0se1wic3ltYm9sLXBsYWNlbWVudFwiOltcImxpbmVcIixcImxpbmUtY2VudGVyXCJdfV0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwidGV4dC10cmFuc2Zvcm1cIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJub25lXCI6e30sXCJ1cHBlcmNhc2VcIjp7fSxcImxvd2VyY2FzZVwiOnt9fSxcImRlZmF1bHRcIjpcIm5vbmVcIixcInJlcXVpcmVzXCI6W1widGV4dC1maWVsZFwiXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwidGV4dC1vZmZzZXRcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcIm51bWJlclwiLFwidW5pdHNcIjpcImVtc1wiLFwibGVuZ3RoXCI6MixcImRlZmF1bHRcIjpbMCwwXSxcInJlcXVpcmVzXCI6W1widGV4dC1maWVsZFwiLHtcIiFcIjpcInRleHQtcmFkaWFsLW9mZnNldFwifV0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwidGV4dC1hbGxvdy1vdmVybGFwXCI6e1widHlwZVwiOlwiYm9vbGVhblwiLFwiZGVmYXVsdFwiOmZhbHNlLFwicmVxdWlyZXNcIjpbXCJ0ZXh0LWZpZWxkXCJdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInRleHQtaWdub3JlLXBsYWNlbWVudFwiOntcInR5cGVcIjpcImJvb2xlYW5cIixcImRlZmF1bHRcIjpmYWxzZSxcInJlcXVpcmVzXCI6W1widGV4dC1maWVsZFwiXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJ0ZXh0LW9wdGlvbmFsXCI6e1widHlwZVwiOlwiYm9vbGVhblwiLFwiZGVmYXVsdFwiOmZhbHNlLFwicmVxdWlyZXNcIjpbXCJ0ZXh0LWZpZWxkXCIsXCJpY29uLWltYWdlXCJdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInZpc2liaWxpdHlcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJ2aXNpYmxlXCI6e30sXCJub25lXCI6e319LFwiZGVmYXVsdFwiOlwidmlzaWJsZVwiLFwicHJvcGVydHktdHlwZVwiOlwiY29uc3RhbnRcIn19LFwibGF5b3V0X3Jhc3RlclwiOntcInZpc2liaWxpdHlcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJ2aXNpYmxlXCI6e30sXCJub25lXCI6e319LFwiZGVmYXVsdFwiOlwidmlzaWJsZVwiLFwicHJvcGVydHktdHlwZVwiOlwiY29uc3RhbnRcIn19LFwibGF5b3V0X2hpbGxzaGFkZVwiOntcInZpc2liaWxpdHlcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJ2aXNpYmxlXCI6e30sXCJub25lXCI6e319LFwiZGVmYXVsdFwiOlwidmlzaWJsZVwiLFwicHJvcGVydHktdHlwZVwiOlwiY29uc3RhbnRcIn19LFwiZmlsdGVyXCI6e1widHlwZVwiOlwiYXJyYXlcIixcInZhbHVlXCI6XCIqXCJ9LFwiZmlsdGVyX3N5bWJvbFwiOntcInR5cGVcIjpcImJvb2xlYW5cIixcImRlZmF1bHRcIjpmYWxzZSxcInRyYW5zaXRpb25cIjpmYWxzZSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwicGl0Y2hcIixcImRpc3RhbmNlLWZyb20tY2VudGVyXCJdfX0sXCJmaWx0ZXJfZmlsbFwiOntcInR5cGVcIjpcImJvb2xlYW5cIixcImRlZmF1bHRcIjpmYWxzZSxcInRyYW5zaXRpb25cIjpmYWxzZSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX19LFwiZmlsdGVyX2xpbmVcIjp7XCJ0eXBlXCI6XCJib29sZWFuXCIsXCJkZWZhdWx0XCI6ZmFsc2UsXCJ0cmFuc2l0aW9uXCI6ZmFsc2UsXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwiLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19fSxcImZpbHRlcl9jaXJjbGVcIjp7XCJ0eXBlXCI6XCJib29sZWFuXCIsXCJkZWZhdWx0XCI6ZmFsc2UsXCJ0cmFuc2l0aW9uXCI6ZmFsc2UsXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwiLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19fSxcImZpbHRlcl9maWxsLWV4dHJ1c2lvblwiOntcInR5cGVcIjpcImJvb2xlYW5cIixcImRlZmF1bHRcIjpmYWxzZSxcInRyYW5zaXRpb25cIjpmYWxzZSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX19LFwiZmlsdGVyX2hlYXRtYXBcIjp7XCJ0eXBlXCI6XCJib29sZWFuXCIsXCJkZWZhdWx0XCI6ZmFsc2UsXCJ0cmFuc2l0aW9uXCI6ZmFsc2UsXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwiLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19fSxcImZpbHRlcl9vcGVyYXRvclwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcIj09XCI6e30sXCIhPVwiOnt9LFwiPlwiOnt9LFwiPj1cIjp7fSxcIjxcIjp7fSxcIjw9XCI6e30sXCJpblwiOnt9LFwiIWluXCI6e30sXCJhbGxcIjp7fSxcImFueVwiOnt9LFwibm9uZVwiOnt9LFwiaGFzXCI6e30sXCIhaGFzXCI6e30sXCJ3aXRoaW5cIjp7fX19LFwiZ2VvbWV0cnlfdHlwZVwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcIlBvaW50XCI6e30sXCJMaW5lU3RyaW5nXCI6e30sXCJQb2x5Z29uXCI6e319fSxcImZ1bmN0aW9uXCI6e1wiZXhwcmVzc2lvblwiOntcInR5cGVcIjpcImV4cHJlc3Npb25cIn0sXCJzdG9wc1wiOntcInR5cGVcIjpcImFycmF5XCIsXCJ2YWx1ZVwiOlwiZnVuY3Rpb25fc3RvcFwifSxcImJhc2VcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjoxLFwibWluaW11bVwiOjB9LFwicHJvcGVydHlcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImRlZmF1bHRcIjpcIiR6b29tXCJ9LFwidHlwZVwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcImlkZW50aXR5XCI6e30sXCJleHBvbmVudGlhbFwiOnt9LFwiaW50ZXJ2YWxcIjp7fSxcImNhdGVnb3JpY2FsXCI6e319LFwiZGVmYXVsdFwiOlwiZXhwb25lbnRpYWxcIn0sXCJjb2xvclNwYWNlXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wicmdiXCI6e30sXCJsYWJcIjp7fSxcImhjbFwiOnt9fSxcImRlZmF1bHRcIjpcInJnYlwifSxcImRlZmF1bHRcIjp7XCJ0eXBlXCI6XCIqXCIsXCJyZXF1aXJlZFwiOmZhbHNlfX0sXCJmdW5jdGlvbl9zdG9wXCI6e1widHlwZVwiOlwiYXJyYXlcIixcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjI0LFwidmFsdWVcIjpbXCJudW1iZXJcIixcImNvbG9yXCJdLFwibGVuZ3RoXCI6Mn0sXCJleHByZXNzaW9uXCI6e1widHlwZVwiOlwiYXJyYXlcIixcInZhbHVlXCI6XCIqXCIsXCJtaW5pbXVtXCI6MX0sXCJmb2dcIjp7XCJyYW5nZVwiOntcInR5cGVcIjpcImFycmF5XCIsXCJkZWZhdWx0XCI6WzAuNSwxMF0sXCJtaW5pbXVtXCI6LTIwLFwibWF4aW11bVwiOjIwLFwibGVuZ3RoXCI6MixcInZhbHVlXCI6XCJudW1iZXJcIixcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIixcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX19LFwiY29sb3JcIjp7XCJ0eXBlXCI6XCJjb2xvclwiLFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwiLFwiZGVmYXVsdFwiOlwiI2ZmZmZmZlwiLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJ0cmFuc2l0aW9uXCI6dHJ1ZX0sXCJoaWdoLWNvbG9yXCI6e1widHlwZVwiOlwiY29sb3JcIixcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIixcImRlZmF1bHRcIjpcIiMyNDVjZGZcIixcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwidHJhbnNpdGlvblwiOnRydWV9LFwic3BhY2UtY29sb3JcIjp7XCJ0eXBlXCI6XCJjb2xvclwiLFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwiLFwiZGVmYXVsdFwiOltcImludGVycG9sYXRlXCIsW1wibGluZWFyXCJdLFtcInpvb21cIl0sNCxcIiMwMTBiMTlcIiw3LFwiIzM2N2FiOVwiXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwidHJhbnNpdGlvblwiOnRydWV9LFwiaG9yaXpvbi1ibGVuZFwiOntcInR5cGVcIjpcIm51bWJlclwiLFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwiLFwiZGVmYXVsdFwiOltcImludGVycG9sYXRlXCIsW1wibGluZWFyXCJdLFtcInpvb21cIl0sNCwwLjIsNywwLjFdLFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwidHJhbnNpdGlvblwiOnRydWV9LFwic3Rhci1pbnRlbnNpdHlcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIixcImRlZmF1bHRcIjpbXCJpbnRlcnBvbGF0ZVwiLFtcImxpbmVhclwiXSxbXCJ6b29tXCJdLDUsMC4zNSw2LDBdLFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwidHJhbnNpdGlvblwiOnRydWV9fSxcImxpZ2h0XCI6e1wiYW5jaG9yXCI6e1widHlwZVwiOlwiZW51bVwiLFwiZGVmYXVsdFwiOlwidmlld3BvcnRcIixcInZhbHVlc1wiOntcIm1hcFwiOnt9LFwidmlld3BvcnRcIjp7fX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCIsXCJ0cmFuc2l0aW9uXCI6ZmFsc2UsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX19LFwicG9zaXRpb25cIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwiZGVmYXVsdFwiOlsxLjE1LDIxMCwzMF0sXCJsZW5ndGhcIjozLFwidmFsdWVcIjpcIm51bWJlclwiLFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwiLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfX0sXCJjb2xvclwiOntcInR5cGVcIjpcImNvbG9yXCIsXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCIsXCJkZWZhdWx0XCI6XCIjZmZmZmZmXCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInRyYW5zaXRpb25cIjp0cnVlfSxcImludGVuc2l0eVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwiLFwiZGVmYXVsdFwiOjAuNSxcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjEsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInRyYW5zaXRpb25cIjp0cnVlfX0sXCJwcm9qZWN0aW9uXCI6e1wibmFtZVwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcImFsYmVyc1wiOnt9LFwiZXF1YWxFYXJ0aFwiOnt9LFwiZXF1aXJlY3Rhbmd1bGFyXCI6e30sXCJsYW1iZXJ0Q29uZm9ybWFsQ29uaWNcIjp7fSxcIm1lcmNhdG9yXCI6e30sXCJuYXR1cmFsRWFydGhcIjp7fSxcIndpbmtlbFRyaXBlbFwiOnt9LFwiZ2xvYmVcIjp7fX0sXCJkZWZhdWx0XCI6XCJtZXJjYXRvclwiLFwicmVxdWlyZWRcIjp0cnVlfSxcImNlbnRlclwiOntcInR5cGVcIjpcImFycmF5XCIsXCJsZW5ndGhcIjoyLFwidmFsdWVcIjpcIm51bWJlclwiLFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwiLFwibWluaW11bVwiOlstMTgwLC05MF0sXCJtYXhpbXVtXCI6WzE4MCw5MF0sXCJ0cmFuc2l0aW9uXCI6ZmFsc2UsXCJyZXF1aXJlc1wiOlt7XCJuYW1lXCI6W1wiYWxiZXJzXCIsXCJsYW1iZXJ0Q29uZm9ybWFsQ29uaWNcIl19XX0sXCJwYXJhbGxlbHNcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwibGVuZ3RoXCI6MixcInZhbHVlXCI6XCJudW1iZXJcIixcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIixcIm1pbmltdW1cIjpbLTkwLC05MF0sXCJtYXhpbXVtXCI6WzkwLDkwXSxcInRyYW5zaXRpb25cIjpmYWxzZSxcInJlcXVpcmVzXCI6W3tcIm5hbWVcIjpbXCJhbGJlcnNcIixcImxhbWJlcnRDb25mb3JtYWxDb25pY1wiXX1dfX0sXCJ0ZXJyYWluXCI6e1wic291cmNlXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJyZXF1aXJlZFwiOnRydWV9LFwiZXhhZ2dlcmF0aW9uXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCIsXCJkZWZhdWx0XCI6MSxcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjEwMDAsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInRyYW5zaXRpb25cIjp0cnVlLFwicmVxdWlyZXNcIjpbXCJzb3VyY2VcIl19fSxcInBhaW50XCI6W1wicGFpbnRfZmlsbFwiLFwicGFpbnRfbGluZVwiLFwicGFpbnRfY2lyY2xlXCIsXCJwYWludF9oZWF0bWFwXCIsXCJwYWludF9maWxsLWV4dHJ1c2lvblwiLFwicGFpbnRfc3ltYm9sXCIsXCJwYWludF9yYXN0ZXJcIixcInBhaW50X2hpbGxzaGFkZVwiLFwicGFpbnRfYmFja2dyb3VuZFwiLFwicGFpbnRfc2t5XCJdLFwicGFpbnRfZmlsbFwiOntcImZpbGwtYW50aWFsaWFzXCI6e1widHlwZVwiOlwiYm9vbGVhblwiLFwiZGVmYXVsdFwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiZmlsbC1vcGFjaXR5XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MSxcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjEsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJmaWxsLWNvbG9yXCI6e1widHlwZVwiOlwiY29sb3JcIixcImRlZmF1bHRcIjpcIiMwMDAwMDBcIixcInRyYW5zaXRpb25cIjp0cnVlLFwicmVxdWlyZXNcIjpbe1wiIVwiOlwiZmlsbC1wYXR0ZXJuXCJ9XSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJmaWxsLW91dGxpbmUtY29sb3JcIjp7XCJ0eXBlXCI6XCJjb2xvclwiLFwidHJhbnNpdGlvblwiOnRydWUsXCJyZXF1aXJlc1wiOlt7XCIhXCI6XCJmaWxsLXBhdHRlcm5cIn0se1wiZmlsbC1hbnRpYWxpYXNcIjp0cnVlfV0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwiZmlsbC10cmFuc2xhdGVcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcIm51bWJlclwiLFwibGVuZ3RoXCI6MixcImRlZmF1bHRcIjpbMCwwXSxcInRyYW5zaXRpb25cIjp0cnVlLFwidW5pdHNcIjpcInBpeGVsc1wiLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiZmlsbC10cmFuc2xhdGUtYW5jaG9yXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wibWFwXCI6e30sXCJ2aWV3cG9ydFwiOnt9fSxcImRlZmF1bHRcIjpcIm1hcFwiLFwicmVxdWlyZXNcIjpbXCJmaWxsLXRyYW5zbGF0ZVwiXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJmaWxsLXBhdHRlcm5cIjp7XCJ0eXBlXCI6XCJyZXNvbHZlZEltYWdlXCIsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImNyb3NzLWZhZGVkLWRhdGEtZHJpdmVuXCJ9fSxcInBhaW50X2ZpbGwtZXh0cnVzaW9uXCI6e1wiZmlsbC1leHRydXNpb24tb3BhY2l0eVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjEsXCJtaW5pbXVtXCI6MCxcIm1heGltdW1cIjoxLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJmaWxsLWV4dHJ1c2lvbi1jb2xvclwiOntcInR5cGVcIjpcImNvbG9yXCIsXCJkZWZhdWx0XCI6XCIjMDAwMDAwXCIsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcInJlcXVpcmVzXCI6W3tcIiFcIjpcImZpbGwtZXh0cnVzaW9uLXBhdHRlcm5cIn1dLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImZpbGwtZXh0cnVzaW9uLXRyYW5zbGF0ZVwiOntcInR5cGVcIjpcImFycmF5XCIsXCJ2YWx1ZVwiOlwibnVtYmVyXCIsXCJsZW5ndGhcIjoyLFwiZGVmYXVsdFwiOlswLDBdLFwidHJhbnNpdGlvblwiOnRydWUsXCJ1bml0c1wiOlwicGl4ZWxzXCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJmaWxsLWV4dHJ1c2lvbi10cmFuc2xhdGUtYW5jaG9yXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wibWFwXCI6e30sXCJ2aWV3cG9ydFwiOnt9fSxcImRlZmF1bHRcIjpcIm1hcFwiLFwicmVxdWlyZXNcIjpbXCJmaWxsLWV4dHJ1c2lvbi10cmFuc2xhdGVcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiZmlsbC1leHRydXNpb24tcGF0dGVyblwiOntcInR5cGVcIjpcInJlc29sdmVkSW1hZ2VcIixcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiY3Jvc3MtZmFkZWQtZGF0YS1kcml2ZW5cIn0sXCJmaWxsLWV4dHJ1c2lvbi1oZWlnaHRcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLFwibWluaW11bVwiOjAsXCJ1bml0c1wiOlwibWV0ZXJzXCIsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJmaWxsLWV4dHJ1c2lvbi1iYXNlXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MCxcIm1pbmltdW1cIjowLFwidW5pdHNcIjpcIm1ldGVyc1wiLFwidHJhbnNpdGlvblwiOnRydWUsXCJyZXF1aXJlc1wiOltcImZpbGwtZXh0cnVzaW9uLWhlaWdodFwiXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJmaWxsLWV4dHJ1c2lvbi12ZXJ0aWNhbC1ncmFkaWVudFwiOntcInR5cGVcIjpcImJvb2xlYW5cIixcImRlZmF1bHRcIjp0cnVlLFwidHJhbnNpdGlvblwiOmZhbHNlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImZpbGwtZXh0cnVzaW9uLWFtYmllbnQtb2NjbHVzaW9uLWludGVuc2l0eVwiOntcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIixcInR5cGVcIjpcIm51bWJlclwiLFwicHJpdmF0ZVwiOnRydWUsXCJkZWZhdWx0XCI6MCxcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjEsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInRyYW5zaXRpb25cIjp0cnVlfSxcImZpbGwtZXh0cnVzaW9uLWFtYmllbnQtb2NjbHVzaW9uLXJhZGl1c1wiOntcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIixcInR5cGVcIjpcIm51bWJlclwiLFwicHJpdmF0ZVwiOnRydWUsXCJkZWZhdWx0XCI6MyxcIm1pbmltdW1cIjowLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcInJlcXVpcmVzXCI6W1wiZmlsbC1leHRydXNpb24tZWRnZS1yYWRpdXNcIl19fSxcInBhaW50X2xpbmVcIjp7XCJsaW5lLW9wYWNpdHlcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjoxLFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MSxcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImxpbmUtY29sb3JcIjp7XCJ0eXBlXCI6XCJjb2xvclwiLFwiZGVmYXVsdFwiOlwiIzAwMDAwMFwiLFwidHJhbnNpdGlvblwiOnRydWUsXCJyZXF1aXJlc1wiOlt7XCIhXCI6XCJsaW5lLXBhdHRlcm5cIn1dLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImxpbmUtdHJhbnNsYXRlXCI6e1widHlwZVwiOlwiYXJyYXlcIixcInZhbHVlXCI6XCJudW1iZXJcIixcImxlbmd0aFwiOjIsXCJkZWZhdWx0XCI6WzAsMF0sXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcInVuaXRzXCI6XCJwaXhlbHNcIixcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImxpbmUtdHJhbnNsYXRlLWFuY2hvclwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcIm1hcFwiOnt9LFwidmlld3BvcnRcIjp7fX0sXCJkZWZhdWx0XCI6XCJtYXBcIixcInJlcXVpcmVzXCI6W1wibGluZS10cmFuc2xhdGVcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwibGluZS13aWR0aFwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjEsXCJtaW5pbXVtXCI6MCxcInRyYW5zaXRpb25cIjp0cnVlLFwidW5pdHNcIjpcInBpeGVsc1wiLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImxpbmUtZ2FwLXdpZHRoXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MCxcIm1pbmltdW1cIjowLFwidHJhbnNpdGlvblwiOnRydWUsXCJ1bml0c1wiOlwicGl4ZWxzXCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwibGluZS1vZmZzZXRcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLFwidHJhbnNpdGlvblwiOnRydWUsXCJ1bml0c1wiOlwicGl4ZWxzXCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwibGluZS1ibHVyXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MCxcIm1pbmltdW1cIjowLFwidHJhbnNpdGlvblwiOnRydWUsXCJ1bml0c1wiOlwicGl4ZWxzXCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwibGluZS1kYXNoYXJyYXlcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcIm51bWJlclwiLFwibWluaW11bVwiOjAsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcInVuaXRzXCI6XCJsaW5lIHdpZHRoc1wiLFwicmVxdWlyZXNcIjpbe1wiIVwiOlwibGluZS1wYXR0ZXJuXCJ9XSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImNyb3NzLWZhZGVkLWRhdGEtZHJpdmVuXCJ9LFwibGluZS1wYXR0ZXJuXCI6e1widHlwZVwiOlwicmVzb2x2ZWRJbWFnZVwiLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJjcm9zcy1mYWRlZC1kYXRhLWRyaXZlblwifSxcImxpbmUtZ3JhZGllbnRcIjp7XCJ0eXBlXCI6XCJjb2xvclwiLFwidHJhbnNpdGlvblwiOmZhbHNlLFwicmVxdWlyZXNcIjpbe1wiIVwiOlwibGluZS1wYXR0ZXJuXCJ9LHtcInNvdXJjZVwiOlwiZ2VvanNvblwiLFwiaGFzXCI6e1wibGluZU1ldHJpY3NcIjp0cnVlfX1dLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wibGluZS1wcm9ncmVzc1wiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJjb2xvci1yYW1wXCJ9LFwibGluZS10cmltLW9mZnNldFwiOntcInR5cGVcIjpcImFycmF5XCIsXCJ2YWx1ZVwiOlwibnVtYmVyXCIsXCJsZW5ndGhcIjoyLFwiZGVmYXVsdFwiOlswLDBdLFwibWluaW11bVwiOlswLDBdLFwibWF4aW11bVwiOlsxLDFdLFwidHJhbnNpdGlvblwiOmZhbHNlLFwicmVxdWlyZXNcIjpbe1wic291cmNlXCI6XCJnZW9qc29uXCIsXCJoYXNcIjp7XCJsaW5lTWV0cmljc1wiOnRydWV9fV0sXCJwcm9wZXJ0eS10eXBlXCI6XCJjb25zdGFudFwifX0sXCJwYWludF9jaXJjbGVcIjp7XCJjaXJjbGUtcmFkaXVzXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6NSxcIm1pbmltdW1cIjowLFwidHJhbnNpdGlvblwiOnRydWUsXCJ1bml0c1wiOlwicGl4ZWxzXCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwiY2lyY2xlLWNvbG9yXCI6e1widHlwZVwiOlwiY29sb3JcIixcImRlZmF1bHRcIjpcIiMwMDAwMDBcIixcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImNpcmNsZS1ibHVyXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MCxcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImNpcmNsZS1vcGFjaXR5XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MSxcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjEsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJjaXJjbGUtdHJhbnNsYXRlXCI6e1widHlwZVwiOlwiYXJyYXlcIixcInZhbHVlXCI6XCJudW1iZXJcIixcImxlbmd0aFwiOjIsXCJkZWZhdWx0XCI6WzAsMF0sXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcInVuaXRzXCI6XCJwaXhlbHNcIixcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImNpcmNsZS10cmFuc2xhdGUtYW5jaG9yXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wibWFwXCI6e30sXCJ2aWV3cG9ydFwiOnt9fSxcImRlZmF1bHRcIjpcIm1hcFwiLFwicmVxdWlyZXNcIjpbXCJjaXJjbGUtdHJhbnNsYXRlXCJdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImNpcmNsZS1waXRjaC1zY2FsZVwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcIm1hcFwiOnt9LFwidmlld3BvcnRcIjp7fX0sXCJkZWZhdWx0XCI6XCJtYXBcIixcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJjaXJjbGUtcGl0Y2gtYWxpZ25tZW50XCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wibWFwXCI6e30sXCJ2aWV3cG9ydFwiOnt9fSxcImRlZmF1bHRcIjpcInZpZXdwb3J0XCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiY2lyY2xlLXN0cm9rZS13aWR0aFwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjAsXCJtaW5pbXVtXCI6MCxcInRyYW5zaXRpb25cIjp0cnVlLFwidW5pdHNcIjpcInBpeGVsc1wiLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImNpcmNsZS1zdHJva2UtY29sb3JcIjp7XCJ0eXBlXCI6XCJjb2xvclwiLFwiZGVmYXVsdFwiOlwiIzAwMDAwMFwiLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwiY2lyY2xlLXN0cm9rZS1vcGFjaXR5XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MSxcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjEsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn19LFwicGFpbnRfaGVhdG1hcFwiOntcImhlYXRtYXAtcmFkaXVzXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MzAsXCJtaW5pbXVtXCI6MSxcInRyYW5zaXRpb25cIjp0cnVlLFwidW5pdHNcIjpcInBpeGVsc1wiLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImhlYXRtYXAtd2VpZ2h0XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MSxcIm1pbmltdW1cIjowLFwidHJhbnNpdGlvblwiOmZhbHNlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImhlYXRtYXAtaW50ZW5zaXR5XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MSxcIm1pbmltdW1cIjowLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJoZWF0bWFwLWNvbG9yXCI6e1widHlwZVwiOlwiY29sb3JcIixcImRlZmF1bHRcIjpbXCJpbnRlcnBvbGF0ZVwiLFtcImxpbmVhclwiXSxbXCJoZWF0bWFwLWRlbnNpdHlcIl0sMCxcInJnYmEoMCwgMCwgMjU1LCAwKVwiLDAuMSxcInJveWFsYmx1ZVwiLDAuMyxcImN5YW5cIiwwLjUsXCJsaW1lXCIsMC43LFwieWVsbG93XCIsMSxcInJlZFwiXSxcInRyYW5zaXRpb25cIjpmYWxzZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcImhlYXRtYXAtZGVuc2l0eVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJjb2xvci1yYW1wXCJ9LFwiaGVhdG1hcC1vcGFjaXR5XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MSxcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjEsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifX0sXCJwYWludF9zeW1ib2xcIjp7XCJpY29uLW9wYWNpdHlcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjoxLFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MSxcInRyYW5zaXRpb25cIjp0cnVlLFwicmVxdWlyZXNcIjpbXCJpY29uLWltYWdlXCJdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImljb24tY29sb3JcIjp7XCJ0eXBlXCI6XCJjb2xvclwiLFwiZGVmYXVsdFwiOlwiIzAwMDAwMFwiLFwidHJhbnNpdGlvblwiOnRydWUsXCJyZXF1aXJlc1wiOltcImljb24taW1hZ2VcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwiaWNvbi1oYWxvLWNvbG9yXCI6e1widHlwZVwiOlwiY29sb3JcIixcImRlZmF1bHRcIjpcInJnYmEoMCwgMCwgMCwgMClcIixcInRyYW5zaXRpb25cIjp0cnVlLFwicmVxdWlyZXNcIjpbXCJpY29uLWltYWdlXCJdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImljb24taGFsby13aWR0aFwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjAsXCJtaW5pbXVtXCI6MCxcInRyYW5zaXRpb25cIjp0cnVlLFwidW5pdHNcIjpcInBpeGVsc1wiLFwicmVxdWlyZXNcIjpbXCJpY29uLWltYWdlXCJdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImljb24taGFsby1ibHVyXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MCxcIm1pbmltdW1cIjowLFwidHJhbnNpdGlvblwiOnRydWUsXCJ1bml0c1wiOlwicGl4ZWxzXCIsXCJyZXF1aXJlc1wiOltcImljb24taW1hZ2VcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwiaWNvbi10cmFuc2xhdGVcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcIm51bWJlclwiLFwibGVuZ3RoXCI6MixcImRlZmF1bHRcIjpbMCwwXSxcInRyYW5zaXRpb25cIjp0cnVlLFwidW5pdHNcIjpcInBpeGVsc1wiLFwicmVxdWlyZXNcIjpbXCJpY29uLWltYWdlXCJdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiaWNvbi10cmFuc2xhdGUtYW5jaG9yXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wibWFwXCI6e30sXCJ2aWV3cG9ydFwiOnt9fSxcImRlZmF1bHRcIjpcIm1hcFwiLFwicmVxdWlyZXNcIjpbXCJpY29uLWltYWdlXCIsXCJpY29uLXRyYW5zbGF0ZVwiXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJ0ZXh0LW9wYWNpdHlcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjoxLFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MSxcInRyYW5zaXRpb25cIjp0cnVlLFwicmVxdWlyZXNcIjpbXCJ0ZXh0LWZpZWxkXCJdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcInRleHQtY29sb3JcIjp7XCJ0eXBlXCI6XCJjb2xvclwiLFwiZGVmYXVsdFwiOlwiIzAwMDAwMFwiLFwidHJhbnNpdGlvblwiOnRydWUsXCJvdmVycmlkYWJsZVwiOnRydWUsXCJyZXF1aXJlc1wiOltcInRleHQtZmllbGRcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwidGV4dC1oYWxvLWNvbG9yXCI6e1widHlwZVwiOlwiY29sb3JcIixcImRlZmF1bHRcIjpcInJnYmEoMCwgMCwgMCwgMClcIixcInRyYW5zaXRpb25cIjp0cnVlLFwicmVxdWlyZXNcIjpbXCJ0ZXh0LWZpZWxkXCJdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcInRleHQtaGFsby13aWR0aFwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjAsXCJtaW5pbXVtXCI6MCxcInRyYW5zaXRpb25cIjp0cnVlLFwidW5pdHNcIjpcInBpeGVsc1wiLFwicmVxdWlyZXNcIjpbXCJ0ZXh0LWZpZWxkXCJdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcInRleHQtaGFsby1ibHVyXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MCxcIm1pbmltdW1cIjowLFwidHJhbnNpdGlvblwiOnRydWUsXCJ1bml0c1wiOlwicGl4ZWxzXCIsXCJyZXF1aXJlc1wiOltcInRleHQtZmllbGRcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwidGV4dC10cmFuc2xhdGVcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcIm51bWJlclwiLFwibGVuZ3RoXCI6MixcImRlZmF1bHRcIjpbMCwwXSxcInRyYW5zaXRpb25cIjp0cnVlLFwidW5pdHNcIjpcInBpeGVsc1wiLFwicmVxdWlyZXNcIjpbXCJ0ZXh0LWZpZWxkXCJdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwidGV4dC10cmFuc2xhdGUtYW5jaG9yXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wibWFwXCI6e30sXCJ2aWV3cG9ydFwiOnt9fSxcImRlZmF1bHRcIjpcIm1hcFwiLFwicmVxdWlyZXNcIjpbXCJ0ZXh0LWZpZWxkXCIsXCJ0ZXh0LXRyYW5zbGF0ZVwiXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn19LFwicGFpbnRfcmFzdGVyXCI6e1wicmFzdGVyLW9wYWNpdHlcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjoxLFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MSxcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwicmFzdGVyLWh1ZS1yb3RhdGVcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLFwicGVyaW9kXCI6MzYwLFwidHJhbnNpdGlvblwiOnRydWUsXCJ1bml0c1wiOlwiZGVncmVlc1wiLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwicmFzdGVyLWJyaWdodG5lc3MtbWluXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MCxcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjEsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInJhc3Rlci1icmlnaHRuZXNzLW1heFwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjEsXCJtaW5pbXVtXCI6MCxcIm1heGltdW1cIjoxLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJyYXN0ZXItc2F0dXJhdGlvblwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjAsXCJtaW5pbXVtXCI6LTEsXCJtYXhpbXVtXCI6MSxcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwicmFzdGVyLWNvbnRyYXN0XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MCxcIm1pbmltdW1cIjotMSxcIm1heGltdW1cIjoxLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJyYXN0ZXItcmVzYW1wbGluZ1wiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcImxpbmVhclwiOnt9LFwibmVhcmVzdFwiOnt9fSxcImRlZmF1bHRcIjpcImxpbmVhclwiLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInJhc3Rlci1mYWRlLWR1cmF0aW9uXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MzAwLFwibWluaW11bVwiOjAsXCJ0cmFuc2l0aW9uXCI6ZmFsc2UsXCJ1bml0c1wiOlwibWlsbGlzZWNvbmRzXCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn19LFwicGFpbnRfaGlsbHNoYWRlXCI6e1wiaGlsbHNoYWRlLWlsbHVtaW5hdGlvbi1kaXJlY3Rpb25cIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjozMzUsXCJtaW5pbXVtXCI6MCxcIm1heGltdW1cIjozNTksXCJ0cmFuc2l0aW9uXCI6ZmFsc2UsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJoaWxsc2hhZGUtaWxsdW1pbmF0aW9uLWFuY2hvclwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcIm1hcFwiOnt9LFwidmlld3BvcnRcIjp7fX0sXCJkZWZhdWx0XCI6XCJ2aWV3cG9ydFwiLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImhpbGxzaGFkZS1leGFnZ2VyYXRpb25cIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLjUsXCJtaW5pbXVtXCI6MCxcIm1heGltdW1cIjoxLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJoaWxsc2hhZGUtc2hhZG93LWNvbG9yXCI6e1widHlwZVwiOlwiY29sb3JcIixcImRlZmF1bHRcIjpcIiMwMDAwMDBcIixcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiaGlsbHNoYWRlLWhpZ2hsaWdodC1jb2xvclwiOntcInR5cGVcIjpcImNvbG9yXCIsXCJkZWZhdWx0XCI6XCIjRkZGRkZGXCIsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImhpbGxzaGFkZS1hY2NlbnQtY29sb3JcIjp7XCJ0eXBlXCI6XCJjb2xvclwiLFwiZGVmYXVsdFwiOlwiIzAwMDAwMFwiLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn19LFwicGFpbnRfYmFja2dyb3VuZFwiOntcImJhY2tncm91bmQtY29sb3JcIjp7XCJ0eXBlXCI6XCJjb2xvclwiLFwiZGVmYXVsdFwiOlwiIzAwMDAwMFwiLFwidHJhbnNpdGlvblwiOnRydWUsXCJyZXF1aXJlc1wiOlt7XCIhXCI6XCJiYWNrZ3JvdW5kLXBhdHRlcm5cIn1dLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiYmFja2dyb3VuZC1wYXR0ZXJuXCI6e1widHlwZVwiOlwicmVzb2x2ZWRJbWFnZVwiLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJjcm9zcy1mYWRlZFwifSxcImJhY2tncm91bmQtb3BhY2l0eVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjEsXCJtaW5pbXVtXCI6MCxcIm1heGltdW1cIjoxLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn19LFwicGFpbnRfc2t5XCI6e1wic2t5LXR5cGVcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJncmFkaWVudFwiOnt9LFwiYXRtb3NwaGVyZVwiOnt9fSxcImRlZmF1bHRcIjpcImF0bW9zcGhlcmVcIixcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJza3ktYXRtb3NwaGVyZS1zdW5cIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcIm51bWJlclwiLFwibGVuZ3RoXCI6MixcInVuaXRzXCI6XCJkZWdyZWVzXCIsXCJtaW5pbXVtXCI6WzAsMF0sXCJtYXhpbXVtXCI6WzM2MCwxODBdLFwidHJhbnNpdGlvblwiOmZhbHNlLFwicmVxdWlyZXNcIjpbe1wic2t5LXR5cGVcIjpcImF0bW9zcGhlcmVcIn1dLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInNreS1hdG1vc3BoZXJlLXN1bi1pbnRlbnNpdHlcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcInJlcXVpcmVzXCI6W3tcInNreS10eXBlXCI6XCJhdG1vc3BoZXJlXCJ9XSxcImRlZmF1bHRcIjoxMCxcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjEwMCxcInRyYW5zaXRpb25cIjpmYWxzZSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJza3ktZ3JhZGllbnQtY2VudGVyXCI6e1widHlwZVwiOlwiYXJyYXlcIixcInJlcXVpcmVzXCI6W3tcInNreS10eXBlXCI6XCJncmFkaWVudFwifV0sXCJ2YWx1ZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6WzAsMF0sXCJsZW5ndGhcIjoyLFwidW5pdHNcIjpcImRlZ3JlZXNcIixcIm1pbmltdW1cIjpbMCwwXSxcIm1heGltdW1cIjpbMzYwLDE4MF0sXCJ0cmFuc2l0aW9uXCI6ZmFsc2UsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwic2t5LWdyYWRpZW50LXJhZGl1c1wiOntcInR5cGVcIjpcIm51bWJlclwiLFwicmVxdWlyZXNcIjpbe1wic2t5LXR5cGVcIjpcImdyYWRpZW50XCJ9XSxcImRlZmF1bHRcIjo5MCxcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjE4MCxcInRyYW5zaXRpb25cIjpmYWxzZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJza3ktZ3JhZGllbnRcIjp7XCJ0eXBlXCI6XCJjb2xvclwiLFwiZGVmYXVsdFwiOltcImludGVycG9sYXRlXCIsW1wibGluZWFyXCJdLFtcInNreS1yYWRpYWwtcHJvZ3Jlc3NcIl0sMC44LFwiIzg3Y2VlYlwiLDEsXCJ3aGl0ZVwiXSxcInRyYW5zaXRpb25cIjpmYWxzZSxcInJlcXVpcmVzXCI6W3tcInNreS10eXBlXCI6XCJncmFkaWVudFwifV0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJza3ktcmFkaWFsLXByb2dyZXNzXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImNvbG9yLXJhbXBcIn0sXCJza3ktYXRtb3NwaGVyZS1oYWxvLWNvbG9yXCI6e1widHlwZVwiOlwiY29sb3JcIixcImRlZmF1bHRcIjpcIndoaXRlXCIsXCJ0cmFuc2l0aW9uXCI6ZmFsc2UsXCJyZXF1aXJlc1wiOlt7XCJza3ktdHlwZVwiOlwiYXRtb3NwaGVyZVwifV0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwic2t5LWF0bW9zcGhlcmUtY29sb3JcIjp7XCJ0eXBlXCI6XCJjb2xvclwiLFwiZGVmYXVsdFwiOlwid2hpdGVcIixcInRyYW5zaXRpb25cIjpmYWxzZSxcInJlcXVpcmVzXCI6W3tcInNreS10eXBlXCI6XCJhdG1vc3BoZXJlXCJ9XSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJza3ktb3BhY2l0eVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjEsXCJtaW5pbXVtXCI6MCxcIm1heGltdW1cIjoxLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn19LFwidHJhbnNpdGlvblwiOntcImR1cmF0aW9uXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MzAwLFwibWluaW11bVwiOjAsXCJ1bml0c1wiOlwibWlsbGlzZWNvbmRzXCJ9LFwiZGVsYXlcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLFwibWluaW11bVwiOjAsXCJ1bml0c1wiOlwibWlsbGlzZWNvbmRzXCJ9fSxcInByb3BlcnR5LXR5cGVcIjp7XCJkYXRhLWRyaXZlblwiOntcInR5cGVcIjpcInByb3BlcnR5LXR5cGVcIn0sXCJjcm9zcy1mYWRlZFwiOntcInR5cGVcIjpcInByb3BlcnR5LXR5cGVcIn0sXCJjcm9zcy1mYWRlZC1kYXRhLWRyaXZlblwiOntcInR5cGVcIjpcInByb3BlcnR5LXR5cGVcIn0sXCJjb2xvci1yYW1wXCI6e1widHlwZVwiOlwicHJvcGVydHktdHlwZVwifSxcImRhdGEtY29uc3RhbnRcIjp7XCJ0eXBlXCI6XCJwcm9wZXJ0eS10eXBlXCJ9LFwiY29uc3RhbnRcIjp7XCJ0eXBlXCI6XCJwcm9wZXJ0eS10eXBlXCJ9fSxcInByb21vdGVJZFwiOntcIipcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIn19fScpO2Z1bmN0aW9uIFl0KHQsLi4uZSl7Zm9yKGNvbnN0IHIgb2YgZSlmb3IoY29uc3QgZSBpbiByKXRbZV09cltlXTtyZXR1cm4gdH1mdW5jdGlvbiBXdCh0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIE51bWJlcnx8dCBpbnN0YW5jZW9mIFN0cmluZ3x8dCBpbnN0YW5jZW9mIEJvb2xlYW4/dC52YWx1ZU9mKCk6dH1mdW5jdGlvbiBKdCh0KXtpZihBcnJheS5pc0FycmF5KHQpKXJldHVybiB0Lm1hcChKdCk7aWYodCBpbnN0YW5jZW9mIE9iamVjdCYmISh0IGluc3RhbmNlb2YgTnVtYmVyfHx0IGluc3RhbmNlb2YgU3RyaW5nfHx0IGluc3RhbmNlb2YgQm9vbGVhbikpe2NvbnN0IGU9e307Zm9yKGNvbnN0IHIgaW4gdCllW3JdPUp0KHRbcl0pO3JldHVybiBlfXJldHVybiBXdCh0KX1jbGFzcyBRdCBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKHQsZSl7c3VwZXIoZSksdGhpcy5tZXNzYWdlPWUsdGhpcy5rZXk9dDt9fXZhciB0ZT1RdDtjbGFzcyBlZXtjb25zdHJ1Y3Rvcih0LGU9W10pe3RoaXMucGFyZW50PXQsdGhpcy5iaW5kaW5ncz17fTtmb3IoY29uc3RbdCxyXW9mIGUpdGhpcy5iaW5kaW5nc1t0XT1yO31jb25jYXQodCl7cmV0dXJuIG5ldyBlZSh0aGlzLHQpfWdldCh0KXtpZih0aGlzLmJpbmRpbmdzW3RdKXJldHVybiB0aGlzLmJpbmRpbmdzW3RdO2lmKHRoaXMucGFyZW50KXJldHVybiB0aGlzLnBhcmVudC5nZXQodCk7dGhyb3cgbmV3IEVycm9yKGAke3R9IG5vdCBmb3VuZCBpbiBzY29wZS5gKX1oYXModCl7cmV0dXJuICEhdGhpcy5iaW5kaW5nc1t0XXx8ISF0aGlzLnBhcmVudCYmdGhpcy5wYXJlbnQuaGFzKHQpfX12YXIgcmU9ZWU7Y29uc3QgbmU9e2tpbmQ6XCJudWxsXCJ9LGllPXtraW5kOlwibnVtYmVyXCJ9LHNlPXtraW5kOlwic3RyaW5nXCJ9LGFlPXtraW5kOlwiYm9vbGVhblwifSxvZT17a2luZDpcImNvbG9yXCJ9LGxlPXtraW5kOlwib2JqZWN0XCJ9LHVlPXtraW5kOlwidmFsdWVcIn0sY2U9e2tpbmQ6XCJjb2xsYXRvclwifSxoZT17a2luZDpcImZvcm1hdHRlZFwifSxwZT17a2luZDpcInJlc29sdmVkSW1hZ2VcIn07ZnVuY3Rpb24gZmUodCxlKXtyZXR1cm4ge2tpbmQ6XCJhcnJheVwiLGl0ZW1UeXBlOnQsTjplfX1mdW5jdGlvbiBkZSh0KXtpZihcImFycmF5XCI9PT10LmtpbmQpe2NvbnN0IGU9ZGUodC5pdGVtVHlwZSk7cmV0dXJuIFwibnVtYmVyXCI9PXR5cGVvZiB0Lk4/YGFycmF5PCR7ZX0sICR7dC5OfT5gOlwidmFsdWVcIj09PXQuaXRlbVR5cGUua2luZD9cImFycmF5XCI6YGFycmF5PCR7ZX0+YH1yZXR1cm4gdC5raW5kfWNvbnN0IHllPVtuZSxpZSxzZSxhZSxvZSxoZSxsZSxmZSh1ZSkscGVdO2Z1bmN0aW9uIG1lKHQsZSl7aWYoXCJlcnJvclwiPT09ZS5raW5kKXJldHVybiBudWxsO2lmKFwiYXJyYXlcIj09PXQua2luZCl7aWYoXCJhcnJheVwiPT09ZS5raW5kJiYoMD09PWUuTiYmXCJ2YWx1ZVwiPT09ZS5pdGVtVHlwZS5raW5kfHwhbWUodC5pdGVtVHlwZSxlLml0ZW1UeXBlKSkmJihcIm51bWJlclwiIT10eXBlb2YgdC5OfHx0Lk49PT1lLk4pKXJldHVybiBudWxsfWVsc2Uge2lmKHQua2luZD09PWUua2luZClyZXR1cm4gbnVsbDtpZihcInZhbHVlXCI9PT10LmtpbmQpZm9yKGNvbnN0IHQgb2YgeWUpaWYoIW1lKHQsZSkpcmV0dXJuIG51bGx9cmV0dXJuIGBFeHBlY3RlZCAke2RlKHQpfSBidXQgZm91bmQgJHtkZShlKX0gaW5zdGVhZC5gfWZ1bmN0aW9uIGdlKHQsZSl7cmV0dXJuIGUuc29tZSgoZT0+ZS5raW5kPT09dC5raW5kKSl9ZnVuY3Rpb24geGUodCxlKXtyZXR1cm4gZS5zb21lKChlPT5cIm51bGxcIj09PWU/bnVsbD09PXQ6XCJhcnJheVwiPT09ZT9BcnJheS5pc0FycmF5KHQpOlwib2JqZWN0XCI9PT1lP3QmJiFBcnJheS5pc0FycmF5KHQpJiZcIm9iamVjdFwiPT10eXBlb2YgdDplPT09dHlwZW9mIHQpKX12YXIgdmUsYmU9e3RyYW5zcGFyZW50OlswLDAsMCwwXSxhbGljZWJsdWU6WzI0MCwyNDgsMjU1LDFdLGFudGlxdWV3aGl0ZTpbMjUwLDIzNSwyMTUsMV0sYXF1YTpbMCwyNTUsMjU1LDFdLGFxdWFtYXJpbmU6WzEyNywyNTUsMjEyLDFdLGF6dXJlOlsyNDAsMjU1LDI1NSwxXSxiZWlnZTpbMjQ1LDI0NSwyMjAsMV0sYmlzcXVlOlsyNTUsMjI4LDE5NiwxXSxibGFjazpbMCwwLDAsMV0sYmxhbmNoZWRhbG1vbmQ6WzI1NSwyMzUsMjA1LDFdLGJsdWU6WzAsMCwyNTUsMV0sYmx1ZXZpb2xldDpbMTM4LDQzLDIyNiwxXSxicm93bjpbMTY1LDQyLDQyLDFdLGJ1cmx5d29vZDpbMjIyLDE4NCwxMzUsMV0sY2FkZXRibHVlOls5NSwxNTgsMTYwLDFdLGNoYXJ0cmV1c2U6WzEyNywyNTUsMCwxXSxjaG9jb2xhdGU6WzIxMCwxMDUsMzAsMV0sY29yYWw6WzI1NSwxMjcsODAsMV0sY29ybmZsb3dlcmJsdWU6WzEwMCwxNDksMjM3LDFdLGNvcm5zaWxrOlsyNTUsMjQ4LDIyMCwxXSxjcmltc29uOlsyMjAsMjAsNjAsMV0sY3lhbjpbMCwyNTUsMjU1LDFdLGRhcmtibHVlOlswLDAsMTM5LDFdLGRhcmtjeWFuOlswLDEzOSwxMzksMV0sZGFya2dvbGRlbnJvZDpbMTg0LDEzNCwxMSwxXSxkYXJrZ3JheTpbMTY5LDE2OSwxNjksMV0sZGFya2dyZWVuOlswLDEwMCwwLDFdLGRhcmtncmV5OlsxNjksMTY5LDE2OSwxXSxkYXJra2hha2k6WzE4OSwxODMsMTA3LDFdLGRhcmttYWdlbnRhOlsxMzksMCwxMzksMV0sZGFya29saXZlZ3JlZW46Wzg1LDEwNyw0NywxXSxkYXJrb3JhbmdlOlsyNTUsMTQwLDAsMV0sZGFya29yY2hpZDpbMTUzLDUwLDIwNCwxXSxkYXJrcmVkOlsxMzksMCwwLDFdLGRhcmtzYWxtb246WzIzMywxNTAsMTIyLDFdLGRhcmtzZWFncmVlbjpbMTQzLDE4OCwxNDMsMV0sZGFya3NsYXRlYmx1ZTpbNzIsNjEsMTM5LDFdLGRhcmtzbGF0ZWdyYXk6WzQ3LDc5LDc5LDFdLGRhcmtzbGF0ZWdyZXk6WzQ3LDc5LDc5LDFdLGRhcmt0dXJxdW9pc2U6WzAsMjA2LDIwOSwxXSxkYXJrdmlvbGV0OlsxNDgsMCwyMTEsMV0sZGVlcHBpbms6WzI1NSwyMCwxNDcsMV0sZGVlcHNreWJsdWU6WzAsMTkxLDI1NSwxXSxkaW1ncmF5OlsxMDUsMTA1LDEwNSwxXSxkaW1ncmV5OlsxMDUsMTA1LDEwNSwxXSxkb2RnZXJibHVlOlszMCwxNDQsMjU1LDFdLGZpcmVicmljazpbMTc4LDM0LDM0LDFdLGZsb3JhbHdoaXRlOlsyNTUsMjUwLDI0MCwxXSxmb3Jlc3RncmVlbjpbMzQsMTM5LDM0LDFdLGZ1Y2hzaWE6WzI1NSwwLDI1NSwxXSxnYWluc2Jvcm86WzIyMCwyMjAsMjIwLDFdLGdob3N0d2hpdGU6WzI0OCwyNDgsMjU1LDFdLGdvbGQ6WzI1NSwyMTUsMCwxXSxnb2xkZW5yb2Q6WzIxOCwxNjUsMzIsMV0sZ3JheTpbMTI4LDEyOCwxMjgsMV0sZ3JlZW46WzAsMTI4LDAsMV0sZ3JlZW55ZWxsb3c6WzE3MywyNTUsNDcsMV0sZ3JleTpbMTI4LDEyOCwxMjgsMV0saG9uZXlkZXc6WzI0MCwyNTUsMjQwLDFdLGhvdHBpbms6WzI1NSwxMDUsMTgwLDFdLGluZGlhbnJlZDpbMjA1LDkyLDkyLDFdLGluZGlnbzpbNzUsMCwxMzAsMV0saXZvcnk6WzI1NSwyNTUsMjQwLDFdLGtoYWtpOlsyNDAsMjMwLDE0MCwxXSxsYXZlbmRlcjpbMjMwLDIzMCwyNTAsMV0sbGF2ZW5kZXJibHVzaDpbMjU1LDI0MCwyNDUsMV0sbGF3bmdyZWVuOlsxMjQsMjUyLDAsMV0sbGVtb25jaGlmZm9uOlsyNTUsMjUwLDIwNSwxXSxsaWdodGJsdWU6WzE3MywyMTYsMjMwLDFdLGxpZ2h0Y29yYWw6WzI0MCwxMjgsMTI4LDFdLGxpZ2h0Y3lhbjpbMjI0LDI1NSwyNTUsMV0sbGlnaHRnb2xkZW5yb2R5ZWxsb3c6WzI1MCwyNTAsMjEwLDFdLGxpZ2h0Z3JheTpbMjExLDIxMSwyMTEsMV0sbGlnaHRncmVlbjpbMTQ0LDIzOCwxNDQsMV0sbGlnaHRncmV5OlsyMTEsMjExLDIxMSwxXSxsaWdodHBpbms6WzI1NSwxODIsMTkzLDFdLGxpZ2h0c2FsbW9uOlsyNTUsMTYwLDEyMiwxXSxsaWdodHNlYWdyZWVuOlszMiwxNzgsMTcwLDFdLGxpZ2h0c2t5Ymx1ZTpbMTM1LDIwNiwyNTAsMV0sbGlnaHRzbGF0ZWdyYXk6WzExOSwxMzYsMTUzLDFdLGxpZ2h0c2xhdGVncmV5OlsxMTksMTM2LDE1MywxXSxsaWdodHN0ZWVsYmx1ZTpbMTc2LDE5NiwyMjIsMV0sbGlnaHR5ZWxsb3c6WzI1NSwyNTUsMjI0LDFdLGxpbWU6WzAsMjU1LDAsMV0sbGltZWdyZWVuOls1MCwyMDUsNTAsMV0sbGluZW46WzI1MCwyNDAsMjMwLDFdLG1hZ2VudGE6WzI1NSwwLDI1NSwxXSxtYXJvb246WzEyOCwwLDAsMV0sbWVkaXVtYXF1YW1hcmluZTpbMTAyLDIwNSwxNzAsMV0sbWVkaXVtYmx1ZTpbMCwwLDIwNSwxXSxtZWRpdW1vcmNoaWQ6WzE4Niw4NSwyMTEsMV0sbWVkaXVtcHVycGxlOlsxNDcsMTEyLDIxOSwxXSxtZWRpdW1zZWFncmVlbjpbNjAsMTc5LDExMywxXSxtZWRpdW1zbGF0ZWJsdWU6WzEyMywxMDQsMjM4LDFdLG1lZGl1bXNwcmluZ2dyZWVuOlswLDI1MCwxNTQsMV0sbWVkaXVtdHVycXVvaXNlOls3MiwyMDksMjA0LDFdLG1lZGl1bXZpb2xldHJlZDpbMTk5LDIxLDEzMywxXSxtaWRuaWdodGJsdWU6WzI1LDI1LDExMiwxXSxtaW50Y3JlYW06WzI0NSwyNTUsMjUwLDFdLG1pc3R5cm9zZTpbMjU1LDIyOCwyMjUsMV0sbW9jY2FzaW46WzI1NSwyMjgsMTgxLDFdLG5hdmFqb3doaXRlOlsyNTUsMjIyLDE3MywxXSxuYXZ5OlswLDAsMTI4LDFdLG9sZGxhY2U6WzI1MywyNDUsMjMwLDFdLG9saXZlOlsxMjgsMTI4LDAsMV0sb2xpdmVkcmFiOlsxMDcsMTQyLDM1LDFdLG9yYW5nZTpbMjU1LDE2NSwwLDFdLG9yYW5nZXJlZDpbMjU1LDY5LDAsMV0sb3JjaGlkOlsyMTgsMTEyLDIxNCwxXSxwYWxlZ29sZGVucm9kOlsyMzgsMjMyLDE3MCwxXSxwYWxlZ3JlZW46WzE1MiwyNTEsMTUyLDFdLHBhbGV0dXJxdW9pc2U6WzE3NSwyMzgsMjM4LDFdLHBhbGV2aW9sZXRyZWQ6WzIxOSwxMTIsMTQ3LDFdLHBhcGF5YXdoaXA6WzI1NSwyMzksMjEzLDFdLHBlYWNocHVmZjpbMjU1LDIxOCwxODUsMV0scGVydTpbMjA1LDEzMyw2MywxXSxwaW5rOlsyNTUsMTkyLDIwMywxXSxwbHVtOlsyMjEsMTYwLDIyMSwxXSxwb3dkZXJibHVlOlsxNzYsMjI0LDIzMCwxXSxwdXJwbGU6WzEyOCwwLDEyOCwxXSxyZWJlY2NhcHVycGxlOlsxMDIsNTEsMTUzLDFdLHJlZDpbMjU1LDAsMCwxXSxyb3N5YnJvd246WzE4OCwxNDMsMTQzLDFdLHJveWFsYmx1ZTpbNjUsMTA1LDIyNSwxXSxzYWRkbGVicm93bjpbMTM5LDY5LDE5LDFdLHNhbG1vbjpbMjUwLDEyOCwxMTQsMV0sc2FuZHlicm93bjpbMjQ0LDE2NCw5NiwxXSxzZWFncmVlbjpbNDYsMTM5LDg3LDFdLHNlYXNoZWxsOlsyNTUsMjQ1LDIzOCwxXSxzaWVubmE6WzE2MCw4Miw0NSwxXSxzaWx2ZXI6WzE5MiwxOTIsMTkyLDFdLHNreWJsdWU6WzEzNSwyMDYsMjM1LDFdLHNsYXRlYmx1ZTpbMTA2LDkwLDIwNSwxXSxzbGF0ZWdyYXk6WzExMiwxMjgsMTQ0LDFdLHNsYXRlZ3JleTpbMTEyLDEyOCwxNDQsMV0sc25vdzpbMjU1LDI1MCwyNTAsMV0sc3ByaW5nZ3JlZW46WzAsMjU1LDEyNywxXSxzdGVlbGJsdWU6WzcwLDEzMCwxODAsMV0sdGFuOlsyMTAsMTgwLDE0MCwxXSx0ZWFsOlswLDEyOCwxMjgsMV0sdGhpc3RsZTpbMjE2LDE5MSwyMTYsMV0sdG9tYXRvOlsyNTUsOTksNzEsMV0sdHVycXVvaXNlOls2NCwyMjQsMjA4LDFdLHZpb2xldDpbMjM4LDEzMCwyMzgsMV0sd2hlYXQ6WzI0NSwyMjIsMTc5LDFdLHdoaXRlOlsyNTUsMjU1LDI1NSwxXSx3aGl0ZXNtb2tlOlsyNDUsMjQ1LDI0NSwxXSx5ZWxsb3c6WzI1NSwyNTUsMCwxXSx5ZWxsb3dncmVlbjpbMTU0LDIwNSw1MCwxXX07ZnVuY3Rpb24gX2UodCl7cmV0dXJuICh0PU1hdGgucm91bmQodCkpPDA/MDp0PjI1NT8yNTU6dH1mdW5jdGlvbiB3ZSh0KXtyZXR1cm4gX2UoXCIlXCI9PT10W3QubGVuZ3RoLTFdP3BhcnNlRmxvYXQodCkvMTAwKjI1NTpwYXJzZUludCh0KSl9ZnVuY3Rpb24gQWUodCl7cmV0dXJuIChlPVwiJVwiPT09dFt0Lmxlbmd0aC0xXT9wYXJzZUZsb2F0KHQpLzEwMDpwYXJzZUZsb2F0KHQpKTwwPzA6ZT4xPzE6ZTt2YXIgZTt9ZnVuY3Rpb24gU2UodCxlLHIpe3JldHVybiByPDA/cis9MTpyPjEmJihyLT0xKSw2KnI8MT90KyhlLXQpKnIqNjoyKnI8MT9lOjMqcjwyP3QrKGUtdCkqKDIvMy1yKSo2OnR9dHJ5e3ZlPXt9LnBhcnNlQ1NTQ29sb3I9ZnVuY3Rpb24odCl7dmFyIGUscj10LnJlcGxhY2UoLyAvZyxcIlwiKS50b0xvd2VyQ2FzZSgpO2lmKHIgaW4gYmUpcmV0dXJuIGJlW3JdLnNsaWNlKCk7aWYoXCIjXCI9PT1yWzBdKXJldHVybiA0PT09ci5sZW5ndGg/KGU9cGFyc2VJbnQoci5zdWJzdHIoMSksMTYpKT49MCYmZTw9NDA5NT9bKDM4NDAmZSk+PjR8KDM4NDAmZSk+PjgsMjQwJmV8KDI0MCZlKT4+NCwxNSZlfCgxNSZlKTw8NCwxXTpudWxsOjc9PT1yLmxlbmd0aCYmKGU9cGFyc2VJbnQoci5zdWJzdHIoMSksMTYpKT49MCYmZTw9MTY3NzcyMTU/WygxNjcxMTY4MCZlKT4+MTYsKDY1MjgwJmUpPj44LDI1NSZlLDFdOm51bGw7dmFyIG49ci5pbmRleE9mKFwiKFwiKSxpPXIuaW5kZXhPZihcIilcIik7aWYoLTEhPT1uJiZpKzE9PT1yLmxlbmd0aCl7dmFyIHM9ci5zdWJzdHIoMCxuKSxhPXIuc3Vic3RyKG4rMSxpLShuKzEpKS5zcGxpdChcIixcIiksbz0xO3N3aXRjaChzKXtjYXNlXCJyZ2JhXCI6aWYoNCE9PWEubGVuZ3RoKXJldHVybiBudWxsO289QWUoYS5wb3AoKSk7Y2FzZVwicmdiXCI6cmV0dXJuIDMhPT1hLmxlbmd0aD9udWxsOlt3ZShhWzBdKSx3ZShhWzFdKSx3ZShhWzJdKSxvXTtjYXNlXCJoc2xhXCI6aWYoNCE9PWEubGVuZ3RoKXJldHVybiBudWxsO289QWUoYS5wb3AoKSk7Y2FzZVwiaHNsXCI6aWYoMyE9PWEubGVuZ3RoKXJldHVybiBudWxsO3ZhciBsPShwYXJzZUZsb2F0KGFbMF0pJTM2MCszNjApJTM2MC8zNjAsdT1BZShhWzFdKSxjPUFlKGFbMl0pLGg9Yzw9LjU/YyoodSsxKTpjK3UtYyp1LHA9MipjLWg7cmV0dXJuIFtfZSgyNTUqU2UocCxoLGwrMS8zKSksX2UoMjU1KlNlKHAsaCxsKSksX2UoMjU1KlNlKHAsaCxsLTEvMykpLG9dO2RlZmF1bHQ6cmV0dXJuIG51bGx9fXJldHVybiBudWxsfTt9Y2F0Y2godCl7fWNsYXNzIGtle2NvbnN0cnVjdG9yKHQsZSxyLG49MSl7dGhpcy5yPXQsdGhpcy5nPWUsdGhpcy5iPXIsdGhpcy5hPW47fXN0YXRpYyBwYXJzZSh0KXtpZighdClyZXR1cm47aWYodCBpbnN0YW5jZW9mIGtlKXJldHVybiB0O2lmKFwic3RyaW5nXCIhPXR5cGVvZiB0KXJldHVybjtjb25zdCBlPXZlKHQpO3JldHVybiBlP25ldyBrZShlWzBdLzI1NSplWzNdLGVbMV0vMjU1KmVbM10sZVsyXS8yNTUqZVszXSxlWzNdKTp2b2lkIDB9dG9TdHJpbmcoKXtjb25zdFt0LGUscixuXT10aGlzLnRvQXJyYXkoKTtyZXR1cm4gYHJnYmEoJHtNYXRoLnJvdW5kKHQpfSwke01hdGgucm91bmQoZSl9LCR7TWF0aC5yb3VuZChyKX0sJHtufSlgfXRvQXJyYXkoKXtjb25zdHtyOnQsZzplLGI6cixhOm59PXRoaXM7cmV0dXJuIDA9PT1uP1swLDAsMCwwXTpbMjU1KnQvbiwyNTUqZS9uLDI1NSpyL24sbl19dG9BcnJheTAxKCl7Y29uc3R7cjp0LGc6ZSxiOnIsYTpufT10aGlzO3JldHVybiAwPT09bj9bMCwwLDAsMF06W3QvbixlL24sci9uLG5dfXRvQXJyYXkwMVByZW11bHRpcGxpZWRBbHBoYSgpe2NvbnN0e3I6dCxnOmUsYjpyLGE6bn09dGhpcztyZXR1cm4gW3QsZSxyLG5dfX1rZS5ibGFjaz1uZXcga2UoMCwwLDAsMSksa2Uud2hpdGU9bmV3IGtlKDEsMSwxLDEpLGtlLnRyYW5zcGFyZW50PW5ldyBrZSgwLDAsMCwwKSxrZS5yZWQ9bmV3IGtlKDEsMCwwLDEpLGtlLmJsdWU9bmV3IGtlKDAsMCwxLDEpO3ZhciBJZT1rZTtjbGFzcyBNZXtjb25zdHJ1Y3Rvcih0LGUscil7dGhpcy5zZW5zaXRpdml0eT10P2U/XCJ2YXJpYW50XCI6XCJjYXNlXCI6ZT9cImFjY2VudFwiOlwiYmFzZVwiLHRoaXMubG9jYWxlPXIsdGhpcy5jb2xsYXRvcj1uZXcgSW50bC5Db2xsYXRvcih0aGlzLmxvY2FsZT90aGlzLmxvY2FsZTpbXSx7c2Vuc2l0aXZpdHk6dGhpcy5zZW5zaXRpdml0eSx1c2FnZTpcInNlYXJjaFwifSk7fWNvbXBhcmUodCxlKXtyZXR1cm4gdGhpcy5jb2xsYXRvci5jb21wYXJlKHQsZSl9cmVzb2x2ZWRMb2NhbGUoKXtyZXR1cm4gbmV3IEludGwuQ29sbGF0b3IodGhpcy5sb2NhbGU/dGhpcy5sb2NhbGU6W10pLnJlc29sdmVkT3B0aW9ucygpLmxvY2FsZX19Y2xhc3MgemV7Y29uc3RydWN0b3IodCxlLHIsbixpKXt0aGlzLnRleHQ9dC5ub3JtYWxpemU/dC5ub3JtYWxpemUoKTp0LHRoaXMuaW1hZ2U9ZSx0aGlzLnNjYWxlPXIsdGhpcy5mb250U3RhY2s9bix0aGlzLnRleHRDb2xvcj1pO319Y2xhc3MgVGV7Y29uc3RydWN0b3IodCl7dGhpcy5zZWN0aW9ucz10O31zdGF0aWMgZnJvbVN0cmluZyh0KXtyZXR1cm4gbmV3IFRlKFtuZXcgemUodCxudWxsLG51bGwsbnVsbCxudWxsKV0pfWlzRW1wdHkoKXtyZXR1cm4gMD09PXRoaXMuc2VjdGlvbnMubGVuZ3RofHwhdGhpcy5zZWN0aW9ucy5zb21lKCh0PT4wIT09dC50ZXh0Lmxlbmd0aHx8dC5pbWFnZSYmMCE9PXQuaW1hZ2UubmFtZS5sZW5ndGgpKX1zdGF0aWMgZmFjdG9yeSh0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIFRlP3Q6VGUuZnJvbVN0cmluZyh0KX10b1N0cmluZygpe3JldHVybiAwPT09dGhpcy5zZWN0aW9ucy5sZW5ndGg/XCJcIjp0aGlzLnNlY3Rpb25zLm1hcCgodD0+dC50ZXh0KSkuam9pbihcIlwiKX1zZXJpYWxpemUoKXtjb25zdCB0PVtcImZvcm1hdFwiXTtmb3IoY29uc3QgZSBvZiB0aGlzLnNlY3Rpb25zKXtpZihlLmltYWdlKXt0LnB1c2goW1wiaW1hZ2VcIixlLmltYWdlLm5hbWVdKTtjb250aW51ZX10LnB1c2goZS50ZXh0KTtjb25zdCByPXt9O2UuZm9udFN0YWNrJiYocltcInRleHQtZm9udFwiXT1bXCJsaXRlcmFsXCIsZS5mb250U3RhY2suc3BsaXQoXCIsXCIpXSksZS5zY2FsZSYmKHJbXCJmb250LXNjYWxlXCJdPWUuc2NhbGUpLGUudGV4dENvbG9yJiYocltcInRleHQtY29sb3JcIl09W1wicmdiYVwiXS5jb25jYXQoZS50ZXh0Q29sb3IudG9BcnJheSgpKSksdC5wdXNoKHIpO31yZXR1cm4gdH19Y2xhc3MgQmV7Y29uc3RydWN0b3IodCl7dGhpcy5uYW1lPXQubmFtZSx0aGlzLmF2YWlsYWJsZT10LmF2YWlsYWJsZTt9dG9TdHJpbmcoKXtyZXR1cm4gdGhpcy5uYW1lfXN0YXRpYyBmcm9tU3RyaW5nKHQpe3JldHVybiB0P25ldyBCZSh7bmFtZTp0LGF2YWlsYWJsZTohMX0pOm51bGx9c2VyaWFsaXplKCl7cmV0dXJuIFtcImltYWdlXCIsdGhpcy5uYW1lXX19ZnVuY3Rpb24gRWUodCxlLHIsbil7cmV0dXJuIFwibnVtYmVyXCI9PXR5cGVvZiB0JiZ0Pj0wJiZ0PD0yNTUmJlwibnVtYmVyXCI9PXR5cGVvZiBlJiZlPj0wJiZlPD0yNTUmJlwibnVtYmVyXCI9PXR5cGVvZiByJiZyPj0wJiZyPD0yNTU/dm9pZCAwPT09bnx8XCJudW1iZXJcIj09dHlwZW9mIG4mJm4+PTAmJm48PTE/bnVsbDpgSW52YWxpZCByZ2JhIHZhbHVlIFske1t0LGUscixuXS5qb2luKFwiLCBcIil9XTogJ2EnIG11c3QgYmUgYmV0d2VlbiAwIGFuZCAxLmA6YEludmFsaWQgcmdiYSB2YWx1ZSBbJHsoXCJudW1iZXJcIj09dHlwZW9mIG4/W3QsZSxyLG5dOlt0LGUscl0pLmpvaW4oXCIsIFwiKX1dOiAncicsICdnJywgYW5kICdiJyBtdXN0IGJlIGJldHdlZW4gMCBhbmQgMjU1LmB9ZnVuY3Rpb24gUGUodCl7aWYobnVsbD09PXQpcmV0dXJuICEwO2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXJldHVybiAhMDtpZihcImJvb2xlYW5cIj09dHlwZW9mIHQpcmV0dXJuICEwO2lmKFwibnVtYmVyXCI9PXR5cGVvZiB0KXJldHVybiAhMDtpZih0IGluc3RhbmNlb2YgSWUpcmV0dXJuICEwO2lmKHQgaW5zdGFuY2VvZiBNZSlyZXR1cm4gITA7aWYodCBpbnN0YW5jZW9mIFRlKXJldHVybiAhMDtpZih0IGluc3RhbmNlb2YgQmUpcmV0dXJuICEwO2lmKEFycmF5LmlzQXJyYXkodCkpe2Zvcihjb25zdCBlIG9mIHQpaWYoIVBlKGUpKXJldHVybiAhMTtyZXR1cm4gITB9aWYoXCJvYmplY3RcIj09dHlwZW9mIHQpe2Zvcihjb25zdCBlIGluIHQpaWYoIVBlKHRbZV0pKXJldHVybiAhMTtyZXR1cm4gITB9cmV0dXJuICExfWZ1bmN0aW9uIENlKHQpe2lmKG51bGw9PT10KXJldHVybiBuZTtpZihcInN0cmluZ1wiPT10eXBlb2YgdClyZXR1cm4gc2U7aWYoXCJib29sZWFuXCI9PXR5cGVvZiB0KXJldHVybiBhZTtpZihcIm51bWJlclwiPT10eXBlb2YgdClyZXR1cm4gaWU7aWYodCBpbnN0YW5jZW9mIEllKXJldHVybiBvZTtpZih0IGluc3RhbmNlb2YgTWUpcmV0dXJuIGNlO2lmKHQgaW5zdGFuY2VvZiBUZSlyZXR1cm4gaGU7aWYodCBpbnN0YW5jZW9mIEJlKXJldHVybiBwZTtpZihBcnJheS5pc0FycmF5KHQpKXtjb25zdCBlPXQubGVuZ3RoO2xldCByO2Zvcihjb25zdCBlIG9mIHQpe2NvbnN0IHQ9Q2UoZSk7aWYocil7aWYocj09PXQpY29udGludWU7cj11ZTticmVha31yPXQ7fXJldHVybiBmZShyfHx1ZSxlKX1yZXR1cm4gbGV9ZnVuY3Rpb24gRGUodCl7Y29uc3QgZT10eXBlb2YgdDtyZXR1cm4gbnVsbD09PXQ/XCJcIjpcInN0cmluZ1wiPT09ZXx8XCJudW1iZXJcIj09PWV8fFwiYm9vbGVhblwiPT09ZT9TdHJpbmcodCk6dCBpbnN0YW5jZW9mIEllfHx0IGluc3RhbmNlb2YgVGV8fHQgaW5zdGFuY2VvZiBCZT90LnRvU3RyaW5nKCk6SlNPTi5zdHJpbmdpZnkodCl9Y2xhc3MgVmV7Y29uc3RydWN0b3IodCxlKXt0aGlzLnR5cGU9dCx0aGlzLnZhbHVlPWU7fXN0YXRpYyBwYXJzZSh0LGUpe2lmKDIhPT10Lmxlbmd0aClyZXR1cm4gZS5lcnJvcihgJ2xpdGVyYWwnIGV4cHJlc3Npb24gcmVxdWlyZXMgZXhhY3RseSBvbmUgYXJndW1lbnQsIGJ1dCBmb3VuZCAke3QubGVuZ3RoLTF9IGluc3RlYWQuYCk7aWYoIVBlKHRbMV0pKXJldHVybiBlLmVycm9yKFwiaW52YWxpZCB2YWx1ZVwiKTtjb25zdCByPXRbMV07bGV0IG49Q2Uocik7Y29uc3QgaT1lLmV4cGVjdGVkVHlwZTtyZXR1cm4gXCJhcnJheVwiIT09bi5raW5kfHwwIT09bi5OfHwhaXx8XCJhcnJheVwiIT09aS5raW5kfHxcIm51bWJlclwiPT10eXBlb2YgaS5OJiYwIT09aS5OfHwobj1pKSxuZXcgVmUobixyKX1ldmFsdWF0ZSgpe3JldHVybiB0aGlzLnZhbHVlfWVhY2hDaGlsZCgpe31vdXRwdXREZWZpbmVkKCl7cmV0dXJuICEwfXNlcmlhbGl6ZSgpe3JldHVybiBcImFycmF5XCI9PT10aGlzLnR5cGUua2luZHx8XCJvYmplY3RcIj09PXRoaXMudHlwZS5raW5kP1tcImxpdGVyYWxcIix0aGlzLnZhbHVlXTp0aGlzLnZhbHVlIGluc3RhbmNlb2YgSWU/W1wicmdiYVwiXS5jb25jYXQodGhpcy52YWx1ZS50b0FycmF5KCkpOnRoaXMudmFsdWUgaW5zdGFuY2VvZiBUZT90aGlzLnZhbHVlLnNlcmlhbGl6ZSgpOnRoaXMudmFsdWV9fXZhciBGZT1WZSxMZT1jbGFzc3tjb25zdHJ1Y3Rvcih0KXt0aGlzLm5hbWU9XCJFeHByZXNzaW9uRXZhbHVhdGlvbkVycm9yXCIsdGhpcy5tZXNzYWdlPXQ7fXRvSlNPTigpe3JldHVybiB0aGlzLm1lc3NhZ2V9fTtjb25zdCBSZT17c3RyaW5nOnNlLG51bWJlcjppZSxib29sZWFuOmFlLG9iamVjdDpsZX07Y2xhc3MgVWV7Y29uc3RydWN0b3IodCxlKXt0aGlzLnR5cGU9dCx0aGlzLmFyZ3M9ZTt9c3RhdGljIHBhcnNlKHQsZSl7aWYodC5sZW5ndGg8MilyZXR1cm4gZS5lcnJvcihcIkV4cGVjdGVkIGF0IGxlYXN0IG9uZSBhcmd1bWVudC5cIik7bGV0IHIsbj0xO2NvbnN0IGk9dFswXTtpZihcImFycmF5XCI9PT1pKXtsZXQgaSxzO2lmKHQubGVuZ3RoPjIpe2NvbnN0IHI9dFsxXTtpZihcInN0cmluZ1wiIT10eXBlb2Ygcnx8IShyIGluIFJlKXx8XCJvYmplY3RcIj09PXIpcmV0dXJuIGUuZXJyb3IoJ1RoZSBpdGVtIHR5cGUgYXJndW1lbnQgb2YgXCJhcnJheVwiIG11c3QgYmUgb25lIG9mIHN0cmluZywgbnVtYmVyLCBib29sZWFuJywxKTtpPVJlW3JdLG4rKzt9ZWxzZSBpPXVlO2lmKHQubGVuZ3RoPjMpe2lmKG51bGwhPT10WzJdJiYoXCJudW1iZXJcIiE9dHlwZW9mIHRbMl18fHRbMl08MHx8dFsyXSE9PU1hdGguZmxvb3IodFsyXSkpKXJldHVybiBlLmVycm9yKCdUaGUgbGVuZ3RoIGFyZ3VtZW50IHRvIFwiYXJyYXlcIiBtdXN0IGJlIGEgcG9zaXRpdmUgaW50ZWdlciBsaXRlcmFsJywyKTtzPXRbMl0sbisrO31yPWZlKGkscyk7fWVsc2Ugcj1SZVtpXTtjb25zdCBzPVtdO2Zvcig7bjx0Lmxlbmd0aDtuKyspe2NvbnN0IHI9ZS5wYXJzZSh0W25dLG4sdWUpO2lmKCFyKXJldHVybiBudWxsO3MucHVzaChyKTt9cmV0dXJuIG5ldyBVZShyLHMpfWV2YWx1YXRlKHQpe2ZvcihsZXQgZT0wO2U8dGhpcy5hcmdzLmxlbmd0aDtlKyspe2NvbnN0IHI9dGhpcy5hcmdzW2VdLmV2YWx1YXRlKHQpO2lmKCFtZSh0aGlzLnR5cGUsQ2UocikpKXJldHVybiByO2lmKGU9PT10aGlzLmFyZ3MubGVuZ3RoLTEpdGhyb3cgbmV3IExlKGBFeHBlY3RlZCB2YWx1ZSB0byBiZSBvZiB0eXBlICR7ZGUodGhpcy50eXBlKX0sIGJ1dCBmb3VuZCAke2RlKENlKHIpKX0gaW5zdGVhZC5gKX1yZXR1cm4gbnVsbH1lYWNoQ2hpbGQodCl7dGhpcy5hcmdzLmZvckVhY2godCk7fW91dHB1dERlZmluZWQoKXtyZXR1cm4gdGhpcy5hcmdzLmV2ZXJ5KCh0PT50Lm91dHB1dERlZmluZWQoKSkpfXNlcmlhbGl6ZSgpe2NvbnN0IHQ9dGhpcy50eXBlLGU9W3Qua2luZF07aWYoXCJhcnJheVwiPT09dC5raW5kKXtjb25zdCByPXQuaXRlbVR5cGU7aWYoXCJzdHJpbmdcIj09PXIua2luZHx8XCJudW1iZXJcIj09PXIua2luZHx8XCJib29sZWFuXCI9PT1yLmtpbmQpe2UucHVzaChyLmtpbmQpO2NvbnN0IG49dC5OOyhcIm51bWJlclwiPT10eXBlb2Ygbnx8dGhpcy5hcmdzLmxlbmd0aD4xKSYmZS5wdXNoKG4pO319cmV0dXJuIGUuY29uY2F0KHRoaXMuYXJncy5tYXAoKHQ9PnQuc2VyaWFsaXplKCkpKSl9fXZhciBqZT1VZTtjbGFzcyAkZXtjb25zdHJ1Y3Rvcih0KXt0aGlzLnR5cGU9aGUsdGhpcy5zZWN0aW9ucz10O31zdGF0aWMgcGFyc2UodCxlKXtpZih0Lmxlbmd0aDwyKXJldHVybiBlLmVycm9yKFwiRXhwZWN0ZWQgYXQgbGVhc3Qgb25lIGFyZ3VtZW50LlwiKTtjb25zdCByPXRbMV07aWYoIUFycmF5LmlzQXJyYXkocikmJlwib2JqZWN0XCI9PXR5cGVvZiByKXJldHVybiBlLmVycm9yKFwiRmlyc3QgYXJndW1lbnQgbXVzdCBiZSBhbiBpbWFnZSBvciB0ZXh0IHNlY3Rpb24uXCIpO2NvbnN0IG49W107bGV0IGk9ITE7Zm9yKGxldCByPTE7cjw9dC5sZW5ndGgtMTsrK3Ipe2NvbnN0IHM9dFtyXTtpZihpJiZcIm9iamVjdFwiPT10eXBlb2YgcyYmIUFycmF5LmlzQXJyYXkocykpe2k9ITE7bGV0IHQ9bnVsbDtpZihzW1wiZm9udC1zY2FsZVwiXSYmKHQ9ZS5wYXJzZShzW1wiZm9udC1zY2FsZVwiXSwxLGllKSwhdCkpcmV0dXJuIG51bGw7bGV0IHI9bnVsbDtpZihzW1widGV4dC1mb250XCJdJiYocj1lLnBhcnNlKHNbXCJ0ZXh0LWZvbnRcIl0sMSxmZShzZSkpLCFyKSlyZXR1cm4gbnVsbDtsZXQgYT1udWxsO2lmKHNbXCJ0ZXh0LWNvbG9yXCJdJiYoYT1lLnBhcnNlKHNbXCJ0ZXh0LWNvbG9yXCJdLDEsb2UpLCFhKSlyZXR1cm4gbnVsbDtjb25zdCBvPW5bbi5sZW5ndGgtMV07by5zY2FsZT10LG8uZm9udD1yLG8udGV4dENvbG9yPWE7fWVsc2Uge2NvbnN0IHM9ZS5wYXJzZSh0W3JdLDEsdWUpO2lmKCFzKXJldHVybiBudWxsO2NvbnN0IGE9cy50eXBlLmtpbmQ7aWYoXCJzdHJpbmdcIiE9PWEmJlwidmFsdWVcIiE9PWEmJlwibnVsbFwiIT09YSYmXCJyZXNvbHZlZEltYWdlXCIhPT1hKXJldHVybiBlLmVycm9yKFwiRm9ybWF0dGVkIHRleHQgdHlwZSBtdXN0IGJlICdzdHJpbmcnLCAndmFsdWUnLCAnaW1hZ2UnIG9yICdudWxsJy5cIik7aT0hMCxuLnB1c2goe2NvbnRlbnQ6cyxzY2FsZTpudWxsLGZvbnQ6bnVsbCx0ZXh0Q29sb3I6bnVsbH0pO319cmV0dXJuIG5ldyAkZShuKX1ldmFsdWF0ZSh0KXtyZXR1cm4gbmV3IFRlKHRoaXMuc2VjdGlvbnMubWFwKChlPT57Y29uc3Qgcj1lLmNvbnRlbnQuZXZhbHVhdGUodCk7cmV0dXJuIENlKHIpPT09cGU/bmV3IHplKFwiXCIscixudWxsLG51bGwsbnVsbCk6bmV3IHplKERlKHIpLG51bGwsZS5zY2FsZT9lLnNjYWxlLmV2YWx1YXRlKHQpOm51bGwsZS5mb250P2UuZm9udC5ldmFsdWF0ZSh0KS5qb2luKFwiLFwiKTpudWxsLGUudGV4dENvbG9yP2UudGV4dENvbG9yLmV2YWx1YXRlKHQpOm51bGwpfSkpKX1lYWNoQ2hpbGQodCl7Zm9yKGNvbnN0IGUgb2YgdGhpcy5zZWN0aW9ucyl0KGUuY29udGVudCksZS5zY2FsZSYmdChlLnNjYWxlKSxlLmZvbnQmJnQoZS5mb250KSxlLnRleHRDb2xvciYmdChlLnRleHRDb2xvcik7fW91dHB1dERlZmluZWQoKXtyZXR1cm4gITF9c2VyaWFsaXplKCl7Y29uc3QgdD1bXCJmb3JtYXRcIl07Zm9yKGNvbnN0IGUgb2YgdGhpcy5zZWN0aW9ucyl7dC5wdXNoKGUuY29udGVudC5zZXJpYWxpemUoKSk7Y29uc3Qgcj17fTtlLnNjYWxlJiYocltcImZvbnQtc2NhbGVcIl09ZS5zY2FsZS5zZXJpYWxpemUoKSksZS5mb250JiYocltcInRleHQtZm9udFwiXT1lLmZvbnQuc2VyaWFsaXplKCkpLGUudGV4dENvbG9yJiYocltcInRleHQtY29sb3JcIl09ZS50ZXh0Q29sb3Iuc2VyaWFsaXplKCkpLHQucHVzaChyKTt9cmV0dXJuIHR9fWNsYXNzIE9le2NvbnN0cnVjdG9yKHQpe3RoaXMudHlwZT1wZSx0aGlzLmlucHV0PXQ7fXN0YXRpYyBwYXJzZSh0LGUpe2lmKDIhPT10Lmxlbmd0aClyZXR1cm4gZS5lcnJvcihcIkV4cGVjdGVkIHR3byBhcmd1bWVudHMuXCIpO2NvbnN0IHI9ZS5wYXJzZSh0WzFdLDEsc2UpO3JldHVybiByP25ldyBPZShyKTplLmVycm9yKFwiTm8gaW1hZ2UgbmFtZSBwcm92aWRlZC5cIil9ZXZhbHVhdGUodCl7Y29uc3QgZT10aGlzLmlucHV0LmV2YWx1YXRlKHQpLHI9QmUuZnJvbVN0cmluZyhlKTtyZXR1cm4gciYmdC5hdmFpbGFibGVJbWFnZXMmJihyLmF2YWlsYWJsZT10LmF2YWlsYWJsZUltYWdlcy5pbmRleE9mKGUpPi0xKSxyfWVhY2hDaGlsZCh0KXt0KHRoaXMuaW5wdXQpO31vdXRwdXREZWZpbmVkKCl7cmV0dXJuICExfXNlcmlhbGl6ZSgpe3JldHVybiBbXCJpbWFnZVwiLHRoaXMuaW5wdXQuc2VyaWFsaXplKCldfX1jb25zdCBxZT17XCJ0by1ib29sZWFuXCI6YWUsXCJ0by1jb2xvclwiOm9lLFwidG8tbnVtYmVyXCI6aWUsXCJ0by1zdHJpbmdcIjpzZX07Y2xhc3MgTmV7Y29uc3RydWN0b3IodCxlKXt0aGlzLnR5cGU9dCx0aGlzLmFyZ3M9ZTt9c3RhdGljIHBhcnNlKHQsZSl7aWYodC5sZW5ndGg8MilyZXR1cm4gZS5lcnJvcihcIkV4cGVjdGVkIGF0IGxlYXN0IG9uZSBhcmd1bWVudC5cIik7Y29uc3Qgcj10WzBdO2lmKChcInRvLWJvb2xlYW5cIj09PXJ8fFwidG8tc3RyaW5nXCI9PT1yKSYmMiE9PXQubGVuZ3RoKXJldHVybiBlLmVycm9yKFwiRXhwZWN0ZWQgb25lIGFyZ3VtZW50LlwiKTtjb25zdCBuPXFlW3JdLGk9W107Zm9yKGxldCByPTE7cjx0Lmxlbmd0aDtyKyspe2NvbnN0IG49ZS5wYXJzZSh0W3JdLHIsdWUpO2lmKCFuKXJldHVybiBudWxsO2kucHVzaChuKTt9cmV0dXJuIG5ldyBOZShuLGkpfWV2YWx1YXRlKHQpe2lmKFwiYm9vbGVhblwiPT09dGhpcy50eXBlLmtpbmQpcmV0dXJuIEJvb2xlYW4odGhpcy5hcmdzWzBdLmV2YWx1YXRlKHQpKTtpZihcImNvbG9yXCI9PT10aGlzLnR5cGUua2luZCl7bGV0IGUscjtmb3IoY29uc3QgbiBvZiB0aGlzLmFyZ3Mpe2lmKGU9bi5ldmFsdWF0ZSh0KSxyPW51bGwsZSBpbnN0YW5jZW9mIEllKXJldHVybiBlO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlKXtjb25zdCByPXQucGFyc2VDb2xvcihlKTtpZihyKXJldHVybiByfWVsc2UgaWYoQXJyYXkuaXNBcnJheShlKSYmKHI9ZS5sZW5ndGg8M3x8ZS5sZW5ndGg+ND9gSW52YWxpZCByYmdhIHZhbHVlICR7SlNPTi5zdHJpbmdpZnkoZSl9OiBleHBlY3RlZCBhbiBhcnJheSBjb250YWluaW5nIGVpdGhlciB0aHJlZSBvciBmb3VyIG51bWVyaWMgdmFsdWVzLmA6RWUoZVswXSxlWzFdLGVbMl0sZVszXSksIXIpKXJldHVybiBuZXcgSWUoZVswXS8yNTUsZVsxXS8yNTUsZVsyXS8yNTUsZVszXSl9dGhyb3cgbmV3IExlKHJ8fGBDb3VsZCBub3QgcGFyc2UgY29sb3IgZnJvbSB2YWx1ZSAnJHtcInN0cmluZ1wiPT10eXBlb2YgZT9lOlN0cmluZyhKU09OLnN0cmluZ2lmeShlKSl9J2ApfWlmKFwibnVtYmVyXCI9PT10aGlzLnR5cGUua2luZCl7bGV0IGU9bnVsbDtmb3IoY29uc3QgciBvZiB0aGlzLmFyZ3Mpe2lmKGU9ci5ldmFsdWF0ZSh0KSxudWxsPT09ZSlyZXR1cm4gMDtjb25zdCBuPU51bWJlcihlKTtpZighaXNOYU4obikpcmV0dXJuIG59dGhyb3cgbmV3IExlKGBDb3VsZCBub3QgY29udmVydCAke0pTT04uc3RyaW5naWZ5KGUpfSB0byBudW1iZXIuYCl9cmV0dXJuIFwiZm9ybWF0dGVkXCI9PT10aGlzLnR5cGUua2luZD9UZS5mcm9tU3RyaW5nKERlKHRoaXMuYXJnc1swXS5ldmFsdWF0ZSh0KSkpOlwicmVzb2x2ZWRJbWFnZVwiPT09dGhpcy50eXBlLmtpbmQ/QmUuZnJvbVN0cmluZyhEZSh0aGlzLmFyZ3NbMF0uZXZhbHVhdGUodCkpKTpEZSh0aGlzLmFyZ3NbMF0uZXZhbHVhdGUodCkpfWVhY2hDaGlsZCh0KXt0aGlzLmFyZ3MuZm9yRWFjaCh0KTt9b3V0cHV0RGVmaW5lZCgpe3JldHVybiB0aGlzLmFyZ3MuZXZlcnkoKHQ9PnQub3V0cHV0RGVmaW5lZCgpKSl9c2VyaWFsaXplKCl7aWYoXCJmb3JtYXR0ZWRcIj09PXRoaXMudHlwZS5raW5kKXJldHVybiBuZXcgJGUoW3tjb250ZW50OnRoaXMuYXJnc1swXSxzY2FsZTpudWxsLGZvbnQ6bnVsbCx0ZXh0Q29sb3I6bnVsbH1dKS5zZXJpYWxpemUoKTtpZihcInJlc29sdmVkSW1hZ2VcIj09PXRoaXMudHlwZS5raW5kKXJldHVybiBuZXcgT2UodGhpcy5hcmdzWzBdKS5zZXJpYWxpemUoKTtjb25zdCB0PVtgdG8tJHt0aGlzLnR5cGUua2luZH1gXTtyZXR1cm4gdGhpcy5lYWNoQ2hpbGQoKGU9Pnt0LnB1c2goZS5zZXJpYWxpemUoKSk7fSkpLHR9fXZhciBHZT1OZTtjb25zdCBaZT1bXCJVbmtub3duXCIsXCJQb2ludFwiLFwiTGluZVN0cmluZ1wiLFwiUG9seWdvblwiXTt2YXIgWGU9Y2xhc3N7Y29uc3RydWN0b3IoKXt0aGlzLmdsb2JhbHM9bnVsbCx0aGlzLmZlYXR1cmU9bnVsbCx0aGlzLmZlYXR1cmVTdGF0ZT1udWxsLHRoaXMuZm9ybWF0dGVkU2VjdGlvbj1udWxsLHRoaXMuX3BhcnNlQ29sb3JDYWNoZT17fSx0aGlzLmF2YWlsYWJsZUltYWdlcz1udWxsLHRoaXMuY2Fub25pY2FsPW51bGwsdGhpcy5mZWF0dXJlVGlsZUNvb3JkPW51bGwsdGhpcy5mZWF0dXJlRGlzdGFuY2VEYXRhPW51bGw7fWlkKCl7cmV0dXJuIHRoaXMuZmVhdHVyZSYmdm9pZCAwIT09dGhpcy5mZWF0dXJlLmlkP3RoaXMuZmVhdHVyZS5pZDpudWxsfWdlb21ldHJ5VHlwZSgpe3JldHVybiB0aGlzLmZlYXR1cmU/XCJudW1iZXJcIj09dHlwZW9mIHRoaXMuZmVhdHVyZS50eXBlP1plW3RoaXMuZmVhdHVyZS50eXBlXTp0aGlzLmZlYXR1cmUudHlwZTpudWxsfWdlb21ldHJ5KCl7cmV0dXJuIHRoaXMuZmVhdHVyZSYmXCJnZW9tZXRyeVwiaW4gdGhpcy5mZWF0dXJlP3RoaXMuZmVhdHVyZS5nZW9tZXRyeTpudWxsfWNhbm9uaWNhbElEKCl7cmV0dXJuIHRoaXMuY2Fub25pY2FsfXByb3BlcnRpZXMoKXtyZXR1cm4gdGhpcy5mZWF0dXJlJiZ0aGlzLmZlYXR1cmUucHJvcGVydGllc3x8e319ZGlzdGFuY2VGcm9tQ2VudGVyKCl7aWYodGhpcy5mZWF0dXJlVGlsZUNvb3JkJiZ0aGlzLmZlYXR1cmVEaXN0YW5jZURhdGEpe2NvbnN0IHQ9dGhpcy5mZWF0dXJlRGlzdGFuY2VEYXRhLmNlbnRlcixlPXRoaXMuZmVhdHVyZURpc3RhbmNlRGF0YS5zY2FsZSx7eDpyLHk6bn09dGhpcy5mZWF0dXJlVGlsZUNvb3JkO3JldHVybiB0aGlzLmZlYXR1cmVEaXN0YW5jZURhdGEuYmVhcmluZ1swXSoociplLXRbMF0pK3RoaXMuZmVhdHVyZURpc3RhbmNlRGF0YS5iZWFyaW5nWzFdKihuKmUtdFsxXSl9cmV0dXJuIDB9cGFyc2VDb2xvcih0KXtsZXQgZT10aGlzLl9wYXJzZUNvbG9yQ2FjaGVbdF07cmV0dXJuIGV8fChlPXRoaXMuX3BhcnNlQ29sb3JDYWNoZVt0XT1JZS5wYXJzZSh0KSksZX19O2NsYXNzIEtle2NvbnN0cnVjdG9yKHQsZSxyLG4pe3RoaXMubmFtZT10LHRoaXMudHlwZT1lLHRoaXMuX2V2YWx1YXRlPXIsdGhpcy5hcmdzPW47fWV2YWx1YXRlKHQpe3JldHVybiB0aGlzLl9ldmFsdWF0ZSh0LHRoaXMuYXJncyl9ZWFjaENoaWxkKHQpe3RoaXMuYXJncy5mb3JFYWNoKHQpO31vdXRwdXREZWZpbmVkKCl7cmV0dXJuICExfXNlcmlhbGl6ZSgpe3JldHVybiBbdGhpcy5uYW1lXS5jb25jYXQodGhpcy5hcmdzLm1hcCgodD0+dC5zZXJpYWxpemUoKSkpKX1zdGF0aWMgcGFyc2UodCxlKXtjb25zdCByPXRbMF0sbj1LZS5kZWZpbml0aW9uc1tyXTtpZighbilyZXR1cm4gZS5lcnJvcihgVW5rbm93biBleHByZXNzaW9uIFwiJHtyfVwiLiBJZiB5b3Ugd2FudGVkIGEgbGl0ZXJhbCBhcnJheSwgdXNlIFtcImxpdGVyYWxcIiwgWy4uLl1dLmAsMCk7Y29uc3QgaT1BcnJheS5pc0FycmF5KG4pP25bMF06bi50eXBlLHM9QXJyYXkuaXNBcnJheShuKT9bW25bMV0sblsyXV1dOm4ub3ZlcmxvYWRzLGE9cy5maWx0ZXIoKChbZV0pPT4hQXJyYXkuaXNBcnJheShlKXx8ZS5sZW5ndGg9PT10Lmxlbmd0aC0xKSk7bGV0IG89bnVsbDtmb3IoY29uc3RbbixzXW9mIGEpe289bmV3IF9yKGUucmVnaXN0cnksZS5wYXRoLG51bGwsZS5zY29wZSk7Y29uc3QgYT1bXTtsZXQgbD0hMTtmb3IobGV0IGU9MTtlPHQubGVuZ3RoO2UrKyl7Y29uc3Qgcj10W2VdLGk9QXJyYXkuaXNBcnJheShuKT9uW2UtMV06bi50eXBlLHM9by5wYXJzZShyLDErYS5sZW5ndGgsaSk7aWYoIXMpe2w9ITA7YnJlYWt9YS5wdXNoKHMpO31pZighbClpZihBcnJheS5pc0FycmF5KG4pJiZuLmxlbmd0aCE9PWEubGVuZ3RoKW8uZXJyb3IoYEV4cGVjdGVkICR7bi5sZW5ndGh9IGFyZ3VtZW50cywgYnV0IGZvdW5kICR7YS5sZW5ndGh9IGluc3RlYWQuYCk7ZWxzZSB7Zm9yKGxldCB0PTA7dDxhLmxlbmd0aDt0Kyspe2NvbnN0IGU9QXJyYXkuaXNBcnJheShuKT9uW3RdOm4udHlwZSxyPWFbdF07by5jb25jYXQodCsxKS5jaGVja1N1YnR5cGUoZSxyLnR5cGUpO31pZigwPT09by5lcnJvcnMubGVuZ3RoKXJldHVybiBuZXcgS2UocixpLHMsYSl9fWlmKDE9PT1hLmxlbmd0aCllLmVycm9ycy5wdXNoKC4uLm8uZXJyb3JzKTtlbHNlIHtjb25zdCByPShhLmxlbmd0aD9hOnMpLm1hcCgoKFt0XSk9PntyZXR1cm4gZT10LEFycmF5LmlzQXJyYXkoZSk/YCgke2UubWFwKGRlKS5qb2luKFwiLCBcIil9KWA6YCgke2RlKGUudHlwZSl9Li4uKWA7dmFyIGU7fSkpLmpvaW4oXCIgfCBcIiksbj1bXTtmb3IobGV0IHI9MTtyPHQubGVuZ3RoO3IrKyl7Y29uc3QgaT1lLnBhcnNlKHRbcl0sMStuLmxlbmd0aCk7aWYoIWkpcmV0dXJuIG51bGw7bi5wdXNoKGRlKGkudHlwZSkpO31lLmVycm9yKGBFeHBlY3RlZCBhcmd1bWVudHMgb2YgdHlwZSAke3J9LCBidXQgZm91bmQgKCR7bi5qb2luKFwiLCBcIil9KSBpbnN0ZWFkLmApO31yZXR1cm4gbnVsbH1zdGF0aWMgcmVnaXN0ZXIodCxlKXtLZS5kZWZpbml0aW9ucz1lO2Zvcihjb25zdCByIGluIGUpdFtyXT1LZTt9fXZhciBIZT1LZTtjbGFzcyBZZXtjb25zdHJ1Y3Rvcih0LGUscil7dGhpcy50eXBlPWNlLHRoaXMubG9jYWxlPXIsdGhpcy5jYXNlU2Vuc2l0aXZlPXQsdGhpcy5kaWFjcml0aWNTZW5zaXRpdmU9ZTt9c3RhdGljIHBhcnNlKHQsZSl7aWYoMiE9PXQubGVuZ3RoKXJldHVybiBlLmVycm9yKFwiRXhwZWN0ZWQgb25lIGFyZ3VtZW50LlwiKTtjb25zdCByPXRbMV07aWYoXCJvYmplY3RcIiE9dHlwZW9mIHJ8fEFycmF5LmlzQXJyYXkocikpcmV0dXJuIGUuZXJyb3IoXCJDb2xsYXRvciBvcHRpb25zIGFyZ3VtZW50IG11c3QgYmUgYW4gb2JqZWN0LlwiKTtjb25zdCBuPWUucGFyc2Uodm9pZCAwIT09cltcImNhc2Utc2Vuc2l0aXZlXCJdJiZyW1wiY2FzZS1zZW5zaXRpdmVcIl0sMSxhZSk7aWYoIW4pcmV0dXJuIG51bGw7Y29uc3QgaT1lLnBhcnNlKHZvaWQgMCE9PXJbXCJkaWFjcml0aWMtc2Vuc2l0aXZlXCJdJiZyW1wiZGlhY3JpdGljLXNlbnNpdGl2ZVwiXSwxLGFlKTtpZighaSlyZXR1cm4gbnVsbDtsZXQgcz1udWxsO3JldHVybiByLmxvY2FsZSYmKHM9ZS5wYXJzZShyLmxvY2FsZSwxLHNlKSwhcyk/bnVsbDpuZXcgWWUobixpLHMpfWV2YWx1YXRlKHQpe3JldHVybiBuZXcgTWUodGhpcy5jYXNlU2Vuc2l0aXZlLmV2YWx1YXRlKHQpLHRoaXMuZGlhY3JpdGljU2Vuc2l0aXZlLmV2YWx1YXRlKHQpLHRoaXMubG9jYWxlP3RoaXMubG9jYWxlLmV2YWx1YXRlKHQpOm51bGwpfWVhY2hDaGlsZCh0KXt0KHRoaXMuY2FzZVNlbnNpdGl2ZSksdCh0aGlzLmRpYWNyaXRpY1NlbnNpdGl2ZSksdGhpcy5sb2NhbGUmJnQodGhpcy5sb2NhbGUpO31vdXRwdXREZWZpbmVkKCl7cmV0dXJuICExfXNlcmlhbGl6ZSgpe2NvbnN0IHQ9e307cmV0dXJuIHRbXCJjYXNlLXNlbnNpdGl2ZVwiXT10aGlzLmNhc2VTZW5zaXRpdmUuc2VyaWFsaXplKCksdFtcImRpYWNyaXRpYy1zZW5zaXRpdmVcIl09dGhpcy5kaWFjcml0aWNTZW5zaXRpdmUuc2VyaWFsaXplKCksdGhpcy5sb2NhbGUmJih0LmxvY2FsZT10aGlzLmxvY2FsZS5zZXJpYWxpemUoKSksW1wiY29sbGF0b3JcIix0XX19Y29uc3QgV2U9ODE5MjtmdW5jdGlvbiBKZSh0LGUpe3RbMF09TWF0aC5taW4odFswXSxlWzBdKSx0WzFdPU1hdGgubWluKHRbMV0sZVsxXSksdFsyXT1NYXRoLm1heCh0WzJdLGVbMF0pLHRbM109TWF0aC5tYXgodFszXSxlWzFdKTt9ZnVuY3Rpb24gUWUodCxlKXtyZXR1cm4gISh0WzBdPD1lWzBdfHx0WzJdPj1lWzJdfHx0WzFdPD1lWzFdfHx0WzNdPj1lWzNdKX1mdW5jdGlvbiB0cih0LGUpe2NvbnN0IHI9KDE4MCt0WzBdKS8zNjAsbj0oMTgwLTE4MC9NYXRoLlBJKk1hdGgubG9nKE1hdGgudGFuKE1hdGguUEkvNCt0WzFdKk1hdGguUEkvMzYwKSkpLzM2MCxpPU1hdGgucG93KDIsZS56KTtyZXR1cm4gW01hdGgucm91bmQocippKldlKSxNYXRoLnJvdW5kKG4qaSpXZSldfWZ1bmN0aW9uIGVyKHQsZSxyKXtjb25zdCBuPXRbMF0tZVswXSxpPXRbMV0tZVsxXSxzPXRbMF0tclswXSxhPXRbMV0tclsxXTtyZXR1cm4gbiphLXMqaT09MCYmbipzPD0wJiZpKmE8PTB9ZnVuY3Rpb24gcnIodCxlKXtsZXQgcj0hMTtmb3IobGV0IGE9MCxvPWUubGVuZ3RoO2E8bzthKyspe2NvbnN0IG89ZVthXTtmb3IobGV0IGU9MCxhPW8ubGVuZ3RoO2U8YS0xO2UrKyl7aWYoZXIodCxvW2VdLG9bZSsxXSkpcmV0dXJuICExOyhpPW9bZV0pWzFdPihuPXQpWzFdIT0ocz1vW2UrMV0pWzFdPm5bMV0mJm5bMF08KHNbMF0taVswXSkqKG5bMV0taVsxXSkvKHNbMV0taVsxXSkraVswXSYmKHI9IXIpO319dmFyIG4saSxzO3JldHVybiByfWZ1bmN0aW9uIG5yKHQsZSl7Zm9yKGxldCByPTA7cjxlLmxlbmd0aDtyKyspaWYocnIodCxlW3JdKSlyZXR1cm4gITA7cmV0dXJuICExfWZ1bmN0aW9uIGlyKHQsZSxyLG4pe2NvbnN0IGk9blswXS1yWzBdLHM9blsxXS1yWzFdLGE9KHRbMF0tclswXSkqcy1pKih0WzFdLXJbMV0pLG89KGVbMF0tclswXSkqcy1pKihlWzFdLXJbMV0pO3JldHVybiBhPjAmJm88MHx8YTwwJiZvPjB9ZnVuY3Rpb24gc3IodCxlLHIpe2Zvcihjb25zdCB1IG9mIHIpZm9yKGxldCByPTA7cjx1Lmxlbmd0aC0xOysrcilpZigwIT0obz1bKGE9dVtyKzFdKVswXS0ocz11W3JdKVswXSxhWzFdLXNbMV1dKVswXSoobD1bKGk9ZSlbMF0tKG49dClbMF0saVsxXS1uWzFdXSlbMV0tb1sxXSpsWzBdJiZpcihuLGkscyxhKSYmaXIocyxhLG4saSkpcmV0dXJuICEwO3ZhciBuLGkscyxhLG8sbDtyZXR1cm4gITF9ZnVuY3Rpb24gYXIodCxlKXtmb3IobGV0IHI9MDtyPHQubGVuZ3RoOysrcilpZighcnIodFtyXSxlKSlyZXR1cm4gITE7Zm9yKGxldCByPTA7cjx0Lmxlbmd0aC0xOysrcilpZihzcih0W3JdLHRbcisxXSxlKSlyZXR1cm4gITE7cmV0dXJuICEwfWZ1bmN0aW9uIG9yKHQsZSl7Zm9yKGxldCByPTA7cjxlLmxlbmd0aDtyKyspaWYoYXIodCxlW3JdKSlyZXR1cm4gITA7cmV0dXJuICExfWZ1bmN0aW9uIGxyKHQsZSxyKXtjb25zdCBuPVtdO2ZvcihsZXQgaT0wO2k8dC5sZW5ndGg7aSsrKXtjb25zdCBzPVtdO2ZvcihsZXQgbj0wO248dFtpXS5sZW5ndGg7bisrKXtjb25zdCBhPXRyKHRbaV1bbl0scik7SmUoZSxhKSxzLnB1c2goYSk7fW4ucHVzaChzKTt9cmV0dXJuIG59ZnVuY3Rpb24gdXIodCxlLHIpe2NvbnN0IG49W107Zm9yKGxldCBpPTA7aTx0Lmxlbmd0aDtpKyspe2NvbnN0IHM9bHIodFtpXSxlLHIpO24ucHVzaChzKTt9cmV0dXJuIG59ZnVuY3Rpb24gY3IodCxlLHIsbil7aWYodFswXTxyWzBdfHx0WzBdPnJbMl0pe2NvbnN0IGU9LjUqbjtsZXQgaT10WzBdLXJbMF0+ZT8tbjpyWzBdLXRbMF0+ZT9uOjA7MD09PWkmJihpPXRbMF0tclsyXT5lPy1uOnJbMl0tdFswXT5lP246MCksdFswXSs9aTt9SmUoZSx0KTt9ZnVuY3Rpb24gaHIodCxlLHIsbil7Y29uc3QgaT1NYXRoLnBvdygyLG4ueikqV2Uscz1bbi54KldlLG4ueSpXZV0sYT1bXTtpZighdClyZXR1cm4gYTtmb3IoY29uc3QgbiBvZiB0KWZvcihjb25zdCB0IG9mIG4pe2NvbnN0IG49W3QueCtzWzBdLHQueStzWzFdXTtjcihuLGUscixpKSxhLnB1c2gobik7fXJldHVybiBhfWZ1bmN0aW9uIHByKHQsZSxyLG4pe2NvbnN0IGk9TWF0aC5wb3coMixuLnopKldlLHM9W24ueCpXZSxuLnkqV2VdLGE9W107aWYoIXQpcmV0dXJuIGE7Zm9yKGNvbnN0IHIgb2YgdCl7Y29uc3QgdD1bXTtmb3IoY29uc3QgbiBvZiByKXtjb25zdCByPVtuLngrc1swXSxuLnkrc1sxXV07SmUoZSxyKSx0LnB1c2gocik7fWEucHVzaCh0KTt9aWYoZVsyXS1lWzBdPD1pLzIpeyhvPWUpWzBdPW9bMV09MS8wLG9bMl09b1szXT0tMS8wO2Zvcihjb25zdCB0IG9mIGEpZm9yKGNvbnN0IG4gb2YgdCljcihuLGUscixpKTt9dmFyIG87cmV0dXJuIGF9Y2xhc3MgZnJ7Y29uc3RydWN0b3IodCxlKXt0aGlzLnR5cGU9YWUsdGhpcy5nZW9qc29uPXQsdGhpcy5nZW9tZXRyaWVzPWU7fXN0YXRpYyBwYXJzZSh0LGUpe2lmKDIhPT10Lmxlbmd0aClyZXR1cm4gZS5lcnJvcihgJ3dpdGhpbicgZXhwcmVzc2lvbiByZXF1aXJlcyBleGFjdGx5IG9uZSBhcmd1bWVudCwgYnV0IGZvdW5kICR7dC5sZW5ndGgtMX0gaW5zdGVhZC5gKTtpZihQZSh0WzFdKSl7Y29uc3QgZT10WzFdO2lmKFwiRmVhdHVyZUNvbGxlY3Rpb25cIj09PWUudHlwZSlmb3IobGV0IHQ9MDt0PGUuZmVhdHVyZXMubGVuZ3RoOysrdCl7Y29uc3Qgcj1lLmZlYXR1cmVzW3RdLmdlb21ldHJ5LnR5cGU7aWYoXCJQb2x5Z29uXCI9PT1yfHxcIk11bHRpUG9seWdvblwiPT09cilyZXR1cm4gbmV3IGZyKGUsZS5mZWF0dXJlc1t0XS5nZW9tZXRyeSl9ZWxzZSBpZihcIkZlYXR1cmVcIj09PWUudHlwZSl7Y29uc3QgdD1lLmdlb21ldHJ5LnR5cGU7aWYoXCJQb2x5Z29uXCI9PT10fHxcIk11bHRpUG9seWdvblwiPT09dClyZXR1cm4gbmV3IGZyKGUsZS5nZW9tZXRyeSl9ZWxzZSBpZihcIlBvbHlnb25cIj09PWUudHlwZXx8XCJNdWx0aVBvbHlnb25cIj09PWUudHlwZSlyZXR1cm4gbmV3IGZyKGUsZSl9cmV0dXJuIGUuZXJyb3IoXCInd2l0aGluJyBleHByZXNzaW9uIHJlcXVpcmVzIHZhbGlkIGdlb2pzb24gb2JqZWN0IHRoYXQgY29udGFpbnMgcG9seWdvbiBnZW9tZXRyeSB0eXBlLlwiKX1ldmFsdWF0ZSh0KXtpZihudWxsIT10Lmdlb21ldHJ5KCkmJm51bGwhPXQuY2Fub25pY2FsSUQoKSl7aWYoXCJQb2ludFwiPT09dC5nZW9tZXRyeVR5cGUoKSlyZXR1cm4gZnVuY3Rpb24odCxlKXtjb25zdCByPVsxLzAsMS8wLC0xLzAsLTEvMF0sbj1bMS8wLDEvMCwtMS8wLC0xLzBdLGk9dC5jYW5vbmljYWxJRCgpO2lmKCFpKXJldHVybiAhMTtpZihcIlBvbHlnb25cIj09PWUudHlwZSl7Y29uc3Qgcz1scihlLmNvb3JkaW5hdGVzLG4saSksYT1ocih0Lmdlb21ldHJ5KCkscixuLGkpO2lmKCFRZShyLG4pKXJldHVybiAhMTtmb3IoY29uc3QgdCBvZiBhKWlmKCFycih0LHMpKXJldHVybiAhMX1pZihcIk11bHRpUG9seWdvblwiPT09ZS50eXBlKXtjb25zdCBzPXVyKGUuY29vcmRpbmF0ZXMsbixpKSxhPWhyKHQuZ2VvbWV0cnkoKSxyLG4saSk7aWYoIVFlKHIsbikpcmV0dXJuICExO2Zvcihjb25zdCB0IG9mIGEpaWYoIW5yKHQscykpcmV0dXJuICExfXJldHVybiAhMH0odCx0aGlzLmdlb21ldHJpZXMpO2lmKFwiTGluZVN0cmluZ1wiPT09dC5nZW9tZXRyeVR5cGUoKSlyZXR1cm4gZnVuY3Rpb24odCxlKXtjb25zdCByPVsxLzAsMS8wLC0xLzAsLTEvMF0sbj1bMS8wLDEvMCwtMS8wLC0xLzBdLGk9dC5jYW5vbmljYWxJRCgpO2lmKCFpKXJldHVybiAhMTtpZihcIlBvbHlnb25cIj09PWUudHlwZSl7Y29uc3Qgcz1scihlLmNvb3JkaW5hdGVzLG4saSksYT1wcih0Lmdlb21ldHJ5KCkscixuLGkpO2lmKCFRZShyLG4pKXJldHVybiAhMTtmb3IoY29uc3QgdCBvZiBhKWlmKCFhcih0LHMpKXJldHVybiAhMX1pZihcIk11bHRpUG9seWdvblwiPT09ZS50eXBlKXtjb25zdCBzPXVyKGUuY29vcmRpbmF0ZXMsbixpKSxhPXByKHQuZ2VvbWV0cnkoKSxyLG4saSk7aWYoIVFlKHIsbikpcmV0dXJuICExO2Zvcihjb25zdCB0IG9mIGEpaWYoIW9yKHQscykpcmV0dXJuICExfXJldHVybiAhMH0odCx0aGlzLmdlb21ldHJpZXMpfXJldHVybiAhMX1lYWNoQ2hpbGQoKXt9b3V0cHV0RGVmaW5lZCgpe3JldHVybiAhMH1zZXJpYWxpemUoKXtyZXR1cm4gW1wid2l0aGluXCIsdGhpcy5nZW9qc29uXX19dmFyIGRyPWZyO2Z1bmN0aW9uIHlyKHQpe2lmKHQgaW5zdGFuY2VvZiBIZSl7aWYoXCJnZXRcIj09PXQubmFtZSYmMT09PXQuYXJncy5sZW5ndGgpcmV0dXJuICExO2lmKFwiZmVhdHVyZS1zdGF0ZVwiPT09dC5uYW1lKXJldHVybiAhMTtpZihcImhhc1wiPT09dC5uYW1lJiYxPT09dC5hcmdzLmxlbmd0aClyZXR1cm4gITE7aWYoXCJwcm9wZXJ0aWVzXCI9PT10Lm5hbWV8fFwiZ2VvbWV0cnktdHlwZVwiPT09dC5uYW1lfHxcImlkXCI9PT10Lm5hbWUpcmV0dXJuICExO2lmKC9eZmlsdGVyLS8udGVzdCh0Lm5hbWUpKXJldHVybiAhMX1pZih0IGluc3RhbmNlb2YgZHIpcmV0dXJuICExO2xldCBlPSEwO3JldHVybiB0LmVhY2hDaGlsZCgodD0+e2UmJiF5cih0KSYmKGU9ITEpO30pKSxlfWZ1bmN0aW9uIG1yKHQpe2lmKHQgaW5zdGFuY2VvZiBIZSYmXCJmZWF0dXJlLXN0YXRlXCI9PT10Lm5hbWUpcmV0dXJuICExO2xldCBlPSEwO3JldHVybiB0LmVhY2hDaGlsZCgodD0+e2UmJiFtcih0KSYmKGU9ITEpO30pKSxlfWZ1bmN0aW9uIGdyKHQsZSl7aWYodCBpbnN0YW5jZW9mIEhlJiZlLmluZGV4T2YodC5uYW1lKT49MClyZXR1cm4gITE7bGV0IHI9ITA7cmV0dXJuIHQuZWFjaENoaWxkKCh0PT57ciYmIWdyKHQsZSkmJihyPSExKTt9KSkscn1jbGFzcyB4cntjb25zdHJ1Y3Rvcih0LGUpe3RoaXMudHlwZT1lLnR5cGUsdGhpcy5uYW1lPXQsdGhpcy5ib3VuZEV4cHJlc3Npb249ZTt9c3RhdGljIHBhcnNlKHQsZSl7aWYoMiE9PXQubGVuZ3RofHxcInN0cmluZ1wiIT10eXBlb2YgdFsxXSlyZXR1cm4gZS5lcnJvcihcIid2YXInIGV4cHJlc3Npb24gcmVxdWlyZXMgZXhhY3RseSBvbmUgc3RyaW5nIGxpdGVyYWwgYXJndW1lbnQuXCIpO2NvbnN0IHI9dFsxXTtyZXR1cm4gZS5zY29wZS5oYXMocik/bmV3IHhyKHIsZS5zY29wZS5nZXQocikpOmUuZXJyb3IoYFVua25vd24gdmFyaWFibGUgXCIke3J9XCIuIE1ha2Ugc3VyZSBcIiR7cn1cIiBoYXMgYmVlbiBib3VuZCBpbiBhbiBlbmNsb3NpbmcgXCJsZXRcIiBleHByZXNzaW9uIGJlZm9yZSB1c2luZyBpdC5gLDEpfWV2YWx1YXRlKHQpe3JldHVybiB0aGlzLmJvdW5kRXhwcmVzc2lvbi5ldmFsdWF0ZSh0KX1lYWNoQ2hpbGQoKXt9b3V0cHV0RGVmaW5lZCgpe3JldHVybiAhMX1zZXJpYWxpemUoKXtyZXR1cm4gW1widmFyXCIsdGhpcy5uYW1lXX19dmFyIHZyPXhyO2NsYXNzIGJye2NvbnN0cnVjdG9yKHQsZT1bXSxyLG49bmV3IHJlLGk9W10pe3RoaXMucmVnaXN0cnk9dCx0aGlzLnBhdGg9ZSx0aGlzLmtleT1lLm1hcCgodD0+YFske3R9XWApKS5qb2luKFwiXCIpLHRoaXMuc2NvcGU9bix0aGlzLmVycm9ycz1pLHRoaXMuZXhwZWN0ZWRUeXBlPXI7fXBhcnNlKHQsZSxyLG4saT17fSl7cmV0dXJuIGU/dGhpcy5jb25jYXQoZSxyLG4pLl9wYXJzZSh0LGkpOnRoaXMuX3BhcnNlKHQsaSl9X3BhcnNlKHQsZSl7ZnVuY3Rpb24gcih0LGUscil7cmV0dXJuIFwiYXNzZXJ0XCI9PT1yP25ldyBqZShlLFt0XSk6XCJjb2VyY2VcIj09PXI/bmV3IEdlKGUsW3RdKTp0fWlmKG51bGwhPT10JiZcInN0cmluZ1wiIT10eXBlb2YgdCYmXCJib29sZWFuXCIhPXR5cGVvZiB0JiZcIm51bWJlclwiIT10eXBlb2YgdHx8KHQ9W1wibGl0ZXJhbFwiLHRdKSxBcnJheS5pc0FycmF5KHQpKXtpZigwPT09dC5sZW5ndGgpcmV0dXJuIHRoaXMuZXJyb3IoJ0V4cGVjdGVkIGFuIGFycmF5IHdpdGggYXQgbGVhc3Qgb25lIGVsZW1lbnQuIElmIHlvdSB3YW50ZWQgYSBsaXRlcmFsIGFycmF5LCB1c2UgW1wibGl0ZXJhbFwiLCBbXV0uJyk7Y29uc3Qgbj10WzBdO2lmKFwic3RyaW5nXCIhPXR5cGVvZiBuKXJldHVybiB0aGlzLmVycm9yKGBFeHByZXNzaW9uIG5hbWUgbXVzdCBiZSBhIHN0cmluZywgYnV0IGZvdW5kICR7dHlwZW9mIG59IGluc3RlYWQuIElmIHlvdSB3YW50ZWQgYSBsaXRlcmFsIGFycmF5LCB1c2UgW1wibGl0ZXJhbFwiLCBbLi4uXV0uYCwwKSxudWxsO2NvbnN0IGk9dGhpcy5yZWdpc3RyeVtuXTtpZihpKXtsZXQgbj1pLnBhcnNlKHQsdGhpcyk7aWYoIW4pcmV0dXJuIG51bGw7aWYodGhpcy5leHBlY3RlZFR5cGUpe2NvbnN0IHQ9dGhpcy5leHBlY3RlZFR5cGUsaT1uLnR5cGU7aWYoXCJzdHJpbmdcIiE9PXQua2luZCYmXCJudW1iZXJcIiE9PXQua2luZCYmXCJib29sZWFuXCIhPT10LmtpbmQmJlwib2JqZWN0XCIhPT10LmtpbmQmJlwiYXJyYXlcIiE9PXQua2luZHx8XCJ2YWx1ZVwiIT09aS5raW5kKWlmKFwiY29sb3JcIiE9PXQua2luZCYmXCJmb3JtYXR0ZWRcIiE9PXQua2luZCYmXCJyZXNvbHZlZEltYWdlXCIhPT10LmtpbmR8fFwidmFsdWVcIiE9PWkua2luZCYmXCJzdHJpbmdcIiE9PWkua2luZCl7aWYodGhpcy5jaGVja1N1YnR5cGUodCxpKSlyZXR1cm4gbnVsbH1lbHNlIG49cihuLHQsZS50eXBlQW5ub3RhdGlvbnx8XCJjb2VyY2VcIik7ZWxzZSBuPXIobix0LGUudHlwZUFubm90YXRpb258fFwiYXNzZXJ0XCIpO31pZighKG4gaW5zdGFuY2VvZiBGZSkmJlwicmVzb2x2ZWRJbWFnZVwiIT09bi50eXBlLmtpbmQmJndyKG4pKXtjb25zdCB0PW5ldyBYZTt0cnl7bj1uZXcgRmUobi50eXBlLG4uZXZhbHVhdGUodCkpO31jYXRjaCh0KXtyZXR1cm4gdGhpcy5lcnJvcih0Lm1lc3NhZ2UpLG51bGx9fXJldHVybiBufXJldHVybiB0aGlzLmVycm9yKGBVbmtub3duIGV4cHJlc3Npb24gXCIke259XCIuIElmIHlvdSB3YW50ZWQgYSBsaXRlcmFsIGFycmF5LCB1c2UgW1wibGl0ZXJhbFwiLCBbLi4uXV0uYCwwKX1yZXR1cm4gdGhpcy5lcnJvcih2b2lkIDA9PT10P1wiJ3VuZGVmaW5lZCcgdmFsdWUgaW52YWxpZC4gVXNlIG51bGwgaW5zdGVhZC5cIjpcIm9iamVjdFwiPT10eXBlb2YgdD8nQmFyZSBvYmplY3RzIGludmFsaWQuIFVzZSBbXCJsaXRlcmFsXCIsIHsuLi59XSBpbnN0ZWFkLic6YEV4cGVjdGVkIGFuIGFycmF5LCBidXQgZm91bmQgJHt0eXBlb2YgdH0gaW5zdGVhZC5gKX1jb25jYXQodCxlLHIpe2NvbnN0IG49XCJudW1iZXJcIj09dHlwZW9mIHQ/dGhpcy5wYXRoLmNvbmNhdCh0KTp0aGlzLnBhdGgsaT1yP3RoaXMuc2NvcGUuY29uY2F0KHIpOnRoaXMuc2NvcGU7cmV0dXJuIG5ldyBicih0aGlzLnJlZ2lzdHJ5LG4sZXx8bnVsbCxpLHRoaXMuZXJyb3JzKX1lcnJvcih0LC4uLmUpe2NvbnN0IHI9YCR7dGhpcy5rZXl9JHtlLm1hcCgodD0+YFske3R9XWApKS5qb2luKFwiXCIpfWA7dGhpcy5lcnJvcnMucHVzaChuZXcgdGUocix0KSk7fWNoZWNrU3VidHlwZSh0LGUpe2NvbnN0IHI9bWUodCxlKTtyZXR1cm4gciYmdGhpcy5lcnJvcihyKSxyfX12YXIgX3I9YnI7ZnVuY3Rpb24gd3IodCl7aWYodCBpbnN0YW5jZW9mIHZyKXJldHVybiB3cih0LmJvdW5kRXhwcmVzc2lvbik7aWYodCBpbnN0YW5jZW9mIEhlJiZcImVycm9yXCI9PT10Lm5hbWUpcmV0dXJuICExO2lmKHQgaW5zdGFuY2VvZiBZZSlyZXR1cm4gITE7aWYodCBpbnN0YW5jZW9mIGRyKXJldHVybiAhMTtjb25zdCBlPXQgaW5zdGFuY2VvZiBHZXx8dCBpbnN0YW5jZW9mIGplO2xldCByPSEwO3JldHVybiB0LmVhY2hDaGlsZCgodD0+e3I9ZT9yJiZ3cih0KTpyJiZ0IGluc3RhbmNlb2YgRmU7fSkpLCEhciYmeXIodCkmJmdyKHQsW1wiem9vbVwiLFwiaGVhdG1hcC1kZW5zaXR5XCIsXCJsaW5lLXByb2dyZXNzXCIsXCJza3ktcmFkaWFsLXByb2dyZXNzXCIsXCJhY2N1bXVsYXRlZFwiLFwiaXMtc3VwcG9ydGVkLXNjcmlwdFwiLFwicGl0Y2hcIixcImRpc3RhbmNlLWZyb20tY2VudGVyXCJdKX1mdW5jdGlvbiBBcih0LGUpe2NvbnN0IHI9dC5sZW5ndGgtMTtsZXQgbixpLHM9MCxhPXIsbz0wO2Zvcig7czw9YTspaWYobz1NYXRoLmZsb29yKChzK2EpLzIpLG49dFtvXSxpPXRbbysxXSxuPD1lKXtpZihvPT09cnx8ZTxpKXJldHVybiBvO3M9bysxO31lbHNlIHtpZighKG4+ZSkpdGhyb3cgbmV3IExlKFwiSW5wdXQgaXMgbm90IGEgbnVtYmVyLlwiKTthPW8tMTt9cmV0dXJuIDB9Y2xhc3MgU3J7Y29uc3RydWN0b3IodCxlLHIpe3RoaXMudHlwZT10LHRoaXMuaW5wdXQ9ZSx0aGlzLmxhYmVscz1bXSx0aGlzLm91dHB1dHM9W107Zm9yKGNvbnN0W3QsZV1vZiByKXRoaXMubGFiZWxzLnB1c2godCksdGhpcy5vdXRwdXRzLnB1c2goZSk7fXN0YXRpYyBwYXJzZSh0LGUpe2lmKHQubGVuZ3RoLTE8NClyZXR1cm4gZS5lcnJvcihgRXhwZWN0ZWQgYXQgbGVhc3QgNCBhcmd1bWVudHMsIGJ1dCBmb3VuZCBvbmx5ICR7dC5sZW5ndGgtMX0uYCk7aWYoKHQubGVuZ3RoLTEpJTIhPTApcmV0dXJuIGUuZXJyb3IoXCJFeHBlY3RlZCBhbiBldmVuIG51bWJlciBvZiBhcmd1bWVudHMuXCIpO2NvbnN0IHI9ZS5wYXJzZSh0WzFdLDEsaWUpO2lmKCFyKXJldHVybiBudWxsO2NvbnN0IG49W107bGV0IGk9bnVsbDtlLmV4cGVjdGVkVHlwZSYmXCJ2YWx1ZVwiIT09ZS5leHBlY3RlZFR5cGUua2luZCYmKGk9ZS5leHBlY3RlZFR5cGUpO2ZvcihsZXQgcj0xO3I8dC5sZW5ndGg7cis9Mil7Y29uc3Qgcz0xPT09cj8tMS8wOnRbcl0sYT10W3IrMV0sbz1yLGw9cisxO2lmKFwibnVtYmVyXCIhPXR5cGVvZiBzKXJldHVybiBlLmVycm9yKCdJbnB1dC9vdXRwdXQgcGFpcnMgZm9yIFwic3RlcFwiIGV4cHJlc3Npb25zIG11c3QgYmUgZGVmaW5lZCB1c2luZyBsaXRlcmFsIG51bWVyaWMgdmFsdWVzIChub3QgY29tcHV0ZWQgZXhwcmVzc2lvbnMpIGZvciB0aGUgaW5wdXQgdmFsdWVzLicsbyk7aWYobi5sZW5ndGgmJm5bbi5sZW5ndGgtMV1bMF0+PXMpcmV0dXJuIGUuZXJyb3IoJ0lucHV0L291dHB1dCBwYWlycyBmb3IgXCJzdGVwXCIgZXhwcmVzc2lvbnMgbXVzdCBiZSBhcnJhbmdlZCB3aXRoIGlucHV0IHZhbHVlcyBpbiBzdHJpY3RseSBhc2NlbmRpbmcgb3JkZXIuJyxvKTtjb25zdCB1PWUucGFyc2UoYSxsLGkpO2lmKCF1KXJldHVybiBudWxsO2k9aXx8dS50eXBlLG4ucHVzaChbcyx1XSk7fXJldHVybiBuZXcgU3IoaSxyLG4pfWV2YWx1YXRlKHQpe2NvbnN0IGU9dGhpcy5sYWJlbHMscj10aGlzLm91dHB1dHM7aWYoMT09PWUubGVuZ3RoKXJldHVybiByWzBdLmV2YWx1YXRlKHQpO2NvbnN0IG49dGhpcy5pbnB1dC5ldmFsdWF0ZSh0KTtpZihuPD1lWzBdKXJldHVybiByWzBdLmV2YWx1YXRlKHQpO2NvbnN0IGk9ZS5sZW5ndGg7cmV0dXJuIG4+PWVbaS0xXT9yW2ktMV0uZXZhbHVhdGUodCk6cltBcihlLG4pXS5ldmFsdWF0ZSh0KX1lYWNoQ2hpbGQodCl7dCh0aGlzLmlucHV0KTtmb3IoY29uc3QgZSBvZiB0aGlzLm91dHB1dHMpdChlKTt9b3V0cHV0RGVmaW5lZCgpe3JldHVybiB0aGlzLm91dHB1dHMuZXZlcnkoKHQ9PnQub3V0cHV0RGVmaW5lZCgpKSl9c2VyaWFsaXplKCl7Y29uc3QgdD1bXCJzdGVwXCIsdGhpcy5pbnB1dC5zZXJpYWxpemUoKV07Zm9yKGxldCBlPTA7ZTx0aGlzLmxhYmVscy5sZW5ndGg7ZSsrKWU+MCYmdC5wdXNoKHRoaXMubGFiZWxzW2VdKSx0LnB1c2godGhpcy5vdXRwdXRzW2VdLnNlcmlhbGl6ZSgpKTtyZXR1cm4gdH19dmFyIGtyPVNyO2Z1bmN0aW9uIElyKHQsZSxyKXtyZXR1cm4gdCooMS1yKStlKnJ9dmFyIE1yPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLG51bWJlcjpJcixjb2xvcjpmdW5jdGlvbih0LGUscil7cmV0dXJuIG5ldyBJZShJcih0LnIsZS5yLHIpLElyKHQuZyxlLmcsciksSXIodC5iLGUuYixyKSxJcih0LmEsZS5hLHIpKX0sYXJyYXk6ZnVuY3Rpb24odCxlLHIpe3JldHVybiB0Lm1hcCgoKHQsbik9PklyKHQsZVtuXSxyKSkpfX0pO2NvbnN0IHpyPS45NTA0NyxUcj0xLjA4ODgzLEJyPTQvMjksRXI9Ni8yOSxQcj0zKkVyKkVyLENyPU1hdGguUEkvMTgwLERyPTE4MC9NYXRoLlBJO2Z1bmN0aW9uIFZyKHQpe3JldHVybiB0Pi4wMDg4NTY0NTE2NzkwMzU2MzE/TWF0aC5wb3codCwxLzMpOnQvUHIrQnJ9ZnVuY3Rpb24gRnIodCl7cmV0dXJuIHQ+RXI/dCp0KnQ6UHIqKHQtQnIpfWZ1bmN0aW9uIExyKHQpe3JldHVybiAyNTUqKHQ8PS4wMDMxMzA4PzEyLjkyKnQ6MS4wNTUqTWF0aC5wb3codCwxLzIuNCktLjA1NSl9ZnVuY3Rpb24gUnIodCl7cmV0dXJuICh0Lz0yNTUpPD0uMDQwNDU/dC8xMi45MjpNYXRoLnBvdygodCsuMDU1KS8xLjA1NSwyLjQpfWZ1bmN0aW9uIFVyKHQpe2NvbnN0IGU9UnIodC5yKSxyPVJyKHQuZyksbj1Scih0LmIpLGk9VnIoKC40MTI0NTY0KmUrLjM1NzU3NjEqcisuMTgwNDM3NSpuKS96cikscz1WcigoLjIxMjY3MjkqZSsuNzE1MTUyMipyKy4wNzIxNzUqbikvMSk7cmV0dXJuIHtsOjExNipzLTE2LGE6NTAwKihpLXMpLGI6MjAwKihzLVZyKCguMDE5MzMzOSplKy4xMTkxOTIqcisuOTUwMzA0MSpuKS9UcikpLGFscGhhOnQuYX19ZnVuY3Rpb24ganIodCl7bGV0IGU9KHQubCsxNikvMTE2LHI9aXNOYU4odC5hKT9lOmUrdC5hLzUwMCxuPWlzTmFOKHQuYik/ZTplLXQuYi8yMDA7cmV0dXJuIGU9MSpGcihlKSxyPXpyKkZyKHIpLG49VHIqRnIobiksbmV3IEllKExyKDMuMjQwNDU0MipyLTEuNTM3MTM4NSplLS40OTg1MzE0Km4pLExyKC0uOTY5MjY2KnIrMS44NzYwMTA4KmUrLjA0MTU1NipuKSxMciguMDU1NjQzNCpyLS4yMDQwMjU5KmUrMS4wNTcyMjUyKm4pLHQuYWxwaGEpfWZ1bmN0aW9uICRyKHQsZSxyKXtjb25zdCBuPWUtdDtyZXR1cm4gdCtyKihuPjE4MHx8bjwtMTgwP24tMzYwKk1hdGgucm91bmQobi8zNjApOm4pfWNvbnN0IE9yPXtmb3J3YXJkOlVyLHJldmVyc2U6anIsaW50ZXJwb2xhdGU6ZnVuY3Rpb24odCxlLHIpe3JldHVybiB7bDpJcih0LmwsZS5sLHIpLGE6SXIodC5hLGUuYSxyKSxiOklyKHQuYixlLmIsciksYWxwaGE6SXIodC5hbHBoYSxlLmFscGhhLHIpfX19LHFyPXtmb3J3YXJkOmZ1bmN0aW9uKHQpe2NvbnN0e2w6ZSxhOnIsYjpufT1Vcih0KSxpPU1hdGguYXRhbjIobixyKSpEcjtyZXR1cm4ge2g6aTwwP2krMzYwOmksYzpNYXRoLnNxcnQocipyK24qbiksbDplLGFscGhhOnQuYX19LHJldmVyc2U6ZnVuY3Rpb24odCl7Y29uc3QgZT10LmgqQ3Iscj10LmM7cmV0dXJuIGpyKHtsOnQubCxhOk1hdGguY29zKGUpKnIsYjpNYXRoLnNpbihlKSpyLGFscGhhOnQuYWxwaGF9KX0saW50ZXJwb2xhdGU6ZnVuY3Rpb24odCxlLHIpe3JldHVybiB7aDokcih0LmgsZS5oLHIpLGM6SXIodC5jLGUuYyxyKSxsOklyKHQubCxlLmwsciksYWxwaGE6SXIodC5hbHBoYSxlLmFscGhhLHIpfX19O3ZhciBOcj1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxsYWI6T3IsaGNsOnFyfSk7Y2xhc3MgR3J7Y29uc3RydWN0b3IodCxlLHIsbixpKXt0aGlzLnR5cGU9dCx0aGlzLm9wZXJhdG9yPWUsdGhpcy5pbnRlcnBvbGF0aW9uPXIsdGhpcy5pbnB1dD1uLHRoaXMubGFiZWxzPVtdLHRoaXMub3V0cHV0cz1bXTtmb3IoY29uc3RbdCxlXW9mIGkpdGhpcy5sYWJlbHMucHVzaCh0KSx0aGlzLm91dHB1dHMucHVzaChlKTt9c3RhdGljIGludGVycG9sYXRpb25GYWN0b3IodCxlLHIsbil7bGV0IGk9MDtpZihcImV4cG9uZW50aWFsXCI9PT10Lm5hbWUpaT1acihlLHQuYmFzZSxyLG4pO2Vsc2UgaWYoXCJsaW5lYXJcIj09PXQubmFtZSlpPVpyKGUsMSxyLG4pO2Vsc2UgaWYoXCJjdWJpYy1iZXppZXJcIj09PXQubmFtZSl7Y29uc3Qgcz10LmNvbnRyb2xQb2ludHM7aT1uZXcgcChzWzBdLHNbMV0sc1syXSxzWzNdKS5zb2x2ZShacihlLDEscixuKSk7fXJldHVybiBpfXN0YXRpYyBwYXJzZSh0LGUpe2xldFtyLG4saSwuLi5zXT10O2lmKCFBcnJheS5pc0FycmF5KG4pfHwwPT09bi5sZW5ndGgpcmV0dXJuIGUuZXJyb3IoXCJFeHBlY3RlZCBhbiBpbnRlcnBvbGF0aW9uIHR5cGUgZXhwcmVzc2lvbi5cIiwxKTtpZihcImxpbmVhclwiPT09blswXSluPXtuYW1lOlwibGluZWFyXCJ9O2Vsc2UgaWYoXCJleHBvbmVudGlhbFwiPT09blswXSl7Y29uc3QgdD1uWzFdO2lmKFwibnVtYmVyXCIhPXR5cGVvZiB0KXJldHVybiBlLmVycm9yKFwiRXhwb25lbnRpYWwgaW50ZXJwb2xhdGlvbiByZXF1aXJlcyBhIG51bWVyaWMgYmFzZS5cIiwxLDEpO249e25hbWU6XCJleHBvbmVudGlhbFwiLGJhc2U6dH07fWVsc2Uge2lmKFwiY3ViaWMtYmV6aWVyXCIhPT1uWzBdKXJldHVybiBlLmVycm9yKGBVbmtub3duIGludGVycG9sYXRpb24gdHlwZSAke1N0cmluZyhuWzBdKX1gLDEsMCk7e2NvbnN0IHQ9bi5zbGljZSgxKTtpZig0IT09dC5sZW5ndGh8fHQuc29tZSgodD0+XCJudW1iZXJcIiE9dHlwZW9mIHR8fHQ8MHx8dD4xKSkpcmV0dXJuIGUuZXJyb3IoXCJDdWJpYyBiZXppZXIgaW50ZXJwb2xhdGlvbiByZXF1aXJlcyBmb3VyIG51bWVyaWMgYXJndW1lbnRzIHdpdGggdmFsdWVzIGJldHdlZW4gMCBhbmQgMS5cIiwxKTtuPXtuYW1lOlwiY3ViaWMtYmV6aWVyXCIsY29udHJvbFBvaW50czp0fTt9fWlmKHQubGVuZ3RoLTE8NClyZXR1cm4gZS5lcnJvcihgRXhwZWN0ZWQgYXQgbGVhc3QgNCBhcmd1bWVudHMsIGJ1dCBmb3VuZCBvbmx5ICR7dC5sZW5ndGgtMX0uYCk7aWYoKHQubGVuZ3RoLTEpJTIhPTApcmV0dXJuIGUuZXJyb3IoXCJFeHBlY3RlZCBhbiBldmVuIG51bWJlciBvZiBhcmd1bWVudHMuXCIpO2lmKGk9ZS5wYXJzZShpLDIsaWUpLCFpKXJldHVybiBudWxsO2NvbnN0IGE9W107bGV0IG89bnVsbDtcImludGVycG9sYXRlLWhjbFwiPT09cnx8XCJpbnRlcnBvbGF0ZS1sYWJcIj09PXI/bz1vZTplLmV4cGVjdGVkVHlwZSYmXCJ2YWx1ZVwiIT09ZS5leHBlY3RlZFR5cGUua2luZCYmKG89ZS5leHBlY3RlZFR5cGUpO2ZvcihsZXQgdD0wO3Q8cy5sZW5ndGg7dCs9Mil7Y29uc3Qgcj1zW3RdLG49c1t0KzFdLGk9dCszLGw9dCs0O2lmKFwibnVtYmVyXCIhPXR5cGVvZiByKXJldHVybiBlLmVycm9yKCdJbnB1dC9vdXRwdXQgcGFpcnMgZm9yIFwiaW50ZXJwb2xhdGVcIiBleHByZXNzaW9ucyBtdXN0IGJlIGRlZmluZWQgdXNpbmcgbGl0ZXJhbCBudW1lcmljIHZhbHVlcyAobm90IGNvbXB1dGVkIGV4cHJlc3Npb25zKSBmb3IgdGhlIGlucHV0IHZhbHVlcy4nLGkpO2lmKGEubGVuZ3RoJiZhW2EubGVuZ3RoLTFdWzBdPj1yKXJldHVybiBlLmVycm9yKCdJbnB1dC9vdXRwdXQgcGFpcnMgZm9yIFwiaW50ZXJwb2xhdGVcIiBleHByZXNzaW9ucyBtdXN0IGJlIGFycmFuZ2VkIHdpdGggaW5wdXQgdmFsdWVzIGluIHN0cmljdGx5IGFzY2VuZGluZyBvcmRlci4nLGkpO2NvbnN0IHU9ZS5wYXJzZShuLGwsbyk7aWYoIXUpcmV0dXJuIG51bGw7bz1vfHx1LnR5cGUsYS5wdXNoKFtyLHVdKTt9cmV0dXJuIFwibnVtYmVyXCI9PT1vLmtpbmR8fFwiY29sb3JcIj09PW8ua2luZHx8XCJhcnJheVwiPT09by5raW5kJiZcIm51bWJlclwiPT09by5pdGVtVHlwZS5raW5kJiZcIm51bWJlclwiPT10eXBlb2Ygby5OP25ldyBHcihvLHIsbixpLGEpOmUuZXJyb3IoYFR5cGUgJHtkZShvKX0gaXMgbm90IGludGVycG9sYXRhYmxlLmApfWV2YWx1YXRlKHQpe2NvbnN0IGU9dGhpcy5sYWJlbHMscj10aGlzLm91dHB1dHM7aWYoMT09PWUubGVuZ3RoKXJldHVybiByWzBdLmV2YWx1YXRlKHQpO2NvbnN0IG49dGhpcy5pbnB1dC5ldmFsdWF0ZSh0KTtpZihuPD1lWzBdKXJldHVybiByWzBdLmV2YWx1YXRlKHQpO2NvbnN0IGk9ZS5sZW5ndGg7aWYobj49ZVtpLTFdKXJldHVybiByW2ktMV0uZXZhbHVhdGUodCk7Y29uc3Qgcz1BcihlLG4pLGE9R3IuaW50ZXJwb2xhdGlvbkZhY3Rvcih0aGlzLmludGVycG9sYXRpb24sbixlW3NdLGVbcysxXSksbz1yW3NdLmV2YWx1YXRlKHQpLGw9cltzKzFdLmV2YWx1YXRlKHQpO3JldHVybiBcImludGVycG9sYXRlXCI9PT10aGlzLm9wZXJhdG9yP01yW3RoaXMudHlwZS5raW5kLnRvTG93ZXJDYXNlKCldKG8sbCxhKTpcImludGVycG9sYXRlLWhjbFwiPT09dGhpcy5vcGVyYXRvcj9xci5yZXZlcnNlKHFyLmludGVycG9sYXRlKHFyLmZvcndhcmQobykscXIuZm9yd2FyZChsKSxhKSk6T3IucmV2ZXJzZShPci5pbnRlcnBvbGF0ZShPci5mb3J3YXJkKG8pLE9yLmZvcndhcmQobCksYSkpfWVhY2hDaGlsZCh0KXt0KHRoaXMuaW5wdXQpO2Zvcihjb25zdCBlIG9mIHRoaXMub3V0cHV0cyl0KGUpO31vdXRwdXREZWZpbmVkKCl7cmV0dXJuIHRoaXMub3V0cHV0cy5ldmVyeSgodD0+dC5vdXRwdXREZWZpbmVkKCkpKX1zZXJpYWxpemUoKXtsZXQgdDt0PVwibGluZWFyXCI9PT10aGlzLmludGVycG9sYXRpb24ubmFtZT9bXCJsaW5lYXJcIl06XCJleHBvbmVudGlhbFwiPT09dGhpcy5pbnRlcnBvbGF0aW9uLm5hbWU/MT09PXRoaXMuaW50ZXJwb2xhdGlvbi5iYXNlP1tcImxpbmVhclwiXTpbXCJleHBvbmVudGlhbFwiLHRoaXMuaW50ZXJwb2xhdGlvbi5iYXNlXTpbXCJjdWJpYy1iZXppZXJcIl0uY29uY2F0KHRoaXMuaW50ZXJwb2xhdGlvbi5jb250cm9sUG9pbnRzKTtjb25zdCBlPVt0aGlzLm9wZXJhdG9yLHQsdGhpcy5pbnB1dC5zZXJpYWxpemUoKV07Zm9yKGxldCB0PTA7dDx0aGlzLmxhYmVscy5sZW5ndGg7dCsrKWUucHVzaCh0aGlzLmxhYmVsc1t0XSx0aGlzLm91dHB1dHNbdF0uc2VyaWFsaXplKCkpO3JldHVybiBlfX1mdW5jdGlvbiBacih0LGUscixuKXtjb25zdCBpPW4tcixzPXQtcjtyZXR1cm4gMD09PWk/MDoxPT09ZT9zL2k6KE1hdGgucG93KGUscyktMSkvKE1hdGgucG93KGUsaSktMSl9dmFyIFhyPUdyO2NsYXNzIEtye2NvbnN0cnVjdG9yKHQsZSl7dGhpcy50eXBlPXQsdGhpcy5hcmdzPWU7fXN0YXRpYyBwYXJzZSh0LGUpe2lmKHQubGVuZ3RoPDIpcmV0dXJuIGUuZXJyb3IoXCJFeHBlY3RlY3RlZCBhdCBsZWFzdCBvbmUgYXJndW1lbnQuXCIpO2xldCByPW51bGw7Y29uc3Qgbj1lLmV4cGVjdGVkVHlwZTtuJiZcInZhbHVlXCIhPT1uLmtpbmQmJihyPW4pO2NvbnN0IGk9W107Zm9yKGNvbnN0IG4gb2YgdC5zbGljZSgxKSl7Y29uc3QgdD1lLnBhcnNlKG4sMStpLmxlbmd0aCxyLHZvaWQgMCx7dHlwZUFubm90YXRpb246XCJvbWl0XCJ9KTtpZighdClyZXR1cm4gbnVsbDtyPXJ8fHQudHlwZSxpLnB1c2godCk7fWNvbnN0IHM9biYmaS5zb21lKCh0PT5tZShuLHQudHlwZSkpKTtyZXR1cm4gbmV3IEtyKHM/dWU6cixpKX1ldmFsdWF0ZSh0KXtsZXQgZSxyPW51bGwsbj0wO2Zvcihjb25zdCBpIG9mIHRoaXMuYXJncyl7aWYobisrLHI9aS5ldmFsdWF0ZSh0KSxyJiZyIGluc3RhbmNlb2YgQmUmJiFyLmF2YWlsYWJsZSYmKGV8fChlPXIpLHI9bnVsbCxuPT09dGhpcy5hcmdzLmxlbmd0aCkpcmV0dXJuIGU7aWYobnVsbCE9PXIpYnJlYWt9cmV0dXJuIHJ9ZWFjaENoaWxkKHQpe3RoaXMuYXJncy5mb3JFYWNoKHQpO31vdXRwdXREZWZpbmVkKCl7cmV0dXJuIHRoaXMuYXJncy5ldmVyeSgodD0+dC5vdXRwdXREZWZpbmVkKCkpKX1zZXJpYWxpemUoKXtjb25zdCB0PVtcImNvYWxlc2NlXCJdO3JldHVybiB0aGlzLmVhY2hDaGlsZCgoZT0+e3QucHVzaChlLnNlcmlhbGl6ZSgpKTt9KSksdH19dmFyIEhyPUtyO2NsYXNzIFlye2NvbnN0cnVjdG9yKHQsZSl7dGhpcy50eXBlPWUudHlwZSx0aGlzLmJpbmRpbmdzPVtdLmNvbmNhdCh0KSx0aGlzLnJlc3VsdD1lO31ldmFsdWF0ZSh0KXtyZXR1cm4gdGhpcy5yZXN1bHQuZXZhbHVhdGUodCl9ZWFjaENoaWxkKHQpe2Zvcihjb25zdCBlIG9mIHRoaXMuYmluZGluZ3MpdChlWzFdKTt0KHRoaXMucmVzdWx0KTt9c3RhdGljIHBhcnNlKHQsZSl7aWYodC5sZW5ndGg8NClyZXR1cm4gZS5lcnJvcihgRXhwZWN0ZWQgYXQgbGVhc3QgMyBhcmd1bWVudHMsIGJ1dCBmb3VuZCAke3QubGVuZ3RoLTF9IGluc3RlYWQuYCk7Y29uc3Qgcj1bXTtmb3IobGV0IG49MTtuPHQubGVuZ3RoLTE7bis9Mil7Y29uc3QgaT10W25dO2lmKFwic3RyaW5nXCIhPXR5cGVvZiBpKXJldHVybiBlLmVycm9yKGBFeHBlY3RlZCBzdHJpbmcsIGJ1dCBmb3VuZCAke3R5cGVvZiBpfSBpbnN0ZWFkLmAsbik7aWYoL1teYS16QS1aMC05X10vLnRlc3QoaSkpcmV0dXJuIGUuZXJyb3IoXCJWYXJpYWJsZSBuYW1lcyBtdXN0IGNvbnRhaW4gb25seSBhbHBoYW51bWVyaWMgY2hhcmFjdGVycyBvciAnXycuXCIsbik7Y29uc3Qgcz1lLnBhcnNlKHRbbisxXSxuKzEpO2lmKCFzKXJldHVybiBudWxsO3IucHVzaChbaSxzXSk7fWNvbnN0IG49ZS5wYXJzZSh0W3QubGVuZ3RoLTFdLHQubGVuZ3RoLTEsZS5leHBlY3RlZFR5cGUscik7cmV0dXJuIG4/bmV3IFlyKHIsbik6bnVsbH1vdXRwdXREZWZpbmVkKCl7cmV0dXJuIHRoaXMucmVzdWx0Lm91dHB1dERlZmluZWQoKX1zZXJpYWxpemUoKXtjb25zdCB0PVtcImxldFwiXTtmb3IoY29uc3RbZSxyXW9mIHRoaXMuYmluZGluZ3MpdC5wdXNoKGUsci5zZXJpYWxpemUoKSk7cmV0dXJuIHQucHVzaCh0aGlzLnJlc3VsdC5zZXJpYWxpemUoKSksdH19dmFyIFdyPVlyO2NsYXNzIEpye2NvbnN0cnVjdG9yKHQsZSxyKXt0aGlzLnR5cGU9dCx0aGlzLmluZGV4PWUsdGhpcy5pbnB1dD1yO31zdGF0aWMgcGFyc2UodCxlKXtpZigzIT09dC5sZW5ndGgpcmV0dXJuIGUuZXJyb3IoYEV4cGVjdGVkIDIgYXJndW1lbnRzLCBidXQgZm91bmQgJHt0Lmxlbmd0aC0xfSBpbnN0ZWFkLmApO2NvbnN0IHI9ZS5wYXJzZSh0WzFdLDEsaWUpLG49ZS5wYXJzZSh0WzJdLDIsZmUoZS5leHBlY3RlZFR5cGV8fHVlKSk7cmV0dXJuIHImJm4/bmV3IEpyKG4udHlwZS5pdGVtVHlwZSxyLG4pOm51bGx9ZXZhbHVhdGUodCl7Y29uc3QgZT10aGlzLmluZGV4LmV2YWx1YXRlKHQpLHI9dGhpcy5pbnB1dC5ldmFsdWF0ZSh0KTtpZihlPDApdGhyb3cgbmV3IExlKGBBcnJheSBpbmRleCBvdXQgb2YgYm91bmRzOiAke2V9IDwgMC5gKTtpZihlPj1yLmxlbmd0aCl0aHJvdyBuZXcgTGUoYEFycmF5IGluZGV4IG91dCBvZiBib3VuZHM6ICR7ZX0gPiAke3IubGVuZ3RoLTF9LmApO2lmKGUhPT1NYXRoLmZsb29yKGUpKXRocm93IG5ldyBMZShgQXJyYXkgaW5kZXggbXVzdCBiZSBhbiBpbnRlZ2VyLCBidXQgZm91bmQgJHtlfSBpbnN0ZWFkLmApO3JldHVybiByW2VdfWVhY2hDaGlsZCh0KXt0KHRoaXMuaW5kZXgpLHQodGhpcy5pbnB1dCk7fW91dHB1dERlZmluZWQoKXtyZXR1cm4gITF9c2VyaWFsaXplKCl7cmV0dXJuIFtcImF0XCIsdGhpcy5pbmRleC5zZXJpYWxpemUoKSx0aGlzLmlucHV0LnNlcmlhbGl6ZSgpXX19dmFyIFFyPUpyO2NsYXNzIHRue2NvbnN0cnVjdG9yKHQsZSl7dGhpcy50eXBlPWFlLHRoaXMubmVlZGxlPXQsdGhpcy5oYXlzdGFjaz1lO31zdGF0aWMgcGFyc2UodCxlKXtpZigzIT09dC5sZW5ndGgpcmV0dXJuIGUuZXJyb3IoYEV4cGVjdGVkIDIgYXJndW1lbnRzLCBidXQgZm91bmQgJHt0Lmxlbmd0aC0xfSBpbnN0ZWFkLmApO2NvbnN0IHI9ZS5wYXJzZSh0WzFdLDEsdWUpLG49ZS5wYXJzZSh0WzJdLDIsdWUpO3JldHVybiByJiZuP2dlKHIudHlwZSxbYWUsc2UsaWUsbmUsdWVdKT9uZXcgdG4ocixuKTplLmVycm9yKGBFeHBlY3RlZCBmaXJzdCBhcmd1bWVudCB0byBiZSBvZiB0eXBlIGJvb2xlYW4sIHN0cmluZywgbnVtYmVyIG9yIG51bGwsIGJ1dCBmb3VuZCAke2RlKHIudHlwZSl9IGluc3RlYWRgKTpudWxsfWV2YWx1YXRlKHQpe2NvbnN0IGU9dGhpcy5uZWVkbGUuZXZhbHVhdGUodCkscj10aGlzLmhheXN0YWNrLmV2YWx1YXRlKHQpO2lmKG51bGw9PXIpcmV0dXJuICExO2lmKCF4ZShlLFtcImJvb2xlYW5cIixcInN0cmluZ1wiLFwibnVtYmVyXCIsXCJudWxsXCJdKSl0aHJvdyBuZXcgTGUoYEV4cGVjdGVkIGZpcnN0IGFyZ3VtZW50IHRvIGJlIG9mIHR5cGUgYm9vbGVhbiwgc3RyaW5nLCBudW1iZXIgb3IgbnVsbCwgYnV0IGZvdW5kICR7ZGUoQ2UoZSkpfSBpbnN0ZWFkLmApO2lmKCF4ZShyLFtcInN0cmluZ1wiLFwiYXJyYXlcIl0pKXRocm93IG5ldyBMZShgRXhwZWN0ZWQgc2Vjb25kIGFyZ3VtZW50IHRvIGJlIG9mIHR5cGUgYXJyYXkgb3Igc3RyaW5nLCBidXQgZm91bmQgJHtkZShDZShyKSl9IGluc3RlYWQuYCk7cmV0dXJuIHIuaW5kZXhPZihlKT49MH1lYWNoQ2hpbGQodCl7dCh0aGlzLm5lZWRsZSksdCh0aGlzLmhheXN0YWNrKTt9b3V0cHV0RGVmaW5lZCgpe3JldHVybiAhMH1zZXJpYWxpemUoKXtyZXR1cm4gW1wiaW5cIix0aGlzLm5lZWRsZS5zZXJpYWxpemUoKSx0aGlzLmhheXN0YWNrLnNlcmlhbGl6ZSgpXX19dmFyIGVuPXRuO2NsYXNzIHJue2NvbnN0cnVjdG9yKHQsZSxyKXt0aGlzLnR5cGU9aWUsdGhpcy5uZWVkbGU9dCx0aGlzLmhheXN0YWNrPWUsdGhpcy5mcm9tSW5kZXg9cjt9c3RhdGljIHBhcnNlKHQsZSl7aWYodC5sZW5ndGg8PTJ8fHQubGVuZ3RoPj01KXJldHVybiBlLmVycm9yKGBFeHBlY3RlZCAzIG9yIDQgYXJndW1lbnRzLCBidXQgZm91bmQgJHt0Lmxlbmd0aC0xfSBpbnN0ZWFkLmApO2NvbnN0IHI9ZS5wYXJzZSh0WzFdLDEsdWUpLG49ZS5wYXJzZSh0WzJdLDIsdWUpO2lmKCFyfHwhbilyZXR1cm4gbnVsbDtpZighZ2Uoci50eXBlLFthZSxzZSxpZSxuZSx1ZV0pKXJldHVybiBlLmVycm9yKGBFeHBlY3RlZCBmaXJzdCBhcmd1bWVudCB0byBiZSBvZiB0eXBlIGJvb2xlYW4sIHN0cmluZywgbnVtYmVyIG9yIG51bGwsIGJ1dCBmb3VuZCAke2RlKHIudHlwZSl9IGluc3RlYWRgKTtpZig0PT09dC5sZW5ndGgpe2NvbnN0IGk9ZS5wYXJzZSh0WzNdLDMsaWUpO3JldHVybiBpP25ldyBybihyLG4saSk6bnVsbH1yZXR1cm4gbmV3IHJuKHIsbil9ZXZhbHVhdGUodCl7Y29uc3QgZT10aGlzLm5lZWRsZS5ldmFsdWF0ZSh0KSxyPXRoaXMuaGF5c3RhY2suZXZhbHVhdGUodCk7aWYoIXhlKGUsW1wiYm9vbGVhblwiLFwic3RyaW5nXCIsXCJudW1iZXJcIixcIm51bGxcIl0pKXRocm93IG5ldyBMZShgRXhwZWN0ZWQgZmlyc3QgYXJndW1lbnQgdG8gYmUgb2YgdHlwZSBib29sZWFuLCBzdHJpbmcsIG51bWJlciBvciBudWxsLCBidXQgZm91bmQgJHtkZShDZShlKSl9IGluc3RlYWQuYCk7aWYoIXhlKHIsW1wic3RyaW5nXCIsXCJhcnJheVwiXSkpdGhyb3cgbmV3IExlKGBFeHBlY3RlZCBzZWNvbmQgYXJndW1lbnQgdG8gYmUgb2YgdHlwZSBhcnJheSBvciBzdHJpbmcsIGJ1dCBmb3VuZCAke2RlKENlKHIpKX0gaW5zdGVhZC5gKTtpZih0aGlzLmZyb21JbmRleCl7Y29uc3Qgbj10aGlzLmZyb21JbmRleC5ldmFsdWF0ZSh0KTtyZXR1cm4gci5pbmRleE9mKGUsbil9cmV0dXJuIHIuaW5kZXhPZihlKX1lYWNoQ2hpbGQodCl7dCh0aGlzLm5lZWRsZSksdCh0aGlzLmhheXN0YWNrKSx0aGlzLmZyb21JbmRleCYmdCh0aGlzLmZyb21JbmRleCk7fW91dHB1dERlZmluZWQoKXtyZXR1cm4gITF9c2VyaWFsaXplKCl7aWYobnVsbCE9dGhpcy5mcm9tSW5kZXgmJnZvaWQgMCE9PXRoaXMuZnJvbUluZGV4KXtjb25zdCB0PXRoaXMuZnJvbUluZGV4LnNlcmlhbGl6ZSgpO3JldHVybiBbXCJpbmRleC1vZlwiLHRoaXMubmVlZGxlLnNlcmlhbGl6ZSgpLHRoaXMuaGF5c3RhY2suc2VyaWFsaXplKCksdF19cmV0dXJuIFtcImluZGV4LW9mXCIsdGhpcy5uZWVkbGUuc2VyaWFsaXplKCksdGhpcy5oYXlzdGFjay5zZXJpYWxpemUoKV19fXZhciBubj1ybjtjbGFzcyBzbntjb25zdHJ1Y3Rvcih0LGUscixuLGkscyl7dGhpcy5pbnB1dFR5cGU9dCx0aGlzLnR5cGU9ZSx0aGlzLmlucHV0PXIsdGhpcy5jYXNlcz1uLHRoaXMub3V0cHV0cz1pLHRoaXMub3RoZXJ3aXNlPXM7fXN0YXRpYyBwYXJzZSh0LGUpe2lmKHQubGVuZ3RoPDUpcmV0dXJuIGUuZXJyb3IoYEV4cGVjdGVkIGF0IGxlYXN0IDQgYXJndW1lbnRzLCBidXQgZm91bmQgb25seSAke3QubGVuZ3RoLTF9LmApO2lmKHQubGVuZ3RoJTIhPTEpcmV0dXJuIGUuZXJyb3IoXCJFeHBlY3RlZCBhbiBldmVuIG51bWJlciBvZiBhcmd1bWVudHMuXCIpO2xldCByLG47ZS5leHBlY3RlZFR5cGUmJlwidmFsdWVcIiE9PWUuZXhwZWN0ZWRUeXBlLmtpbmQmJihuPWUuZXhwZWN0ZWRUeXBlKTtjb25zdCBpPXt9LHM9W107Zm9yKGxldCBhPTI7YTx0Lmxlbmd0aC0xO2ErPTIpe2xldCBvPXRbYV07Y29uc3QgbD10W2ErMV07QXJyYXkuaXNBcnJheShvKXx8KG89W29dKTtjb25zdCB1PWUuY29uY2F0KGEpO2lmKDA9PT1vLmxlbmd0aClyZXR1cm4gdS5lcnJvcihcIkV4cGVjdGVkIGF0IGxlYXN0IG9uZSBicmFuY2ggbGFiZWwuXCIpO2Zvcihjb25zdCB0IG9mIG8pe2lmKFwibnVtYmVyXCIhPXR5cGVvZiB0JiZcInN0cmluZ1wiIT10eXBlb2YgdClyZXR1cm4gdS5lcnJvcihcIkJyYW5jaCBsYWJlbHMgbXVzdCBiZSBudW1iZXJzIG9yIHN0cmluZ3MuXCIpO2lmKFwibnVtYmVyXCI9PXR5cGVvZiB0JiZNYXRoLmFicyh0KT5OdW1iZXIuTUFYX1NBRkVfSU5URUdFUilyZXR1cm4gdS5lcnJvcihgQnJhbmNoIGxhYmVscyBtdXN0IGJlIGludGVnZXJzIG5vIGxhcmdlciB0aGFuICR7TnVtYmVyLk1BWF9TQUZFX0lOVEVHRVJ9LmApO2lmKFwibnVtYmVyXCI9PXR5cGVvZiB0JiZNYXRoLmZsb29yKHQpIT09dClyZXR1cm4gdS5lcnJvcihcIk51bWVyaWMgYnJhbmNoIGxhYmVscyBtdXN0IGJlIGludGVnZXIgdmFsdWVzLlwiKTtpZihyKXtpZih1LmNoZWNrU3VidHlwZShyLENlKHQpKSlyZXR1cm4gbnVsbH1lbHNlIHI9Q2UodCk7aWYodm9pZCAwIT09aVtTdHJpbmcodCldKXJldHVybiB1LmVycm9yKFwiQnJhbmNoIGxhYmVscyBtdXN0IGJlIHVuaXF1ZS5cIik7aVtTdHJpbmcodCldPXMubGVuZ3RoO31jb25zdCBjPWUucGFyc2UobCxhLG4pO2lmKCFjKXJldHVybiBudWxsO249bnx8Yy50eXBlLHMucHVzaChjKTt9Y29uc3QgYT1lLnBhcnNlKHRbMV0sMSx1ZSk7aWYoIWEpcmV0dXJuIG51bGw7Y29uc3Qgbz1lLnBhcnNlKHRbdC5sZW5ndGgtMV0sdC5sZW5ndGgtMSxuKTtyZXR1cm4gbz9cInZhbHVlXCIhPT1hLnR5cGUua2luZCYmZS5jb25jYXQoMSkuY2hlY2tTdWJ0eXBlKHIsYS50eXBlKT9udWxsOm5ldyBzbihyLG4sYSxpLHMsbyk6bnVsbH1ldmFsdWF0ZSh0KXtjb25zdCBlPXRoaXMuaW5wdXQuZXZhbHVhdGUodCk7cmV0dXJuIChDZShlKT09PXRoaXMuaW5wdXRUeXBlJiZ0aGlzLm91dHB1dHNbdGhpcy5jYXNlc1tlXV18fHRoaXMub3RoZXJ3aXNlKS5ldmFsdWF0ZSh0KX1lYWNoQ2hpbGQodCl7dCh0aGlzLmlucHV0KSx0aGlzLm91dHB1dHMuZm9yRWFjaCh0KSx0KHRoaXMub3RoZXJ3aXNlKTt9b3V0cHV0RGVmaW5lZCgpe3JldHVybiB0aGlzLm91dHB1dHMuZXZlcnkoKHQ9PnQub3V0cHV0RGVmaW5lZCgpKSkmJnRoaXMub3RoZXJ3aXNlLm91dHB1dERlZmluZWQoKX1zZXJpYWxpemUoKXtjb25zdCB0PVtcIm1hdGNoXCIsdGhpcy5pbnB1dC5zZXJpYWxpemUoKV0sZT1PYmplY3Qua2V5cyh0aGlzLmNhc2VzKS5zb3J0KCkscj1bXSxuPXt9O2Zvcihjb25zdCB0IG9mIGUpe2NvbnN0IGU9blt0aGlzLmNhc2VzW3RdXTt2b2lkIDA9PT1lPyhuW3RoaXMuY2FzZXNbdF1dPXIubGVuZ3RoLHIucHVzaChbdGhpcy5jYXNlc1t0XSxbdF1dKSk6cltlXVsxXS5wdXNoKHQpO31jb25zdCBpPXQ9PlwibnVtYmVyXCI9PT10aGlzLmlucHV0VHlwZS5raW5kP051bWJlcih0KTp0O2Zvcihjb25zdFtlLG5db2Ygcil0LnB1c2goMT09PW4ubGVuZ3RoP2koblswXSk6bi5tYXAoaSkpLHQucHVzaCh0aGlzLm91dHB1dHNbZV0uc2VyaWFsaXplKCkpO3JldHVybiB0LnB1c2godGhpcy5vdGhlcndpc2Uuc2VyaWFsaXplKCkpLHR9fXZhciBhbj1zbjtjbGFzcyBvbntjb25zdHJ1Y3Rvcih0LGUscil7dGhpcy50eXBlPXQsdGhpcy5icmFuY2hlcz1lLHRoaXMub3RoZXJ3aXNlPXI7fXN0YXRpYyBwYXJzZSh0LGUpe2lmKHQubGVuZ3RoPDQpcmV0dXJuIGUuZXJyb3IoYEV4cGVjdGVkIGF0IGxlYXN0IDMgYXJndW1lbnRzLCBidXQgZm91bmQgb25seSAke3QubGVuZ3RoLTF9LmApO2lmKHQubGVuZ3RoJTIhPTApcmV0dXJuIGUuZXJyb3IoXCJFeHBlY3RlZCBhbiBvZGQgbnVtYmVyIG9mIGFyZ3VtZW50cy5cIik7bGV0IHI7ZS5leHBlY3RlZFR5cGUmJlwidmFsdWVcIiE9PWUuZXhwZWN0ZWRUeXBlLmtpbmQmJihyPWUuZXhwZWN0ZWRUeXBlKTtjb25zdCBuPVtdO2ZvcihsZXQgaT0xO2k8dC5sZW5ndGgtMTtpKz0yKXtjb25zdCBzPWUucGFyc2UodFtpXSxpLGFlKTtpZighcylyZXR1cm4gbnVsbDtjb25zdCBhPWUucGFyc2UodFtpKzFdLGkrMSxyKTtpZighYSlyZXR1cm4gbnVsbDtuLnB1c2goW3MsYV0pLHI9cnx8YS50eXBlO31jb25zdCBpPWUucGFyc2UodFt0Lmxlbmd0aC0xXSx0Lmxlbmd0aC0xLHIpO3JldHVybiBpP25ldyBvbihyLG4saSk6bnVsbH1ldmFsdWF0ZSh0KXtmb3IoY29uc3RbZSxyXW9mIHRoaXMuYnJhbmNoZXMpaWYoZS5ldmFsdWF0ZSh0KSlyZXR1cm4gci5ldmFsdWF0ZSh0KTtyZXR1cm4gdGhpcy5vdGhlcndpc2UuZXZhbHVhdGUodCl9ZWFjaENoaWxkKHQpe2Zvcihjb25zdFtlLHJdb2YgdGhpcy5icmFuY2hlcyl0KGUpLHQocik7dCh0aGlzLm90aGVyd2lzZSk7fW91dHB1dERlZmluZWQoKXtyZXR1cm4gdGhpcy5icmFuY2hlcy5ldmVyeSgoKFt0LGVdKT0+ZS5vdXRwdXREZWZpbmVkKCkpKSYmdGhpcy5vdGhlcndpc2Uub3V0cHV0RGVmaW5lZCgpfXNlcmlhbGl6ZSgpe2NvbnN0IHQ9W1wiY2FzZVwiXTtyZXR1cm4gdGhpcy5lYWNoQ2hpbGQoKGU9Pnt0LnB1c2goZS5zZXJpYWxpemUoKSk7fSkpLHR9fXZhciBsbj1vbjtjbGFzcyB1bntjb25zdHJ1Y3Rvcih0LGUscixuKXt0aGlzLnR5cGU9dCx0aGlzLmlucHV0PWUsdGhpcy5iZWdpbkluZGV4PXIsdGhpcy5lbmRJbmRleD1uO31zdGF0aWMgcGFyc2UodCxlKXtpZih0Lmxlbmd0aDw9Mnx8dC5sZW5ndGg+PTUpcmV0dXJuIGUuZXJyb3IoYEV4cGVjdGVkIDMgb3IgNCBhcmd1bWVudHMsIGJ1dCBmb3VuZCAke3QubGVuZ3RoLTF9IGluc3RlYWQuYCk7Y29uc3Qgcj1lLnBhcnNlKHRbMV0sMSx1ZSksbj1lLnBhcnNlKHRbMl0sMixpZSk7aWYoIXJ8fCFuKXJldHVybiBudWxsO2lmKCFnZShyLnR5cGUsW2ZlKHVlKSxzZSx1ZV0pKXJldHVybiBlLmVycm9yKGBFeHBlY3RlZCBmaXJzdCBhcmd1bWVudCB0byBiZSBvZiB0eXBlIGFycmF5IG9yIHN0cmluZywgYnV0IGZvdW5kICR7ZGUoci50eXBlKX0gaW5zdGVhZGApO2lmKDQ9PT10Lmxlbmd0aCl7Y29uc3QgaT1lLnBhcnNlKHRbM10sMyxpZSk7cmV0dXJuIGk/bmV3IHVuKHIudHlwZSxyLG4saSk6bnVsbH1yZXR1cm4gbmV3IHVuKHIudHlwZSxyLG4pfWV2YWx1YXRlKHQpe2NvbnN0IGU9dGhpcy5pbnB1dC5ldmFsdWF0ZSh0KSxyPXRoaXMuYmVnaW5JbmRleC5ldmFsdWF0ZSh0KTtpZigheGUoZSxbXCJzdHJpbmdcIixcImFycmF5XCJdKSl0aHJvdyBuZXcgTGUoYEV4cGVjdGVkIGZpcnN0IGFyZ3VtZW50IHRvIGJlIG9mIHR5cGUgYXJyYXkgb3Igc3RyaW5nLCBidXQgZm91bmQgJHtkZShDZShlKSl9IGluc3RlYWQuYCk7aWYodGhpcy5lbmRJbmRleCl7Y29uc3Qgbj10aGlzLmVuZEluZGV4LmV2YWx1YXRlKHQpO3JldHVybiBlLnNsaWNlKHIsbil9cmV0dXJuIGUuc2xpY2Uocil9ZWFjaENoaWxkKHQpe3QodGhpcy5pbnB1dCksdCh0aGlzLmJlZ2luSW5kZXgpLHRoaXMuZW5kSW5kZXgmJnQodGhpcy5lbmRJbmRleCk7fW91dHB1dERlZmluZWQoKXtyZXR1cm4gITF9c2VyaWFsaXplKCl7aWYobnVsbCE9dGhpcy5lbmRJbmRleCYmdm9pZCAwIT09dGhpcy5lbmRJbmRleCl7Y29uc3QgdD10aGlzLmVuZEluZGV4LnNlcmlhbGl6ZSgpO3JldHVybiBbXCJzbGljZVwiLHRoaXMuaW5wdXQuc2VyaWFsaXplKCksdGhpcy5iZWdpbkluZGV4LnNlcmlhbGl6ZSgpLHRdfXJldHVybiBbXCJzbGljZVwiLHRoaXMuaW5wdXQuc2VyaWFsaXplKCksdGhpcy5iZWdpbkluZGV4LnNlcmlhbGl6ZSgpXX19dmFyIGNuPXVuO2Z1bmN0aW9uIGhuKHQsZSl7cmV0dXJuIFwiPT1cIj09PXR8fFwiIT1cIj09PXQ/XCJib29sZWFuXCI9PT1lLmtpbmR8fFwic3RyaW5nXCI9PT1lLmtpbmR8fFwibnVtYmVyXCI9PT1lLmtpbmR8fFwibnVsbFwiPT09ZS5raW5kfHxcInZhbHVlXCI9PT1lLmtpbmQ6XCJzdHJpbmdcIj09PWUua2luZHx8XCJudW1iZXJcIj09PWUua2luZHx8XCJ2YWx1ZVwiPT09ZS5raW5kfWZ1bmN0aW9uIHBuKHQsZSxyLG4pe3JldHVybiAwPT09bi5jb21wYXJlKGUscil9ZnVuY3Rpb24gZm4odCxlLHIpe2NvbnN0IG49XCI9PVwiIT09dCYmXCIhPVwiIT09dDtyZXR1cm4gY2xhc3MgaXtjb25zdHJ1Y3Rvcih0LGUscil7dGhpcy50eXBlPWFlLHRoaXMubGhzPXQsdGhpcy5yaHM9ZSx0aGlzLmNvbGxhdG9yPXIsdGhpcy5oYXNVbnR5cGVkQXJndW1lbnQ9XCJ2YWx1ZVwiPT09dC50eXBlLmtpbmR8fFwidmFsdWVcIj09PWUudHlwZS5raW5kO31zdGF0aWMgcGFyc2UodCxlKXtpZigzIT09dC5sZW5ndGgmJjQhPT10Lmxlbmd0aClyZXR1cm4gZS5lcnJvcihcIkV4cGVjdGVkIHR3byBvciB0aHJlZSBhcmd1bWVudHMuXCIpO2NvbnN0IHI9dFswXTtsZXQgcz1lLnBhcnNlKHRbMV0sMSx1ZSk7aWYoIXMpcmV0dXJuIG51bGw7aWYoIWhuKHIscy50eXBlKSlyZXR1cm4gZS5jb25jYXQoMSkuZXJyb3IoYFwiJHtyfVwiIGNvbXBhcmlzb25zIGFyZSBub3Qgc3VwcG9ydGVkIGZvciB0eXBlICcke2RlKHMudHlwZSl9Jy5gKTtsZXQgYT1lLnBhcnNlKHRbMl0sMix1ZSk7aWYoIWEpcmV0dXJuIG51bGw7aWYoIWhuKHIsYS50eXBlKSlyZXR1cm4gZS5jb25jYXQoMikuZXJyb3IoYFwiJHtyfVwiIGNvbXBhcmlzb25zIGFyZSBub3Qgc3VwcG9ydGVkIGZvciB0eXBlICcke2RlKGEudHlwZSl9Jy5gKTtpZihzLnR5cGUua2luZCE9PWEudHlwZS5raW5kJiZcInZhbHVlXCIhPT1zLnR5cGUua2luZCYmXCJ2YWx1ZVwiIT09YS50eXBlLmtpbmQpcmV0dXJuIGUuZXJyb3IoYENhbm5vdCBjb21wYXJlIHR5cGVzICcke2RlKHMudHlwZSl9JyBhbmQgJyR7ZGUoYS50eXBlKX0nLmApO24mJihcInZhbHVlXCI9PT1zLnR5cGUua2luZCYmXCJ2YWx1ZVwiIT09YS50eXBlLmtpbmQ/cz1uZXcgamUoYS50eXBlLFtzXSk6XCJ2YWx1ZVwiIT09cy50eXBlLmtpbmQmJlwidmFsdWVcIj09PWEudHlwZS5raW5kJiYoYT1uZXcgamUocy50eXBlLFthXSkpKTtsZXQgbz1udWxsO2lmKDQ9PT10Lmxlbmd0aCl7aWYoXCJzdHJpbmdcIiE9PXMudHlwZS5raW5kJiZcInN0cmluZ1wiIT09YS50eXBlLmtpbmQmJlwidmFsdWVcIiE9PXMudHlwZS5raW5kJiZcInZhbHVlXCIhPT1hLnR5cGUua2luZClyZXR1cm4gZS5lcnJvcihcIkNhbm5vdCB1c2UgY29sbGF0b3IgdG8gY29tcGFyZSBub24tc3RyaW5nIHR5cGVzLlwiKTtpZihvPWUucGFyc2UodFszXSwzLGNlKSwhbylyZXR1cm4gbnVsbH1yZXR1cm4gbmV3IGkocyxhLG8pfWV2YWx1YXRlKGkpe2NvbnN0IHM9dGhpcy5saHMuZXZhbHVhdGUoaSksYT10aGlzLnJocy5ldmFsdWF0ZShpKTtpZihuJiZ0aGlzLmhhc1VudHlwZWRBcmd1bWVudCl7Y29uc3QgZT1DZShzKSxyPUNlKGEpO2lmKGUua2luZCE9PXIua2luZHx8XCJzdHJpbmdcIiE9PWUua2luZCYmXCJudW1iZXJcIiE9PWUua2luZCl0aHJvdyBuZXcgTGUoYEV4cGVjdGVkIGFyZ3VtZW50cyBmb3IgXCIke3R9XCIgdG8gYmUgKHN0cmluZywgc3RyaW5nKSBvciAobnVtYmVyLCBudW1iZXIpLCBidXQgZm91bmQgKCR7ZS5raW5kfSwgJHtyLmtpbmR9KSBpbnN0ZWFkLmApfWlmKHRoaXMuY29sbGF0b3ImJiFuJiZ0aGlzLmhhc1VudHlwZWRBcmd1bWVudCl7Y29uc3QgdD1DZShzKSxyPUNlKGEpO2lmKFwic3RyaW5nXCIhPT10LmtpbmR8fFwic3RyaW5nXCIhPT1yLmtpbmQpcmV0dXJuIGUoaSxzLGEpfXJldHVybiB0aGlzLmNvbGxhdG9yP3IoaSxzLGEsdGhpcy5jb2xsYXRvci5ldmFsdWF0ZShpKSk6ZShpLHMsYSl9ZWFjaENoaWxkKHQpe3QodGhpcy5saHMpLHQodGhpcy5yaHMpLHRoaXMuY29sbGF0b3ImJnQodGhpcy5jb2xsYXRvcik7fW91dHB1dERlZmluZWQoKXtyZXR1cm4gITB9c2VyaWFsaXplKCl7Y29uc3QgZT1bdF07cmV0dXJuIHRoaXMuZWFjaENoaWxkKCh0PT57ZS5wdXNoKHQuc2VyaWFsaXplKCkpO30pKSxlfX19Y29uc3QgZG49Zm4oXCI9PVwiLChmdW5jdGlvbih0LGUscil7cmV0dXJuIGU9PT1yfSkscG4pLHluPWZuKFwiIT1cIiwoZnVuY3Rpb24odCxlLHIpe3JldHVybiBlIT09cn0pLChmdW5jdGlvbih0LGUscixuKXtyZXR1cm4gIXBuKDAsZSxyLG4pfSkpLG1uPWZuKFwiPFwiLChmdW5jdGlvbih0LGUscil7cmV0dXJuIGU8cn0pLChmdW5jdGlvbih0LGUscixuKXtyZXR1cm4gbi5jb21wYXJlKGUscik8MH0pKSxnbj1mbihcIj5cIiwoZnVuY3Rpb24odCxlLHIpe3JldHVybiBlPnJ9KSwoZnVuY3Rpb24odCxlLHIsbil7cmV0dXJuIG4uY29tcGFyZShlLHIpPjB9KSkseG49Zm4oXCI8PVwiLChmdW5jdGlvbih0LGUscil7cmV0dXJuIGU8PXJ9KSwoZnVuY3Rpb24odCxlLHIsbil7cmV0dXJuIG4uY29tcGFyZShlLHIpPD0wfSkpLHZuPWZuKFwiPj1cIiwoZnVuY3Rpb24odCxlLHIpe3JldHVybiBlPj1yfSksKGZ1bmN0aW9uKHQsZSxyLG4pe3JldHVybiBuLmNvbXBhcmUoZSxyKT49MH0pKTtjbGFzcyBibntjb25zdHJ1Y3Rvcih0LGUscixuLGkscyl7dGhpcy50eXBlPXNlLHRoaXMubnVtYmVyPXQsdGhpcy5sb2NhbGU9ZSx0aGlzLmN1cnJlbmN5PXIsdGhpcy51bml0PW4sdGhpcy5taW5GcmFjdGlvbkRpZ2l0cz1pLHRoaXMubWF4RnJhY3Rpb25EaWdpdHM9czt9c3RhdGljIHBhcnNlKHQsZSl7aWYoMyE9PXQubGVuZ3RoKXJldHVybiBlLmVycm9yKFwiRXhwZWN0ZWQgdHdvIGFyZ3VtZW50cy5cIik7Y29uc3Qgcj1lLnBhcnNlKHRbMV0sMSxpZSk7aWYoIXIpcmV0dXJuIG51bGw7Y29uc3Qgbj10WzJdO2lmKFwib2JqZWN0XCIhPXR5cGVvZiBufHxBcnJheS5pc0FycmF5KG4pKXJldHVybiBlLmVycm9yKFwiTnVtYmVyRm9ybWF0IG9wdGlvbnMgYXJndW1lbnQgbXVzdCBiZSBhbiBvYmplY3QuXCIpO2xldCBpPW51bGw7aWYobi5sb2NhbGUmJihpPWUucGFyc2Uobi5sb2NhbGUsMSxzZSksIWkpKXJldHVybiBudWxsO2xldCBzPW51bGw7aWYobi5jdXJyZW5jeSYmKHM9ZS5wYXJzZShuLmN1cnJlbmN5LDEsc2UpLCFzKSlyZXR1cm4gbnVsbDtsZXQgYT1udWxsO2lmKG4udW5pdCYmKGE9ZS5wYXJzZShuLnVuaXQsMSxzZSksIWEpKXJldHVybiBudWxsO2xldCBvPW51bGw7aWYobltcIm1pbi1mcmFjdGlvbi1kaWdpdHNcIl0mJihvPWUucGFyc2UobltcIm1pbi1mcmFjdGlvbi1kaWdpdHNcIl0sMSxpZSksIW8pKXJldHVybiBudWxsO2xldCBsPW51bGw7cmV0dXJuIG5bXCJtYXgtZnJhY3Rpb24tZGlnaXRzXCJdJiYobD1lLnBhcnNlKG5bXCJtYXgtZnJhY3Rpb24tZGlnaXRzXCJdLDEsaWUpLCFsKT9udWxsOm5ldyBibihyLGkscyxhLG8sbCl9ZXZhbHVhdGUodCl7cmV0dXJuIG5ldyBJbnRsLk51bWJlckZvcm1hdCh0aGlzLmxvY2FsZT90aGlzLmxvY2FsZS5ldmFsdWF0ZSh0KTpbXSx7c3R5bGU6KHRoaXMuY3VycmVuY3k/XCJjdXJyZW5jeVwiOnRoaXMudW5pdCYmXCJ1bml0XCIpfHxcImRlY2ltYWxcIixjdXJyZW5jeTp0aGlzLmN1cnJlbmN5P3RoaXMuY3VycmVuY3kuZXZhbHVhdGUodCk6dm9pZCAwLHVuaXQ6dGhpcy51bml0P3RoaXMudW5pdC5ldmFsdWF0ZSh0KTp2b2lkIDAsbWluaW11bUZyYWN0aW9uRGlnaXRzOnRoaXMubWluRnJhY3Rpb25EaWdpdHM/dGhpcy5taW5GcmFjdGlvbkRpZ2l0cy5ldmFsdWF0ZSh0KTp2b2lkIDAsbWF4aW11bUZyYWN0aW9uRGlnaXRzOnRoaXMubWF4RnJhY3Rpb25EaWdpdHM/dGhpcy5tYXhGcmFjdGlvbkRpZ2l0cy5ldmFsdWF0ZSh0KTp2b2lkIDB9KS5mb3JtYXQodGhpcy5udW1iZXIuZXZhbHVhdGUodCkpfWVhY2hDaGlsZCh0KXt0KHRoaXMubnVtYmVyKSx0aGlzLmxvY2FsZSYmdCh0aGlzLmxvY2FsZSksdGhpcy5jdXJyZW5jeSYmdCh0aGlzLmN1cnJlbmN5KSx0aGlzLnVuaXQmJnQodGhpcy51bml0KSx0aGlzLm1pbkZyYWN0aW9uRGlnaXRzJiZ0KHRoaXMubWluRnJhY3Rpb25EaWdpdHMpLHRoaXMubWF4RnJhY3Rpb25EaWdpdHMmJnQodGhpcy5tYXhGcmFjdGlvbkRpZ2l0cyk7fW91dHB1dERlZmluZWQoKXtyZXR1cm4gITF9c2VyaWFsaXplKCl7Y29uc3QgdD17fTtyZXR1cm4gdGhpcy5sb2NhbGUmJih0LmxvY2FsZT10aGlzLmxvY2FsZS5zZXJpYWxpemUoKSksdGhpcy5jdXJyZW5jeSYmKHQuY3VycmVuY3k9dGhpcy5jdXJyZW5jeS5zZXJpYWxpemUoKSksdGhpcy51bml0JiYodC51bml0PXRoaXMudW5pdC5zZXJpYWxpemUoKSksdGhpcy5taW5GcmFjdGlvbkRpZ2l0cyYmKHRbXCJtaW4tZnJhY3Rpb24tZGlnaXRzXCJdPXRoaXMubWluRnJhY3Rpb25EaWdpdHMuc2VyaWFsaXplKCkpLHRoaXMubWF4RnJhY3Rpb25EaWdpdHMmJih0W1wibWF4LWZyYWN0aW9uLWRpZ2l0c1wiXT10aGlzLm1heEZyYWN0aW9uRGlnaXRzLnNlcmlhbGl6ZSgpKSxbXCJudW1iZXItZm9ybWF0XCIsdGhpcy5udW1iZXIuc2VyaWFsaXplKCksdF19fWNsYXNzIF9ue2NvbnN0cnVjdG9yKHQpe3RoaXMudHlwZT1pZSx0aGlzLmlucHV0PXQ7fXN0YXRpYyBwYXJzZSh0LGUpe2lmKDIhPT10Lmxlbmd0aClyZXR1cm4gZS5lcnJvcihgRXhwZWN0ZWQgMSBhcmd1bWVudCwgYnV0IGZvdW5kICR7dC5sZW5ndGgtMX0gaW5zdGVhZC5gKTtjb25zdCByPWUucGFyc2UodFsxXSwxKTtyZXR1cm4gcj9cImFycmF5XCIhPT1yLnR5cGUua2luZCYmXCJzdHJpbmdcIiE9PXIudHlwZS5raW5kJiZcInZhbHVlXCIhPT1yLnR5cGUua2luZD9lLmVycm9yKGBFeHBlY3RlZCBhcmd1bWVudCBvZiB0eXBlIHN0cmluZyBvciBhcnJheSwgYnV0IGZvdW5kICR7ZGUoci50eXBlKX0gaW5zdGVhZC5gKTpuZXcgX24ocik6bnVsbH1ldmFsdWF0ZSh0KXtjb25zdCBlPXRoaXMuaW5wdXQuZXZhbHVhdGUodCk7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpcmV0dXJuIGUubGVuZ3RoO2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGUubGVuZ3RoO3Rocm93IG5ldyBMZShgRXhwZWN0ZWQgdmFsdWUgdG8gYmUgb2YgdHlwZSBzdHJpbmcgb3IgYXJyYXksIGJ1dCBmb3VuZCAke2RlKENlKGUpKX0gaW5zdGVhZC5gKX1lYWNoQ2hpbGQodCl7dCh0aGlzLmlucHV0KTt9b3V0cHV0RGVmaW5lZCgpe3JldHVybiAhMX1zZXJpYWxpemUoKXtjb25zdCB0PVtcImxlbmd0aFwiXTtyZXR1cm4gdGhpcy5lYWNoQ2hpbGQoKGU9Pnt0LnB1c2goZS5zZXJpYWxpemUoKSk7fSkpLHR9fWNvbnN0IHduPXtcIj09XCI6ZG4sXCIhPVwiOnluLFwiPlwiOmduLFwiPFwiOm1uLFwiPj1cIjp2bixcIjw9XCI6eG4sYXJyYXk6amUsYXQ6UXIsYm9vbGVhbjpqZSxjYXNlOmxuLGNvYWxlc2NlOkhyLGNvbGxhdG9yOlllLGZvcm1hdDokZSxpbWFnZTpPZSxpbjplbixcImluZGV4LW9mXCI6bm4saW50ZXJwb2xhdGU6WHIsXCJpbnRlcnBvbGF0ZS1oY2xcIjpYcixcImludGVycG9sYXRlLWxhYlwiOlhyLGxlbmd0aDpfbixsZXQ6V3IsbGl0ZXJhbDpGZSxtYXRjaDphbixudW1iZXI6amUsXCJudW1iZXItZm9ybWF0XCI6Ym4sb2JqZWN0OmplLHNsaWNlOmNuLHN0ZXA6a3Isc3RyaW5nOmplLFwidG8tYm9vbGVhblwiOkdlLFwidG8tY29sb3JcIjpHZSxcInRvLW51bWJlclwiOkdlLFwidG8tc3RyaW5nXCI6R2UsdmFyOnZyLHdpdGhpbjpkcn07ZnVuY3Rpb24gQW4odCxbZSxyLG4saV0pe2U9ZS5ldmFsdWF0ZSh0KSxyPXIuZXZhbHVhdGUodCksbj1uLmV2YWx1YXRlKHQpO2NvbnN0IHM9aT9pLmV2YWx1YXRlKHQpOjEsYT1FZShlLHIsbixzKTtpZihhKXRocm93IG5ldyBMZShhKTtyZXR1cm4gbmV3IEllKGUvMjU1KnMsci8yNTUqcyxuLzI1NSpzLHMpfWZ1bmN0aW9uIFNuKHQsZSl7cmV0dXJuIHQgaW4gZX1mdW5jdGlvbiBrbih0LGUpe2NvbnN0IHI9ZVt0XTtyZXR1cm4gdm9pZCAwPT09cj9udWxsOnJ9ZnVuY3Rpb24gSW4odCl7cmV0dXJuIHt0eXBlOnR9fUhlLnJlZ2lzdGVyKHduLHtlcnJvcjpbe2tpbmQ6XCJlcnJvclwifSxbc2VdLCh0LFtlXSk9Pnt0aHJvdyBuZXcgTGUoZS5ldmFsdWF0ZSh0KSl9XSx0eXBlb2Y6W3NlLFt1ZV0sKHQsW2VdKT0+ZGUoQ2UoZS5ldmFsdWF0ZSh0KSkpXSxcInRvLXJnYmFcIjpbZmUoaWUsNCksW29lXSwodCxbZV0pPT5lLmV2YWx1YXRlKHQpLnRvQXJyYXkoKV0scmdiOltvZSxbaWUsaWUsaWVdLEFuXSxyZ2JhOltvZSxbaWUsaWUsaWUsaWVdLEFuXSxoYXM6e3R5cGU6YWUsb3ZlcmxvYWRzOltbW3NlXSwodCxbZV0pPT5TbihlLmV2YWx1YXRlKHQpLHQucHJvcGVydGllcygpKV0sW1tzZSxsZV0sKHQsW2Uscl0pPT5TbihlLmV2YWx1YXRlKHQpLHIuZXZhbHVhdGUodCkpXV19LGdldDp7dHlwZTp1ZSxvdmVybG9hZHM6W1tbc2VdLCh0LFtlXSk9PmtuKGUuZXZhbHVhdGUodCksdC5wcm9wZXJ0aWVzKCkpXSxbW3NlLGxlXSwodCxbZSxyXSk9PmtuKGUuZXZhbHVhdGUodCksci5ldmFsdWF0ZSh0KSldXX0sXCJmZWF0dXJlLXN0YXRlXCI6W3VlLFtzZV0sKHQsW2VdKT0+a24oZS5ldmFsdWF0ZSh0KSx0LmZlYXR1cmVTdGF0ZXx8e30pXSxwcm9wZXJ0aWVzOltsZSxbXSx0PT50LnByb3BlcnRpZXMoKV0sXCJnZW9tZXRyeS10eXBlXCI6W3NlLFtdLHQ9PnQuZ2VvbWV0cnlUeXBlKCldLGlkOlt1ZSxbXSx0PT50LmlkKCldLHpvb206W2llLFtdLHQ9PnQuZ2xvYmFscy56b29tXSxwaXRjaDpbaWUsW10sdD0+dC5nbG9iYWxzLnBpdGNofHwwXSxcImRpc3RhbmNlLWZyb20tY2VudGVyXCI6W2llLFtdLHQ9PnQuZGlzdGFuY2VGcm9tQ2VudGVyKCldLFwiaGVhdG1hcC1kZW5zaXR5XCI6W2llLFtdLHQ9PnQuZ2xvYmFscy5oZWF0bWFwRGVuc2l0eXx8MF0sXCJsaW5lLXByb2dyZXNzXCI6W2llLFtdLHQ9PnQuZ2xvYmFscy5saW5lUHJvZ3Jlc3N8fDBdLFwic2t5LXJhZGlhbC1wcm9ncmVzc1wiOltpZSxbXSx0PT50Lmdsb2JhbHMuc2t5UmFkaWFsUHJvZ3Jlc3N8fDBdLGFjY3VtdWxhdGVkOlt1ZSxbXSx0PT52b2lkIDA9PT10Lmdsb2JhbHMuYWNjdW11bGF0ZWQ/bnVsbDp0Lmdsb2JhbHMuYWNjdW11bGF0ZWRdLFwiK1wiOltpZSxJbihpZSksKHQsZSk9PntsZXQgcj0wO2Zvcihjb25zdCBuIG9mIGUpcis9bi5ldmFsdWF0ZSh0KTtyZXR1cm4gcn1dLFwiKlwiOltpZSxJbihpZSksKHQsZSk9PntsZXQgcj0xO2Zvcihjb25zdCBuIG9mIGUpcio9bi5ldmFsdWF0ZSh0KTtyZXR1cm4gcn1dLFwiLVwiOnt0eXBlOmllLG92ZXJsb2FkczpbW1tpZSxpZV0sKHQsW2Uscl0pPT5lLmV2YWx1YXRlKHQpLXIuZXZhbHVhdGUodCldLFtbaWVdLCh0LFtlXSk9Pi1lLmV2YWx1YXRlKHQpXV19LFwiL1wiOltpZSxbaWUsaWVdLCh0LFtlLHJdKT0+ZS5ldmFsdWF0ZSh0KS9yLmV2YWx1YXRlKHQpXSxcIiVcIjpbaWUsW2llLGllXSwodCxbZSxyXSk9PmUuZXZhbHVhdGUodCklci5ldmFsdWF0ZSh0KV0sbG4yOltpZSxbXSwoKT0+TWF0aC5MTjJdLHBpOltpZSxbXSwoKT0+TWF0aC5QSV0sZTpbaWUsW10sKCk9Pk1hdGguRV0sXCJeXCI6W2llLFtpZSxpZV0sKHQsW2Uscl0pPT5NYXRoLnBvdyhlLmV2YWx1YXRlKHQpLHIuZXZhbHVhdGUodCkpXSxzcXJ0OltpZSxbaWVdLCh0LFtlXSk9Pk1hdGguc3FydChlLmV2YWx1YXRlKHQpKV0sbG9nMTA6W2llLFtpZV0sKHQsW2VdKT0+TWF0aC5sb2coZS5ldmFsdWF0ZSh0KSkvTWF0aC5MTjEwXSxsbjpbaWUsW2llXSwodCxbZV0pPT5NYXRoLmxvZyhlLmV2YWx1YXRlKHQpKV0sbG9nMjpbaWUsW2llXSwodCxbZV0pPT5NYXRoLmxvZyhlLmV2YWx1YXRlKHQpKS9NYXRoLkxOMl0sc2luOltpZSxbaWVdLCh0LFtlXSk9Pk1hdGguc2luKGUuZXZhbHVhdGUodCkpXSxjb3M6W2llLFtpZV0sKHQsW2VdKT0+TWF0aC5jb3MoZS5ldmFsdWF0ZSh0KSldLHRhbjpbaWUsW2llXSwodCxbZV0pPT5NYXRoLnRhbihlLmV2YWx1YXRlKHQpKV0sYXNpbjpbaWUsW2llXSwodCxbZV0pPT5NYXRoLmFzaW4oZS5ldmFsdWF0ZSh0KSldLGFjb3M6W2llLFtpZV0sKHQsW2VdKT0+TWF0aC5hY29zKGUuZXZhbHVhdGUodCkpXSxhdGFuOltpZSxbaWVdLCh0LFtlXSk9Pk1hdGguYXRhbihlLmV2YWx1YXRlKHQpKV0sbWluOltpZSxJbihpZSksKHQsZSk9Pk1hdGgubWluKC4uLmUubWFwKChlPT5lLmV2YWx1YXRlKHQpKSkpXSxtYXg6W2llLEluKGllKSwodCxlKT0+TWF0aC5tYXgoLi4uZS5tYXAoKGU9PmUuZXZhbHVhdGUodCkpKSldLGFiczpbaWUsW2llXSwodCxbZV0pPT5NYXRoLmFicyhlLmV2YWx1YXRlKHQpKV0scm91bmQ6W2llLFtpZV0sKHQsW2VdKT0+e2NvbnN0IHI9ZS5ldmFsdWF0ZSh0KTtyZXR1cm4gcjwwPy1NYXRoLnJvdW5kKC1yKTpNYXRoLnJvdW5kKHIpfV0sZmxvb3I6W2llLFtpZV0sKHQsW2VdKT0+TWF0aC5mbG9vcihlLmV2YWx1YXRlKHQpKV0sY2VpbDpbaWUsW2llXSwodCxbZV0pPT5NYXRoLmNlaWwoZS5ldmFsdWF0ZSh0KSldLFwiZmlsdGVyLT09XCI6W2FlLFtzZSx1ZV0sKHQsW2Uscl0pPT50LnByb3BlcnRpZXMoKVtlLnZhbHVlXT09PXIudmFsdWVdLFwiZmlsdGVyLWlkLT09XCI6W2FlLFt1ZV0sKHQsW2VdKT0+dC5pZCgpPT09ZS52YWx1ZV0sXCJmaWx0ZXItdHlwZS09PVwiOlthZSxbc2VdLCh0LFtlXSk9PnQuZ2VvbWV0cnlUeXBlKCk9PT1lLnZhbHVlXSxcImZpbHRlci08XCI6W2FlLFtzZSx1ZV0sKHQsW2Uscl0pPT57Y29uc3Qgbj10LnByb3BlcnRpZXMoKVtlLnZhbHVlXSxpPXIudmFsdWU7cmV0dXJuIHR5cGVvZiBuPT10eXBlb2YgaSYmbjxpfV0sXCJmaWx0ZXItaWQtPFwiOlthZSxbdWVdLCh0LFtlXSk9Pntjb25zdCByPXQuaWQoKSxuPWUudmFsdWU7cmV0dXJuIHR5cGVvZiByPT10eXBlb2YgbiYmcjxufV0sXCJmaWx0ZXItPlwiOlthZSxbc2UsdWVdLCh0LFtlLHJdKT0+e2NvbnN0IG49dC5wcm9wZXJ0aWVzKClbZS52YWx1ZV0saT1yLnZhbHVlO3JldHVybiB0eXBlb2Ygbj09dHlwZW9mIGkmJm4+aX1dLFwiZmlsdGVyLWlkLT5cIjpbYWUsW3VlXSwodCxbZV0pPT57Y29uc3Qgcj10LmlkKCksbj1lLnZhbHVlO3JldHVybiB0eXBlb2Ygcj09dHlwZW9mIG4mJnI+bn1dLFwiZmlsdGVyLTw9XCI6W2FlLFtzZSx1ZV0sKHQsW2Uscl0pPT57Y29uc3Qgbj10LnByb3BlcnRpZXMoKVtlLnZhbHVlXSxpPXIudmFsdWU7cmV0dXJuIHR5cGVvZiBuPT10eXBlb2YgaSYmbjw9aX1dLFwiZmlsdGVyLWlkLTw9XCI6W2FlLFt1ZV0sKHQsW2VdKT0+e2NvbnN0IHI9dC5pZCgpLG49ZS52YWx1ZTtyZXR1cm4gdHlwZW9mIHI9PXR5cGVvZiBuJiZyPD1ufV0sXCJmaWx0ZXItPj1cIjpbYWUsW3NlLHVlXSwodCxbZSxyXSk9Pntjb25zdCBuPXQucHJvcGVydGllcygpW2UudmFsdWVdLGk9ci52YWx1ZTtyZXR1cm4gdHlwZW9mIG49PXR5cGVvZiBpJiZuPj1pfV0sXCJmaWx0ZXItaWQtPj1cIjpbYWUsW3VlXSwodCxbZV0pPT57Y29uc3Qgcj10LmlkKCksbj1lLnZhbHVlO3JldHVybiB0eXBlb2Ygcj09dHlwZW9mIG4mJnI+PW59XSxcImZpbHRlci1oYXNcIjpbYWUsW3VlXSwodCxbZV0pPT5lLnZhbHVlIGluIHQucHJvcGVydGllcygpXSxcImZpbHRlci1oYXMtaWRcIjpbYWUsW10sdD0+bnVsbCE9PXQuaWQoKSYmdm9pZCAwIT09dC5pZCgpXSxcImZpbHRlci10eXBlLWluXCI6W2FlLFtmZShzZSldLCh0LFtlXSk9PmUudmFsdWUuaW5kZXhPZih0Lmdlb21ldHJ5VHlwZSgpKT49MF0sXCJmaWx0ZXItaWQtaW5cIjpbYWUsW2ZlKHVlKV0sKHQsW2VdKT0+ZS52YWx1ZS5pbmRleE9mKHQuaWQoKSk+PTBdLFwiZmlsdGVyLWluLXNtYWxsXCI6W2FlLFtzZSxmZSh1ZSldLCh0LFtlLHJdKT0+ci52YWx1ZS5pbmRleE9mKHQucHJvcGVydGllcygpW2UudmFsdWVdKT49MF0sXCJmaWx0ZXItaW4tbGFyZ2VcIjpbYWUsW3NlLGZlKHVlKV0sKHQsW2Uscl0pPT5mdW5jdGlvbih0LGUscixuKXtmb3IoO3I8PW47KXtjb25zdCBpPXIrbj4+MTtpZihlW2ldPT09dClyZXR1cm4gITA7ZVtpXT50P249aS0xOnI9aSsxO31yZXR1cm4gITF9KHQucHJvcGVydGllcygpW2UudmFsdWVdLHIudmFsdWUsMCxyLnZhbHVlLmxlbmd0aC0xKV0sYWxsOnt0eXBlOmFlLG92ZXJsb2FkczpbW1thZSxhZV0sKHQsW2Uscl0pPT5lLmV2YWx1YXRlKHQpJiZyLmV2YWx1YXRlKHQpXSxbSW4oYWUpLCh0LGUpPT57Zm9yKGNvbnN0IHIgb2YgZSlpZighci5ldmFsdWF0ZSh0KSlyZXR1cm4gITE7cmV0dXJuICEwfV1dfSxhbnk6e3R5cGU6YWUsb3ZlcmxvYWRzOltbW2FlLGFlXSwodCxbZSxyXSk9PmUuZXZhbHVhdGUodCl8fHIuZXZhbHVhdGUodCldLFtJbihhZSksKHQsZSk9Pntmb3IoY29uc3QgciBvZiBlKWlmKHIuZXZhbHVhdGUodCkpcmV0dXJuICEwO3JldHVybiAhMX1dXX0sXCIhXCI6W2FlLFthZV0sKHQsW2VdKT0+IWUuZXZhbHVhdGUodCldLFwiaXMtc3VwcG9ydGVkLXNjcmlwdFwiOlthZSxbc2VdLCh0LFtlXSk9Pntjb25zdCByPXQuZ2xvYmFscyYmdC5nbG9iYWxzLmlzU3VwcG9ydGVkU2NyaXB0O3JldHVybiAhcnx8cihlLmV2YWx1YXRlKHQpKX1dLHVwY2FzZTpbc2UsW3NlXSwodCxbZV0pPT5lLmV2YWx1YXRlKHQpLnRvVXBwZXJDYXNlKCldLGRvd25jYXNlOltzZSxbc2VdLCh0LFtlXSk9PmUuZXZhbHVhdGUodCkudG9Mb3dlckNhc2UoKV0sY29uY2F0OltzZSxJbih1ZSksKHQsZSk9PmUubWFwKChlPT5EZShlLmV2YWx1YXRlKHQpKSkpLmpvaW4oXCJcIildLFwicmVzb2x2ZWQtbG9jYWxlXCI6W3NlLFtjZV0sKHQsW2VdKT0+ZS5ldmFsdWF0ZSh0KS5yZXNvbHZlZExvY2FsZSgpXX0pO3ZhciBNbj13bjtmdW5jdGlvbiB6bih0KXtyZXR1cm4ge3Jlc3VsdDpcInN1Y2Nlc3NcIix2YWx1ZTp0fX1mdW5jdGlvbiBUbih0KXtyZXR1cm4ge3Jlc3VsdDpcImVycm9yXCIsdmFsdWU6dH19ZnVuY3Rpb24gQm4odCl7cmV0dXJuIFwiZGF0YS1kcml2ZW5cIj09PXRbXCJwcm9wZXJ0eS10eXBlXCJdfHxcImNyb3NzLWZhZGVkLWRhdGEtZHJpdmVuXCI9PT10W1wicHJvcGVydHktdHlwZVwiXX1mdW5jdGlvbiBFbih0KXtyZXR1cm4gISF0LmV4cHJlc3Npb24mJnQuZXhwcmVzc2lvbi5wYXJhbWV0ZXJzLmluZGV4T2YoXCJ6b29tXCIpPi0xfWZ1bmN0aW9uIFBuKHQpe3JldHVybiAhIXQuZXhwcmVzc2lvbiYmdC5leHByZXNzaW9uLmludGVycG9sYXRlZH1mdW5jdGlvbiBDbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIE51bWJlcj9cIm51bWJlclwiOnQgaW5zdGFuY2VvZiBTdHJpbmc/XCJzdHJpbmdcIjp0IGluc3RhbmNlb2YgQm9vbGVhbj9cImJvb2xlYW5cIjpBcnJheS5pc0FycmF5KHQpP1wiYXJyYXlcIjpudWxsPT09dD9cIm51bGxcIjp0eXBlb2YgdH1mdW5jdGlvbiBEbih0KXtyZXR1cm4gXCJvYmplY3RcIj09dHlwZW9mIHQmJm51bGwhPT10JiYhQXJyYXkuaXNBcnJheSh0KX1mdW5jdGlvbiBWbih0KXtyZXR1cm4gdH1mdW5jdGlvbiBGbih0LGUpe2NvbnN0IHI9XCJjb2xvclwiPT09ZS50eXBlLG49dC5zdG9wcyYmXCJvYmplY3RcIj09dHlwZW9mIHQuc3RvcHNbMF1bMF0saT1ufHwhKG58fHZvaWQgMCE9PXQucHJvcGVydHkpLHM9dC50eXBlfHwoUG4oZSk/XCJleHBvbmVudGlhbFwiOlwiaW50ZXJ2YWxcIik7aWYociYmKCh0PVl0KHt9LHQpKS5zdG9wcyYmKHQuc3RvcHM9dC5zdG9wcy5tYXAoKHQ9Plt0WzBdLEllLnBhcnNlKHRbMV0pXSkpKSx0LmRlZmF1bHQ9SWUucGFyc2UodC5kZWZhdWx0P3QuZGVmYXVsdDplLmRlZmF1bHQpKSx0LmNvbG9yU3BhY2UmJlwicmdiXCIhPT10LmNvbG9yU3BhY2UmJiFOclt0LmNvbG9yU3BhY2VdKXRocm93IG5ldyBFcnJvcihgVW5rbm93biBjb2xvciBzcGFjZTogJHt0LmNvbG9yU3BhY2V9YCk7bGV0IGEsbyxsO2lmKFwiZXhwb25lbnRpYWxcIj09PXMpYT1qbjtlbHNlIGlmKFwiaW50ZXJ2YWxcIj09PXMpYT1VbjtlbHNlIGlmKFwiY2F0ZWdvcmljYWxcIj09PXMpe2E9Um4sbz1PYmplY3QuY3JlYXRlKG51bGwpO2Zvcihjb25zdCBlIG9mIHQuc3RvcHMpb1tlWzBdXT1lWzFdO2w9dHlwZW9mIHQuc3RvcHNbMF1bMF07fWVsc2Uge2lmKFwiaWRlbnRpdHlcIiE9PXMpdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIGZ1bmN0aW9uIHR5cGUgXCIke3N9XCJgKTthPSRuO31pZihuKXtjb25zdCByPXt9LG49W107Zm9yKGxldCBlPTA7ZTx0LnN0b3BzLmxlbmd0aDtlKyspe2NvbnN0IGk9dC5zdG9wc1tlXSxzPWlbMF0uem9vbTt2b2lkIDA9PT1yW3NdJiYocltzXT17em9vbTpzLHR5cGU6dC50eXBlLHByb3BlcnR5OnQucHJvcGVydHksZGVmYXVsdDp0LmRlZmF1bHQsc3RvcHM6W119LG4ucHVzaChzKSkscltzXS5zdG9wcy5wdXNoKFtpWzBdLnZhbHVlLGlbMV1dKTt9Y29uc3QgaT1bXTtmb3IoY29uc3QgdCBvZiBuKWkucHVzaChbclt0XS56b29tLEZuKHJbdF0sZSldKTtjb25zdCBzPXtuYW1lOlwibGluZWFyXCJ9O3JldHVybiB7a2luZDpcImNvbXBvc2l0ZVwiLGludGVycG9sYXRpb25UeXBlOnMsaW50ZXJwb2xhdGlvbkZhY3RvcjpYci5pbnRlcnBvbGF0aW9uRmFjdG9yLmJpbmQodm9pZCAwLHMpLHpvb21TdG9wczppLm1hcCgodD0+dFswXSkpLGV2YWx1YXRlOih7em9vbTpyfSxuKT0+am4oe3N0b3BzOmksYmFzZTp0LmJhc2V9LGUscikuZXZhbHVhdGUocixuKX19aWYoaSl7Y29uc3Qgcj1cImV4cG9uZW50aWFsXCI9PT1zP3tuYW1lOlwiZXhwb25lbnRpYWxcIixiYXNlOnZvaWQgMCE9PXQuYmFzZT90LmJhc2U6MX06bnVsbDtyZXR1cm4ge2tpbmQ6XCJjYW1lcmFcIixpbnRlcnBvbGF0aW9uVHlwZTpyLGludGVycG9sYXRpb25GYWN0b3I6WHIuaW50ZXJwb2xhdGlvbkZhY3Rvci5iaW5kKHZvaWQgMCxyKSx6b29tU3RvcHM6dC5zdG9wcy5tYXAoKHQ9PnRbMF0pKSxldmFsdWF0ZTooe3pvb206cn0pPT5hKHQsZSxyLG8sbCl9fXJldHVybiB7a2luZDpcInNvdXJjZVwiLGV2YWx1YXRlKHIsbil7Y29uc3QgaT1uJiZuLnByb3BlcnRpZXM/bi5wcm9wZXJ0aWVzW3QucHJvcGVydHldOnZvaWQgMDtyZXR1cm4gdm9pZCAwPT09aT9Mbih0LmRlZmF1bHQsZS5kZWZhdWx0KTphKHQsZSxpLG8sbCl9fX1mdW5jdGlvbiBMbih0LGUscil7cmV0dXJuIHZvaWQgMCE9PXQ/dDp2b2lkIDAhPT1lP2U6dm9pZCAwIT09cj9yOnZvaWQgMH1mdW5jdGlvbiBSbih0LGUscixuLGkpe3JldHVybiBMbih0eXBlb2Ygcj09PWk/bltyXTp2b2lkIDAsdC5kZWZhdWx0LGUuZGVmYXVsdCl9ZnVuY3Rpb24gVW4odCxlLHIpe2lmKFwibnVtYmVyXCIhPT1DbihyKSlyZXR1cm4gTG4odC5kZWZhdWx0LGUuZGVmYXVsdCk7Y29uc3Qgbj10LnN0b3BzLmxlbmd0aDtpZigxPT09bilyZXR1cm4gdC5zdG9wc1swXVsxXTtpZihyPD10LnN0b3BzWzBdWzBdKXJldHVybiB0LnN0b3BzWzBdWzFdO2lmKHI+PXQuc3RvcHNbbi0xXVswXSlyZXR1cm4gdC5zdG9wc1tuLTFdWzFdO2NvbnN0IGk9QXIodC5zdG9wcy5tYXAoKHQ9PnRbMF0pKSxyKTtyZXR1cm4gdC5zdG9wc1tpXVsxXX1mdW5jdGlvbiBqbih0LGUscil7Y29uc3Qgbj12b2lkIDAhPT10LmJhc2U/dC5iYXNlOjE7aWYoXCJudW1iZXJcIiE9PUNuKHIpKXJldHVybiBMbih0LmRlZmF1bHQsZS5kZWZhdWx0KTtjb25zdCBpPXQuc3RvcHMubGVuZ3RoO2lmKDE9PT1pKXJldHVybiB0LnN0b3BzWzBdWzFdO2lmKHI8PXQuc3RvcHNbMF1bMF0pcmV0dXJuIHQuc3RvcHNbMF1bMV07aWYocj49dC5zdG9wc1tpLTFdWzBdKXJldHVybiB0LnN0b3BzW2ktMV1bMV07Y29uc3Qgcz1Bcih0LnN0b3BzLm1hcCgodD0+dFswXSkpLHIpLGE9ZnVuY3Rpb24odCxlLHIsbil7Y29uc3QgaT1uLXIscz10LXI7cmV0dXJuIDA9PT1pPzA6MT09PWU/cy9pOihNYXRoLnBvdyhlLHMpLTEpLyhNYXRoLnBvdyhlLGkpLTEpfShyLG4sdC5zdG9wc1tzXVswXSx0LnN0b3BzW3MrMV1bMF0pLG89dC5zdG9wc1tzXVsxXSxsPXQuc3RvcHNbcysxXVsxXTtsZXQgdT1NcltlLnR5cGVdfHxWbjtpZih0LmNvbG9yU3BhY2UmJlwicmdiXCIhPT10LmNvbG9yU3BhY2Upe2NvbnN0IGU9TnJbdC5jb2xvclNwYWNlXTt1PSh0LHIpPT5lLnJldmVyc2UoZS5pbnRlcnBvbGF0ZShlLmZvcndhcmQodCksZS5mb3J3YXJkKHIpLGEpKTt9cmV0dXJuIFwiZnVuY3Rpb25cIj09dHlwZW9mIG8uZXZhbHVhdGU/e2V2YWx1YXRlKC4uLnQpe2NvbnN0IGU9by5ldmFsdWF0ZS5hcHBseSh2b2lkIDAsdCkscj1sLmV2YWx1YXRlLmFwcGx5KHZvaWQgMCx0KTtpZih2b2lkIDAhPT1lJiZ2b2lkIDAhPT1yKXJldHVybiB1KGUscixhKX19OnUobyxsLGEpfWZ1bmN0aW9uICRuKHQsZSxyKXtyZXR1cm4gXCJjb2xvclwiPT09ZS50eXBlP3I9SWUucGFyc2Uocik6XCJmb3JtYXR0ZWRcIj09PWUudHlwZT9yPVRlLmZyb21TdHJpbmcoci50b1N0cmluZygpKTpcInJlc29sdmVkSW1hZ2VcIj09PWUudHlwZT9yPUJlLmZyb21TdHJpbmcoci50b1N0cmluZygpKTpDbihyKT09PWUudHlwZXx8XCJlbnVtXCI9PT1lLnR5cGUmJmUudmFsdWVzW3JdfHwocj12b2lkIDApLExuKHIsdC5kZWZhdWx0LGUuZGVmYXVsdCl9Y2xhc3MgT257Y29uc3RydWN0b3IodCxlKXt0aGlzLmV4cHJlc3Npb249dCx0aGlzLl93YXJuaW5nSGlzdG9yeT17fSx0aGlzLl9ldmFsdWF0b3I9bmV3IFhlLHRoaXMuX2RlZmF1bHRWYWx1ZT1lP2Z1bmN0aW9uKHQpe3JldHVybiBcImNvbG9yXCI9PT10LnR5cGUmJihEbih0LmRlZmF1bHQpfHxBcnJheS5pc0FycmF5KHQuZGVmYXVsdCkpP25ldyBJZSgwLDAsMCwwKTpcImNvbG9yXCI9PT10LnR5cGU/SWUucGFyc2UodC5kZWZhdWx0KXx8bnVsbDp2b2lkIDA9PT10LmRlZmF1bHQ/bnVsbDp0LmRlZmF1bHR9KGUpOm51bGwsdGhpcy5fZW51bVZhbHVlcz1lJiZcImVudW1cIj09PWUudHlwZT9lLnZhbHVlczpudWxsO31ldmFsdWF0ZVdpdGhvdXRFcnJvckhhbmRsaW5nKHQsZSxyLG4saSxzLGEsbyl7cmV0dXJuIHRoaXMuX2V2YWx1YXRvci5nbG9iYWxzPXQsdGhpcy5fZXZhbHVhdG9yLmZlYXR1cmU9ZSx0aGlzLl9ldmFsdWF0b3IuZmVhdHVyZVN0YXRlPXIsdGhpcy5fZXZhbHVhdG9yLmNhbm9uaWNhbD1ufHxudWxsLHRoaXMuX2V2YWx1YXRvci5hdmFpbGFibGVJbWFnZXM9aXx8bnVsbCx0aGlzLl9ldmFsdWF0b3IuZm9ybWF0dGVkU2VjdGlvbj1zLHRoaXMuX2V2YWx1YXRvci5mZWF0dXJlVGlsZUNvb3JkPWF8fG51bGwsdGhpcy5fZXZhbHVhdG9yLmZlYXR1cmVEaXN0YW5jZURhdGE9b3x8bnVsbCx0aGlzLmV4cHJlc3Npb24uZXZhbHVhdGUodGhpcy5fZXZhbHVhdG9yKX1ldmFsdWF0ZSh0LGUscixuLGkscyxhLG8pe3RoaXMuX2V2YWx1YXRvci5nbG9iYWxzPXQsdGhpcy5fZXZhbHVhdG9yLmZlYXR1cmU9ZXx8bnVsbCx0aGlzLl9ldmFsdWF0b3IuZmVhdHVyZVN0YXRlPXJ8fG51bGwsdGhpcy5fZXZhbHVhdG9yLmNhbm9uaWNhbD1ufHxudWxsLHRoaXMuX2V2YWx1YXRvci5hdmFpbGFibGVJbWFnZXM9aXx8bnVsbCx0aGlzLl9ldmFsdWF0b3IuZm9ybWF0dGVkU2VjdGlvbj1zfHxudWxsLHRoaXMuX2V2YWx1YXRvci5mZWF0dXJlVGlsZUNvb3JkPWF8fG51bGwsdGhpcy5fZXZhbHVhdG9yLmZlYXR1cmVEaXN0YW5jZURhdGE9b3x8bnVsbDt0cnl7Y29uc3QgdD10aGlzLmV4cHJlc3Npb24uZXZhbHVhdGUodGhpcy5fZXZhbHVhdG9yKTtpZihudWxsPT10fHxcIm51bWJlclwiPT10eXBlb2YgdCYmdCE9dClyZXR1cm4gdGhpcy5fZGVmYXVsdFZhbHVlO2lmKHRoaXMuX2VudW1WYWx1ZXMmJiEodCBpbiB0aGlzLl9lbnVtVmFsdWVzKSl0aHJvdyBuZXcgTGUoYEV4cGVjdGVkIHZhbHVlIHRvIGJlIG9uZSBvZiAke09iamVjdC5rZXlzKHRoaXMuX2VudW1WYWx1ZXMpLm1hcCgodD0+SlNPTi5zdHJpbmdpZnkodCkpKS5qb2luKFwiLCBcIil9LCBidXQgZm91bmQgJHtKU09OLnN0cmluZ2lmeSh0KX0gaW5zdGVhZC5gKTtyZXR1cm4gdH1jYXRjaCh0KXtyZXR1cm4gdGhpcy5fd2FybmluZ0hpc3RvcnlbdC5tZXNzYWdlXXx8KHRoaXMuX3dhcm5pbmdIaXN0b3J5W3QubWVzc2FnZV09ITAsXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGNvbnNvbGUmJmNvbnNvbGUud2Fybih0Lm1lc3NhZ2UpKSx0aGlzLl9kZWZhdWx0VmFsdWV9fX1mdW5jdGlvbiBxbih0KXtyZXR1cm4gQXJyYXkuaXNBcnJheSh0KSYmdC5sZW5ndGg+MCYmXCJzdHJpbmdcIj09dHlwZW9mIHRbMF0mJnRbMF1pbiBNbn1mdW5jdGlvbiBObih0LGUpe2NvbnN0IHI9bmV3IF9yKE1uLFtdLGU/ZnVuY3Rpb24odCl7Y29uc3QgZT17Y29sb3I6b2Usc3RyaW5nOnNlLG51bWJlcjppZSxlbnVtOnNlLGJvb2xlYW46YWUsZm9ybWF0dGVkOmhlLHJlc29sdmVkSW1hZ2U6cGV9O3JldHVybiBcImFycmF5XCI9PT10LnR5cGU/ZmUoZVt0LnZhbHVlXXx8dWUsdC5sZW5ndGgpOmVbdC50eXBlXX0oZSk6dm9pZCAwKSxuPXIucGFyc2UodCx2b2lkIDAsdm9pZCAwLHZvaWQgMCxlJiZcInN0cmluZ1wiPT09ZS50eXBlP3t0eXBlQW5ub3RhdGlvbjpcImNvZXJjZVwifTp2b2lkIDApO3JldHVybiBuP3puKG5ldyBPbihuLGUpKTpUbihyLmVycm9ycyl9Y2xhc3MgR257Y29uc3RydWN0b3IodCxlKXt0aGlzLmtpbmQ9dCx0aGlzLl9zdHlsZUV4cHJlc3Npb249ZSx0aGlzLmlzU3RhdGVEZXBlbmRlbnQ9XCJjb25zdGFudFwiIT09dCYmIW1yKGUuZXhwcmVzc2lvbik7fWV2YWx1YXRlV2l0aG91dEVycm9ySGFuZGxpbmcodCxlLHIsbixpLHMpe3JldHVybiB0aGlzLl9zdHlsZUV4cHJlc3Npb24uZXZhbHVhdGVXaXRob3V0RXJyb3JIYW5kbGluZyh0LGUscixuLGkscyl9ZXZhbHVhdGUodCxlLHIsbixpLHMpe3JldHVybiB0aGlzLl9zdHlsZUV4cHJlc3Npb24uZXZhbHVhdGUodCxlLHIsbixpLHMpfX1jbGFzcyBabntjb25zdHJ1Y3Rvcih0LGUscixuKXt0aGlzLmtpbmQ9dCx0aGlzLnpvb21TdG9wcz1yLHRoaXMuX3N0eWxlRXhwcmVzc2lvbj1lLHRoaXMuaXNTdGF0ZURlcGVuZGVudD1cImNhbWVyYVwiIT09dCYmIW1yKGUuZXhwcmVzc2lvbiksdGhpcy5pbnRlcnBvbGF0aW9uVHlwZT1uO31ldmFsdWF0ZVdpdGhvdXRFcnJvckhhbmRsaW5nKHQsZSxyLG4saSxzKXtyZXR1cm4gdGhpcy5fc3R5bGVFeHByZXNzaW9uLmV2YWx1YXRlV2l0aG91dEVycm9ySGFuZGxpbmcodCxlLHIsbixpLHMpfWV2YWx1YXRlKHQsZSxyLG4saSxzKXtyZXR1cm4gdGhpcy5fc3R5bGVFeHByZXNzaW9uLmV2YWx1YXRlKHQsZSxyLG4saSxzKX1pbnRlcnBvbGF0aW9uRmFjdG9yKHQsZSxyKXtyZXR1cm4gdGhpcy5pbnRlcnBvbGF0aW9uVHlwZT9Yci5pbnRlcnBvbGF0aW9uRmFjdG9yKHRoaXMuaW50ZXJwb2xhdGlvblR5cGUsdCxlLHIpOjB9fWZ1bmN0aW9uIFhuKHQsZSl7aWYoXCJlcnJvclwiPT09KHQ9Tm4odCxlKSkucmVzdWx0KXJldHVybiB0O2NvbnN0IHI9dC52YWx1ZS5leHByZXNzaW9uLG49eXIocik7aWYoIW4mJiFCbihlKSlyZXR1cm4gVG4oW25ldyB0ZShcIlwiLFwiZGF0YSBleHByZXNzaW9ucyBub3Qgc3VwcG9ydGVkXCIpXSk7Y29uc3QgaT1ncihyLFtcInpvb21cIixcInBpdGNoXCIsXCJkaXN0YW5jZS1mcm9tLWNlbnRlclwiXSk7aWYoIWkmJiFFbihlKSlyZXR1cm4gVG4oW25ldyB0ZShcIlwiLFwiem9vbSBleHByZXNzaW9ucyBub3Qgc3VwcG9ydGVkXCIpXSk7Y29uc3Qgcz1IbihyKTtyZXR1cm4gc3x8aT9zIGluc3RhbmNlb2YgdGU/VG4oW3NdKTpzIGluc3RhbmNlb2YgWHImJiFQbihlKT9UbihbbmV3IHRlKFwiXCIsJ1wiaW50ZXJwb2xhdGVcIiBleHByZXNzaW9ucyBjYW5ub3QgYmUgdXNlZCB3aXRoIHRoaXMgcHJvcGVydHknKV0pOnpuKHM/bmV3IFpuKG4/XCJjYW1lcmFcIjpcImNvbXBvc2l0ZVwiLHQudmFsdWUscy5sYWJlbHMscyBpbnN0YW5jZW9mIFhyP3MuaW50ZXJwb2xhdGlvbjp2b2lkIDApOm5ldyBHbihuP1wiY29uc3RhbnRcIjpcInNvdXJjZVwiLHQudmFsdWUpKTpUbihbbmV3IHRlKFwiXCIsJ1wiem9vbVwiIGV4cHJlc3Npb24gbWF5IG9ubHkgYmUgdXNlZCBhcyBpbnB1dCB0byBhIHRvcC1sZXZlbCBcInN0ZXBcIiBvciBcImludGVycG9sYXRlXCIgZXhwcmVzc2lvbi4nKV0pfWNsYXNzIEtue2NvbnN0cnVjdG9yKHQsZSl7dGhpcy5fcGFyYW1ldGVycz10LHRoaXMuX3NwZWNpZmljYXRpb249ZSxZdCh0aGlzLEZuKHRoaXMuX3BhcmFtZXRlcnMsdGhpcy5fc3BlY2lmaWNhdGlvbikpO31zdGF0aWMgZGVzZXJpYWxpemUodCl7cmV0dXJuIG5ldyBLbih0Ll9wYXJhbWV0ZXJzLHQuX3NwZWNpZmljYXRpb24pfXN0YXRpYyBzZXJpYWxpemUodCl7cmV0dXJuIHtfcGFyYW1ldGVyczp0Ll9wYXJhbWV0ZXJzLF9zcGVjaWZpY2F0aW9uOnQuX3NwZWNpZmljYXRpb259fX1mdW5jdGlvbiBIbih0KXtsZXQgZT1udWxsO2lmKHQgaW5zdGFuY2VvZiBXcillPUhuKHQucmVzdWx0KTtlbHNlIGlmKHQgaW5zdGFuY2VvZiBIcil7Zm9yKGNvbnN0IHIgb2YgdC5hcmdzKWlmKGU9SG4ociksZSlicmVha31lbHNlICh0IGluc3RhbmNlb2Yga3J8fHQgaW5zdGFuY2VvZiBYcikmJnQuaW5wdXQgaW5zdGFuY2VvZiBIZSYmXCJ6b29tXCI9PT10LmlucHV0Lm5hbWUmJihlPXQpO3JldHVybiBlIGluc3RhbmNlb2YgdGV8fHQuZWFjaENoaWxkKCh0PT57Y29uc3Qgcj1Ibih0KTtyIGluc3RhbmNlb2YgdGU/ZT1yOiFlJiZyP2U9bmV3IHRlKFwiXCIsJ1wiem9vbVwiIGV4cHJlc3Npb24gbWF5IG9ubHkgYmUgdXNlZCBhcyBpbnB1dCB0byBhIHRvcC1sZXZlbCBcInN0ZXBcIiBvciBcImludGVycG9sYXRlXCIgZXhwcmVzc2lvbi4nKTplJiZyJiZlIT09ciYmKGU9bmV3IHRlKFwiXCIsJ09ubHkgb25lIHpvb20tYmFzZWQgXCJzdGVwXCIgb3IgXCJpbnRlcnBvbGF0ZVwiIHN1YmV4cHJlc3Npb24gbWF5IGJlIHVzZWQgaW4gYW4gZXhwcmVzc2lvbi4nKSk7fSkpLGV9Y2xhc3MgWW57Y29uc3RydWN0b3IodCxlLHIsbil7dGhpcy5tZXNzYWdlPSh0P2Ake3R9OiBgOlwiXCIpK3IsbiYmKHRoaXMuaWRlbnRpZmllcj1uKSxudWxsIT1lJiZlLl9fbGluZV9fJiYodGhpcy5saW5lPWUuX19saW5lX18pO319ZnVuY3Rpb24gV24odCl7Y29uc3QgZT10LmtleSxyPXQudmFsdWUsbj10LnZhbHVlU3BlY3x8e30saT10Lm9iamVjdEVsZW1lbnRWYWxpZGF0b3JzfHx7fSxzPXQuc3R5bGUsYT10LnN0eWxlU3BlYztsZXQgbz1bXTtjb25zdCBsPUNuKHIpO2lmKFwib2JqZWN0XCIhPT1sKXJldHVybiBbbmV3IFluKGUscixgb2JqZWN0IGV4cGVjdGVkLCAke2x9IGZvdW5kYCldO2Zvcihjb25zdCB0IGluIHIpe2NvbnN0IGw9dC5zcGxpdChcIi5cIilbMF0sdT1uW2xdfHxuW1wiKlwiXTtsZXQgYztpW2xdP2M9aVtsXTpuW2xdP2M9Qmk6aVtcIipcIl0/Yz1pW1wiKlwiXTpuW1wiKlwiXSYmKGM9QmkpLGM/bz1vLmNvbmNhdChjKHtrZXk6KGU/YCR7ZX0uYDplKSt0LHZhbHVlOnJbdF0sdmFsdWVTcGVjOnUsc3R5bGU6cyxzdHlsZVNwZWM6YSxvYmplY3Q6cixvYmplY3RLZXk6dH0scikpOm8ucHVzaChuZXcgWW4oZSxyW3RdLGB1bmtub3duIHByb3BlcnR5IFwiJHt0fVwiYCkpO31mb3IoY29uc3QgdCBpbiBuKWlbdF18fG5bdF0ucmVxdWlyZWQmJnZvaWQgMD09PW5bdF0uZGVmYXVsdCYmdm9pZCAwPT09clt0XSYmby5wdXNoKG5ldyBZbihlLHIsYG1pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgXCIke3R9XCJgKSk7cmV0dXJuIG99ZnVuY3Rpb24gSm4odCl7Y29uc3QgZT10LnZhbHVlLHI9dC52YWx1ZVNwZWMsbj10LnN0eWxlLGk9dC5zdHlsZVNwZWMscz10LmtleSxhPXQuYXJyYXlFbGVtZW50VmFsaWRhdG9yfHxCaTtpZihcImFycmF5XCIhPT1DbihlKSlyZXR1cm4gW25ldyBZbihzLGUsYGFycmF5IGV4cGVjdGVkLCAke0NuKGUpfSBmb3VuZGApXTtpZihyLmxlbmd0aCYmZS5sZW5ndGghPT1yLmxlbmd0aClyZXR1cm4gW25ldyBZbihzLGUsYGFycmF5IGxlbmd0aCAke3IubGVuZ3RofSBleHBlY3RlZCwgbGVuZ3RoICR7ZS5sZW5ndGh9IGZvdW5kYCldO2lmKHJbXCJtaW4tbGVuZ3RoXCJdJiZlLmxlbmd0aDxyW1wibWluLWxlbmd0aFwiXSlyZXR1cm4gW25ldyBZbihzLGUsYGFycmF5IGxlbmd0aCBhdCBsZWFzdCAke3JbXCJtaW4tbGVuZ3RoXCJdfSBleHBlY3RlZCwgbGVuZ3RoICR7ZS5sZW5ndGh9IGZvdW5kYCldO2xldCBvPXt0eXBlOnIudmFsdWUsdmFsdWVzOnIudmFsdWVzLG1pbmltdW06ci5taW5pbXVtLG1heGltdW06ci5tYXhpbXVtLGZ1bmN0aW9uOnZvaWQgMH07aS4kdmVyc2lvbjw3JiYoby5mdW5jdGlvbj1yLmZ1bmN0aW9uKSxcIm9iamVjdFwiPT09Q24oci52YWx1ZSkmJihvPXIudmFsdWUpO2xldCBsPVtdO2ZvcihsZXQgdD0wO3Q8ZS5sZW5ndGg7dCsrKWw9bC5jb25jYXQoYSh7YXJyYXk6ZSxhcnJheUluZGV4OnQsdmFsdWU6ZVt0XSx2YWx1ZVNwZWM6byxzdHlsZTpuLHN0eWxlU3BlYzppLGtleTpgJHtzfVske3R9XWB9KSk7cmV0dXJuIGx9ZnVuY3Rpb24gUW4odCl7Y29uc3QgZT10LmtleSxyPXQudmFsdWUsbj10LnZhbHVlU3BlYztsZXQgaT1DbihyKTtpZihcIm51bWJlclwiPT09aSYmciE9ciYmKGk9XCJOYU5cIiksXCJudW1iZXJcIiE9PWkpcmV0dXJuIFtuZXcgWW4oZSxyLGBudW1iZXIgZXhwZWN0ZWQsICR7aX0gZm91bmRgKV07aWYoXCJtaW5pbXVtXCJpbiBuKXtsZXQgaT1uLm1pbmltdW07aWYoXCJhcnJheVwiPT09Q24obi5taW5pbXVtKSYmKGk9bi5taW5pbXVtW3QuYXJyYXlJbmRleF0pLHI8aSlyZXR1cm4gW25ldyBZbihlLHIsYCR7cn0gaXMgbGVzcyB0aGFuIHRoZSBtaW5pbXVtIHZhbHVlICR7aX1gKV19aWYoXCJtYXhpbXVtXCJpbiBuKXtsZXQgaT1uLm1heGltdW07aWYoXCJhcnJheVwiPT09Q24obi5tYXhpbXVtKSYmKGk9bi5tYXhpbXVtW3QuYXJyYXlJbmRleF0pLHI+aSlyZXR1cm4gW25ldyBZbihlLHIsYCR7cn0gaXMgZ3JlYXRlciB0aGFuIHRoZSBtYXhpbXVtIHZhbHVlICR7aX1gKV19cmV0dXJuIFtdfWZ1bmN0aW9uIHRpKHQpe2NvbnN0IGU9dC52YWx1ZVNwZWMscj1XdCh0LnZhbHVlLnR5cGUpO2xldCBuLGkscyxhPXt9O2NvbnN0IG89XCJjYXRlZ29yaWNhbFwiIT09ciYmdm9pZCAwPT09dC52YWx1ZS5wcm9wZXJ0eSxsPSFvLHU9XCJhcnJheVwiPT09Q24odC52YWx1ZS5zdG9wcykmJlwiYXJyYXlcIj09PUNuKHQudmFsdWUuc3RvcHNbMF0pJiZcIm9iamVjdFwiPT09Q24odC52YWx1ZS5zdG9wc1swXVswXSksYz1Xbih7a2V5OnQua2V5LHZhbHVlOnQudmFsdWUsdmFsdWVTcGVjOnQuc3R5bGVTcGVjLmZ1bmN0aW9uLHN0eWxlOnQuc3R5bGUsc3R5bGVTcGVjOnQuc3R5bGVTcGVjLG9iamVjdEVsZW1lbnRWYWxpZGF0b3JzOntzdG9wczpmdW5jdGlvbih0KXtpZihcImlkZW50aXR5XCI9PT1yKXJldHVybiBbbmV3IFluKHQua2V5LHQudmFsdWUsJ2lkZW50aXR5IGZ1bmN0aW9uIG1heSBub3QgaGF2ZSBhIFwic3RvcHNcIiBwcm9wZXJ0eScpXTtsZXQgZT1bXTtjb25zdCBuPXQudmFsdWU7cmV0dXJuIGU9ZS5jb25jYXQoSm4oe2tleTp0LmtleSx2YWx1ZTpuLHZhbHVlU3BlYzp0LnZhbHVlU3BlYyxzdHlsZTp0LnN0eWxlLHN0eWxlU3BlYzp0LnN0eWxlU3BlYyxhcnJheUVsZW1lbnRWYWxpZGF0b3I6aH0pKSxcImFycmF5XCI9PT1DbihuKSYmMD09PW4ubGVuZ3RoJiZlLnB1c2gobmV3IFluKHQua2V5LG4sXCJhcnJheSBtdXN0IGhhdmUgYXQgbGVhc3Qgb25lIHN0b3BcIikpLGV9LGRlZmF1bHQ6ZnVuY3Rpb24odCl7cmV0dXJuIEJpKHtrZXk6dC5rZXksdmFsdWU6dC52YWx1ZSx2YWx1ZVNwZWM6ZSxzdHlsZTp0LnN0eWxlLHN0eWxlU3BlYzp0LnN0eWxlU3BlY30pfX19KTtyZXR1cm4gXCJpZGVudGl0eVwiPT09ciYmbyYmYy5wdXNoKG5ldyBZbih0LmtleSx0LnZhbHVlLCdtaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IFwicHJvcGVydHlcIicpKSxcImlkZW50aXR5XCI9PT1yfHx0LnZhbHVlLnN0b3BzfHxjLnB1c2gobmV3IFluKHQua2V5LHQudmFsdWUsJ21pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgXCJzdG9wc1wiJykpLFwiZXhwb25lbnRpYWxcIj09PXImJnQudmFsdWVTcGVjLmV4cHJlc3Npb24mJiFQbih0LnZhbHVlU3BlYykmJmMucHVzaChuZXcgWW4odC5rZXksdC52YWx1ZSxcImV4cG9uZW50aWFsIGZ1bmN0aW9ucyBub3Qgc3VwcG9ydGVkXCIpKSx0LnN0eWxlU3BlYy4kdmVyc2lvbj49OCYmKGwmJiFCbih0LnZhbHVlU3BlYyk/Yy5wdXNoKG5ldyBZbih0LmtleSx0LnZhbHVlLFwicHJvcGVydHkgZnVuY3Rpb25zIG5vdCBzdXBwb3J0ZWRcIikpOm8mJiFFbih0LnZhbHVlU3BlYykmJmMucHVzaChuZXcgWW4odC5rZXksdC52YWx1ZSxcInpvb20gZnVuY3Rpb25zIG5vdCBzdXBwb3J0ZWRcIikpKSxcImNhdGVnb3JpY2FsXCIhPT1yJiYhdXx8dm9pZCAwIT09dC52YWx1ZS5wcm9wZXJ0eXx8Yy5wdXNoKG5ldyBZbih0LmtleSx0LnZhbHVlLCdcInByb3BlcnR5XCIgcHJvcGVydHkgaXMgcmVxdWlyZWQnKSksYztmdW5jdGlvbiBoKHQpe2xldCByPVtdO2NvbnN0IG49dC52YWx1ZSxvPXQua2V5O2lmKFwiYXJyYXlcIiE9PUNuKG4pKXJldHVybiBbbmV3IFluKG8sbixgYXJyYXkgZXhwZWN0ZWQsICR7Q24obil9IGZvdW5kYCldO2lmKDIhPT1uLmxlbmd0aClyZXR1cm4gW25ldyBZbihvLG4sYGFycmF5IGxlbmd0aCAyIGV4cGVjdGVkLCBsZW5ndGggJHtuLmxlbmd0aH0gZm91bmRgKV07aWYodSl7aWYoXCJvYmplY3RcIiE9PUNuKG5bMF0pKXJldHVybiBbbmV3IFluKG8sbixgb2JqZWN0IGV4cGVjdGVkLCAke0NuKG5bMF0pfSBmb3VuZGApXTtpZih2b2lkIDA9PT1uWzBdLnpvb20pcmV0dXJuIFtuZXcgWW4obyxuLFwib2JqZWN0IHN0b3Aga2V5IG11c3QgaGF2ZSB6b29tXCIpXTtpZih2b2lkIDA9PT1uWzBdLnZhbHVlKXJldHVybiBbbmV3IFluKG8sbixcIm9iamVjdCBzdG9wIGtleSBtdXN0IGhhdmUgdmFsdWVcIildO2NvbnN0IGU9V3QoblswXS56b29tKTtpZihcIm51bWJlclwiIT10eXBlb2YgZSlyZXR1cm4gW25ldyBZbihvLG5bMF0uem9vbSxcInN0b3Agem9vbSB2YWx1ZXMgbXVzdCBiZSBudW1iZXJzXCIpXTtpZihzJiZzPmUpcmV0dXJuIFtuZXcgWW4obyxuWzBdLnpvb20sXCJzdG9wIHpvb20gdmFsdWVzIG11c3QgYXBwZWFyIGluIGFzY2VuZGluZyBvcmRlclwiKV07ZSE9PXMmJihzPWUsaT12b2lkIDAsYT17fSkscj1yLmNvbmNhdChXbih7a2V5OmAke299WzBdYCx2YWx1ZTpuWzBdLHZhbHVlU3BlYzp7em9vbTp7fX0sc3R5bGU6dC5zdHlsZSxzdHlsZVNwZWM6dC5zdHlsZVNwZWMsb2JqZWN0RWxlbWVudFZhbGlkYXRvcnM6e3pvb206UW4sdmFsdWU6cH19KSk7fWVsc2Ugcj1yLmNvbmNhdChwKHtrZXk6YCR7b31bMF1gLHZhbHVlOm5bMF0sdmFsdWVTcGVjOnt9LHN0eWxlOnQuc3R5bGUsc3R5bGVTcGVjOnQuc3R5bGVTcGVjfSxuKSk7cmV0dXJuIHFuKEp0KG5bMV0pKT9yLmNvbmNhdChbbmV3IFluKGAke299WzFdYCxuWzFdLFwiZXhwcmVzc2lvbnMgYXJlIG5vdCBhbGxvd2VkIGluIGZ1bmN0aW9uIHN0b3BzLlwiKV0pOnIuY29uY2F0KEJpKHtrZXk6YCR7b31bMV1gLHZhbHVlOm5bMV0sdmFsdWVTcGVjOmUsc3R5bGU6dC5zdHlsZSxzdHlsZVNwZWM6dC5zdHlsZVNwZWN9KSl9ZnVuY3Rpb24gcCh0LHMpe2NvbnN0IG89Q24odC52YWx1ZSksbD1XdCh0LnZhbHVlKSx1PW51bGwhPT10LnZhbHVlP3QudmFsdWU6cztpZihuKXtpZihvIT09bilyZXR1cm4gW25ldyBZbih0LmtleSx1LGAke299IHN0b3AgZG9tYWluIHR5cGUgbXVzdCBtYXRjaCBwcmV2aW91cyBzdG9wIGRvbWFpbiB0eXBlICR7bn1gKV19ZWxzZSBuPW87aWYoXCJudW1iZXJcIiE9PW8mJlwic3RyaW5nXCIhPT1vJiZcImJvb2xlYW5cIiE9PW8mJlwibnVtYmVyXCIhPXR5cGVvZiBsJiZcInN0cmluZ1wiIT10eXBlb2YgbCYmXCJib29sZWFuXCIhPXR5cGVvZiBsKXJldHVybiBbbmV3IFluKHQua2V5LHUsXCJzdG9wIGRvbWFpbiB2YWx1ZSBtdXN0IGJlIGEgbnVtYmVyLCBzdHJpbmcsIG9yIGJvb2xlYW5cIildO2lmKFwibnVtYmVyXCIhPT1vJiZcImNhdGVnb3JpY2FsXCIhPT1yKXtsZXQgbj1gbnVtYmVyIGV4cGVjdGVkLCAke299IGZvdW5kYDtyZXR1cm4gQm4oZSkmJnZvaWQgMD09PXImJihuKz0nXFxuSWYgeW91IGludGVuZGVkIHRvIHVzZSBhIGNhdGVnb3JpY2FsIGZ1bmN0aW9uLCBzcGVjaWZ5IGBcInR5cGVcIjogXCJjYXRlZ29yaWNhbFwiYC4nKSxbbmV3IFluKHQua2V5LHUsbildfXJldHVybiBcImNhdGVnb3JpY2FsXCIhPT1yfHxcIm51bWJlclwiIT09b3x8XCJudW1iZXJcIj09dHlwZW9mIGwmJmlzRmluaXRlKGwpJiZNYXRoLmZsb29yKGwpPT09bD9cImNhdGVnb3JpY2FsXCIhPT1yJiZcIm51bWJlclwiPT09byYmXCJudW1iZXJcIj09dHlwZW9mIGwmJlwibnVtYmVyXCI9PXR5cGVvZiBpJiZ2b2lkIDAhPT1pJiZsPGk/W25ldyBZbih0LmtleSx1LFwic3RvcCBkb21haW4gdmFsdWVzIG11c3QgYXBwZWFyIGluIGFzY2VuZGluZyBvcmRlclwiKV06KGk9bCxcImNhdGVnb3JpY2FsXCI9PT1yJiZsIGluIGE/W25ldyBZbih0LmtleSx1LFwic3RvcCBkb21haW4gdmFsdWVzIG11c3QgYmUgdW5pcXVlXCIpXTooYVtsXT0hMCxbXSkpOltuZXcgWW4odC5rZXksdSxgaW50ZWdlciBleHBlY3RlZCwgZm91bmQgJHtTdHJpbmcobCl9YCldfX1mdW5jdGlvbiBlaSh0KXtjb25zdCBlPShcInByb3BlcnR5XCI9PT10LmV4cHJlc3Npb25Db250ZXh0P1huOk5uKShKdCh0LnZhbHVlKSx0LnZhbHVlU3BlYyk7aWYoXCJlcnJvclwiPT09ZS5yZXN1bHQpcmV0dXJuIGUudmFsdWUubWFwKChlPT5uZXcgWW4oYCR7dC5rZXl9JHtlLmtleX1gLHQudmFsdWUsZS5tZXNzYWdlKSkpO2NvbnN0IHI9ZS52YWx1ZS5leHByZXNzaW9ufHxlLnZhbHVlLl9zdHlsZUV4cHJlc3Npb24uZXhwcmVzc2lvbjtpZihcInByb3BlcnR5XCI9PT10LmV4cHJlc3Npb25Db250ZXh0JiZcInRleHQtZm9udFwiPT09dC5wcm9wZXJ0eUtleSYmIXIub3V0cHV0RGVmaW5lZCgpKXJldHVybiBbbmV3IFluKHQua2V5LHQudmFsdWUsYEludmFsaWQgZGF0YSBleHByZXNzaW9uIGZvciBcIiR7dC5wcm9wZXJ0eUtleX1cIi4gT3V0cHV0IHZhbHVlcyBtdXN0IGJlIGNvbnRhaW5lZCBhcyBsaXRlcmFscyB3aXRoaW4gdGhlIGV4cHJlc3Npb24uYCldO2lmKFwicHJvcGVydHlcIj09PXQuZXhwcmVzc2lvbkNvbnRleHQmJlwibGF5b3V0XCI9PT10LnByb3BlcnR5VHlwZSYmIW1yKHIpKXJldHVybiBbbmV3IFluKHQua2V5LHQudmFsdWUsJ1wiZmVhdHVyZS1zdGF0ZVwiIGRhdGEgZXhwcmVzc2lvbnMgYXJlIG5vdCBzdXBwb3J0ZWQgd2l0aCBsYXlvdXQgcHJvcGVydGllcy4nKV07aWYoXCJmaWx0ZXJcIj09PXQuZXhwcmVzc2lvbkNvbnRleHQpcmV0dXJuIHJpKHIsdCk7aWYodC5leHByZXNzaW9uQ29udGV4dCYmMD09PXQuZXhwcmVzc2lvbkNvbnRleHQuaW5kZXhPZihcImNsdXN0ZXJcIikpe2lmKCFncihyLFtcInpvb21cIixcImZlYXR1cmUtc3RhdGVcIl0pKXJldHVybiBbbmV3IFluKHQua2V5LHQudmFsdWUsJ1wiem9vbVwiIGFuZCBcImZlYXR1cmUtc3RhdGVcIiBleHByZXNzaW9ucyBhcmUgbm90IHN1cHBvcnRlZCB3aXRoIGNsdXN0ZXIgcHJvcGVydGllcy4nKV07aWYoXCJjbHVzdGVyLWluaXRpYWxcIj09PXQuZXhwcmVzc2lvbkNvbnRleHQmJiF5cihyKSlyZXR1cm4gW25ldyBZbih0LmtleSx0LnZhbHVlLFwiRmVhdHVyZSBkYXRhIGV4cHJlc3Npb25zIGFyZSBub3Qgc3VwcG9ydGVkIHdpdGggaW5pdGlhbCBleHByZXNzaW9uIHBhcnQgb2YgY2x1c3RlciBwcm9wZXJ0aWVzLlwiKV19cmV0dXJuIFtdfWZ1bmN0aW9uIHJpKHQsZSl7Y29uc3Qgcj1uZXcgU2V0KFtcInpvb21cIixcImZlYXR1cmUtc3RhdGVcIixcInBpdGNoXCIsXCJkaXN0YW5jZS1mcm9tLWNlbnRlclwiXSk7aWYoZS52YWx1ZVNwZWMmJmUudmFsdWVTcGVjLmV4cHJlc3Npb24pZm9yKGNvbnN0IHQgb2YgZS52YWx1ZVNwZWMuZXhwcmVzc2lvbi5wYXJhbWV0ZXJzKXIuZGVsZXRlKHQpO2lmKDA9PT1yLnNpemUpcmV0dXJuIFtdO2NvbnN0IG49W107cmV0dXJuIHQgaW5zdGFuY2VvZiBIZSYmci5oYXModC5uYW1lKT9bbmV3IFluKGUua2V5LGUudmFsdWUsYFtcIiR7dC5uYW1lfVwiXSBleHByZXNzaW9uIGlzIG5vdCBzdXBwb3J0ZWQgaW4gYSBmaWx0ZXIgZm9yIGEgJHtlLm9iamVjdC50eXBlfSBsYXllciB3aXRoIGlkOiAke2Uub2JqZWN0LmlkfWApXToodC5lYWNoQ2hpbGQoKHQ9PntuLnB1c2goLi4ucmkodCxlKSk7fSkpLG4pfWZ1bmN0aW9uIG5pKHQpe2NvbnN0IGU9dC5rZXkscj10LnZhbHVlLG49dC52YWx1ZVNwZWMsaT1bXTtyZXR1cm4gQXJyYXkuaXNBcnJheShuLnZhbHVlcyk/LTE9PT1uLnZhbHVlcy5pbmRleE9mKFd0KHIpKSYmaS5wdXNoKG5ldyBZbihlLHIsYGV4cGVjdGVkIG9uZSBvZiBbJHtuLnZhbHVlcy5qb2luKFwiLCBcIil9XSwgJHtKU09OLnN0cmluZ2lmeShyKX0gZm91bmRgKSk6LTE9PT1PYmplY3Qua2V5cyhuLnZhbHVlcykuaW5kZXhPZihXdChyKSkmJmkucHVzaChuZXcgWW4oZSxyLGBleHBlY3RlZCBvbmUgb2YgWyR7T2JqZWN0LmtleXMobi52YWx1ZXMpLmpvaW4oXCIsIFwiKX1dLCAke0pTT04uc3RyaW5naWZ5KHIpfSBmb3VuZGApKSxpfWZ1bmN0aW9uIGlpKHQpe2lmKCEwPT09dHx8ITE9PT10KXJldHVybiAhMDtpZighQXJyYXkuaXNBcnJheSh0KXx8MD09PXQubGVuZ3RoKXJldHVybiAhMTtzd2l0Y2godFswXSl7Y2FzZVwiaGFzXCI6cmV0dXJuIHQubGVuZ3RoPj0yJiZcIiRpZFwiIT09dFsxXSYmXCIkdHlwZVwiIT09dFsxXTtjYXNlXCJpblwiOnJldHVybiB0Lmxlbmd0aD49MyYmKFwic3RyaW5nXCIhPXR5cGVvZiB0WzFdfHxBcnJheS5pc0FycmF5KHRbMl0pKTtjYXNlXCIhaW5cIjpjYXNlXCIhaGFzXCI6Y2FzZVwibm9uZVwiOnJldHVybiAhMTtjYXNlXCI9PVwiOmNhc2VcIiE9XCI6Y2FzZVwiPlwiOmNhc2VcIj49XCI6Y2FzZVwiPFwiOmNhc2VcIjw9XCI6cmV0dXJuIDMhPT10Lmxlbmd0aHx8QXJyYXkuaXNBcnJheSh0WzFdKXx8QXJyYXkuaXNBcnJheSh0WzJdKTtjYXNlXCJhbnlcIjpjYXNlXCJhbGxcIjpmb3IoY29uc3QgZSBvZiB0LnNsaWNlKDEpKWlmKCFpaShlKSYmXCJib29sZWFuXCIhPXR5cGVvZiBlKXJldHVybiAhMTtyZXR1cm4gITA7ZGVmYXVsdDpyZXR1cm4gITB9fWZ1bmN0aW9uIHNpKHQsZT1cImZpbGxcIil7aWYobnVsbD09dClyZXR1cm4ge2ZpbHRlcjooKT0+ITAsbmVlZEdlb21ldHJ5OiExLG5lZWRGZWF0dXJlOiExfTtpaSh0KXx8KHQ9cGkodCkpO2NvbnN0IHI9dDtsZXQgbj0hMDt0cnl7bj1mdW5jdGlvbih0KXtpZighbGkodCkpcmV0dXJuIHQ7bGV0IGU9SnQodCk7cmV0dXJuIG9pKGUpLGU9YWkoZSksZX0ocik7fWNhdGNoKHQpe2NvbnNvbGUud2FybihgRmFpbGVkIHRvIGV4dHJhY3Qgc3RhdGljIGZpbHRlci4gRmlsdGVyIHdpbGwgY29udGludWUgd29ya2luZywgYnV0IGF0IGhpZ2hlciBtZW1vcnkgdXNhZ2UgYW5kIHNsb3dlciBmcmFtZXJhdGUuXFxuVGhpcyBpcyBtb3N0IGxpa2VseSBhIGJ1ZywgcGxlYXNlIHJlcG9ydCB0aGlzIHZpYSBodHRwczovL2dpdGh1Yi5jb20vbWFwYm94L21hcGJveC1nbC1qcy9pc3N1ZXMvbmV3P2Fzc2lnbmVlcz0mbGFiZWxzPSZ0ZW1wbGF0ZT1CdWdfcmVwb3J0Lm1kXFxuYW5kIHBhc3RlIHRoZSBjb250ZW50cyBvZiB0aGlzIG1lc3NhZ2UgaW4gdGhlIHJlcG9ydC5cXG5UaGFuayB5b3UhXFxuRmlsdGVyIEV4cHJlc3Npb246XFxuJHtKU09OLnN0cmluZ2lmeShyLG51bGwsMil9XFxuICAgICAgICBgKTt9Y29uc3QgaT1IdFtgZmlsdGVyXyR7ZX1gXSxzPU5uKG4saSk7bGV0IGE9bnVsbDtpZihcImVycm9yXCI9PT1zLnJlc3VsdCl0aHJvdyBuZXcgRXJyb3Iocy52YWx1ZS5tYXAoKHQ9PmAke3Qua2V5fTogJHt0Lm1lc3NhZ2V9YCkpLmpvaW4oXCIsIFwiKSk7YT0odCxlLHIpPT5zLnZhbHVlLmV2YWx1YXRlKHQsZSx7fSxyKTtsZXQgbz1udWxsLGw9bnVsbDtpZihuIT09cil7Y29uc3QgdD1ObihyLGkpO2lmKFwiZXJyb3JcIj09PXQucmVzdWx0KXRocm93IG5ldyBFcnJvcih0LnZhbHVlLm1hcCgodD0+YCR7dC5rZXl9OiAke3QubWVzc2FnZX1gKSkuam9pbihcIiwgXCIpKTtvPShlLHIsbixpLHMpPT50LnZhbHVlLmV2YWx1YXRlKGUscix7fSxuLHZvaWQgMCx2b2lkIDAsaSxzKSxsPSF5cih0LnZhbHVlLmV4cHJlc3Npb24pO31yZXR1cm4ge2ZpbHRlcjphLGR5bmFtaWNGaWx0ZXI6b3x8dm9pZCAwLG5lZWRHZW9tZXRyeTpoaShuKSxuZWVkRmVhdHVyZTohIWx9fWZ1bmN0aW9uIGFpKHQpe2lmKCFBcnJheS5pc0FycmF5KHQpKXJldHVybiB0O2NvbnN0IGU9ZnVuY3Rpb24odCl7aWYodWkuaGFzKHRbMF0pKWZvcihsZXQgZT0xO2U8dC5sZW5ndGg7ZSsrKWlmKGxpKHRbZV0pKXJldHVybiAhMDtyZXR1cm4gdH0odCk7cmV0dXJuICEwPT09ZT9lOmUubWFwKCh0PT5haSh0KSkpfWZ1bmN0aW9uIG9pKHQpe2xldCBlPSExO2NvbnN0IHI9W107aWYoXCJjYXNlXCI9PT10WzBdKXtmb3IobGV0IG49MTtuPHQubGVuZ3RoLTE7bis9MillPWV8fGxpKHRbbl0pLHIucHVzaCh0W24rMV0pO3IucHVzaCh0W3QubGVuZ3RoLTFdKTt9ZWxzZSBpZihcIm1hdGNoXCI9PT10WzBdKXtlPWV8fGxpKHRbMV0pO2ZvcihsZXQgZT0yO2U8dC5sZW5ndGgtMTtlKz0yKXIucHVzaCh0W2UrMV0pO3IucHVzaCh0W3QubGVuZ3RoLTFdKTt9ZWxzZSBpZihcInN0ZXBcIj09PXRbMF0pe2U9ZXx8bGkodFsxXSk7Zm9yKGxldCBlPTE7ZTx0Lmxlbmd0aC0xO2UrPTIpci5wdXNoKHRbZSsxXSk7fWUmJih0Lmxlbmd0aD0wLHQucHVzaChcImFueVwiLC4uLnIpKTtmb3IobGV0IGU9MTtlPHQubGVuZ3RoO2UrKylvaSh0W2VdKTt9ZnVuY3Rpb24gbGkodCl7aWYoIUFycmF5LmlzQXJyYXkodCkpcmV0dXJuICExO2lmKFwicGl0Y2hcIj09PShlPXRbMF0pfHxcImRpc3RhbmNlLWZyb20tY2VudGVyXCI9PT1lKXJldHVybiAhMDt2YXIgZTtmb3IobGV0IGU9MTtlPHQubGVuZ3RoO2UrKylpZihsaSh0W2VdKSlyZXR1cm4gITA7cmV0dXJuICExfWNvbnN0IHVpPW5ldyBTZXQoW1wiaW5cIixcIj09XCIsXCIhPVwiLFwiPlwiLFwiPj1cIixcIjxcIixcIjw9XCIsXCJ0by1ib29sZWFuXCJdKTtmdW5jdGlvbiBjaSh0LGUpe3JldHVybiB0PGU/LTE6dD5lPzE6MH1mdW5jdGlvbiBoaSh0KXtpZighQXJyYXkuaXNBcnJheSh0KSlyZXR1cm4gITE7aWYoXCJ3aXRoaW5cIj09PXRbMF0pcmV0dXJuICEwO2ZvcihsZXQgZT0xO2U8dC5sZW5ndGg7ZSsrKWlmKGhpKHRbZV0pKXJldHVybiAhMDtyZXR1cm4gITF9ZnVuY3Rpb24gcGkodCl7aWYoIXQpcmV0dXJuICEwO2NvbnN0IGU9dFswXTtyZXR1cm4gdC5sZW5ndGg8PTE/XCJhbnlcIiE9PWU6XCI9PVwiPT09ZT9maSh0WzFdLHRbMl0sXCI9PVwiKTpcIiE9XCI9PT1lP21pKGZpKHRbMV0sdFsyXSxcIj09XCIpKTpcIjxcIj09PWV8fFwiPlwiPT09ZXx8XCI8PVwiPT09ZXx8XCI+PVwiPT09ZT9maSh0WzFdLHRbMl0sZSk6XCJhbnlcIj09PWU/KHI9dC5zbGljZSgxKSxbXCJhbnlcIl0uY29uY2F0KHIubWFwKHBpKSkpOlwiYWxsXCI9PT1lP1tcImFsbFwiXS5jb25jYXQodC5zbGljZSgxKS5tYXAocGkpKTpcIm5vbmVcIj09PWU/W1wiYWxsXCJdLmNvbmNhdCh0LnNsaWNlKDEpLm1hcChwaSkubWFwKG1pKSk6XCJpblwiPT09ZT9kaSh0WzFdLHQuc2xpY2UoMikpOlwiIWluXCI9PT1lP21pKGRpKHRbMV0sdC5zbGljZSgyKSkpOlwiaGFzXCI9PT1lP3lpKHRbMV0pOlwiIWhhc1wiPT09ZT9taSh5aSh0WzFdKSk6XCJ3aXRoaW5cIiE9PWV8fHQ7dmFyIHI7fWZ1bmN0aW9uIGZpKHQsZSxyKXtzd2l0Y2godCl7Y2FzZVwiJHR5cGVcIjpyZXR1cm4gW2BmaWx0ZXItdHlwZS0ke3J9YCxlXTtjYXNlXCIkaWRcIjpyZXR1cm4gW2BmaWx0ZXItaWQtJHtyfWAsZV07ZGVmYXVsdDpyZXR1cm4gW2BmaWx0ZXItJHtyfWAsdCxlXX19ZnVuY3Rpb24gZGkodCxlKXtpZigwPT09ZS5sZW5ndGgpcmV0dXJuICExO3N3aXRjaCh0KXtjYXNlXCIkdHlwZVwiOnJldHVybiBbXCJmaWx0ZXItdHlwZS1pblwiLFtcImxpdGVyYWxcIixlXV07Y2FzZVwiJGlkXCI6cmV0dXJuIFtcImZpbHRlci1pZC1pblwiLFtcImxpdGVyYWxcIixlXV07ZGVmYXVsdDpyZXR1cm4gZS5sZW5ndGg+MjAwJiYhZS5zb21lKCh0PT50eXBlb2YgdCE9dHlwZW9mIGVbMF0pKT9bXCJmaWx0ZXItaW4tbGFyZ2VcIix0LFtcImxpdGVyYWxcIixlLnNvcnQoY2kpXV06W1wiZmlsdGVyLWluLXNtYWxsXCIsdCxbXCJsaXRlcmFsXCIsZV1dfX1mdW5jdGlvbiB5aSh0KXtzd2l0Y2godCl7Y2FzZVwiJHR5cGVcIjpyZXR1cm4gITA7Y2FzZVwiJGlkXCI6cmV0dXJuIFtcImZpbHRlci1oYXMtaWRcIl07ZGVmYXVsdDpyZXR1cm4gW1wiZmlsdGVyLWhhc1wiLHRdfX1mdW5jdGlvbiBtaSh0KXtyZXR1cm4gW1wiIVwiLHRdfWZ1bmN0aW9uIGdpKHQpe3JldHVybiBpaShKdCh0LnZhbHVlKSk/ZWkoWXQoe30sdCx7ZXhwcmVzc2lvbkNvbnRleHQ6XCJmaWx0ZXJcIix2YWx1ZVNwZWM6dC5zdHlsZVNwZWNbYGZpbHRlcl8ke3QubGF5ZXJUeXBlfHxcImZpbGxcIn1gXX0pKTp4aSh0KX1mdW5jdGlvbiB4aSh0KXtjb25zdCBlPXQudmFsdWUscj10LmtleTtpZihcImFycmF5XCIhPT1DbihlKSlyZXR1cm4gW25ldyBZbihyLGUsYGFycmF5IGV4cGVjdGVkLCAke0NuKGUpfSBmb3VuZGApXTtjb25zdCBuPXQuc3R5bGVTcGVjO2xldCBpLHM9W107aWYoZS5sZW5ndGg8MSlyZXR1cm4gW25ldyBZbihyLGUsXCJmaWx0ZXIgYXJyYXkgbXVzdCBoYXZlIGF0IGxlYXN0IDEgZWxlbWVudFwiKV07c3dpdGNoKHM9cy5jb25jYXQobmkoe2tleTpgJHtyfVswXWAsdmFsdWU6ZVswXSx2YWx1ZVNwZWM6bi5maWx0ZXJfb3BlcmF0b3Isc3R5bGU6dC5zdHlsZSxzdHlsZVNwZWM6dC5zdHlsZVNwZWN9KSksV3QoZVswXSkpe2Nhc2VcIjxcIjpjYXNlXCI8PVwiOmNhc2VcIj5cIjpjYXNlXCI+PVwiOmUubGVuZ3RoPj0yJiZcIiR0eXBlXCI9PT1XdChlWzFdKSYmcy5wdXNoKG5ldyBZbihyLGUsYFwiJHR5cGVcIiBjYW5ub3QgYmUgdXNlIHdpdGggb3BlcmF0b3IgXCIke2VbMF19XCJgKSk7Y2FzZVwiPT1cIjpjYXNlXCIhPVwiOjMhPT1lLmxlbmd0aCYmcy5wdXNoKG5ldyBZbihyLGUsYGZpbHRlciBhcnJheSBmb3Igb3BlcmF0b3IgXCIke2VbMF19XCIgbXVzdCBoYXZlIDMgZWxlbWVudHNgKSk7Y2FzZVwiaW5cIjpjYXNlXCIhaW5cIjplLmxlbmd0aD49MiYmKGk9Q24oZVsxXSksXCJzdHJpbmdcIiE9PWkmJnMucHVzaChuZXcgWW4oYCR7cn1bMV1gLGVbMV0sYHN0cmluZyBleHBlY3RlZCwgJHtpfSBmb3VuZGApKSk7Zm9yKGxldCBhPTI7YTxlLmxlbmd0aDthKyspaT1DbihlW2FdKSxcIiR0eXBlXCI9PT1XdChlWzFdKT9zPXMuY29uY2F0KG5pKHtrZXk6YCR7cn1bJHthfV1gLHZhbHVlOmVbYV0sdmFsdWVTcGVjOm4uZ2VvbWV0cnlfdHlwZSxzdHlsZTp0LnN0eWxlLHN0eWxlU3BlYzp0LnN0eWxlU3BlY30pKTpcInN0cmluZ1wiIT09aSYmXCJudW1iZXJcIiE9PWkmJlwiYm9vbGVhblwiIT09aSYmcy5wdXNoKG5ldyBZbihgJHtyfVske2F9XWAsZVthXSxgc3RyaW5nLCBudW1iZXIsIG9yIGJvb2xlYW4gZXhwZWN0ZWQsICR7aX0gZm91bmRgKSk7YnJlYWs7Y2FzZVwiYW55XCI6Y2FzZVwiYWxsXCI6Y2FzZVwibm9uZVwiOmZvcihsZXQgbj0xO248ZS5sZW5ndGg7bisrKXM9cy5jb25jYXQoeGkoe2tleTpgJHtyfVske259XWAsdmFsdWU6ZVtuXSxzdHlsZTp0LnN0eWxlLHN0eWxlU3BlYzp0LnN0eWxlU3BlY30pKTticmVhaztjYXNlXCJoYXNcIjpjYXNlXCIhaGFzXCI6aT1DbihlWzFdKSwyIT09ZS5sZW5ndGg/cy5wdXNoKG5ldyBZbihyLGUsYGZpbHRlciBhcnJheSBmb3IgXCIke2VbMF19XCIgb3BlcmF0b3IgbXVzdCBoYXZlIDIgZWxlbWVudHNgKSk6XCJzdHJpbmdcIiE9PWkmJnMucHVzaChuZXcgWW4oYCR7cn1bMV1gLGVbMV0sYHN0cmluZyBleHBlY3RlZCwgJHtpfSBmb3VuZGApKTticmVhaztjYXNlXCJ3aXRoaW5cIjppPUNuKGVbMV0pLDIhPT1lLmxlbmd0aD9zLnB1c2gobmV3IFluKHIsZSxgZmlsdGVyIGFycmF5IGZvciBcIiR7ZVswXX1cIiBvcGVyYXRvciBtdXN0IGhhdmUgMiBlbGVtZW50c2ApKTpcIm9iamVjdFwiIT09aSYmcy5wdXNoKG5ldyBZbihgJHtyfVsxXWAsZVsxXSxgb2JqZWN0IGV4cGVjdGVkLCAke2l9IGZvdW5kYCkpO31yZXR1cm4gc31mdW5jdGlvbiB2aSh0LGUpe2NvbnN0IHI9dC5rZXksbj10LnN0eWxlLGk9dC5zdHlsZVNwZWMscz10LnZhbHVlLGE9dC5vYmplY3RLZXksbz1pW2Ake2V9XyR7dC5sYXllclR5cGV9YF07aWYoIW8pcmV0dXJuIFtdO2NvbnN0IGw9YS5tYXRjaCgvXiguKiktdHJhbnNpdGlvbiQvKTtpZihcInBhaW50XCI9PT1lJiZsJiZvW2xbMV1dJiZvW2xbMV1dLnRyYW5zaXRpb24pcmV0dXJuIEJpKHtrZXk6cix2YWx1ZTpzLHZhbHVlU3BlYzppLnRyYW5zaXRpb24sc3R5bGU6bixzdHlsZVNwZWM6aX0pO2NvbnN0IHU9dC52YWx1ZVNwZWN8fG9bYV07aWYoIXUpcmV0dXJuIFtuZXcgWW4ocixzLGB1bmtub3duIHByb3BlcnR5IFwiJHthfVwiYCldO2xldCBjO2lmKFwic3RyaW5nXCI9PT1DbihzKSYmQm4odSkmJiF1LnRva2VucyYmKGM9L157KFtefV0rKX0kLy5leGVjKHMpKSlyZXR1cm4gW25ldyBZbihyLHMsYFwiJHthfVwiIGRvZXMgbm90IHN1cHBvcnQgaW50ZXJwb2xhdGlvbiBzeW50YXhcXG5Vc2UgYW4gaWRlbnRpdHkgcHJvcGVydHkgZnVuY3Rpb24gaW5zdGVhZDogXFxgeyBcInR5cGVcIjogXCJpZGVudGl0eVwiLCBcInByb3BlcnR5XCI6ICR7SlNPTi5zdHJpbmdpZnkoY1sxXSl9IH1cXGAuYCldO2NvbnN0IGg9W107cmV0dXJuIFwic3ltYm9sXCI9PT10LmxheWVyVHlwZSYmKFwidGV4dC1maWVsZFwiPT09YSYmbiYmIW4uZ2x5cGhzJiZoLnB1c2gobmV3IFluKHIscywndXNlIG9mIFwidGV4dC1maWVsZFwiIHJlcXVpcmVzIGEgc3R5bGUgXCJnbHlwaHNcIiBwcm9wZXJ0eScpKSxcInRleHQtZm9udFwiPT09YSYmRG4oSnQocykpJiZcImlkZW50aXR5XCI9PT1XdChzLnR5cGUpJiZoLnB1c2gobmV3IFluKHIscywnXCJ0ZXh0LWZvbnRcIiBkb2VzIG5vdCBzdXBwb3J0IGlkZW50aXR5IGZ1bmN0aW9ucycpKSksaC5jb25jYXQoQmkoe2tleTp0LmtleSx2YWx1ZTpzLHZhbHVlU3BlYzp1LHN0eWxlOm4sc3R5bGVTcGVjOmksZXhwcmVzc2lvbkNvbnRleHQ6XCJwcm9wZXJ0eVwiLHByb3BlcnR5VHlwZTplLHByb3BlcnR5S2V5OmF9KSl9ZnVuY3Rpb24gYmkodCl7cmV0dXJuIHZpKHQsXCJwYWludFwiKX1mdW5jdGlvbiBfaSh0KXtyZXR1cm4gdmkodCxcImxheW91dFwiKX1mdW5jdGlvbiB3aSh0KXtsZXQgZT1bXTtjb25zdCByPXQudmFsdWUsbj10LmtleSxpPXQuc3R5bGUscz10LnN0eWxlU3BlYztyLnR5cGV8fHIucmVmfHxlLnB1c2gobmV3IFluKG4sciwnZWl0aGVyIFwidHlwZVwiIG9yIFwicmVmXCIgaXMgcmVxdWlyZWQnKSk7bGV0IGE9V3Qoci50eXBlKTtjb25zdCBvPVd0KHIucmVmKTtpZihyLmlkKXtjb25zdCBzPVd0KHIuaWQpO2ZvcihsZXQgYT0wO2E8dC5hcnJheUluZGV4O2ErKyl7Y29uc3QgdD1pLmxheWVyc1thXTtXdCh0LmlkKT09PXMmJmUucHVzaChuZXcgWW4obixyLmlkLGBkdXBsaWNhdGUgbGF5ZXIgaWQgXCIke3IuaWR9XCIsIHByZXZpb3VzbHkgdXNlZCBhdCBsaW5lICR7dC5pZC5fX2xpbmVfX31gKSk7fX1pZihcInJlZlwiaW4gcil7bGV0IHQ7W1widHlwZVwiLFwic291cmNlXCIsXCJzb3VyY2UtbGF5ZXJcIixcImZpbHRlclwiLFwibGF5b3V0XCJdLmZvckVhY2goKHQ9Pnt0IGluIHImJmUucHVzaChuZXcgWW4obixyW3RdLGBcIiR7dH1cIiBpcyBwcm9oaWJpdGVkIGZvciByZWYgbGF5ZXJzYCkpO30pKSxpLmxheWVycy5mb3JFYWNoKChlPT57V3QoZS5pZCk9PT1vJiYodD1lKTt9KSksdD90LnJlZj9lLnB1c2gobmV3IFluKG4sci5yZWYsXCJyZWYgY2Fubm90IHJlZmVyZW5jZSBhbm90aGVyIHJlZiBsYXllclwiKSk6YT1XdCh0LnR5cGUpOlwic3RyaW5nXCI9PXR5cGVvZiBvJiZlLnB1c2gobmV3IFluKG4sci5yZWYsYHJlZiBsYXllciBcIiR7b31cIiBub3QgZm91bmRgKSk7fWVsc2UgaWYoXCJiYWNrZ3JvdW5kXCIhPT1hJiZcInNreVwiIT09YSlpZihyLnNvdXJjZSl7Y29uc3QgdD1pLnNvdXJjZXMmJmkuc291cmNlc1tyLnNvdXJjZV0scz10JiZXdCh0LnR5cGUpO3Q/XCJ2ZWN0b3JcIj09PXMmJlwicmFzdGVyXCI9PT1hP2UucHVzaChuZXcgWW4obixyLnNvdXJjZSxgbGF5ZXIgXCIke3IuaWR9XCIgcmVxdWlyZXMgYSByYXN0ZXIgc291cmNlYCkpOlwicmFzdGVyXCI9PT1zJiZcInJhc3RlclwiIT09YT9lLnB1c2gobmV3IFluKG4sci5zb3VyY2UsYGxheWVyIFwiJHtyLmlkfVwiIHJlcXVpcmVzIGEgdmVjdG9yIHNvdXJjZWApKTpcInZlY3RvclwiIT09c3x8cltcInNvdXJjZS1sYXllclwiXT9cInJhc3Rlci1kZW1cIj09PXMmJlwiaGlsbHNoYWRlXCIhPT1hP2UucHVzaChuZXcgWW4obixyLnNvdXJjZSxcInJhc3Rlci1kZW0gc291cmNlIGNhbiBvbmx5IGJlIHVzZWQgd2l0aCBsYXllciB0eXBlICdoaWxsc2hhZGUnLlwiKSk6XCJsaW5lXCIhPT1hfHwhci5wYWludHx8IXIucGFpbnRbXCJsaW5lLWdyYWRpZW50XCJdJiYhci5wYWludFtcImxpbmUtdHJpbS1vZmZzZXRcIl18fFwiZ2VvanNvblwiPT09cyYmdC5saW5lTWV0cmljc3x8ZS5wdXNoKG5ldyBZbihuLHIsYGxheWVyIFwiJHtyLmlkfVwiIHNwZWNpZmllcyBhIGxpbmUtZ3JhZGllbnQsIHdoaWNoIHJlcXVpcmVzIGEgR2VvSlNPTiBzb3VyY2Ugd2l0aCBcXGBsaW5lTWV0cmljc1xcYCBlbmFibGVkLmApKTplLnB1c2gobmV3IFluKG4scixgbGF5ZXIgXCIke3IuaWR9XCIgbXVzdCBzcGVjaWZ5IGEgXCJzb3VyY2UtbGF5ZXJcImApKTplLnB1c2gobmV3IFluKG4sci5zb3VyY2UsYHNvdXJjZSBcIiR7ci5zb3VyY2V9XCIgbm90IGZvdW5kYCkpO31lbHNlIGUucHVzaChuZXcgWW4obixyLCdtaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IFwic291cmNlXCInKSk7cmV0dXJuIGU9ZS5jb25jYXQoV24oe2tleTpuLHZhbHVlOnIsdmFsdWVTcGVjOnMubGF5ZXIsc3R5bGU6dC5zdHlsZSxzdHlsZVNwZWM6dC5zdHlsZVNwZWMsb2JqZWN0RWxlbWVudFZhbGlkYXRvcnM6e1wiKlwiOigpPT5bXSx0eXBlOigpPT5CaSh7a2V5OmAke259LnR5cGVgLHZhbHVlOnIudHlwZSx2YWx1ZVNwZWM6cy5sYXllci50eXBlLHN0eWxlOnQuc3R5bGUsc3R5bGVTcGVjOnQuc3R5bGVTcGVjLG9iamVjdDpyLG9iamVjdEtleTpcInR5cGVcIn0pLGZpbHRlcjp0PT5naShZdCh7bGF5ZXJUeXBlOmF9LHQpKSxsYXlvdXQ6dD0+V24oe2xheWVyOnIsa2V5OnQua2V5LHZhbHVlOnQudmFsdWUsdmFsdWVTcGVjOnt9LHN0eWxlOnQuc3R5bGUsc3R5bGVTcGVjOnQuc3R5bGVTcGVjLG9iamVjdEVsZW1lbnRWYWxpZGF0b3JzOntcIipcIjp0PT5faShZdCh7bGF5ZXJUeXBlOmF9LHQpKX19KSxwYWludDp0PT5Xbih7bGF5ZXI6cixrZXk6dC5rZXksdmFsdWU6dC52YWx1ZSx2YWx1ZVNwZWM6e30sc3R5bGU6dC5zdHlsZSxzdHlsZVNwZWM6dC5zdHlsZVNwZWMsb2JqZWN0RWxlbWVudFZhbGlkYXRvcnM6e1wiKlwiOnQ9PmJpKFl0KHtsYXllclR5cGU6YX0sdCkpfX0pfX0pKSxlfWZ1bmN0aW9uIEFpKHQpe2NvbnN0IGU9dC52YWx1ZSxyPXQua2V5LG49Q24oZSk7cmV0dXJuIFwic3RyaW5nXCIhPT1uP1tuZXcgWW4ocixlLGBzdHJpbmcgZXhwZWN0ZWQsICR7bn0gZm91bmRgKV06W119Y29uc3QgU2k9e3Byb21vdGVJZDpmdW5jdGlvbih7a2V5OnQsdmFsdWU6ZX0pe2lmKFwic3RyaW5nXCI9PT1DbihlKSlyZXR1cm4gQWkoe2tleTp0LHZhbHVlOmV9KTt7Y29uc3Qgcj1bXTtmb3IoY29uc3QgbiBpbiBlKXIucHVzaCguLi5BaSh7a2V5OmAke3R9LiR7bn1gLHZhbHVlOmVbbl19KSk7cmV0dXJuIHJ9fX07ZnVuY3Rpb24ga2kodCl7Y29uc3QgZT10LnZhbHVlLHI9dC5rZXksbj10LnN0eWxlU3BlYyxpPXQuc3R5bGU7aWYoIWUudHlwZSlyZXR1cm4gW25ldyBZbihyLGUsJ1widHlwZVwiIGlzIHJlcXVpcmVkJyldO2NvbnN0IHM9V3QoZS50eXBlKTtsZXQgYTtzd2l0Y2gocyl7Y2FzZVwidmVjdG9yXCI6Y2FzZVwicmFzdGVyXCI6Y2FzZVwicmFzdGVyLWRlbVwiOnJldHVybiBhPVduKHtrZXk6cix2YWx1ZTplLHZhbHVlU3BlYzpuW2Bzb3VyY2VfJHtzLnJlcGxhY2UoXCItXCIsXCJfXCIpfWBdLHN0eWxlOnQuc3R5bGUsc3R5bGVTcGVjOm4sb2JqZWN0RWxlbWVudFZhbGlkYXRvcnM6U2l9KSxhO2Nhc2VcImdlb2pzb25cIjppZihhPVduKHtrZXk6cix2YWx1ZTplLHZhbHVlU3BlYzpuLnNvdXJjZV9nZW9qc29uLHN0eWxlOmksc3R5bGVTcGVjOm4sb2JqZWN0RWxlbWVudFZhbGlkYXRvcnM6U2l9KSxlLmNsdXN0ZXIpZm9yKGNvbnN0IHQgaW4gZS5jbHVzdGVyUHJvcGVydGllcyl7Y29uc3RbbixpXT1lLmNsdXN0ZXJQcm9wZXJ0aWVzW3RdLHM9XCJzdHJpbmdcIj09dHlwZW9mIG4/W24sW1wiYWNjdW11bGF0ZWRcIl0sW1wiZ2V0XCIsdF1dOm47YS5wdXNoKC4uLmVpKHtrZXk6YCR7cn0uJHt0fS5tYXBgLHZhbHVlOmksZXhwcmVzc2lvbkNvbnRleHQ6XCJjbHVzdGVyLW1hcFwifSkpLGEucHVzaCguLi5laSh7a2V5OmAke3J9LiR7dH0ucmVkdWNlYCx2YWx1ZTpzLGV4cHJlc3Npb25Db250ZXh0OlwiY2x1c3Rlci1yZWR1Y2VcIn0pKTt9cmV0dXJuIGE7Y2FzZVwidmlkZW9cIjpyZXR1cm4gV24oe2tleTpyLHZhbHVlOmUsdmFsdWVTcGVjOm4uc291cmNlX3ZpZGVvLHN0eWxlOmksc3R5bGVTcGVjOm59KTtjYXNlXCJpbWFnZVwiOnJldHVybiBXbih7a2V5OnIsdmFsdWU6ZSx2YWx1ZVNwZWM6bi5zb3VyY2VfaW1hZ2Usc3R5bGU6aSxzdHlsZVNwZWM6bn0pO2Nhc2VcImNhbnZhc1wiOnJldHVybiBbbmV3IFluKHIsbnVsbCxcIlBsZWFzZSB1c2UgcnVudGltZSBBUElzIHRvIGFkZCBjYW52YXMgc291cmNlcywgcmF0aGVyIHRoYW4gaW5jbHVkaW5nIHRoZW0gaW4gc3R5bGVzaGVldHMuXCIsXCJzb3VyY2UuY2FudmFzXCIpXTtkZWZhdWx0OnJldHVybiBuaSh7a2V5OmAke3J9LnR5cGVgLHZhbHVlOmUudHlwZSx2YWx1ZVNwZWM6e3ZhbHVlczpbXCJ2ZWN0b3JcIixcInJhc3RlclwiLFwicmFzdGVyLWRlbVwiLFwiZ2VvanNvblwiLFwidmlkZW9cIixcImltYWdlXCJdfSxzdHlsZTppLHN0eWxlU3BlYzpufSl9fWZ1bmN0aW9uIElpKHQpe2NvbnN0IGU9dC52YWx1ZSxyPXQuc3R5bGVTcGVjLG49ci5saWdodCxpPXQuc3R5bGU7bGV0IHM9W107Y29uc3QgYT1DbihlKTtpZih2b2lkIDA9PT1lKXJldHVybiBzO2lmKFwib2JqZWN0XCIhPT1hKXJldHVybiBzPXMuY29uY2F0KFtuZXcgWW4oXCJsaWdodFwiLGUsYG9iamVjdCBleHBlY3RlZCwgJHthfSBmb3VuZGApXSkscztmb3IoY29uc3QgdCBpbiBlKXtjb25zdCBhPXQubWF0Y2goL14oLiopLXRyYW5zaXRpb24kLyk7cz1zLmNvbmNhdChhJiZuW2FbMV1dJiZuW2FbMV1dLnRyYW5zaXRpb24/Qmkoe2tleTp0LHZhbHVlOmVbdF0sdmFsdWVTcGVjOnIudHJhbnNpdGlvbixzdHlsZTppLHN0eWxlU3BlYzpyfSk6blt0XT9CaSh7a2V5OnQsdmFsdWU6ZVt0XSx2YWx1ZVNwZWM6blt0XSxzdHlsZTppLHN0eWxlU3BlYzpyfSk6W25ldyBZbih0LGVbdF0sYHVua25vd24gcHJvcGVydHkgXCIke3R9XCJgKV0pO31yZXR1cm4gc31mdW5jdGlvbiBNaSh0KXtjb25zdCBlPXQudmFsdWUscj10LmtleSxuPXQuc3R5bGUsaT10LnN0eWxlU3BlYyxzPWkudGVycmFpbjtsZXQgYT1bXTtjb25zdCBvPUNuKGUpO2lmKHZvaWQgMD09PWUpcmV0dXJuIGE7aWYoXCJvYmplY3RcIiE9PW8pcmV0dXJuIGE9YS5jb25jYXQoW25ldyBZbihcInRlcnJhaW5cIixlLGBvYmplY3QgZXhwZWN0ZWQsICR7b30gZm91bmRgKV0pLGE7Zm9yKGNvbnN0IHQgaW4gZSl7Y29uc3Qgcj10Lm1hdGNoKC9eKC4qKS10cmFuc2l0aW9uJC8pO2E9YS5jb25jYXQociYmc1tyWzFdXSYmc1tyWzFdXS50cmFuc2l0aW9uP0JpKHtrZXk6dCx2YWx1ZTplW3RdLHZhbHVlU3BlYzppLnRyYW5zaXRpb24sc3R5bGU6bixzdHlsZVNwZWM6aX0pOnNbdF0/Qmkoe2tleTp0LHZhbHVlOmVbdF0sdmFsdWVTcGVjOnNbdF0sc3R5bGU6bixzdHlsZVNwZWM6aX0pOltuZXcgWW4odCxlW3RdLGB1bmtub3duIHByb3BlcnR5IFwiJHt0fVwiYCldKTt9aWYoZS5zb3VyY2Upe2NvbnN0IHQ9bi5zb3VyY2VzJiZuLnNvdXJjZXNbZS5zb3VyY2VdLGk9dCYmV3QodC50eXBlKTt0P1wicmFzdGVyLWRlbVwiIT09aSYmYS5wdXNoKG5ldyBZbihyLGUuc291cmNlLGB0ZXJyYWluIGNhbm5vdCBiZSB1c2VkIHdpdGggYSBzb3VyY2Ugb2YgdHlwZSAke1N0cmluZyhpKX0sIGl0IG9ubHkgYmUgdXNlZCB3aXRoIGEgXCJyYXN0ZXItZGVtXCIgc291cmNlIHR5cGVgKSk6YS5wdXNoKG5ldyBZbihyLGUuc291cmNlLGBzb3VyY2UgXCIke2Uuc291cmNlfVwiIG5vdCBmb3VuZGApKTt9ZWxzZSBhLnB1c2gobmV3IFluKHIsZSwndGVycmFpbiBpcyBtaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IFwic291cmNlXCInKSk7cmV0dXJuIGF9ZnVuY3Rpb24gemkodCl7Y29uc3QgZT10LnZhbHVlLHI9dC5zdHlsZSxuPXQuc3R5bGVTcGVjLGk9bi5mb2c7bGV0IHM9W107Y29uc3QgYT1DbihlKTtpZih2b2lkIDA9PT1lKXJldHVybiBzO2lmKFwib2JqZWN0XCIhPT1hKXJldHVybiBzPXMuY29uY2F0KFtuZXcgWW4oXCJmb2dcIixlLGBvYmplY3QgZXhwZWN0ZWQsICR7YX0gZm91bmRgKV0pLHM7Zm9yKGNvbnN0IHQgaW4gZSl7Y29uc3QgYT10Lm1hdGNoKC9eKC4qKS10cmFuc2l0aW9uJC8pO3M9cy5jb25jYXQoYSYmaVthWzFdXSYmaVthWzFdXS50cmFuc2l0aW9uP0JpKHtrZXk6dCx2YWx1ZTplW3RdLHZhbHVlU3BlYzpuLnRyYW5zaXRpb24sc3R5bGU6cixzdHlsZVNwZWM6bn0pOmlbdF0/Qmkoe2tleTp0LHZhbHVlOmVbdF0sdmFsdWVTcGVjOmlbdF0sc3R5bGU6cixzdHlsZVNwZWM6bn0pOltuZXcgWW4odCxlW3RdLGB1bmtub3duIHByb3BlcnR5IFwiJHt0fVwiYCldKTt9cmV0dXJuIHN9Y29uc3QgVGk9e1wiKlwiOigpPT5bXSxhcnJheTpKbixib29sZWFuOmZ1bmN0aW9uKHQpe2NvbnN0IGU9dC52YWx1ZSxyPXQua2V5LG49Q24oZSk7cmV0dXJuIFwiYm9vbGVhblwiIT09bj9bbmV3IFluKHIsZSxgYm9vbGVhbiBleHBlY3RlZCwgJHtufSBmb3VuZGApXTpbXX0sbnVtYmVyOlFuLGNvbG9yOmZ1bmN0aW9uKHQpe2NvbnN0IGU9dC5rZXkscj10LnZhbHVlLG49Q24ocik7cmV0dXJuIFwic3RyaW5nXCIhPT1uP1tuZXcgWW4oZSxyLGBjb2xvciBleHBlY3RlZCwgJHtufSBmb3VuZGApXTpudWxsPT09dmUocik/W25ldyBZbihlLHIsYGNvbG9yIGV4cGVjdGVkLCBcIiR7cn1cIiBmb3VuZGApXTpbXX0sZW51bTpuaSxmaWx0ZXI6Z2ksZnVuY3Rpb246dGksbGF5ZXI6d2ksb2JqZWN0OlduLHNvdXJjZTpraSxsaWdodDpJaSx0ZXJyYWluOk1pLGZvZzp6aSxzdHJpbmc6QWksZm9ybWF0dGVkOmZ1bmN0aW9uKHQpe3JldHVybiAwPT09QWkodCkubGVuZ3RoP1tdOmVpKHQpfSxyZXNvbHZlZEltYWdlOmZ1bmN0aW9uKHQpe3JldHVybiAwPT09QWkodCkubGVuZ3RoP1tdOmVpKHQpfSxwcm9qZWN0aW9uOmZ1bmN0aW9uKHQpe2NvbnN0IGU9dC52YWx1ZSxyPXQuc3R5bGVTcGVjLG49ci5wcm9qZWN0aW9uLGk9dC5zdHlsZTtsZXQgcz1bXTtjb25zdCBhPUNuKGUpO2lmKFwib2JqZWN0XCI9PT1hKWZvcihjb25zdCB0IGluIGUpcz1zLmNvbmNhdChCaSh7a2V5OnQsdmFsdWU6ZVt0XSx2YWx1ZVNwZWM6blt0XSxzdHlsZTppLHN0eWxlU3BlYzpyfSkpO2Vsc2UgXCJzdHJpbmdcIiE9PWEmJihzPXMuY29uY2F0KFtuZXcgWW4oXCJwcm9qZWN0aW9uXCIsZSxgb2JqZWN0IG9yIHN0cmluZyBleHBlY3RlZCwgJHthfSBmb3VuZGApXSkpO3JldHVybiBzfX07ZnVuY3Rpb24gQmkodCl7Y29uc3QgZT10LnZhbHVlLHI9dC52YWx1ZVNwZWMsbj10LnN0eWxlU3BlYztyZXR1cm4gci5leHByZXNzaW9uJiZEbihXdChlKSk/dGkodCk6ci5leHByZXNzaW9uJiZxbihKdChlKSk/ZWkodCk6ci50eXBlJiZUaVtyLnR5cGVdP1RpW3IudHlwZV0odCk6V24oWXQoe30sdCx7dmFsdWVTcGVjOnIudHlwZT9uW3IudHlwZV06cn0pKX1mdW5jdGlvbiBFaSh0KXtjb25zdCBlPXQudmFsdWUscj10LmtleSxuPUFpKHQpO3JldHVybiBuLmxlbmd0aHx8KC0xPT09ZS5pbmRleE9mKFwie2ZvbnRzdGFja31cIikmJm4ucHVzaChuZXcgWW4ocixlLCdcImdseXBoc1wiIHVybCBtdXN0IGluY2x1ZGUgYSBcIntmb250c3RhY2t9XCIgdG9rZW4nKSksLTE9PT1lLmluZGV4T2YoXCJ7cmFuZ2V9XCIpJiZuLnB1c2gobmV3IFluKHIsZSwnXCJnbHlwaHNcIiB1cmwgbXVzdCBpbmNsdWRlIGEgXCJ7cmFuZ2V9XCIgdG9rZW4nKSkpLG59ZnVuY3Rpb24gUGkodCxlPUh0KXtyZXR1cm4gVmkoQmkoe2tleTpcIlwiLHZhbHVlOnQsdmFsdWVTcGVjOmUuJHJvb3Qsc3R5bGVTcGVjOmUsc3R5bGU6dCxvYmplY3RFbGVtZW50VmFsaWRhdG9yczp7Z2x5cGhzOkVpLFwiKlwiOigpPT5bXX19KSl9Y29uc3QgQ2k9dD0+VmkoYmkodCkpLERpPXQ9PlZpKF9pKHQpKTtmdW5jdGlvbiBWaSh0KXtyZXR1cm4gdC5zbGljZSgpLnNvcnQoKCh0LGUpPT50LmxpbmUmJmUubGluZT90LmxpbmUtZS5saW5lOjApKX1mdW5jdGlvbiBGaSh0LGUpe2xldCByPSExO2lmKGUmJmUubGVuZ3RoKWZvcihjb25zdCBuIG9mIGUpdC5maXJlKG5ldyBYdChuZXcgRXJyb3Iobi5tZXNzYWdlKSkpLHI9ITA7cmV0dXJuIHJ9dmFyIExpPVJpO2Z1bmN0aW9uIFJpKHQsZSxyKXt2YXIgbj10aGlzLmNlbGxzPVtdO2lmKHQgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcil7dGhpcy5hcnJheUJ1ZmZlcj10O3ZhciBpPW5ldyBJbnQzMkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpO3Q9aVswXSx0aGlzLmQ9KGU9aVsxXSkrMioocj1pWzJdKTtmb3IodmFyIHM9MDtzPHRoaXMuZCp0aGlzLmQ7cysrKXt2YXIgYT1pWzMrc10sbz1pWzMrcysxXTtuLnB1c2goYT09PW8/bnVsbDppLnN1YmFycmF5KGEsbykpO312YXIgbD1pWzMrbi5sZW5ndGgrMV07dGhpcy5rZXlzPWkuc3ViYXJyYXkoaVszK24ubGVuZ3RoXSxsKSx0aGlzLmJib3hlcz1pLnN1YmFycmF5KGwpLHRoaXMuaW5zZXJ0PXRoaXMuX2luc2VydFJlYWRvbmx5O31lbHNlIHt0aGlzLmQ9ZSsyKnI7Zm9yKHZhciB1PTA7dTx0aGlzLmQqdGhpcy5kO3UrKyluLnB1c2goW10pO3RoaXMua2V5cz1bXSx0aGlzLmJib3hlcz1bXTt9dGhpcy5uPWUsdGhpcy5leHRlbnQ9dCx0aGlzLnBhZGRpbmc9cix0aGlzLnNjYWxlPWUvdCx0aGlzLnVpZD0wO3ZhciBjPXIvZSp0O3RoaXMubWluPS1jLHRoaXMubWF4PXQrYzt9UmkucHJvdG90eXBlLmluc2VydD1mdW5jdGlvbih0LGUscixuLGkpe3RoaXMuX2ZvckVhY2hDZWxsKGUscixuLGksdGhpcy5faW5zZXJ0Q2VsbCx0aGlzLnVpZCsrKSx0aGlzLmtleXMucHVzaCh0KSx0aGlzLmJib3hlcy5wdXNoKGUpLHRoaXMuYmJveGVzLnB1c2gociksdGhpcy5iYm94ZXMucHVzaChuKSx0aGlzLmJib3hlcy5wdXNoKGkpO30sUmkucHJvdG90eXBlLl9pbnNlcnRSZWFkb25seT1mdW5jdGlvbigpe3Rocm93IFwiQ2Fubm90IGluc2VydCBpbnRvIGEgR3JpZEluZGV4IGNyZWF0ZWQgZnJvbSBhbiBBcnJheUJ1ZmZlci5cIn0sUmkucHJvdG90eXBlLl9pbnNlcnRDZWxsPWZ1bmN0aW9uKHQsZSxyLG4saSxzKXt0aGlzLmNlbGxzW2ldLnB1c2gocyk7fSxSaS5wcm90b3R5cGUucXVlcnk9ZnVuY3Rpb24odCxlLHIsbixpKXt2YXIgcz10aGlzLm1pbixhPXRoaXMubWF4O2lmKHQ8PXMmJmU8PXMmJmE8PXImJmE8PW4mJiFpKXJldHVybiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0aGlzLmtleXMpO3ZhciBvPVtdO3JldHVybiB0aGlzLl9mb3JFYWNoQ2VsbCh0LGUscixuLHRoaXMuX3F1ZXJ5Q2VsbCxvLHt9LGkpLG99LFJpLnByb3RvdHlwZS5fcXVlcnlDZWxsPWZ1bmN0aW9uKHQsZSxyLG4saSxzLGEsbyl7dmFyIGw9dGhpcy5jZWxsc1tpXTtpZihudWxsIT09bClmb3IodmFyIHU9dGhpcy5rZXlzLGM9dGhpcy5iYm94ZXMsaD0wO2g8bC5sZW5ndGg7aCsrKXt2YXIgcD1sW2hdO2lmKHZvaWQgMD09PWFbcF0pe3ZhciBmPTQqcDsobz9vKGNbZiswXSxjW2YrMV0sY1tmKzJdLGNbZiszXSk6dDw9Y1tmKzJdJiZlPD1jW2YrM10mJnI+PWNbZiswXSYmbj49Y1tmKzFdKT8oYVtwXT0hMCxzLnB1c2godVtwXSkpOmFbcF09ITE7fX19LFJpLnByb3RvdHlwZS5fZm9yRWFjaENlbGw9ZnVuY3Rpb24odCxlLHIsbixpLHMsYSxvKXtmb3IodmFyIGw9dGhpcy5fY29udmVydFRvQ2VsbENvb3JkKHQpLHU9dGhpcy5fY29udmVydFRvQ2VsbENvb3JkKGUpLGM9dGhpcy5fY29udmVydFRvQ2VsbENvb3JkKHIpLGg9dGhpcy5fY29udmVydFRvQ2VsbENvb3JkKG4pLHA9bDtwPD1jO3ArKylmb3IodmFyIGY9dTtmPD1oO2YrKyl7dmFyIGQ9dGhpcy5kKmYrcDtpZigoIW98fG8odGhpcy5fY29udmVydEZyb21DZWxsQ29vcmQocCksdGhpcy5fY29udmVydEZyb21DZWxsQ29vcmQoZiksdGhpcy5fY29udmVydEZyb21DZWxsQ29vcmQocCsxKSx0aGlzLl9jb252ZXJ0RnJvbUNlbGxDb29yZChmKzEpKSkmJmkuY2FsbCh0aGlzLHQsZSxyLG4sZCxzLGEsbykpcmV0dXJufX0sUmkucHJvdG90eXBlLl9jb252ZXJ0RnJvbUNlbGxDb29yZD1mdW5jdGlvbih0KXtyZXR1cm4gKHQtdGhpcy5wYWRkaW5nKS90aGlzLnNjYWxlfSxSaS5wcm90b3R5cGUuX2NvbnZlcnRUb0NlbGxDb29yZD1mdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5tYXgoMCxNYXRoLm1pbih0aGlzLmQtMSxNYXRoLmZsb29yKHQqdGhpcy5zY2FsZSkrdGhpcy5wYWRkaW5nKSl9LFJpLnByb3RvdHlwZS50b0FycmF5QnVmZmVyPWZ1bmN0aW9uKCl7aWYodGhpcy5hcnJheUJ1ZmZlcilyZXR1cm4gdGhpcy5hcnJheUJ1ZmZlcjtmb3IodmFyIHQ9dGhpcy5jZWxscyxlPTMrdGhpcy5jZWxscy5sZW5ndGgrMSsxLHI9MCxuPTA7bjx0aGlzLmNlbGxzLmxlbmd0aDtuKyspcis9dGhpcy5jZWxsc1tuXS5sZW5ndGg7dmFyIGk9bmV3IEludDMyQXJyYXkoZStyK3RoaXMua2V5cy5sZW5ndGgrdGhpcy5iYm94ZXMubGVuZ3RoKTtpWzBdPXRoaXMuZXh0ZW50LGlbMV09dGhpcy5uLGlbMl09dGhpcy5wYWRkaW5nO2Zvcih2YXIgcz1lLGE9MDthPHQubGVuZ3RoO2ErKyl7dmFyIG89dFthXTtpWzMrYV09cyxpLnNldChvLHMpLHMrPW8ubGVuZ3RoO31yZXR1cm4gaVszK3QubGVuZ3RoXT1zLGkuc2V0KHRoaXMua2V5cyxzKSxpWzMrdC5sZW5ndGgrMV09cys9dGhpcy5rZXlzLmxlbmd0aCxpLnNldCh0aGlzLmJib3hlcyxzKSxzKz10aGlzLmJib3hlcy5sZW5ndGgsaS5idWZmZXJ9O2NvbnN0IFVpPXt9O2Z1bmN0aW9uIGppKHQsZSxyPXt9KXtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9jbGFzc1JlZ2lzdHJ5S2V5XCIse3ZhbHVlOmUsd3JpdGVhYmxlOiExfSksVWlbZV09e2tsYXNzOnQsb21pdDpyLm9taXR8fFtdfTt9amkoT2JqZWN0LFwiT2JqZWN0XCIpLExpLnNlcmlhbGl6ZT1mdW5jdGlvbih0LGUpe2NvbnN0IHI9dC50b0FycmF5QnVmZmVyKCk7cmV0dXJuIGUmJmUucHVzaChyKSx7YnVmZmVyOnJ9fSxMaS5kZXNlcmlhbGl6ZT1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IExpKHQuYnVmZmVyKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KExpLFwibmFtZVwiLHt2YWx1ZTpcIkdyaWRcIn0pLGppKExpLFwiR3JpZFwiKSxqaShJZSxcIkNvbG9yXCIpLGppKEVycm9yLFwiRXJyb3JcIiksamkoYXQsXCJBSkFYRXJyb3JcIiksamkoQmUsXCJSZXNvbHZlZEltYWdlXCIpLGppKEtuLFwiU3R5bGVQcm9wZXJ0eUZ1bmN0aW9uXCIpLGppKE9uLFwiU3R5bGVFeHByZXNzaW9uXCIse29taXQ6W1wiX2V2YWx1YXRvclwiXX0pLGppKFpuLFwiWm9vbURlcGVuZGVudEV4cHJlc3Npb25cIiksamkoR24sXCJab29tQ29uc3RhbnRFeHByZXNzaW9uXCIpLGppKEhlLFwiQ29tcG91bmRFeHByZXNzaW9uXCIse29taXQ6W1wiX2V2YWx1YXRlXCJdfSk7Zm9yKGNvbnN0IHQgaW4gTW4pVWlbTW5bdF0uX2NsYXNzUmVnaXN0cnlLZXldfHxqaShNblt0XSxgRXhwcmVzc2lvbiR7dH1gKTtmdW5jdGlvbiAkaSh0KXtyZXR1cm4gdCYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIEFycmF5QnVmZmVyJiYodCBpbnN0YW5jZW9mIEFycmF5QnVmZmVyfHx0LmNvbnN0cnVjdG9yJiZcIkFycmF5QnVmZmVyXCI9PT10LmNvbnN0cnVjdG9yLm5hbWUpfWZ1bmN0aW9uIE9pKHQpe3JldHVybiBlLkltYWdlQml0bWFwJiZ0IGluc3RhbmNlb2YgZS5JbWFnZUJpdG1hcH1mdW5jdGlvbiBxaSh0LHIpe2lmKG51bGw9PXR8fFwiYm9vbGVhblwiPT10eXBlb2YgdHx8XCJudW1iZXJcIj09dHlwZW9mIHR8fFwic3RyaW5nXCI9PXR5cGVvZiB0fHx0IGluc3RhbmNlb2YgQm9vbGVhbnx8dCBpbnN0YW5jZW9mIE51bWJlcnx8dCBpbnN0YW5jZW9mIFN0cmluZ3x8dCBpbnN0YW5jZW9mIERhdGV8fHQgaW5zdGFuY2VvZiBSZWdFeHApcmV0dXJuIHQ7aWYoJGkodCl8fE9pKHQpKXJldHVybiByJiZyLnB1c2godCksdDtpZihBcnJheUJ1ZmZlci5pc1ZpZXcodCkpe2NvbnN0IGU9dDtyZXR1cm4gciYmci5wdXNoKGUuYnVmZmVyKSxlfWlmKHQgaW5zdGFuY2VvZiBlLkltYWdlRGF0YSlyZXR1cm4gciYmci5wdXNoKHQuZGF0YS5idWZmZXIpLHQ7aWYoQXJyYXkuaXNBcnJheSh0KSl7Y29uc3QgZT1bXTtmb3IoY29uc3QgbiBvZiB0KWUucHVzaChxaShuLHIpKTtyZXR1cm4gZX1pZihcIm9iamVjdFwiPT10eXBlb2YgdCl7Y29uc3QgZT10LmNvbnN0cnVjdG9yLG49ZS5fY2xhc3NSZWdpc3RyeUtleTtpZighbil0aHJvdyBuZXcgRXJyb3IoYGNhbid0IHNlcmlhbGl6ZSBvYmplY3Qgb2YgdW5yZWdpc3RlcmVkIGNsYXNzICR7bn1gKTtjb25zdCBpPWUuc2VyaWFsaXplP2Uuc2VyaWFsaXplKHQscik6e307aWYoIWUuc2VyaWFsaXplKXtmb3IoY29uc3QgZSBpbiB0KXQuaGFzT3duUHJvcGVydHkoZSkmJihVaVtuXS5vbWl0LmluZGV4T2YoZSk+PTB8fChpW2VdPXFpKHRbZV0scikpKTt0IGluc3RhbmNlb2YgRXJyb3ImJihpLm1lc3NhZ2U9dC5tZXNzYWdlKTt9aWYoaS4kbmFtZSl0aHJvdyBuZXcgRXJyb3IoXCIkbmFtZSBwcm9wZXJ0eSBpcyByZXNlcnZlZCBmb3Igd29ya2VyIHNlcmlhbGl6YXRpb24gbG9naWMuXCIpO3JldHVybiBcIk9iamVjdFwiIT09biYmKGkuJG5hbWU9biksaX10aHJvdyBuZXcgRXJyb3IoXCJjYW4ndCBzZXJpYWxpemUgb2JqZWN0IG9mIHR5cGUgXCIrdHlwZW9mIHQpfWZ1bmN0aW9uIE5pKHQpe2lmKG51bGw9PXR8fFwiYm9vbGVhblwiPT10eXBlb2YgdHx8XCJudW1iZXJcIj09dHlwZW9mIHR8fFwic3RyaW5nXCI9PXR5cGVvZiB0fHx0IGluc3RhbmNlb2YgQm9vbGVhbnx8dCBpbnN0YW5jZW9mIE51bWJlcnx8dCBpbnN0YW5jZW9mIFN0cmluZ3x8dCBpbnN0YW5jZW9mIERhdGV8fHQgaW5zdGFuY2VvZiBSZWdFeHB8fCRpKHQpfHxPaSh0KXx8QXJyYXlCdWZmZXIuaXNWaWV3KHQpfHx0IGluc3RhbmNlb2YgZS5JbWFnZURhdGEpcmV0dXJuIHQ7aWYoQXJyYXkuaXNBcnJheSh0KSlyZXR1cm4gdC5tYXAoTmkpO2lmKFwib2JqZWN0XCI9PXR5cGVvZiB0KXtjb25zdCBlPXQuJG5hbWV8fFwiT2JqZWN0XCIse2tsYXNzOnJ9PVVpW2VdO2lmKCFyKXRocm93IG5ldyBFcnJvcihgY2FuJ3QgZGVzZXJpYWxpemUgdW5yZWdpc3RlcmVkIGNsYXNzICR7ZX1gKTtpZihyLmRlc2VyaWFsaXplKXJldHVybiByLmRlc2VyaWFsaXplKHQpO2NvbnN0IG49T2JqZWN0LmNyZWF0ZShyLnByb3RvdHlwZSk7Zm9yKGNvbnN0IGUgb2YgT2JqZWN0LmtleXModCkpXCIkbmFtZVwiIT09ZSYmKG5bZV09TmkodFtlXSkpO3JldHVybiBufXRocm93IG5ldyBFcnJvcihcImNhbid0IGRlc2VyaWFsaXplIG9iamVjdCBvZiB0eXBlIFwiK3R5cGVvZiB0KX1jbGFzcyBHaXtjb25zdHJ1Y3Rvcigpe3RoaXMuZmlyc3Q9ITA7fXVwZGF0ZSh0LGUpe2NvbnN0IHI9TWF0aC5mbG9vcih0KTtyZXR1cm4gdGhpcy5maXJzdD8odGhpcy5maXJzdD0hMSx0aGlzLmxhc3RJbnRlZ2VyWm9vbT1yLHRoaXMubGFzdEludGVnZXJab29tVGltZT0wLHRoaXMubGFzdFpvb209dCx0aGlzLmxhc3RGbG9vclpvb209ciwhMCk6KHRoaXMubGFzdEZsb29yWm9vbT5yPyh0aGlzLmxhc3RJbnRlZ2VyWm9vbT1yKzEsdGhpcy5sYXN0SW50ZWdlclpvb21UaW1lPWUpOnRoaXMubGFzdEZsb29yWm9vbTxyJiYodGhpcy5sYXN0SW50ZWdlclpvb209cix0aGlzLmxhc3RJbnRlZ2VyWm9vbVRpbWU9ZSksdCE9PXRoaXMubGFzdFpvb20mJih0aGlzLmxhc3Rab29tPXQsdGhpcy5sYXN0Rmxvb3Jab29tPXIsITApKX19Y29uc3QgWmk9dD0+dD49MTUzNiYmdDw9MTc5MSxYaT10PT50Pj0xODcyJiZ0PD0xOTE5LEtpPXQ9PnQ+PTIyMDgmJnQ8PTIzMDMsSGk9dD0+dD49MTE5MDQmJnQ8PTEyMDMxLFlpPXQ9PnQ+PTEyMDMyJiZ0PD0xMjI1NSxXaT10PT50Pj0xMjI3MiYmdDw9MTIyODcsSmk9dD0+dD49MTIyODgmJnQ8PTEyMzUxLFFpPXQ9PnQ+PTEyMzUyJiZ0PD0xMjQ0Nyx0cz10PT50Pj0xMjQ0OCYmdDw9MTI1NDMsZXM9dD0+dD49MTI1NDQmJnQ8PTEyNTkxLHJzPXQ9PnQ+PTEyNzA0JiZ0PD0xMjczNSxucz10PT50Pj0xMjczNiYmdDw9MTI3ODMsaXM9dD0+dD49MTI3ODQmJnQ8PTEyNzk5LHNzPXQ9PnQ+PTEyODAwJiZ0PD0xMzA1NSxhcz10PT50Pj0xMzA1NiYmdDw9MTMzMTEsb3M9dD0+dD49MTMzMTImJnQ8PTE5OTAzLGxzPXQ9PnQ+PTE5OTY4JiZ0PD00MDk1OSx1cz10PT50Pj00MDk2MCYmdDw9NDIxMjcsY3M9dD0+dD49NDIxMjgmJnQ8PTQyMTkxLGhzPXQ9PnQ+PTQ0MDMyJiZ0PD01NTIxNSxwcz10PT50Pj02Mzc0NCYmdDw9NjQyNTUsZnM9dD0+dD49NjQzMzYmJnQ8PTY1MDIzLGRzPXQ9PnQ+PTY1MDQwJiZ0PD02NTA1NSx5cz10PT50Pj02NTA3MiYmdDw9NjUxMDMsbXM9dD0+dD49NjUxMDQmJnQ8PTY1MTM1LGdzPXQ9PnQ+PTY1MTM2JiZ0PD02NTI3OSx4cz10PT50Pj02NTI4MCYmdDw9NjU1MTk7ZnVuY3Rpb24gdnModCl7Zm9yKGNvbnN0IGUgb2YgdClpZih3cyhlLmNoYXJDb2RlQXQoMCkpKXJldHVybiAhMDtyZXR1cm4gITF9ZnVuY3Rpb24gYnModCl7Zm9yKGNvbnN0IGUgb2YgdClpZighX3MoZS5jaGFyQ29kZUF0KDApKSlyZXR1cm4gITE7cmV0dXJuICEwfWZ1bmN0aW9uIF9zKHQpe3JldHVybiAhKFppKHQpfHxYaSh0KXx8S2kodCl8fGZzKHQpfHxncyh0KSl9ZnVuY3Rpb24gd3ModCl7cmV0dXJuICEoNzQ2IT09dCYmNzQ3IT09dCYmKHQ8NDM1Mnx8IShycyh0KXx8ZXModCl8fHlzKHQpJiYhKHQ+PTY1MDk3JiZ0PD02NTEwMyl8fHBzKHQpfHxhcyh0KXx8SGkodCl8fG5zKHQpfHwhKCFKaSh0KXx8dD49MTIyOTYmJnQ8PTEyMzA1fHx0Pj0xMjMwOCYmdDw9MTIzMTl8fDEyMzM2PT09dCl8fG9zKHQpfHxscyh0KXx8c3ModCl8fCh0PT50Pj0xMjU5MiYmdDw9MTI2ODcpKHQpfHwodD0+dD49NDMzNjAmJnQ8PTQzMzkxKSh0KXx8KHQ9PnQ+PTU1MjE2JiZ0PD01NTI5NSkodCl8fCh0PT50Pj00MzUyJiZ0PD00NjA3KSh0KXx8aHModCl8fFFpKHQpfHxXaSh0KXx8KHQ9PnQ+PTEyNjg4JiZ0PD0xMjcwMykodCl8fFlpKHQpfHxpcyh0KXx8dHModCkmJjEyNTQwIT09dHx8ISgheHModCl8fDY1Mjg4PT09dHx8NjUyODk9PT10fHw2NTI5Mz09PXR8fHQ+PTY1MzA2JiZ0PD02NTMxMHx8NjUzMzk9PT10fHw2NTM0MT09PXR8fDY1MzQzPT09dHx8dD49NjUzNzEmJnQ8PTY1NTAzfHw2NTUwNz09PXR8fHQ+PTY1NTEyJiZ0PD02NTUxOSl8fCEoIW1zKHQpfHx0Pj02NTExMiYmdDw9NjUxMTh8fHQ+PTY1MTIzJiZ0PD02NTEyNil8fCh0PT50Pj01MTIwJiZ0PD01NzU5KSh0KXx8KHQ9PnQ+PTYzMjAmJnQ8PTYzOTkpKHQpfHxkcyh0KXx8KHQ9PnQ+PTE5OTA0JiZ0PD0xOTk2NykodCl8fHVzKHQpfHxjcyh0KSkpKX1mdW5jdGlvbiBBcyh0KXtyZXR1cm4gISh3cyh0KXx8ZnVuY3Rpb24odCl7cmV0dXJuICEhKCh0PT50Pj0xMjgmJnQ8PTI1NSkodCkmJigxNjc9PT10fHwxNjk9PT10fHwxNzQ9PT10fHwxNzc9PT10fHwxODg9PT10fHwxODk9PT10fHwxOTA9PT10fHwyMTU9PT10fHwyNDc9PT10KXx8KHQ9PnQ+PTgxOTImJnQ8PTgzMDMpKHQpJiYoODIxND09PXR8fDgyMjQ9PT10fHw4MjI1PT09dHx8ODI0MD09PXR8fDgyNDE9PT10fHw4MjUxPT09dHx8ODI1Mj09PXR8fDgyNTg9PT10fHw4MjYzPT09dHx8ODI2ND09PXR8fDgyNjU9PT10fHw4MjczPT09dCl8fCh0PT50Pj04NDQ4JiZ0PD04NTI3KSh0KXx8KHQ9PnQ+PTg1MjgmJnQ8PTg1OTEpKHQpfHwodD0+dD49ODk2MCYmdDw9OTIxNSkodCkmJih0Pj04OTYwJiZ0PD04OTY3fHx0Pj04OTcyJiZ0PD04OTkxfHx0Pj04OTk2JiZ0PD05ZTN8fDkwMDM9PT10fHx0Pj05MDg1JiZ0PD05MTE0fHx0Pj05MTUwJiZ0PD05MTY1fHw5MTY3PT09dHx8dD49OTE2OSYmdDw9OTE3OXx8dD49OTE4NiYmdDw9OTIxNSl8fCh0PT50Pj05MjE2JiZ0PD05Mjc5KSh0KSYmOTI1MSE9PXR8fCh0PT50Pj05MjgwJiZ0PD05MzExKSh0KXx8KHQ9PnQ+PTkzMTImJnQ8PTk0NzEpKHQpfHwodD0+dD49OTYzMiYmdDw9OTcyNykodCl8fCh0PT50Pj05NzI4JiZ0PD05OTgzKSh0KSYmISh0Pj05NzU0JiZ0PD05NzU5KXx8KHQ9PnQ+PTExMDA4JiZ0PD0xMTI2MykodCkmJih0Pj0xMTAyNiYmdDw9MTEwNTV8fHQ+PTExMDg4JiZ0PD0xMTA5N3x8dD49MTExOTImJnQ8PTExMjQzKXx8SmkodCl8fHRzKHQpfHwodD0+dD49NTczNDQmJnQ8PTYzNzQzKSh0KXx8eXModCl8fG1zKHQpfHx4cyh0KXx8ODczND09PXR8fDg3NTY9PT10fHw4NzU3PT09dHx8dD49OTk4NCYmdDw9MTAwODd8fHQ+PTEwMTAyJiZ0PD0xMDEzMXx8NjU1MzI9PT10fHw2NTUzMz09PXQpfSh0KSl9ZnVuY3Rpb24gU3ModCl7cmV0dXJuIHQ+PTE0MjQmJnQ8PTIzMDN8fGZzKHQpfHxncyh0KX1mdW5jdGlvbiBrcyh0LGUpe3JldHVybiAhKCFlJiZTcyh0KXx8dD49MjMwNCYmdDw9MzU4M3x8dD49Mzg0MCYmdDw9NDI1NXx8KHQ9PnQ+PTYwMTYmJnQ8PTYxNDMpKHQpKX1mdW5jdGlvbiBJcyh0KXtmb3IoY29uc3QgZSBvZiB0KWlmKFNzKGUuY2hhckNvZGVBdCgwKSkpcmV0dXJuICEwO3JldHVybiAhMX1jb25zdCBNcz1cImRlZmVycmVkXCIsenM9XCJsb2FkaW5nXCIsVHM9XCJsb2FkZWRcIjtsZXQgQnM9bnVsbCxFcz1cInVuYXZhaWxhYmxlXCIsUHM9bnVsbDtjb25zdCBDcz1mdW5jdGlvbih0KXt0JiZcInN0cmluZ1wiPT10eXBlb2YgdCYmdC5pbmRleE9mKFwiTmV0d29ya0Vycm9yXCIpPi0xJiYoRXM9XCJlcnJvclwiKSxCcyYmQnModCk7fTtmdW5jdGlvbiBEcygpe1ZzLmZpcmUobmV3IFp0KFwicGx1Z2luU3RhdGVDaGFuZ2VcIix7cGx1Z2luU3RhdHVzOkVzLHBsdWdpblVSTDpQc30pKTt9Y29uc3QgVnM9bmV3IEt0LEZzPWZ1bmN0aW9uKCl7cmV0dXJuIEVzfSxMcz1mdW5jdGlvbigpe2lmKEVzIT09TXN8fCFQcyl0aHJvdyBuZXcgRXJyb3IoXCJydGwtdGV4dC1wbHVnaW4gY2Fubm90IGJlIGRvd25sb2FkZWQgdW5sZXNzIGEgcGx1Z2luVVJMIGlzIHNwZWNpZmllZFwiKTtFcz16cyxEcygpLFBzJiZ1dCh7dXJsOlBzfSwodD0+e3Q/Q3ModCk6KEVzPVRzLERzKCkpO30pKTt9LFJzPXthcHBseUFyYWJpY1NoYXBpbmc6bnVsbCxwcm9jZXNzQmlkaXJlY3Rpb25hbFRleHQ6bnVsbCxwcm9jZXNzU3R5bGVkQmlkaXJlY3Rpb25hbFRleHQ6bnVsbCxpc0xvYWRlZDooKT0+RXM9PT1Uc3x8bnVsbCE9UnMuYXBwbHlBcmFiaWNTaGFwaW5nLGlzTG9hZGluZzooKT0+RXM9PT16cyxzZXRTdGF0ZSh0KXtFcz10LnBsdWdpblN0YXR1cyxQcz10LnBsdWdpblVSTDt9LGlzUGFyc2VkOigpPT5udWxsIT1Scy5hcHBseUFyYWJpY1NoYXBpbmcmJm51bGwhPVJzLnByb2Nlc3NCaWRpcmVjdGlvbmFsVGV4dCYmbnVsbCE9UnMucHJvY2Vzc1N0eWxlZEJpZGlyZWN0aW9uYWxUZXh0LGdldFBsdWdpblVSTDooKT0+UHN9O2NsYXNzIFVze2NvbnN0cnVjdG9yKHQsZSl7dGhpcy56b29tPXQsZT8odGhpcy5ub3c9ZS5ub3csdGhpcy5mYWRlRHVyYXRpb249ZS5mYWRlRHVyYXRpb24sdGhpcy56b29tSGlzdG9yeT1lLnpvb21IaXN0b3J5LHRoaXMudHJhbnNpdGlvbj1lLnRyYW5zaXRpb24sdGhpcy5waXRjaD1lLnBpdGNoKToodGhpcy5ub3c9MCx0aGlzLmZhZGVEdXJhdGlvbj0wLHRoaXMuem9vbUhpc3Rvcnk9bmV3IEdpLHRoaXMudHJhbnNpdGlvbj17fSx0aGlzLnBpdGNoPTApO31pc1N1cHBvcnRlZFNjcmlwdCh0KXtyZXR1cm4gZnVuY3Rpb24odCxlKXtmb3IoY29uc3QgciBvZiB0KWlmKCFrcyhyLmNoYXJDb2RlQXQoMCksZSkpcmV0dXJuICExO3JldHVybiAhMH0odCxScy5pc0xvYWRlZCgpKX1jcm9zc0ZhZGluZ0ZhY3Rvcigpe3JldHVybiAwPT09dGhpcy5mYWRlRHVyYXRpb24/MTpNYXRoLm1pbigodGhpcy5ub3ctdGhpcy56b29tSGlzdG9yeS5sYXN0SW50ZWdlclpvb21UaW1lKS90aGlzLmZhZGVEdXJhdGlvbiwxKX1nZXRDcm9zc2ZhZGVQYXJhbWV0ZXJzKCl7Y29uc3QgdD10aGlzLnpvb20sZT10LU1hdGguZmxvb3IodCkscj10aGlzLmNyb3NzRmFkaW5nRmFjdG9yKCk7cmV0dXJuIHQ+dGhpcy56b29tSGlzdG9yeS5sYXN0SW50ZWdlclpvb20/e2Zyb21TY2FsZToyLHRvU2NhbGU6MSx0OmUrKDEtZSkqcn06e2Zyb21TY2FsZTouNSx0b1NjYWxlOjEsdDoxLSgxLXIpKmV9fX1jbGFzcyBqc3tjb25zdHJ1Y3Rvcih0LGUpe3RoaXMucHJvcGVydHk9dCx0aGlzLnZhbHVlPWUsdGhpcy5leHByZXNzaW9uPWZ1bmN0aW9uKHQsZSl7aWYoRG4odCkpcmV0dXJuIG5ldyBLbih0LGUpO2lmKHFuKHQpKXtjb25zdCByPVhuKHQsZSk7aWYoXCJlcnJvclwiPT09ci5yZXN1bHQpdGhyb3cgbmV3IEVycm9yKHIudmFsdWUubWFwKCh0PT5gJHt0LmtleX06ICR7dC5tZXNzYWdlfWApKS5qb2luKFwiLCBcIikpO3JldHVybiByLnZhbHVlfXtsZXQgcj10O3JldHVybiBcInN0cmluZ1wiPT10eXBlb2YgdCYmXCJjb2xvclwiPT09ZS50eXBlJiYocj1JZS5wYXJzZSh0KSkse2tpbmQ6XCJjb25zdGFudFwiLGV2YWx1YXRlOigpPT5yfX19KHZvaWQgMD09PWU/dC5zcGVjaWZpY2F0aW9uLmRlZmF1bHQ6ZSx0LnNwZWNpZmljYXRpb24pO31pc0RhdGFEcml2ZW4oKXtyZXR1cm4gXCJzb3VyY2VcIj09PXRoaXMuZXhwcmVzc2lvbi5raW5kfHxcImNvbXBvc2l0ZVwiPT09dGhpcy5leHByZXNzaW9uLmtpbmR9cG9zc2libHlFdmFsdWF0ZSh0LGUscil7cmV0dXJuIHRoaXMucHJvcGVydHkucG9zc2libHlFdmFsdWF0ZSh0aGlzLHQsZSxyKX19Y2xhc3MgJHN7Y29uc3RydWN0b3IodCl7dGhpcy5wcm9wZXJ0eT10LHRoaXMudmFsdWU9bmV3IGpzKHQsdm9pZCAwKTt9dHJhbnNpdGlvbmVkKHQsZSl7cmV0dXJuIG5ldyBxcyh0aGlzLnByb3BlcnR5LHRoaXMudmFsdWUsZSxUKHt9LHQudHJhbnNpdGlvbix0aGlzLnRyYW5zaXRpb24pLHQubm93KX11bnRyYW5zaXRpb25lZCgpe3JldHVybiBuZXcgcXModGhpcy5wcm9wZXJ0eSx0aGlzLnZhbHVlLG51bGwse30sMCl9fWNsYXNzIE9ze2NvbnN0cnVjdG9yKHQpe3RoaXMuX3Byb3BlcnRpZXM9dCx0aGlzLl92YWx1ZXM9T2JqZWN0LmNyZWF0ZSh0LmRlZmF1bHRUcmFuc2l0aW9uYWJsZVByb3BlcnR5VmFsdWVzKTt9Z2V0VmFsdWUodCl7cmV0dXJuIFUodGhpcy5fdmFsdWVzW3RdLnZhbHVlLnZhbHVlKX1zZXRWYWx1ZSh0LGUpe3RoaXMuX3ZhbHVlcy5oYXNPd25Qcm9wZXJ0eSh0KXx8KHRoaXMuX3ZhbHVlc1t0XT1uZXcgJHModGhpcy5fdmFsdWVzW3RdLnByb3BlcnR5KSksdGhpcy5fdmFsdWVzW3RdLnZhbHVlPW5ldyBqcyh0aGlzLl92YWx1ZXNbdF0ucHJvcGVydHksbnVsbD09PWU/dm9pZCAwOlUoZSkpO31nZXRUcmFuc2l0aW9uKHQpe3JldHVybiBVKHRoaXMuX3ZhbHVlc1t0XS50cmFuc2l0aW9uKX1zZXRUcmFuc2l0aW9uKHQsZSl7dGhpcy5fdmFsdWVzLmhhc093blByb3BlcnR5KHQpfHwodGhpcy5fdmFsdWVzW3RdPW5ldyAkcyh0aGlzLl92YWx1ZXNbdF0ucHJvcGVydHkpKSx0aGlzLl92YWx1ZXNbdF0udHJhbnNpdGlvbj1VKGUpfHx2b2lkIDA7fXNlcmlhbGl6ZSgpe2NvbnN0IHQ9e307Zm9yKGNvbnN0IGUgb2YgT2JqZWN0LmtleXModGhpcy5fdmFsdWVzKSl7Y29uc3Qgcj10aGlzLmdldFZhbHVlKGUpO3ZvaWQgMCE9PXImJih0W2VdPXIpO2NvbnN0IG49dGhpcy5nZXRUcmFuc2l0aW9uKGUpO3ZvaWQgMCE9PW4mJih0W2Ake2V9LXRyYW5zaXRpb25gXT1uKTt9cmV0dXJuIHR9dHJhbnNpdGlvbmVkKHQsZSl7Y29uc3Qgcj1uZXcgTnModGhpcy5fcHJvcGVydGllcyk7Zm9yKGNvbnN0IG4gb2YgT2JqZWN0LmtleXModGhpcy5fdmFsdWVzKSlyLl92YWx1ZXNbbl09dGhpcy5fdmFsdWVzW25dLnRyYW5zaXRpb25lZCh0LGUuX3ZhbHVlc1tuXSk7cmV0dXJuIHJ9dW50cmFuc2l0aW9uZWQoKXtjb25zdCB0PW5ldyBOcyh0aGlzLl9wcm9wZXJ0aWVzKTtmb3IoY29uc3QgZSBvZiBPYmplY3Qua2V5cyh0aGlzLl92YWx1ZXMpKXQuX3ZhbHVlc1tlXT10aGlzLl92YWx1ZXNbZV0udW50cmFuc2l0aW9uZWQoKTtyZXR1cm4gdH19Y2xhc3MgcXN7Y29uc3RydWN0b3IodCxlLHIsbixpKXtjb25zdCBzPW4uZGVsYXl8fDAsYT1uLmR1cmF0aW9ufHwwO2k9aXx8MCx0aGlzLnByb3BlcnR5PXQsdGhpcy52YWx1ZT1lLHRoaXMuYmVnaW49aStzLHRoaXMuZW5kPXRoaXMuYmVnaW4rYSx0LnNwZWNpZmljYXRpb24udHJhbnNpdGlvbiYmKG4uZGVsYXl8fG4uZHVyYXRpb24pJiYodGhpcy5wcmlvcj1yKTt9cG9zc2libHlFdmFsdWF0ZSh0LGUscil7Y29uc3Qgbj10Lm5vd3x8MCxpPXRoaXMudmFsdWUucG9zc2libHlFdmFsdWF0ZSh0LGUscikscz10aGlzLnByaW9yO2lmKHMpe2lmKG4+dGhpcy5lbmQpcmV0dXJuIHRoaXMucHJpb3I9bnVsbCxpO2lmKHRoaXMudmFsdWUuaXNEYXRhRHJpdmVuKCkpcmV0dXJuIHRoaXMucHJpb3I9bnVsbCxpO2lmKG48dGhpcy5iZWdpbilyZXR1cm4gcy5wb3NzaWJseUV2YWx1YXRlKHQsZSxyKTt7Y29uc3QgYT0obi10aGlzLmJlZ2luKS8odGhpcy5lbmQtdGhpcy5iZWdpbik7cmV0dXJuIHRoaXMucHJvcGVydHkuaW50ZXJwb2xhdGUocy5wb3NzaWJseUV2YWx1YXRlKHQsZSxyKSxpLF8oYSkpfX1yZXR1cm4gaX19Y2xhc3MgTnN7Y29uc3RydWN0b3IodCl7dGhpcy5fcHJvcGVydGllcz10LHRoaXMuX3ZhbHVlcz1PYmplY3QuY3JlYXRlKHQuZGVmYXVsdFRyYW5zaXRpb25pbmdQcm9wZXJ0eVZhbHVlcyk7fXBvc3NpYmx5RXZhbHVhdGUodCxlLHIpe2NvbnN0IG49bmV3IFhzKHRoaXMuX3Byb3BlcnRpZXMpO2Zvcihjb25zdCBpIG9mIE9iamVjdC5rZXlzKHRoaXMuX3ZhbHVlcykpbi5fdmFsdWVzW2ldPXRoaXMuX3ZhbHVlc1tpXS5wb3NzaWJseUV2YWx1YXRlKHQsZSxyKTtyZXR1cm4gbn1oYXNUcmFuc2l0aW9uKCl7Zm9yKGNvbnN0IHQgb2YgT2JqZWN0LmtleXModGhpcy5fdmFsdWVzKSlpZih0aGlzLl92YWx1ZXNbdF0ucHJpb3IpcmV0dXJuICEwO3JldHVybiAhMX19Y2xhc3MgR3N7Y29uc3RydWN0b3IodCl7dGhpcy5fcHJvcGVydGllcz10LHRoaXMuX3ZhbHVlcz1PYmplY3QuY3JlYXRlKHQuZGVmYXVsdFByb3BlcnR5VmFsdWVzKTt9Z2V0VmFsdWUodCl7cmV0dXJuIFUodGhpcy5fdmFsdWVzW3RdLnZhbHVlKX1zZXRWYWx1ZSh0LGUpe3RoaXMuX3ZhbHVlc1t0XT1uZXcganModGhpcy5fdmFsdWVzW3RdLnByb3BlcnR5LG51bGw9PT1lP3ZvaWQgMDpVKGUpKTt9c2VyaWFsaXplKCl7Y29uc3QgdD17fTtmb3IoY29uc3QgZSBvZiBPYmplY3Qua2V5cyh0aGlzLl92YWx1ZXMpKXtjb25zdCByPXRoaXMuZ2V0VmFsdWUoZSk7dm9pZCAwIT09ciYmKHRbZV09cik7fXJldHVybiB0fXBvc3NpYmx5RXZhbHVhdGUodCxlLHIpe2NvbnN0IG49bmV3IFhzKHRoaXMuX3Byb3BlcnRpZXMpO2Zvcihjb25zdCBpIG9mIE9iamVjdC5rZXlzKHRoaXMuX3ZhbHVlcykpbi5fdmFsdWVzW2ldPXRoaXMuX3ZhbHVlc1tpXS5wb3NzaWJseUV2YWx1YXRlKHQsZSxyKTtyZXR1cm4gbn19Y2xhc3MgWnN7Y29uc3RydWN0b3IodCxlLHIpe3RoaXMucHJvcGVydHk9dCx0aGlzLnZhbHVlPWUsdGhpcy5wYXJhbWV0ZXJzPXI7fWlzQ29uc3RhbnQoKXtyZXR1cm4gXCJjb25zdGFudFwiPT09dGhpcy52YWx1ZS5raW5kfWNvbnN0YW50T3IodCl7cmV0dXJuIFwiY29uc3RhbnRcIj09PXRoaXMudmFsdWUua2luZD90aGlzLnZhbHVlLnZhbHVlOnR9ZXZhbHVhdGUodCxlLHIsbil7cmV0dXJuIHRoaXMucHJvcGVydHkuZXZhbHVhdGUodGhpcy52YWx1ZSx0aGlzLnBhcmFtZXRlcnMsdCxlLHIsbil9fWNsYXNzIFhze2NvbnN0cnVjdG9yKHQpe3RoaXMuX3Byb3BlcnRpZXM9dCx0aGlzLl92YWx1ZXM9T2JqZWN0LmNyZWF0ZSh0LmRlZmF1bHRQb3NzaWJseUV2YWx1YXRlZFZhbHVlcyk7fWdldCh0KXtyZXR1cm4gdGhpcy5fdmFsdWVzW3RdfX1jbGFzcyBLc3tjb25zdHJ1Y3Rvcih0KXt0aGlzLnNwZWNpZmljYXRpb249dDt9cG9zc2libHlFdmFsdWF0ZSh0LGUpe3JldHVybiB0LmV4cHJlc3Npb24uZXZhbHVhdGUoZSl9aW50ZXJwb2xhdGUodCxlLHIpe2NvbnN0IG49TXJbdGhpcy5zcGVjaWZpY2F0aW9uLnR5cGVdO3JldHVybiBuP24odCxlLHIpOnR9fWNsYXNzIEhze2NvbnN0cnVjdG9yKHQsZSl7dGhpcy5zcGVjaWZpY2F0aW9uPXQsdGhpcy5vdmVycmlkZXM9ZTt9cG9zc2libHlFdmFsdWF0ZSh0LGUscixuKXtyZXR1cm4gbmV3IFpzKHRoaXMsXCJjb25zdGFudFwiPT09dC5leHByZXNzaW9uLmtpbmR8fFwiY2FtZXJhXCI9PT10LmV4cHJlc3Npb24ua2luZD97a2luZDpcImNvbnN0YW50XCIsdmFsdWU6dC5leHByZXNzaW9uLmV2YWx1YXRlKGUsbnVsbCx7fSxyLG4pfTp0LmV4cHJlc3Npb24sZSl9aW50ZXJwb2xhdGUodCxlLHIpe2lmKFwiY29uc3RhbnRcIiE9PXQudmFsdWUua2luZHx8XCJjb25zdGFudFwiIT09ZS52YWx1ZS5raW5kKXJldHVybiB0O2lmKHZvaWQgMD09PXQudmFsdWUudmFsdWV8fHZvaWQgMD09PWUudmFsdWUudmFsdWUpcmV0dXJuIG5ldyBacyh0aGlzLHtraW5kOlwiY29uc3RhbnRcIix2YWx1ZTp2b2lkIDB9LHQucGFyYW1ldGVycyk7Y29uc3Qgbj1Nclt0aGlzLnNwZWNpZmljYXRpb24udHlwZV07cmV0dXJuIG4/bmV3IFpzKHRoaXMse2tpbmQ6XCJjb25zdGFudFwiLHZhbHVlOm4odC52YWx1ZS52YWx1ZSxlLnZhbHVlLnZhbHVlLHIpfSx0LnBhcmFtZXRlcnMpOnR9ZXZhbHVhdGUodCxlLHIsbixpLHMpe3JldHVybiBcImNvbnN0YW50XCI9PT10LmtpbmQ/dC52YWx1ZTp0LmV2YWx1YXRlKGUscixuLGkscyl9fWNsYXNzIFlzIGV4dGVuZHMgSHN7cG9zc2libHlFdmFsdWF0ZSh0LGUscixuKXtpZih2b2lkIDA9PT10LnZhbHVlKXJldHVybiBuZXcgWnModGhpcyx7a2luZDpcImNvbnN0YW50XCIsdmFsdWU6dm9pZCAwfSxlKTtpZihcImNvbnN0YW50XCI9PT10LmV4cHJlc3Npb24ua2luZCl7Y29uc3QgaT10LmV4cHJlc3Npb24uZXZhbHVhdGUoZSxudWxsLHt9LHIsbikscz1cInJlc29sdmVkSW1hZ2VcIj09PXQucHJvcGVydHkuc3BlY2lmaWNhdGlvbi50eXBlJiZcInN0cmluZ1wiIT10eXBlb2YgaT9pLm5hbWU6aSxhPXRoaXMuX2NhbGN1bGF0ZShzLHMscyxlKTtyZXR1cm4gbmV3IFpzKHRoaXMse2tpbmQ6XCJjb25zdGFudFwiLHZhbHVlOmF9LGUpfWlmKFwiY2FtZXJhXCI9PT10LmV4cHJlc3Npb24ua2luZCl7Y29uc3Qgcj10aGlzLl9jYWxjdWxhdGUodC5leHByZXNzaW9uLmV2YWx1YXRlKHt6b29tOmUuem9vbS0xfSksdC5leHByZXNzaW9uLmV2YWx1YXRlKHt6b29tOmUuem9vbX0pLHQuZXhwcmVzc2lvbi5ldmFsdWF0ZSh7em9vbTplLnpvb20rMX0pLGUpO3JldHVybiBuZXcgWnModGhpcyx7a2luZDpcImNvbnN0YW50XCIsdmFsdWU6cn0sZSl9cmV0dXJuIG5ldyBacyh0aGlzLHQuZXhwcmVzc2lvbixlKX1ldmFsdWF0ZSh0LGUscixuLGkscyl7aWYoXCJzb3VyY2VcIj09PXQua2luZCl7Y29uc3QgYT10LmV2YWx1YXRlKGUscixuLGkscyk7cmV0dXJuIHRoaXMuX2NhbGN1bGF0ZShhLGEsYSxlKX1yZXR1cm4gXCJjb21wb3NpdGVcIj09PXQua2luZD90aGlzLl9jYWxjdWxhdGUodC5ldmFsdWF0ZSh7em9vbTpNYXRoLmZsb29yKGUuem9vbSktMX0scixuKSx0LmV2YWx1YXRlKHt6b29tOk1hdGguZmxvb3IoZS56b29tKX0scixuKSx0LmV2YWx1YXRlKHt6b29tOk1hdGguZmxvb3IoZS56b29tKSsxfSxyLG4pLGUpOnQudmFsdWV9X2NhbGN1bGF0ZSh0LGUscixuKXtyZXR1cm4gbi56b29tPm4uem9vbUhpc3RvcnkubGFzdEludGVnZXJab29tP3tmcm9tOnQsdG86ZSxvdGhlcjpyfTp7ZnJvbTpyLHRvOmUsb3RoZXI6dH19aW50ZXJwb2xhdGUodCl7cmV0dXJuIHR9fWNsYXNzIFdze2NvbnN0cnVjdG9yKHQpe3RoaXMuc3BlY2lmaWNhdGlvbj10O31wb3NzaWJseUV2YWx1YXRlKHQsZSxyLG4pe2lmKHZvaWQgMCE9PXQudmFsdWUpe2lmKFwiY29uc3RhbnRcIj09PXQuZXhwcmVzc2lvbi5raW5kKXtjb25zdCBpPXQuZXhwcmVzc2lvbi5ldmFsdWF0ZShlLG51bGwse30scixuKTtyZXR1cm4gdGhpcy5fY2FsY3VsYXRlKGksaSxpLGUpfXJldHVybiB0aGlzLl9jYWxjdWxhdGUodC5leHByZXNzaW9uLmV2YWx1YXRlKG5ldyBVcyhNYXRoLmZsb29yKGUuem9vbS0xKSxlKSksdC5leHByZXNzaW9uLmV2YWx1YXRlKG5ldyBVcyhNYXRoLmZsb29yKGUuem9vbSksZSkpLHQuZXhwcmVzc2lvbi5ldmFsdWF0ZShuZXcgVXMoTWF0aC5mbG9vcihlLnpvb20rMSksZSkpLGUpfX1fY2FsY3VsYXRlKHQsZSxyLG4pe3JldHVybiBuLnpvb20+bi56b29tSGlzdG9yeS5sYXN0SW50ZWdlclpvb20/e2Zyb206dCx0bzplfTp7ZnJvbTpyLHRvOmV9fWludGVycG9sYXRlKHQpe3JldHVybiB0fX1jbGFzcyBKc3tjb25zdHJ1Y3Rvcih0KXt0aGlzLnNwZWNpZmljYXRpb249dDt9cG9zc2libHlFdmFsdWF0ZSh0LGUscixuKXtyZXR1cm4gISF0LmV4cHJlc3Npb24uZXZhbHVhdGUoZSxudWxsLHt9LHIsbil9aW50ZXJwb2xhdGUoKXtyZXR1cm4gITF9fWNsYXNzIFFze2NvbnN0cnVjdG9yKHQpe3RoaXMucHJvcGVydGllcz10LHRoaXMuZGVmYXVsdFByb3BlcnR5VmFsdWVzPXt9LHRoaXMuZGVmYXVsdFRyYW5zaXRpb25hYmxlUHJvcGVydHlWYWx1ZXM9e30sdGhpcy5kZWZhdWx0VHJhbnNpdGlvbmluZ1Byb3BlcnR5VmFsdWVzPXt9LHRoaXMuZGVmYXVsdFBvc3NpYmx5RXZhbHVhdGVkVmFsdWVzPXt9LHRoaXMub3ZlcnJpZGFibGVQcm9wZXJ0aWVzPVtdO2NvbnN0IGU9bmV3IFVzKDAse30pO2Zvcihjb25zdCByIGluIHQpe2NvbnN0IG49dFtyXTtuLnNwZWNpZmljYXRpb24ub3ZlcnJpZGFibGUmJnRoaXMub3ZlcnJpZGFibGVQcm9wZXJ0aWVzLnB1c2gocik7Y29uc3QgaT10aGlzLmRlZmF1bHRQcm9wZXJ0eVZhbHVlc1tyXT1uZXcganMobix2b2lkIDApLHM9dGhpcy5kZWZhdWx0VHJhbnNpdGlvbmFibGVQcm9wZXJ0eVZhbHVlc1tyXT1uZXcgJHMobik7dGhpcy5kZWZhdWx0VHJhbnNpdGlvbmluZ1Byb3BlcnR5VmFsdWVzW3JdPXMudW50cmFuc2l0aW9uZWQoKSx0aGlzLmRlZmF1bHRQb3NzaWJseUV2YWx1YXRlZFZhbHVlc1tyXT1pLnBvc3NpYmx5RXZhbHVhdGUoZSk7fX19ZnVuY3Rpb24gdGEodCxlKXtyZXR1cm4gMjU2Kih0PVMoTWF0aC5mbG9vcih0KSwwLDI1NSkpK1MoTWF0aC5mbG9vcihlKSwwLDI1NSl9amkoSHMsXCJEYXRhRHJpdmVuUHJvcGVydHlcIiksamkoS3MsXCJEYXRhQ29uc3RhbnRQcm9wZXJ0eVwiKSxqaShZcyxcIkNyb3NzRmFkZWREYXRhRHJpdmVuUHJvcGVydHlcIiksamkoV3MsXCJDcm9zc0ZhZGVkUHJvcGVydHlcIiksamkoSnMsXCJDb2xvclJhbXBQcm9wZXJ0eVwiKTtjb25zdCBlYT17SW50ODpJbnQ4QXJyYXksVWludDg6VWludDhBcnJheSxJbnQxNjpJbnQxNkFycmF5LFVpbnQxNjpVaW50MTZBcnJheSxJbnQzMjpJbnQzMkFycmF5LFVpbnQzMjpVaW50MzJBcnJheSxGbG9hdDMyOkZsb2F0MzJBcnJheX07Y2xhc3MgcmF7Y29uc3RydWN0b3IodCxlKXt0aGlzLl9zdHJ1Y3RBcnJheT10LHRoaXMuX3BvczE9ZSp0aGlzLnNpemUsdGhpcy5fcG9zMj10aGlzLl9wb3MxLzIsdGhpcy5fcG9zND10aGlzLl9wb3MxLzQsdGhpcy5fcG9zOD10aGlzLl9wb3MxLzg7fX1jbGFzcyBuYXtjb25zdHJ1Y3Rvcigpe3RoaXMuaXNUcmFuc2ZlcnJlZD0hMSx0aGlzLmNhcGFjaXR5PS0xLHRoaXMucmVzaXplKDApO31zdGF0aWMgc2VyaWFsaXplKHQsZSl7cmV0dXJuIHQuX3RyaW0oKSxlJiYodC5pc1RyYW5zZmVycmVkPSEwLGUucHVzaCh0LmFycmF5QnVmZmVyKSkse2xlbmd0aDp0Lmxlbmd0aCxhcnJheUJ1ZmZlcjp0LmFycmF5QnVmZmVyfX1zdGF0aWMgZGVzZXJpYWxpemUodCl7Y29uc3QgZT1PYmplY3QuY3JlYXRlKHRoaXMucHJvdG90eXBlKTtyZXR1cm4gZS5hcnJheUJ1ZmZlcj10LmFycmF5QnVmZmVyLGUubGVuZ3RoPXQubGVuZ3RoLGUuY2FwYWNpdHk9dC5hcnJheUJ1ZmZlci5ieXRlTGVuZ3RoL2UuYnl0ZXNQZXJFbGVtZW50LGUuX3JlZnJlc2hWaWV3cygpLGV9X3RyaW0oKXt0aGlzLmxlbmd0aCE9PXRoaXMuY2FwYWNpdHkmJih0aGlzLmNhcGFjaXR5PXRoaXMubGVuZ3RoLHRoaXMuYXJyYXlCdWZmZXI9dGhpcy5hcnJheUJ1ZmZlci5zbGljZSgwLHRoaXMubGVuZ3RoKnRoaXMuYnl0ZXNQZXJFbGVtZW50KSx0aGlzLl9yZWZyZXNoVmlld3MoKSk7fWNsZWFyKCl7dGhpcy5sZW5ndGg9MDt9cmVzaXplKHQpe3RoaXMucmVzZXJ2ZSh0KSx0aGlzLmxlbmd0aD10O31yZXNlcnZlKHQpe2lmKHQ+dGhpcy5jYXBhY2l0eSl7dGhpcy5jYXBhY2l0eT1NYXRoLm1heCh0LE1hdGguZmxvb3IoNSp0aGlzLmNhcGFjaXR5KSwxMjgpLHRoaXMuYXJyYXlCdWZmZXI9bmV3IEFycmF5QnVmZmVyKHRoaXMuY2FwYWNpdHkqdGhpcy5ieXRlc1BlckVsZW1lbnQpO2NvbnN0IGU9dGhpcy51aW50ODt0aGlzLl9yZWZyZXNoVmlld3MoKSxlJiZ0aGlzLnVpbnQ4LnNldChlKTt9fV9yZWZyZXNoVmlld3MoKXt0aHJvdyBuZXcgRXJyb3IoXCJfcmVmcmVzaFZpZXdzKCkgbXVzdCBiZSBpbXBsZW1lbnRlZCBieSBlYWNoIGNvbmNyZXRlIFN0cnVjdEFycmF5IGxheW91dFwiKX1kZXN0cm95KCl7dGhpcy5pbnQ4PXRoaXMudWludDg9dGhpcy5pbnQxNj10aGlzLnVpbnQxNj10aGlzLmludDMyPXRoaXMudWludDMyPXRoaXMuZmxvYXQzMj1udWxsLHRoaXMuYXJyYXlCdWZmZXI9bnVsbDt9fWZ1bmN0aW9uIGlhKHQsZT0xKXtsZXQgcj0wLG49MDtyZXR1cm4ge21lbWJlcnM6dC5tYXAoKHQ9Pntjb25zdCBpPWVhW3QudHlwZV0uQllURVNfUEVSX0VMRU1FTlQscz1yPXNhKHIsTWF0aC5tYXgoZSxpKSksYT10LmNvbXBvbmVudHN8fDE7cmV0dXJuIG49TWF0aC5tYXgobixpKSxyKz1pKmEse25hbWU6dC5uYW1lLHR5cGU6dC50eXBlLGNvbXBvbmVudHM6YSxvZmZzZXQ6c319KSksc2l6ZTpzYShyLE1hdGgubWF4KG4sZSkpLGFsaWdubWVudDplfX1mdW5jdGlvbiBzYSh0LGUpe3JldHVybiBNYXRoLmNlaWwodC9lKSplfWNsYXNzIGFhIGV4dGVuZHMgbmF7X3JlZnJlc2hWaWV3cygpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5pbnQxNj1uZXcgSW50MTZBcnJheSh0aGlzLmFycmF5QnVmZmVyKTt9ZW1wbGFjZUJhY2sodCxlKXtjb25zdCByPXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZShyKzEpLHRoaXMuZW1wbGFjZShyLHQsZSl9ZW1wbGFjZSh0LGUscil7Y29uc3Qgbj0yKnQ7cmV0dXJuIHRoaXMuaW50MTZbbiswXT1lLHRoaXMuaW50MTZbbisxXT1yLHR9fWFhLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9NCxqaShhYSxcIlN0cnVjdEFycmF5TGF5b3V0Mmk0XCIpO2NsYXNzIG9hIGV4dGVuZHMgbmF7X3JlZnJlc2hWaWV3cygpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5pbnQxNj1uZXcgSW50MTZBcnJheSh0aGlzLmFycmF5QnVmZmVyKTt9ZW1wbGFjZUJhY2sodCxlLHIpe2NvbnN0IG49dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKG4rMSksdGhpcy5lbXBsYWNlKG4sdCxlLHIpfWVtcGxhY2UodCxlLHIsbil7Y29uc3QgaT0zKnQ7cmV0dXJuIHRoaXMuaW50MTZbaSswXT1lLHRoaXMuaW50MTZbaSsxXT1yLHRoaXMuaW50MTZbaSsyXT1uLHR9fW9hLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9NixqaShvYSxcIlN0cnVjdEFycmF5TGF5b3V0M2k2XCIpO2NsYXNzIGxhIGV4dGVuZHMgbmF7X3JlZnJlc2hWaWV3cygpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5pbnQxNj1uZXcgSW50MTZBcnJheSh0aGlzLmFycmF5QnVmZmVyKTt9ZW1wbGFjZUJhY2sodCxlLHIsbil7Y29uc3QgaT10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUoaSsxKSx0aGlzLmVtcGxhY2UoaSx0LGUscixuKX1lbXBsYWNlKHQsZSxyLG4saSl7Y29uc3Qgcz00KnQ7cmV0dXJuIHRoaXMuaW50MTZbcyswXT1lLHRoaXMuaW50MTZbcysxXT1yLHRoaXMuaW50MTZbcysyXT1uLHRoaXMuaW50MTZbcyszXT1pLHR9fWxhLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9OCxqaShsYSxcIlN0cnVjdEFycmF5TGF5b3V0NGk4XCIpO2NsYXNzIHVhIGV4dGVuZHMgbmF7X3JlZnJlc2hWaWV3cygpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5pbnQxNj1uZXcgSW50MTZBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmZsb2F0MzI9bmV3IEZsb2F0MzJBcnJheSh0aGlzLmFycmF5QnVmZmVyKTt9ZW1wbGFjZUJhY2sodCxlLHIsbixpLHMsYSl7Y29uc3Qgbz10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUobysxKSx0aGlzLmVtcGxhY2Uobyx0LGUscixuLGkscyxhKX1lbXBsYWNlKHQsZSxyLG4saSxzLGEsbyl7Y29uc3QgbD02KnQsdT0xMip0LGM9Myp0O3JldHVybiB0aGlzLmludDE2W2wrMF09ZSx0aGlzLmludDE2W2wrMV09cix0aGlzLnVpbnQ4W3UrNF09bix0aGlzLnVpbnQ4W3UrNV09aSx0aGlzLnVpbnQ4W3UrNl09cyx0aGlzLnVpbnQ4W3UrN109YSx0aGlzLmZsb2F0MzJbYysyXT1vLHR9fXVhLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9MTIsamkodWEsXCJTdHJ1Y3RBcnJheUxheW91dDJpNHViMWYxMlwiKTtjbGFzcyBjYSBleHRlbmRzIG5he19yZWZyZXNoVmlld3MoKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuZmxvYXQzMj1uZXcgRmxvYXQzMkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpO31lbXBsYWNlQmFjayh0LGUscixuKXtjb25zdCBpPXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZShpKzEpLHRoaXMuZW1wbGFjZShpLHQsZSxyLG4pfWVtcGxhY2UodCxlLHIsbixpKXtjb25zdCBzPTQqdDtyZXR1cm4gdGhpcy5mbG9hdDMyW3MrMF09ZSx0aGlzLmZsb2F0MzJbcysxXT1yLHRoaXMuZmxvYXQzMltzKzJdPW4sdGhpcy5mbG9hdDMyW3MrM109aSx0fX1jYS5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTE2LGppKGNhLFwiU3RydWN0QXJyYXlMYXlvdXQ0ZjE2XCIpO2NsYXNzIGhhIGV4dGVuZHMgbmF7X3JlZnJlc2hWaWV3cygpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy51aW50MTY9bmV3IFVpbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpO31lbXBsYWNlQmFjayh0LGUscixuLGkscyxhLG8sbCx1KXtjb25zdCBjPXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZShjKzEpLHRoaXMuZW1wbGFjZShjLHQsZSxyLG4saSxzLGEsbyxsLHUpfWVtcGxhY2UodCxlLHIsbixpLHMsYSxvLGwsdSxjKXtjb25zdCBoPTEwKnQ7cmV0dXJuIHRoaXMudWludDE2W2grMF09ZSx0aGlzLnVpbnQxNltoKzFdPXIsdGhpcy51aW50MTZbaCsyXT1uLHRoaXMudWludDE2W2grM109aSx0aGlzLnVpbnQxNltoKzRdPXMsdGhpcy51aW50MTZbaCs1XT1hLHRoaXMudWludDE2W2grNl09byx0aGlzLnVpbnQxNltoKzddPWwsdGhpcy51aW50MTZbaCs4XT11LHRoaXMudWludDE2W2grOV09Yyx0fX1oYS5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTIwLGppKGhhLFwiU3RydWN0QXJyYXlMYXlvdXQxMHVpMjBcIik7Y2xhc3MgcGEgZXh0ZW5kcyBuYXtfcmVmcmVzaFZpZXdzKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLnVpbnQxNj1uZXcgVWludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlcik7fWVtcGxhY2VCYWNrKHQsZSxyLG4saSxzLGEsbyl7Y29uc3QgbD10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUobCsxKSx0aGlzLmVtcGxhY2UobCx0LGUscixuLGkscyxhLG8pfWVtcGxhY2UodCxlLHIsbixpLHMsYSxvLGwpe2NvbnN0IHU9OCp0O3JldHVybiB0aGlzLnVpbnQxNlt1KzBdPWUsdGhpcy51aW50MTZbdSsxXT1yLHRoaXMudWludDE2W3UrMl09bix0aGlzLnVpbnQxNlt1KzNdPWksdGhpcy51aW50MTZbdSs0XT1zLHRoaXMudWludDE2W3UrNV09YSx0aGlzLnVpbnQxNlt1KzZdPW8sdGhpcy51aW50MTZbdSs3XT1sLHR9fXBhLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9MTYsamkocGEsXCJTdHJ1Y3RBcnJheUxheW91dDh1aTE2XCIpO2NsYXNzIGZhIGV4dGVuZHMgbmF7X3JlZnJlc2hWaWV3cygpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5pbnQxNj1uZXcgSW50MTZBcnJheSh0aGlzLmFycmF5QnVmZmVyKTt9ZW1wbGFjZUJhY2sodCxlLHIsbixpLHMpe2NvbnN0IGE9dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKGErMSksdGhpcy5lbXBsYWNlKGEsdCxlLHIsbixpLHMpfWVtcGxhY2UodCxlLHIsbixpLHMsYSl7Y29uc3Qgbz02KnQ7cmV0dXJuIHRoaXMuaW50MTZbbyswXT1lLHRoaXMuaW50MTZbbysxXT1yLHRoaXMuaW50MTZbbysyXT1uLHRoaXMuaW50MTZbbyszXT1pLHRoaXMuaW50MTZbbys0XT1zLHRoaXMuaW50MTZbbys1XT1hLHR9fWZhLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9MTIsamkoZmEsXCJTdHJ1Y3RBcnJheUxheW91dDZpMTJcIik7Y2xhc3MgZGEgZXh0ZW5kcyBuYXtfcmVmcmVzaFZpZXdzKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmludDE2PW5ldyBJbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMudWludDE2PW5ldyBVaW50MTZBcnJheSh0aGlzLmFycmF5QnVmZmVyKTt9ZW1wbGFjZUJhY2sodCxlLHIsbixpLHMsYSxvLGwsdSxjLGgpe2NvbnN0IHA9dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKHArMSksdGhpcy5lbXBsYWNlKHAsdCxlLHIsbixpLHMsYSxvLGwsdSxjLGgpfWVtcGxhY2UodCxlLHIsbixpLHMsYSxvLGwsdSxjLGgscCl7Y29uc3QgZj0xMip0O3JldHVybiB0aGlzLmludDE2W2YrMF09ZSx0aGlzLmludDE2W2YrMV09cix0aGlzLmludDE2W2YrMl09bix0aGlzLmludDE2W2YrM109aSx0aGlzLnVpbnQxNltmKzRdPXMsdGhpcy51aW50MTZbZis1XT1hLHRoaXMudWludDE2W2YrNl09byx0aGlzLnVpbnQxNltmKzddPWwsdGhpcy5pbnQxNltmKzhdPXUsdGhpcy5pbnQxNltmKzldPWMsdGhpcy5pbnQxNltmKzEwXT1oLHRoaXMuaW50MTZbZisxMV09cCx0fX1kYS5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTI0LGppKGRhLFwiU3RydWN0QXJyYXlMYXlvdXQ0aTR1aTRpMjRcIik7Y2xhc3MgeWEgZXh0ZW5kcyBuYXtfcmVmcmVzaFZpZXdzKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmludDE2PW5ldyBJbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuZmxvYXQzMj1uZXcgRmxvYXQzMkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpO31lbXBsYWNlQmFjayh0LGUscixuLGkscyl7Y29uc3QgYT10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUoYSsxKSx0aGlzLmVtcGxhY2UoYSx0LGUscixuLGkscyl9ZW1wbGFjZSh0LGUscixuLGkscyxhKXtjb25zdCBvPTEwKnQsbD01KnQ7cmV0dXJuIHRoaXMuaW50MTZbbyswXT1lLHRoaXMuaW50MTZbbysxXT1yLHRoaXMuaW50MTZbbysyXT1uLHRoaXMuZmxvYXQzMltsKzJdPWksdGhpcy5mbG9hdDMyW2wrM109cyx0aGlzLmZsb2F0MzJbbCs0XT1hLHR9fXlhLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9MjAsamkoeWEsXCJTdHJ1Y3RBcnJheUxheW91dDNpM2YyMFwiKTtjbGFzcyBtYSBleHRlbmRzIG5he19yZWZyZXNoVmlld3MoKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMudWludDMyPW5ldyBVaW50MzJBcnJheSh0aGlzLmFycmF5QnVmZmVyKTt9ZW1wbGFjZUJhY2sodCl7Y29uc3QgZT10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUoZSsxKSx0aGlzLmVtcGxhY2UoZSx0KX1lbXBsYWNlKHQsZSl7cmV0dXJuIHRoaXMudWludDMyWzEqdCswXT1lLHR9fW1hLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9NCxqaShtYSxcIlN0cnVjdEFycmF5TGF5b3V0MXVsNFwiKTtjbGFzcyBnYSBleHRlbmRzIG5he19yZWZyZXNoVmlld3MoKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuaW50MTY9bmV3IEludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5mbG9hdDMyPW5ldyBGbG9hdDMyQXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy51aW50MzI9bmV3IFVpbnQzMkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMudWludDE2PW5ldyBVaW50MTZBcnJheSh0aGlzLmFycmF5QnVmZmVyKTt9ZW1wbGFjZUJhY2sodCxlLHIsbixpLHMsYSxvLGwsdSxjLGgscCl7Y29uc3QgZj10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUoZisxKSx0aGlzLmVtcGxhY2UoZix0LGUscixuLGkscyxhLG8sbCx1LGMsaCxwKX1lbXBsYWNlKHQsZSxyLG4saSxzLGEsbyxsLHUsYyxoLHAsZil7Y29uc3QgZD0yMCp0LHk9MTAqdDtyZXR1cm4gdGhpcy5pbnQxNltkKzBdPWUsdGhpcy5pbnQxNltkKzFdPXIsdGhpcy5pbnQxNltkKzJdPW4sdGhpcy5pbnQxNltkKzNdPWksdGhpcy5pbnQxNltkKzRdPXMsdGhpcy5mbG9hdDMyW3krM109YSx0aGlzLmZsb2F0MzJbeSs0XT1vLHRoaXMuZmxvYXQzMlt5KzVdPWwsdGhpcy5mbG9hdDMyW3krNl09dSx0aGlzLmludDE2W2QrMTRdPWMsdGhpcy51aW50MzJbeSs4XT1oLHRoaXMudWludDE2W2QrMThdPXAsdGhpcy51aW50MTZbZCsxOV09Zix0fX1nYS5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTQwLGppKGdhLFwiU3RydWN0QXJyYXlMYXlvdXQ1aTRmMWkxdWwydWk0MFwiKTtjbGFzcyB4YSBleHRlbmRzIG5he19yZWZyZXNoVmlld3MoKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuaW50MTY9bmV3IEludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlcik7fWVtcGxhY2VCYWNrKHQsZSxyLG4saSxzLGEpe2NvbnN0IG89dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKG8rMSksdGhpcy5lbXBsYWNlKG8sdCxlLHIsbixpLHMsYSl9ZW1wbGFjZSh0LGUscixuLGkscyxhLG8pe2NvbnN0IGw9OCp0O3JldHVybiB0aGlzLmludDE2W2wrMF09ZSx0aGlzLmludDE2W2wrMV09cix0aGlzLmludDE2W2wrMl09bix0aGlzLmludDE2W2wrNF09aSx0aGlzLmludDE2W2wrNV09cyx0aGlzLmludDE2W2wrNl09YSx0aGlzLmludDE2W2wrN109byx0fX14YS5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTE2LGppKHhhLFwiU3RydWN0QXJyYXlMYXlvdXQzaTJpMmkxNlwiKTtjbGFzcyB2YSBleHRlbmRzIG5he19yZWZyZXNoVmlld3MoKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuZmxvYXQzMj1uZXcgRmxvYXQzMkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuaW50MTY9bmV3IEludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlcik7fWVtcGxhY2VCYWNrKHQsZSxyLG4saSl7Y29uc3Qgcz10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUocysxKSx0aGlzLmVtcGxhY2Uocyx0LGUscixuLGkpfWVtcGxhY2UodCxlLHIsbixpLHMpe2NvbnN0IGE9NCp0LG89OCp0O3JldHVybiB0aGlzLmZsb2F0MzJbYSswXT1lLHRoaXMuZmxvYXQzMlthKzFdPXIsdGhpcy5mbG9hdDMyW2ErMl09bix0aGlzLmludDE2W28rNl09aSx0aGlzLmludDE2W28rN109cyx0fX12YS5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTE2LGppKHZhLFwiU3RydWN0QXJyYXlMYXlvdXQyZjFmMmkxNlwiKTtjbGFzcyBiYSBleHRlbmRzIG5he19yZWZyZXNoVmlld3MoKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuZmxvYXQzMj1uZXcgRmxvYXQzMkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpO31lbXBsYWNlQmFjayh0LGUscixuKXtjb25zdCBpPXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZShpKzEpLHRoaXMuZW1wbGFjZShpLHQsZSxyLG4pfWVtcGxhY2UodCxlLHIsbixpKXtjb25zdCBzPTEyKnQsYT0zKnQ7cmV0dXJuIHRoaXMudWludDhbcyswXT1lLHRoaXMudWludDhbcysxXT1yLHRoaXMuZmxvYXQzMlthKzFdPW4sdGhpcy5mbG9hdDMyW2ErMl09aSx0fX1iYS5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTEyLGppKGJhLFwiU3RydWN0QXJyYXlMYXlvdXQydWIyZjEyXCIpO2NsYXNzIF9hIGV4dGVuZHMgbmF7X3JlZnJlc2hWaWV3cygpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5mbG9hdDMyPW5ldyBGbG9hdDMyQXJyYXkodGhpcy5hcnJheUJ1ZmZlcik7fWVtcGxhY2VCYWNrKHQsZSxyKXtjb25zdCBuPXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZShuKzEpLHRoaXMuZW1wbGFjZShuLHQsZSxyKX1lbXBsYWNlKHQsZSxyLG4pe2NvbnN0IGk9Myp0O3JldHVybiB0aGlzLmZsb2F0MzJbaSswXT1lLHRoaXMuZmxvYXQzMltpKzFdPXIsdGhpcy5mbG9hdDMyW2krMl09bix0fX1fYS5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTEyLGppKF9hLFwiU3RydWN0QXJyYXlMYXlvdXQzZjEyXCIpO2NsYXNzIHdhIGV4dGVuZHMgbmF7X3JlZnJlc2hWaWV3cygpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy51aW50MTY9bmV3IFVpbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpO31lbXBsYWNlQmFjayh0LGUscil7Y29uc3Qgbj10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUobisxKSx0aGlzLmVtcGxhY2Uobix0LGUscil9ZW1wbGFjZSh0LGUscixuKXtjb25zdCBpPTMqdDtyZXR1cm4gdGhpcy51aW50MTZbaSswXT1lLHRoaXMudWludDE2W2krMV09cix0aGlzLnVpbnQxNltpKzJdPW4sdH19d2EucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD02LGppKHdhLFwiU3RydWN0QXJyYXlMYXlvdXQzdWk2XCIpO2NsYXNzIEFhIGV4dGVuZHMgbmF7X3JlZnJlc2hWaWV3cygpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5pbnQxNj1uZXcgSW50MTZBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmZsb2F0MzI9bmV3IEZsb2F0MzJBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLnVpbnQxNj1uZXcgVWludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy51aW50MzI9bmV3IFVpbnQzMkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpO31lbXBsYWNlQmFjayh0LGUscixuLGkscyxhLG8sbCx1LGMsaCxwLGYsZCx5LG0sZyx4LHYsYil7Y29uc3QgXz10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUoXysxKSx0aGlzLmVtcGxhY2UoXyx0LGUscixuLGkscyxhLG8sbCx1LGMsaCxwLGYsZCx5LG0sZyx4LHYsYil9ZW1wbGFjZSh0LGUscixuLGkscyxhLG8sbCx1LGMsaCxwLGYsZCx5LG0sZyx4LHYsYixfKXtjb25zdCB3PTMwKnQsQT0xNSp0LFM9NjAqdDtyZXR1cm4gdGhpcy5pbnQxNlt3KzBdPWUsdGhpcy5pbnQxNlt3KzFdPXIsdGhpcy5pbnQxNlt3KzJdPW4sdGhpcy5mbG9hdDMyW0ErMl09aSx0aGlzLmZsb2F0MzJbQSszXT1zLHRoaXMudWludDE2W3crOF09YSx0aGlzLnVpbnQxNlt3KzldPW8sdGhpcy51aW50MzJbQSs1XT1sLHRoaXMudWludDMyW0ErNl09dSx0aGlzLnVpbnQzMltBKzddPWMsdGhpcy51aW50MTZbdysxNl09aCx0aGlzLnVpbnQxNlt3KzE3XT1wLHRoaXMudWludDE2W3crMThdPWYsdGhpcy5mbG9hdDMyW0ErMTBdPWQsdGhpcy5mbG9hdDMyW0ErMTFdPXksdGhpcy51aW50OFtTKzQ4XT1tLHRoaXMudWludDhbUys0OV09Zyx0aGlzLnVpbnQ4W1MrNTBdPXgsdGhpcy51aW50MzJbQSsxM109dix0aGlzLmludDE2W3crMjhdPWIsdGhpcy51aW50OFtTKzU4XT1fLHR9fUFhLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9NjAsamkoQWEsXCJTdHJ1Y3RBcnJheUxheW91dDNpMmYydWkzdWwzdWkyZjN1YjF1bDFpMXViNjBcIik7Y2xhc3MgU2EgZXh0ZW5kcyBuYXtfcmVmcmVzaFZpZXdzKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmludDE2PW5ldyBJbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuZmxvYXQzMj1uZXcgRmxvYXQzMkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMudWludDE2PW5ldyBVaW50MTZBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLnVpbnQzMj1uZXcgVWludDMyQXJyYXkodGhpcy5hcnJheUJ1ZmZlcik7fWVtcGxhY2VCYWNrKHQsZSxyLG4saSxzLGEsbyxsLHUsYyxoLHAsZixkLHksbSxnLHgsdixiLF8sdyxBLFMsayxJLE0seixUKXtjb25zdCBCPXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZShCKzEpLHRoaXMuZW1wbGFjZShCLHQsZSxyLG4saSxzLGEsbyxsLHUsYyxoLHAsZixkLHksbSxnLHgsdixiLF8sdyxBLFMsayxJLE0seixUKX1lbXBsYWNlKHQsZSxyLG4saSxzLGEsbyxsLHUsYyxoLHAsZixkLHksbSxnLHgsdixiLF8sdyxBLFMsayxJLE0seixULEIpe2NvbnN0IEU9MzgqdCxQPTE5KnQ7cmV0dXJuIHRoaXMuaW50MTZbRSswXT1lLHRoaXMuaW50MTZbRSsxXT1yLHRoaXMuaW50MTZbRSsyXT1uLHRoaXMuZmxvYXQzMltQKzJdPWksdGhpcy5mbG9hdDMyW1ArM109cyx0aGlzLmludDE2W0UrOF09YSx0aGlzLmludDE2W0UrOV09byx0aGlzLmludDE2W0UrMTBdPWwsdGhpcy5pbnQxNltFKzExXT11LHRoaXMuaW50MTZbRSsxMl09Yyx0aGlzLmludDE2W0UrMTNdPWgsdGhpcy51aW50MTZbRSsxNF09cCx0aGlzLnVpbnQxNltFKzE1XT1mLHRoaXMudWludDE2W0UrMTZdPWQsdGhpcy51aW50MTZbRSsxN109eSx0aGlzLnVpbnQxNltFKzE4XT1tLHRoaXMudWludDE2W0UrMTldPWcsdGhpcy51aW50MTZbRSsyMF09eCx0aGlzLnVpbnQxNltFKzIxXT12LHRoaXMudWludDE2W0UrMjJdPWIsdGhpcy51aW50MTZbRSsyM109Xyx0aGlzLnVpbnQxNltFKzI0XT13LHRoaXMudWludDE2W0UrMjVdPUEsdGhpcy51aW50MTZbRSsyNl09Uyx0aGlzLnVpbnQxNltFKzI3XT1rLHRoaXMudWludDE2W0UrMjhdPUksdGhpcy51aW50MzJbUCsxNV09TSx0aGlzLmZsb2F0MzJbUCsxNl09eix0aGlzLmZsb2F0MzJbUCsxN109VCx0aGlzLmZsb2F0MzJbUCsxOF09Qix0fX1TYS5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTc2LGppKFNhLFwiU3RydWN0QXJyYXlMYXlvdXQzaTJmNmkxNXVpMXVsM2Y3NlwiKTtjbGFzcyBrYSBleHRlbmRzIG5he19yZWZyZXNoVmlld3MoKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuZmxvYXQzMj1uZXcgRmxvYXQzMkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpO31lbXBsYWNlQmFjayh0KXtjb25zdCBlPXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZShlKzEpLHRoaXMuZW1wbGFjZShlLHQpfWVtcGxhY2UodCxlKXtyZXR1cm4gdGhpcy5mbG9hdDMyWzEqdCswXT1lLHR9fWthLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9NCxqaShrYSxcIlN0cnVjdEFycmF5TGF5b3V0MWY0XCIpO2NsYXNzIElhIGV4dGVuZHMgbmF7X3JlZnJlc2hWaWV3cygpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5mbG9hdDMyPW5ldyBGbG9hdDMyQXJyYXkodGhpcy5hcnJheUJ1ZmZlcik7fWVtcGxhY2VCYWNrKHQsZSxyLG4saSl7Y29uc3Qgcz10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUocysxKSx0aGlzLmVtcGxhY2Uocyx0LGUscixuLGkpfWVtcGxhY2UodCxlLHIsbixpLHMpe2NvbnN0IGE9NSp0O3JldHVybiB0aGlzLmZsb2F0MzJbYSswXT1lLHRoaXMuZmxvYXQzMlthKzFdPXIsdGhpcy5mbG9hdDMyW2ErMl09bix0aGlzLmZsb2F0MzJbYSszXT1pLHRoaXMuZmxvYXQzMlthKzRdPXMsdH19SWEucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD0yMCxqaShJYSxcIlN0cnVjdEFycmF5TGF5b3V0NWYyMFwiKTtjbGFzcyBNYSBleHRlbmRzIG5he19yZWZyZXNoVmlld3MoKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMudWludDMyPW5ldyBVaW50MzJBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLnVpbnQxNj1uZXcgVWludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlcik7fWVtcGxhY2VCYWNrKHQsZSxyLG4pe2NvbnN0IGk9dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKGkrMSksdGhpcy5lbXBsYWNlKGksdCxlLHIsbil9ZW1wbGFjZSh0LGUscixuLGkpe2NvbnN0IHM9Nip0O3JldHVybiB0aGlzLnVpbnQzMlszKnQrMF09ZSx0aGlzLnVpbnQxNltzKzJdPXIsdGhpcy51aW50MTZbcyszXT1uLHRoaXMudWludDE2W3MrNF09aSx0fX1NYS5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTEyLGppKE1hLFwiU3RydWN0QXJyYXlMYXlvdXQxdWwzdWkxMlwiKTtjbGFzcyB6YSBleHRlbmRzIG5he19yZWZyZXNoVmlld3MoKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMudWludDE2PW5ldyBVaW50MTZBcnJheSh0aGlzLmFycmF5QnVmZmVyKTt9ZW1wbGFjZUJhY2sodCxlKXtjb25zdCByPXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZShyKzEpLHRoaXMuZW1wbGFjZShyLHQsZSl9ZW1wbGFjZSh0LGUscil7Y29uc3Qgbj0yKnQ7cmV0dXJuIHRoaXMudWludDE2W24rMF09ZSx0aGlzLnVpbnQxNltuKzFdPXIsdH19emEucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD00LGppKHphLFwiU3RydWN0QXJyYXlMYXlvdXQydWk0XCIpO2NsYXNzIFRhIGV4dGVuZHMgbmF7X3JlZnJlc2hWaWV3cygpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy51aW50MTY9bmV3IFVpbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpO31lbXBsYWNlQmFjayh0KXtjb25zdCBlPXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZShlKzEpLHRoaXMuZW1wbGFjZShlLHQpfWVtcGxhY2UodCxlKXtyZXR1cm4gdGhpcy51aW50MTZbMSp0KzBdPWUsdH19VGEucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD0yLGppKFRhLFwiU3RydWN0QXJyYXlMYXlvdXQxdWkyXCIpO2NsYXNzIEJhIGV4dGVuZHMgbmF7X3JlZnJlc2hWaWV3cygpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5mbG9hdDMyPW5ldyBGbG9hdDMyQXJyYXkodGhpcy5hcnJheUJ1ZmZlcik7fWVtcGxhY2VCYWNrKHQsZSl7Y29uc3Qgcj10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUocisxKSx0aGlzLmVtcGxhY2Uocix0LGUpfWVtcGxhY2UodCxlLHIpe2NvbnN0IG49Mip0O3JldHVybiB0aGlzLmZsb2F0MzJbbiswXT1lLHRoaXMuZmxvYXQzMltuKzFdPXIsdH19QmEucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD04LGppKEJhLFwiU3RydWN0QXJyYXlMYXlvdXQyZjhcIik7Y2xhc3MgRWEgZXh0ZW5kcyByYXtnZXQgYV9wb3NfMzAoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMiswXX1nZXQgYV9wb3NfMzEoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMisxXX1nZXQgYV9wb3NfMzIoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMisyXX1nZXQgYV9wb3Nfbm9ybWFsXzMwKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrM119Z2V0IGFfcG9zX25vcm1hbF8zMSgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5pbnQxNlt0aGlzLl9wb3MyKzRdfWdldCBhX3Bvc19ub3JtYWxfMzIoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMis1XX19RWEucHJvdG90eXBlLnNpemU9MTI7Y2xhc3MgUGEgZXh0ZW5kcyBmYXtnZXQodCl7cmV0dXJuIG5ldyBFYSh0aGlzLHQpfX1qaShQYSxcIkZpbGxFeHRydXNpb25FeHRBcnJheVwiKTtjbGFzcyBDYSBleHRlbmRzIHJhe2dldCBwcm9qZWN0ZWRBbmNob3JYKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrMF19Z2V0IHByb2plY3RlZEFuY2hvclkoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMisxXX1nZXQgcHJvamVjdGVkQW5jaG9yWigpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5pbnQxNlt0aGlzLl9wb3MyKzJdfWdldCB0aWxlQW5jaG9yWCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5pbnQxNlt0aGlzLl9wb3MyKzNdfWdldCB0aWxlQW5jaG9yWSgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5pbnQxNlt0aGlzLl9wb3MyKzRdfWdldCB4MSgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5mbG9hdDMyW3RoaXMuX3BvczQrM119Z2V0IHkxKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmZsb2F0MzJbdGhpcy5fcG9zNCs0XX1nZXQgeDIoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuZmxvYXQzMlt0aGlzLl9wb3M0KzVdfWdldCB5Migpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5mbG9hdDMyW3RoaXMuX3BvczQrNl19Z2V0IHBhZGRpbmcoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMisxNF19Z2V0IGZlYXR1cmVJbmRleCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MzJbdGhpcy5fcG9zNCs4XX1nZXQgc291cmNlTGF5ZXJJbmRleCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMisxOF19Z2V0IGJ1Y2tldEluZGV4KCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzE5XX19Q2EucHJvdG90eXBlLnNpemU9NDA7Y2xhc3MgRGEgZXh0ZW5kcyBnYXtnZXQodCl7cmV0dXJuIG5ldyBDYSh0aGlzLHQpfX1qaShEYSxcIkNvbGxpc2lvbkJveEFycmF5XCIpO2NsYXNzIFZhIGV4dGVuZHMgcmF7Z2V0IHByb2plY3RlZEFuY2hvclgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMiswXX1nZXQgcHJvamVjdGVkQW5jaG9yWSgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5pbnQxNlt0aGlzLl9wb3MyKzFdfWdldCBwcm9qZWN0ZWRBbmNob3JaKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrMl19Z2V0IHRpbGVBbmNob3JYKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmZsb2F0MzJbdGhpcy5fcG9zNCsyXX1nZXQgdGlsZUFuY2hvclkoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuZmxvYXQzMlt0aGlzLl9wb3M0KzNdfWdldCBnbHlwaFN0YXJ0SW5kZXgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrOF19Z2V0IG51bUdseXBocygpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMis5XX1nZXQgdmVydGV4U3RhcnRJbmRleCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MzJbdGhpcy5fcG9zNCs1XX1nZXQgbGluZVN0YXJ0SW5kZXgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDMyW3RoaXMuX3BvczQrNl19Z2V0IGxpbmVMZW5ndGgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDMyW3RoaXMuX3BvczQrN119Z2V0IHNlZ21lbnQoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrMTZdfWdldCBsb3dlclNpemUoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrMTddfWdldCB1cHBlclNpemUoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrMThdfWdldCBsaW5lT2Zmc2V0WCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5mbG9hdDMyW3RoaXMuX3BvczQrMTBdfWdldCBsaW5lT2Zmc2V0WSgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5mbG9hdDMyW3RoaXMuX3BvczQrMTFdfWdldCB3cml0aW5nTW9kZSgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50OFt0aGlzLl9wb3MxKzQ4XX1nZXQgcGxhY2VkT3JpZW50YXRpb24oKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDhbdGhpcy5fcG9zMSs0OV19c2V0IHBsYWNlZE9yaWVudGF0aW9uKHQpe3RoaXMuX3N0cnVjdEFycmF5LnVpbnQ4W3RoaXMuX3BvczErNDldPXQ7fWdldCBoaWRkZW4oKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDhbdGhpcy5fcG9zMSs1MF19c2V0IGhpZGRlbih0KXt0aGlzLl9zdHJ1Y3RBcnJheS51aW50OFt0aGlzLl9wb3MxKzUwXT10O31nZXQgY3Jvc3NUaWxlSUQoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDMyW3RoaXMuX3BvczQrMTNdfXNldCBjcm9zc1RpbGVJRCh0KXt0aGlzLl9zdHJ1Y3RBcnJheS51aW50MzJbdGhpcy5fcG9zNCsxM109dDt9Z2V0IGFzc29jaWF0ZWRJY29uSW5kZXgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMisyOF19Z2V0IGZsaXBTdGF0ZSgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50OFt0aGlzLl9wb3MxKzU4XX1zZXQgZmxpcFN0YXRlKHQpe3RoaXMuX3N0cnVjdEFycmF5LnVpbnQ4W3RoaXMuX3BvczErNThdPXQ7fX1WYS5wcm90b3R5cGUuc2l6ZT02MDtjbGFzcyBGYSBleHRlbmRzIEFhe2dldCh0KXtyZXR1cm4gbmV3IFZhKHRoaXMsdCl9fWppKEZhLFwiUGxhY2VkU3ltYm9sQXJyYXlcIik7Y2xhc3MgTGEgZXh0ZW5kcyByYXtnZXQgcHJvamVjdGVkQW5jaG9yWCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5pbnQxNlt0aGlzLl9wb3MyKzBdfWdldCBwcm9qZWN0ZWRBbmNob3JZKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrMV19Z2V0IHByb2plY3RlZEFuY2hvclooKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMisyXX1nZXQgdGlsZUFuY2hvclgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuZmxvYXQzMlt0aGlzLl9wb3M0KzJdfWdldCB0aWxlQW5jaG9yWSgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5mbG9hdDMyW3RoaXMuX3BvczQrM119Z2V0IHJpZ2h0SnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4KCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrOF19Z2V0IGNlbnRlckp1c3RpZmllZFRleHRTeW1ib2xJbmRleCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5pbnQxNlt0aGlzLl9wb3MyKzldfWdldCBsZWZ0SnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4KCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrMTBdfWdldCB2ZXJ0aWNhbFBsYWNlZFRleHRTeW1ib2xJbmRleCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5pbnQxNlt0aGlzLl9wb3MyKzExXX1nZXQgcGxhY2VkSWNvblN5bWJvbEluZGV4KCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrMTJdfWdldCB2ZXJ0aWNhbFBsYWNlZEljb25TeW1ib2xJbmRleCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5pbnQxNlt0aGlzLl9wb3MyKzEzXX1nZXQga2V5KCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzE0XX1nZXQgdGV4dEJveFN0YXJ0SW5kZXgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrMTVdfWdldCB0ZXh0Qm94RW5kSW5kZXgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrMTZdfWdldCB2ZXJ0aWNhbFRleHRCb3hTdGFydEluZGV4KCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzE3XX1nZXQgdmVydGljYWxUZXh0Qm94RW5kSW5kZXgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrMThdfWdldCBpY29uQm94U3RhcnRJbmRleCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMisxOV19Z2V0IGljb25Cb3hFbmRJbmRleCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMisyMF19Z2V0IHZlcnRpY2FsSWNvbkJveFN0YXJ0SW5kZXgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrMjFdfWdldCB2ZXJ0aWNhbEljb25Cb3hFbmRJbmRleCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMisyMl19Z2V0IGZlYXR1cmVJbmRleCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMisyM119Z2V0IG51bUhvcml6b250YWxHbHlwaFZlcnRpY2VzKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzI0XX1nZXQgbnVtVmVydGljYWxHbHlwaFZlcnRpY2VzKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzI1XX1nZXQgbnVtSWNvblZlcnRpY2VzKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzI2XX1nZXQgbnVtVmVydGljYWxJY29uVmVydGljZXMoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrMjddfWdldCB1c2VSdW50aW1lQ29sbGlzaW9uQ2lyY2xlcygpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMisyOF19Z2V0IGNyb3NzVGlsZUlEKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQzMlt0aGlzLl9wb3M0KzE1XX1zZXQgY3Jvc3NUaWxlSUQodCl7dGhpcy5fc3RydWN0QXJyYXkudWludDMyW3RoaXMuX3BvczQrMTVdPXQ7fWdldCB0ZXh0T2Zmc2V0MCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5mbG9hdDMyW3RoaXMuX3BvczQrMTZdfWdldCB0ZXh0T2Zmc2V0MSgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5mbG9hdDMyW3RoaXMuX3BvczQrMTddfWdldCBjb2xsaXNpb25DaXJjbGVEaWFtZXRlcigpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5mbG9hdDMyW3RoaXMuX3BvczQrMThdfX1MYS5wcm90b3R5cGUuc2l6ZT03NjtjbGFzcyBSYSBleHRlbmRzIFNhe2dldCh0KXtyZXR1cm4gbmV3IExhKHRoaXMsdCl9fWppKFJhLFwiU3ltYm9sSW5zdGFuY2VBcnJheVwiKTtjbGFzcyBVYSBleHRlbmRzIGthe2dldG9mZnNldFgodCl7cmV0dXJuIHRoaXMuZmxvYXQzMlsxKnQrMF19fWppKFVhLFwiR2x5cGhPZmZzZXRBcnJheVwiKTtjbGFzcyBqYSBleHRlbmRzIG9he2dldHgodCl7cmV0dXJuIHRoaXMuaW50MTZbMyp0KzBdfWdldHkodCl7cmV0dXJuIHRoaXMuaW50MTZbMyp0KzFdfWdldHRpbGVVbml0RGlzdGFuY2VGcm9tQW5jaG9yKHQpe3JldHVybiB0aGlzLmludDE2WzMqdCsyXX19amkoamEsXCJTeW1ib2xMaW5lVmVydGV4QXJyYXlcIik7Y2xhc3MgJGEgZXh0ZW5kcyByYXtnZXQgZmVhdHVyZUluZGV4KCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQzMlt0aGlzLl9wb3M0KzBdfWdldCBzb3VyY2VMYXllckluZGV4KCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzJdfWdldCBidWNrZXRJbmRleCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMiszXX1nZXQgbGF5b3V0VmVydGV4QXJyYXlPZmZzZXQoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrNF19fSRhLnByb3RvdHlwZS5zaXplPTEyO2NsYXNzIE9hIGV4dGVuZHMgTWF7Z2V0KHQpe3JldHVybiBuZXcgJGEodGhpcyx0KX19amkoT2EsXCJGZWF0dXJlSW5kZXhBcnJheVwiKTtjbGFzcyBxYSBleHRlbmRzIHJhe2dldCBhX2NlbnRyb2lkX3BvczAoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrMF19Z2V0IGFfY2VudHJvaWRfcG9zMSgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMisxXX19cWEucHJvdG90eXBlLnNpemU9NDtjbGFzcyBOYSBleHRlbmRzIHphe2dldCh0KXtyZXR1cm4gbmV3IHFhKHRoaXMsdCl9fWppKE5hLFwiRmlsbEV4dHJ1c2lvbkNlbnRyb2lkQXJyYXlcIik7Y2xhc3MgR2EgZXh0ZW5kcyByYXtnZXQgYV9wb3NfMzAoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMiswXX1nZXQgYV9wb3NfMzEoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMisxXX1nZXQgYV9wb3NfMzIoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMisyXX1nZXQgYV9wb3Nfbm9ybWFsXzMwKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrM119Z2V0IGFfcG9zX25vcm1hbF8zMSgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5pbnQxNlt0aGlzLl9wb3MyKzRdfWdldCBhX3Bvc19ub3JtYWxfMzIoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMis1XX19R2EucHJvdG90eXBlLnNpemU9MTI7Y2xhc3MgWmEgZXh0ZW5kcyBmYXtnZXQodCl7cmV0dXJuIG5ldyBHYSh0aGlzLHQpfX1qaShaYSxcIkNpcmNsZUdsb2JlRXh0QXJyYXlcIik7Y29uc3QgWGE9aWEoW3tuYW1lOlwiYV9wYXR0ZXJuX3RvXCIsY29tcG9uZW50czo0LHR5cGU6XCJVaW50MTZcIn0se25hbWU6XCJhX3BhdHRlcm5fZnJvbVwiLGNvbXBvbmVudHM6NCx0eXBlOlwiVWludDE2XCJ9LHtuYW1lOlwiYV9waXhlbF9yYXRpb190b1wiLGNvbXBvbmVudHM6MSx0eXBlOlwiVWludDE2XCJ9LHtuYW1lOlwiYV9waXhlbF9yYXRpb19mcm9tXCIsY29tcG9uZW50czoxLHR5cGU6XCJVaW50MTZcIn1dKSxLYT1pYShbe25hbWU6XCJhX2Rhc2hfdG9cIixjb21wb25lbnRzOjQsdHlwZTpcIlVpbnQxNlwifSx7bmFtZTpcImFfZGFzaF9mcm9tXCIsY29tcG9uZW50czo0LHR5cGU6XCJVaW50MTZcIn1dKTt2YXIgSGE9e2V4cG9ydHM6e319LFlhPXtleHBvcnRzOnt9fTtZYS5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7dmFyIHIsbixpLHMsYSxvLGwsdTtmb3Iobj10Lmxlbmd0aC0ocj0zJnQubGVuZ3RoKSxpPWUsYT0zNDMyOTE4MzUzLG89NDYxODQ1OTA3LHU9MDt1PG47KWw9MjU1JnQuY2hhckNvZGVBdCh1KXwoMjU1JnQuY2hhckNvZGVBdCgrK3UpKTw8OHwoMjU1JnQuY2hhckNvZGVBdCgrK3UpKTw8MTZ8KDI1NSZ0LmNoYXJDb2RlQXQoKyt1KSk8PDI0LCsrdSxpPTI3NDkyKyg2NTUzNSYocz01Kig2NTUzNSYoaT0oaV49bD0oNjU1MzUmKGw9KGw9KDY1NTM1JmwpKmErKCgobD4+PjE2KSphJjY1NTM1KTw8MTYpJjQyOTQ5NjcyOTUpPDwxNXxsPj4+MTcpKSpvKygoKGw+Pj4xNikqbyY2NTUzNSk8PDE2KSY0Mjk0OTY3Mjk1KTw8MTN8aT4+PjE5KSkrKCg1KihpPj4+MTYpJjY1NTM1KTw8MTYpJjQyOTQ5NjcyOTUpKSsoKDU4OTY0KyhzPj4+MTYpJjY1NTM1KTw8MTYpO3N3aXRjaChsPTAscil7Y2FzZSAzOmxePSgyNTUmdC5jaGFyQ29kZUF0KHUrMikpPDwxNjtjYXNlIDI6bF49KDI1NSZ0LmNoYXJDb2RlQXQodSsxKSk8PDg7Y2FzZSAxOmlePWw9KDY1NTM1JihsPShsPSg2NTUzNSYobF49MjU1JnQuY2hhckNvZGVBdCh1KSkpKmErKCgobD4+PjE2KSphJjY1NTM1KTw8MTYpJjQyOTQ5NjcyOTUpPDwxNXxsPj4+MTcpKSpvKygoKGw+Pj4xNikqbyY2NTUzNSk8PDE2KSY0Mjk0OTY3Mjk1O31yZXR1cm4gaV49dC5sZW5ndGgsaT0yMjQ2ODIyNTA3Kig2NTUzNSYoaV49aT4+PjE2KSkrKCgyMjQ2ODIyNTA3KihpPj4+MTYpJjY1NTM1KTw8MTYpJjQyOTQ5NjcyOTUsaT0zMjY2NDg5OTA5Kig2NTUzNSYoaV49aT4+PjEzKSkrKCgzMjY2NDg5OTA5KihpPj4+MTYpJjY1NTM1KTw8MTYpJjQyOTQ5NjcyOTUsKGlePWk+Pj4xNik+Pj4wfTt2YXIgV2E9e2V4cG9ydHM6e319O1dhLmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtmb3IodmFyIHIsbj10Lmxlbmd0aCxpPWVebixzPTA7bj49NDspcj0xNTQwNDgzNDc3Kig2NTUzNSYocj0yNTUmdC5jaGFyQ29kZUF0KHMpfCgyNTUmdC5jaGFyQ29kZUF0KCsrcykpPDw4fCgyNTUmdC5jaGFyQ29kZUF0KCsrcykpPDwxNnwoMjU1JnQuY2hhckNvZGVBdCgrK3MpKTw8MjQpKSsoKDE1NDA0ODM0NzcqKHI+Pj4xNikmNjU1MzUpPDwxNiksaT0xNTQwNDgzNDc3Kig2NTUzNSZpKSsoKDE1NDA0ODM0NzcqKGk+Pj4xNikmNjU1MzUpPDwxNileKHI9MTU0MDQ4MzQ3NyooNjU1MzUmKHJePXI+Pj4yNCkpKygoMTU0MDQ4MzQ3Nyoocj4+PjE2KSY2NTUzNSk8PDE2KSksbi09NCwrK3M7c3dpdGNoKG4pe2Nhc2UgMzppXj0oMjU1JnQuY2hhckNvZGVBdChzKzIpKTw8MTY7Y2FzZSAyOmlePSgyNTUmdC5jaGFyQ29kZUF0KHMrMSkpPDw4O2Nhc2UgMTppPTE1NDA0ODM0NzcqKDY1NTM1JihpXj0yNTUmdC5jaGFyQ29kZUF0KHMpKSkrKCgxNTQwNDgzNDc3KihpPj4+MTYpJjY1NTM1KTw8MTYpO31yZXR1cm4gaT0xNTQwNDgzNDc3Kig2NTUzNSYoaV49aT4+PjEzKSkrKCgxNTQwNDgzNDc3KihpPj4+MTYpJjY1NTM1KTw8MTYpLChpXj1pPj4+MTUpPj4+MH07dmFyIEphPVlhLmV4cG9ydHMsUWE9V2EuZXhwb3J0cztIYS5leHBvcnRzPUphLEhhLmV4cG9ydHMubXVybXVyMz1KYSxIYS5leHBvcnRzLm11cm11cjI9UWE7Y2xhc3MgdG97Y29uc3RydWN0b3IoKXt0aGlzLmlkcz1bXSx0aGlzLnBvc2l0aW9ucz1bXSx0aGlzLmluZGV4ZWQ9ITE7fWFkZCh0LGUscixuKXt0aGlzLmlkcy5wdXNoKGVvKHQpKSx0aGlzLnBvc2l0aW9ucy5wdXNoKGUscixuKTt9Z2V0UG9zaXRpb25zKHQpe2NvbnN0IGU9ZW8odCk7bGV0IHI9MCxuPXRoaXMuaWRzLmxlbmd0aC0xO2Zvcig7cjxuOyl7Y29uc3QgdD1yK24+PjE7dGhpcy5pZHNbdF0+PWU/bj10OnI9dCsxO31jb25zdCBpPVtdO2Zvcig7dGhpcy5pZHNbcl09PT1lOylpLnB1c2goe2luZGV4OnRoaXMucG9zaXRpb25zWzMqcl0sc3RhcnQ6dGhpcy5wb3NpdGlvbnNbMypyKzFdLGVuZDp0aGlzLnBvc2l0aW9uc1szKnIrMl19KSxyKys7cmV0dXJuIGl9c3RhdGljIHNlcmlhbGl6ZSh0LGUpe2NvbnN0IHI9bmV3IEZsb2F0NjRBcnJheSh0Lmlkcyksbj1uZXcgVWludDMyQXJyYXkodC5wb3NpdGlvbnMpO3JldHVybiBybyhyLG4sMCxyLmxlbmd0aC0xKSxlJiZlLnB1c2goci5idWZmZXIsbi5idWZmZXIpLHtpZHM6cixwb3NpdGlvbnM6bn19c3RhdGljIGRlc2VyaWFsaXplKHQpe2NvbnN0IGU9bmV3IHRvO3JldHVybiBlLmlkcz10LmlkcyxlLnBvc2l0aW9ucz10LnBvc2l0aW9ucyxlLmluZGV4ZWQ9ITAsZX19ZnVuY3Rpb24gZW8odCl7Y29uc3QgZT0rdDtyZXR1cm4gIWlzTmFOKGUpJiZOdW1iZXIuTUlOX1NBRkVfSU5URUdFUjw9ZSYmZTw9TnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI/ZTpIYS5leHBvcnRzKFN0cmluZyh0KSl9ZnVuY3Rpb24gcm8odCxlLHIsbil7Zm9yKDtyPG47KXtjb25zdCBpPXRbcituPj4xXTtsZXQgcz1yLTEsYT1uKzE7Zm9yKDs7KXtkb3tzKys7fXdoaWxlKHRbc108aSk7ZG97YS0tO313aGlsZSh0W2FdPmkpO2lmKHM+PWEpYnJlYWs7bm8odCxzLGEpLG5vKGUsMypzLDMqYSksbm8oZSwzKnMrMSwzKmErMSksbm8oZSwzKnMrMiwzKmErMik7fWEtcjxuLWE/KHJvKHQsZSxyLGEpLHI9YSsxKToocm8odCxlLGErMSxuKSxuPWEpO319ZnVuY3Rpb24gbm8odCxlLHIpe2NvbnN0IG49dFtlXTt0W2VdPXRbcl0sdFtyXT1uO31qaSh0byxcIkZlYXR1cmVQb3NpdGlvbk1hcFwiKTtjbGFzcyBpb3tjb25zdHJ1Y3Rvcih0KXt0aGlzLmdsPXQuZ2wsdGhpcy5pbml0aWFsaXplZD0hMTt9ZmV0Y2hVbmlmb3JtTG9jYXRpb24odCxlKXtyZXR1cm4gdGhpcy5sb2NhdGlvbnx8dGhpcy5pbml0aWFsaXplZHx8KHRoaXMubG9jYXRpb249dGhpcy5nbC5nZXRVbmlmb3JtTG9jYXRpb24odCxlKSx0aGlzLmluaXRpYWxpemVkPSEwKSwhIXRoaXMubG9jYXRpb259fWNsYXNzIHNvIGV4dGVuZHMgaW97Y29uc3RydWN0b3IodCl7c3VwZXIodCksdGhpcy5jdXJyZW50PTA7fXNldCh0LGUscil7dGhpcy5mZXRjaFVuaWZvcm1Mb2NhdGlvbih0LGUpJiZ0aGlzLmN1cnJlbnQhPT1yJiYodGhpcy5jdXJyZW50PXIsdGhpcy5nbC51bmlmb3JtMWYodGhpcy5sb2NhdGlvbixyKSk7fX1jbGFzcyBhbyBleHRlbmRzIGlve2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMuY3VycmVudD1bMCwwLDAsMF07fXNldCh0LGUscil7dGhpcy5mZXRjaFVuaWZvcm1Mb2NhdGlvbih0LGUpJiYoclswXT09PXRoaXMuY3VycmVudFswXSYmclsxXT09PXRoaXMuY3VycmVudFsxXSYmclsyXT09PXRoaXMuY3VycmVudFsyXSYmclszXT09PXRoaXMuY3VycmVudFszXXx8KHRoaXMuY3VycmVudD1yLHRoaXMuZ2wudW5pZm9ybTRmKHRoaXMubG9jYXRpb24sclswXSxyWzFdLHJbMl0sclszXSkpKTt9fWNsYXNzIG9vIGV4dGVuZHMgaW97Y29uc3RydWN0b3IodCl7c3VwZXIodCksdGhpcy5jdXJyZW50PUllLnRyYW5zcGFyZW50O31zZXQodCxlLHIpe3RoaXMuZmV0Y2hVbmlmb3JtTG9jYXRpb24odCxlKSYmKHIucj09PXRoaXMuY3VycmVudC5yJiZyLmc9PT10aGlzLmN1cnJlbnQuZyYmci5iPT09dGhpcy5jdXJyZW50LmImJnIuYT09PXRoaXMuY3VycmVudC5hfHwodGhpcy5jdXJyZW50PXIsdGhpcy5nbC51bmlmb3JtNGYodGhpcy5sb2NhdGlvbixyLnIsci5nLHIuYixyLmEpKSk7fX1jb25zdCBsbz1uZXcgRmxvYXQzMkFycmF5KDE2KSx1bz1uZXcgRmxvYXQzMkFycmF5KDkpLGNvPW5ldyBGbG9hdDMyQXJyYXkoNCk7ZnVuY3Rpb24gaG8odCl7cmV0dXJuIFt0YSgyNTUqdC5yLDI1NSp0LmcpLHRhKDI1NSp0LmIsMjU1KnQuYSldfWNsYXNzIHBve2NvbnN0cnVjdG9yKHQsZSxyKXt0aGlzLnZhbHVlPXQsdGhpcy51bmlmb3JtTmFtZXM9ZS5tYXAoKHQ9PmB1XyR7dH1gKSksdGhpcy50eXBlPXI7fXNldFVuaWZvcm0odCxlLHIsbixpKXtlLnNldCh0LGksbi5jb25zdGFudE9yKHRoaXMudmFsdWUpKTt9Z2V0QmluZGluZyh0LGUpe3JldHVybiBcImNvbG9yXCI9PT10aGlzLnR5cGU/bmV3IG9vKHQpOm5ldyBzbyh0KX19Y2xhc3MgZm97Y29uc3RydWN0b3IodCxlKXt0aGlzLnVuaWZvcm1OYW1lcz1lLm1hcCgodD0+YHVfJHt0fWApKSx0aGlzLnBhdHRlcm5Gcm9tPW51bGwsdGhpcy5wYXR0ZXJuVG89bnVsbCx0aGlzLnBpeGVsUmF0aW9Gcm9tPTEsdGhpcy5waXhlbFJhdGlvVG89MTt9c2V0Q29uc3RhbnRQYXR0ZXJuUG9zaXRpb25zKHQsZSl7dGhpcy5waXhlbFJhdGlvRnJvbT1lLnBpeGVsUmF0aW98fDEsdGhpcy5waXhlbFJhdGlvVG89dC5waXhlbFJhdGlvfHwxLHRoaXMucGF0dGVybkZyb209ZS50bC5jb25jYXQoZS5iciksdGhpcy5wYXR0ZXJuVG89dC50bC5jb25jYXQodC5icik7fXNldFVuaWZvcm0odCxlLHIsbixpKXtjb25zdCBzPVwidV9wYXR0ZXJuX3RvXCI9PT1pfHxcInVfZGFzaF90b1wiPT09aT90aGlzLnBhdHRlcm5UbzpcInVfcGF0dGVybl9mcm9tXCI9PT1pfHxcInVfZGFzaF9mcm9tXCI9PT1pP3RoaXMucGF0dGVybkZyb206XCJ1X3BpeGVsX3JhdGlvX3RvXCI9PT1pP3RoaXMucGl4ZWxSYXRpb1RvOlwidV9waXhlbF9yYXRpb19mcm9tXCI9PT1pP3RoaXMucGl4ZWxSYXRpb0Zyb206bnVsbDtzJiZlLnNldCh0LGkscyk7fWdldEJpbmRpbmcodCxlKXtyZXR1cm4gXCJ1X3BhdHRlcm5fZnJvbVwiPT09ZXx8XCJ1X3BhdHRlcm5fdG9cIj09PWV8fFwidV9kYXNoX2Zyb21cIj09PWV8fFwidV9kYXNoX3RvXCI9PT1lP25ldyBhbyh0KTpuZXcgc28odCl9fWNsYXNzIHlve2NvbnN0cnVjdG9yKHQsZSxyLG4pe3RoaXMuZXhwcmVzc2lvbj10LHRoaXMudHlwZT1yLHRoaXMubWF4VmFsdWU9MCx0aGlzLnBhaW50VmVydGV4QXR0cmlidXRlcz1lLm1hcCgodD0+KHtuYW1lOmBhXyR7dH1gLHR5cGU6XCJGbG9hdDMyXCIsY29tcG9uZW50czpcImNvbG9yXCI9PT1yPzI6MSxvZmZzZXQ6MH0pKSksdGhpcy5wYWludFZlcnRleEFycmF5PW5ldyBuO31wb3B1bGF0ZVBhaW50QXJyYXkodCxlLHIsbixpLHMpe2NvbnN0IGE9dGhpcy5wYWludFZlcnRleEFycmF5Lmxlbmd0aCxvPXRoaXMuZXhwcmVzc2lvbi5ldmFsdWF0ZShuZXcgVXMoMCksZSx7fSxpLG4scyk7dGhpcy5wYWludFZlcnRleEFycmF5LnJlc2l6ZSh0KSx0aGlzLl9zZXRQYWludFZhbHVlKGEsdCxvKTt9dXBkYXRlUGFpbnRBcnJheSh0LGUscixuLGkpe2NvbnN0IHM9dGhpcy5leHByZXNzaW9uLmV2YWx1YXRlKHt6b29tOjB9LHIsbix2b2lkIDAsaSk7dGhpcy5fc2V0UGFpbnRWYWx1ZSh0LGUscyk7fV9zZXRQYWludFZhbHVlKHQsZSxyKXtpZihcImNvbG9yXCI9PT10aGlzLnR5cGUpe2NvbnN0IG49aG8ocik7Zm9yKGxldCByPXQ7cjxlO3IrKyl0aGlzLnBhaW50VmVydGV4QXJyYXkuZW1wbGFjZShyLG5bMF0sblsxXSk7fWVsc2Uge2ZvcihsZXQgbj10O248ZTtuKyspdGhpcy5wYWludFZlcnRleEFycmF5LmVtcGxhY2UobixyKTt0aGlzLm1heFZhbHVlPU1hdGgubWF4KHRoaXMubWF4VmFsdWUsTWF0aC5hYnMocikpO319dXBsb2FkKHQpe3RoaXMucGFpbnRWZXJ0ZXhBcnJheSYmdGhpcy5wYWludFZlcnRleEFycmF5LmFycmF5QnVmZmVyJiYodGhpcy5wYWludFZlcnRleEJ1ZmZlciYmdGhpcy5wYWludFZlcnRleEJ1ZmZlci5idWZmZXI/dGhpcy5wYWludFZlcnRleEJ1ZmZlci51cGRhdGVEYXRhKHRoaXMucGFpbnRWZXJ0ZXhBcnJheSk6dGhpcy5wYWludFZlcnRleEJ1ZmZlcj10LmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLnBhaW50VmVydGV4QXJyYXksdGhpcy5wYWludFZlcnRleEF0dHJpYnV0ZXMsdGhpcy5leHByZXNzaW9uLmlzU3RhdGVEZXBlbmRlbnQpKTt9ZGVzdHJveSgpe3RoaXMucGFpbnRWZXJ0ZXhCdWZmZXImJnRoaXMucGFpbnRWZXJ0ZXhCdWZmZXIuZGVzdHJveSgpO319Y2xhc3MgbW97Y29uc3RydWN0b3IodCxlLHIsbixpLHMpe3RoaXMuZXhwcmVzc2lvbj10LHRoaXMudW5pZm9ybU5hbWVzPWUubWFwKCh0PT5gdV8ke3R9X3RgKSksdGhpcy50eXBlPXIsdGhpcy51c2VJbnRlZ2VyWm9vbT1uLHRoaXMuem9vbT1pLHRoaXMubWF4VmFsdWU9MCx0aGlzLnBhaW50VmVydGV4QXR0cmlidXRlcz1lLm1hcCgodD0+KHtuYW1lOmBhXyR7dH1gLHR5cGU6XCJGbG9hdDMyXCIsY29tcG9uZW50czpcImNvbG9yXCI9PT1yPzQ6MixvZmZzZXQ6MH0pKSksdGhpcy5wYWludFZlcnRleEFycmF5PW5ldyBzO31wb3B1bGF0ZVBhaW50QXJyYXkodCxlLHIsbixpLHMpe2NvbnN0IGE9dGhpcy5leHByZXNzaW9uLmV2YWx1YXRlKG5ldyBVcyh0aGlzLnpvb20pLGUse30saSxuLHMpLG89dGhpcy5leHByZXNzaW9uLmV2YWx1YXRlKG5ldyBVcyh0aGlzLnpvb20rMSksZSx7fSxpLG4scyksbD10aGlzLnBhaW50VmVydGV4QXJyYXkubGVuZ3RoO3RoaXMucGFpbnRWZXJ0ZXhBcnJheS5yZXNpemUodCksdGhpcy5fc2V0UGFpbnRWYWx1ZShsLHQsYSxvKTt9dXBkYXRlUGFpbnRBcnJheSh0LGUscixuLGkpe2NvbnN0IHM9dGhpcy5leHByZXNzaW9uLmV2YWx1YXRlKHt6b29tOnRoaXMuem9vbX0scixuLHZvaWQgMCxpKSxhPXRoaXMuZXhwcmVzc2lvbi5ldmFsdWF0ZSh7em9vbTp0aGlzLnpvb20rMX0scixuLHZvaWQgMCxpKTt0aGlzLl9zZXRQYWludFZhbHVlKHQsZSxzLGEpO31fc2V0UGFpbnRWYWx1ZSh0LGUscixuKXtpZihcImNvbG9yXCI9PT10aGlzLnR5cGUpe2NvbnN0IGk9aG8ocikscz1obyhuKTtmb3IobGV0IHI9dDtyPGU7cisrKXRoaXMucGFpbnRWZXJ0ZXhBcnJheS5lbXBsYWNlKHIsaVswXSxpWzFdLHNbMF0sc1sxXSk7fWVsc2Uge2ZvcihsZXQgaT10O2k8ZTtpKyspdGhpcy5wYWludFZlcnRleEFycmF5LmVtcGxhY2UoaSxyLG4pO3RoaXMubWF4VmFsdWU9TWF0aC5tYXgodGhpcy5tYXhWYWx1ZSxNYXRoLmFicyhyKSxNYXRoLmFicyhuKSk7fX11cGxvYWQodCl7dGhpcy5wYWludFZlcnRleEFycmF5JiZ0aGlzLnBhaW50VmVydGV4QXJyYXkuYXJyYXlCdWZmZXImJih0aGlzLnBhaW50VmVydGV4QnVmZmVyJiZ0aGlzLnBhaW50VmVydGV4QnVmZmVyLmJ1ZmZlcj90aGlzLnBhaW50VmVydGV4QnVmZmVyLnVwZGF0ZURhdGEodGhpcy5wYWludFZlcnRleEFycmF5KTp0aGlzLnBhaW50VmVydGV4QnVmZmVyPXQuY3JlYXRlVmVydGV4QnVmZmVyKHRoaXMucGFpbnRWZXJ0ZXhBcnJheSx0aGlzLnBhaW50VmVydGV4QXR0cmlidXRlcyx0aGlzLmV4cHJlc3Npb24uaXNTdGF0ZURlcGVuZGVudCkpO31kZXN0cm95KCl7dGhpcy5wYWludFZlcnRleEJ1ZmZlciYmdGhpcy5wYWludFZlcnRleEJ1ZmZlci5kZXN0cm95KCk7fXNldFVuaWZvcm0odCxlLHIsbixpKXtjb25zdCBzPXRoaXMudXNlSW50ZWdlclpvb20/TWF0aC5mbG9vcihyLnpvb20pOnIuem9vbSxhPVModGhpcy5leHByZXNzaW9uLmludGVycG9sYXRpb25GYWN0b3Iocyx0aGlzLnpvb20sdGhpcy56b29tKzEpLDAsMSk7ZS5zZXQodCxpLGEpO31nZXRCaW5kaW5nKHQsZSl7cmV0dXJuIG5ldyBzbyh0KX19Y2xhc3MgZ297Y29uc3RydWN0b3IodCxlLHIsbixpLHMsYSl7dGhpcy5leHByZXNzaW9uPXQsdGhpcy50eXBlPXIsdGhpcy51c2VJbnRlZ2VyWm9vbT1uLHRoaXMuem9vbT1pLHRoaXMubGF5ZXJJZD1hLHRoaXMucGFpbnRWZXJ0ZXhBdHRyaWJ1dGVzPShcImFycmF5XCI9PT1yP0thOlhhKS5tZW1iZXJzO2ZvcihsZXQgdD0wO3Q8ZS5sZW5ndGg7Kyt0KTt0aGlzLnpvb21JblBhaW50VmVydGV4QXJyYXk9bmV3IHMsdGhpcy56b29tT3V0UGFpbnRWZXJ0ZXhBcnJheT1uZXcgczt9cG9wdWxhdGVQYWludEFycmF5KHQsZSxyKXtjb25zdCBuPXRoaXMuem9vbUluUGFpbnRWZXJ0ZXhBcnJheS5sZW5ndGg7dGhpcy56b29tSW5QYWludFZlcnRleEFycmF5LnJlc2l6ZSh0KSx0aGlzLnpvb21PdXRQYWludFZlcnRleEFycmF5LnJlc2l6ZSh0KSx0aGlzLl9zZXRQYWludFZhbHVlcyhuLHQsZS5wYXR0ZXJucyYmZS5wYXR0ZXJuc1t0aGlzLmxheWVySWRdLHIpO311cGRhdGVQYWludEFycmF5KHQsZSxyLG4saSxzKXt0aGlzLl9zZXRQYWludFZhbHVlcyh0LGUsci5wYXR0ZXJucyYmci5wYXR0ZXJuc1t0aGlzLmxheWVySWRdLHMpO31fc2V0UGFpbnRWYWx1ZXModCxlLHIsbil7aWYoIW58fCFyKXJldHVybjtjb25zdHttaW46aSxtaWQ6cyxtYXg6YX09cixvPW5baV0sbD1uW3NdLHU9blthXTtpZihvJiZsJiZ1KWZvcihsZXQgcj10O3I8ZTtyKyspdGhpcy5fc2V0UGFpbnRWYWx1ZSh0aGlzLnpvb21JblBhaW50VmVydGV4QXJyYXkscixsLG8pLHRoaXMuX3NldFBhaW50VmFsdWUodGhpcy56b29tT3V0UGFpbnRWZXJ0ZXhBcnJheSxyLGwsdSk7fV9zZXRQYWludFZhbHVlKHQsZSxyLG4pe3QuZW1wbGFjZShlLHIudGxbMF0sci50bFsxXSxyLmJyWzBdLHIuYnJbMV0sbi50bFswXSxuLnRsWzFdLG4uYnJbMF0sbi5iclsxXSxyLnBpeGVsUmF0aW8sbi5waXhlbFJhdGlvKTt9dXBsb2FkKHQpe3RoaXMuem9vbUluUGFpbnRWZXJ0ZXhBcnJheSYmdGhpcy56b29tSW5QYWludFZlcnRleEFycmF5LmFycmF5QnVmZmVyJiZ0aGlzLnpvb21PdXRQYWludFZlcnRleEFycmF5JiZ0aGlzLnpvb21PdXRQYWludFZlcnRleEFycmF5LmFycmF5QnVmZmVyJiYodGhpcy56b29tSW5QYWludFZlcnRleEJ1ZmZlcj10LmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLnpvb21JblBhaW50VmVydGV4QXJyYXksdGhpcy5wYWludFZlcnRleEF0dHJpYnV0ZXMsdGhpcy5leHByZXNzaW9uLmlzU3RhdGVEZXBlbmRlbnQpLHRoaXMuem9vbU91dFBhaW50VmVydGV4QnVmZmVyPXQuY3JlYXRlVmVydGV4QnVmZmVyKHRoaXMuem9vbU91dFBhaW50VmVydGV4QXJyYXksdGhpcy5wYWludFZlcnRleEF0dHJpYnV0ZXMsdGhpcy5leHByZXNzaW9uLmlzU3RhdGVEZXBlbmRlbnQpKTt9ZGVzdHJveSgpe3RoaXMuem9vbU91dFBhaW50VmVydGV4QnVmZmVyJiZ0aGlzLnpvb21PdXRQYWludFZlcnRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy56b29tSW5QYWludFZlcnRleEJ1ZmZlciYmdGhpcy56b29tSW5QYWludFZlcnRleEJ1ZmZlci5kZXN0cm95KCk7fX1jbGFzcyB4b3tjb25zdHJ1Y3Rvcih0LGUscj0oKCk9PiEwKSl7dGhpcy5iaW5kZXJzPXt9LHRoaXMuX2J1ZmZlcnM9W107Y29uc3Qgbj1bXTtmb3IoY29uc3QgaSBpbiB0LnBhaW50Ll92YWx1ZXMpe2lmKCFyKGkpKWNvbnRpbnVlO2NvbnN0IHM9dC5wYWludC5nZXQoaSk7aWYoIShzIGluc3RhbmNlb2YgWnMmJkJuKHMucHJvcGVydHkuc3BlY2lmaWNhdGlvbikpKWNvbnRpbnVlO2NvbnN0IGE9X28oaSx0LnR5cGUpLG89cy52YWx1ZSxsPXMucHJvcGVydHkuc3BlY2lmaWNhdGlvbi50eXBlLHU9cy5wcm9wZXJ0eS51c2VJbnRlZ2VyWm9vbSxjPXMucHJvcGVydHkuc3BlY2lmaWNhdGlvbltcInByb3BlcnR5LXR5cGVcIl0saD1cImNyb3NzLWZhZGVkXCI9PT1jfHxcImNyb3NzLWZhZGVkLWRhdGEtZHJpdmVuXCI9PT1jLHA9XCJsaW5lLWRhc2hhcnJheVwiPT09U3RyaW5nKGkpJiZcImNvbnN0YW50XCIhPT10LmxheW91dC5nZXQoXCJsaW5lLWNhcFwiKS52YWx1ZS5raW5kO2lmKFwiY29uc3RhbnRcIiE9PW8ua2luZHx8cClpZihcInNvdXJjZVwiPT09by5raW5kfHxwfHxoKXtjb25zdCByPVNvKGksbCxcInNvdXJjZVwiKTt0aGlzLmJpbmRlcnNbaV09aD9uZXcgZ28obyxhLGwsdSxlLHIsdC5pZCk6bmV3IHlvKG8sYSxsLHIpLG4ucHVzaChgL2FfJHtpfWApO31lbHNlIHtjb25zdCB0PVNvKGksbCxcImNvbXBvc2l0ZVwiKTt0aGlzLmJpbmRlcnNbaV09bmV3IG1vKG8sYSxsLHUsZSx0KSxuLnB1c2goYC96XyR7aX1gKTt9ZWxzZSB0aGlzLmJpbmRlcnNbaV09aD9uZXcgZm8oby52YWx1ZSxhKTpuZXcgcG8oby52YWx1ZSxhLGwpLG4ucHVzaChgL3VfJHtpfWApO310aGlzLmNhY2hlS2V5PW4uc29ydCgpLmpvaW4oXCJcIik7fWdldE1heFZhbHVlKHQpe2NvbnN0IGU9dGhpcy5iaW5kZXJzW3RdO3JldHVybiBlIGluc3RhbmNlb2YgeW98fGUgaW5zdGFuY2VvZiBtbz9lLm1heFZhbHVlOjB9cG9wdWxhdGVQYWludEFycmF5cyh0LGUscixuLGkscyl7Zm9yKGNvbnN0IGEgaW4gdGhpcy5iaW5kZXJzKXtjb25zdCBvPXRoaXMuYmluZGVyc1thXTsobyBpbnN0YW5jZW9mIHlvfHxvIGluc3RhbmNlb2YgbW98fG8gaW5zdGFuY2VvZiBnbykmJm8ucG9wdWxhdGVQYWludEFycmF5KHQsZSxyLG4saSxzKTt9fXNldENvbnN0YW50UGF0dGVyblBvc2l0aW9ucyh0LGUpe2Zvcihjb25zdCByIGluIHRoaXMuYmluZGVycyl7Y29uc3Qgbj10aGlzLmJpbmRlcnNbcl07biBpbnN0YW5jZW9mIGZvJiZuLnNldENvbnN0YW50UGF0dGVyblBvc2l0aW9ucyh0LGUpO319dXBkYXRlUGFpbnRBcnJheXModCxlLHIsbixpLHMpe2xldCBhPSExO2Zvcihjb25zdCBvIGluIHQpe2NvbnN0IGw9ZS5nZXRQb3NpdGlvbnMobyk7Zm9yKGNvbnN0IGUgb2YgbCl7Y29uc3QgbD1yLmZlYXR1cmUoZS5pbmRleCk7Zm9yKGNvbnN0IHIgaW4gdGhpcy5iaW5kZXJzKXtjb25zdCB1PXRoaXMuYmluZGVyc1tyXTtpZigodSBpbnN0YW5jZW9mIHlvfHx1IGluc3RhbmNlb2YgbW98fHUgaW5zdGFuY2VvZiBnbykmJiEwPT09dS5leHByZXNzaW9uLmlzU3RhdGVEZXBlbmRlbnQpe2NvbnN0IGM9bi5wYWludC5nZXQocik7dS5leHByZXNzaW9uPWMudmFsdWUsdS51cGRhdGVQYWludEFycmF5KGUuc3RhcnQsZS5lbmQsbCx0W29dLGkscyksYT0hMDt9fX19cmV0dXJuIGF9ZGVmaW5lcygpe2NvbnN0IHQ9W107Zm9yKGNvbnN0IGUgaW4gdGhpcy5iaW5kZXJzKXtjb25zdCByPXRoaXMuYmluZGVyc1tlXTsociBpbnN0YW5jZW9mIHBvfHxyIGluc3RhbmNlb2YgZm8pJiZ0LnB1c2goLi4uci51bmlmb3JtTmFtZXMubWFwKCh0PT5gI2RlZmluZSBIQVNfVU5JRk9STV8ke3R9YCkpKTt9cmV0dXJuIHR9Z2V0QmluZGVyQXR0cmlidXRlcygpe2NvbnN0IHQ9W107Zm9yKGNvbnN0IGUgaW4gdGhpcy5iaW5kZXJzKXtjb25zdCByPXRoaXMuYmluZGVyc1tlXTtpZihyIGluc3RhbmNlb2YgeW98fHIgaW5zdGFuY2VvZiBtb3x8ciBpbnN0YW5jZW9mIGdvKWZvcihsZXQgZT0wO2U8ci5wYWludFZlcnRleEF0dHJpYnV0ZXMubGVuZ3RoO2UrKyl0LnB1c2goci5wYWludFZlcnRleEF0dHJpYnV0ZXNbZV0ubmFtZSk7fXJldHVybiB0fWdldEJpbmRlclVuaWZvcm1zKCl7Y29uc3QgdD1bXTtmb3IoY29uc3QgZSBpbiB0aGlzLmJpbmRlcnMpe2NvbnN0IHI9dGhpcy5iaW5kZXJzW2VdO2lmKHIgaW5zdGFuY2VvZiBwb3x8ciBpbnN0YW5jZW9mIGZvfHxyIGluc3RhbmNlb2YgbW8pZm9yKGNvbnN0IGUgb2Ygci51bmlmb3JtTmFtZXMpdC5wdXNoKGUpO31yZXR1cm4gdH1nZXRQYWludFZlcnRleEJ1ZmZlcnMoKXtyZXR1cm4gdGhpcy5fYnVmZmVyc31nZXRVbmlmb3Jtcyh0KXtjb25zdCBlPVtdO2Zvcihjb25zdCByIGluIHRoaXMuYmluZGVycyl7Y29uc3Qgbj10aGlzLmJpbmRlcnNbcl07aWYobiBpbnN0YW5jZW9mIHBvfHxuIGluc3RhbmNlb2YgZm98fG4gaW5zdGFuY2VvZiBtbylmb3IoY29uc3QgaSBvZiBuLnVuaWZvcm1OYW1lcyllLnB1c2goe25hbWU6aSxwcm9wZXJ0eTpyLGJpbmRpbmc6bi5nZXRCaW5kaW5nKHQsaSl9KTt9cmV0dXJuIGV9c2V0VW5pZm9ybXModCxlLHIsbixpKXtmb3IoY29uc3R7bmFtZTplLHByb3BlcnR5OnMsYmluZGluZzphfW9mIHIpdGhpcy5iaW5kZXJzW3NdLnNldFVuaWZvcm0odCxhLGksbi5nZXQocyksZSk7fXVwZGF0ZVBhaW50QnVmZmVycyh0KXt0aGlzLl9idWZmZXJzPVtdO2Zvcihjb25zdCBlIGluIHRoaXMuYmluZGVycyl7Y29uc3Qgcj10aGlzLmJpbmRlcnNbZV07aWYodCYmciBpbnN0YW5jZW9mIGdvKXtjb25zdCBlPTI9PT10LmZyb21TY2FsZT9yLnpvb21JblBhaW50VmVydGV4QnVmZmVyOnIuem9vbU91dFBhaW50VmVydGV4QnVmZmVyO2UmJnRoaXMuX2J1ZmZlcnMucHVzaChlKTt9ZWxzZSAociBpbnN0YW5jZW9mIHlvfHxyIGluc3RhbmNlb2YgbW8pJiZyLnBhaW50VmVydGV4QnVmZmVyJiZ0aGlzLl9idWZmZXJzLnB1c2goci5wYWludFZlcnRleEJ1ZmZlcik7fX11cGxvYWQodCl7Zm9yKGNvbnN0IGUgaW4gdGhpcy5iaW5kZXJzKXtjb25zdCByPXRoaXMuYmluZGVyc1tlXTsociBpbnN0YW5jZW9mIHlvfHxyIGluc3RhbmNlb2YgbW98fHIgaW5zdGFuY2VvZiBnbykmJnIudXBsb2FkKHQpO310aGlzLnVwZGF0ZVBhaW50QnVmZmVycygpO31kZXN0cm95KCl7Zm9yKGNvbnN0IHQgaW4gdGhpcy5iaW5kZXJzKXtjb25zdCBlPXRoaXMuYmluZGVyc1t0XTsoZSBpbnN0YW5jZW9mIHlvfHxlIGluc3RhbmNlb2YgbW98fGUgaW5zdGFuY2VvZiBnbykmJmUuZGVzdHJveSgpO319fWNsYXNzIHZve2NvbnN0cnVjdG9yKHQsZSxyPSgoKT0+ITApKXt0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucz17fTtmb3IoY29uc3QgbiBvZiB0KXRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zW24uaWRdPW5ldyB4byhuLGUscik7dGhpcy5uZWVkc1VwbG9hZD0hMSx0aGlzLl9mZWF0dXJlTWFwPW5ldyB0byx0aGlzLl9idWZmZXJPZmZzZXQ9MDt9cG9wdWxhdGVQYWludEFycmF5cyh0LGUscixuLGkscyxhKXtmb3IoY29uc3QgciBpbiB0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucyl0aGlzLnByb2dyYW1Db25maWd1cmF0aW9uc1tyXS5wb3B1bGF0ZVBhaW50QXJyYXlzKHQsZSxuLGkscyxhKTt2b2lkIDAhPT1lLmlkJiZ0aGlzLl9mZWF0dXJlTWFwLmFkZChlLmlkLHIsdGhpcy5fYnVmZmVyT2Zmc2V0LHQpLHRoaXMuX2J1ZmZlck9mZnNldD10LHRoaXMubmVlZHNVcGxvYWQ9ITA7fXVwZGF0ZVBhaW50QXJyYXlzKHQsZSxyLG4saSl7Zm9yKGNvbnN0IHMgb2Ygcil0aGlzLm5lZWRzVXBsb2FkPXRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zW3MuaWRdLnVwZGF0ZVBhaW50QXJyYXlzKHQsdGhpcy5fZmVhdHVyZU1hcCxlLHMsbixpKXx8dGhpcy5uZWVkc1VwbG9hZDt9Z2V0KHQpe3JldHVybiB0aGlzLnByb2dyYW1Db25maWd1cmF0aW9uc1t0XX11cGxvYWQodCl7aWYodGhpcy5uZWVkc1VwbG9hZCl7Zm9yKGNvbnN0IGUgaW4gdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMpdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnNbZV0udXBsb2FkKHQpO3RoaXMubmVlZHNVcGxvYWQ9ITE7fX1kZXN0cm95KCl7Zm9yKGNvbnN0IHQgaW4gdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMpdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnNbdF0uZGVzdHJveSgpO319Y29uc3QgYm89e1widGV4dC1vcGFjaXR5XCI6W1wib3BhY2l0eVwiXSxcImljb24tb3BhY2l0eVwiOltcIm9wYWNpdHlcIl0sXCJ0ZXh0LWNvbG9yXCI6W1wiZmlsbF9jb2xvclwiXSxcImljb24tY29sb3JcIjpbXCJmaWxsX2NvbG9yXCJdLFwidGV4dC1oYWxvLWNvbG9yXCI6W1wiaGFsb19jb2xvclwiXSxcImljb24taGFsby1jb2xvclwiOltcImhhbG9fY29sb3JcIl0sXCJ0ZXh0LWhhbG8tYmx1clwiOltcImhhbG9fYmx1clwiXSxcImljb24taGFsby1ibHVyXCI6W1wiaGFsb19ibHVyXCJdLFwidGV4dC1oYWxvLXdpZHRoXCI6W1wiaGFsb193aWR0aFwiXSxcImljb24taGFsby13aWR0aFwiOltcImhhbG9fd2lkdGhcIl0sXCJsaW5lLWdhcC13aWR0aFwiOltcImdhcHdpZHRoXCJdLFwibGluZS1wYXR0ZXJuXCI6W1wicGF0dGVybl90b1wiLFwicGF0dGVybl9mcm9tXCIsXCJwaXhlbF9yYXRpb190b1wiLFwicGl4ZWxfcmF0aW9fZnJvbVwiXSxcImZpbGwtcGF0dGVyblwiOltcInBhdHRlcm5fdG9cIixcInBhdHRlcm5fZnJvbVwiLFwicGl4ZWxfcmF0aW9fdG9cIixcInBpeGVsX3JhdGlvX2Zyb21cIl0sXCJmaWxsLWV4dHJ1c2lvbi1wYXR0ZXJuXCI6W1wicGF0dGVybl90b1wiLFwicGF0dGVybl9mcm9tXCIsXCJwaXhlbF9yYXRpb190b1wiLFwicGl4ZWxfcmF0aW9fZnJvbVwiXSxcImxpbmUtZGFzaGFycmF5XCI6W1wiZGFzaF90b1wiLFwiZGFzaF9mcm9tXCJdfTtmdW5jdGlvbiBfbyh0LGUpe3JldHVybiBib1t0XXx8W3QucmVwbGFjZShgJHtlfS1gLFwiXCIpLnJlcGxhY2UoLy0vZyxcIl9cIildfWNvbnN0IHdvPXtcImxpbmUtcGF0dGVyblwiOntzb3VyY2U6aGEsY29tcG9zaXRlOmhhfSxcImZpbGwtcGF0dGVyblwiOntzb3VyY2U6aGEsY29tcG9zaXRlOmhhfSxcImZpbGwtZXh0cnVzaW9uLXBhdHRlcm5cIjp7c291cmNlOmhhLGNvbXBvc2l0ZTpoYX0sXCJsaW5lLWRhc2hhcnJheVwiOntzb3VyY2U6cGEsY29tcG9zaXRlOnBhfX0sQW89e2NvbG9yOntzb3VyY2U6QmEsY29tcG9zaXRlOmNhfSxudW1iZXI6e3NvdXJjZTprYSxjb21wb3NpdGU6QmF9fTtmdW5jdGlvbiBTbyh0LGUscil7Y29uc3Qgbj13b1t0XTtyZXR1cm4gbiYmbltyXXx8QW9bZV1bcl19amkocG8sXCJDb25zdGFudEJpbmRlclwiKSxqaShmbyxcIkNyb3NzRmFkZWRDb25zdGFudEJpbmRlclwiKSxqaSh5byxcIlNvdXJjZUV4cHJlc3Npb25CaW5kZXJcIiksamkoZ28sXCJDcm9zc0ZhZGVkQ29tcG9zaXRlQmluZGVyXCIpLGppKG1vLFwiQ29tcG9zaXRlRXhwcmVzc2lvbkJpbmRlclwiKSxqaSh4byxcIlByb2dyYW1Db25maWd1cmF0aW9uXCIse29taXQ6W1wiX2J1ZmZlcnNcIl19KSxqaSh2byxcIlByb2dyYW1Db25maWd1cmF0aW9uU2V0XCIpO2NvbnN0IGtvPVwiLXRyYW5zaXRpb25cIjtjbGFzcyBJbyBleHRlbmRzIEt0e2NvbnN0cnVjdG9yKHQsZSl7aWYoc3VwZXIoKSx0aGlzLmlkPXQuaWQsdGhpcy50eXBlPXQudHlwZSx0aGlzLl9mZWF0dXJlRmlsdGVyPXtmaWx0ZXI6KCk9PiEwLG5lZWRHZW9tZXRyeTohMSxuZWVkRmVhdHVyZTohMX0sdGhpcy5fZmlsdGVyQ29tcGlsZWQ9ITEsXCJjdXN0b21cIiE9PXQudHlwZSYmKHRoaXMubWV0YWRhdGE9dC5tZXRhZGF0YSx0aGlzLm1pbnpvb209dC5taW56b29tLHRoaXMubWF4em9vbT10Lm1heHpvb20sXCJiYWNrZ3JvdW5kXCIhPT10LnR5cGUmJlwic2t5XCIhPT10LnR5cGUmJih0aGlzLnNvdXJjZT10LnNvdXJjZSx0aGlzLnNvdXJjZUxheWVyPXRbXCJzb3VyY2UtbGF5ZXJcIl0sdGhpcy5maWx0ZXI9dC5maWx0ZXIpLGUubGF5b3V0JiYodGhpcy5fdW5ldmFsdWF0ZWRMYXlvdXQ9bmV3IEdzKGUubGF5b3V0KSksZS5wYWludCkpe3RoaXMuX3RyYW5zaXRpb25hYmxlUGFpbnQ9bmV3IE9zKGUucGFpbnQpO2Zvcihjb25zdCBlIGluIHQucGFpbnQpdGhpcy5zZXRQYWludFByb3BlcnR5KGUsdC5wYWludFtlXSx7dmFsaWRhdGU6ITF9KTtmb3IoY29uc3QgZSBpbiB0LmxheW91dCl0aGlzLnNldExheW91dFByb3BlcnR5KGUsdC5sYXlvdXRbZV0se3ZhbGlkYXRlOiExfSk7dGhpcy5fdHJhbnNpdGlvbmluZ1BhaW50PXRoaXMuX3RyYW5zaXRpb25hYmxlUGFpbnQudW50cmFuc2l0aW9uZWQoKSx0aGlzLnBhaW50PW5ldyBYcyhlLnBhaW50KTt9fWdldENyb3NzZmFkZVBhcmFtZXRlcnMoKXtyZXR1cm4gdGhpcy5fY3Jvc3NmYWRlUGFyYW1ldGVyc31nZXRMYXlvdXRQcm9wZXJ0eSh0KXtyZXR1cm4gXCJ2aXNpYmlsaXR5XCI9PT10P3RoaXMudmlzaWJpbGl0eTp0aGlzLl91bmV2YWx1YXRlZExheW91dC5nZXRWYWx1ZSh0KX1zZXRMYXlvdXRQcm9wZXJ0eSh0LGUscj17fSl7bnVsbCE9ZSYmdGhpcy5fdmFsaWRhdGUoRGksYGxheWVycy4ke3RoaXMuaWR9LmxheW91dC4ke3R9YCx0LGUscil8fChcInZpc2liaWxpdHlcIiE9PXQ/dGhpcy5fdW5ldmFsdWF0ZWRMYXlvdXQuc2V0VmFsdWUodCxlKTp0aGlzLnZpc2liaWxpdHk9ZSk7fWdldFBhaW50UHJvcGVydHkodCl7cmV0dXJuIEYodCxrbyk/dGhpcy5fdHJhbnNpdGlvbmFibGVQYWludC5nZXRUcmFuc2l0aW9uKHQuc2xpY2UoMCwta28ubGVuZ3RoKSk6dGhpcy5fdHJhbnNpdGlvbmFibGVQYWludC5nZXRWYWx1ZSh0KX1zZXRQYWludFByb3BlcnR5KHQsZSxyPXt9KXtpZihudWxsIT1lJiZ0aGlzLl92YWxpZGF0ZShDaSxgbGF5ZXJzLiR7dGhpcy5pZH0ucGFpbnQuJHt0fWAsdCxlLHIpKXJldHVybiAhMTtpZihGKHQsa28pKXJldHVybiB0aGlzLl90cmFuc2l0aW9uYWJsZVBhaW50LnNldFRyYW5zaXRpb24odC5zbGljZSgwLC1rby5sZW5ndGgpLGV8fHZvaWQgMCksITE7e2NvbnN0IHI9dGhpcy5fdHJhbnNpdGlvbmFibGVQYWludC5fdmFsdWVzW3RdLG49XCJjcm9zcy1mYWRlZC1kYXRhLWRyaXZlblwiPT09ci5wcm9wZXJ0eS5zcGVjaWZpY2F0aW9uW1wicHJvcGVydHktdHlwZVwiXSxpPXIudmFsdWUuaXNEYXRhRHJpdmVuKCkscz1yLnZhbHVlO3RoaXMuX3RyYW5zaXRpb25hYmxlUGFpbnQuc2V0VmFsdWUodCxlKSx0aGlzLl9oYW5kbGVTcGVjaWFsUGFpbnRQcm9wZXJ0eVVwZGF0ZSh0KTtjb25zdCBhPXRoaXMuX3RyYW5zaXRpb25hYmxlUGFpbnQuX3ZhbHVlc1t0XS52YWx1ZTtyZXR1cm4gYS5pc0RhdGFEcml2ZW4oKXx8aXx8bnx8dGhpcy5faGFuZGxlT3ZlcnJpZGFibGVQYWludFByb3BlcnR5VXBkYXRlKHQscyxhKX19X2hhbmRsZVNwZWNpYWxQYWludFByb3BlcnR5VXBkYXRlKHQpe31nZXRQcm9ncmFtSWRzKCl7cmV0dXJuIG51bGx9Z2V0UHJvZ3JhbUNvbmZpZ3VyYXRpb24odCl7cmV0dXJuIG51bGx9X2hhbmRsZU92ZXJyaWRhYmxlUGFpbnRQcm9wZXJ0eVVwZGF0ZSh0LGUscil7cmV0dXJuICExfWlzSGlkZGVuKHQpe3JldHVybiAhISh0aGlzLm1pbnpvb20mJnQ8dGhpcy5taW56b29tKXx8ISEodGhpcy5tYXh6b29tJiZ0Pj10aGlzLm1heHpvb20pfHxcIm5vbmVcIj09PXRoaXMudmlzaWJpbGl0eX11cGRhdGVUcmFuc2l0aW9ucyh0KXt0aGlzLl90cmFuc2l0aW9uaW5nUGFpbnQ9dGhpcy5fdHJhbnNpdGlvbmFibGVQYWludC50cmFuc2l0aW9uZWQodCx0aGlzLl90cmFuc2l0aW9uaW5nUGFpbnQpO31oYXNUcmFuc2l0aW9uKCl7cmV0dXJuIHRoaXMuX3RyYW5zaXRpb25pbmdQYWludC5oYXNUcmFuc2l0aW9uKCl9cmVjYWxjdWxhdGUodCxlKXt0LmdldENyb3NzZmFkZVBhcmFtZXRlcnMmJih0aGlzLl9jcm9zc2ZhZGVQYXJhbWV0ZXJzPXQuZ2V0Q3Jvc3NmYWRlUGFyYW1ldGVycygpKSx0aGlzLl91bmV2YWx1YXRlZExheW91dCYmKHRoaXMubGF5b3V0PXRoaXMuX3VuZXZhbHVhdGVkTGF5b3V0LnBvc3NpYmx5RXZhbHVhdGUodCx2b2lkIDAsZSkpLHRoaXMucGFpbnQ9dGhpcy5fdHJhbnNpdGlvbmluZ1BhaW50LnBvc3NpYmx5RXZhbHVhdGUodCx2b2lkIDAsZSk7fXNlcmlhbGl6ZSgpe2NvbnN0IHQ9e2lkOnRoaXMuaWQsdHlwZTp0aGlzLnR5cGUsc291cmNlOnRoaXMuc291cmNlLFwic291cmNlLWxheWVyXCI6dGhpcy5zb3VyY2VMYXllcixtZXRhZGF0YTp0aGlzLm1ldGFkYXRhLG1pbnpvb206dGhpcy5taW56b29tLG1heHpvb206dGhpcy5tYXh6b29tLGZpbHRlcjp0aGlzLmZpbHRlcixsYXlvdXQ6dGhpcy5fdW5ldmFsdWF0ZWRMYXlvdXQmJnRoaXMuX3VuZXZhbHVhdGVkTGF5b3V0LnNlcmlhbGl6ZSgpLHBhaW50OnRoaXMuX3RyYW5zaXRpb25hYmxlUGFpbnQmJnRoaXMuX3RyYW5zaXRpb25hYmxlUGFpbnQuc2VyaWFsaXplKCl9O3JldHVybiB0aGlzLnZpc2liaWxpdHkmJih0LmxheW91dD10LmxheW91dHx8e30sdC5sYXlvdXQudmlzaWJpbGl0eT10aGlzLnZpc2liaWxpdHkpLFIodCwoKHQsZSk9PiEodm9pZCAwPT09dHx8XCJsYXlvdXRcIj09PWUmJiFPYmplY3Qua2V5cyh0KS5sZW5ndGh8fFwicGFpbnRcIj09PWUmJiFPYmplY3Qua2V5cyh0KS5sZW5ndGgpKSl9X3ZhbGlkYXRlKHQsZSxyLG4saT17fSl7cmV0dXJuICghaXx8ITEhPT1pLnZhbGlkYXRlKSYmRmkodGhpcyx0LmNhbGwoUGkse2tleTplLGxheWVyVHlwZTp0aGlzLnR5cGUsb2JqZWN0S2V5OnIsdmFsdWU6bixzdHlsZVNwZWM6SHQsc3R5bGU6e2dseXBoczohMCxzcHJpdGU6ITB9fSkpfWlzM0QoKXtyZXR1cm4gITF9aXNTa3koKXtyZXR1cm4gITF9aXNUaWxlQ2xpcHBlZCgpe3JldHVybiAhMX1oYXNPZmZzY3JlZW5QYXNzKCl7cmV0dXJuICExfXJlc2l6ZSgpe31pc1N0YXRlRGVwZW5kZW50KCl7Zm9yKGNvbnN0IHQgaW4gdGhpcy5wYWludC5fdmFsdWVzKXtjb25zdCBlPXRoaXMucGFpbnQuZ2V0KHQpO2lmKGUgaW5zdGFuY2VvZiBacyYmQm4oZS5wcm9wZXJ0eS5zcGVjaWZpY2F0aW9uKSYmKFwic291cmNlXCI9PT1lLnZhbHVlLmtpbmR8fFwiY29tcG9zaXRlXCI9PT1lLnZhbHVlLmtpbmQpJiZlLnZhbHVlLmlzU3RhdGVEZXBlbmRlbnQpcmV0dXJuICEwfXJldHVybiAhMX1jb21waWxlRmlsdGVyKCl7dGhpcy5fZmlsdGVyQ29tcGlsZWR8fCh0aGlzLl9mZWF0dXJlRmlsdGVyPXNpKHRoaXMuZmlsdGVyKSx0aGlzLl9maWx0ZXJDb21waWxlZD0hMCk7fWludmFsaWRhdGVDb21waWxlZEZpbHRlcigpe3RoaXMuX2ZpbHRlckNvbXBpbGVkPSExO31keW5hbWljRmlsdGVyKCl7cmV0dXJuIHRoaXMuX2ZlYXR1cmVGaWx0ZXIuZHluYW1pY0ZpbHRlcn1keW5hbWljRmlsdGVyTmVlZHNGZWF0dXJlKCl7cmV0dXJuIHRoaXMuX2ZlYXR1cmVGaWx0ZXIubmVlZEZlYXR1cmV9fWNvbnN0IE1vPWlhKFt7bmFtZTpcImFfcG9zXCIsY29tcG9uZW50czoyLHR5cGU6XCJJbnQxNlwifV0sNCksem89aWEoW3tuYW1lOlwiYV9wb3NfM1wiLGNvbXBvbmVudHM6Myx0eXBlOlwiSW50MTZcIn0se25hbWU6XCJhX3Bvc19ub3JtYWxfM1wiLGNvbXBvbmVudHM6Myx0eXBlOlwiSW50MTZcIn1dKTtjbGFzcyBUb3tjb25zdHJ1Y3Rvcih0PVtdKXt0aGlzLnNlZ21lbnRzPXQ7fXByZXBhcmVTZWdtZW50KHQsZSxyLG4pe2xldCBpPXRoaXMuc2VnbWVudHNbdGhpcy5zZWdtZW50cy5sZW5ndGgtMV07cmV0dXJuIHQ+VG8uTUFYX1ZFUlRFWF9BUlJBWV9MRU5HVEgmJiQoYE1heCB2ZXJ0aWNlcyBwZXIgc2VnbWVudCBpcyAke1RvLk1BWF9WRVJURVhfQVJSQVlfTEVOR1RIfTogYnVja2V0IHJlcXVlc3RlZCAke3R9YCksKCFpfHxpLnZlcnRleExlbmd0aCt0PlRvLk1BWF9WRVJURVhfQVJSQVlfTEVOR1RIfHxpLnNvcnRLZXkhPT1uKSYmKGk9e3ZlcnRleE9mZnNldDplLmxlbmd0aCxwcmltaXRpdmVPZmZzZXQ6ci5sZW5ndGgsdmVydGV4TGVuZ3RoOjAscHJpbWl0aXZlTGVuZ3RoOjB9LHZvaWQgMCE9PW4mJihpLnNvcnRLZXk9biksdGhpcy5zZWdtZW50cy5wdXNoKGkpKSxpfWdldCgpe3JldHVybiB0aGlzLnNlZ21lbnRzfWRlc3Ryb3koKXtmb3IoY29uc3QgdCBvZiB0aGlzLnNlZ21lbnRzKWZvcihjb25zdCBlIGluIHQudmFvcyl0LnZhb3NbZV0uZGVzdHJveSgpO31zdGF0aWMgc2ltcGxlU2VnbWVudCh0LGUscixuKXtyZXR1cm4gbmV3IFRvKFt7dmVydGV4T2Zmc2V0OnQscHJpbWl0aXZlT2Zmc2V0OmUsdmVydGV4TGVuZ3RoOnIscHJpbWl0aXZlTGVuZ3RoOm4sdmFvczp7fSxzb3J0S2V5OjB9XSl9fVRvLk1BWF9WRVJURVhfQVJSQVlfTEVOR1RIPU1hdGgucG93KDIsMTYpLTEsamkoVG8sXCJTZWdtZW50VmVjdG9yXCIpO3ZhciBCbz04MTkyO2NsYXNzIEVve2NvbnN0cnVjdG9yKHQsZSl7dCYmKGU/dGhpcy5zZXRTb3V0aFdlc3QodCkuc2V0Tm9ydGhFYXN0KGUpOjQ9PT10Lmxlbmd0aD90aGlzLnNldFNvdXRoV2VzdChbdFswXSx0WzFdXSkuc2V0Tm9ydGhFYXN0KFt0WzJdLHRbM11dKTp0aGlzLnNldFNvdXRoV2VzdCh0WzBdKS5zZXROb3J0aEVhc3QodFsxXSkpO31zZXROb3J0aEVhc3QodCl7cmV0dXJuIHRoaXMuX25lPXQgaW5zdGFuY2VvZiBDbz9uZXcgQ28odC5sbmcsdC5sYXQpOkNvLmNvbnZlcnQodCksdGhpc31zZXRTb3V0aFdlc3QodCl7cmV0dXJuIHRoaXMuX3N3PXQgaW5zdGFuY2VvZiBDbz9uZXcgQ28odC5sbmcsdC5sYXQpOkNvLmNvbnZlcnQodCksdGhpc31leHRlbmQodCl7Y29uc3QgZT10aGlzLl9zdyxyPXRoaXMuX25lO2xldCBuLGk7aWYodCBpbnN0YW5jZW9mIENvKW49dCxpPXQ7ZWxzZSB7aWYoISh0IGluc3RhbmNlb2YgRW8pKXJldHVybiBBcnJheS5pc0FycmF5KHQpPzQ9PT10Lmxlbmd0aHx8dC5ldmVyeShBcnJheS5pc0FycmF5KT90aGlzLmV4dGVuZChFby5jb252ZXJ0KHQpKTp0aGlzLmV4dGVuZChDby5jb252ZXJ0KHQpKTpcIm9iamVjdFwiPT10eXBlb2YgdCYmbnVsbCE9PXQmJnQuaGFzT3duUHJvcGVydHkoXCJsYXRcIikmJnQuaGFzT3duUHJvcGVydHkoXCJsb25cIik/dGhpcy5leHRlbmQoQ28uY29udmVydCh0KSk6dGhpcztpZihuPXQuX3N3LGk9dC5fbmUsIW58fCFpKXJldHVybiB0aGlzfXJldHVybiBlfHxyPyhlLmxuZz1NYXRoLm1pbihuLmxuZyxlLmxuZyksZS5sYXQ9TWF0aC5taW4obi5sYXQsZS5sYXQpLHIubG5nPU1hdGgubWF4KGkubG5nLHIubG5nKSxyLmxhdD1NYXRoLm1heChpLmxhdCxyLmxhdCkpOih0aGlzLl9zdz1uZXcgQ28obi5sbmcsbi5sYXQpLHRoaXMuX25lPW5ldyBDbyhpLmxuZyxpLmxhdCkpLHRoaXN9Z2V0Q2VudGVyKCl7cmV0dXJuIG5ldyBDbygodGhpcy5fc3cubG5nK3RoaXMuX25lLmxuZykvMiwodGhpcy5fc3cubGF0K3RoaXMuX25lLmxhdCkvMil9Z2V0U291dGhXZXN0KCl7cmV0dXJuIHRoaXMuX3N3fWdldE5vcnRoRWFzdCgpe3JldHVybiB0aGlzLl9uZX1nZXROb3J0aFdlc3QoKXtyZXR1cm4gbmV3IENvKHRoaXMuZ2V0V2VzdCgpLHRoaXMuZ2V0Tm9ydGgoKSl9Z2V0U291dGhFYXN0KCl7cmV0dXJuIG5ldyBDbyh0aGlzLmdldEVhc3QoKSx0aGlzLmdldFNvdXRoKCkpfWdldFdlc3QoKXtyZXR1cm4gdGhpcy5fc3cubG5nfWdldFNvdXRoKCl7cmV0dXJuIHRoaXMuX3N3LmxhdH1nZXRFYXN0KCl7cmV0dXJuIHRoaXMuX25lLmxuZ31nZXROb3J0aCgpe3JldHVybiB0aGlzLl9uZS5sYXR9dG9BcnJheSgpe3JldHVybiBbdGhpcy5fc3cudG9BcnJheSgpLHRoaXMuX25lLnRvQXJyYXkoKV19dG9TdHJpbmcoKXtyZXR1cm4gYExuZ0xhdEJvdW5kcygke3RoaXMuX3N3LnRvU3RyaW5nKCl9LCAke3RoaXMuX25lLnRvU3RyaW5nKCl9KWB9aXNFbXB0eSgpe3JldHVybiAhKHRoaXMuX3N3JiZ0aGlzLl9uZSl9Y29udGFpbnModCl7Y29uc3R7bG5nOmUsbGF0OnJ9PUNvLmNvbnZlcnQodCk7bGV0IG49dGhpcy5fc3cubG5nPD1lJiZlPD10aGlzLl9uZS5sbmc7cmV0dXJuIHRoaXMuX3N3LmxuZz50aGlzLl9uZS5sbmcmJihuPXRoaXMuX3N3LmxuZz49ZSYmZT49dGhpcy5fbmUubG5nKSx0aGlzLl9zdy5sYXQ8PXImJnI8PXRoaXMuX25lLmxhdCYmbn1zdGF0aWMgY29udmVydCh0KXtyZXR1cm4gIXR8fHQgaW5zdGFuY2VvZiBFbz90Om5ldyBFbyh0KX19Y29uc3QgUG89NjM3MTAwOC44O2NsYXNzIENve2NvbnN0cnVjdG9yKHQsZSl7aWYoaXNOYU4odCl8fGlzTmFOKGUpKXRocm93IG5ldyBFcnJvcihgSW52YWxpZCBMbmdMYXQgb2JqZWN0OiAoJHt0fSwgJHtlfSlgKTtpZih0aGlzLmxuZz0rdCx0aGlzLmxhdD0rZSx0aGlzLmxhdD45MHx8dGhpcy5sYXQ8LTkwKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgTG5nTGF0IGxhdGl0dWRlIHZhbHVlOiBtdXN0IGJlIGJldHdlZW4gLTkwIGFuZCA5MFwiKX13cmFwKCl7cmV0dXJuIG5ldyBDbyhJKHRoaXMubG5nLC0xODAsMTgwKSx0aGlzLmxhdCl9dG9BcnJheSgpe3JldHVybiBbdGhpcy5sbmcsdGhpcy5sYXRdfXRvU3RyaW5nKCl7cmV0dXJuIGBMbmdMYXQoJHt0aGlzLmxuZ30sICR7dGhpcy5sYXR9KWB9ZGlzdGFuY2VUbyh0KXtjb25zdCBlPU1hdGguUEkvMTgwLHI9dGhpcy5sYXQqZSxuPXQubGF0KmUsaT1NYXRoLnNpbihyKSpNYXRoLnNpbihuKStNYXRoLmNvcyhyKSpNYXRoLmNvcyhuKSpNYXRoLmNvcygodC5sbmctdGhpcy5sbmcpKmUpO3JldHVybiBQbypNYXRoLmFjb3MoTWF0aC5taW4oaSwxKSl9dG9Cb3VuZHModD0wKXtjb25zdCBlPTM2MCp0LzQwMDc1MDE3LHI9ZS9NYXRoLmNvcyhNYXRoLlBJLzE4MCp0aGlzLmxhdCk7cmV0dXJuIG5ldyBFbyhuZXcgQ28odGhpcy5sbmctcix0aGlzLmxhdC1lKSxuZXcgQ28odGhpcy5sbmcrcix0aGlzLmxhdCtlKSl9c3RhdGljIGNvbnZlcnQodCl7aWYodCBpbnN0YW5jZW9mIENvKXJldHVybiB0O2lmKEFycmF5LmlzQXJyYXkodCkmJigyPT09dC5sZW5ndGh8fDM9PT10Lmxlbmd0aCkpcmV0dXJuIG5ldyBDbyhOdW1iZXIodFswXSksTnVtYmVyKHRbMV0pKTtpZighQXJyYXkuaXNBcnJheSh0KSYmXCJvYmplY3RcIj09dHlwZW9mIHQmJm51bGwhPT10KXJldHVybiBuZXcgQ28oTnVtYmVyKFwibG5nXCJpbiB0P3QubG5nOnQubG9uKSxOdW1iZXIodC5sYXQpKTt0aHJvdyBuZXcgRXJyb3IoXCJgTG5nTGF0TGlrZWAgYXJndW1lbnQgbXVzdCBiZSBzcGVjaWZpZWQgYXMgYSBMbmdMYXQgaW5zdGFuY2UsIGFuIG9iamVjdCB7bG5nOiA8bG5nPiwgbGF0OiA8bGF0Pn0sIGFuIG9iamVjdCB7bG9uOiA8bG5nPiwgbGF0OiA8bGF0Pn0sIG9yIGFuIGFycmF5IG9mIFs8bG5nPiwgPGxhdD5dXCIpfX1jb25zdCBEbz0yKk1hdGguUEkqUG87ZnVuY3Rpb24gVm8odCl7cmV0dXJuIERvKk1hdGguY29zKHQqTWF0aC5QSS8xODApfWZ1bmN0aW9uIEZvKHQpe3JldHVybiAoMTgwK3QpLzM2MH1mdW5jdGlvbiBMbyh0KXtyZXR1cm4gKDE4MC0xODAvTWF0aC5QSSpNYXRoLmxvZyhNYXRoLnRhbihNYXRoLlBJLzQrdCpNYXRoLlBJLzM2MCkpKS8zNjB9ZnVuY3Rpb24gUm8odCxlKXtyZXR1cm4gdC9WbyhlKX1mdW5jdGlvbiBVbyh0KXtyZXR1cm4gMzYwKnQtMTgwfWZ1bmN0aW9uIGpvKHQpe3JldHVybiAzNjAvTWF0aC5QSSpNYXRoLmF0YW4oTWF0aC5leHAoKDE4MC0zNjAqdCkqTWF0aC5QSS8xODApKS05MH1mdW5jdGlvbiAkbyh0LGUpe3JldHVybiB0KlZvKGpvKGUpKX1jb25zdCBPbz04NS4wNTExMjk7ZnVuY3Rpb24gcW8odCl7cmV0dXJuIDEvTWF0aC5jb3ModCpNYXRoLlBJLzE4MCl9Y2xhc3MgTm97Y29uc3RydWN0b3IodCxlLHI9MCl7dGhpcy54PSt0LHRoaXMueT0rZSx0aGlzLno9K3I7fXN0YXRpYyBmcm9tTG5nTGF0KHQsZT0wKXtjb25zdCByPUNvLmNvbnZlcnQodCk7cmV0dXJuIG5ldyBObyhGbyhyLmxuZyksTG8oci5sYXQpLFJvKGUsci5sYXQpKX10b0xuZ0xhdCgpe3JldHVybiBuZXcgQ28oVW8odGhpcy54KSxqbyh0aGlzLnkpKX10b0FsdGl0dWRlKCl7cmV0dXJuICRvKHRoaXMueix0aGlzLnkpfW1ldGVySW5NZXJjYXRvckNvb3JkaW5hdGVVbml0cygpe3JldHVybiAxL0RvKnFvKGpvKHRoaXMueSkpfX1mdW5jdGlvbiBHbyh0LGUscixuLGkscyxhLG8sbCl7Y29uc3QgdT0oZStuKS8yLGM9KHIraSkvMixoPW5ldyBkKHUsYyk7byhoKSxmdW5jdGlvbih0LGUscixuLGkscyl7Y29uc3QgYT1yLWksbz1uLXM7cmV0dXJuIE1hdGguYWJzKChuLWUpKmEtKHItdCkqbykvTWF0aC5oeXBvdChhLG8pfShoLngsaC55LHMueCxzLnksYS54LGEueSk+PWw/KEdvKHQsZSxyLHUsYyxzLGgsbyxsKSxHbyh0LHUsYyxuLGksaCxhLG8sbCkpOnQucHVzaChhKTt9ZnVuY3Rpb24gWm8odCxlLHIpe2xldCBuPXRbMF0saT1uLngscz1uLnk7ZShuKTtjb25zdCBhPVtuXTtmb3IobGV0IG89MTtvPHQubGVuZ3RoO28rKyl7Y29uc3QgbD10W29dLHt4OnUseTpjfT1sO2UobCksR28oYSxpLHMsdSxjLG4sbCxlLHIpLGk9dSxzPWMsbj1sO31yZXR1cm4gYX1mdW5jdGlvbiBYbyh0LGUscixuKXtpZihuKGUscikpe2NvbnN0IGk9ZS5hZGQocikuX211bHQoLjUpO1hvKHQsZSxpLG4pLFhvKHQsaSxyLG4pO31lbHNlIHQucHVzaChyKTt9ZnVuY3Rpb24gS28odCxlKXtsZXQgcj10WzBdO2NvbnN0IG49W3JdO2ZvcihsZXQgaT0xO2k8dC5sZW5ndGg7aSsrKXtjb25zdCBzPXRbaV07WG8obixyLHMsZSkscj1zO31yZXR1cm4gbn1jb25zdCBIbz1NYXRoLnBvdygyLDE0KS0xLFlvPS1Iby0xO2Z1bmN0aW9uIFdvKHQsZSl7Y29uc3Qgcj1NYXRoLnJvdW5kKHQueCplKSxuPU1hdGgucm91bmQodC55KmUpO3JldHVybiB0Lng9UyhyLFlvLEhvKSx0Lnk9UyhuLFlvLEhvKSwocjx0Lnh8fHI+dC54KzF8fG48dC55fHxuPnQueSsxKSYmJChcIkdlb21ldHJ5IGV4Y2VlZHMgYWxsb3dlZCBleHRlbnQsIHJlZHVjZSB5b3VyIHZlY3RvciB0aWxlIGJ1ZmZlciBzaXplXCIpLHR9ZnVuY3Rpb24gSm8odCxlLHIpe2NvbnN0IG49dC5sb2FkR2VvbWV0cnkoKSxpPXQuZXh0ZW50LHM9Qm8vaTtpZihlJiZyJiZyLnByb2plY3Rpb24uaXNSZXByb2plY3RlZEluVGlsZVNwYWNlKXtjb25zdCBzPTE8PGUueix7c2NhbGU6YSx4Om8seTpsLHByb2plY3Rpb246dX09cixjPXQ9Pntjb25zdCByPVVvKChlLngrdC54L2kpL3MpLG49am8oKGUueSt0LnkvaSkvcyksYz11LnByb2plY3QocixuKTt0Lng9KGMueCphLW8pKmksdC55PShjLnkqYS1sKSppO307Zm9yKGxldCBlPTA7ZTxuLmxlbmd0aDtlKyspaWYoMSE9PXQudHlwZSluW2VdPVpvKG5bZV0sYywxKTtlbHNlIHtjb25zdCB0PVtdO2Zvcihjb25zdCByIG9mIG5bZV0pci54PDB8fHIueD49aXx8ci55PDB8fHIueT49aXx8KGMociksdC5wdXNoKHIpKTtuW2VdPXQ7fX1mb3IoY29uc3QgdCBvZiBuKWZvcihjb25zdCBlIG9mIHQpV28oZSxzKTtyZXR1cm4gbn1mdW5jdGlvbiBRbyh0LGUpe3JldHVybiB7dHlwZTp0LnR5cGUsaWQ6dC5pZCxwcm9wZXJ0aWVzOnQucHJvcGVydGllcyxnZW9tZXRyeTplP0pvKHQpOltdfX1mdW5jdGlvbiB0bCh0LGUscixuLGkpe3QuZW1wbGFjZUJhY2soMiplKyhuKzEpLzIsMipyKyhpKzEpLzIpO31mdW5jdGlvbiBlbCh0LGUscil7Y29uc3Qgbj0xNjM4NDt0LmVtcGxhY2VCYWNrKGUueCxlLnksZS56LHJbMF0qbixyWzFdKm4sclsyXSpuKTt9Y2xhc3Mgcmx7Y29uc3RydWN0b3IodCl7dGhpcy56b29tPXQuem9vbSx0aGlzLm92ZXJzY2FsaW5nPXQub3ZlcnNjYWxpbmcsdGhpcy5sYXllcnM9dC5sYXllcnMsdGhpcy5sYXllcklkcz10aGlzLmxheWVycy5tYXAoKHQ9PnQuaWQpKSx0aGlzLmluZGV4PXQuaW5kZXgsdGhpcy5oYXNQYXR0ZXJuPSExLHRoaXMucHJvamVjdGlvbj10LnByb2plY3Rpb24sdGhpcy5sYXlvdXRWZXJ0ZXhBcnJheT1uZXcgYWEsdGhpcy5pbmRleEFycmF5PW5ldyB3YSx0aGlzLnNlZ21lbnRzPW5ldyBUbyx0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucz1uZXcgdm8odC5sYXllcnMsdC56b29tKSx0aGlzLnN0YXRlRGVwZW5kZW50TGF5ZXJJZHM9dGhpcy5sYXllcnMuZmlsdGVyKCh0PT50LmlzU3RhdGVEZXBlbmRlbnQoKSkpLm1hcCgodD0+dC5pZCkpO31wb3B1bGF0ZSh0LGUscixuKXtjb25zdCBpPXRoaXMubGF5ZXJzWzBdLHM9W107bGV0IGE9bnVsbDtcImNpcmNsZVwiPT09aS50eXBlJiYoYT1pLmxheW91dC5nZXQoXCJjaXJjbGUtc29ydC1rZXlcIikpO2Zvcihjb25zdHtmZWF0dXJlOmUsaWQ6aSxpbmRleDpvLHNvdXJjZUxheWVySW5kZXg6bH1vZiB0KXtjb25zdCB0PXRoaXMubGF5ZXJzWzBdLl9mZWF0dXJlRmlsdGVyLm5lZWRHZW9tZXRyeSx1PVFvKGUsdCk7aWYoIXRoaXMubGF5ZXJzWzBdLl9mZWF0dXJlRmlsdGVyLmZpbHRlcihuZXcgVXModGhpcy56b29tKSx1LHIpKWNvbnRpbnVlO2NvbnN0IGM9YT9hLmV2YWx1YXRlKHUse30scik6dm9pZCAwLGg9e2lkOmkscHJvcGVydGllczplLnByb3BlcnRpZXMsdHlwZTplLnR5cGUsc291cmNlTGF5ZXJJbmRleDpsLGluZGV4Om8sZ2VvbWV0cnk6dD91Lmdlb21ldHJ5OkpvKGUscixuKSxwYXR0ZXJuczp7fSxzb3J0S2V5OmN9O3MucHVzaChoKTt9YSYmcy5zb3J0KCgodCxlKT0+dC5zb3J0S2V5LWUuc29ydEtleSkpO2xldCBvPW51bGw7XCJnbG9iZVwiPT09bi5wcm9qZWN0aW9uLm5hbWUmJih0aGlzLmdsb2JlRXh0VmVydGV4QXJyYXk9bmV3IFphLG89bi5wcm9qZWN0aW9uKTtmb3IoY29uc3QgbiBvZiBzKXtjb25zdHtnZW9tZXRyeTppLGluZGV4OnMsc291cmNlTGF5ZXJJbmRleDphfT1uLGw9dFtzXS5mZWF0dXJlO3RoaXMuYWRkRmVhdHVyZShuLGkscyxlLmF2YWlsYWJsZUltYWdlcyxyLG8pLGUuZmVhdHVyZUluZGV4Lmluc2VydChsLGkscyxhLHRoaXMuaW5kZXgpO319dXBkYXRlKHQsZSxyLG4pe3RoaXMuc3RhdGVEZXBlbmRlbnRMYXllcnMubGVuZ3RoJiZ0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucy51cGRhdGVQYWludEFycmF5cyh0LGUsdGhpcy5zdGF0ZURlcGVuZGVudExheWVycyxyLG4pO31pc0VtcHR5KCl7cmV0dXJuIDA9PT10aGlzLmxheW91dFZlcnRleEFycmF5Lmxlbmd0aH11cGxvYWRQZW5kaW5nKCl7cmV0dXJuICF0aGlzLnVwbG9hZGVkfHx0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucy5uZWVkc1VwbG9hZH11cGxvYWQodCl7dGhpcy51cGxvYWRlZHx8KHRoaXMubGF5b3V0VmVydGV4QnVmZmVyPXQuY3JlYXRlVmVydGV4QnVmZmVyKHRoaXMubGF5b3V0VmVydGV4QXJyYXksTW8ubWVtYmVycyksdGhpcy5pbmRleEJ1ZmZlcj10LmNyZWF0ZUluZGV4QnVmZmVyKHRoaXMuaW5kZXhBcnJheSksdGhpcy5nbG9iZUV4dFZlcnRleEFycmF5JiYodGhpcy5nbG9iZUV4dFZlcnRleEJ1ZmZlcj10LmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLmdsb2JlRXh0VmVydGV4QXJyYXksem8ubWVtYmVycykpKSx0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucy51cGxvYWQodCksdGhpcy51cGxvYWRlZD0hMDt9ZGVzdHJveSgpe3RoaXMubGF5b3V0VmVydGV4QnVmZmVyJiYodGhpcy5sYXlvdXRWZXJ0ZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMuaW5kZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLmRlc3Ryb3koKSx0aGlzLnNlZ21lbnRzLmRlc3Ryb3koKSx0aGlzLmdsb2JlRXh0VmVydGV4QnVmZmVyJiZ0aGlzLmdsb2JlRXh0VmVydGV4QnVmZmVyLmRlc3Ryb3koKSk7fWFkZEZlYXR1cmUodCxlLHIsbixpLHMpe2Zvcihjb25zdCByIG9mIGUpZm9yKGNvbnN0IGUgb2Ygcil7Y29uc3Qgcj1lLngsbj1lLnk7aWYocjwwfHxyPj1Cb3x8bjwwfHxuPj1Cbyljb250aW51ZTtpZihzKXtjb25zdCB0PXMucHJvamVjdFRpbGVQb2ludChyLG4saSksZT1zLnVwVmVjdG9yKGkscixuKSxhPXRoaXMuZ2xvYmVFeHRWZXJ0ZXhBcnJheTtlbChhLHQsZSksZWwoYSx0LGUpLGVsKGEsdCxlKSxlbChhLHQsZSk7fWNvbnN0IGE9dGhpcy5zZWdtZW50cy5wcmVwYXJlU2VnbWVudCg0LHRoaXMubGF5b3V0VmVydGV4QXJyYXksdGhpcy5pbmRleEFycmF5LHQuc29ydEtleSksbz1hLnZlcnRleExlbmd0aDt0bCh0aGlzLmxheW91dFZlcnRleEFycmF5LHIsbiwtMSwtMSksdGwodGhpcy5sYXlvdXRWZXJ0ZXhBcnJheSxyLG4sMSwtMSksdGwodGhpcy5sYXlvdXRWZXJ0ZXhBcnJheSxyLG4sMSwxKSx0bCh0aGlzLmxheW91dFZlcnRleEFycmF5LHIsbiwtMSwxKSx0aGlzLmluZGV4QXJyYXkuZW1wbGFjZUJhY2sobyxvKzEsbysyKSx0aGlzLmluZGV4QXJyYXkuZW1wbGFjZUJhY2sobyxvKzIsbyszKSxhLnZlcnRleExlbmd0aCs9NCxhLnByaW1pdGl2ZUxlbmd0aCs9Mjt9dGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMucG9wdWxhdGVQYWludEFycmF5cyh0aGlzLmxheW91dFZlcnRleEFycmF5Lmxlbmd0aCx0LHIse30sbixpKTt9fWZ1bmN0aW9uIG5sKHQsZSl7Zm9yKGxldCByPTA7cjx0Lmxlbmd0aDtyKyspaWYocGwoZSx0W3JdKSlyZXR1cm4gITA7Zm9yKGxldCByPTA7cjxlLmxlbmd0aDtyKyspaWYocGwodCxlW3JdKSlyZXR1cm4gITA7cmV0dXJuICEhb2wodCxlKX1mdW5jdGlvbiBpbCh0LGUscil7cmV0dXJuICEhcGwodCxlKXx8ISF1bChlLHQscil9ZnVuY3Rpb24gc2wodCxlKXtpZigxPT09dC5sZW5ndGgpcmV0dXJuIGhsKGUsdFswXSk7Zm9yKGxldCByPTA7cjxlLmxlbmd0aDtyKyspe2NvbnN0IG49ZVtyXTtmb3IobGV0IGU9MDtlPG4ubGVuZ3RoO2UrKylpZihwbCh0LG5bZV0pKXJldHVybiAhMH1mb3IobGV0IHI9MDtyPHQubGVuZ3RoO3IrKylpZihobChlLHRbcl0pKXJldHVybiAhMDtmb3IobGV0IHI9MDtyPGUubGVuZ3RoO3IrKylpZihvbCh0LGVbcl0pKXJldHVybiAhMDtyZXR1cm4gITF9ZnVuY3Rpb24gYWwodCxlLHIpe2lmKHQubGVuZ3RoPjEpe2lmKG9sKHQsZSkpcmV0dXJuICEwO2ZvcihsZXQgbj0wO248ZS5sZW5ndGg7bisrKWlmKHVsKGVbbl0sdCxyKSlyZXR1cm4gITB9Zm9yKGxldCBuPTA7bjx0Lmxlbmd0aDtuKyspaWYodWwodFtuXSxlLHIpKXJldHVybiAhMDtyZXR1cm4gITF9ZnVuY3Rpb24gb2wodCxlKXtpZigwPT09dC5sZW5ndGh8fDA9PT1lLmxlbmd0aClyZXR1cm4gITE7Zm9yKGxldCByPTA7cjx0Lmxlbmd0aC0xO3IrKyl7Y29uc3Qgbj10W3JdLGk9dFtyKzFdO2ZvcihsZXQgdD0wO3Q8ZS5sZW5ndGgtMTt0KyspaWYobGwobixpLGVbdF0sZVt0KzFdKSlyZXR1cm4gITB9cmV0dXJuICExfWZ1bmN0aW9uIGxsKHQsZSxyLG4pe3JldHVybiBPKHQscixuKSE9PU8oZSxyLG4pJiZPKHQsZSxyKSE9PU8odCxlLG4pfWZ1bmN0aW9uIHVsKHQsZSxyKXtjb25zdCBuPXIqcjtpZigxPT09ZS5sZW5ndGgpcmV0dXJuIHQuZGlzdFNxcihlWzBdKTxuO2ZvcihsZXQgcj0xO3I8ZS5sZW5ndGg7cisrKWlmKGNsKHQsZVtyLTFdLGVbcl0pPG4pcmV0dXJuICEwO3JldHVybiAhMX1mdW5jdGlvbiBjbCh0LGUscil7Y29uc3Qgbj1lLmRpc3RTcXIocik7aWYoMD09PW4pcmV0dXJuIHQuZGlzdFNxcihlKTtjb25zdCBpPSgodC54LWUueCkqKHIueC1lLngpKyh0LnktZS55KSooci55LWUueSkpL247cmV0dXJuIHQuZGlzdFNxcihpPDA/ZTppPjE/cjpyLnN1YihlKS5fbXVsdChpKS5fYWRkKGUpKX1mdW5jdGlvbiBobCh0LGUpe2xldCByLG4saSxzPSExO2ZvcihsZXQgYT0wO2E8dC5sZW5ndGg7YSsrKXtyPXRbYV07Zm9yKGxldCB0PTAsYT1yLmxlbmd0aC0xO3Q8ci5sZW5ndGg7YT10Kyspbj1yW3RdLGk9clthXSxuLnk+ZS55IT1pLnk+ZS55JiZlLng8KGkueC1uLngpKihlLnktbi55KS8oaS55LW4ueSkrbi54JiYocz0hcyk7fXJldHVybiBzfWZ1bmN0aW9uIHBsKHQsZSl7bGV0IHI9ITE7Zm9yKGxldCBuPTAsaT10Lmxlbmd0aC0xO248dC5sZW5ndGg7aT1uKyspe2NvbnN0IHM9dFtuXSxhPXRbaV07cy55PmUueSE9YS55PmUueSYmZS54PChhLngtcy54KSooZS55LXMueSkvKGEueS1zLnkpK3MueCYmKHI9IXIpO31yZXR1cm4gcn1mdW5jdGlvbiBmbCh0LGUscixuLGkpe2Zvcihjb25zdCBzIG9mIHQpaWYoZTw9cy54JiZyPD1zLnkmJm4+PXMueCYmaT49cy55KXJldHVybiAhMDtjb25zdCBzPVtuZXcgZChlLHIpLG5ldyBkKGUsaSksbmV3IGQobixpKSxuZXcgZChuLHIpXTtpZih0Lmxlbmd0aD4yKWZvcihjb25zdCBlIG9mIHMpaWYocGwodCxlKSlyZXR1cm4gITA7Zm9yKGxldCBlPTA7ZTx0Lmxlbmd0aC0xO2UrKylpZihkbCh0W2VdLHRbZSsxXSxzKSlyZXR1cm4gITA7cmV0dXJuICExfWZ1bmN0aW9uIGRsKHQsZSxyKXtjb25zdCBuPXJbMF0saT1yWzJdO2lmKHQueDxuLngmJmUueDxuLnh8fHQueD5pLngmJmUueD5pLnh8fHQueTxuLnkmJmUueTxuLnl8fHQueT5pLnkmJmUueT5pLnkpcmV0dXJuICExO2NvbnN0IHM9Tyh0LGUsclswXSk7cmV0dXJuIHMhPT1PKHQsZSxyWzFdKXx8cyE9PU8odCxlLHJbMl0pfHxzIT09Tyh0LGUsclszXSl9ZnVuY3Rpb24geWwodCxlLHIpe2NvbnN0IG49ZS5wYWludC5nZXQodCkudmFsdWU7cmV0dXJuIFwiY29uc3RhbnRcIj09PW4ua2luZD9uLnZhbHVlOnIucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLmdldChlLmlkKS5nZXRNYXhWYWx1ZSh0KX1mdW5jdGlvbiBtbCh0KXtyZXR1cm4gTWF0aC5zcXJ0KHRbMF0qdFswXSt0WzFdKnRbMV0pfWZ1bmN0aW9uIGdsKHQsZSxyLG4saSl7aWYoIWVbMF0mJiFlWzFdKXJldHVybiB0O2NvbnN0IHM9ZC5jb252ZXJ0KGUpLl9tdWx0KGkpO1widmlld3BvcnRcIj09PXImJnMuX3JvdGF0ZSgtbik7Y29uc3QgYT1bXTtmb3IobGV0IGU9MDtlPHQubGVuZ3RoO2UrKylhLnB1c2godFtlXS5zdWIocykpO3JldHVybiBhfWZ1bmN0aW9uIHhsKHQsZSxyLG4pe2NvbnN0IGk9ZC5jb252ZXJ0KHQpLl9tdWx0KG4pO3JldHVybiBcInZpZXdwb3J0XCI9PT1lJiZpLl9yb3RhdGUoLXIpLGl9amkocmwsXCJDaXJjbGVCdWNrZXRcIix7b21pdDpbXCJsYXllcnNcIl19KTtjb25zdCB2bD1uZXcgUXMoe1wiY2lyY2xlLXNvcnQta2V5XCI6bmV3IEhzKEh0LmxheW91dF9jaXJjbGVbXCJjaXJjbGUtc29ydC1rZXlcIl0pfSk7dmFyIGJsPXtwYWludDpuZXcgUXMoe1wiY2lyY2xlLXJhZGl1c1wiOm5ldyBIcyhIdC5wYWludF9jaXJjbGVbXCJjaXJjbGUtcmFkaXVzXCJdKSxcImNpcmNsZS1jb2xvclwiOm5ldyBIcyhIdC5wYWludF9jaXJjbGVbXCJjaXJjbGUtY29sb3JcIl0pLFwiY2lyY2xlLWJsdXJcIjpuZXcgSHMoSHQucGFpbnRfY2lyY2xlW1wiY2lyY2xlLWJsdXJcIl0pLFwiY2lyY2xlLW9wYWNpdHlcIjpuZXcgSHMoSHQucGFpbnRfY2lyY2xlW1wiY2lyY2xlLW9wYWNpdHlcIl0pLFwiY2lyY2xlLXRyYW5zbGF0ZVwiOm5ldyBLcyhIdC5wYWludF9jaXJjbGVbXCJjaXJjbGUtdHJhbnNsYXRlXCJdKSxcImNpcmNsZS10cmFuc2xhdGUtYW5jaG9yXCI6bmV3IEtzKEh0LnBhaW50X2NpcmNsZVtcImNpcmNsZS10cmFuc2xhdGUtYW5jaG9yXCJdKSxcImNpcmNsZS1waXRjaC1zY2FsZVwiOm5ldyBLcyhIdC5wYWludF9jaXJjbGVbXCJjaXJjbGUtcGl0Y2gtc2NhbGVcIl0pLFwiY2lyY2xlLXBpdGNoLWFsaWdubWVudFwiOm5ldyBLcyhIdC5wYWludF9jaXJjbGVbXCJjaXJjbGUtcGl0Y2gtYWxpZ25tZW50XCJdKSxcImNpcmNsZS1zdHJva2Utd2lkdGhcIjpuZXcgSHMoSHQucGFpbnRfY2lyY2xlW1wiY2lyY2xlLXN0cm9rZS13aWR0aFwiXSksXCJjaXJjbGUtc3Ryb2tlLWNvbG9yXCI6bmV3IEhzKEh0LnBhaW50X2NpcmNsZVtcImNpcmNsZS1zdHJva2UtY29sb3JcIl0pLFwiY2lyY2xlLXN0cm9rZS1vcGFjaXR5XCI6bmV3IEhzKEh0LnBhaW50X2NpcmNsZVtcImNpcmNsZS1zdHJva2Utb3BhY2l0eVwiXSl9KSxsYXlvdXQ6dmx9LF9sPTFlLTYsd2w9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIEZsb2F0MzJBcnJheT9GbG9hdDMyQXJyYXk6QXJyYXk7ZnVuY3Rpb24gQWwoKXt2YXIgdD1uZXcgd2woOSk7cmV0dXJuIHdsIT1GbG9hdDMyQXJyYXkmJih0WzFdPTAsdFsyXT0wLHRbM109MCx0WzVdPTAsdFs2XT0wLHRbN109MCksdFswXT0xLHRbNF09MSx0WzhdPTEsdH1mdW5jdGlvbiBTbCh0LGUscil7dmFyIG49ZVswXSxpPWVbMV0scz1lWzJdLGE9ZVszXSxvPWVbNF0sbD1lWzVdLHU9ZVs2XSxjPWVbN10saD1lWzhdLHA9clswXSxmPXJbMV0sZD1yWzJdLHk9clszXSxtPXJbNF0sZz1yWzVdLHg9cls2XSx2PXJbN10sYj1yWzhdO3JldHVybiB0WzBdPXAqbitmKmErZCp1LHRbMV09cCppK2YqbytkKmMsdFsyXT1wKnMrZipsK2QqaCx0WzNdPXkqbittKmErZyp1LHRbNF09eSppK20qbytnKmMsdFs1XT15KnMrbSpsK2cqaCx0WzZdPXgqbit2KmErYip1LHRbN109eCppK3YqbytiKmMsdFs4XT14KnMrdipsK2IqaCx0fWZ1bmN0aW9uIGtsKHQpe3JldHVybiB0WzBdPTEsdFsxXT0wLHRbMl09MCx0WzNdPTAsdFs0XT0wLHRbNV09MSx0WzZdPTAsdFs3XT0wLHRbOF09MCx0WzldPTAsdFsxMF09MSx0WzExXT0wLHRbMTJdPTAsdFsxM109MCx0WzE0XT0wLHRbMTVdPTEsdH1mdW5jdGlvbiBJbCh0LGUpe3ZhciByPWVbMF0sbj1lWzFdLGk9ZVsyXSxzPWVbM10sYT1lWzRdLG89ZVs1XSxsPWVbNl0sdT1lWzddLGM9ZVs4XSxoPWVbOV0scD1lWzEwXSxmPWVbMTFdLGQ9ZVsxMl0seT1lWzEzXSxtPWVbMTRdLGc9ZVsxNV0seD1yKm8tbiphLHY9cipsLWkqYSxiPXIqdS1zKmEsXz1uKmwtaSpvLHc9bip1LXMqbyxBPWkqdS1zKmwsUz1jKnktaCpkLGs9YyptLXAqZCxJPWMqZy1mKmQsTT1oKm0tcCp5LHo9aCpnLWYqeSxUPXAqZy1mKm0sQj14KlQtdip6K2IqTStfKkktdyprK0EqUztyZXR1cm4gQj8odFswXT0obypULWwqeit1Kk0pKihCPTEvQiksdFsxXT0oaSp6LW4qVC1zKk0pKkIsdFsyXT0oeSpBLW0qdytnKl8pKkIsdFszXT0ocCp3LWgqQS1mKl8pKkIsdFs0XT0obCpJLWEqVC11KmspKkIsdFs1XT0ocipULWkqSStzKmspKkIsdFs2XT0obSpiLWQqQS1nKnYpKkIsdFs3XT0oYypBLXAqYitmKnYpKkIsdFs4XT0oYSp6LW8qSSt1KlMpKkIsdFs5XT0obipJLXIqei1zKlMpKkIsdFsxMF09KGQqdy15KmIrZyp4KSpCLHRbMTFdPShoKmItYyp3LWYqeCkqQix0WzEyXT0obyprLWEqTS1sKlMpKkIsdFsxM109KHIqTS1uKmsraSpTKSpCLHRbMTRdPSh5KnYtZCpfLW0qeCkqQix0WzE1XT0oYypfLWgqditwKngpKkIsdCk6bnVsbH1mdW5jdGlvbiBNbCh0LGUscil7dmFyIG49ZVswXSxpPWVbMV0scz1lWzJdLGE9ZVszXSxvPWVbNF0sbD1lWzVdLHU9ZVs2XSxjPWVbN10saD1lWzhdLHA9ZVs5XSxmPWVbMTBdLGQ9ZVsxMV0seT1lWzEyXSxtPWVbMTNdLGc9ZVsxNF0seD1lWzE1XSx2PXJbMF0sYj1yWzFdLF89clsyXSx3PXJbM107cmV0dXJuIHRbMF09dipuK2IqbytfKmgrdyp5LHRbMV09dippK2IqbCtfKnArdyptLHRbMl09dipzK2IqdStfKmYrdypnLHRbM109diphK2IqYytfKmQrdyp4LHRbNF09KHY9cls0XSkqbisoYj1yWzVdKSpvKyhfPXJbNl0pKmgrKHc9cls3XSkqeSx0WzVdPXYqaStiKmwrXypwK3cqbSx0WzZdPXYqcytiKnUrXypmK3cqZyx0WzddPXYqYStiKmMrXypkK3cqeCx0WzhdPSh2PXJbOF0pKm4rKGI9cls5XSkqbysoXz1yWzEwXSkqaCsodz1yWzExXSkqeSx0WzldPXYqaStiKmwrXypwK3cqbSx0WzEwXT12KnMrYip1K18qZit3KmcsdFsxMV09diphK2IqYytfKmQrdyp4LHRbMTJdPSh2PXJbMTJdKSpuKyhiPXJbMTNdKSpvKyhfPXJbMTRdKSpoKyh3PXJbMTVdKSp5LHRbMTNdPXYqaStiKmwrXypwK3cqbSx0WzE0XT12KnMrYip1K18qZit3KmcsdFsxNV09diphK2IqYytfKmQrdyp4LHR9ZnVuY3Rpb24gemwodCxlLHIpe3ZhciBuLGkscyxhLG8sbCx1LGMsaCxwLGYsZCx5PXJbMF0sbT1yWzFdLGc9clsyXTtyZXR1cm4gZT09PXQ/KHRbMTJdPWVbMF0qeStlWzRdKm0rZVs4XSpnK2VbMTJdLHRbMTNdPWVbMV0qeStlWzVdKm0rZVs5XSpnK2VbMTNdLHRbMTRdPWVbMl0qeStlWzZdKm0rZVsxMF0qZytlWzE0XSx0WzE1XT1lWzNdKnkrZVs3XSptK2VbMTFdKmcrZVsxNV0pOihpPWVbMV0scz1lWzJdLGE9ZVszXSxvPWVbNF0sbD1lWzVdLHU9ZVs2XSxjPWVbN10saD1lWzhdLHA9ZVs5XSxmPWVbMTBdLGQ9ZVsxMV0sdFswXT1uPWVbMF0sdFsxXT1pLHRbMl09cyx0WzNdPWEsdFs0XT1vLHRbNV09bCx0WzZdPXUsdFs3XT1jLHRbOF09aCx0WzldPXAsdFsxMF09Zix0WzExXT1kLHRbMTJdPW4qeStvKm0raCpnK2VbMTJdLHRbMTNdPWkqeStsKm0rcCpnK2VbMTNdLHRbMTRdPXMqeSt1Km0rZipnK2VbMTRdLHRbMTVdPWEqeStjKm0rZCpnK2VbMTVdKSx0fWZ1bmN0aW9uIFRsKHQsZSxyKXt2YXIgbj1yWzBdLGk9clsxXSxzPXJbMl07cmV0dXJuIHRbMF09ZVswXSpuLHRbMV09ZVsxXSpuLHRbMl09ZVsyXSpuLHRbM109ZVszXSpuLHRbNF09ZVs0XSppLHRbNV09ZVs1XSppLHRbNl09ZVs2XSppLHRbN109ZVs3XSppLHRbOF09ZVs4XSpzLHRbOV09ZVs5XSpzLHRbMTBdPWVbMTBdKnMsdFsxMV09ZVsxMV0qcyx0WzEyXT1lWzEyXSx0WzEzXT1lWzEzXSx0WzE0XT1lWzE0XSx0WzE1XT1lWzE1XSx0fWZ1bmN0aW9uIEJsKHQsZSxyKXt2YXIgbj1NYXRoLnNpbihyKSxpPU1hdGguY29zKHIpLHM9ZVs0XSxhPWVbNV0sbz1lWzZdLGw9ZVs3XSx1PWVbOF0sYz1lWzldLGg9ZVsxMF0scD1lWzExXTtyZXR1cm4gZSE9PXQmJih0WzBdPWVbMF0sdFsxXT1lWzFdLHRbMl09ZVsyXSx0WzNdPWVbM10sdFsxMl09ZVsxMl0sdFsxM109ZVsxM10sdFsxNF09ZVsxNF0sdFsxNV09ZVsxNV0pLHRbNF09cyppK3Uqbix0WzVdPWEqaStjKm4sdFs2XT1vKmkraCpuLHRbN109bCppK3Aqbix0WzhdPXUqaS1zKm4sdFs5XT1jKmktYSpuLHRbMTBdPWgqaS1vKm4sdFsxMV09cCppLWwqbix0fWZ1bmN0aW9uIEVsKHQsZSxyKXt2YXIgbj1NYXRoLnNpbihyKSxpPU1hdGguY29zKHIpLHM9ZVswXSxhPWVbMV0sbz1lWzJdLGw9ZVszXSx1PWVbOF0sYz1lWzldLGg9ZVsxMF0scD1lWzExXTtyZXR1cm4gZSE9PXQmJih0WzRdPWVbNF0sdFs1XT1lWzVdLHRbNl09ZVs2XSx0WzddPWVbN10sdFsxMl09ZVsxMl0sdFsxM109ZVsxM10sdFsxNF09ZVsxNF0sdFsxNV09ZVsxNV0pLHRbMF09cyppLXUqbix0WzFdPWEqaS1jKm4sdFsyXT1vKmktaCpuLHRbM109bCppLXAqbix0WzhdPXMqbit1KmksdFs5XT1hKm4rYyppLHRbMTBdPW8qbitoKmksdFsxMV09bCpuK3AqaSx0fWZ1bmN0aW9uIFBsKHQsZSl7cmV0dXJuIHRbMF09ZVswXSx0WzFdPTAsdFsyXT0wLHRbM109MCx0WzRdPTAsdFs1XT1lWzFdLHRbNl09MCx0WzddPTAsdFs4XT0wLHRbOV09MCx0WzEwXT1lWzJdLHRbMTFdPTAsdFsxMl09MCx0WzEzXT0wLHRbMTRdPTAsdFsxNV09MSx0fWZ1bmN0aW9uIENsKHQsZSxyKXt2YXIgbixpLHMsYT1yWzBdLG89clsxXSxsPXJbMl0sdT1NYXRoLmh5cG90KGEsbyxsKTtyZXR1cm4gdTxfbD9udWxsOihhKj11PTEvdSxvKj11LGwqPXUsbj1NYXRoLnNpbihlKSxpPU1hdGguY29zKGUpLHRbMF09YSphKihzPTEtaSkraSx0WzFdPW8qYSpzK2wqbix0WzJdPWwqYSpzLW8qbix0WzNdPTAsdFs0XT1hKm8qcy1sKm4sdFs1XT1vKm8qcytpLHRbNl09bCpvKnMrYSpuLHRbN109MCx0WzhdPWEqbCpzK28qbix0WzldPW8qbCpzLWEqbix0WzEwXT1sKmwqcytpLHRbMTFdPTAsdFsxMl09MCx0WzEzXT0wLHRbMTRdPTAsdFsxNV09MSx0KX1NYXRoLmh5cG90fHwoTWF0aC5oeXBvdD1mdW5jdGlvbigpe2Zvcih2YXIgdD0wLGU9YXJndW1lbnRzLmxlbmd0aDtlLS07KXQrPWFyZ3VtZW50c1tlXSphcmd1bWVudHNbZV07cmV0dXJuIE1hdGguc3FydCh0KX0pO3ZhciBEbD1NbDtmdW5jdGlvbiBWbCgpe3ZhciB0PW5ldyB3bCgzKTtyZXR1cm4gd2whPUZsb2F0MzJBcnJheSYmKHRbMF09MCx0WzFdPTAsdFsyXT0wKSx0fWZ1bmN0aW9uIEZsKHQpe3ZhciBlPW5ldyB3bCgzKTtyZXR1cm4gZVswXT10WzBdLGVbMV09dFsxXSxlWzJdPXRbMl0sZX1mdW5jdGlvbiBMbCh0KXtyZXR1cm4gTWF0aC5oeXBvdCh0WzBdLHRbMV0sdFsyXSl9ZnVuY3Rpb24gUmwodCxlLHIpe3ZhciBuPW5ldyB3bCgzKTtyZXR1cm4gblswXT10LG5bMV09ZSxuWzJdPXIsbn1mdW5jdGlvbiBVbCh0LGUscil7cmV0dXJuIHRbMF09ZVswXStyWzBdLHRbMV09ZVsxXStyWzFdLHRbMl09ZVsyXStyWzJdLHR9ZnVuY3Rpb24gamwodCxlLHIpe3JldHVybiB0WzBdPWVbMF0tclswXSx0WzFdPWVbMV0tclsxXSx0WzJdPWVbMl0tclsyXSx0fWZ1bmN0aW9uICRsKHQsZSxyKXtyZXR1cm4gdFswXT1lWzBdKnJbMF0sdFsxXT1lWzFdKnJbMV0sdFsyXT1lWzJdKnJbMl0sdH1mdW5jdGlvbiBPbCh0LGUscil7cmV0dXJuIHRbMF09TWF0aC5taW4oZVswXSxyWzBdKSx0WzFdPU1hdGgubWluKGVbMV0sclsxXSksdFsyXT1NYXRoLm1pbihlWzJdLHJbMl0pLHR9ZnVuY3Rpb24gcWwodCxlLHIpe3JldHVybiB0WzBdPU1hdGgubWF4KGVbMF0sclswXSksdFsxXT1NYXRoLm1heChlWzFdLHJbMV0pLHRbMl09TWF0aC5tYXgoZVsyXSxyWzJdKSx0fWZ1bmN0aW9uIE5sKHQsZSxyKXtyZXR1cm4gdFswXT1lWzBdKnIsdFsxXT1lWzFdKnIsdFsyXT1lWzJdKnIsdH1mdW5jdGlvbiBHbCh0LGUscixuKXtyZXR1cm4gdFswXT1lWzBdK3JbMF0qbix0WzFdPWVbMV0rclsxXSpuLHRbMl09ZVsyXStyWzJdKm4sdH1mdW5jdGlvbiBabCh0LGUpe3ZhciByPWVbMF0sbj1lWzFdLGk9ZVsyXSxzPXIqcituKm4raSppO3JldHVybiBzPjAmJihzPTEvTWF0aC5zcXJ0KHMpKSx0WzBdPWVbMF0qcyx0WzFdPWVbMV0qcyx0WzJdPWVbMl0qcyx0fWZ1bmN0aW9uIFhsKHQsZSl7cmV0dXJuIHRbMF0qZVswXSt0WzFdKmVbMV0rdFsyXSplWzJdfWZ1bmN0aW9uIEtsKHQsZSxyKXt2YXIgbj1lWzBdLGk9ZVsxXSxzPWVbMl0sYT1yWzBdLG89clsxXSxsPXJbMl07cmV0dXJuIHRbMF09aSpsLXMqbyx0WzFdPXMqYS1uKmwsdFsyXT1uKm8taSphLHR9ZnVuY3Rpb24gSGwodCxlLHIpe3ZhciBuPWVbMF0saT1lWzFdLHM9ZVsyXSxhPXJbM10qbityWzddKmkrclsxMV0qcytyWzE1XTtyZXR1cm4gdFswXT0oclswXSpuK3JbNF0qaStyWzhdKnMrclsxMl0pLyhhPWF8fDEpLHRbMV09KHJbMV0qbityWzVdKmkrcls5XSpzK3JbMTNdKS9hLHRbMl09KHJbMl0qbityWzZdKmkrclsxMF0qcytyWzE0XSkvYSx0fWZ1bmN0aW9uIFlsKHQsZSxyKXt2YXIgbj1yWzBdLGk9clsxXSxzPXJbMl0sYT1lWzBdLG89ZVsxXSxsPWVbMl0sdT1pKmwtcypvLGM9cyphLW4qbCxoPW4qby1pKmEscD1pKmgtcypjLGY9cyp1LW4qaCxkPW4qYy1pKnUseT0yKnJbM107cmV0dXJuIGMqPXksaCo9eSxmKj0yLGQqPTIsdFswXT1hKyh1Kj15KSsocCo9MiksdFsxXT1vK2MrZix0WzJdPWwraCtkLHR9dmFyIFdsLEpsPWpsLFFsPSRsLHR1PUxsO2Z1bmN0aW9uIGV1KHQsZSxyKXtyZXR1cm4gdFswXT1lWzBdKnIsdFsxXT1lWzFdKnIsdFsyXT1lWzJdKnIsdFszXT1lWzNdKnIsdH1mdW5jdGlvbiBydSh0LGUpe3ZhciByPWVbMF0sbj1lWzFdLGk9ZVsyXSxzPWVbM10sYT1yKnIrbipuK2kqaStzKnM7cmV0dXJuIGE+MCYmKGE9MS9NYXRoLnNxcnQoYSkpLHRbMF09ciphLHRbMV09biphLHRbMl09aSphLHRbM109cyphLHR9ZnVuY3Rpb24gbnUodCxlLHIpe3ZhciBuPWVbMF0saT1lWzFdLHM9ZVsyXSxhPWVbM107cmV0dXJuIHRbMF09clswXSpuK3JbNF0qaStyWzhdKnMrclsxMl0qYSx0WzFdPXJbMV0qbityWzVdKmkrcls5XSpzK3JbMTNdKmEsdFsyXT1yWzJdKm4rcls2XSppK3JbMTBdKnMrclsxNF0qYSx0WzNdPXJbM10qbityWzddKmkrclsxMV0qcytyWzE1XSphLHR9ZnVuY3Rpb24gaXUoKXt2YXIgdD1uZXcgd2woNCk7cmV0dXJuIHdsIT1GbG9hdDMyQXJyYXkmJih0WzBdPTAsdFsxXT0wLHRbMl09MCksdFszXT0xLHR9ZnVuY3Rpb24gc3UodCl7cmV0dXJuIHRbMF09MCx0WzFdPTAsdFsyXT0wLHRbM109MSx0fWZ1bmN0aW9uIGF1KHQsZSxyKXtyKj0uNTt2YXIgbj1lWzBdLGk9ZVsxXSxzPWVbMl0sYT1lWzNdLG89TWF0aC5zaW4ociksbD1NYXRoLmNvcyhyKTtyZXR1cm4gdFswXT1uKmwrYSpvLHRbMV09aSpsK3Mqbyx0WzJdPXMqbC1pKm8sdFszXT1hKmwtbipvLHR9ZnVuY3Rpb24gb3UodCxlLHIpe3IqPS41O3ZhciBuPWVbMF0saT1lWzFdLHM9ZVsyXSxhPWVbM10sbz1NYXRoLnNpbihyKSxsPU1hdGguY29zKHIpO3JldHVybiB0WzBdPW4qbC1zKm8sdFsxXT1pKmwrYSpvLHRbMl09cypsK24qbyx0WzNdPWEqbC1pKm8sdH1WbCgpLFdsPW5ldyB3bCg0KSx3bCE9RmxvYXQzMkFycmF5JiYoV2xbMF09MCxXbFsxXT0wLFdsWzJdPTAsV2xbM109MCk7dmFyIGx1PXJ1O1ZsKCksUmwoMSwwLDApLFJsKDAsMSwwKSxpdSgpLGl1KCksQWwoKTtjbGFzcyB1dXtjb25zdHJ1Y3Rvcih0LGUpe3RoaXMucG9zPXQsdGhpcy5kaXI9ZTt9aW50ZXJzZWN0c1BsYW5lKHQsZSxyKXtjb25zdCBuPVhsKGUsdGhpcy5kaXIpO2lmKE1hdGguYWJzKG4pPDFlLTYpcmV0dXJuICExO2NvbnN0IGk9KCh0WzBdLXRoaXMucG9zWzBdKSplWzBdKyh0WzFdLXRoaXMucG9zWzFdKSplWzFdKyh0WzJdLXRoaXMucG9zWzJdKSplWzJdKS9uO3JldHVybiByWzBdPXRoaXMucG9zWzBdK3RoaXMuZGlyWzBdKmksclsxXT10aGlzLnBvc1sxXSt0aGlzLmRpclsxXSppLHJbMl09dGhpcy5wb3NbMl0rdGhpcy5kaXJbMl0qaSwhMH1jbG9zZXN0UG9pbnRPblNwaGVyZSh0LGUscil7aWYoZnVuY3Rpb24odCxlKXt2YXIgcj10WzBdLG49dFsxXSxpPXRbMl0scz1lWzBdLGE9ZVsxXSxvPWVbMl07cmV0dXJuIE1hdGguYWJzKHItcyk8PV9sKk1hdGgubWF4KDEsTWF0aC5hYnMociksTWF0aC5hYnMocykpJiZNYXRoLmFicyhuLWEpPD1fbCpNYXRoLm1heCgxLE1hdGguYWJzKG4pLE1hdGguYWJzKGEpKSYmTWF0aC5hYnMoaS1vKTw9X2wqTWF0aC5tYXgoMSxNYXRoLmFicyhpKSxNYXRoLmFicyhvKSl9KHRoaXMucG9zLHQpfHwwPT09ZSlyZXR1cm4gclswXT1yWzFdPXJbMl09MCwhMTtjb25zdFtuLGksc109dGhpcy5kaXIsYT10aGlzLnBvc1swXS10WzBdLG89dGhpcy5wb3NbMV0tdFsxXSxsPXRoaXMucG9zWzJdLXRbMl0sdT1uKm4raSppK3MqcyxjPTIqKGEqbitvKmkrbCpzKSxoPWMqYy00KnUqKGEqYStvKm8rbCpsLWUqZSk7aWYoaDwwKXtjb25zdCB0PU1hdGgubWF4KC1jLzIsMCksdT1hK24qdCxoPW8raSp0LHA9bCtzKnQsZj1NYXRoLmh5cG90KHUsaCxwKTtyZXR1cm4gclswXT11KmUvZixyWzFdPWgqZS9mLHJbMl09cCplL2YsITF9e2NvbnN0IHQ9KC1jLU1hdGguc3FydChoKSkvKDIqdSk7aWYodDwwKXtjb25zdCB0PU1hdGguaHlwb3QoYSxvLGwpO3JldHVybiByWzBdPWEqZS90LHJbMV09byplL3QsclsyXT1sKmUvdCwhMX1yZXR1cm4gclswXT1hK24qdCxyWzFdPW8raSp0LHJbMl09bCtzKnQsITB9fX1jbGFzcyBjdXtjb25zdHJ1Y3Rvcih0LGUscixuLGkpe3RoaXMuVEw9dCx0aGlzLlRSPWUsdGhpcy5CUj1yLHRoaXMuQkw9bix0aGlzLmhvcml6b249aTt9c3RhdGljIGZyb21JbnZQcm9qZWN0aW9uTWF0cml4KHQsZSxyKXtjb25zdCBuPVstMSwxLDFdLGk9WzEsMSwxXSxzPVsxLC0xLDFdLGE9Wy0xLC0xLDFdLG89SGwobixuLHQpLGw9SGwoaSxpLHQpLHU9SGwocyxzLHQpLGM9SGwoYSxhLHQpO3JldHVybiBuZXcgY3UobyxsLHUsYyxlL3IpfX1jbGFzcyBodXtjb25zdHJ1Y3Rvcih0LGUpe3RoaXMucG9pbnRzPXQsdGhpcy5wbGFuZXM9ZTt9c3RhdGljIGZyb21JbnZQcm9qZWN0aW9uTWF0cml4KHQsZSxyLG4pe2NvbnN0IGk9TWF0aC5wb3coMixyKSxzPVtbLTEsMSwtMSwxXSxbMSwxLC0xLDFdLFsxLC0xLC0xLDFdLFstMSwtMSwtMSwxXSxbLTEsMSwxLDFdLFsxLDEsMSwxXSxbMSwtMSwxLDFdLFstMSwtMSwxLDFdXS5tYXAoKHI9Pntjb25zdCBzPW51KFtdLHIsdCksYT0xL3NbM10vZSppO3JldHVybiBmdW5jdGlvbih0LGUscil7cmV0dXJuIHRbMF09ZVswXSpyWzBdLHRbMV09ZVsxXSpyWzFdLHRbMl09ZVsyXSpyWzJdLHRbM109ZVszXSpyWzNdLHR9KHMscyxbYSxhLG4/MS9zWzNdOmEsYV0pfSkpLGE9W1swLDEsMl0sWzYsNSw0XSxbMCwzLDddLFsyLDEsNV0sWzMsMiw2XSxbMCw0LDVdXS5tYXAoKHQ9Pntjb25zdCBlPVpsKFtdLEtsKFtdLEpsKFtdLHNbdFswXV0sc1t0WzFdXSksSmwoW10sc1t0WzJdXSxzW3RbMV1dKSkpLHI9LVhsKGUsc1t0WzFdXSk7cmV0dXJuIGUuY29uY2F0KHIpfSkpO3JldHVybiBuZXcgaHUocyxhKX19Y2xhc3MgcHV7c3RhdGljIGZyb21Qb2ludHModCl7Y29uc3QgZT1bMS8wLDEvMCwxLzBdLHI9Wy0xLzAsLTEvMCwtMS8wXTtmb3IoY29uc3QgbiBvZiB0KU9sKGUsZSxuKSxxbChyLHIsbik7cmV0dXJuIG5ldyBwdShlLHIpfXN0YXRpYyBhcHBseVRyYW5zZm9ybSh0LGUpe2NvbnN0IHI9dC5nZXRDb3JuZXJzKCk7Zm9yKGxldCB0PTA7dDxyLmxlbmd0aDsrK3QpSGwoclt0XSxyW3RdLGUpO3JldHVybiBwdS5mcm9tUG9pbnRzKHIpfWNvbnN0cnVjdG9yKHQsZSl7dGhpcy5taW49dCx0aGlzLm1heD1lLHRoaXMuY2VudGVyPU5sKFtdLFVsKFtdLHRoaXMubWluLHRoaXMubWF4KSwuNSk7fXF1YWRyYW50KHQpe2NvbnN0IGU9W3QlMj09MCx0PDJdLHI9RmwodGhpcy5taW4pLG49RmwodGhpcy5tYXgpO2ZvcihsZXQgdD0wO3Q8ZS5sZW5ndGg7dCsrKXJbdF09ZVt0XT90aGlzLm1pblt0XTp0aGlzLmNlbnRlclt0XSxuW3RdPWVbdF0/dGhpcy5jZW50ZXJbdF06dGhpcy5tYXhbdF07cmV0dXJuIG5bMl09dGhpcy5tYXhbMl0sbmV3IHB1KHIsbil9ZGlzdGFuY2VYKHQpe3JldHVybiBNYXRoLm1heChNYXRoLm1pbih0aGlzLm1heFswXSx0WzBdKSx0aGlzLm1pblswXSktdFswXX1kaXN0YW5jZVkodCl7cmV0dXJuIE1hdGgubWF4KE1hdGgubWluKHRoaXMubWF4WzFdLHRbMV0pLHRoaXMubWluWzFdKS10WzFdfWRpc3RhbmNlWih0KXtyZXR1cm4gTWF0aC5tYXgoTWF0aC5taW4odGhpcy5tYXhbMl0sdFsyXSksdGhpcy5taW5bMl0pLXRbMl19Z2V0Q29ybmVycygpe2NvbnN0IHQ9dGhpcy5taW4sZT10aGlzLm1heDtyZXR1cm4gW1t0WzBdLHRbMV0sdFsyXV0sW2VbMF0sdFsxXSx0WzJdXSxbZVswXSxlWzFdLHRbMl1dLFt0WzBdLGVbMV0sdFsyXV0sW3RbMF0sdFsxXSxlWzJdXSxbZVswXSx0WzFdLGVbMl1dLFtlWzBdLGVbMV0sZVsyXV0sW3RbMF0sZVsxXSxlWzJdXV19aW50ZXJzZWN0cyh0KXtjb25zdCBlPXRoaXMuZ2V0Q29ybmVycygpO2xldCByPSEwO2ZvcihsZXQgbj0wO248dC5wbGFuZXMubGVuZ3RoO24rKyl7Y29uc3QgaT10LnBsYW5lc1tuXTtsZXQgcz0wO2ZvcihsZXQgdD0wO3Q8ZS5sZW5ndGg7dCsrKXMrPVhsKGksZVt0XSkraVszXT49MDtpZigwPT09cylyZXR1cm4gMDtzIT09ZS5sZW5ndGgmJihyPSExKTt9aWYocilyZXR1cm4gMjtmb3IobGV0IGU9MDtlPDM7ZSsrKXtsZXQgcj1OdW1iZXIuTUFYX1ZBTFVFLG49LU51bWJlci5NQVhfVkFMVUU7Zm9yKGxldCBpPTA7aTx0LnBvaW50cy5sZW5ndGg7aSsrKXtjb25zdCBzPXQucG9pbnRzW2ldW2VdLXRoaXMubWluW2VdO3I9TWF0aC5taW4ocixzKSxuPU1hdGgubWF4KG4scyk7fWlmKG48MHx8cj50aGlzLm1heFtlXS10aGlzLm1pbltlXSlyZXR1cm4gMH1yZXR1cm4gMX19ZnVuY3Rpb24gZnUodCxlLHIsbixpLHMsYSxvLGwpe2lmKHMmJnQucXVlcnlHZW9tZXRyeS5pc0Fib3ZlSG9yaXpvbilyZXR1cm4gITE7cyYmKGwqPXQucGl4ZWxUb1RpbGVVbml0c0ZhY3Rvcik7Y29uc3QgdT10LnRpbGVJRC5jYW5vbmljYWwsYz1yLnByb2plY3Rpb24udXBWZWN0b3JTY2FsZSh1LHIuY2VudGVyLmxhdCxyLndvcmxkU2l6ZSkubWV0ZXJzVG9UaWxlO2Zvcihjb25zdCBoIG9mIGUpZm9yKGNvbnN0IGUgb2YgaCl7Y29uc3QgaD1lLmFkZChvKSxwPWkmJnIuZWxldmF0aW9uP3IuZWxldmF0aW9uLmV4YWdnZXJhdGlvbigpKmkuZ2V0RWxldmF0aW9uQXQoaC54LGgueSwhMCk6MCxmPXIucHJvamVjdGlvbi5wcm9qZWN0VGlsZVBvaW50KGgueCxoLnksdSk7aWYocD4wKXtjb25zdCB0PXIucHJvamVjdGlvbi51cFZlY3Rvcih1LGgueCxoLnkpO2YueCs9dFswXSpjKnAsZi55Kz10WzFdKmMqcCxmLnorPXRbMl0qYypwO31jb25zdCBkPXM/aDpkdShmLngsZi55LGYueixuKSx5PXM/dC50aWxlc3BhY2VSYXlzLm1hcCgodD0+Z3UodCxwKSkpOnQucXVlcnlHZW9tZXRyeS5zY3JlZW5HZW9tZXRyeSxtPW51KFtdLFtmLngsZi55LGYueiwxXSxuKTtpZighYSYmcz9sKj1tWzNdL3IuY2FtZXJhVG9DZW50ZXJEaXN0YW5jZTphJiYhcyYmKGwqPXIuY2FtZXJhVG9DZW50ZXJEaXN0YW5jZS9tWzNdKSxzKXtjb25zdCB0PWpvKChlLnkvQm8rdS55KS8oMTw8dS56KSk7bC89ci5wcm9qZWN0aW9uLnBpeGVsc1Blck1ldGVyKHQsMSkvUm8oMSx0KTt9aWYoaWwoeSxkLGwpKXJldHVybiAhMH1yZXR1cm4gITF9ZnVuY3Rpb24gZHUodCxlLHIsbil7Y29uc3QgaT1udShbXSxbdCxlLHIsMV0sbik7cmV0dXJuIG5ldyBkKGlbMF0vaVszXSxpWzFdL2lbM10pfWNvbnN0IHl1PVJsKDAsMCwwKSxtdT1SbCgwLDAsMSk7ZnVuY3Rpb24gZ3UodCxlKXtjb25zdCByPVZsKCk7cmV0dXJuIHl1WzJdPWUsdC5pbnRlcnNlY3RzUGxhbmUoeXUsbXUsciksbmV3IGQoclswXSxyWzFdKX1jbGFzcyB4dSBleHRlbmRzIHJse31mdW5jdGlvbiB2dSh0LHt3aWR0aDplLGhlaWdodDpyfSxuLGkpe2lmKGkpe2lmKGkgaW5zdGFuY2VvZiBVaW50OENsYW1wZWRBcnJheSlpPW5ldyBVaW50OEFycmF5KGkuYnVmZmVyKTtlbHNlIGlmKGkubGVuZ3RoIT09ZSpyKm4pdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJtaXNtYXRjaGVkIGltYWdlIHNpemVcIil9ZWxzZSBpPW5ldyBVaW50OEFycmF5KGUqcipuKTtyZXR1cm4gdC53aWR0aD1lLHQuaGVpZ2h0PXIsdC5kYXRhPWksdH1mdW5jdGlvbiBidSh0LGUscil7Y29uc3R7d2lkdGg6bixoZWlnaHQ6aX09ZTtuPT09dC53aWR0aCYmaT09PXQuaGVpZ2h0fHwoX3UodCxlLHt4OjAseTowfSx7eDowLHk6MH0se3dpZHRoOk1hdGgubWluKHQud2lkdGgsbiksaGVpZ2h0Ok1hdGgubWluKHQuaGVpZ2h0LGkpfSxyKSx0LndpZHRoPW4sdC5oZWlnaHQ9aSx0LmRhdGE9ZS5kYXRhKTt9ZnVuY3Rpb24gX3UodCxlLHIsbixpLHMpe2lmKDA9PT1pLndpZHRofHwwPT09aS5oZWlnaHQpcmV0dXJuIGU7aWYoaS53aWR0aD50LndpZHRofHxpLmhlaWdodD50LmhlaWdodHx8ci54PnQud2lkdGgtaS53aWR0aHx8ci55PnQuaGVpZ2h0LWkuaGVpZ2h0KXRocm93IG5ldyBSYW5nZUVycm9yKFwib3V0IG9mIHJhbmdlIHNvdXJjZSBjb29yZGluYXRlcyBmb3IgaW1hZ2UgY29weVwiKTtpZihpLndpZHRoPmUud2lkdGh8fGkuaGVpZ2h0PmUuaGVpZ2h0fHxuLng+ZS53aWR0aC1pLndpZHRofHxuLnk+ZS5oZWlnaHQtaS5oZWlnaHQpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJvdXQgb2YgcmFuZ2UgZGVzdGluYXRpb24gY29vcmRpbmF0ZXMgZm9yIGltYWdlIGNvcHlcIik7Y29uc3QgYT10LmRhdGEsbz1lLmRhdGE7Zm9yKGxldCBsPTA7bDxpLmhlaWdodDtsKyspe2NvbnN0IHU9KChyLnkrbCkqdC53aWR0aCtyLngpKnMsYz0oKG4ueStsKSplLndpZHRoK24ueCkqcztmb3IobGV0IHQ9MDt0PGkud2lkdGgqczt0Kyspb1tjK3RdPWFbdSt0XTt9cmV0dXJuIGV9amkoeHUsXCJIZWF0bWFwQnVja2V0XCIse29taXQ6W1wibGF5ZXJzXCJdfSk7Y2xhc3Mgd3V7Y29uc3RydWN0b3IodCxlKXt2dSh0aGlzLHQsMSxlKTt9cmVzaXplKHQpe2J1KHRoaXMsbmV3IHd1KHQpLDEpO31jbG9uZSgpe3JldHVybiBuZXcgd3Uoe3dpZHRoOnRoaXMud2lkdGgsaGVpZ2h0OnRoaXMuaGVpZ2h0fSxuZXcgVWludDhBcnJheSh0aGlzLmRhdGEpKX1zdGF0aWMgY29weSh0LGUscixuLGkpe191KHQsZSxyLG4saSwxKTt9fWNsYXNzIEF1e2NvbnN0cnVjdG9yKHQsZSl7dnUodGhpcyx0LDQsZSk7fXJlc2l6ZSh0KXtidSh0aGlzLG5ldyBBdSh0KSw0KTt9cmVwbGFjZSh0LGUpe2U/dGhpcy5kYXRhLnNldCh0KTp0aGlzLmRhdGE9dCBpbnN0YW5jZW9mIFVpbnQ4Q2xhbXBlZEFycmF5P25ldyBVaW50OEFycmF5KHQuYnVmZmVyKTp0O31jbG9uZSgpe3JldHVybiBuZXcgQXUoe3dpZHRoOnRoaXMud2lkdGgsaGVpZ2h0OnRoaXMuaGVpZ2h0fSxuZXcgVWludDhBcnJheSh0aGlzLmRhdGEpKX1zdGF0aWMgY29weSh0LGUscixuLGkpe191KHQsZSxyLG4saSw0KTt9fWppKHd1LFwiQWxwaGFJbWFnZVwiKSxqaShBdSxcIlJHQkFJbWFnZVwiKTt2YXIgU3U9e3BhaW50Om5ldyBRcyh7XCJoZWF0bWFwLXJhZGl1c1wiOm5ldyBIcyhIdC5wYWludF9oZWF0bWFwW1wiaGVhdG1hcC1yYWRpdXNcIl0pLFwiaGVhdG1hcC13ZWlnaHRcIjpuZXcgSHMoSHQucGFpbnRfaGVhdG1hcFtcImhlYXRtYXAtd2VpZ2h0XCJdKSxcImhlYXRtYXAtaW50ZW5zaXR5XCI6bmV3IEtzKEh0LnBhaW50X2hlYXRtYXBbXCJoZWF0bWFwLWludGVuc2l0eVwiXSksXCJoZWF0bWFwLWNvbG9yXCI6bmV3IEpzKEh0LnBhaW50X2hlYXRtYXBbXCJoZWF0bWFwLWNvbG9yXCJdKSxcImhlYXRtYXAtb3BhY2l0eVwiOm5ldyBLcyhIdC5wYWludF9oZWF0bWFwW1wiaGVhdG1hcC1vcGFjaXR5XCJdKX0pfTtmdW5jdGlvbiBrdSh0KXtjb25zdCBlPXt9LHI9dC5yZXNvbHV0aW9ufHwyNTYsbj10LmNsaXBzP3QuY2xpcHMubGVuZ3RoOjEsaT10LmltYWdlfHxuZXcgQXUoe3dpZHRoOnIsaGVpZ2h0Om59KSxzPShyLG4scyk9PntlW3QuZXZhbHVhdGlvbktleV09cztjb25zdCBhPXQuZXhwcmVzc2lvbi5ldmFsdWF0ZShlKTtpLmRhdGFbcituKzBdPU1hdGguZmxvb3IoMjU1KmEuci9hLmEpLGkuZGF0YVtyK24rMV09TWF0aC5mbG9vcigyNTUqYS5nL2EuYSksaS5kYXRhW3IrbisyXT1NYXRoLmZsb29yKDI1NSphLmIvYS5hKSxpLmRhdGFbcituKzNdPU1hdGguZmxvb3IoMjU1KmEuYSk7fTtpZih0LmNsaXBzKWZvcihsZXQgZT0wLGk9MDtlPG47KytlLGkrPTQqcilmb3IobGV0IG49MCxhPTA7bjxyO24rKyxhKz00KXtjb25zdCBvPW4vKHItMSkse3N0YXJ0OmwsZW5kOnV9PXQuY2xpcHNbZV07cyhpLGEsbCooMS1vKSt1Km8pO31lbHNlIGZvcihsZXQgdD0wLGU9MDt0PHI7dCsrLGUrPTQpcygwLGUsdC8oci0xKSk7cmV0dXJuIGl9dmFyIEl1PXtwYWludDpuZXcgUXMoe1wiaGlsbHNoYWRlLWlsbHVtaW5hdGlvbi1kaXJlY3Rpb25cIjpuZXcgS3MoSHQucGFpbnRfaGlsbHNoYWRlW1wiaGlsbHNoYWRlLWlsbHVtaW5hdGlvbi1kaXJlY3Rpb25cIl0pLFwiaGlsbHNoYWRlLWlsbHVtaW5hdGlvbi1hbmNob3JcIjpuZXcgS3MoSHQucGFpbnRfaGlsbHNoYWRlW1wiaGlsbHNoYWRlLWlsbHVtaW5hdGlvbi1hbmNob3JcIl0pLFwiaGlsbHNoYWRlLWV4YWdnZXJhdGlvblwiOm5ldyBLcyhIdC5wYWludF9oaWxsc2hhZGVbXCJoaWxsc2hhZGUtZXhhZ2dlcmF0aW9uXCJdKSxcImhpbGxzaGFkZS1zaGFkb3ctY29sb3JcIjpuZXcgS3MoSHQucGFpbnRfaGlsbHNoYWRlW1wiaGlsbHNoYWRlLXNoYWRvdy1jb2xvclwiXSksXCJoaWxsc2hhZGUtaGlnaGxpZ2h0LWNvbG9yXCI6bmV3IEtzKEh0LnBhaW50X2hpbGxzaGFkZVtcImhpbGxzaGFkZS1oaWdobGlnaHQtY29sb3JcIl0pLFwiaGlsbHNoYWRlLWFjY2VudC1jb2xvclwiOm5ldyBLcyhIdC5wYWludF9oaWxsc2hhZGVbXCJoaWxsc2hhZGUtYWNjZW50LWNvbG9yXCJdKX0pfTtjb25zdCBNdT1pYShbe25hbWU6XCJhX3Bvc1wiLGNvbXBvbmVudHM6Mix0eXBlOlwiSW50MTZcIn1dLDQpLHttZW1iZXJzOnp1fT1NdTt2YXIgVHU9e2V4cG9ydHM6e319O2Z1bmN0aW9uIEJ1KHQsZSxyKXtyPXJ8fDI7dmFyIG4saSxzLGEsbyxsLHUsYz1lJiZlLmxlbmd0aCxoPWM/ZVswXSpyOnQubGVuZ3RoLHA9RXUodCwwLGgsciwhMCksZj1bXTtpZighcHx8cC5uZXh0PT09cC5wcmV2KXJldHVybiBmO2lmKGMmJihwPWZ1bmN0aW9uKHQsZSxyLG4pe3ZhciBpLHMsYSxvPVtdO2ZvcihpPTAscz1lLmxlbmd0aDtpPHM7aSsrKShhPUV1KHQsZVtpXSpuLGk8cy0xP2VbaSsxXSpuOnQubGVuZ3RoLG4sITEpKT09PWEubmV4dCYmKGEuc3RlaW5lcj0hMCksby5wdXNoKE91KGEpKTtmb3Ioby5zb3J0KFJ1KSxpPTA7aTxvLmxlbmd0aDtpKyspcj1VdShvW2ldLHIpO3JldHVybiByfSh0LGUscCxyKSksdC5sZW5ndGg+ODAqcil7bj1zPXRbMF0saT1hPXRbMV07Zm9yKHZhciBkPXI7ZDxoO2QrPXIpKG89dFtkXSk8biYmKG49byksKGw9dFtkKzFdKTxpJiYoaT1sKSxvPnMmJihzPW8pLGw+YSYmKGE9bCk7dT0wIT09KHU9TWF0aC5tYXgocy1uLGEtaSkpPzMyNzY3L3U6MDt9cmV0dXJuIEN1KHAsZixyLG4saSx1LDApLGZ9ZnVuY3Rpb24gRXUodCxlLHIsbixpKXt2YXIgcyxhO2lmKGk9PT1lYyh0LGUscixuKT4wKWZvcihzPWU7czxyO3MrPW4pYT1KdShzLHRbc10sdFtzKzFdLGEpO2Vsc2UgZm9yKHM9ci1uO3M+PWU7cy09bilhPUp1KHMsdFtzXSx0W3MrMV0sYSk7cmV0dXJuIGEmJlp1KGEsYS5uZXh0KSYmKFF1KGEpLGE9YS5uZXh0KSxhfWZ1bmN0aW9uIFB1KHQsZSl7aWYoIXQpcmV0dXJuIHQ7ZXx8KGU9dCk7dmFyIHIsbj10O2Rve2lmKHI9ITEsbi5zdGVpbmVyfHwhWnUobixuLm5leHQpJiYwIT09R3Uobi5wcmV2LG4sbi5uZXh0KSluPW4ubmV4dDtlbHNlIHtpZihRdShuKSwobj1lPW4ucHJldik9PT1uLm5leHQpYnJlYWs7cj0hMDt9fXdoaWxlKHJ8fG4hPT1lKTtyZXR1cm4gZX1mdW5jdGlvbiBDdSh0LGUscixuLGkscyxhKXtpZih0KXshYSYmcyYmZnVuY3Rpb24odCxlLHIsbil7dmFyIGk9dDtkb3swPT09aS56JiYoaS56PSR1KGkueCxpLnksZSxyLG4pKSxpLnByZXZaPWkucHJldixpLm5leHRaPWkubmV4dCxpPWkubmV4dDt9d2hpbGUoaSE9PXQpO2kucHJldloubmV4dFo9bnVsbCxpLnByZXZaPW51bGwsZnVuY3Rpb24odCl7dmFyIGUscixuLGkscyxhLG8sbCx1PTE7ZG97Zm9yKHI9dCx0PW51bGwscz1udWxsLGE9MDtyOyl7Zm9yKGErKyxuPXIsbz0wLGU9MDtlPHUmJihvKyssbj1uLm5leHRaKTtlKyspO2ZvcihsPXU7bz4wfHxsPjAmJm47KTAhPT1vJiYoMD09PWx8fCFufHxyLno8PW4ueik/KGk9cixyPXIubmV4dFosby0tKTooaT1uLG49bi5uZXh0WixsLS0pLHM/cy5uZXh0Wj1pOnQ9aSxpLnByZXZaPXMscz1pO3I9bjt9cy5uZXh0Wj1udWxsLHUqPTI7fXdoaWxlKGE+MSl9KGkpO30odCxuLGkscyk7Zm9yKHZhciBvLGwsdT10O3QucHJldiE9PXQubmV4dDspaWYobz10LnByZXYsbD10Lm5leHQscz9WdSh0LG4saSxzKTpEdSh0KSllLnB1c2goby5pL3J8MCksZS5wdXNoKHQuaS9yfDApLGUucHVzaChsLmkvcnwwKSxRdSh0KSx0PWwubmV4dCx1PWwubmV4dDtlbHNlIGlmKCh0PWwpPT09dSl7YT8xPT09YT9DdSh0PUZ1KFB1KHQpLGUsciksZSxyLG4saSxzLDIpOjI9PT1hJiZMdSh0LGUscixuLGkscyk6Q3UoUHUodCksZSxyLG4saSxzLDEpO2JyZWFrfX19ZnVuY3Rpb24gRHUodCl7dmFyIGU9dC5wcmV2LHI9dCxuPXQubmV4dDtpZihHdShlLHIsbik+PTApcmV0dXJuICExO2Zvcih2YXIgaT1lLngscz1yLngsYT1uLngsbz1lLnksbD1yLnksdT1uLnksYz1pPHM/aTxhP2k6YTpzPGE/czphLGg9bzxsP288dT9vOnU6bDx1P2w6dSxwPWk+cz9pPmE/aTphOnM+YT9zOmEsZj1vPmw/bz51P286dTpsPnU/bDp1LGQ9bi5uZXh0O2QhPT1lOyl7aWYoZC54Pj1jJiZkLng8PXAmJmQueT49aCYmZC55PD1mJiZxdShpLG8scyxsLGEsdSxkLngsZC55KSYmR3UoZC5wcmV2LGQsZC5uZXh0KT49MClyZXR1cm4gITE7ZD1kLm5leHQ7fXJldHVybiAhMH1mdW5jdGlvbiBWdSh0LGUscixuKXt2YXIgaT10LnByZXYscz10LGE9dC5uZXh0O2lmKEd1KGkscyxhKT49MClyZXR1cm4gITE7Zm9yKHZhciBvPWkueCxsPXMueCx1PWEueCxjPWkueSxoPXMueSxwPWEueSxmPW88bD9vPHU/bzp1Omw8dT9sOnUsZD1jPGg/YzxwP2M6cDpoPHA/aDpwLHk9bz5sP28+dT9vOnU6bD51P2w6dSxtPWM+aD9jPnA/YzpwOmg+cD9oOnAsZz0kdShmLGQsZSxyLG4pLHg9JHUoeSxtLGUscixuKSx2PXQucHJldlosYj10Lm5leHRaO3YmJnYuej49ZyYmYiYmYi56PD14Oyl7aWYodi54Pj1mJiZ2Lng8PXkmJnYueT49ZCYmdi55PD1tJiZ2IT09aSYmdiE9PWEmJnF1KG8sYyxsLGgsdSxwLHYueCx2LnkpJiZHdSh2LnByZXYsdix2Lm5leHQpPj0wKXJldHVybiAhMTtpZih2PXYucHJldlosYi54Pj1mJiZiLng8PXkmJmIueT49ZCYmYi55PD1tJiZiIT09aSYmYiE9PWEmJnF1KG8sYyxsLGgsdSxwLGIueCxiLnkpJiZHdShiLnByZXYsYixiLm5leHQpPj0wKXJldHVybiAhMTtiPWIubmV4dFo7fWZvcig7diYmdi56Pj1nOyl7aWYodi54Pj1mJiZ2Lng8PXkmJnYueT49ZCYmdi55PD1tJiZ2IT09aSYmdiE9PWEmJnF1KG8sYyxsLGgsdSxwLHYueCx2LnkpJiZHdSh2LnByZXYsdix2Lm5leHQpPj0wKXJldHVybiAhMTt2PXYucHJldlo7fWZvcig7YiYmYi56PD14Oyl7aWYoYi54Pj1mJiZiLng8PXkmJmIueT49ZCYmYi55PD1tJiZiIT09aSYmYiE9PWEmJnF1KG8sYyxsLGgsdSxwLGIueCxiLnkpJiZHdShiLnByZXYsYixiLm5leHQpPj0wKXJldHVybiAhMTtiPWIubmV4dFo7fXJldHVybiAhMH1mdW5jdGlvbiBGdSh0LGUscil7dmFyIG49dDtkb3t2YXIgaT1uLnByZXYscz1uLm5leHQubmV4dDshWnUoaSxzKSYmWHUoaSxuLG4ubmV4dCxzKSYmWXUoaSxzKSYmWXUocyxpKSYmKGUucHVzaChpLmkvcnwwKSxlLnB1c2gobi5pL3J8MCksZS5wdXNoKHMuaS9yfDApLFF1KG4pLFF1KG4ubmV4dCksbj10PXMpLG49bi5uZXh0O313aGlsZShuIT09dCk7cmV0dXJuIFB1KG4pfWZ1bmN0aW9uIEx1KHQsZSxyLG4saSxzKXt2YXIgYT10O2Rve2Zvcih2YXIgbz1hLm5leHQubmV4dDtvIT09YS5wcmV2Oyl7aWYoYS5pIT09by5pJiZOdShhLG8pKXt2YXIgbD1XdShhLG8pO3JldHVybiBhPVB1KGEsYS5uZXh0KSxsPVB1KGwsbC5uZXh0KSxDdShhLGUscixuLGkscywwKSx2b2lkIEN1KGwsZSxyLG4saSxzLDApfW89by5uZXh0O31hPWEubmV4dDt9d2hpbGUoYSE9PXQpfWZ1bmN0aW9uIFJ1KHQsZSl7cmV0dXJuIHQueC1lLnh9ZnVuY3Rpb24gVXUodCxlKXt2YXIgcj1mdW5jdGlvbih0LGUpe3ZhciByLG49ZSxpPXQueCxzPXQueSxhPS0xLzA7ZG97aWYoczw9bi55JiZzPj1uLm5leHQueSYmbi5uZXh0LnkhPT1uLnkpe3ZhciBvPW4ueCsocy1uLnkpKihuLm5leHQueC1uLngpLyhuLm5leHQueS1uLnkpO2lmKG88PWkmJm8+YSYmKGE9byxyPW4ueDxuLm5leHQueD9uOm4ubmV4dCxvPT09aSkpcmV0dXJuIHJ9bj1uLm5leHQ7fXdoaWxlKG4hPT1lKTtpZighcilyZXR1cm4gbnVsbDt2YXIgbCx1PXIsYz1yLngsaD1yLnkscD0xLzA7bj1yO2Rve2k+PW4ueCYmbi54Pj1jJiZpIT09bi54JiZxdShzPGg/aTphLHMsYyxoLHM8aD9hOmkscyxuLngsbi55KSYmKGw9TWF0aC5hYnMocy1uLnkpLyhpLW4ueCksWXUobix0KSYmKGw8cHx8bD09PXAmJihuLng+ci54fHxuLng9PT1yLngmJmp1KHIsbikpKSYmKHI9bixwPWwpKSxuPW4ubmV4dDt9d2hpbGUobiE9PXUpO3JldHVybiByfSh0LGUpO2lmKCFyKXJldHVybiBlO3ZhciBuPVd1KHIsdCk7cmV0dXJuIFB1KG4sbi5uZXh0KSxQdShyLHIubmV4dCl9ZnVuY3Rpb24ganUodCxlKXtyZXR1cm4gR3UodC5wcmV2LHQsZS5wcmV2KTwwJiZHdShlLm5leHQsdCx0Lm5leHQpPDB9ZnVuY3Rpb24gJHUodCxlLHIsbixpKXtyZXR1cm4gKHQ9MTQzMTY1NTc2NSYoKHQ9ODU4OTkzNDU5JigodD0yNTI2NDUxMzUmKCh0PTE2NzExOTM1JigodD0odC1yKSppfDApfHQ8PDgpKXx0PDw0KSl8dDw8MikpfHQ8PDEpKXwoZT0xNDMxNjU1NzY1JigoZT04NTg5OTM0NTkmKChlPTI1MjY0NTEzNSYoKGU9MTY3MTE5MzUmKChlPShlLW4pKml8MCl8ZTw8OCkpfGU8PDQpKXxlPDwyKSl8ZTw8MSkpPDwxfWZ1bmN0aW9uIE91KHQpe3ZhciBlPXQscj10O2RveyhlLng8ci54fHxlLng9PT1yLngmJmUueTxyLnkpJiYocj1lKSxlPWUubmV4dDt9d2hpbGUoZSE9PXQpO3JldHVybiByfWZ1bmN0aW9uIHF1KHQsZSxyLG4saSxzLGEsbyl7cmV0dXJuIChpLWEpKihlLW8pPj0odC1hKSoocy1vKSYmKHQtYSkqKG4tbyk+PShyLWEpKihlLW8pJiYoci1hKSoocy1vKT49KGktYSkqKG4tbyl9ZnVuY3Rpb24gTnUodCxlKXtyZXR1cm4gdC5uZXh0LmkhPT1lLmkmJnQucHJldi5pIT09ZS5pJiYhZnVuY3Rpb24odCxlKXt2YXIgcj10O2Rve2lmKHIuaSE9PXQuaSYmci5uZXh0LmkhPT10LmkmJnIuaSE9PWUuaSYmci5uZXh0LmkhPT1lLmkmJlh1KHIsci5uZXh0LHQsZSkpcmV0dXJuICEwO3I9ci5uZXh0O313aGlsZShyIT09dCk7cmV0dXJuICExfSh0LGUpJiYoWXUodCxlKSYmWXUoZSx0KSYmZnVuY3Rpb24odCxlKXt2YXIgcj10LG49ITEsaT0odC54K2UueCkvMixzPSh0LnkrZS55KS8yO2Rve3IueT5zIT1yLm5leHQueT5zJiZyLm5leHQueSE9PXIueSYmaTwoci5uZXh0Lngtci54KSoocy1yLnkpLyhyLm5leHQueS1yLnkpK3IueCYmKG49IW4pLHI9ci5uZXh0O313aGlsZShyIT09dCk7cmV0dXJuIG59KHQsZSkmJihHdSh0LnByZXYsdCxlLnByZXYpfHxHdSh0LGUucHJldixlKSl8fFp1KHQsZSkmJkd1KHQucHJldix0LHQubmV4dCk+MCYmR3UoZS5wcmV2LGUsZS5uZXh0KT4wKX1mdW5jdGlvbiBHdSh0LGUscil7cmV0dXJuIChlLnktdC55KSooci54LWUueCktKGUueC10LngpKihyLnktZS55KX1mdW5jdGlvbiBadSh0LGUpe3JldHVybiB0Lng9PT1lLngmJnQueT09PWUueX1mdW5jdGlvbiBYdSh0LGUscixuKXt2YXIgaT1IdShHdSh0LGUscikpLHM9SHUoR3UodCxlLG4pKSxhPUh1KEd1KHIsbix0KSksbz1IdShHdShyLG4sZSkpO3JldHVybiBpIT09cyYmYSE9PW98fCEoMCE9PWl8fCFLdSh0LHIsZSkpfHwhKDAhPT1zfHwhS3UodCxuLGUpKXx8ISgwIT09YXx8IUt1KHIsdCxuKSl8fCEoMCE9PW98fCFLdShyLGUsbikpfWZ1bmN0aW9uIEt1KHQsZSxyKXtyZXR1cm4gZS54PD1NYXRoLm1heCh0Lngsci54KSYmZS54Pj1NYXRoLm1pbih0Lngsci54KSYmZS55PD1NYXRoLm1heCh0Lnksci55KSYmZS55Pj1NYXRoLm1pbih0Lnksci55KX1mdW5jdGlvbiBIdSh0KXtyZXR1cm4gdD4wPzE6dDwwPy0xOjB9ZnVuY3Rpb24gWXUodCxlKXtyZXR1cm4gR3UodC5wcmV2LHQsdC5uZXh0KTwwP0d1KHQsZSx0Lm5leHQpPj0wJiZHdSh0LHQucHJldixlKT49MDpHdSh0LGUsdC5wcmV2KTwwfHxHdSh0LHQubmV4dCxlKTwwfWZ1bmN0aW9uIFd1KHQsZSl7dmFyIHI9bmV3IHRjKHQuaSx0LngsdC55KSxuPW5ldyB0YyhlLmksZS54LGUueSksaT10Lm5leHQscz1lLnByZXY7cmV0dXJuIHQubmV4dD1lLGUucHJldj10LHIubmV4dD1pLGkucHJldj1yLG4ubmV4dD1yLHIucHJldj1uLHMubmV4dD1uLG4ucHJldj1zLG59ZnVuY3Rpb24gSnUodCxlLHIsbil7dmFyIGk9bmV3IHRjKHQsZSxyKTtyZXR1cm4gbj8oaS5uZXh0PW4ubmV4dCxpLnByZXY9bixuLm5leHQucHJldj1pLG4ubmV4dD1pKTooaS5wcmV2PWksaS5uZXh0PWkpLGl9ZnVuY3Rpb24gUXUodCl7dC5uZXh0LnByZXY9dC5wcmV2LHQucHJldi5uZXh0PXQubmV4dCx0LnByZXZaJiYodC5wcmV2Wi5uZXh0Wj10Lm5leHRaKSx0Lm5leHRaJiYodC5uZXh0Wi5wcmV2Wj10LnByZXZaKTt9ZnVuY3Rpb24gdGModCxlLHIpe3RoaXMuaT10LHRoaXMueD1lLHRoaXMueT1yLHRoaXMucHJldj1udWxsLHRoaXMubmV4dD1udWxsLHRoaXMuej0wLHRoaXMucHJldlo9bnVsbCx0aGlzLm5leHRaPW51bGwsdGhpcy5zdGVpbmVyPSExO31mdW5jdGlvbiBlYyh0LGUscixuKXtmb3IodmFyIGk9MCxzPWUsYT1yLW47czxyO3MrPW4paSs9KHRbYV0tdFtzXSkqKHRbcysxXSt0W2ErMV0pLGE9cztyZXR1cm4gaX1mdW5jdGlvbiByYyh0LGUscixuLGkpe25jKHQsZSxyfHwwLG58fHQubGVuZ3RoLTEsaXx8c2MpO31mdW5jdGlvbiBuYyh0LGUscixuLGkpe2Zvcig7bj5yOyl7aWYobi1yPjYwMCl7dmFyIHM9bi1yKzEsYT1lLXIrMSxvPU1hdGgubG9nKHMpLGw9LjUqTWF0aC5leHAoMipvLzMpLHU9LjUqTWF0aC5zcXJ0KG8qbCoocy1sKS9zKSooYS1zLzI8MD8tMToxKTtuYyh0LGUsTWF0aC5tYXgocixNYXRoLmZsb29yKGUtYSpsL3MrdSkpLE1hdGgubWluKG4sTWF0aC5mbG9vcihlKyhzLWEpKmwvcyt1KSksaSk7fXZhciBjPXRbZV0saD1yLHA9bjtmb3IoaWModCxyLGUpLGkodFtuXSxjKT4wJiZpYyh0LHIsbik7aDxwOyl7Zm9yKGljKHQsaCxwKSxoKysscC0tO2kodFtoXSxjKTwwOyloKys7Zm9yKDtpKHRbcF0sYyk+MDspcC0tO30wPT09aSh0W3JdLGMpP2ljKHQscixwKTppYyh0LCsrcCxuKSxwPD1lJiYocj1wKzEpLGU8PXAmJihuPXAtMSk7fX1mdW5jdGlvbiBpYyh0LGUscil7dmFyIG49dFtlXTt0W2VdPXRbcl0sdFtyXT1uO31mdW5jdGlvbiBzYyh0LGUpe3JldHVybiB0PGU/LTE6dD5lPzE6MH1mdW5jdGlvbiBhYyh0LGUpe2NvbnN0IHI9dC5sZW5ndGg7aWYocjw9MSlyZXR1cm4gW3RdO2NvbnN0IG49W107bGV0IGkscztmb3IobGV0IGU9MDtlPHI7ZSsrKXtjb25zdCByPXEodFtlXSk7MCE9PXImJih0W2VdLmFyZWE9TWF0aC5hYnMociksdm9pZCAwPT09cyYmKHM9cjwwKSxzPT09cjwwPyhpJiZuLnB1c2goaSksaT1bdFtlXV0pOmkucHVzaCh0W2VdKSk7fWlmKGkmJm4ucHVzaChpKSxlPjEpZm9yKGxldCB0PTA7dDxuLmxlbmd0aDt0Kyspblt0XS5sZW5ndGg8PWV8fChyYyhuW3RdLGUsMSxuW3RdLmxlbmd0aC0xLG9jKSxuW3RdPW5bdF0uc2xpY2UoMCxlKSk7cmV0dXJuIG59ZnVuY3Rpb24gb2ModCxlKXtyZXR1cm4gZS5hcmVhLXQuYXJlYX1mdW5jdGlvbiBsYyh0LGUscil7Y29uc3Qgbj1yLnBhdHRlcm5EZXBlbmRlbmNpZXM7bGV0IGk9ITE7Zm9yKGNvbnN0IHIgb2YgZSl7Y29uc3QgZT1yLnBhaW50LmdldChgJHt0fS1wYXR0ZXJuYCk7ZS5pc0NvbnN0YW50KCl8fChpPSEwKTtjb25zdCBzPWUuY29uc3RhbnRPcihudWxsKTtzJiYoaT0hMCxuW3MudG9dPSEwLG5bcy5mcm9tXT0hMCk7fXJldHVybiBpfWZ1bmN0aW9uIHVjKHQsZSxyLG4saSl7Y29uc3Qgcz1pLnBhdHRlcm5EZXBlbmRlbmNpZXM7Zm9yKGNvbnN0IGEgb2YgZSl7Y29uc3QgZT1hLnBhaW50LmdldChgJHt0fS1wYXR0ZXJuYCkudmFsdWU7aWYoXCJjb25zdGFudFwiIT09ZS5raW5kKXtsZXQgdD1lLmV2YWx1YXRlKHt6b29tOm4tMX0scix7fSxpLmF2YWlsYWJsZUltYWdlcyksbz1lLmV2YWx1YXRlKHt6b29tOm59LHIse30saS5hdmFpbGFibGVJbWFnZXMpLGw9ZS5ldmFsdWF0ZSh7em9vbTpuKzF9LHIse30saS5hdmFpbGFibGVJbWFnZXMpO3Q9dCYmdC5uYW1lP3QubmFtZTp0LG89byYmby5uYW1lP28ubmFtZTpvLGw9bCYmbC5uYW1lP2wubmFtZTpsLHNbdF09ITAsc1tvXT0hMCxzW2xdPSEwLHIucGF0dGVybnNbYS5pZF09e21pbjp0LG1pZDpvLG1heDpsfTt9fXJldHVybiByfVR1LmV4cG9ydHM9QnUsVHUuZXhwb3J0cy5kZWZhdWx0PUJ1LEJ1LmRldmlhdGlvbj1mdW5jdGlvbih0LGUscixuKXt2YXIgaT1lJiZlLmxlbmd0aCxzPU1hdGguYWJzKGVjKHQsMCxpP2VbMF0qcjp0Lmxlbmd0aCxyKSk7aWYoaSlmb3IodmFyIGE9MCxvPWUubGVuZ3RoO2E8bzthKyspcy09TWF0aC5hYnMoZWModCxlW2FdKnIsYTxvLTE/ZVthKzFdKnI6dC5sZW5ndGgscikpO3ZhciBsPTA7Zm9yKGE9MDthPG4ubGVuZ3RoO2ErPTMpe3ZhciB1PW5bYV0qcixjPW5bYSsxXSpyLGg9blthKzJdKnI7bCs9TWF0aC5hYnMoKHRbdV0tdFtoXSkqKHRbYysxXS10W3UrMV0pLSh0W3VdLXRbY10pKih0W2grMV0tdFt1KzFdKSk7fXJldHVybiAwPT09cyYmMD09PWw/MDpNYXRoLmFicygobC1zKS9zKX0sQnUuZmxhdHRlbj1mdW5jdGlvbih0KXtmb3IodmFyIGU9dFswXVswXS5sZW5ndGgscj17dmVydGljZXM6W10saG9sZXM6W10sZGltZW5zaW9uczplfSxuPTAsaT0wO2k8dC5sZW5ndGg7aSsrKXtmb3IodmFyIHM9MDtzPHRbaV0ubGVuZ3RoO3MrKylmb3IodmFyIGE9MDthPGU7YSsrKXIudmVydGljZXMucHVzaCh0W2ldW3NdW2FdKTtpPjAmJnIuaG9sZXMucHVzaChuKz10W2ktMV0ubGVuZ3RoKTt9cmV0dXJuIHJ9O2NsYXNzIGNje2NvbnN0cnVjdG9yKHQpe3RoaXMuem9vbT10Lnpvb20sdGhpcy5vdmVyc2NhbGluZz10Lm92ZXJzY2FsaW5nLHRoaXMubGF5ZXJzPXQubGF5ZXJzLHRoaXMubGF5ZXJJZHM9dGhpcy5sYXllcnMubWFwKCh0PT50LmlkKSksdGhpcy5pbmRleD10LmluZGV4LHRoaXMuaGFzUGF0dGVybj0hMSx0aGlzLnBhdHRlcm5GZWF0dXJlcz1bXSx0aGlzLmxheW91dFZlcnRleEFycmF5PW5ldyBhYSx0aGlzLmluZGV4QXJyYXk9bmV3IHdhLHRoaXMuaW5kZXhBcnJheTI9bmV3IHphLHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zPW5ldyB2byh0LmxheWVycyx0Lnpvb20pLHRoaXMuc2VnbWVudHM9bmV3IFRvLHRoaXMuc2VnbWVudHMyPW5ldyBUbyx0aGlzLnN0YXRlRGVwZW5kZW50TGF5ZXJJZHM9dGhpcy5sYXllcnMuZmlsdGVyKCh0PT50LmlzU3RhdGVEZXBlbmRlbnQoKSkpLm1hcCgodD0+dC5pZCkpLHRoaXMucHJvamVjdGlvbj10LnByb2plY3Rpb247fXBvcHVsYXRlKHQsZSxyLG4pe3RoaXMuaGFzUGF0dGVybj1sYyhcImZpbGxcIix0aGlzLmxheWVycyxlKTtjb25zdCBpPXRoaXMubGF5ZXJzWzBdLmxheW91dC5nZXQoXCJmaWxsLXNvcnQta2V5XCIpLHM9W107Zm9yKGNvbnN0e2ZlYXR1cmU6YSxpZDpvLGluZGV4Omwsc291cmNlTGF5ZXJJbmRleDp1fW9mIHQpe2NvbnN0IHQ9dGhpcy5sYXllcnNbMF0uX2ZlYXR1cmVGaWx0ZXIubmVlZEdlb21ldHJ5LGM9UW8oYSx0KTtpZighdGhpcy5sYXllcnNbMF0uX2ZlYXR1cmVGaWx0ZXIuZmlsdGVyKG5ldyBVcyh0aGlzLnpvb20pLGMscikpY29udGludWU7Y29uc3QgaD1pP2kuZXZhbHVhdGUoYyx7fSxyLGUuYXZhaWxhYmxlSW1hZ2VzKTp2b2lkIDAscD17aWQ6byxwcm9wZXJ0aWVzOmEucHJvcGVydGllcyx0eXBlOmEudHlwZSxzb3VyY2VMYXllckluZGV4OnUsaW5kZXg6bCxnZW9tZXRyeTp0P2MuZ2VvbWV0cnk6Sm8oYSxyLG4pLHBhdHRlcm5zOnt9LHNvcnRLZXk6aH07cy5wdXNoKHApO31pJiZzLnNvcnQoKCh0LGUpPT50LnNvcnRLZXktZS5zb3J0S2V5KSk7Zm9yKGNvbnN0IG4gb2Ygcyl7Y29uc3R7Z2VvbWV0cnk6aSxpbmRleDpzLHNvdXJjZUxheWVySW5kZXg6YX09bjtpZih0aGlzLmhhc1BhdHRlcm4pe2NvbnN0IHQ9dWMoXCJmaWxsXCIsdGhpcy5sYXllcnMsbix0aGlzLnpvb20sZSk7dGhpcy5wYXR0ZXJuRmVhdHVyZXMucHVzaCh0KTt9ZWxzZSB0aGlzLmFkZEZlYXR1cmUobixpLHMscix7fSxlLmF2YWlsYWJsZUltYWdlcyk7ZS5mZWF0dXJlSW5kZXguaW5zZXJ0KHRbc10uZmVhdHVyZSxpLHMsYSx0aGlzLmluZGV4KTt9fXVwZGF0ZSh0LGUscixuKXt0aGlzLnN0YXRlRGVwZW5kZW50TGF5ZXJzLmxlbmd0aCYmdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMudXBkYXRlUGFpbnRBcnJheXModCxlLHRoaXMuc3RhdGVEZXBlbmRlbnRMYXllcnMscixuKTt9YWRkRmVhdHVyZXModCxlLHIsbixpKXtmb3IoY29uc3QgdCBvZiB0aGlzLnBhdHRlcm5GZWF0dXJlcyl0aGlzLmFkZEZlYXR1cmUodCx0Lmdlb21ldHJ5LHQuaW5kZXgsZSxyLG4pO31pc0VtcHR5KCl7cmV0dXJuIDA9PT10aGlzLmxheW91dFZlcnRleEFycmF5Lmxlbmd0aH11cGxvYWRQZW5kaW5nKCl7cmV0dXJuICF0aGlzLnVwbG9hZGVkfHx0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucy5uZWVkc1VwbG9hZH11cGxvYWQodCl7dGhpcy51cGxvYWRlZHx8KHRoaXMubGF5b3V0VmVydGV4QnVmZmVyPXQuY3JlYXRlVmVydGV4QnVmZmVyKHRoaXMubGF5b3V0VmVydGV4QXJyYXksenUpLHRoaXMuaW5kZXhCdWZmZXI9dC5jcmVhdGVJbmRleEJ1ZmZlcih0aGlzLmluZGV4QXJyYXkpLHRoaXMuaW5kZXhCdWZmZXIyPXQuY3JlYXRlSW5kZXhCdWZmZXIodGhpcy5pbmRleEFycmF5MikpLHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLnVwbG9hZCh0KSx0aGlzLnVwbG9hZGVkPSEwO31kZXN0cm95KCl7dGhpcy5sYXlvdXRWZXJ0ZXhCdWZmZXImJih0aGlzLmxheW91dFZlcnRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5pbmRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5pbmRleEJ1ZmZlcjIuZGVzdHJveSgpLHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLmRlc3Ryb3koKSx0aGlzLnNlZ21lbnRzLmRlc3Ryb3koKSx0aGlzLnNlZ21lbnRzMi5kZXN0cm95KCkpO31hZGRGZWF0dXJlKHQsZSxyLG4saSxzPVtdKXtmb3IoY29uc3QgdCBvZiBhYyhlLDUwMCkpe2xldCBlPTA7Zm9yKGNvbnN0IHIgb2YgdCllKz1yLmxlbmd0aDtjb25zdCByPXRoaXMuc2VnbWVudHMucHJlcGFyZVNlZ21lbnQoZSx0aGlzLmxheW91dFZlcnRleEFycmF5LHRoaXMuaW5kZXhBcnJheSksbj1yLnZlcnRleExlbmd0aCxpPVtdLHM9W107Zm9yKGNvbnN0IGUgb2YgdCl7aWYoMD09PWUubGVuZ3RoKWNvbnRpbnVlO2UhPT10WzBdJiZzLnB1c2goaS5sZW5ndGgvMik7Y29uc3Qgcj10aGlzLnNlZ21lbnRzMi5wcmVwYXJlU2VnbWVudChlLmxlbmd0aCx0aGlzLmxheW91dFZlcnRleEFycmF5LHRoaXMuaW5kZXhBcnJheTIpLG49ci52ZXJ0ZXhMZW5ndGg7dGhpcy5sYXlvdXRWZXJ0ZXhBcnJheS5lbXBsYWNlQmFjayhlWzBdLngsZVswXS55KSx0aGlzLmluZGV4QXJyYXkyLmVtcGxhY2VCYWNrKG4rZS5sZW5ndGgtMSxuKSxpLnB1c2goZVswXS54KSxpLnB1c2goZVswXS55KTtmb3IobGV0IHQ9MTt0PGUubGVuZ3RoO3QrKyl0aGlzLmxheW91dFZlcnRleEFycmF5LmVtcGxhY2VCYWNrKGVbdF0ueCxlW3RdLnkpLHRoaXMuaW5kZXhBcnJheTIuZW1wbGFjZUJhY2sobit0LTEsbit0KSxpLnB1c2goZVt0XS54KSxpLnB1c2goZVt0XS55KTtyLnZlcnRleExlbmd0aCs9ZS5sZW5ndGgsci5wcmltaXRpdmVMZW5ndGgrPWUubGVuZ3RoO31jb25zdCBhPVR1LmV4cG9ydHMoaSxzKTtmb3IobGV0IHQ9MDt0PGEubGVuZ3RoO3QrPTMpdGhpcy5pbmRleEFycmF5LmVtcGxhY2VCYWNrKG4rYVt0XSxuK2FbdCsxXSxuK2FbdCsyXSk7ci52ZXJ0ZXhMZW5ndGgrPWUsci5wcmltaXRpdmVMZW5ndGgrPWEubGVuZ3RoLzM7fXRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLnBvcHVsYXRlUGFpbnRBcnJheXModGhpcy5sYXlvdXRWZXJ0ZXhBcnJheS5sZW5ndGgsdCxyLGkscyxuKTt9fWppKGNjLFwiRmlsbEJ1Y2tldFwiLHtvbWl0OltcImxheWVyc1wiLFwicGF0dGVybkZlYXR1cmVzXCJdfSk7Y29uc3QgaGM9bmV3IFFzKHtcImZpbGwtc29ydC1rZXlcIjpuZXcgSHMoSHQubGF5b3V0X2ZpbGxbXCJmaWxsLXNvcnQta2V5XCJdKX0pO3ZhciBwYz17cGFpbnQ6bmV3IFFzKHtcImZpbGwtYW50aWFsaWFzXCI6bmV3IEtzKEh0LnBhaW50X2ZpbGxbXCJmaWxsLWFudGlhbGlhc1wiXSksXCJmaWxsLW9wYWNpdHlcIjpuZXcgSHMoSHQucGFpbnRfZmlsbFtcImZpbGwtb3BhY2l0eVwiXSksXCJmaWxsLWNvbG9yXCI6bmV3IEhzKEh0LnBhaW50X2ZpbGxbXCJmaWxsLWNvbG9yXCJdKSxcImZpbGwtb3V0bGluZS1jb2xvclwiOm5ldyBIcyhIdC5wYWludF9maWxsW1wiZmlsbC1vdXRsaW5lLWNvbG9yXCJdKSxcImZpbGwtdHJhbnNsYXRlXCI6bmV3IEtzKEh0LnBhaW50X2ZpbGxbXCJmaWxsLXRyYW5zbGF0ZVwiXSksXCJmaWxsLXRyYW5zbGF0ZS1hbmNob3JcIjpuZXcgS3MoSHQucGFpbnRfZmlsbFtcImZpbGwtdHJhbnNsYXRlLWFuY2hvclwiXSksXCJmaWxsLXBhdHRlcm5cIjpuZXcgWXMoSHQucGFpbnRfZmlsbFtcImZpbGwtcGF0dGVyblwiXSl9KSxsYXlvdXQ6aGN9O2NvbnN0IGZjPWlhKFt7bmFtZTpcImFfcG9zX25vcm1hbF9lZFwiLGNvbXBvbmVudHM6NCx0eXBlOlwiSW50MTZcIn1dKSxkYz1pYShbe25hbWU6XCJhX2NlbnRyb2lkX3Bvc1wiLGNvbXBvbmVudHM6Mix0eXBlOlwiVWludDE2XCJ9XSkseWM9aWEoW3tuYW1lOlwiYV9wb3NfM1wiLGNvbXBvbmVudHM6Myx0eXBlOlwiSW50MTZcIn0se25hbWU6XCJhX3Bvc19ub3JtYWxfM1wiLGNvbXBvbmVudHM6Myx0eXBlOlwiSW50MTZcIn1dKSx7bWVtYmVyczptY309ZmM7dmFyIGdjPXt9LHhjPWQsdmM9YmM7ZnVuY3Rpb24gYmModCxlLHIsbixpKXt0aGlzLnByb3BlcnRpZXM9e30sdGhpcy5leHRlbnQ9cix0aGlzLnR5cGU9MCx0aGlzLl9wYmY9dCx0aGlzLl9nZW9tZXRyeT0tMSx0aGlzLl9rZXlzPW4sdGhpcy5fdmFsdWVzPWksdC5yZWFkRmllbGRzKF9jLHRoaXMsZSk7fWZ1bmN0aW9uIF9jKHQsZSxyKXsxPT10P2UuaWQ9ci5yZWFkVmFyaW50KCk6Mj09dD9mdW5jdGlvbih0LGUpe2Zvcih2YXIgcj10LnJlYWRWYXJpbnQoKSt0LnBvczt0LnBvczxyOyl7dmFyIG49ZS5fa2V5c1t0LnJlYWRWYXJpbnQoKV0saT1lLl92YWx1ZXNbdC5yZWFkVmFyaW50KCldO2UucHJvcGVydGllc1tuXT1pO319KHIsZSk6Mz09dD9lLnR5cGU9ci5yZWFkVmFyaW50KCk6ND09dCYmKGUuX2dlb21ldHJ5PXIucG9zKTt9ZnVuY3Rpb24gd2ModCl7Zm9yKHZhciBlLHIsbj0wLGk9MCxzPXQubGVuZ3RoLGE9cy0xO2k8czthPWkrKyluKz0oKHI9dFthXSkueC0oZT10W2ldKS54KSooZS55K3IueSk7cmV0dXJuIG59YmMudHlwZXM9W1wiVW5rbm93blwiLFwiUG9pbnRcIixcIkxpbmVTdHJpbmdcIixcIlBvbHlnb25cIl0sYmMucHJvdG90eXBlLmxvYWRHZW9tZXRyeT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX3BiZjt0LnBvcz10aGlzLl9nZW9tZXRyeTtmb3IodmFyIGUscj10LnJlYWRWYXJpbnQoKSt0LnBvcyxuPTEsaT0wLHM9MCxhPTAsbz1bXTt0LnBvczxyOyl7aWYoaTw9MCl7dmFyIGw9dC5yZWFkVmFyaW50KCk7bj03JmwsaT1sPj4zO31pZihpLS0sMT09PW58fDI9PT1uKXMrPXQucmVhZFNWYXJpbnQoKSxhKz10LnJlYWRTVmFyaW50KCksMT09PW4mJihlJiZvLnB1c2goZSksZT1bXSksZS5wdXNoKG5ldyB4YyhzLGEpKTtlbHNlIHtpZig3IT09bil0aHJvdyBuZXcgRXJyb3IoXCJ1bmtub3duIGNvbW1hbmQgXCIrbik7ZSYmZS5wdXNoKGVbMF0uY2xvbmUoKSk7fX1yZXR1cm4gZSYmby5wdXNoKGUpLG99LGJjLnByb3RvdHlwZS5iYm94PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fcGJmO3QucG9zPXRoaXMuX2dlb21ldHJ5O2Zvcih2YXIgZT10LnJlYWRWYXJpbnQoKSt0LnBvcyxyPTEsbj0wLGk9MCxzPTAsYT0xLzAsbz0tMS8wLGw9MS8wLHU9LTEvMDt0LnBvczxlOyl7aWYobjw9MCl7dmFyIGM9dC5yZWFkVmFyaW50KCk7cj03JmMsbj1jPj4zO31pZihuLS0sMT09PXJ8fDI9PT1yKShpKz10LnJlYWRTVmFyaW50KCkpPGEmJihhPWkpLGk+byYmKG89aSksKHMrPXQucmVhZFNWYXJpbnQoKSk8bCYmKGw9cykscz51JiYodT1zKTtlbHNlIGlmKDchPT1yKXRocm93IG5ldyBFcnJvcihcInVua25vd24gY29tbWFuZCBcIityKX1yZXR1cm4gW2EsbCxvLHVdfSxiYy5wcm90b3R5cGUudG9HZW9KU09OPWZ1bmN0aW9uKHQsZSxyKXt2YXIgbixpLHM9dGhpcy5leHRlbnQqTWF0aC5wb3coMixyKSxhPXRoaXMuZXh0ZW50KnQsbz10aGlzLmV4dGVudCplLGw9dGhpcy5sb2FkR2VvbWV0cnkoKSx1PWJjLnR5cGVzW3RoaXMudHlwZV07ZnVuY3Rpb24gYyh0KXtmb3IodmFyIGU9MDtlPHQubGVuZ3RoO2UrKyl7dmFyIHI9dFtlXTt0W2VdPVszNjAqKHIueCthKS9zLTE4MCwzNjAvTWF0aC5QSSpNYXRoLmF0YW4oTWF0aC5leHAoKDE4MC0zNjAqKHIueStvKS9zKSpNYXRoLlBJLzE4MCkpLTkwXTt9fXN3aXRjaCh0aGlzLnR5cGUpe2Nhc2UgMTp2YXIgaD1bXTtmb3Iobj0wO248bC5sZW5ndGg7bisrKWhbbl09bFtuXVswXTtjKGw9aCk7YnJlYWs7Y2FzZSAyOmZvcihuPTA7bjxsLmxlbmd0aDtuKyspYyhsW25dKTticmVhaztjYXNlIDM6Zm9yKGw9ZnVuY3Rpb24odCl7dmFyIGU9dC5sZW5ndGg7aWYoZTw9MSlyZXR1cm4gW3RdO2Zvcih2YXIgcixuLGk9W10scz0wO3M8ZTtzKyspe3ZhciBhPXdjKHRbc10pOzAhPT1hJiYodm9pZCAwPT09biYmKG49YTwwKSxuPT09YTwwPyhyJiZpLnB1c2gocikscj1bdFtzXV0pOnIucHVzaCh0W3NdKSk7fXJldHVybiByJiZpLnB1c2gociksaX0obCksbj0wO248bC5sZW5ndGg7bisrKWZvcihpPTA7aTxsW25dLmxlbmd0aDtpKyspYyhsW25dW2ldKTt9MT09PWwubGVuZ3RoP2w9bFswXTp1PVwiTXVsdGlcIit1O3ZhciBwPXt0eXBlOlwiRmVhdHVyZVwiLGdlb21ldHJ5Ont0eXBlOnUsY29vcmRpbmF0ZXM6bH0scHJvcGVydGllczp0aGlzLnByb3BlcnRpZXN9O3JldHVybiBcImlkXCJpbiB0aGlzJiYocC5pZD10aGlzLmlkKSxwfTt2YXIgQWM9dmMsU2M9a2M7ZnVuY3Rpb24ga2ModCxlKXt0aGlzLnZlcnNpb249MSx0aGlzLm5hbWU9bnVsbCx0aGlzLmV4dGVudD00MDk2LHRoaXMubGVuZ3RoPTAsdGhpcy5fcGJmPXQsdGhpcy5fa2V5cz1bXSx0aGlzLl92YWx1ZXM9W10sdGhpcy5fZmVhdHVyZXM9W10sdC5yZWFkRmllbGRzKEljLHRoaXMsZSksdGhpcy5sZW5ndGg9dGhpcy5fZmVhdHVyZXMubGVuZ3RoO31mdW5jdGlvbiBJYyh0LGUscil7MTU9PT10P2UudmVyc2lvbj1yLnJlYWRWYXJpbnQoKToxPT09dD9lLm5hbWU9ci5yZWFkU3RyaW5nKCk6NT09PXQ/ZS5leHRlbnQ9ci5yZWFkVmFyaW50KCk6Mj09PXQ/ZS5fZmVhdHVyZXMucHVzaChyLnBvcyk6Mz09PXQ/ZS5fa2V5cy5wdXNoKHIucmVhZFN0cmluZygpKTo0PT09dCYmZS5fdmFsdWVzLnB1c2goZnVuY3Rpb24odCl7Zm9yKHZhciBlPW51bGwscj10LnJlYWRWYXJpbnQoKSt0LnBvczt0LnBvczxyOyl7dmFyIG49dC5yZWFkVmFyaW50KCk+PjM7ZT0xPT09bj90LnJlYWRTdHJpbmcoKToyPT09bj90LnJlYWRGbG9hdCgpOjM9PT1uP3QucmVhZERvdWJsZSgpOjQ9PT1uP3QucmVhZFZhcmludDY0KCk6NT09PW4/dC5yZWFkVmFyaW50KCk6Nj09PW4/dC5yZWFkU1ZhcmludCgpOjc9PT1uP3QucmVhZEJvb2xlYW4oKTpudWxsO31yZXR1cm4gZX0ocikpO31rYy5wcm90b3R5cGUuZmVhdHVyZT1mdW5jdGlvbih0KXtpZih0PDB8fHQ+PXRoaXMuX2ZlYXR1cmVzLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJmZWF0dXJlIGluZGV4IG91dCBvZiBib3VuZHNcIik7dGhpcy5fcGJmLnBvcz10aGlzLl9mZWF0dXJlc1t0XTt2YXIgZT10aGlzLl9wYmYucmVhZFZhcmludCgpK3RoaXMuX3BiZi5wb3M7cmV0dXJuIG5ldyBBYyh0aGlzLl9wYmYsZSx0aGlzLmV4dGVudCx0aGlzLl9rZXlzLHRoaXMuX3ZhbHVlcyl9O3ZhciBNYz1TYztmdW5jdGlvbiB6Yyh0LGUscil7aWYoMz09PXQpe3ZhciBuPW5ldyBNYyhyLHIucmVhZFZhcmludCgpK3IucG9zKTtuLmxlbmd0aCYmKGVbbi5uYW1lXT1uKTt9fXZhciBUYz1nYy5WZWN0b3JUaWxlPWZ1bmN0aW9uKHQsZSl7dGhpcy5sYXllcnM9dC5yZWFkRmllbGRzKHpjLHt9LGUpO30sQmM9Z2MuVmVjdG9yVGlsZUZlYXR1cmU9dmM7ZnVuY3Rpb24gRWModCxlLHIsbil7Y29uc3QgaT1bXSxzPTA9PT1uPyh0LGUscixuLGkscyk9Pnt0LnB1c2gobmV3IGQocyxyKyhzLWUpLyhuLWUpKihpLXIpKSk7fToodCxlLHIsbixpLHMpPT57dC5wdXNoKG5ldyBkKGUrKHMtcikvKGktcikqKG4tZSkscykpO307Zm9yKGNvbnN0IGEgb2YgdCl7Y29uc3QgdD1bXTtmb3IoY29uc3QgaSBvZiBhKXtpZihpLmxlbmd0aDw9Miljb250aW51ZTtjb25zdCBhPVtdO2ZvcihsZXQgdD0wO3Q8aS5sZW5ndGgtMTt0Kyspe2NvbnN0IG89aVt0XS54LGw9aVt0XS55LHU9aVt0KzFdLngsYz1pW3QrMV0ueSxoPTA9PT1uP286bCxwPTA9PT1uP3U6YztoPGU/cD5lJiZzKGEsbyxsLHUsYyxlKTpoPnI/cDxyJiZzKGEsbyxsLHUsYyxyKTphLnB1c2goaVt0XSkscDxlJiZoPj1lJiZzKGEsbyxsLHUsYyxlKSxwPnImJmg8PXImJnMoYSxvLGwsdSxjLHIpO31sZXQgbz1pW2kubGVuZ3RoLTFdO2NvbnN0IGw9MD09PW4/by54Om8ueTtsPj1lJiZsPD1yJiZhLnB1c2gobyksYS5sZW5ndGgmJihvPWFbYS5sZW5ndGgtMV0sYVswXS54PT09by54JiZhWzBdLnk9PT1vLnl8fGEucHVzaChhWzBdKSx0LnB1c2goYSkpO310Lmxlbmd0aCYmaS5wdXNoKHQpO31yZXR1cm4gaX1nYy5WZWN0b3JUaWxlTGF5ZXI9U2M7Y29uc3QgUGM9QmMudHlwZXMsQ2M9TWF0aC5wb3coMiwxMyk7ZnVuY3Rpb24gRGModCxlLHIsbixpLHMsYSxvKXt0LmVtcGxhY2VCYWNrKChlPDwxKSthLChyPDwxKStzLChNYXRoLmZsb29yKG4qQ2MpPDwxKStpLE1hdGgucm91bmQobykpO31mdW5jdGlvbiBWYyh0LGUscil7Y29uc3Qgbj0xNjM4NDt0LmVtcGxhY2VCYWNrKGUueCxlLnksZS56LHJbMF0qbixyWzFdKm4sclsyXSpuKTt9Y2xhc3MgRmN7Y29uc3RydWN0b3IoKXt0aGlzLmFjYz1uZXcgZCgwLDApLHRoaXMucG9seUNvdW50PVtdO31zdGFydFJpbmcodCl7dGhpcy5jdXJyZW50UG9seUNvdW50PXtlZGdlczowLHRvcDowfSx0aGlzLnBvbHlDb3VudC5wdXNoKHRoaXMuY3VycmVudFBvbHlDb3VudCksdGhpcy5taW58fCh0aGlzLm1pbj1uZXcgZCh0LngsdC55KSx0aGlzLm1heD1uZXcgZCh0LngsdC55KSk7fWFwcGVuZCh0LGUpe3RoaXMuY3VycmVudFBvbHlDb3VudC5lZGdlcysrLHRoaXMuYWNjLl9hZGQodCk7Y29uc3Qgcj10aGlzLm1pbixuPXRoaXMubWF4O3QueDxyLng/ci54PXQueDp0Lng+bi54JiYobi54PXQueCksdC55PHIueT9yLnk9dC55OnQueT5uLnkmJihuLnk9dC55KSwoKDA9PT10Lnh8fHQueD09PUJvKSYmdC54PT09ZS54KSE9KCgwPT09dC55fHx0Lnk9PT1CbykmJnQueT09PWUueSkmJnRoaXMucHJvY2Vzc0JvcmRlck92ZXJsYXAodCxlKSxlLng8MCE9dC54PDAmJnRoaXMuYWRkQm9yZGVySW50ZXJzZWN0aW9uKDAsSXIoZS55LHQueSwoMC1lLngpLyh0LngtZS54KSkpLGUueD5CbyE9dC54PkJvJiZ0aGlzLmFkZEJvcmRlckludGVyc2VjdGlvbigxLElyKGUueSx0LnksKEJvLWUueCkvKHQueC1lLngpKSksZS55PDAhPXQueTwwJiZ0aGlzLmFkZEJvcmRlckludGVyc2VjdGlvbigyLElyKGUueCx0LngsKDAtZS55KS8odC55LWUueSkpKSxlLnk+Qm8hPXQueT5CbyYmdGhpcy5hZGRCb3JkZXJJbnRlcnNlY3Rpb24oMyxJcihlLngsdC54LChCby1lLnkpLyh0LnktZS55KSkpO31hZGRCb3JkZXJJbnRlcnNlY3Rpb24odCxlKXt0aGlzLmJvcmRlcnN8fCh0aGlzLmJvcmRlcnM9W1tOdW1iZXIuTUFYX1ZBTFVFLC1OdW1iZXIuTUFYX1ZBTFVFXSxbTnVtYmVyLk1BWF9WQUxVRSwtTnVtYmVyLk1BWF9WQUxVRV0sW051bWJlci5NQVhfVkFMVUUsLU51bWJlci5NQVhfVkFMVUVdLFtOdW1iZXIuTUFYX1ZBTFVFLC1OdW1iZXIuTUFYX1ZBTFVFXV0pO2NvbnN0IHI9dGhpcy5ib3JkZXJzW3RdO2U8clswXSYmKHJbMF09ZSksZT5yWzFdJiYoclsxXT1lKTt9cHJvY2Vzc0JvcmRlck92ZXJsYXAodCxlKXtpZih0Lng9PT1lLngpe2lmKHQueT09PWUueSlyZXR1cm47Y29uc3Qgcj0wPT09dC54PzA6MTt0aGlzLmFkZEJvcmRlckludGVyc2VjdGlvbihyLGUueSksdGhpcy5hZGRCb3JkZXJJbnRlcnNlY3Rpb24ocix0LnkpO31lbHNlIHtjb25zdCByPTA9PT10Lnk/MjozO3RoaXMuYWRkQm9yZGVySW50ZXJzZWN0aW9uKHIsZS54KSx0aGlzLmFkZEJvcmRlckludGVyc2VjdGlvbihyLHQueCk7fX1jZW50cm9pZCgpe2NvbnN0IHQ9dGhpcy5wb2x5Q291bnQucmVkdWNlKCgodCxlKT0+dCtlLmVkZ2VzKSwwKTtyZXR1cm4gMCE9PXQ/dGhpcy5hY2MuZGl2KHQpLl9yb3VuZCgpOm5ldyBkKDAsMCl9c3Bhbigpe3JldHVybiBuZXcgZCh0aGlzLm1heC54LXRoaXMubWluLngsdGhpcy5tYXgueS10aGlzLm1pbi55KX1pbnRlcnNlY3RzQ291bnQoKXtyZXR1cm4gdGhpcy5ib3JkZXJzLnJlZHVjZSgoKHQsZSk9PnQrICsoZVswXSE9PU51bWJlci5NQVhfVkFMVUUpKSwwKX19Y2xhc3MgTGN7Y29uc3RydWN0b3IodCl7dGhpcy56b29tPXQuem9vbSx0aGlzLmNhbm9uaWNhbD10LmNhbm9uaWNhbCx0aGlzLm92ZXJzY2FsaW5nPXQub3ZlcnNjYWxpbmcsdGhpcy5sYXllcnM9dC5sYXllcnMsdGhpcy5sYXllcklkcz10aGlzLmxheWVycy5tYXAoKHQ9PnQuaWQpKSx0aGlzLmluZGV4PXQuaW5kZXgsdGhpcy5oYXNQYXR0ZXJuPSExLHRoaXMuZWRnZVJhZGl1cz0wLHRoaXMucHJvamVjdGlvbj10LnByb2plY3Rpb24sdGhpcy5sYXlvdXRWZXJ0ZXhBcnJheT1uZXcgbGEsdGhpcy5jZW50cm9pZFZlcnRleEFycmF5PW5ldyBOYSx0aGlzLmluZGV4QXJyYXk9bmV3IHdhLHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zPW5ldyB2byh0LmxheWVycyx0Lnpvb20pLHRoaXMuc2VnbWVudHM9bmV3IFRvLHRoaXMuc3RhdGVEZXBlbmRlbnRMYXllcklkcz10aGlzLmxheWVycy5maWx0ZXIoKHQ9PnQuaXNTdGF0ZURlcGVuZGVudCgpKSkubWFwKCh0PT50LmlkKSksdGhpcy5lbmFibGVUZXJyYWluPXQuZW5hYmxlVGVycmFpbjt9cG9wdWxhdGUodCxlLHIsbil7dGhpcy5mZWF0dXJlcz1bXSx0aGlzLmhhc1BhdHRlcm49bGMoXCJmaWxsLWV4dHJ1c2lvblwiLHRoaXMubGF5ZXJzLGUpLHRoaXMuZmVhdHVyZXNPbkJvcmRlcj1bXSx0aGlzLmJvcmRlcnM9W1tdLFtdLFtdLFtdXSx0aGlzLmJvcmRlckRvbmVXaXRoTmVpZ2hib3JaPVstMSwtMSwtMSwtMV0sdGhpcy50aWxlVG9NZXRlcj1mdW5jdGlvbih0KXtjb25zdCBlPU1hdGguZXhwKE1hdGguUEkqKDEtdC55LygxPDx0LnopKjIpKTtyZXR1cm4gODAxNTAwMzQqZS8oZSplKzEpL0JvLygxPDx0LnopfShyKSx0aGlzLmVkZ2VSYWRpdXM9dGhpcy5sYXllcnNbMF0ubGF5b3V0LmdldChcImZpbGwtZXh0cnVzaW9uLWVkZ2UtcmFkaXVzXCIpL3RoaXMudGlsZVRvTWV0ZXI7Zm9yKGNvbnN0e2ZlYXR1cmU6aSxpZDpzLGluZGV4OmEsc291cmNlTGF5ZXJJbmRleDpvfW9mIHQpe2NvbnN0IHQ9dGhpcy5sYXllcnNbMF0uX2ZlYXR1cmVGaWx0ZXIubmVlZEdlb21ldHJ5LGw9UW8oaSx0KTtpZighdGhpcy5sYXllcnNbMF0uX2ZlYXR1cmVGaWx0ZXIuZmlsdGVyKG5ldyBVcyh0aGlzLnpvb20pLGwscikpY29udGludWU7Y29uc3QgdT17aWQ6cyxzb3VyY2VMYXllckluZGV4Om8saW5kZXg6YSxnZW9tZXRyeTp0P2wuZ2VvbWV0cnk6Sm8oaSxyLG4pLHByb3BlcnRpZXM6aS5wcm9wZXJ0aWVzLHR5cGU6aS50eXBlLHBhdHRlcm5zOnt9fSxjPXRoaXMubGF5b3V0VmVydGV4QXJyYXkubGVuZ3RoO3RoaXMuaGFzUGF0dGVybj90aGlzLmZlYXR1cmVzLnB1c2godWMoXCJmaWxsLWV4dHJ1c2lvblwiLHRoaXMubGF5ZXJzLHUsdGhpcy56b29tLGUpKTp0aGlzLmFkZEZlYXR1cmUodSx1Lmdlb21ldHJ5LGEscix7fSxlLmF2YWlsYWJsZUltYWdlcyxuKSxlLmZlYXR1cmVJbmRleC5pbnNlcnQoaSx1Lmdlb21ldHJ5LGEsbyx0aGlzLmluZGV4LGMpO310aGlzLnNvcnRCb3JkZXJzKCk7fWFkZEZlYXR1cmVzKHQsZSxyLG4saSl7Zm9yKGNvbnN0IHQgb2YgdGhpcy5mZWF0dXJlcyl7Y29uc3R7Z2VvbWV0cnk6c309dDt0aGlzLmFkZEZlYXR1cmUodCxzLHQuaW5kZXgsZSxyLG4saSk7fXRoaXMuc29ydEJvcmRlcnMoKTt9dXBkYXRlKHQsZSxyLG4pe3RoaXMuc3RhdGVEZXBlbmRlbnRMYXllcnMubGVuZ3RoJiZ0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucy51cGRhdGVQYWludEFycmF5cyh0LGUsdGhpcy5zdGF0ZURlcGVuZGVudExheWVycyxyLG4pO31pc0VtcHR5KCl7cmV0dXJuIDA9PT10aGlzLmxheW91dFZlcnRleEFycmF5Lmxlbmd0aH11cGxvYWRQZW5kaW5nKCl7cmV0dXJuICF0aGlzLnVwbG9hZGVkfHx0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucy5uZWVkc1VwbG9hZH11cGxvYWQodCl7dGhpcy51cGxvYWRlZHx8KHRoaXMubGF5b3V0VmVydGV4QnVmZmVyPXQuY3JlYXRlVmVydGV4QnVmZmVyKHRoaXMubGF5b3V0VmVydGV4QXJyYXksbWMpLHRoaXMuaW5kZXhCdWZmZXI9dC5jcmVhdGVJbmRleEJ1ZmZlcih0aGlzLmluZGV4QXJyYXkpLHRoaXMubGF5b3V0VmVydGV4RXh0QXJyYXkmJih0aGlzLmxheW91dFZlcnRleEV4dEJ1ZmZlcj10LmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLmxheW91dFZlcnRleEV4dEFycmF5LHljLm1lbWJlcnMsITApKSksdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMudXBsb2FkKHQpLHRoaXMudXBsb2FkZWQ9ITA7fXVwbG9hZENlbnRyb2lkKHQpezAhPT10aGlzLmNlbnRyb2lkVmVydGV4QXJyYXkubGVuZ3RoJiYodGhpcy5jZW50cm9pZFZlcnRleEJ1ZmZlcj90aGlzLm5lZWRzQ2VudHJvaWRVcGRhdGUmJnRoaXMuY2VudHJvaWRWZXJ0ZXhCdWZmZXIudXBkYXRlRGF0YSh0aGlzLmNlbnRyb2lkVmVydGV4QXJyYXkpOnRoaXMuY2VudHJvaWRWZXJ0ZXhCdWZmZXI9dC5jcmVhdGVWZXJ0ZXhCdWZmZXIodGhpcy5jZW50cm9pZFZlcnRleEFycmF5LGRjLm1lbWJlcnMsITApLHRoaXMubmVlZHNDZW50cm9pZFVwZGF0ZT0hMSk7fWRlc3Ryb3koKXt0aGlzLmxheW91dFZlcnRleEJ1ZmZlciYmKHRoaXMubGF5b3V0VmVydGV4QnVmZmVyLmRlc3Ryb3koKSx0aGlzLmNlbnRyb2lkVmVydGV4QnVmZmVyJiZ0aGlzLmNlbnRyb2lkVmVydGV4QnVmZmVyLmRlc3Ryb3koKSx0aGlzLmxheW91dFZlcnRleEV4dEJ1ZmZlciYmdGhpcy5sYXlvdXRWZXJ0ZXhFeHRCdWZmZXIuZGVzdHJveSgpLHRoaXMuaW5kZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLmRlc3Ryb3koKSx0aGlzLnNlZ21lbnRzLmRlc3Ryb3koKSk7fWFkZEZlYXR1cmUodCxlLHIsbixpLHMsYSl7Y29uc3Qgbz1bbmV3IGQoMCwwKSxuZXcgZChCbyxCbyldLGw9YS5wcm9qZWN0aW9uLHU9XCJnbG9iZVwiPT09bC5uYW1lLGM9dGhpcy5lbmFibGVUZXJyYWluJiYhdT9uZXcgRmM6bnVsbCxoPVwiUG9seWdvblwiPT09UGNbdC50eXBlXTt1JiYhdGhpcy5sYXlvdXRWZXJ0ZXhFeHRBcnJheSYmKHRoaXMubGF5b3V0VmVydGV4RXh0QXJyYXk9bmV3IFBhKTtjb25zdCBwPWFjKGUsNTAwKTtmb3IobGV0IHQ9cC5sZW5ndGgtMTt0Pj0wO3QtLSl7Y29uc3QgZT1wW3RdOygwPT09ZS5sZW5ndGh8fChmPWVbMF0pLmV2ZXJ5KCh0PT50Lng8PTApKXx8Zi5ldmVyeSgodD0+dC54Pj1CbykpfHxmLmV2ZXJ5KCh0PT50Lnk8PTApKXx8Zi5ldmVyeSgodD0+dC55Pj1CbykpKSYmcC5zcGxpY2UodCwxKTt9dmFyIGY7bGV0IHk7aWYodSl5PUdjKHAsbyxuKTtlbHNlIHt5PVtdO2Zvcihjb25zdCB0IG9mIHApeS5wdXNoKHtwb2x5Z29uOnQsYm91bmRzOm99KTt9Y29uc3QgbT1oP3RoaXMuZWRnZVJhZGl1czowO2Zvcihjb25zdHtwb2x5Z29uOnQsYm91bmRzOmV9b2YgeSl7bGV0IHI9MCxpPTA7Zm9yKGNvbnN0IGUgb2YgdCloJiYhZVswXS5lcXVhbHMoZVtlLmxlbmd0aC0xXSkmJmUucHVzaChlWzBdKSxpKz1oP2UubGVuZ3RoLTE6ZS5sZW5ndGg7Y29uc3Qgcz10aGlzLnNlZ21lbnRzLnByZXBhcmVTZWdtZW50KChoPzU6NCkqaSx0aGlzLmxheW91dFZlcnRleEFycmF5LHRoaXMuaW5kZXhBcnJheSk7aWYoaCl7Y29uc3QgZT1bXSxpPVtdO3I9cy52ZXJ0ZXhMZW5ndGg7Zm9yKGNvbnN0IHIgb2YgdCl7bGV0IGEsbztyLmxlbmd0aCYmciE9PXRbMF0mJmkucHVzaChlLmxlbmd0aC8yKSxhPXJbMV0uc3ViKHJbMF0pLl9wZXJwKCkuX3VuaXQoKTtmb3IobGV0IHQ9MTt0PHIubGVuZ3RoO3QrKyl7Y29uc3QgaT1yW3RdLGM9clt0PT09ci5sZW5ndGgtMT8xOnQrMV07bGV0e3g6aCx5OnB9PWk7aWYobSl7bz1jLnN1YihpKS5fcGVycCgpLl91bml0KCk7Y29uc3QgdD1hLmFkZChvKS5fdW5pdCgpLGU9bSpNYXRoLm1pbig0LDEvKGEueCp0LngrYS55KnQueSkpO2grPWUqdC54LHArPWUqdC55LGE9bzt9RGModGhpcy5sYXlvdXRWZXJ0ZXhBcnJheSxoLHAsMCwwLDEsMSwwKSxzLnZlcnRleExlbmd0aCsrLGUucHVzaChpLngsaS55KSx1JiZWYyh0aGlzLmxheW91dFZlcnRleEV4dEFycmF5LGwucHJvamVjdFRpbGVQb2ludChoLHAsbiksbC51cFZlY3RvcihuLGgscCkpO319Y29uc3QgYT1UdS5leHBvcnRzKGUsaSk7Zm9yKGxldCB0PTA7dDxhLmxlbmd0aDt0Kz0zKXRoaXMuaW5kZXhBcnJheS5lbXBsYWNlQmFjayhyK2FbdF0scithW3QrMl0scithW3QrMV0pLHMucHJpbWl0aXZlTGVuZ3RoKys7fWZvcihjb25zdCBpIG9mIHQpe2MmJmkubGVuZ3RoJiZjLnN0YXJ0UmluZyhpWzBdKTtsZXQgdCxhLG8scD1pLmxlbmd0aD40JiZPYyhpW2kubGVuZ3RoLTJdLGlbMF0saVsxXSksZj1tP1VjKGlbaS5sZW5ndGgtMl0saVswXSxpWzFdLG0pOjA7YT1pWzFdLnN1YihpWzBdKS5fcGVycCgpLl91bml0KCk7bGV0IGQ9ITA7Zm9yKGxldCB5PTEsZz0wO3k8aS5sZW5ndGg7eSsrKXtsZXQgeD1pW3ktMV0sdj1pW3ldO2NvbnN0IGI9aVt5PT09aS5sZW5ndGgtMT8xOnkrMV07aWYoYyYmaCYmYy5jdXJyZW50UG9seUNvdW50LnRvcCsrLCRjKHYseCxlKSl7bSYmKGE9Yi5zdWIodikuX3BlcnAoKS5fdW5pdCgpLGQ9IWQpO2NvbnRpbnVlfWMmJmMuYXBwZW5kKHYseCk7Y29uc3QgXz12LnN1Yih4KS5fcGVycCgpLHc9Xy54LyhNYXRoLmFicyhfLngpK01hdGguYWJzKF8ueSkpLEE9Xy55PjA/MTowLFM9eC5kaXN0KHYpO2lmKGcrUz4zMjc2OCYmKGc9MCksbSl7bz1iLnN1Yih2KS5fcGVycCgpLl91bml0KCk7bGV0IHQ9amMoeCx2LGIsUmMoYSxvKSxtKTtpc05hTih0KSYmKHQ9MCk7Y29uc3QgZT12LnN1Yih4KS5fdW5pdCgpO3g9eC5hZGQoZS5tdWx0KGYpKS5fcm91bmQoKSx2PXYuYWRkKGUubXVsdCgtdCkpLl9yb3VuZCgpLGY9dCxhPW87fWNvbnN0IGs9cy52ZXJ0ZXhMZW5ndGgsST1pLmxlbmd0aD40JiZPYyh4LHYsYik7bGV0IE09cWMoZyxwLGQpO2lmKERjKHRoaXMubGF5b3V0VmVydGV4QXJyYXkseC54LHgueSx3LEEsMCwwLE0pLERjKHRoaXMubGF5b3V0VmVydGV4QXJyYXkseC54LHgueSx3LEEsMCwxLE0pLGcrPVMsTT1xYyhnLEksIWQpLHA9SSxEYyh0aGlzLmxheW91dFZlcnRleEFycmF5LHYueCx2LnksdyxBLDAsMCxNKSxEYyh0aGlzLmxheW91dFZlcnRleEFycmF5LHYueCx2LnksdyxBLDAsMSxNKSxzLnZlcnRleExlbmd0aCs9NCx0aGlzLmluZGV4QXJyYXkuZW1wbGFjZUJhY2soayswLGsrMSxrKzIpLHRoaXMuaW5kZXhBcnJheS5lbXBsYWNlQmFjayhrKzEsayszLGsrMikscy5wcmltaXRpdmVMZW5ndGgrPTIsbSl7Y29uc3Qgbj1yKygxPT09eT9pLmxlbmd0aC0yOnktMiksYT0xPT09eT9yOm4rMTtpZih0aGlzLmluZGV4QXJyYXkuZW1wbGFjZUJhY2soaysxLG4sayszKSx0aGlzLmluZGV4QXJyYXkuZW1wbGFjZUJhY2sobixhLGsrMykscy5wcmltaXRpdmVMZW5ndGgrPTIsdm9pZCAwPT09dCYmKHQ9ayksISRjKGIsaVt5XSxlKSl7Y29uc3QgZT15PT09aS5sZW5ndGgtMT90OnMudmVydGV4TGVuZ3RoO3RoaXMuaW5kZXhBcnJheS5lbXBsYWNlQmFjayhrKzIsayszLGUpLHRoaXMuaW5kZXhBcnJheS5lbXBsYWNlQmFjayhrKzMsZSsxLGUpLHRoaXMuaW5kZXhBcnJheS5lbXBsYWNlQmFjayhrKzMsYSxlKzEpLHMucHJpbWl0aXZlTGVuZ3RoKz0zO31kPSFkO31pZih1KXtjb25zdCB0PXRoaXMubGF5b3V0VmVydGV4RXh0QXJyYXksZT1sLnByb2plY3RUaWxlUG9pbnQoeC54LHgueSxuKSxyPWwucHJvamVjdFRpbGVQb2ludCh2Lngsdi55LG4pLGk9bC51cFZlY3RvcihuLHgueCx4LnkpLHM9bC51cFZlY3RvcihuLHYueCx2LnkpO1ZjKHQsZSxpKSxWYyh0LGUsaSksVmModCxyLHMpLFZjKHQscixzKTt9fWgmJihyKz1pLmxlbmd0aC0xKTt9fWlmKGMmJmMucG9seUNvdW50Lmxlbmd0aD4wKXtpZihjLmJvcmRlcnMpe2MudmVydGV4QXJyYXlPZmZzZXQ9dGhpcy5jZW50cm9pZFZlcnRleEFycmF5Lmxlbmd0aDtjb25zdCB0PWMuYm9yZGVycyxlPXRoaXMuZmVhdHVyZXNPbkJvcmRlci5wdXNoKGMpLTE7Zm9yKGxldCByPTA7cjw0O3IrKyl0W3JdWzBdIT09TnVtYmVyLk1BWF9WQUxVRSYmdGhpcy5ib3JkZXJzW3JdLnB1c2goZSk7fXRoaXMuZW5jb2RlQ2VudHJvaWQoYy5ib3JkZXJzP3ZvaWQgMDpjLmNlbnRyb2lkKCksYyk7fXRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLnBvcHVsYXRlUGFpbnRBcnJheXModGhpcy5sYXlvdXRWZXJ0ZXhBcnJheS5sZW5ndGgsdCxyLGkscyxuKTt9c29ydEJvcmRlcnMoKXtmb3IobGV0IHQ9MDt0PDQ7dCsrKXRoaXMuYm9yZGVyc1t0XS5zb3J0KCgoZSxyKT0+dGhpcy5mZWF0dXJlc09uQm9yZGVyW2VdLmJvcmRlcnNbdF1bMF0tdGhpcy5mZWF0dXJlc09uQm9yZGVyW3JdLmJvcmRlcnNbdF1bMF0pKTt9ZW5jb2RlQ2VudHJvaWQodCxlLHI9ITApe2xldCBuLGk7aWYodClpZigwIT09dC55KXtjb25zdCByPWUuc3BhbigpLl9tdWx0KHRoaXMudGlsZVRvTWV0ZXIpO249KE1hdGgubWF4KHQueCwxKTw8MykrTWF0aC5taW4oNyxNYXRoLnJvdW5kKHIueC8xMCkpLGk9KE1hdGgubWF4KHQueSwxKTw8MykrTWF0aC5taW4oNyxNYXRoLnJvdW5kKHIueS8xMCkpO31lbHNlIG49TWF0aC5jZWlsKDcqKHQueCs0NTApKSxpPTA7ZWxzZSBuPTAsaT0rcjtsZXQgcz1yP3RoaXMuY2VudHJvaWRWZXJ0ZXhBcnJheS5sZW5ndGg6ZS52ZXJ0ZXhBcnJheU9mZnNldDtmb3IoY29uc3QgdCBvZiBlLnBvbHlDb3VudCl7ciYmdGhpcy5jZW50cm9pZFZlcnRleEFycmF5LnJlc2l6ZSh0aGlzLmNlbnRyb2lkVmVydGV4QXJyYXkubGVuZ3RoKzQqdC5lZGdlcyt0LnRvcCk7Zm9yKGxldCBlPTA7ZTx0LnRvcDtlKyspdGhpcy5jZW50cm9pZFZlcnRleEFycmF5LmVtcGxhY2UocysrLG4saSk7Zm9yKGxldCBlPTA7ZTwyKnQuZWRnZXM7ZSsrKXRoaXMuY2VudHJvaWRWZXJ0ZXhBcnJheS5lbXBsYWNlKHMrKywwLGkpLHRoaXMuY2VudHJvaWRWZXJ0ZXhBcnJheS5lbXBsYWNlKHMrKyxuLGkpO319fWZ1bmN0aW9uIFJjKHQsZSl7Y29uc3Qgcj10LmFkZChlKS5fdW5pdCgpO3JldHVybiB0Lngqci54K3QueSpyLnl9ZnVuY3Rpb24gVWModCxlLHIsbil7Y29uc3QgaT1lLnN1Yih0KS5fcGVycCgpLl91bml0KCkscz1yLnN1YihlKS5fcGVycCgpLl91bml0KCk7cmV0dXJuIGpjKHQsZSxyLFJjKGkscyksbil9ZnVuY3Rpb24gamModCxlLHIsbixpKXtjb25zdCBzPU1hdGguc3FydCgxLW4qbik7cmV0dXJuIE1hdGgubWluKHQuZGlzdChlKS8zLGUuZGlzdChyKS8zLGkqcy9uKX1mdW5jdGlvbiAkYyh0LGUscil7cmV0dXJuIHQueDxyWzBdLngmJmUueDxyWzBdLnh8fHQueD5yWzFdLngmJmUueD5yWzFdLnh8fHQueTxyWzBdLnkmJmUueTxyWzBdLnl8fHQueT5yWzFdLnkmJmUueT5yWzFdLnl9ZnVuY3Rpb24gT2ModCxlLHIpe2lmKHQueDwwfHx0Lng+PUJvfHxlLng8MHx8ZS54Pj1Cb3x8ci54PDB8fHIueD49Qm8pcmV0dXJuICExO2NvbnN0IG49ci5zdWIoZSksaT1uLnBlcnAoKSxzPXQuc3ViKGUpO3JldHVybiAobi54KnMueCtuLnkqcy55KS9NYXRoLnNxcnQoKG4ueCpuLngrbi55Km4ueSkqKHMueCpzLngrcy55KnMueSkpPi0uODY2JiZpLngqcy54K2kueSpzLnk8MH1mdW5jdGlvbiBxYyh0LGUscil7Y29uc3Qgbj1lPzJ8dDotMyZ0O3JldHVybiByPzF8bjotMiZufWZ1bmN0aW9uIE5jKCl7Y29uc3QgdD1NYXRoLlBJLzMyLGU9TWF0aC50YW4odCkscj1QbztyZXR1cm4gcipNYXRoLnNxcnQoMSsyKmUqZSktcn1mdW5jdGlvbiBHYyh0LGUscil7Y29uc3Qgbj0xPDxyLnosaT1VbyhyLngvbikscz1Vbygoci54KzEpL24pLGE9am8oci55L24pLG89am8oKHIueSsxKS9uKTtyZXR1cm4gZnVuY3Rpb24odCxlLHIsbixpPTAscyl7Y29uc3QgYT1bXTtpZighdC5sZW5ndGh8fCFyfHwhbilyZXR1cm4gYTtjb25zdCBvPSh0LGUpPT57Zm9yKGNvbnN0IHIgb2YgdClhLnB1c2goe3BvbHlnb246cixib3VuZHM6ZX0pO30sbD1NYXRoLmNlaWwoTWF0aC5sb2cyKHIpKSx1PU1hdGguY2VpbChNYXRoLmxvZzIobikpLGM9bC11LGg9W107Zm9yKGxldCB0PTA7dDxNYXRoLmFicyhjKTt0KyspaC5wdXNoKGM+MD8wOjEpO2ZvcihsZXQgdD0wO3Q8TWF0aC5taW4obCx1KTt0KyspaC5wdXNoKDApLGgucHVzaCgxKTtsZXQgcD10O2lmKHA9RWMocCxlWzBdLnktaSxlWzFdLnkraSwxKSxwPUVjKHAsZVswXS54LWksZVsxXS54K2ksMCksIXAubGVuZ3RoKXJldHVybiBhO2NvbnN0IGY9W107Zm9yKGgubGVuZ3RoP2YucHVzaCh7cG9seWdvbnM6cCxib3VuZHM6ZSxkZXB0aDowfSk6byhwLGUpO2YubGVuZ3RoOyl7Y29uc3QgdD1mLnBvcCgpLGU9dC5kZXB0aCxyPWhbZV0sbj10LmJvdW5kc1swXSxhPXQuYm91bmRzWzFdLGw9MD09PXI/bi54Om4ueSx1PTA9PT1yP2EueDphLnksYz1zP3MocixsLHUpOi41KihsK3UpLHA9RWModC5wb2x5Z29ucyxsLWksYytpLHIpLHk9RWModC5wb2x5Z29ucyxjLWksdStpLHIpO2lmKHAubGVuZ3RoKXtjb25zdCB0PVtuLG5ldyBkKDA9PT1yP2M6YS54LDE9PT1yP2M6YS55KV07aC5sZW5ndGg+ZSsxP2YucHVzaCh7cG9seWdvbnM6cCxib3VuZHM6dCxkZXB0aDplKzF9KTpvKHAsdCk7fWlmKHkubGVuZ3RoKXtjb25zdCB0PVtuZXcgZCgwPT09cj9jOm4ueCwxPT09cj9jOm4ueSksYV07aC5sZW5ndGg+ZSsxP2YucHVzaCh7cG9seWdvbnM6eSxib3VuZHM6dCxkZXB0aDplKzF9KTpvKHksdCk7fX1yZXR1cm4gYX0odCxlLE1hdGguY2VpbCgocy1pKS8xMS4yNSksTWF0aC5jZWlsKChhLW8pLzExLjI1KSwxLCgodCxlLGkpPT57aWYoMD09PXQpcmV0dXJuIC41KihlK2kpO3tjb25zdCB0PWpvKChyLnkrZS9Cbykvbik7cmV0dXJuIChMbyguNSooam8oKHIueStpL0JvKS9uKSt0KSkqbi1yLnkpKkJvfX0pKX1qaShMYyxcIkZpbGxFeHRydXNpb25CdWNrZXRcIix7b21pdDpbXCJsYXllcnNcIixcImZlYXR1cmVzXCJdfSksamkoRmMsXCJQYXJ0TWV0YWRhdGFcIik7Y29uc3QgWmM9bmV3IFFzKHtcImZpbGwtZXh0cnVzaW9uLWVkZ2UtcmFkaXVzXCI6bmV3IEtzKEh0W1wibGF5b3V0X2ZpbGwtZXh0cnVzaW9uXCJdW1wiZmlsbC1leHRydXNpb24tZWRnZS1yYWRpdXNcIl0pfSk7dmFyIFhjPXtwYWludDpuZXcgUXMoe1wiZmlsbC1leHRydXNpb24tb3BhY2l0eVwiOm5ldyBLcyhIdFtcInBhaW50X2ZpbGwtZXh0cnVzaW9uXCJdW1wiZmlsbC1leHRydXNpb24tb3BhY2l0eVwiXSksXCJmaWxsLWV4dHJ1c2lvbi1jb2xvclwiOm5ldyBIcyhIdFtcInBhaW50X2ZpbGwtZXh0cnVzaW9uXCJdW1wiZmlsbC1leHRydXNpb24tY29sb3JcIl0pLFwiZmlsbC1leHRydXNpb24tdHJhbnNsYXRlXCI6bmV3IEtzKEh0W1wicGFpbnRfZmlsbC1leHRydXNpb25cIl1bXCJmaWxsLWV4dHJ1c2lvbi10cmFuc2xhdGVcIl0pLFwiZmlsbC1leHRydXNpb24tdHJhbnNsYXRlLWFuY2hvclwiOm5ldyBLcyhIdFtcInBhaW50X2ZpbGwtZXh0cnVzaW9uXCJdW1wiZmlsbC1leHRydXNpb24tdHJhbnNsYXRlLWFuY2hvclwiXSksXCJmaWxsLWV4dHJ1c2lvbi1wYXR0ZXJuXCI6bmV3IFlzKEh0W1wicGFpbnRfZmlsbC1leHRydXNpb25cIl1bXCJmaWxsLWV4dHJ1c2lvbi1wYXR0ZXJuXCJdKSxcImZpbGwtZXh0cnVzaW9uLWhlaWdodFwiOm5ldyBIcyhIdFtcInBhaW50X2ZpbGwtZXh0cnVzaW9uXCJdW1wiZmlsbC1leHRydXNpb24taGVpZ2h0XCJdKSxcImZpbGwtZXh0cnVzaW9uLWJhc2VcIjpuZXcgSHMoSHRbXCJwYWludF9maWxsLWV4dHJ1c2lvblwiXVtcImZpbGwtZXh0cnVzaW9uLWJhc2VcIl0pLFwiZmlsbC1leHRydXNpb24tdmVydGljYWwtZ3JhZGllbnRcIjpuZXcgS3MoSHRbXCJwYWludF9maWxsLWV4dHJ1c2lvblwiXVtcImZpbGwtZXh0cnVzaW9uLXZlcnRpY2FsLWdyYWRpZW50XCJdKSxcImZpbGwtZXh0cnVzaW9uLWFtYmllbnQtb2NjbHVzaW9uLWludGVuc2l0eVwiOm5ldyBLcyhIdFtcInBhaW50X2ZpbGwtZXh0cnVzaW9uXCJdW1wiZmlsbC1leHRydXNpb24tYW1iaWVudC1vY2NsdXNpb24taW50ZW5zaXR5XCJdKSxcImZpbGwtZXh0cnVzaW9uLWFtYmllbnQtb2NjbHVzaW9uLXJhZGl1c1wiOm5ldyBLcyhIdFtcInBhaW50X2ZpbGwtZXh0cnVzaW9uXCJdW1wiZmlsbC1leHRydXNpb24tYW1iaWVudC1vY2NsdXNpb24tcmFkaXVzXCJdKX0pLGxheW91dDpaY307ZnVuY3Rpb24gS2ModCxlLHIpe3ZhciBuPTIqTWF0aC5QSSo2Mzc4MTM3LzI1Ni9NYXRoLnBvdygyLHIpO3JldHVybiBbdCpuLTIqTWF0aC5QSSo2Mzc4MTM3LzIsZSpuLTIqTWF0aC5QSSo2Mzc4MTM3LzJdfWNsYXNzIEhje2NvbnN0cnVjdG9yKHQsZSxyKXt0aGlzLno9dCx0aGlzLng9ZSx0aGlzLnk9cix0aGlzLmtleT1KYygwLHQsdCxlLHIpO31lcXVhbHModCl7cmV0dXJuIHRoaXMuej09PXQueiYmdGhpcy54PT09dC54JiZ0aGlzLnk9PT10Lnl9dXJsKHQsZSl7Y29uc3Qgcj1mdW5jdGlvbih0LGUscil7dmFyIG49S2MoMjU2KnQsMjU2KihlPU1hdGgucG93KDIsciktZS0xKSxyKSxpPUtjKDI1NioodCsxKSwyNTYqKGUrMSkscik7cmV0dXJuIG5bMF0rXCIsXCIrblsxXStcIixcIitpWzBdK1wiLFwiK2lbMV19KHRoaXMueCx0aGlzLnksdGhpcy56KSxuPWZ1bmN0aW9uKHQsZSxyKXtsZXQgbixpPVwiXCI7Zm9yKGxldCBzPXQ7cz4wO3MtLSluPTE8PHMtMSxpKz0oZSZuPzE6MCkrKHImbj8yOjApO3JldHVybiBpfSh0aGlzLnosdGhpcy54LHRoaXMueSk7cmV0dXJuIHRbKHRoaXMueCt0aGlzLnkpJXQubGVuZ3RoXS5yZXBsYWNlKFwie3ByZWZpeH1cIiwodGhpcy54JTE2KS50b1N0cmluZygxNikrKHRoaXMueSUxNikudG9TdHJpbmcoMTYpKS5yZXBsYWNlKC97en0vZyxTdHJpbmcodGhpcy56KSkucmVwbGFjZSgve3h9L2csU3RyaW5nKHRoaXMueCkpLnJlcGxhY2UoL3t5fS9nLFN0cmluZyhcInRtc1wiPT09ZT9NYXRoLnBvdygyLHRoaXMueiktdGhpcy55LTE6dGhpcy55KSkucmVwbGFjZShcIntxdWFka2V5fVwiLG4pLnJlcGxhY2UoXCJ7YmJveC1lcHNnLTM4NTd9XCIscil9dG9TdHJpbmcoKXtyZXR1cm4gYCR7dGhpcy56fS8ke3RoaXMueH0vJHt0aGlzLnl9YH19Y2xhc3MgWWN7Y29uc3RydWN0b3IodCxlKXt0aGlzLndyYXA9dCx0aGlzLmNhbm9uaWNhbD1lLHRoaXMua2V5PUpjKHQsZS56LGUueixlLngsZS55KTt9fWNsYXNzIFdje2NvbnN0cnVjdG9yKHQsZSxyLG4saSl7dGhpcy5vdmVyc2NhbGVkWj10LHRoaXMud3JhcD1lLHRoaXMuY2Fub25pY2FsPW5ldyBIYyhyLCtuLCtpKSx0aGlzLmtleT0wPT09ZSYmdD09PXI/dGhpcy5jYW5vbmljYWwua2V5OkpjKGUsdCxyLG4saSk7fWVxdWFscyh0KXtyZXR1cm4gdGhpcy5vdmVyc2NhbGVkWj09PXQub3ZlcnNjYWxlZFomJnRoaXMud3JhcD09PXQud3JhcCYmdGhpcy5jYW5vbmljYWwuZXF1YWxzKHQuY2Fub25pY2FsKX1zY2FsZWRUbyh0KXtjb25zdCBlPXRoaXMuY2Fub25pY2FsLnotdDtyZXR1cm4gdD50aGlzLmNhbm9uaWNhbC56P25ldyBXYyh0LHRoaXMud3JhcCx0aGlzLmNhbm9uaWNhbC56LHRoaXMuY2Fub25pY2FsLngsdGhpcy5jYW5vbmljYWwueSk6bmV3IFdjKHQsdGhpcy53cmFwLHQsdGhpcy5jYW5vbmljYWwueD4+ZSx0aGlzLmNhbm9uaWNhbC55Pj5lKX1jYWxjdWxhdGVTY2FsZWRLZXkodCxlPSEwKXtpZih0aGlzLm92ZXJzY2FsZWRaPT09dCYmZSlyZXR1cm4gdGhpcy5rZXk7aWYodD50aGlzLmNhbm9uaWNhbC56KXJldHVybiBKYyh0aGlzLndyYXAqK2UsdCx0aGlzLmNhbm9uaWNhbC56LHRoaXMuY2Fub25pY2FsLngsdGhpcy5jYW5vbmljYWwueSk7e2NvbnN0IHI9dGhpcy5jYW5vbmljYWwuei10O3JldHVybiBKYyh0aGlzLndyYXAqK2UsdCx0LHRoaXMuY2Fub25pY2FsLng+PnIsdGhpcy5jYW5vbmljYWwueT4+cil9fWlzQ2hpbGRPZih0KXtpZih0LndyYXAhPT10aGlzLndyYXApcmV0dXJuICExO2NvbnN0IGU9dGhpcy5jYW5vbmljYWwuei10LmNhbm9uaWNhbC56O3JldHVybiAwPT09dC5vdmVyc2NhbGVkWnx8dC5vdmVyc2NhbGVkWjx0aGlzLm92ZXJzY2FsZWRaJiZ0LmNhbm9uaWNhbC54PT09dGhpcy5jYW5vbmljYWwueD4+ZSYmdC5jYW5vbmljYWwueT09PXRoaXMuY2Fub25pY2FsLnk+PmV9Y2hpbGRyZW4odCl7aWYodGhpcy5vdmVyc2NhbGVkWj49dClyZXR1cm4gW25ldyBXYyh0aGlzLm92ZXJzY2FsZWRaKzEsdGhpcy53cmFwLHRoaXMuY2Fub25pY2FsLnosdGhpcy5jYW5vbmljYWwueCx0aGlzLmNhbm9uaWNhbC55KV07Y29uc3QgZT10aGlzLmNhbm9uaWNhbC56KzEscj0yKnRoaXMuY2Fub25pY2FsLngsbj0yKnRoaXMuY2Fub25pY2FsLnk7cmV0dXJuIFtuZXcgV2MoZSx0aGlzLndyYXAsZSxyLG4pLG5ldyBXYyhlLHRoaXMud3JhcCxlLHIrMSxuKSxuZXcgV2MoZSx0aGlzLndyYXAsZSxyLG4rMSksbmV3IFdjKGUsdGhpcy53cmFwLGUscisxLG4rMSldfWlzTGVzc1RoYW4odCl7cmV0dXJuIHRoaXMud3JhcDx0LndyYXB8fCEodGhpcy53cmFwPnQud3JhcCkmJih0aGlzLm92ZXJzY2FsZWRaPHQub3ZlcnNjYWxlZFp8fCEodGhpcy5vdmVyc2NhbGVkWj50Lm92ZXJzY2FsZWRaKSYmKHRoaXMuY2Fub25pY2FsLng8dC5jYW5vbmljYWwueHx8ISh0aGlzLmNhbm9uaWNhbC54PnQuY2Fub25pY2FsLngpJiZ0aGlzLmNhbm9uaWNhbC55PHQuY2Fub25pY2FsLnkpKX13cmFwcGVkKCl7cmV0dXJuIG5ldyBXYyh0aGlzLm92ZXJzY2FsZWRaLDAsdGhpcy5jYW5vbmljYWwueix0aGlzLmNhbm9uaWNhbC54LHRoaXMuY2Fub25pY2FsLnkpfXVud3JhcFRvKHQpe3JldHVybiBuZXcgV2ModGhpcy5vdmVyc2NhbGVkWix0LHRoaXMuY2Fub25pY2FsLnosdGhpcy5jYW5vbmljYWwueCx0aGlzLmNhbm9uaWNhbC55KX1vdmVyc2NhbGVGYWN0b3IoKXtyZXR1cm4gTWF0aC5wb3coMix0aGlzLm92ZXJzY2FsZWRaLXRoaXMuY2Fub25pY2FsLnopfXRvVW53cmFwcGVkKCl7cmV0dXJuIG5ldyBZYyh0aGlzLndyYXAsdGhpcy5jYW5vbmljYWwpfXRvU3RyaW5nKCl7cmV0dXJuIGAke3RoaXMub3ZlcnNjYWxlZFp9LyR7dGhpcy5jYW5vbmljYWwueH0vJHt0aGlzLmNhbm9uaWNhbC55fWB9fWZ1bmN0aW9uIEpjKHQsZSxyLG4saSl7Y29uc3Qgcz0xPDxNYXRoLm1pbihyLDIyKTtsZXQgYT1zKihpJXMpK24lcztyZXR1cm4gdCYmcjwyMiYmKGErPXMqcyooKHQ8MD8tMip0LTE6Mip0KSUoMTw8MiooMjItcikpKSksMTYqKDMyKmErcikrKGUtcil9amkoSGMsXCJDYW5vbmljYWxUaWxlSURcIiksamkoV2MsXCJPdmVyc2NhbGVkVGlsZUlEXCIse29taXQ6W1wicHJvak1hdHJpeFwiXX0pO2NsYXNzIFFjIGV4dGVuZHMgZHtjb25zdHJ1Y3Rvcih0LGUscil7c3VwZXIodCxlKSx0aGlzLno9cjt9fWZ1bmN0aW9uIHRoKHQsZSl7cmV0dXJuIHQueCplLngrdC55KmUueX1mdW5jdGlvbiBlaCh0LGUpe2lmKDE9PT10Lmxlbmd0aCl7bGV0IHI9MDtjb25zdCBuPWVbcisrXTtsZXQgaTtmb3IoOyFpfHxuLmVxdWFscyhpKTspaWYoaT1lW3IrK10sIWkpcmV0dXJuIDEvMDtmb3IoO3I8ZS5sZW5ndGg7cisrKXtjb25zdCBzPWVbcl0sYT10WzBdLG89aS5zdWIobiksbD1zLnN1YihuKSx1PWEuc3ViKG4pLGM9dGgobyxvKSxoPXRoKG8sbCkscD10aChsLGwpLGY9dGgodSxvKSxkPXRoKHUsbCkseT1jKnAtaCpoLG09KHAqZi1oKmQpL3ksZz0oYypkLWgqZikveSx4PW4ueiooMS1tLWcpK2kueiptK3MueipnO2lmKGlzRmluaXRlKHgpKXJldHVybiB4fXJldHVybiAxLzB9e2xldCB0PTEvMDtmb3IoY29uc3QgciBvZiBlKXQ9TWF0aC5taW4odCxyLnopO3JldHVybiB0fX1mdW5jdGlvbiByaCh0LGUscixuLGkscyxhLG8pe2NvbnN0IGw9YSppLmdldEVsZXZhdGlvbkF0KHQsZSwhMCwhMCksdT0wIT09c1swXSxjPXU/MD09PXNbMV0/YSooc1swXS83LTQ1MCk6YSpmdW5jdGlvbih0LGUscil7Y29uc3Qgbj1NYXRoLmZsb29yKGVbMF0vOCksaT1NYXRoLmZsb29yKGVbMV0vOCkscz0xMCooZVswXS04Km4pLGE9MTAqKGVbMV0tOCppKSxvPXQuZ2V0RWxldmF0aW9uQXQobixpLCEwLCEwKSxsPXQuZ2V0TWV0ZXJUb0RFTShyKSx1PU1hdGguZmxvb3IoLjUqKHMqbC0xKSksYz1NYXRoLmZsb29yKC41KihhKmwtMSkpLGg9dC50aWxlQ29vcmRUb1BpeGVsKG4saSkscD0yKnUrMSxmPTIqYysxLGQ9ZnVuY3Rpb24odCxlLHIsbixpKXtyZXR1cm4gW3QuZ2V0RWxldmF0aW9uQXRQaXhlbChlLHIsITApLHQuZ2V0RWxldmF0aW9uQXRQaXhlbChlK2ksciwhMCksdC5nZXRFbGV2YXRpb25BdFBpeGVsKGUscitpLCEwKSx0LmdldEVsZXZhdGlvbkF0UGl4ZWwoZStuLHIraSwhMCldfSh0LGgueC11LGgueS1jLHAsZikseT1NYXRoLmFicyhkWzBdLWRbMV0pLG09TWF0aC5hYnMoZFsyXS1kWzNdKSxnPU1hdGguYWJzKGRbMF0tZFsyXSkrTWF0aC5hYnMoZFsxXS1kWzNdKSx4PU1hdGgubWluKC4yNSwuNSpsKih5K20pL3ApLHY9TWF0aC5taW4oLjI1LC41KmwqZy9mKTtyZXR1cm4gbytNYXRoLm1heCh4KnMsdiphKX0oaSxzLG8pOmw7cmV0dXJuIHtiYXNlOmwrKDA9PT1yKT8tMTpyLHRvcDp1P01hdGgubWF4KGMrbixsK3IrMik6bCtufX1jb25zdCBuaD1pYShbe25hbWU6XCJhX3Bvc19ub3JtYWxcIixjb21wb25lbnRzOjIsdHlwZTpcIkludDE2XCJ9LHtuYW1lOlwiYV9kYXRhXCIsY29tcG9uZW50czo0LHR5cGU6XCJVaW50OFwifSx7bmFtZTpcImFfbGluZXNvZmFyXCIsY29tcG9uZW50czoxLHR5cGU6XCJGbG9hdDMyXCJ9XSw0KSx7bWVtYmVyczppaH09bmgsc2g9aWEoW3tuYW1lOlwiYV9wYWNrZWRcIixjb21wb25lbnRzOjQsdHlwZTpcIkZsb2F0MzJcIn1dKSx7bWVtYmVyczphaH09c2gsb2g9QmMudHlwZXMsbGg9TWF0aC5jb3MoTWF0aC5QSS8xODAqMzcuNSk7Y2xhc3MgdWh7Y29uc3RydWN0b3IodCl7dGhpcy56b29tPXQuem9vbSx0aGlzLm92ZXJzY2FsaW5nPXQub3ZlcnNjYWxpbmcsdGhpcy5sYXllcnM9dC5sYXllcnMsdGhpcy5sYXllcklkcz10aGlzLmxheWVycy5tYXAoKHQ9PnQuaWQpKSx0aGlzLmluZGV4PXQuaW5kZXgsdGhpcy5wcm9qZWN0aW9uPXQucHJvamVjdGlvbix0aGlzLmhhc1BhdHRlcm49ITEsdGhpcy5wYXR0ZXJuRmVhdHVyZXM9W10sdGhpcy5saW5lQ2xpcHNBcnJheT1bXSx0aGlzLmdyYWRpZW50cz17fSx0aGlzLmxheWVycy5mb3JFYWNoKCh0PT57dGhpcy5ncmFkaWVudHNbdC5pZF09e307fSkpLHRoaXMubGF5b3V0VmVydGV4QXJyYXk9bmV3IHVhLHRoaXMubGF5b3V0VmVydGV4QXJyYXkyPW5ldyBjYSx0aGlzLmluZGV4QXJyYXk9bmV3IHdhLHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zPW5ldyB2byh0LmxheWVycyx0Lnpvb20pLHRoaXMuc2VnbWVudHM9bmV3IFRvLHRoaXMubWF4TGluZUxlbmd0aD0wLHRoaXMuc3RhdGVEZXBlbmRlbnRMYXllcklkcz10aGlzLmxheWVycy5maWx0ZXIoKHQ9PnQuaXNTdGF0ZURlcGVuZGVudCgpKSkubWFwKCh0PT50LmlkKSk7fXBvcHVsYXRlKHQsZSxyLG4pe3RoaXMuaGFzUGF0dGVybj1sYyhcImxpbmVcIix0aGlzLmxheWVycyxlKTtjb25zdCBpPXRoaXMubGF5ZXJzWzBdLmxheW91dC5nZXQoXCJsaW5lLXNvcnQta2V5XCIpLHM9W107Zm9yKGNvbnN0e2ZlYXR1cmU6ZSxpZDphLGluZGV4Om8sc291cmNlTGF5ZXJJbmRleDpsfW9mIHQpe2NvbnN0IHQ9dGhpcy5sYXllcnNbMF0uX2ZlYXR1cmVGaWx0ZXIubmVlZEdlb21ldHJ5LHU9UW8oZSx0KTtpZighdGhpcy5sYXllcnNbMF0uX2ZlYXR1cmVGaWx0ZXIuZmlsdGVyKG5ldyBVcyh0aGlzLnpvb20pLHUscikpY29udGludWU7Y29uc3QgYz1pP2kuZXZhbHVhdGUodSx7fSxyKTp2b2lkIDAsaD17aWQ6YSxwcm9wZXJ0aWVzOmUucHJvcGVydGllcyx0eXBlOmUudHlwZSxzb3VyY2VMYXllckluZGV4OmwsaW5kZXg6byxnZW9tZXRyeTp0P3UuZ2VvbWV0cnk6Sm8oZSxyLG4pLHBhdHRlcm5zOnt9LHNvcnRLZXk6Y307cy5wdXNoKGgpO31pJiZzLnNvcnQoKCh0LGUpPT50LnNvcnRLZXktZS5zb3J0S2V5KSk7Y29uc3R7bGluZUF0bGFzOmEsZmVhdHVyZUluZGV4Om99PWUsbD10aGlzLmFkZENvbnN0YW50RGFzaGVzKGEpO2Zvcihjb25zdCBuIG9mIHMpe2NvbnN0e2dlb21ldHJ5OmksaW5kZXg6cyxzb3VyY2VMYXllckluZGV4OnV9PW47aWYobCYmdGhpcy5hZGRGZWF0dXJlRGFzaGVzKG4sYSksdGhpcy5oYXNQYXR0ZXJuKXtjb25zdCB0PXVjKFwibGluZVwiLHRoaXMubGF5ZXJzLG4sdGhpcy56b29tLGUpO3RoaXMucGF0dGVybkZlYXR1cmVzLnB1c2godCk7fWVsc2UgdGhpcy5hZGRGZWF0dXJlKG4saSxzLHIsYS5wb3NpdGlvbnMsZS5hdmFpbGFibGVJbWFnZXMpO28uaW5zZXJ0KHRbc10uZmVhdHVyZSxpLHMsdSx0aGlzLmluZGV4KTt9fWFkZENvbnN0YW50RGFzaGVzKHQpe2xldCBlPSExO2Zvcihjb25zdCByIG9mIHRoaXMubGF5ZXJzKXtjb25zdCBuPXIucGFpbnQuZ2V0KFwibGluZS1kYXNoYXJyYXlcIikudmFsdWUsaT1yLmxheW91dC5nZXQoXCJsaW5lLWNhcFwiKS52YWx1ZTtpZihcImNvbnN0YW50XCIhPT1uLmtpbmR8fFwiY29uc3RhbnRcIiE9PWkua2luZCllPSEwO2Vsc2Uge2NvbnN0IGU9aS52YWx1ZSxyPW4udmFsdWU7aWYoIXIpY29udGludWU7dC5hZGREYXNoKHIuZnJvbSxlKSx0LmFkZERhc2goci50byxlKSxyLm90aGVyJiZ0LmFkZERhc2goci5vdGhlcixlKTt9fXJldHVybiBlfWFkZEZlYXR1cmVEYXNoZXModCxlKXtjb25zdCByPXRoaXMuem9vbTtmb3IoY29uc3QgbiBvZiB0aGlzLmxheWVycyl7Y29uc3QgaT1uLnBhaW50LmdldChcImxpbmUtZGFzaGFycmF5XCIpLnZhbHVlLHM9bi5sYXlvdXQuZ2V0KFwibGluZS1jYXBcIikudmFsdWU7aWYoXCJjb25zdGFudFwiPT09aS5raW5kJiZcImNvbnN0YW50XCI9PT1zLmtpbmQpY29udGludWU7bGV0IGEsbyxsLHUsYyxoO2lmKFwiY29uc3RhbnRcIj09PWkua2luZCl7Y29uc3QgdD1pLnZhbHVlO2lmKCF0KWNvbnRpbnVlO2E9dC5vdGhlcnx8dC50byxvPXQudG8sbD10LmZyb207fWVsc2UgYT1pLmV2YWx1YXRlKHt6b29tOnItMX0sdCksbz1pLmV2YWx1YXRlKHt6b29tOnJ9LHQpLGw9aS5ldmFsdWF0ZSh7em9vbTpyKzF9LHQpO1wiY29uc3RhbnRcIj09PXMua2luZD91PWM9aD1zLnZhbHVlOih1PXMuZXZhbHVhdGUoe3pvb206ci0xfSx0KSxjPXMuZXZhbHVhdGUoe3pvb206cn0sdCksaD1zLmV2YWx1YXRlKHt6b29tOnIrMX0sdCkpLGUuYWRkRGFzaChhLHUpLGUuYWRkRGFzaChvLGMpLGUuYWRkRGFzaChsLGgpO2NvbnN0IHA9ZS5nZXRLZXkoYSx1KSxmPWUuZ2V0S2V5KG8sYyksZD1lLmdldEtleShsLGgpO3QucGF0dGVybnNbbi5pZF09e21pbjpwLG1pZDpmLG1heDpkfTt9fXVwZGF0ZSh0LGUscixuKXt0aGlzLnN0YXRlRGVwZW5kZW50TGF5ZXJzLmxlbmd0aCYmdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMudXBkYXRlUGFpbnRBcnJheXModCxlLHRoaXMuc3RhdGVEZXBlbmRlbnRMYXllcnMscixuKTt9YWRkRmVhdHVyZXModCxlLHIsbixpKXtmb3IoY29uc3QgdCBvZiB0aGlzLnBhdHRlcm5GZWF0dXJlcyl0aGlzLmFkZEZlYXR1cmUodCx0Lmdlb21ldHJ5LHQuaW5kZXgsZSxyLG4pO31pc0VtcHR5KCl7cmV0dXJuIDA9PT10aGlzLmxheW91dFZlcnRleEFycmF5Lmxlbmd0aH11cGxvYWRQZW5kaW5nKCl7cmV0dXJuICF0aGlzLnVwbG9hZGVkfHx0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucy5uZWVkc1VwbG9hZH11cGxvYWQodCl7dGhpcy51cGxvYWRlZHx8KDAhPT10aGlzLmxheW91dFZlcnRleEFycmF5Mi5sZW5ndGgmJih0aGlzLmxheW91dFZlcnRleEJ1ZmZlcjI9dC5jcmVhdGVWZXJ0ZXhCdWZmZXIodGhpcy5sYXlvdXRWZXJ0ZXhBcnJheTIsYWgpKSx0aGlzLmxheW91dFZlcnRleEJ1ZmZlcj10LmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLmxheW91dFZlcnRleEFycmF5LGloKSx0aGlzLmluZGV4QnVmZmVyPXQuY3JlYXRlSW5kZXhCdWZmZXIodGhpcy5pbmRleEFycmF5KSksdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMudXBsb2FkKHQpLHRoaXMudXBsb2FkZWQ9ITA7fWRlc3Ryb3koKXt0aGlzLmxheW91dFZlcnRleEJ1ZmZlciYmKHRoaXMubGF5b3V0VmVydGV4QnVmZmVyLmRlc3Ryb3koKSx0aGlzLmluZGV4QnVmZmVyLmRlc3Ryb3koKSx0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucy5kZXN0cm95KCksdGhpcy5zZWdtZW50cy5kZXN0cm95KCkpO31saW5lRmVhdHVyZUNsaXBzKHQpe2lmKHQucHJvcGVydGllcyYmdC5wcm9wZXJ0aWVzLmhhc093blByb3BlcnR5KFwibWFwYm94X2NsaXBfc3RhcnRcIikmJnQucHJvcGVydGllcy5oYXNPd25Qcm9wZXJ0eShcIm1hcGJveF9jbGlwX2VuZFwiKSlyZXR1cm4ge3N0YXJ0Oit0LnByb3BlcnRpZXMubWFwYm94X2NsaXBfc3RhcnQsZW5kOit0LnByb3BlcnRpZXMubWFwYm94X2NsaXBfZW5kfX1hZGRGZWF0dXJlKHQsZSxyLG4saSxzKXtjb25zdCBhPXRoaXMubGF5ZXJzWzBdLmxheW91dCxvPWEuZ2V0KFwibGluZS1qb2luXCIpLmV2YWx1YXRlKHQse30pLGw9YS5nZXQoXCJsaW5lLWNhcFwiKS5ldmFsdWF0ZSh0LHt9KSx1PWEuZ2V0KFwibGluZS1taXRlci1saW1pdFwiKSxjPWEuZ2V0KFwibGluZS1yb3VuZC1saW1pdFwiKTt0aGlzLmxpbmVDbGlwcz10aGlzLmxpbmVGZWF0dXJlQ2xpcHModCk7Zm9yKGNvbnN0IHIgb2YgZSl0aGlzLmFkZExpbmUocix0LG8sbCx1LGMpO3RoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLnBvcHVsYXRlUGFpbnRBcnJheXModGhpcy5sYXlvdXRWZXJ0ZXhBcnJheS5sZW5ndGgsdCxyLGkscyxuKTt9YWRkTGluZSh0LGUscixuLGkscyl7aWYodGhpcy5kaXN0YW5jZT0wLHRoaXMuc2NhbGVkRGlzdGFuY2U9MCx0aGlzLnRvdGFsRGlzdGFuY2U9MCx0aGlzLmxpbmVTb0Zhcj0wLHRoaXMubGluZUNsaXBzKXt0aGlzLmxpbmVDbGlwc0FycmF5LnB1c2godGhpcy5saW5lQ2xpcHMpO2ZvcihsZXQgZT0wO2U8dC5sZW5ndGgtMTtlKyspdGhpcy50b3RhbERpc3RhbmNlKz10W2VdLmRpc3QodFtlKzFdKTt0aGlzLnVwZGF0ZVNjYWxlZERpc3RhbmNlKCksdGhpcy5tYXhMaW5lTGVuZ3RoPU1hdGgubWF4KHRoaXMubWF4TGluZUxlbmd0aCx0aGlzLnRvdGFsRGlzdGFuY2UpO31jb25zdCBhPVwiUG9seWdvblwiPT09b2hbZS50eXBlXTtsZXQgbz10Lmxlbmd0aDtmb3IoO28+PTImJnRbby0xXS5lcXVhbHModFtvLTJdKTspby0tO2xldCBsPTA7Zm9yKDtsPG8tMSYmdFtsXS5lcXVhbHModFtsKzFdKTspbCsrO2lmKG88KGE/MzoyKSlyZXR1cm47XCJiZXZlbFwiPT09ciYmKGk9MS4wNSk7Y29uc3QgdT10aGlzLm92ZXJzY2FsaW5nPD0xNj8xMjI4ODAvKDUxMip0aGlzLm92ZXJzY2FsaW5nKTowLGM9dGhpcy5zZWdtZW50cy5wcmVwYXJlU2VnbWVudCgxMCpvLHRoaXMubGF5b3V0VmVydGV4QXJyYXksdGhpcy5pbmRleEFycmF5KTtsZXQgaCxwLGYsZCx5O3RoaXMuZTE9dGhpcy5lMj0tMSxhJiYoaD10W28tMl0seT10W2xdLnN1YihoKS5fdW5pdCgpLl9wZXJwKCkpO2ZvcihsZXQgZT1sO2U8bztlKyspe2lmKGY9ZT09PW8tMT9hP3RbbCsxXTp2b2lkIDA6dFtlKzFdLGYmJnRbZV0uZXF1YWxzKGYpKWNvbnRpbnVlO3kmJihkPXkpLGgmJihwPWgpLGg9dFtlXSx5PWY/Zi5zdWIoaCkuX3VuaXQoKS5fcGVycCgpOmQsZD1kfHx5O2xldCBtPWQuYWRkKHkpOzA9PT1tLngmJjA9PT1tLnl8fG0uX3VuaXQoKTtjb25zdCBnPWQueCp5LngrZC55KnkueSx4PW0ueCp5LngrbS55KnkueSx2PTAhPT14PzEveDoxLzAsYj0yKk1hdGguc3FydCgyLTIqeCksXz14PGxoJiZwJiZmLHc9ZC54KnkueS1kLnkqeS54PjA7aWYoXyYmZT5sKXtjb25zdCB0PWguZGlzdChwKTtpZih0PjIqdSl7Y29uc3QgZT1oLnN1YihoLnN1YihwKS5fbXVsdCh1L3QpLl9yb3VuZCgpKTt0aGlzLnVwZGF0ZURpc3RhbmNlKHAsZSksdGhpcy5hZGRDdXJyZW50VmVydGV4KGUsZCwwLDAsYykscD1lO319Y29uc3QgQT1wJiZmO2xldCBTPUE/cjphP1wiYnV0dFwiOm47aWYoQSYmXCJyb3VuZFwiPT09UyYmKHY8cz9TPVwibWl0ZXJcIjp2PD0yJiYoUz1cImZha2Vyb3VuZFwiKSksXCJtaXRlclwiPT09UyYmdj5pJiYoUz1cImJldmVsXCIpLFwiYmV2ZWxcIj09PVMmJih2PjImJihTPVwiZmxpcGJldmVsXCIpLHY8aSYmKFM9XCJtaXRlclwiKSkscCYmdGhpcy51cGRhdGVEaXN0YW5jZShwLGgpLFwibWl0ZXJcIj09PVMpbS5fbXVsdCh2KSx0aGlzLmFkZEN1cnJlbnRWZXJ0ZXgoaCxtLDAsMCxjKTtlbHNlIGlmKFwiZmxpcGJldmVsXCI9PT1TKXtpZih2PjEwMCltPXkubXVsdCgtMSk7ZWxzZSB7Y29uc3QgdD12KmQuYWRkKHkpLm1hZygpL2Quc3ViKHkpLm1hZygpO20uX3BlcnAoKS5fbXVsdCh0Kih3Py0xOjEpKTt9dGhpcy5hZGRDdXJyZW50VmVydGV4KGgsbSwwLDAsYyksdGhpcy5hZGRDdXJyZW50VmVydGV4KGgsbS5tdWx0KC0xKSwwLDAsYyk7fWVsc2UgaWYoXCJiZXZlbFwiPT09U3x8XCJmYWtlcm91bmRcIj09PVMpe2NvbnN0IHQ9LU1hdGguc3FydCh2KnYtMSksZT13P3Q6MCxyPXc/MDp0O2lmKHAmJnRoaXMuYWRkQ3VycmVudFZlcnRleChoLGQsZSxyLGMpLFwiZmFrZXJvdW5kXCI9PT1TKXtjb25zdCB0PU1hdGgucm91bmQoMTgwKmIvTWF0aC5QSS8yMCk7Zm9yKGxldCBlPTE7ZTx0O2UrKyl7bGV0IHI9ZS90O2lmKC41IT09cil7Y29uc3QgdD1yLS41O3IrPXIqdCooci0xKSooKDEuMDkwNCtnKihnKigzLjU1NjQ1LTEuNDM1MTkqZyktMy4yNDUyKSkqdCp0KyguODQ4MDEzK2cqKC4yMTU2MzgqZy0xLjA2MDIxKSkpO31jb25zdCBuPXkuc3ViKGQpLl9tdWx0KHIpLl9hZGQoZCkuX3VuaXQoKS5fbXVsdCh3Py0xOjEpO3RoaXMuYWRkSGFsZlZlcnRleChoLG4ueCxuLnksITEsdywwLGMpO319ZiYmdGhpcy5hZGRDdXJyZW50VmVydGV4KGgseSwtZSwtcixjKTt9ZWxzZSBpZihcImJ1dHRcIj09PVMpdGhpcy5hZGRDdXJyZW50VmVydGV4KGgsbSwwLDAsYyk7ZWxzZSBpZihcInNxdWFyZVwiPT09Uyl7Y29uc3QgdD1wPzE6LTE7cHx8dGhpcy5hZGRDdXJyZW50VmVydGV4KGgsbSx0LHQsYyksdGhpcy5hZGRDdXJyZW50VmVydGV4KGgsbSwwLDAsYykscCYmdGhpcy5hZGRDdXJyZW50VmVydGV4KGgsbSx0LHQsYyk7fWVsc2UgXCJyb3VuZFwiPT09UyYmKHAmJih0aGlzLmFkZEN1cnJlbnRWZXJ0ZXgoaCxkLDAsMCxjKSx0aGlzLmFkZEN1cnJlbnRWZXJ0ZXgoaCxkLDEsMSxjLCEwKSksZiYmKHRoaXMuYWRkQ3VycmVudFZlcnRleChoLHksLTEsLTEsYywhMCksdGhpcy5hZGRDdXJyZW50VmVydGV4KGgseSwwLDAsYykpKTtpZihfJiZlPG8tMSl7Y29uc3QgdD1oLmRpc3QoZik7aWYodD4yKnUpe2NvbnN0IGU9aC5hZGQoZi5zdWIoaCkuX211bHQodS90KS5fcm91bmQoKSk7dGhpcy51cGRhdGVEaXN0YW5jZShoLGUpLHRoaXMuYWRkQ3VycmVudFZlcnRleChlLHksMCwwLGMpLGg9ZTt9fX19YWRkQ3VycmVudFZlcnRleCh0LGUscixuLGkscz0hMSl7Y29uc3QgYT1lLnkqbi1lLngsbz0tZS55LWUueCpuO3RoaXMuYWRkSGFsZlZlcnRleCh0LGUueCtlLnkqcixlLnktZS54KnIscywhMSxyLGkpLHRoaXMuYWRkSGFsZlZlcnRleCh0LGEsbyxzLCEwLC1uLGkpO31hZGRIYWxmVmVydGV4KHt4OnQseTplfSxyLG4saSxzLGEsbyl7dGhpcy5sYXlvdXRWZXJ0ZXhBcnJheS5lbXBsYWNlQmFjaygodDw8MSkrKGk/MTowKSwoZTw8MSkrKHM/MTowKSxNYXRoLnJvdW5kKDYzKnIpKzEyOCxNYXRoLnJvdW5kKDYzKm4pKzEyOCwxKygwPT09YT8wOmE8MD8tMToxKSwwLHRoaXMubGluZVNvRmFyKSx0aGlzLmxpbmVDbGlwcyYmdGhpcy5sYXlvdXRWZXJ0ZXhBcnJheTIuZW1wbGFjZUJhY2sodGhpcy5zY2FsZWREaXN0YW5jZSx0aGlzLmxpbmVDbGlwc0FycmF5Lmxlbmd0aCx0aGlzLmxpbmVDbGlwcy5zdGFydCx0aGlzLmxpbmVDbGlwcy5lbmQpO2NvbnN0IGw9by52ZXJ0ZXhMZW5ndGgrKzt0aGlzLmUxPj0wJiZ0aGlzLmUyPj0wJiYodGhpcy5pbmRleEFycmF5LmVtcGxhY2VCYWNrKHRoaXMuZTEsdGhpcy5lMixsKSxvLnByaW1pdGl2ZUxlbmd0aCsrKSxzP3RoaXMuZTI9bDp0aGlzLmUxPWw7fXVwZGF0ZVNjYWxlZERpc3RhbmNlKCl7aWYodGhpcy5saW5lQ2xpcHMpe2NvbnN0IHQ9dGhpcy50b3RhbERpc3RhbmNlLyh0aGlzLmxpbmVDbGlwcy5lbmQtdGhpcy5saW5lQ2xpcHMuc3RhcnQpO3RoaXMuc2NhbGVkRGlzdGFuY2U9dGhpcy5kaXN0YW5jZS90aGlzLnRvdGFsRGlzdGFuY2UsdGhpcy5saW5lU29GYXI9dCp0aGlzLmxpbmVDbGlwcy5zdGFydCt0aGlzLmRpc3RhbmNlO31lbHNlIHRoaXMubGluZVNvRmFyPXRoaXMuZGlzdGFuY2U7fXVwZGF0ZURpc3RhbmNlKHQsZSl7dGhpcy5kaXN0YW5jZSs9dC5kaXN0KGUpLHRoaXMudXBkYXRlU2NhbGVkRGlzdGFuY2UoKTt9fWppKHVoLFwiTGluZUJ1Y2tldFwiLHtvbWl0OltcImxheWVyc1wiLFwicGF0dGVybkZlYXR1cmVzXCJdfSk7Y29uc3QgY2g9bmV3IFFzKHtcImxpbmUtY2FwXCI6bmV3IEhzKEh0LmxheW91dF9saW5lW1wibGluZS1jYXBcIl0pLFwibGluZS1qb2luXCI6bmV3IEhzKEh0LmxheW91dF9saW5lW1wibGluZS1qb2luXCJdKSxcImxpbmUtbWl0ZXItbGltaXRcIjpuZXcgS3MoSHQubGF5b3V0X2xpbmVbXCJsaW5lLW1pdGVyLWxpbWl0XCJdKSxcImxpbmUtcm91bmQtbGltaXRcIjpuZXcgS3MoSHQubGF5b3V0X2xpbmVbXCJsaW5lLXJvdW5kLWxpbWl0XCJdKSxcImxpbmUtc29ydC1rZXlcIjpuZXcgSHMoSHQubGF5b3V0X2xpbmVbXCJsaW5lLXNvcnQta2V5XCJdKX0pO3ZhciBoaD17cGFpbnQ6bmV3IFFzKHtcImxpbmUtb3BhY2l0eVwiOm5ldyBIcyhIdC5wYWludF9saW5lW1wibGluZS1vcGFjaXR5XCJdKSxcImxpbmUtY29sb3JcIjpuZXcgSHMoSHQucGFpbnRfbGluZVtcImxpbmUtY29sb3JcIl0pLFwibGluZS10cmFuc2xhdGVcIjpuZXcgS3MoSHQucGFpbnRfbGluZVtcImxpbmUtdHJhbnNsYXRlXCJdKSxcImxpbmUtdHJhbnNsYXRlLWFuY2hvclwiOm5ldyBLcyhIdC5wYWludF9saW5lW1wibGluZS10cmFuc2xhdGUtYW5jaG9yXCJdKSxcImxpbmUtd2lkdGhcIjpuZXcgSHMoSHQucGFpbnRfbGluZVtcImxpbmUtd2lkdGhcIl0pLFwibGluZS1nYXAtd2lkdGhcIjpuZXcgSHMoSHQucGFpbnRfbGluZVtcImxpbmUtZ2FwLXdpZHRoXCJdKSxcImxpbmUtb2Zmc2V0XCI6bmV3IEhzKEh0LnBhaW50X2xpbmVbXCJsaW5lLW9mZnNldFwiXSksXCJsaW5lLWJsdXJcIjpuZXcgSHMoSHQucGFpbnRfbGluZVtcImxpbmUtYmx1clwiXSksXCJsaW5lLWRhc2hhcnJheVwiOm5ldyBZcyhIdC5wYWludF9saW5lW1wibGluZS1kYXNoYXJyYXlcIl0pLFwibGluZS1wYXR0ZXJuXCI6bmV3IFlzKEh0LnBhaW50X2xpbmVbXCJsaW5lLXBhdHRlcm5cIl0pLFwibGluZS1ncmFkaWVudFwiOm5ldyBKcyhIdC5wYWludF9saW5lW1wibGluZS1ncmFkaWVudFwiXSksXCJsaW5lLXRyaW0tb2Zmc2V0XCI6bmV3IEtzKEh0LnBhaW50X2xpbmVbXCJsaW5lLXRyaW0tb2Zmc2V0XCJdKX0pLGxheW91dDpjaH07Y29uc3QgcGg9bmV3IGNsYXNzIGV4dGVuZHMgSHN7cG9zc2libHlFdmFsdWF0ZSh0LGUpe3JldHVybiBlPW5ldyBVcyhNYXRoLmZsb29yKGUuem9vbSkse25vdzplLm5vdyxmYWRlRHVyYXRpb246ZS5mYWRlRHVyYXRpb24sem9vbUhpc3Rvcnk6ZS56b29tSGlzdG9yeSx0cmFuc2l0aW9uOmUudHJhbnNpdGlvbn0pLHN1cGVyLnBvc3NpYmx5RXZhbHVhdGUodCxlKX1ldmFsdWF0ZSh0LGUscixuKXtyZXR1cm4gZT1UKHt9LGUse3pvb206TWF0aC5mbG9vcihlLnpvb20pfSksc3VwZXIuZXZhbHVhdGUodCxlLHIsbil9fShoaC5wYWludC5wcm9wZXJ0aWVzW1wibGluZS13aWR0aFwiXS5zcGVjaWZpY2F0aW9uKTtmdW5jdGlvbiBmaCh0LGUpe3JldHVybiBlPjA/ZSsyKnQ6dH1waC51c2VJbnRlZ2VyWm9vbT0hMDtjb25zdCBkaD1pYShbe25hbWU6XCJhX3Bvc19vZmZzZXRcIixjb21wb25lbnRzOjQsdHlwZTpcIkludDE2XCJ9LHtuYW1lOlwiYV90ZXhfc2l6ZVwiLGNvbXBvbmVudHM6NCx0eXBlOlwiVWludDE2XCJ9LHtuYW1lOlwiYV9waXhlbG9mZnNldFwiLGNvbXBvbmVudHM6NCx0eXBlOlwiSW50MTZcIn1dLDQpLHloPWlhKFt7bmFtZTpcImFfZ2xvYmVfYW5jaG9yXCIsY29tcG9uZW50czozLHR5cGU6XCJJbnQxNlwifSx7bmFtZTpcImFfZ2xvYmVfbm9ybWFsXCIsY29tcG9uZW50czozLHR5cGU6XCJGbG9hdDMyXCJ9XSw0KSxtaD1pYShbe25hbWU6XCJhX3Byb2plY3RlZF9wb3NcIixjb21wb25lbnRzOjQsdHlwZTpcIkZsb2F0MzJcIn1dLDQpO2lhKFt7bmFtZTpcImFfZmFkZV9vcGFjaXR5XCIsY29tcG9uZW50czoxLHR5cGU6XCJVaW50MzJcIn1dLDQpO2NvbnN0IGdoPWlhKFt7bmFtZTpcImFfcGxhY2VkXCIsY29tcG9uZW50czoyLHR5cGU6XCJVaW50OFwifSx7bmFtZTpcImFfc2hpZnRcIixjb21wb25lbnRzOjIsdHlwZTpcIkZsb2F0MzJcIn1dKSx4aD1pYShbe25hbWU6XCJhX3NpemVfc2NhbGVcIixjb21wb25lbnRzOjEsdHlwZTpcIkZsb2F0MzJcIn0se25hbWU6XCJhX3BhZGRpbmdcIixjb21wb25lbnRzOjIsdHlwZTpcIkZsb2F0MzJcIn1dKTtpYShbe3R5cGU6XCJJbnQxNlwiLG5hbWU6XCJwcm9qZWN0ZWRBbmNob3JYXCJ9LHt0eXBlOlwiSW50MTZcIixuYW1lOlwicHJvamVjdGVkQW5jaG9yWVwifSx7dHlwZTpcIkludDE2XCIsbmFtZTpcInByb2plY3RlZEFuY2hvclpcIn0se3R5cGU6XCJJbnQxNlwiLG5hbWU6XCJ0aWxlQW5jaG9yWFwifSx7dHlwZTpcIkludDE2XCIsbmFtZTpcInRpbGVBbmNob3JZXCJ9LHt0eXBlOlwiRmxvYXQzMlwiLG5hbWU6XCJ4MVwifSx7dHlwZTpcIkZsb2F0MzJcIixuYW1lOlwieTFcIn0se3R5cGU6XCJGbG9hdDMyXCIsbmFtZTpcIngyXCJ9LHt0eXBlOlwiRmxvYXQzMlwiLG5hbWU6XCJ5MlwifSx7dHlwZTpcIkludDE2XCIsbmFtZTpcInBhZGRpbmdcIn0se3R5cGU6XCJVaW50MzJcIixuYW1lOlwiZmVhdHVyZUluZGV4XCJ9LHt0eXBlOlwiVWludDE2XCIsbmFtZTpcInNvdXJjZUxheWVySW5kZXhcIn0se3R5cGU6XCJVaW50MTZcIixuYW1lOlwiYnVja2V0SW5kZXhcIn1dKTtjb25zdCB2aD1pYShbe25hbWU6XCJhX3Bvc1wiLGNvbXBvbmVudHM6Myx0eXBlOlwiSW50MTZcIn0se25hbWU6XCJhX2FuY2hvcl9wb3NcIixjb21wb25lbnRzOjIsdHlwZTpcIkludDE2XCJ9LHtuYW1lOlwiYV9leHRydWRlXCIsY29tcG9uZW50czoyLHR5cGU6XCJJbnQxNlwifV0sNCksYmg9aWEoW3tuYW1lOlwiYV9wb3NfMmZcIixjb21wb25lbnRzOjIsdHlwZTpcIkZsb2F0MzJcIn0se25hbWU6XCJhX3JhZGl1c1wiLGNvbXBvbmVudHM6MSx0eXBlOlwiRmxvYXQzMlwifSx7bmFtZTpcImFfZmxhZ3NcIixjb21wb25lbnRzOjIsdHlwZTpcIkludDE2XCJ9XSw0KTtpYShbe25hbWU6XCJ0cmlhbmdsZVwiLGNvbXBvbmVudHM6Myx0eXBlOlwiVWludDE2XCJ9XSksaWEoW3t0eXBlOlwiSW50MTZcIixuYW1lOlwicHJvamVjdGVkQW5jaG9yWFwifSx7dHlwZTpcIkludDE2XCIsbmFtZTpcInByb2plY3RlZEFuY2hvcllcIn0se3R5cGU6XCJJbnQxNlwiLG5hbWU6XCJwcm9qZWN0ZWRBbmNob3JaXCJ9LHt0eXBlOlwiRmxvYXQzMlwiLG5hbWU6XCJ0aWxlQW5jaG9yWFwifSx7dHlwZTpcIkZsb2F0MzJcIixuYW1lOlwidGlsZUFuY2hvcllcIn0se3R5cGU6XCJVaW50MTZcIixuYW1lOlwiZ2x5cGhTdGFydEluZGV4XCJ9LHt0eXBlOlwiVWludDE2XCIsbmFtZTpcIm51bUdseXBoc1wifSx7dHlwZTpcIlVpbnQzMlwiLG5hbWU6XCJ2ZXJ0ZXhTdGFydEluZGV4XCJ9LHt0eXBlOlwiVWludDMyXCIsbmFtZTpcImxpbmVTdGFydEluZGV4XCJ9LHt0eXBlOlwiVWludDMyXCIsbmFtZTpcImxpbmVMZW5ndGhcIn0se3R5cGU6XCJVaW50MTZcIixuYW1lOlwic2VnbWVudFwifSx7dHlwZTpcIlVpbnQxNlwiLG5hbWU6XCJsb3dlclNpemVcIn0se3R5cGU6XCJVaW50MTZcIixuYW1lOlwidXBwZXJTaXplXCJ9LHt0eXBlOlwiRmxvYXQzMlwiLG5hbWU6XCJsaW5lT2Zmc2V0WFwifSx7dHlwZTpcIkZsb2F0MzJcIixuYW1lOlwibGluZU9mZnNldFlcIn0se3R5cGU6XCJVaW50OFwiLG5hbWU6XCJ3cml0aW5nTW9kZVwifSx7dHlwZTpcIlVpbnQ4XCIsbmFtZTpcInBsYWNlZE9yaWVudGF0aW9uXCJ9LHt0eXBlOlwiVWludDhcIixuYW1lOlwiaGlkZGVuXCJ9LHt0eXBlOlwiVWludDMyXCIsbmFtZTpcImNyb3NzVGlsZUlEXCJ9LHt0eXBlOlwiSW50MTZcIixuYW1lOlwiYXNzb2NpYXRlZEljb25JbmRleFwifSx7dHlwZTpcIlVpbnQ4XCIsbmFtZTpcImZsaXBTdGF0ZVwifV0pLGlhKFt7dHlwZTpcIkludDE2XCIsbmFtZTpcInByb2plY3RlZEFuY2hvclhcIn0se3R5cGU6XCJJbnQxNlwiLG5hbWU6XCJwcm9qZWN0ZWRBbmNob3JZXCJ9LHt0eXBlOlwiSW50MTZcIixuYW1lOlwicHJvamVjdGVkQW5jaG9yWlwifSx7dHlwZTpcIkZsb2F0MzJcIixuYW1lOlwidGlsZUFuY2hvclhcIn0se3R5cGU6XCJGbG9hdDMyXCIsbmFtZTpcInRpbGVBbmNob3JZXCJ9LHt0eXBlOlwiSW50MTZcIixuYW1lOlwicmlnaHRKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXhcIn0se3R5cGU6XCJJbnQxNlwiLG5hbWU6XCJjZW50ZXJKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXhcIn0se3R5cGU6XCJJbnQxNlwiLG5hbWU6XCJsZWZ0SnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4XCJ9LHt0eXBlOlwiSW50MTZcIixuYW1lOlwidmVydGljYWxQbGFjZWRUZXh0U3ltYm9sSW5kZXhcIn0se3R5cGU6XCJJbnQxNlwiLG5hbWU6XCJwbGFjZWRJY29uU3ltYm9sSW5kZXhcIn0se3R5cGU6XCJJbnQxNlwiLG5hbWU6XCJ2ZXJ0aWNhbFBsYWNlZEljb25TeW1ib2xJbmRleFwifSx7dHlwZTpcIlVpbnQxNlwiLG5hbWU6XCJrZXlcIn0se3R5cGU6XCJVaW50MTZcIixuYW1lOlwidGV4dEJveFN0YXJ0SW5kZXhcIn0se3R5cGU6XCJVaW50MTZcIixuYW1lOlwidGV4dEJveEVuZEluZGV4XCJ9LHt0eXBlOlwiVWludDE2XCIsbmFtZTpcInZlcnRpY2FsVGV4dEJveFN0YXJ0SW5kZXhcIn0se3R5cGU6XCJVaW50MTZcIixuYW1lOlwidmVydGljYWxUZXh0Qm94RW5kSW5kZXhcIn0se3R5cGU6XCJVaW50MTZcIixuYW1lOlwiaWNvbkJveFN0YXJ0SW5kZXhcIn0se3R5cGU6XCJVaW50MTZcIixuYW1lOlwiaWNvbkJveEVuZEluZGV4XCJ9LHt0eXBlOlwiVWludDE2XCIsbmFtZTpcInZlcnRpY2FsSWNvbkJveFN0YXJ0SW5kZXhcIn0se3R5cGU6XCJVaW50MTZcIixuYW1lOlwidmVydGljYWxJY29uQm94RW5kSW5kZXhcIn0se3R5cGU6XCJVaW50MTZcIixuYW1lOlwiZmVhdHVyZUluZGV4XCJ9LHt0eXBlOlwiVWludDE2XCIsbmFtZTpcIm51bUhvcml6b250YWxHbHlwaFZlcnRpY2VzXCJ9LHt0eXBlOlwiVWludDE2XCIsbmFtZTpcIm51bVZlcnRpY2FsR2x5cGhWZXJ0aWNlc1wifSx7dHlwZTpcIlVpbnQxNlwiLG5hbWU6XCJudW1JY29uVmVydGljZXNcIn0se3R5cGU6XCJVaW50MTZcIixuYW1lOlwibnVtVmVydGljYWxJY29uVmVydGljZXNcIn0se3R5cGU6XCJVaW50MTZcIixuYW1lOlwidXNlUnVudGltZUNvbGxpc2lvbkNpcmNsZXNcIn0se3R5cGU6XCJVaW50MzJcIixuYW1lOlwiY3Jvc3NUaWxlSURcIn0se3R5cGU6XCJGbG9hdDMyXCIsY29tcG9uZW50czoyLG5hbWU6XCJ0ZXh0T2Zmc2V0XCJ9LHt0eXBlOlwiRmxvYXQzMlwiLG5hbWU6XCJjb2xsaXNpb25DaXJjbGVEaWFtZXRlclwifV0pLGlhKFt7dHlwZTpcIkZsb2F0MzJcIixuYW1lOlwib2Zmc2V0WFwifV0pLGlhKFt7dHlwZTpcIkludDE2XCIsbmFtZTpcInhcIn0se3R5cGU6XCJJbnQxNlwiLG5hbWU6XCJ5XCJ9LHt0eXBlOlwiSW50MTZcIixuYW1lOlwidGlsZVVuaXREaXN0YW5jZUZyb21BbmNob3JcIn1dKTt2YXIgX2g9MjQ7Y29uc3Qgd2g9MTI4O2Z1bmN0aW9uIEFoKHQsZSl7Y29uc3R7ZXhwcmVzc2lvbjpyfT1lO2lmKFwiY29uc3RhbnRcIj09PXIua2luZClyZXR1cm4ge2tpbmQ6XCJjb25zdGFudFwiLGxheW91dFNpemU6ci5ldmFsdWF0ZShuZXcgVXModCsxKSl9O2lmKFwic291cmNlXCI9PT1yLmtpbmQpcmV0dXJuIHtraW5kOlwic291cmNlXCJ9O3tjb25zdHt6b29tU3RvcHM6ZSxpbnRlcnBvbGF0aW9uVHlwZTpufT1yO2xldCBpPTA7Zm9yKDtpPGUubGVuZ3RoJiZlW2ldPD10OylpKys7aT1NYXRoLm1heCgwLGktMSk7bGV0IHM9aTtmb3IoO3M8ZS5sZW5ndGgmJmVbc108dCsxOylzKys7cz1NYXRoLm1pbihlLmxlbmd0aC0xLHMpO2NvbnN0IGE9ZVtpXSxvPWVbc107cmV0dXJuIFwiY29tcG9zaXRlXCI9PT1yLmtpbmQ/e2tpbmQ6XCJjb21wb3NpdGVcIixtaW5ab29tOmEsbWF4Wm9vbTpvLGludGVycG9sYXRpb25UeXBlOm59OntraW5kOlwiY2FtZXJhXCIsbWluWm9vbTphLG1heFpvb206byxtaW5TaXplOnIuZXZhbHVhdGUobmV3IFVzKGEpKSxtYXhTaXplOnIuZXZhbHVhdGUobmV3IFVzKG8pKSxpbnRlcnBvbGF0aW9uVHlwZTpufX19ZnVuY3Rpb24gU2godCx7dVNpemU6ZSx1U2l6ZVQ6cn0se2xvd2VyU2l6ZTpuLHVwcGVyU2l6ZTppfSl7cmV0dXJuIFwic291cmNlXCI9PT10LmtpbmQ/bi93aDpcImNvbXBvc2l0ZVwiPT09dC5raW5kP0lyKG4vd2gsaS93aCxyKTplfWZ1bmN0aW9uIGtoKHQsZSl7bGV0IHI9MCxuPTA7aWYoXCJjb25zdGFudFwiPT09dC5raW5kKW49dC5sYXlvdXRTaXplO2Vsc2UgaWYoXCJzb3VyY2VcIiE9PXQua2luZCl7Y29uc3R7aW50ZXJwb2xhdGlvblR5cGU6aSxtaW5ab29tOnMsbWF4Wm9vbTphfT10LG89aT9TKFhyLmludGVycG9sYXRpb25GYWN0b3IoaSxlLHMsYSksMCwxKTowO1wiY2FtZXJhXCI9PT10LmtpbmQ/bj1Jcih0Lm1pblNpemUsdC5tYXhTaXplLG8pOnI9bzt9cmV0dXJuIHt1U2l6ZVQ6cix1U2l6ZTpufX12YXIgSWg9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsZ2V0U2l6ZURhdGE6QWgsZXZhbHVhdGVTaXplRm9yRmVhdHVyZTpTaCxldmFsdWF0ZVNpemVGb3Jab29tOmtoLFNJWkVfUEFDS19GQUNUT1I6d2h9KTtmdW5jdGlvbiBNaCh0LGUscil7cmV0dXJuIHQuc2VjdGlvbnMuZm9yRWFjaCgodD0+e3QudGV4dD1mdW5jdGlvbih0LGUscil7Y29uc3Qgbj1lLmxheW91dC5nZXQoXCJ0ZXh0LXRyYW5zZm9ybVwiKS5ldmFsdWF0ZShyLHt9KTtyZXR1cm4gXCJ1cHBlcmNhc2VcIj09PW4/dD10LnRvTG9jYWxlVXBwZXJDYXNlKCk6XCJsb3dlcmNhc2VcIj09PW4mJih0PXQudG9Mb2NhbGVMb3dlckNhc2UoKSksUnMuYXBwbHlBcmFiaWNTaGFwaW5nJiYodD1Scy5hcHBseUFyYWJpY1NoYXBpbmcodCkpLHR9KHQudGV4dCxlLHIpO30pKSx0fWNvbnN0IHpoPXtcIiFcIjpcIu+4lVwiLFwiI1wiOlwi77yDXCIsJDpcIu+8hFwiLFwiJVwiOlwi77yFXCIsXCImXCI6XCLvvIZcIixcIihcIjpcIu+4tVwiLFwiKVwiOlwi77i2XCIsXCIqXCI6XCLvvIpcIixcIitcIjpcIu+8i1wiLFwiLFwiOlwi77iQXCIsXCItXCI6XCLvuLJcIixcIi5cIjpcIuODu1wiLFwiL1wiOlwi77yPXCIsXCI6XCI6XCLvuJNcIixcIjtcIjpcIu+4lFwiLFwiPFwiOlwi77i/XCIsXCI9XCI6XCLvvJ1cIixcIj5cIjpcIu+5gFwiLFwiP1wiOlwi77iWXCIsXCJAXCI6XCLvvKBcIixcIltcIjpcIu+5h1wiLFwiXFxcXFwiOlwi77y8XCIsXCJdXCI6XCLvuYhcIixcIl5cIjpcIu+8vlwiLF86XCLvuLNcIixcImBcIjpcIu+9gFwiLFwie1wiOlwi77i3XCIsXCJ8XCI6XCLigJVcIixcIn1cIjpcIu+4uFwiLFwiflwiOlwi772eXCIsXCLColwiOlwi77+gXCIsXCLCo1wiOlwi77+hXCIsXCLCpVwiOlwi77+lXCIsXCLCplwiOlwi77+kXCIsXCLCrFwiOlwi77+iXCIsXCLCr1wiOlwi77+jXCIsXCLigJNcIjpcIu+4slwiLFwi4oCUXCI6XCLvuLFcIixcIuKAmFwiOlwi77mDXCIsXCLigJlcIjpcIu+5hFwiLFwi4oCcXCI6XCLvuYFcIixcIuKAnVwiOlwi77mCXCIsXCLigKZcIjpcIu+4mVwiLFwi4oCnXCI6XCLjg7tcIixcIuKCqVwiOlwi77+mXCIsXCLjgIFcIjpcIu+4kVwiLFwi44CCXCI6XCLvuJJcIixcIuOAiFwiOlwi77i/XCIsXCLjgIlcIjpcIu+5gFwiLFwi44CKXCI6XCLvuL1cIixcIuOAi1wiOlwi77i+XCIsXCLjgIxcIjpcIu+5gVwiLFwi44CNXCI6XCLvuYJcIixcIuOAjlwiOlwi77mDXCIsXCLjgI9cIjpcIu+5hFwiLFwi44CQXCI6XCLvuLtcIixcIuOAkVwiOlwi77i8XCIsXCLjgJRcIjpcIu+4uVwiLFwi44CVXCI6XCLvuLpcIixcIuOAllwiOlwi77iXXCIsXCLjgJdcIjpcIu+4mFwiLFwi77yBXCI6XCLvuJVcIixcIu+8iFwiOlwi77i1XCIsXCLvvIlcIjpcIu+4tlwiLFwi77yMXCI6XCLvuJBcIixcIu+8jVwiOlwi77iyXCIsXCLvvI5cIjpcIuODu1wiLFwi77yaXCI6XCLvuJNcIixcIu+8m1wiOlwi77iUXCIsXCLvvJxcIjpcIu+4v1wiLFwi77yeXCI6XCLvuYBcIixcIu+8n1wiOlwi77iWXCIsXCLvvLtcIjpcIu+5h1wiLFwi77y9XCI6XCLvuYhcIixcIu+8v1wiOlwi77izXCIsXCLvvZtcIjpcIu+4t1wiLFwi772cXCI6XCLigJVcIixcIu+9nVwiOlwi77i4XCIsXCLvvZ9cIjpcIu+4tVwiLFwi772gXCI6XCLvuLZcIixcIu+9oVwiOlwi77iSXCIsXCLvvaJcIjpcIu+5gVwiLFwi772jXCI6XCLvuYJcIn07ZnVuY3Rpb24gVGgodCl7cmV0dXJuIFwi77i2XCI9PT10fHxcIu+5iFwiPT09dHx8XCLvuLhcIj09PXR8fFwi77mEXCI9PT10fHxcIu+5glwiPT09dHx8XCLvuL5cIj09PXR8fFwi77i8XCI9PT10fHxcIu+4ulwiPT09dHx8XCLvuJhcIj09PXR8fFwi77mAXCI9PT10fHxcIu+4kFwiPT09dHx8XCLvuJNcIj09PXR8fFwi77iUXCI9PT10fHxcIu+9gFwiPT09dHx8XCLvv6NcIj09PXR8fFwi77iRXCI9PT10fHxcIu+4klwiPT09dH1mdW5jdGlvbiBCaCh0KXtyZXR1cm4gXCLvuLVcIj09PXR8fFwi77mHXCI9PT10fHxcIu+4t1wiPT09dHx8XCLvuYNcIj09PXR8fFwi77mBXCI9PT10fHxcIu+4vVwiPT09dHx8XCLvuLtcIj09PXR8fFwi77i5XCI9PT10fHxcIu+4l1wiPT09dHx8XCLvuL9cIj09PXR9dmFyIEVoPURoLFBoPWZ1bmN0aW9uKHQsZSxyLG4saSl7dmFyIHMsYSxvPTgqaS1uLTEsbD0oMTw8byktMSx1PWw+PjEsYz0tNyxoPXI/aS0xOjAscD1yPy0xOjEsZj10W2UraF07Zm9yKGgrPXAscz1mJigxPDwtYyktMSxmPj49LWMsYys9bztjPjA7cz0yNTYqcyt0W2UraF0saCs9cCxjLT04KTtmb3IoYT1zJigxPDwtYyktMSxzPj49LWMsYys9bjtjPjA7YT0yNTYqYSt0W2UraF0saCs9cCxjLT04KTtpZigwPT09cylzPTEtdTtlbHNlIHtpZihzPT09bClyZXR1cm4gYT9OYU46MS8wKihmPy0xOjEpO2ErPU1hdGgucG93KDIsbikscy09dTt9cmV0dXJuIChmPy0xOjEpKmEqTWF0aC5wb3coMixzLW4pfSxDaD1mdW5jdGlvbih0LGUscixuLGkscyl7dmFyIGEsbyxsLHU9OCpzLWktMSxjPSgxPDx1KS0xLGg9Yz4+MSxwPTIzPT09aT9NYXRoLnBvdygyLC0yNCktTWF0aC5wb3coMiwtNzcpOjAsZj1uPzA6cy0xLGQ9bj8xOi0xLHk9ZTwwfHwwPT09ZSYmMS9lPDA/MTowO2ZvcihlPU1hdGguYWJzKGUpLGlzTmFOKGUpfHxlPT09MS8wPyhvPWlzTmFOKGUpPzE6MCxhPWMpOihhPU1hdGguZmxvb3IoTWF0aC5sb2coZSkvTWF0aC5MTjIpLGUqKGw9TWF0aC5wb3coMiwtYSkpPDEmJihhLS0sbCo9MiksKGUrPWEraD49MT9wL2w6cCpNYXRoLnBvdygyLDEtaCkpKmw+PTImJihhKyssbC89MiksYStoPj1jPyhvPTAsYT1jKTphK2g+PTE/KG89KGUqbC0xKSpNYXRoLnBvdygyLGkpLGErPWgpOihvPWUqTWF0aC5wb3coMixoLTEpKk1hdGgucG93KDIsaSksYT0wKSk7aT49ODt0W3IrZl09MjU1Jm8sZis9ZCxvLz0yNTYsaS09OCk7Zm9yKGE9YTw8aXxvLHUrPWk7dT4wO3RbcitmXT0yNTUmYSxmKz1kLGEvPTI1Nix1LT04KTt0W3IrZi1kXXw9MTI4Knk7fTtcbi8qISBpZWVlNzU0LiBCU0QtMy1DbGF1c2UgTGljZW5zZS4gRmVyb3NzIEFib3VraGFkaWplaCA8aHR0cHM6Ly9mZXJvc3Mub3JnL29wZW5zb3VyY2U+ICovZnVuY3Rpb24gRGgodCl7dGhpcy5idWY9QXJyYXlCdWZmZXIuaXNWaWV3JiZBcnJheUJ1ZmZlci5pc1ZpZXcodCk/dDpuZXcgVWludDhBcnJheSh0fHwwKSx0aGlzLnBvcz0wLHRoaXMudHlwZT0wLHRoaXMubGVuZ3RoPXRoaXMuYnVmLmxlbmd0aDt9RGguVmFyaW50PTAsRGguRml4ZWQ2ND0xLERoLkJ5dGVzPTIsRGguRml4ZWQzMj01O3ZhciBWaD00Mjk0OTY3Mjk2LEZoPTEvVmgsTGg9XCJ1bmRlZmluZWRcIj09dHlwZW9mIFRleHREZWNvZGVyP251bGw6bmV3IFRleHREZWNvZGVyKFwidXRmOFwiKTtmdW5jdGlvbiBSaCh0KXtyZXR1cm4gdC50eXBlPT09RGguQnl0ZXM/dC5yZWFkVmFyaW50KCkrdC5wb3M6dC5wb3MrMX1mdW5jdGlvbiBVaCh0LGUscil7cmV0dXJuIHI/NDI5NDk2NzI5NiplKyh0Pj4+MCk6NDI5NDk2NzI5NiooZT4+PjApKyh0Pj4+MCl9ZnVuY3Rpb24gamgodCxlLHIpe3ZhciBuPWU8PTE2MzgzPzE6ZTw9MjA5NzE1MT8yOmU8PTI2ODQzNTQ1NT8zOk1hdGguZmxvb3IoTWF0aC5sb2coZSkvKDcqTWF0aC5MTjIpKTtyLnJlYWxsb2Mobik7Zm9yKHZhciBpPXIucG9zLTE7aT49dDtpLS0pci5idWZbaStuXT1yLmJ1ZltpXTt9ZnVuY3Rpb24gJGgodCxlKXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyllLndyaXRlVmFyaW50KHRbcl0pO31mdW5jdGlvbiBPaCh0LGUpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKWUud3JpdGVTVmFyaW50KHRbcl0pO31mdW5jdGlvbiBxaCh0LGUpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKWUud3JpdGVGbG9hdCh0W3JdKTt9ZnVuY3Rpb24gTmgodCxlKXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyllLndyaXRlRG91YmxlKHRbcl0pO31mdW5jdGlvbiBHaCh0LGUpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKWUud3JpdGVCb29sZWFuKHRbcl0pO31mdW5jdGlvbiBaaCh0LGUpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKWUud3JpdGVGaXhlZDMyKHRbcl0pO31mdW5jdGlvbiBYaCh0LGUpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKWUud3JpdGVTRml4ZWQzMih0W3JdKTt9ZnVuY3Rpb24gS2godCxlKXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyllLndyaXRlRml4ZWQ2NCh0W3JdKTt9ZnVuY3Rpb24gSGgodCxlKXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyllLndyaXRlU0ZpeGVkNjQodFtyXSk7fWZ1bmN0aW9uIFloKHQsZSl7cmV0dXJuICh0W2VdfHRbZSsxXTw8OHx0W2UrMl08PDE2KSsxNjc3NzIxNip0W2UrM119ZnVuY3Rpb24gV2godCxlLHIpe3Rbcl09ZSx0W3IrMV09ZT4+PjgsdFtyKzJdPWU+Pj4xNix0W3IrM109ZT4+PjI0O31mdW5jdGlvbiBKaCh0LGUpe3JldHVybiAodFtlXXx0W2UrMV08PDh8dFtlKzJdPDwxNikrKHRbZSszXTw8MjQpfWZ1bmN0aW9uIFFoKHQsZSxyKXtlLmdseXBocz1bXSwxPT09dCYmci5yZWFkTWVzc2FnZSh0cCxlKTt9ZnVuY3Rpb24gdHAodCxlLHIpe2lmKDM9PT10KXtjb25zdHtpZDp0LGJpdG1hcDpuLHdpZHRoOmksaGVpZ2h0OnMsbGVmdDphLHRvcDpvLGFkdmFuY2U6bH09ci5yZWFkTWVzc2FnZShlcCx7fSk7ZS5nbHlwaHMucHVzaCh7aWQ6dCxiaXRtYXA6bmV3IHd1KHt3aWR0aDppKzYsaGVpZ2h0OnMrNn0sbiksbWV0cmljczp7d2lkdGg6aSxoZWlnaHQ6cyxsZWZ0OmEsdG9wOm8sYWR2YW5jZTpsfX0pO31lbHNlIDQ9PT10P2UuYXNjZW5kZXI9ci5yZWFkU1ZhcmludCgpOjU9PT10JiYoZS5kZXNjZW5kZXI9ci5yZWFkU1ZhcmludCgpKTt9ZnVuY3Rpb24gZXAodCxlLHIpezE9PT10P2UuaWQ9ci5yZWFkVmFyaW50KCk6Mj09PXQ/ZS5iaXRtYXA9ci5yZWFkQnl0ZXMoKTozPT09dD9lLndpZHRoPXIucmVhZFZhcmludCgpOjQ9PT10P2UuaGVpZ2h0PXIucmVhZFZhcmludCgpOjU9PT10P2UubGVmdD1yLnJlYWRTVmFyaW50KCk6Nj09PXQ/ZS50b3A9ci5yZWFkU1ZhcmludCgpOjc9PT10JiYoZS5hZHZhbmNlPXIucmVhZFZhcmludCgpKTt9ZnVuY3Rpb24gcnAodCl7bGV0IGU9MCxyPTA7Zm9yKGNvbnN0IG4gb2YgdCllKz1uLncqbi5oLHI9TWF0aC5tYXgocixuLncpO3Quc29ydCgoKHQsZSk9PmUuaC10LmgpKTtjb25zdCBuPVt7eDowLHk6MCx3Ok1hdGgubWF4KE1hdGguY2VpbChNYXRoLnNxcnQoZS8uOTUpKSxyKSxoOjEvMH1dO2xldCBpPTAscz0wO2Zvcihjb25zdCBlIG9mIHQpZm9yKGxldCB0PW4ubGVuZ3RoLTE7dD49MDt0LS0pe2NvbnN0IHI9blt0XTtpZighKGUudz5yLnd8fGUuaD5yLmgpKXtpZihlLng9ci54LGUueT1yLnkscz1NYXRoLm1heChzLGUueStlLmgpLGk9TWF0aC5tYXgoaSxlLngrZS53KSxlLnc9PT1yLncmJmUuaD09PXIuaCl7Y29uc3QgZT1uLnBvcCgpO3Q8bi5sZW5ndGgmJihuW3RdPWUpO31lbHNlIGUuaD09PXIuaD8oci54Kz1lLncsci53LT1lLncpOmUudz09PXIudz8oci55Kz1lLmgsci5oLT1lLmgpOihuLnB1c2goe3g6ci54K2Uudyx5OnIueSx3OnIudy1lLncsaDplLmh9KSxyLnkrPWUuaCxyLmgtPWUuaCk7YnJlYWt9fXJldHVybiB7dzppLGg6cyxmaWxsOmUvKGkqcyl8fDB9fURoLnByb3RvdHlwZT17ZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuYnVmPW51bGw7fSxyZWFkRmllbGRzOmZ1bmN0aW9uKHQsZSxyKXtmb3Iocj1yfHx0aGlzLmxlbmd0aDt0aGlzLnBvczxyOyl7dmFyIG49dGhpcy5yZWFkVmFyaW50KCksaT1uPj4zLHM9dGhpcy5wb3M7dGhpcy50eXBlPTcmbix0KGksZSx0aGlzKSx0aGlzLnBvcz09PXMmJnRoaXMuc2tpcChuKTt9cmV0dXJuIGV9LHJlYWRNZXNzYWdlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMucmVhZEZpZWxkcyh0LGUsdGhpcy5yZWFkVmFyaW50KCkrdGhpcy5wb3MpfSxyZWFkRml4ZWQzMjpmdW5jdGlvbigpe3ZhciB0PVloKHRoaXMuYnVmLHRoaXMucG9zKTtyZXR1cm4gdGhpcy5wb3MrPTQsdH0scmVhZFNGaXhlZDMyOmZ1bmN0aW9uKCl7dmFyIHQ9SmgodGhpcy5idWYsdGhpcy5wb3MpO3JldHVybiB0aGlzLnBvcys9NCx0fSxyZWFkRml4ZWQ2NDpmdW5jdGlvbigpe3ZhciB0PVloKHRoaXMuYnVmLHRoaXMucG9zKStZaCh0aGlzLmJ1Zix0aGlzLnBvcys0KSpWaDtyZXR1cm4gdGhpcy5wb3MrPTgsdH0scmVhZFNGaXhlZDY0OmZ1bmN0aW9uKCl7dmFyIHQ9WWgodGhpcy5idWYsdGhpcy5wb3MpK0poKHRoaXMuYnVmLHRoaXMucG9zKzQpKlZoO3JldHVybiB0aGlzLnBvcys9OCx0fSxyZWFkRmxvYXQ6ZnVuY3Rpb24oKXt2YXIgdD1QaCh0aGlzLmJ1Zix0aGlzLnBvcywhMCwyMyw0KTtyZXR1cm4gdGhpcy5wb3MrPTQsdH0scmVhZERvdWJsZTpmdW5jdGlvbigpe3ZhciB0PVBoKHRoaXMuYnVmLHRoaXMucG9zLCEwLDUyLDgpO3JldHVybiB0aGlzLnBvcys9OCx0fSxyZWFkVmFyaW50OmZ1bmN0aW9uKHQpe3ZhciBlLHIsbj10aGlzLmJ1ZjtyZXR1cm4gZT0xMjcmKHI9blt0aGlzLnBvcysrXSkscjwxMjg/ZTooZXw9KDEyNyYocj1uW3RoaXMucG9zKytdKSk8PDcscjwxMjg/ZTooZXw9KDEyNyYocj1uW3RoaXMucG9zKytdKSk8PDE0LHI8MTI4P2U6KGV8PSgxMjcmKHI9blt0aGlzLnBvcysrXSkpPDwyMSxyPDEyOD9lOmZ1bmN0aW9uKHQsZSxyKXt2YXIgbixpLHM9ci5idWY7aWYobj0oMTEyJihpPXNbci5wb3MrK10pKT4+NCxpPDEyOClyZXR1cm4gVWgodCxuLGUpO2lmKG58PSgxMjcmKGk9c1tyLnBvcysrXSkpPDwzLGk8MTI4KXJldHVybiBVaCh0LG4sZSk7aWYobnw9KDEyNyYoaT1zW3IucG9zKytdKSk8PDEwLGk8MTI4KXJldHVybiBVaCh0LG4sZSk7aWYobnw9KDEyNyYoaT1zW3IucG9zKytdKSk8PDE3LGk8MTI4KXJldHVybiBVaCh0LG4sZSk7aWYobnw9KDEyNyYoaT1zW3IucG9zKytdKSk8PDI0LGk8MTI4KXJldHVybiBVaCh0LG4sZSk7aWYobnw9KDEmKGk9c1tyLnBvcysrXSkpPDwzMSxpPDEyOClyZXR1cm4gVWgodCxuLGUpO3Rocm93IG5ldyBFcnJvcihcIkV4cGVjdGVkIHZhcmludCBub3QgbW9yZSB0aGFuIDEwIGJ5dGVzXCIpfShlfD0oMTUmKHI9blt0aGlzLnBvc10pKTw8MjgsdCx0aGlzKSkpKX0scmVhZFZhcmludDY0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVhZFZhcmludCghMCl9LHJlYWRTVmFyaW50OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5yZWFkVmFyaW50KCk7cmV0dXJuIHQlMj09MT8odCsxKS8tMjp0LzJ9LHJlYWRCb29sZWFuOmZ1bmN0aW9uKCl7cmV0dXJuIEJvb2xlYW4odGhpcy5yZWFkVmFyaW50KCkpfSxyZWFkU3RyaW5nOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5yZWFkVmFyaW50KCkrdGhpcy5wb3MsZT10aGlzLnBvcztyZXR1cm4gdGhpcy5wb3M9dCx0LWU+PTEyJiZMaD9mdW5jdGlvbih0LGUscil7cmV0dXJuIExoLmRlY29kZSh0LnN1YmFycmF5KGUscikpfSh0aGlzLmJ1ZixlLHQpOmZ1bmN0aW9uKHQsZSxyKXtmb3IodmFyIG49XCJcIixpPWU7aTxyOyl7dmFyIHMsYSxvLGw9dFtpXSx1PW51bGwsYz1sPjIzOT80Omw+MjIzPzM6bD4xOTE/MjoxO2lmKGkrYz5yKWJyZWFrOzE9PT1jP2w8MTI4JiYodT1sKToyPT09Yz8xMjg9PSgxOTImKHM9dFtpKzFdKSkmJih1PSgzMSZsKTw8Nnw2MyZzKTw9MTI3JiYodT1udWxsKTozPT09Yz8oYT10W2krMl0sMTI4PT0oMTkyJihzPXRbaSsxXSkpJiYxMjg9PSgxOTImYSkmJigodT0oMTUmbCk8PDEyfCg2MyZzKTw8Nnw2MyZhKTw9MjA0N3x8dT49NTUyOTYmJnU8PTU3MzQzKSYmKHU9bnVsbCkpOjQ9PT1jJiYoYT10W2krMl0sbz10W2krM10sMTI4PT0oMTkyJihzPXRbaSsxXSkpJiYxMjg9PSgxOTImYSkmJjEyOD09KDE5MiZvKSYmKCh1PSgxNSZsKTw8MTh8KDYzJnMpPDwxMnwoNjMmYSk8PDZ8NjMmbyk8PTY1NTM1fHx1Pj0xMTE0MTEyKSYmKHU9bnVsbCkpLG51bGw9PT11Pyh1PTY1NTMzLGM9MSk6dT42NTUzNSYmKHUtPTY1NTM2LG4rPVN0cmluZy5mcm9tQ2hhckNvZGUodT4+PjEwJjEwMjN8NTUyOTYpLHU9NTYzMjB8MTAyMyZ1KSxuKz1TdHJpbmcuZnJvbUNoYXJDb2RlKHUpLGkrPWM7fXJldHVybiBufSh0aGlzLmJ1ZixlLHQpfSxyZWFkQnl0ZXM6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnJlYWRWYXJpbnQoKSt0aGlzLnBvcyxlPXRoaXMuYnVmLnN1YmFycmF5KHRoaXMucG9zLHQpO3JldHVybiB0aGlzLnBvcz10LGV9LHJlYWRQYWNrZWRWYXJpbnQ6ZnVuY3Rpb24odCxlKXtpZih0aGlzLnR5cGUhPT1EaC5CeXRlcylyZXR1cm4gdC5wdXNoKHRoaXMucmVhZFZhcmludChlKSk7dmFyIHI9UmgodGhpcyk7Zm9yKHQ9dHx8W107dGhpcy5wb3M8cjspdC5wdXNoKHRoaXMucmVhZFZhcmludChlKSk7cmV0dXJuIHR9LHJlYWRQYWNrZWRTVmFyaW50OmZ1bmN0aW9uKHQpe2lmKHRoaXMudHlwZSE9PURoLkJ5dGVzKXJldHVybiB0LnB1c2godGhpcy5yZWFkU1ZhcmludCgpKTt2YXIgZT1SaCh0aGlzKTtmb3IodD10fHxbXTt0aGlzLnBvczxlOyl0LnB1c2godGhpcy5yZWFkU1ZhcmludCgpKTtyZXR1cm4gdH0scmVhZFBhY2tlZEJvb2xlYW46ZnVuY3Rpb24odCl7aWYodGhpcy50eXBlIT09RGguQnl0ZXMpcmV0dXJuIHQucHVzaCh0aGlzLnJlYWRCb29sZWFuKCkpO3ZhciBlPVJoKHRoaXMpO2Zvcih0PXR8fFtdO3RoaXMucG9zPGU7KXQucHVzaCh0aGlzLnJlYWRCb29sZWFuKCkpO3JldHVybiB0fSxyZWFkUGFja2VkRmxvYXQ6ZnVuY3Rpb24odCl7aWYodGhpcy50eXBlIT09RGguQnl0ZXMpcmV0dXJuIHQucHVzaCh0aGlzLnJlYWRGbG9hdCgpKTt2YXIgZT1SaCh0aGlzKTtmb3IodD10fHxbXTt0aGlzLnBvczxlOyl0LnB1c2godGhpcy5yZWFkRmxvYXQoKSk7cmV0dXJuIHR9LHJlYWRQYWNrZWREb3VibGU6ZnVuY3Rpb24odCl7aWYodGhpcy50eXBlIT09RGguQnl0ZXMpcmV0dXJuIHQucHVzaCh0aGlzLnJlYWREb3VibGUoKSk7dmFyIGU9UmgodGhpcyk7Zm9yKHQ9dHx8W107dGhpcy5wb3M8ZTspdC5wdXNoKHRoaXMucmVhZERvdWJsZSgpKTtyZXR1cm4gdH0scmVhZFBhY2tlZEZpeGVkMzI6ZnVuY3Rpb24odCl7aWYodGhpcy50eXBlIT09RGguQnl0ZXMpcmV0dXJuIHQucHVzaCh0aGlzLnJlYWRGaXhlZDMyKCkpO3ZhciBlPVJoKHRoaXMpO2Zvcih0PXR8fFtdO3RoaXMucG9zPGU7KXQucHVzaCh0aGlzLnJlYWRGaXhlZDMyKCkpO3JldHVybiB0fSxyZWFkUGFja2VkU0ZpeGVkMzI6ZnVuY3Rpb24odCl7aWYodGhpcy50eXBlIT09RGguQnl0ZXMpcmV0dXJuIHQucHVzaCh0aGlzLnJlYWRTRml4ZWQzMigpKTt2YXIgZT1SaCh0aGlzKTtmb3IodD10fHxbXTt0aGlzLnBvczxlOyl0LnB1c2godGhpcy5yZWFkU0ZpeGVkMzIoKSk7cmV0dXJuIHR9LHJlYWRQYWNrZWRGaXhlZDY0OmZ1bmN0aW9uKHQpe2lmKHRoaXMudHlwZSE9PURoLkJ5dGVzKXJldHVybiB0LnB1c2godGhpcy5yZWFkRml4ZWQ2NCgpKTt2YXIgZT1SaCh0aGlzKTtmb3IodD10fHxbXTt0aGlzLnBvczxlOyl0LnB1c2godGhpcy5yZWFkRml4ZWQ2NCgpKTtyZXR1cm4gdH0scmVhZFBhY2tlZFNGaXhlZDY0OmZ1bmN0aW9uKHQpe2lmKHRoaXMudHlwZSE9PURoLkJ5dGVzKXJldHVybiB0LnB1c2godGhpcy5yZWFkU0ZpeGVkNjQoKSk7dmFyIGU9UmgodGhpcyk7Zm9yKHQ9dHx8W107dGhpcy5wb3M8ZTspdC5wdXNoKHRoaXMucmVhZFNGaXhlZDY0KCkpO3JldHVybiB0fSxza2lwOmZ1bmN0aW9uKHQpe3ZhciBlPTcmdDtpZihlPT09RGguVmFyaW50KWZvcig7dGhpcy5idWZbdGhpcy5wb3MrK10+MTI3Oyk7ZWxzZSBpZihlPT09RGguQnl0ZXMpdGhpcy5wb3M9dGhpcy5yZWFkVmFyaW50KCkrdGhpcy5wb3M7ZWxzZSBpZihlPT09RGguRml4ZWQzMil0aGlzLnBvcys9NDtlbHNlIHtpZihlIT09RGguRml4ZWQ2NCl0aHJvdyBuZXcgRXJyb3IoXCJVbmltcGxlbWVudGVkIHR5cGU6IFwiK2UpO3RoaXMucG9zKz04O319LHdyaXRlVGFnOmZ1bmN0aW9uKHQsZSl7dGhpcy53cml0ZVZhcmludCh0PDwzfGUpO30scmVhbGxvYzpmdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5sZW5ndGh8fDE2O2U8dGhpcy5wb3MrdDspZSo9MjtpZihlIT09dGhpcy5sZW5ndGgpe3ZhciByPW5ldyBVaW50OEFycmF5KGUpO3Iuc2V0KHRoaXMuYnVmKSx0aGlzLmJ1Zj1yLHRoaXMubGVuZ3RoPWU7fX0sZmluaXNoOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGVuZ3RoPXRoaXMucG9zLHRoaXMucG9zPTAsdGhpcy5idWYuc3ViYXJyYXkoMCx0aGlzLmxlbmd0aCl9LHdyaXRlRml4ZWQzMjpmdW5jdGlvbih0KXt0aGlzLnJlYWxsb2MoNCksV2godGhpcy5idWYsdCx0aGlzLnBvcyksdGhpcy5wb3MrPTQ7fSx3cml0ZVNGaXhlZDMyOmZ1bmN0aW9uKHQpe3RoaXMucmVhbGxvYyg0KSxXaCh0aGlzLmJ1Zix0LHRoaXMucG9zKSx0aGlzLnBvcys9NDt9LHdyaXRlRml4ZWQ2NDpmdW5jdGlvbih0KXt0aGlzLnJlYWxsb2MoOCksV2godGhpcy5idWYsLTEmdCx0aGlzLnBvcyksV2godGhpcy5idWYsTWF0aC5mbG9vcih0KkZoKSx0aGlzLnBvcys0KSx0aGlzLnBvcys9ODt9LHdyaXRlU0ZpeGVkNjQ6ZnVuY3Rpb24odCl7dGhpcy5yZWFsbG9jKDgpLFdoKHRoaXMuYnVmLC0xJnQsdGhpcy5wb3MpLFdoKHRoaXMuYnVmLE1hdGguZmxvb3IodCpGaCksdGhpcy5wb3MrNCksdGhpcy5wb3MrPTg7fSx3cml0ZVZhcmludDpmdW5jdGlvbih0KXsodD0rdHx8MCk+MjY4NDM1NDU1fHx0PDA/ZnVuY3Rpb24odCxlKXt2YXIgcixuO2lmKHQ+PTA/KHI9dCU0Mjk0OTY3Mjk2fDAsbj10LzQyOTQ5NjcyOTZ8MCk6KG49figtdC80Mjk0OTY3Mjk2KSw0Mjk0OTY3Mjk1XihyPX4oLXQlNDI5NDk2NzI5NikpP3I9cisxfDA6KHI9MCxuPW4rMXwwKSksdD49MHgxMDAwMDAwMDAwMDAwMDAwMHx8dDwtMHgxMDAwMDAwMDAwMDAwMDAwMCl0aHJvdyBuZXcgRXJyb3IoXCJHaXZlbiB2YXJpbnQgZG9lc24ndCBmaXQgaW50byAxMCBieXRlc1wiKTtlLnJlYWxsb2MoMTApLGZ1bmN0aW9uKHQsZSxyKXtyLmJ1ZltyLnBvcysrXT0xMjcmdHwxMjgsdD4+Pj03LHIuYnVmW3IucG9zKytdPTEyNyZ0fDEyOCx0Pj4+PTcsci5idWZbci5wb3MrK109MTI3JnR8MTI4LHQ+Pj49NyxyLmJ1ZltyLnBvcysrXT0xMjcmdHwxMjgsci5idWZbci5wb3NdPTEyNyYodD4+Pj03KTt9KHIsMCxlKSxmdW5jdGlvbih0LGUpe3ZhciByPSg3JnQpPDw0O2UuYnVmW2UucG9zKytdfD1yfCgodD4+Pj0zKT8xMjg6MCksdCYmKGUuYnVmW2UucG9zKytdPTEyNyZ0fCgodD4+Pj03KT8xMjg6MCksdCYmKGUuYnVmW2UucG9zKytdPTEyNyZ0fCgodD4+Pj03KT8xMjg6MCksdCYmKGUuYnVmW2UucG9zKytdPTEyNyZ0fCgodD4+Pj03KT8xMjg6MCksdCYmKGUuYnVmW2UucG9zKytdPTEyNyZ0fCgodD4+Pj03KT8xMjg6MCksdCYmKGUuYnVmW2UucG9zKytdPTEyNyZ0KSkpKSk7fShuLGUpO30odCx0aGlzKToodGhpcy5yZWFsbG9jKDQpLHRoaXMuYnVmW3RoaXMucG9zKytdPTEyNyZ0fCh0PjEyNz8xMjg6MCksdDw9MTI3fHwodGhpcy5idWZbdGhpcy5wb3MrK109MTI3Jih0Pj4+PTcpfCh0PjEyNz8xMjg6MCksdDw9MTI3fHwodGhpcy5idWZbdGhpcy5wb3MrK109MTI3Jih0Pj4+PTcpfCh0PjEyNz8xMjg6MCksdDw9MTI3fHwodGhpcy5idWZbdGhpcy5wb3MrK109dD4+PjcmMTI3KSkpKTt9LHdyaXRlU1ZhcmludDpmdW5jdGlvbih0KXt0aGlzLndyaXRlVmFyaW50KHQ8MD8yKi10LTE6Mip0KTt9LHdyaXRlQm9vbGVhbjpmdW5jdGlvbih0KXt0aGlzLndyaXRlVmFyaW50KEJvb2xlYW4odCkpO30sd3JpdGVTdHJpbmc6ZnVuY3Rpb24odCl7dD1TdHJpbmcodCksdGhpcy5yZWFsbG9jKDQqdC5sZW5ndGgpLHRoaXMucG9zKys7dmFyIGU9dGhpcy5wb3M7dGhpcy5wb3M9ZnVuY3Rpb24odCxlLHIpe2Zvcih2YXIgbixpLHM9MDtzPGUubGVuZ3RoO3MrKyl7aWYoKG49ZS5jaGFyQ29kZUF0KHMpKT41NTI5NSYmbjw1NzM0NCl7aWYoIWkpe24+NTYzMTl8fHMrMT09PWUubGVuZ3RoPyh0W3IrK109MjM5LHRbcisrXT0xOTEsdFtyKytdPTE4OSk6aT1uO2NvbnRpbnVlfWlmKG48NTYzMjApe3RbcisrXT0yMzksdFtyKytdPTE5MSx0W3IrK109MTg5LGk9bjtjb250aW51ZX1uPWktNTUyOTY8PDEwfG4tNTYzMjB8NjU1MzYsaT1udWxsO31lbHNlIGkmJih0W3IrK109MjM5LHRbcisrXT0xOTEsdFtyKytdPTE4OSxpPW51bGwpO248MTI4P3RbcisrXT1uOihuPDIwNDg/dFtyKytdPW4+PjZ8MTkyOihuPDY1NTM2P3RbcisrXT1uPj4xMnwyMjQ6KHRbcisrXT1uPj4xOHwyNDAsdFtyKytdPW4+PjEyJjYzfDEyOCksdFtyKytdPW4+PjYmNjN8MTI4KSx0W3IrK109NjMmbnwxMjgpO31yZXR1cm4gcn0odGhpcy5idWYsdCx0aGlzLnBvcyk7dmFyIHI9dGhpcy5wb3MtZTtyPj0xMjgmJmpoKGUscix0aGlzKSx0aGlzLnBvcz1lLTEsdGhpcy53cml0ZVZhcmludChyKSx0aGlzLnBvcys9cjt9LHdyaXRlRmxvYXQ6ZnVuY3Rpb24odCl7dGhpcy5yZWFsbG9jKDQpLENoKHRoaXMuYnVmLHQsdGhpcy5wb3MsITAsMjMsNCksdGhpcy5wb3MrPTQ7fSx3cml0ZURvdWJsZTpmdW5jdGlvbih0KXt0aGlzLnJlYWxsb2MoOCksQ2godGhpcy5idWYsdCx0aGlzLnBvcywhMCw1Miw4KSx0aGlzLnBvcys9ODt9LHdyaXRlQnl0ZXM6ZnVuY3Rpb24odCl7dmFyIGU9dC5sZW5ndGg7dGhpcy53cml0ZVZhcmludChlKSx0aGlzLnJlYWxsb2MoZSk7Zm9yKHZhciByPTA7cjxlO3IrKyl0aGlzLmJ1Zlt0aGlzLnBvcysrXT10W3JdO30sd3JpdGVSYXdNZXNzYWdlOmZ1bmN0aW9uKHQsZSl7dGhpcy5wb3MrKzt2YXIgcj10aGlzLnBvczt0KGUsdGhpcyk7dmFyIG49dGhpcy5wb3MtcjtuPj0xMjgmJmpoKHIsbix0aGlzKSx0aGlzLnBvcz1yLTEsdGhpcy53cml0ZVZhcmludChuKSx0aGlzLnBvcys9bjt9LHdyaXRlTWVzc2FnZTpmdW5jdGlvbih0LGUscil7dGhpcy53cml0ZVRhZyh0LERoLkJ5dGVzKSx0aGlzLndyaXRlUmF3TWVzc2FnZShlLHIpO30sd3JpdGVQYWNrZWRWYXJpbnQ6ZnVuY3Rpb24odCxlKXtlLmxlbmd0aCYmdGhpcy53cml0ZU1lc3NhZ2UodCwkaCxlKTt9LHdyaXRlUGFja2VkU1ZhcmludDpmdW5jdGlvbih0LGUpe2UubGVuZ3RoJiZ0aGlzLndyaXRlTWVzc2FnZSh0LE9oLGUpO30sd3JpdGVQYWNrZWRCb29sZWFuOmZ1bmN0aW9uKHQsZSl7ZS5sZW5ndGgmJnRoaXMud3JpdGVNZXNzYWdlKHQsR2gsZSk7fSx3cml0ZVBhY2tlZEZsb2F0OmZ1bmN0aW9uKHQsZSl7ZS5sZW5ndGgmJnRoaXMud3JpdGVNZXNzYWdlKHQscWgsZSk7fSx3cml0ZVBhY2tlZERvdWJsZTpmdW5jdGlvbih0LGUpe2UubGVuZ3RoJiZ0aGlzLndyaXRlTWVzc2FnZSh0LE5oLGUpO30sd3JpdGVQYWNrZWRGaXhlZDMyOmZ1bmN0aW9uKHQsZSl7ZS5sZW5ndGgmJnRoaXMud3JpdGVNZXNzYWdlKHQsWmgsZSk7fSx3cml0ZVBhY2tlZFNGaXhlZDMyOmZ1bmN0aW9uKHQsZSl7ZS5sZW5ndGgmJnRoaXMud3JpdGVNZXNzYWdlKHQsWGgsZSk7fSx3cml0ZVBhY2tlZEZpeGVkNjQ6ZnVuY3Rpb24odCxlKXtlLmxlbmd0aCYmdGhpcy53cml0ZU1lc3NhZ2UodCxLaCxlKTt9LHdyaXRlUGFja2VkU0ZpeGVkNjQ6ZnVuY3Rpb24odCxlKXtlLmxlbmd0aCYmdGhpcy53cml0ZU1lc3NhZ2UodCxIaCxlKTt9LHdyaXRlQnl0ZXNGaWVsZDpmdW5jdGlvbih0LGUpe3RoaXMud3JpdGVUYWcodCxEaC5CeXRlcyksdGhpcy53cml0ZUJ5dGVzKGUpO30sd3JpdGVGaXhlZDMyRmllbGQ6ZnVuY3Rpb24odCxlKXt0aGlzLndyaXRlVGFnKHQsRGguRml4ZWQzMiksdGhpcy53cml0ZUZpeGVkMzIoZSk7fSx3cml0ZVNGaXhlZDMyRmllbGQ6ZnVuY3Rpb24odCxlKXt0aGlzLndyaXRlVGFnKHQsRGguRml4ZWQzMiksdGhpcy53cml0ZVNGaXhlZDMyKGUpO30sd3JpdGVGaXhlZDY0RmllbGQ6ZnVuY3Rpb24odCxlKXt0aGlzLndyaXRlVGFnKHQsRGguRml4ZWQ2NCksdGhpcy53cml0ZUZpeGVkNjQoZSk7fSx3cml0ZVNGaXhlZDY0RmllbGQ6ZnVuY3Rpb24odCxlKXt0aGlzLndyaXRlVGFnKHQsRGguRml4ZWQ2NCksdGhpcy53cml0ZVNGaXhlZDY0KGUpO30sd3JpdGVWYXJpbnRGaWVsZDpmdW5jdGlvbih0LGUpe3RoaXMud3JpdGVUYWcodCxEaC5WYXJpbnQpLHRoaXMud3JpdGVWYXJpbnQoZSk7fSx3cml0ZVNWYXJpbnRGaWVsZDpmdW5jdGlvbih0LGUpe3RoaXMud3JpdGVUYWcodCxEaC5WYXJpbnQpLHRoaXMud3JpdGVTVmFyaW50KGUpO30sd3JpdGVTdHJpbmdGaWVsZDpmdW5jdGlvbih0LGUpe3RoaXMud3JpdGVUYWcodCxEaC5CeXRlcyksdGhpcy53cml0ZVN0cmluZyhlKTt9LHdyaXRlRmxvYXRGaWVsZDpmdW5jdGlvbih0LGUpe3RoaXMud3JpdGVUYWcodCxEaC5GaXhlZDMyKSx0aGlzLndyaXRlRmxvYXQoZSk7fSx3cml0ZURvdWJsZUZpZWxkOmZ1bmN0aW9uKHQsZSl7dGhpcy53cml0ZVRhZyh0LERoLkZpeGVkNjQpLHRoaXMud3JpdGVEb3VibGUoZSk7fSx3cml0ZUJvb2xlYW5GaWVsZDpmdW5jdGlvbih0LGUpe3RoaXMud3JpdGVWYXJpbnRGaWVsZCh0LEJvb2xlYW4oZSkpO319O2NsYXNzIG5we2NvbnN0cnVjdG9yKHQse3BpeGVsUmF0aW86ZSx2ZXJzaW9uOnIsc3RyZXRjaFg6bixzdHJldGNoWTppLGNvbnRlbnQ6c30pe3RoaXMucGFkZGVkUmVjdD10LHRoaXMucGl4ZWxSYXRpbz1lLHRoaXMuc3RyZXRjaFg9bix0aGlzLnN0cmV0Y2hZPWksdGhpcy5jb250ZW50PXMsdGhpcy52ZXJzaW9uPXI7fWdldCB0bCgpe3JldHVybiBbdGhpcy5wYWRkZWRSZWN0LngrMSx0aGlzLnBhZGRlZFJlY3QueSsxXX1nZXQgYnIoKXtyZXR1cm4gW3RoaXMucGFkZGVkUmVjdC54K3RoaXMucGFkZGVkUmVjdC53LTEsdGhpcy5wYWRkZWRSZWN0LnkrdGhpcy5wYWRkZWRSZWN0LmgtMV19Z2V0IGRpc3BsYXlTaXplKCl7cmV0dXJuIFsodGhpcy5wYWRkZWRSZWN0LnctMikvdGhpcy5waXhlbFJhdGlvLCh0aGlzLnBhZGRlZFJlY3QuaC0yKS90aGlzLnBpeGVsUmF0aW9dfX1jbGFzcyBpcHtjb25zdHJ1Y3Rvcih0LGUpe2NvbnN0IHI9e30sbj17fTt0aGlzLmhhdmVSZW5kZXJDYWxsYmFja3M9W107Y29uc3QgaT1bXTt0aGlzLmFkZEltYWdlcyh0LHIsaSksdGhpcy5hZGRJbWFnZXMoZSxuLGkpO2NvbnN0e3c6cyxoOmF9PXJwKGkpLG89bmV3IEF1KHt3aWR0aDpzfHwxLGhlaWdodDphfHwxfSk7Zm9yKGNvbnN0IGUgaW4gdCl7Y29uc3Qgbj10W2VdLGk9cltlXS5wYWRkZWRSZWN0O0F1LmNvcHkobi5kYXRhLG8se3g6MCx5OjB9LHt4OmkueCsxLHk6aS55KzF9LG4uZGF0YSk7fWZvcihjb25zdCB0IGluIGUpe2NvbnN0IHI9ZVt0XSxpPW5bdF0ucGFkZGVkUmVjdCxzPWkueCsxLGE9aS55KzEsbD1yLmRhdGEud2lkdGgsdT1yLmRhdGEuaGVpZ2h0O0F1LmNvcHkoci5kYXRhLG8se3g6MCx5OjB9LHt4OnMseTphfSxyLmRhdGEpLEF1LmNvcHkoci5kYXRhLG8se3g6MCx5OnUtMX0se3g6cyx5OmEtMX0se3dpZHRoOmwsaGVpZ2h0OjF9KSxBdS5jb3B5KHIuZGF0YSxvLHt4OjAseTowfSx7eDpzLHk6YSt1fSx7d2lkdGg6bCxoZWlnaHQ6MX0pLEF1LmNvcHkoci5kYXRhLG8se3g6bC0xLHk6MH0se3g6cy0xLHk6YX0se3dpZHRoOjEsaGVpZ2h0OnV9KSxBdS5jb3B5KHIuZGF0YSxvLHt4OjAseTowfSx7eDpzK2wseTphfSx7d2lkdGg6MSxoZWlnaHQ6dX0pO310aGlzLmltYWdlPW8sdGhpcy5pY29uUG9zaXRpb25zPXIsdGhpcy5wYXR0ZXJuUG9zaXRpb25zPW47fWFkZEltYWdlcyh0LGUscil7Zm9yKGNvbnN0IG4gaW4gdCl7Y29uc3QgaT10W25dLHM9e3g6MCx5OjAsdzppLmRhdGEud2lkdGgrMixoOmkuZGF0YS5oZWlnaHQrMn07ci5wdXNoKHMpLGVbbl09bmV3IG5wKHMsaSksaS5oYXNSZW5kZXJDYWxsYmFjayYmdGhpcy5oYXZlUmVuZGVyQ2FsbGJhY2tzLnB1c2gobik7fX1wYXRjaFVwZGF0ZWRJbWFnZXModCxlKXt0aGlzLmhhdmVSZW5kZXJDYWxsYmFja3M9dGhpcy5oYXZlUmVuZGVyQ2FsbGJhY2tzLmZpbHRlcigoZT0+dC5oYXNJbWFnZShlKSkpLHQuZGlzcGF0Y2hSZW5kZXJDYWxsYmFja3ModGhpcy5oYXZlUmVuZGVyQ2FsbGJhY2tzKTtmb3IoY29uc3QgciBpbiB0LnVwZGF0ZWRJbWFnZXMpdGhpcy5wYXRjaFVwZGF0ZWRJbWFnZSh0aGlzLmljb25Qb3NpdGlvbnNbcl0sdC5nZXRJbWFnZShyKSxlKSx0aGlzLnBhdGNoVXBkYXRlZEltYWdlKHRoaXMucGF0dGVyblBvc2l0aW9uc1tyXSx0LmdldEltYWdlKHIpLGUpO31wYXRjaFVwZGF0ZWRJbWFnZSh0LGUscil7aWYoIXR8fCFlKXJldHVybjtpZih0LnZlcnNpb249PT1lLnZlcnNpb24pcmV0dXJuO3QudmVyc2lvbj1lLnZlcnNpb247Y29uc3RbbixpXT10LnRsO3IudXBkYXRlKGUuZGF0YSx2b2lkIDAse3g6bix5Oml9KTt9fWppKG5wLFwiSW1hZ2VQb3NpdGlvblwiKSxqaShpcCxcIkltYWdlQXRsYXNcIik7Y29uc3Qgc3A9e2hvcml6b250YWw6MSx2ZXJ0aWNhbDoyLGhvcml6b250YWxPbmx5OjN9O2NsYXNzIGFwe2NvbnN0cnVjdG9yKCl7dGhpcy5zY2FsZT0xLHRoaXMuZm9udFN0YWNrPVwiXCIsdGhpcy5pbWFnZU5hbWU9bnVsbDt9c3RhdGljIGZvclRleHQodCxlKXtjb25zdCByPW5ldyBhcDtyZXR1cm4gci5zY2FsZT10fHwxLHIuZm9udFN0YWNrPWUscn1zdGF0aWMgZm9ySW1hZ2UodCl7Y29uc3QgZT1uZXcgYXA7cmV0dXJuIGUuaW1hZ2VOYW1lPXQsZX19Y2xhc3Mgb3B7Y29uc3RydWN0b3IoKXt0aGlzLnRleHQ9XCJcIix0aGlzLnNlY3Rpb25JbmRleD1bXSx0aGlzLnNlY3Rpb25zPVtdLHRoaXMuaW1hZ2VTZWN0aW9uSUQ9bnVsbDt9c3RhdGljIGZyb21GZWF0dXJlKHQsZSl7Y29uc3Qgcj1uZXcgb3A7Zm9yKGxldCBuPTA7bjx0LnNlY3Rpb25zLmxlbmd0aDtuKyspe2NvbnN0IGk9dC5zZWN0aW9uc1tuXTtpLmltYWdlP3IuYWRkSW1hZ2VTZWN0aW9uKGkpOnIuYWRkVGV4dFNlY3Rpb24oaSxlKTt9cmV0dXJuIHJ9bGVuZ3RoKCl7cmV0dXJuIHRoaXMudGV4dC5sZW5ndGh9Z2V0U2VjdGlvbih0KXtyZXR1cm4gdGhpcy5zZWN0aW9uc1t0aGlzLnNlY3Rpb25JbmRleFt0XV19Z2V0U2VjdGlvbnMoKXtyZXR1cm4gdGhpcy5zZWN0aW9uc31nZXRTZWN0aW9uSW5kZXgodCl7cmV0dXJuIHRoaXMuc2VjdGlvbkluZGV4W3RdfWdldENoYXJDb2RlKHQpe3JldHVybiB0aGlzLnRleHQuY2hhckNvZGVBdCh0KX12ZXJ0aWNhbGl6ZVB1bmN0dWF0aW9uKHQpe3RoaXMudGV4dD1mdW5jdGlvbih0LGUpe2xldCByPVwiXCI7Zm9yKGxldCBuPTA7bjx0Lmxlbmd0aDtuKyspe2NvbnN0IGk9dC5jaGFyQ29kZUF0KG4rMSl8fG51bGwscz10LmNoYXJDb2RlQXQobi0xKXx8bnVsbDtyKz0hZSYmKGkmJkFzKGkpJiYhemhbdFtuKzFdXXx8cyYmQXMocykmJiF6aFt0W24tMV1dKXx8IXpoW3Rbbl1dP3Rbbl06emhbdFtuXV07fXJldHVybiByfSh0aGlzLnRleHQsdCk7fXRyaW0oKXtsZXQgdD0wO2ZvcihsZXQgZT0wO2U8dGhpcy50ZXh0Lmxlbmd0aCYmdXBbdGhpcy50ZXh0LmNoYXJDb2RlQXQoZSldO2UrKyl0Kys7bGV0IGU9dGhpcy50ZXh0Lmxlbmd0aDtmb3IobGV0IHI9dGhpcy50ZXh0Lmxlbmd0aC0xO3I+PTAmJnI+PXQmJnVwW3RoaXMudGV4dC5jaGFyQ29kZUF0KHIpXTtyLS0pZS0tO3RoaXMudGV4dD10aGlzLnRleHQuc3Vic3RyaW5nKHQsZSksdGhpcy5zZWN0aW9uSW5kZXg9dGhpcy5zZWN0aW9uSW5kZXguc2xpY2UodCxlKTt9c3Vic3RyaW5nKHQsZSl7Y29uc3Qgcj1uZXcgb3A7cmV0dXJuIHIudGV4dD10aGlzLnRleHQuc3Vic3RyaW5nKHQsZSksci5zZWN0aW9uSW5kZXg9dGhpcy5zZWN0aW9uSW5kZXguc2xpY2UodCxlKSxyLnNlY3Rpb25zPXRoaXMuc2VjdGlvbnMscn10b1N0cmluZygpe3JldHVybiB0aGlzLnRleHR9Z2V0TWF4U2NhbGUoKXtyZXR1cm4gdGhpcy5zZWN0aW9uSW5kZXgucmVkdWNlKCgodCxlKT0+TWF0aC5tYXgodCx0aGlzLnNlY3Rpb25zW2VdLnNjYWxlKSksMCl9YWRkVGV4dFNlY3Rpb24odCxlKXt0aGlzLnRleHQrPXQudGV4dCx0aGlzLnNlY3Rpb25zLnB1c2goYXAuZm9yVGV4dCh0LnNjYWxlLHQuZm9udFN0YWNrfHxlKSk7Y29uc3Qgcj10aGlzLnNlY3Rpb25zLmxlbmd0aC0xO2ZvcihsZXQgZT0wO2U8dC50ZXh0Lmxlbmd0aDsrK2UpdGhpcy5zZWN0aW9uSW5kZXgucHVzaChyKTt9YWRkSW1hZ2VTZWN0aW9uKHQpe2NvbnN0IGU9dC5pbWFnZT90LmltYWdlLm5hbWU6XCJcIjtpZigwPT09ZS5sZW5ndGgpcmV0dXJuIHZvaWQgJChcIkNhbid0IGFkZCBGb3JtYXR0ZWRTZWN0aW9uIHdpdGggYW4gZW1wdHkgaW1hZ2UuXCIpO2NvbnN0IHI9dGhpcy5nZXROZXh0SW1hZ2VTZWN0aW9uQ2hhckNvZGUoKTtyPyh0aGlzLnRleHQrPVN0cmluZy5mcm9tQ2hhckNvZGUociksdGhpcy5zZWN0aW9ucy5wdXNoKGFwLmZvckltYWdlKGUpKSx0aGlzLnNlY3Rpb25JbmRleC5wdXNoKHRoaXMuc2VjdGlvbnMubGVuZ3RoLTEpKTokKFwiUmVhY2hlZCBtYXhpbXVtIG51bWJlciBvZiBpbWFnZXMgNjQwMVwiKTt9Z2V0TmV4dEltYWdlU2VjdGlvbkNoYXJDb2RlKCl7cmV0dXJuIHRoaXMuaW1hZ2VTZWN0aW9uSUQ/dGhpcy5pbWFnZVNlY3Rpb25JRD49NjM3NDM/bnVsbDorK3RoaXMuaW1hZ2VTZWN0aW9uSUQ6KHRoaXMuaW1hZ2VTZWN0aW9uSUQ9NTczNDQsdGhpcy5pbWFnZVNlY3Rpb25JRCl9fWZ1bmN0aW9uIGxwKHQsZSxyLG4saSxzLGEsbyxsLHUsYyxoLHAsZixkLHkpe2NvbnN0IG09b3AuZnJvbUZlYXR1cmUodCxpKTtsZXQgZztoPT09c3AudmVydGljYWwmJm0udmVydGljYWxpemVQdW5jdHVhdGlvbihwKTtjb25zdHtwcm9jZXNzQmlkaXJlY3Rpb25hbFRleHQ6eCxwcm9jZXNzU3R5bGVkQmlkaXJlY3Rpb25hbFRleHQ6dn09UnM7aWYoeCYmMT09PW0uc2VjdGlvbnMubGVuZ3RoKXtnPVtdO2NvbnN0IHQ9eChtLnRvU3RyaW5nKCksbXAobSx1LHMsZSxuLGYsZCkpO2Zvcihjb25zdCBlIG9mIHQpe2NvbnN0IHQ9bmV3IG9wO3QudGV4dD1lLHQuc2VjdGlvbnM9bS5zZWN0aW9ucztmb3IobGV0IHI9MDtyPGUubGVuZ3RoO3IrKyl0LnNlY3Rpb25JbmRleC5wdXNoKDApO2cucHVzaCh0KTt9fWVsc2UgaWYodil7Zz1bXTtjb25zdCB0PXYobS50ZXh0LG0uc2VjdGlvbkluZGV4LG1wKG0sdSxzLGUsbixmLGQpKTtmb3IoY29uc3QgZSBvZiB0KXtjb25zdCB0PW5ldyBvcDt0LnRleHQ9ZVswXSx0LnNlY3Rpb25JbmRleD1lWzFdLHQuc2VjdGlvbnM9bS5zZWN0aW9ucyxnLnB1c2godCk7fX1lbHNlIGc9ZnVuY3Rpb24odCxlKXtjb25zdCByPVtdLG49dC50ZXh0O2xldCBpPTA7Zm9yKGNvbnN0IG4gb2YgZSlyLnB1c2godC5zdWJzdHJpbmcoaSxuKSksaT1uO3JldHVybiBpPG4ubGVuZ3RoJiZyLnB1c2godC5zdWJzdHJpbmcoaSxuLmxlbmd0aCkpLHJ9KG0sbXAobSx1LHMsZSxuLGYsZCkpO2NvbnN0IGI9W10sXz17cG9zaXRpb25lZExpbmVzOmIsdGV4dDptLnRvU3RyaW5nKCksdG9wOmNbMV0sYm90dG9tOmNbMV0sbGVmdDpjWzBdLHJpZ2h0OmNbMF0sd3JpdGluZ01vZGU6aCxpY29uc0luVGV4dDohMSx2ZXJ0aWNhbGl6YWJsZTohMSxoYXNCYXNlbGluZTohMX07cmV0dXJuIGZ1bmN0aW9uKHQsZSxyLG4saSxzLGEsbyxsLHUsYyxoKXtsZXQgcD0wLGY9MCxkPTA7Y29uc3QgeT1cInJpZ2h0XCI9PT1vPzE6XCJsZWZ0XCI9PT1vPzA6LjU7bGV0IG09ITE7Zm9yKGNvbnN0IHQgb2YgaSl7Y29uc3Qgcj10LmdldFNlY3Rpb25zKCk7Zm9yKGNvbnN0IHQgb2Ygcil7aWYodC5pbWFnZU5hbWUpY29udGludWU7Y29uc3Qgcj1lW3QuZm9udFN0YWNrXTtpZihyJiYobT12b2lkIDAhPT1yLmFzY2VuZGVyJiZ2b2lkIDAhPT1yLmRlc2NlbmRlciwhbSkpYnJlYWt9aWYoIW0pYnJlYWt9bGV0IGc9MDtmb3IoY29uc3QgYSBvZiBpKXthLnRyaW0oKTtjb25zdCBpPWEuZ2V0TWF4U2NhbGUoKSxvPShpLTEpKl9oLHY9e3Bvc2l0aW9uZWRHbHlwaHM6W10sbGluZU9mZnNldDowfTt0LnBvc2l0aW9uZWRMaW5lc1tnXT12O2NvbnN0IGI9di5wb3NpdGlvbmVkR2x5cGhzO2xldCBfPTA7aWYoIWEubGVuZ3RoKCkpe2YrPXMsKytnO2NvbnRpbnVlfWxldCB3PTAsQT0wO2ZvcihsZXQgcz0wO3M8YS5sZW5ndGgoKTtzKyspe2NvbnN0IG89YS5nZXRTZWN0aW9uKHMpLGQ9YS5nZXRTZWN0aW9uSW5kZXgocykseT1hLmdldENoYXJDb2RlKHMpO2xldCBnPW8uc2NhbGUsdj1udWxsLFM9bnVsbCxrPW51bGwsST1faCxNPTA7Y29uc3Qgej0hKGw9PT1zcC5ob3Jpem9udGFsfHwhYyYmIXdzKHkpfHxjJiYodXBbeV18fCh4PXksWmkoeCl8fFhpKHgpfHxLaSh4KXx8ZnMoeCl8fGdzKHgpKSkpO2lmKG8uaW1hZ2VOYW1lKXtjb25zdCBlPW5bby5pbWFnZU5hbWVdO2lmKCFlKWNvbnRpbnVlO2s9by5pbWFnZU5hbWUsdC5pY29uc0luVGV4dD10Lmljb25zSW5UZXh0fHwhMCxTPWUucGFkZGVkUmVjdDtjb25zdCByPWUuZGlzcGxheVNpemU7Zz1nKl9oL2gsdj17d2lkdGg6clswXSxoZWlnaHQ6clsxXSxsZWZ0OjEsdG9wOi0zLGFkdmFuY2U6ej9yWzFdOnJbMF0sbG9jYWxHbHlwaDohMX0sTT1tPy12LmhlaWdodCpnOmkqX2gtMTctclsxXSpnLEk9di5hZHZhbmNlO2NvbnN0IHM9KHo/clswXTpyWzFdKSpnLV9oKmk7cz4wJiZzPl8mJihfPXMpO31lbHNlIHtjb25zdCB0PXJbby5mb250U3RhY2tdO2lmKCF0KWNvbnRpbnVlO3RbeV0mJihTPXRbeV0pO2NvbnN0IG49ZVtvLmZvbnRTdGFja107aWYoIW4pY29udGludWU7Y29uc3Qgcz1uLmdseXBoc1t5XTtpZighcyljb250aW51ZTtpZih2PXMubWV0cmljcyxJPTgyMDMhPT15P19oOjAsbSl7Y29uc3QgdD12b2lkIDAhPT1uLmFzY2VuZGVyP01hdGguYWJzKG4uYXNjZW5kZXIpOjAsZT12b2lkIDAhPT1uLmRlc2NlbmRlcj9NYXRoLmFicyhuLmRlc2NlbmRlcik6MCxyPSh0K2UpKmc7dzxyJiYodz1yLEE9KHQtZSkvMipnKSxNPS10Kmc7fWVsc2UgTT0oaS1nKSpfaC0xNzt9ej8odC52ZXJ0aWNhbGl6YWJsZT0hMCxiLnB1c2goe2dseXBoOnksaW1hZ2VOYW1lOmsseDpwLHk6ZitNLHZlcnRpY2FsOnosc2NhbGU6Zyxsb2NhbEdseXBoOnYubG9jYWxHbHlwaCxmb250U3RhY2s6by5mb250U3RhY2ssc2VjdGlvbkluZGV4OmQsbWV0cmljczp2LHJlY3Q6U30pLHArPUkqZyt1KTooYi5wdXNoKHtnbHlwaDp5LGltYWdlTmFtZTprLHg6cCx5OmYrTSx2ZXJ0aWNhbDp6LHNjYWxlOmcsbG9jYWxHbHlwaDp2LmxvY2FsR2x5cGgsZm9udFN0YWNrOm8uZm9udFN0YWNrLHNlY3Rpb25JbmRleDpkLG1ldHJpY3M6dixyZWN0OlN9KSxwKz12LmFkdmFuY2UqZyt1KTt9MCE9PWIubGVuZ3RoJiYoZD1NYXRoLm1heChwLXUsZCksbT94cChiLHksXyxBLHMqaS8yKTp4cChiLHksXywwLHMvMikpLHA9MDtjb25zdCBTPXMqaStfO3YubGluZU9mZnNldD1NYXRoLm1heChfLG8pLGYrPVMsKytnO312YXIgeDtjb25zdCB2PWYse2hvcml6b250YWxBbGlnbjpiLHZlcnRpY2FsQWxpZ246X309Z3AoYSk7KChmdW5jdGlvbih0LGUscixuLGkscyl7Y29uc3QgYT0oZS1yKSppLG89LXMqbjtmb3IoY29uc3QgZSBvZiB0KWZvcihjb25zdCB0IG9mIGUucG9zaXRpb25lZEdseXBocyl0LngrPWEsdC55Kz1vO30pKSh0LnBvc2l0aW9uZWRMaW5lcyx5LGIsXyxkLHYpLHQudG9wKz0tXyp2LHQuYm90dG9tPXQudG9wK3YsdC5sZWZ0Kz0tYipkLHQucmlnaHQ9dC5sZWZ0K2QsdC5oYXNCYXNlbGluZT1tO30oXyxlLHIsbixnLGEsbyxsLGgsdSxwLHkpLCFmdW5jdGlvbih0KXtmb3IoY29uc3QgZSBvZiB0KWlmKDAhPT1lLnBvc2l0aW9uZWRHbHlwaHMubGVuZ3RoKXJldHVybiAhMTtyZXR1cm4gITB9KGIpJiZffWNvbnN0IHVwPXs5OiEwLDEwOiEwLDExOiEwLDEyOiEwLDEzOiEwLDMyOiEwfSxjcD17MTA6ITAsMzI6ITAsMzg6ITAsNDA6ITAsNDE6ITAsNDM6ITAsNDU6ITAsNDc6ITAsMTczOiEwLDE4MzohMCw4MjAzOiEwLDgyMDg6ITAsODIxMTohMCw4MjMxOiEwfTtmdW5jdGlvbiBocCh0LGUscixuLGkscyl7aWYoZS5pbWFnZU5hbWUpe2NvbnN0IHQ9bltlLmltYWdlTmFtZV07cmV0dXJuIHQ/dC5kaXNwbGF5U2l6ZVswXSplLnNjYWxlKl9oL3MraTowfXtjb25zdCBuPXJbZS5mb250U3RhY2tdLHM9biYmbi5nbHlwaHNbdF07cmV0dXJuIHM/cy5tZXRyaWNzLmFkdmFuY2UqZS5zY2FsZStpOjB9fWZ1bmN0aW9uIHBwKHQsZSxyLG4pe2NvbnN0IGk9TWF0aC5wb3codC1lLDIpO3JldHVybiBuP3Q8ZT9pLzI6MippOmkrTWF0aC5hYnMocikqcn1mdW5jdGlvbiBmcCh0LGUscil7bGV0IG49MDtyZXR1cm4gMTA9PT10JiYobi09MWU0KSxyJiYobis9MTUwKSw0MCE9PXQmJjY1Mjg4IT09dHx8KG4rPTUwKSw0MSE9PWUmJjY1Mjg5IT09ZXx8KG4rPTUwKSxufWZ1bmN0aW9uIGRwKHQsZSxyLG4saSxzKXtsZXQgYT1udWxsLG89cHAoZSxyLGkscyk7Zm9yKGNvbnN0IHQgb2Ygbil7Y29uc3Qgbj1wcChlLXQueCxyLGkscykrdC5iYWRuZXNzO248PW8mJihhPXQsbz1uKTt9cmV0dXJuIHtpbmRleDp0LHg6ZSxwcmlvckJyZWFrOmEsYmFkbmVzczpvfX1mdW5jdGlvbiB5cCh0KXtyZXR1cm4gdD95cCh0LnByaW9yQnJlYWspLmNvbmNhdCh0LmluZGV4KTpbXX1mdW5jdGlvbiBtcCh0LGUscixuLGkscyxhKXtpZihcInBvaW50XCIhPT1zKXJldHVybiBbXTtpZighdClyZXR1cm4gW107Y29uc3Qgbz1bXSxsPWZ1bmN0aW9uKHQsZSxyLG4saSxzKXtsZXQgYT0wO2ZvcihsZXQgcj0wO3I8dC5sZW5ndGgoKTtyKyspe2NvbnN0IG89dC5nZXRTZWN0aW9uKHIpO2ErPWhwKHQuZ2V0Q2hhckNvZGUociksbyxuLGksZSxzKTt9cmV0dXJuIGEvTWF0aC5tYXgoMSxNYXRoLmNlaWwoYS9yKSl9KHQsZSxyLG4saSxhKSx1PXQudGV4dC5pbmRleE9mKFwi4oCLXCIpPj0wO2xldCBjPTA7Zm9yKGxldCByPTA7cjx0Lmxlbmd0aCgpO3IrKyl7Y29uc3Qgcz10LmdldFNlY3Rpb24ocikscD10LmdldENoYXJDb2RlKHIpO2lmKHVwW3BdfHwoYys9aHAocCxzLG4saSxlLGEpKSxyPHQubGVuZ3RoKCktMSl7Y29uc3QgZT0hKChoPXApPDExOTA0fHwhKHJzKGgpfHxlcyhoKXx8eXMoaCl8fHBzKGgpfHxhcyhoKXx8SGkoaCl8fG5zKGgpfHxKaShoKXx8b3MoaCl8fGxzKGgpfHxzcyhoKXx8eHMoaCl8fFFpKGgpfHxXaShoKXx8WWkoaCl8fGlzKGgpfHx0cyhoKXx8ZHMoaCl8fGNzKGgpfHx1cyhoKSkpOyhjcFtwXXx8ZXx8cy5pbWFnZU5hbWUpJiZvLnB1c2goZHAocisxLGMsbCxvLGZwKHAsdC5nZXRDaGFyQ29kZShyKzEpLGUmJnUpLCExKSk7fX12YXIgaDtyZXR1cm4geXAoZHAodC5sZW5ndGgoKSxjLGwsbywwLCEwKSl9ZnVuY3Rpb24gZ3AodCl7bGV0IGU9LjUscj0uNTtzd2l0Y2godCl7Y2FzZVwicmlnaHRcIjpjYXNlXCJ0b3AtcmlnaHRcIjpjYXNlXCJib3R0b20tcmlnaHRcIjplPTE7YnJlYWs7Y2FzZVwibGVmdFwiOmNhc2VcInRvcC1sZWZ0XCI6Y2FzZVwiYm90dG9tLWxlZnRcIjplPTA7fXN3aXRjaCh0KXtjYXNlXCJib3R0b21cIjpjYXNlXCJib3R0b20tcmlnaHRcIjpjYXNlXCJib3R0b20tbGVmdFwiOnI9MTticmVhaztjYXNlXCJ0b3BcIjpjYXNlXCJ0b3AtcmlnaHRcIjpjYXNlXCJ0b3AtbGVmdFwiOnI9MDt9cmV0dXJuIHtob3Jpem9udGFsQWxpZ246ZSx2ZXJ0aWNhbEFsaWduOnJ9fWZ1bmN0aW9uIHhwKHQsZSxyLG4saSl7aWYoIShlfHxyfHxufHxpKSlyZXR1cm47Y29uc3Qgcz10Lmxlbmd0aC0xLGE9dFtzXSxvPShhLngrYS5tZXRyaWNzLmFkdmFuY2UqYS5zY2FsZSkqZTtmb3IobGV0IGU9MDtlPD1zO2UrKyl0W2VdLngtPW8sdFtlXS55Kz1yK24raTt9ZnVuY3Rpb24gdnAodCxlLHIpe2NvbnN0e2hvcml6b250YWxBbGlnbjpuLHZlcnRpY2FsQWxpZ246aX09Z3Aocikscz1lWzBdLXQuZGlzcGxheVNpemVbMF0qbixhPWVbMV0tdC5kaXNwbGF5U2l6ZVsxXSppO3JldHVybiB7aW1hZ2U6dCx0b3A6YSxib3R0b206YSt0LmRpc3BsYXlTaXplWzFdLGxlZnQ6cyxyaWdodDpzK3QuZGlzcGxheVNpemVbMF19fWZ1bmN0aW9uIGJwKHQsZSxyLG4saSxzKXtjb25zdCBhPXQuaW1hZ2U7bGV0IG87aWYoYS5jb250ZW50KXtjb25zdCB0PWEuY29udGVudCxlPWEucGl4ZWxSYXRpb3x8MTtvPVt0WzBdL2UsdFsxXS9lLGEuZGlzcGxheVNpemVbMF0tdFsyXS9lLGEuZGlzcGxheVNpemVbMV0tdFszXS9lXTt9Y29uc3QgbD1lLmxlZnQqcyx1PWUucmlnaHQqcztsZXQgYyxoLHAsZjtcIndpZHRoXCI9PT1yfHxcImJvdGhcIj09PXI/KGY9aVswXStsLW5bM10saD1pWzBdK3UrblsxXSk6KGY9aVswXSsobCt1LWEuZGlzcGxheVNpemVbMF0pLzIsaD1mK2EuZGlzcGxheVNpemVbMF0pO2NvbnN0IGQ9ZS50b3Aqcyx5PWUuYm90dG9tKnM7cmV0dXJuIFwiaGVpZ2h0XCI9PT1yfHxcImJvdGhcIj09PXI/KGM9aVsxXStkLW5bMF0scD1pWzFdK3krblsyXSk6KGM9aVsxXSsoZCt5LWEuZGlzcGxheVNpemVbMV0pLzIscD1jK2EuZGlzcGxheVNpemVbMV0pLHtpbWFnZTphLHRvcDpjLHJpZ2h0OmgsYm90dG9tOnAsbGVmdDpmLGNvbGxpc2lvblBhZGRpbmc6b319Y2xhc3MgX3AgZXh0ZW5kcyBke2NvbnN0cnVjdG9yKHQsZSxyLG4saSl7c3VwZXIodCxlKSx0aGlzLmFuZ2xlPW4sdGhpcy56PXIsdm9pZCAwIT09aSYmKHRoaXMuc2VnbWVudD1pKTt9Y2xvbmUoKXtyZXR1cm4gbmV3IF9wKHRoaXMueCx0aGlzLnksdGhpcy56LHRoaXMuYW5nbGUsdGhpcy5zZWdtZW50KX19ZnVuY3Rpb24gd3AodCxlLHIsbixpKXtpZih2b2lkIDA9PT1lLnNlZ21lbnQpcmV0dXJuICEwO2xldCBzPWUsYT1lLnNlZ21lbnQrMSxvPTA7Zm9yKDtvPi1yLzI7KXtpZihhLS0sYTwwKXJldHVybiAhMTtvLT10W2FdLmRpc3Qocykscz10W2FdO31vKz10W2FdLmRpc3QodFthKzFdKSxhKys7Y29uc3QgbD1bXTtsZXQgdT0wO2Zvcig7bzxyLzI7KXtjb25zdCBlPXRbYV0scj10W2ErMV07aWYoIXIpcmV0dXJuICExO2xldCBzPXRbYS0xXS5hbmdsZVRvKGUpLWUuYW5nbGVUbyhyKTtmb3Iocz1NYXRoLmFicygocyszKk1hdGguUEkpJSgyKk1hdGguUEkpLU1hdGguUEkpLGwucHVzaCh7ZGlzdGFuY2U6byxhbmdsZURlbHRhOnN9KSx1Kz1zO28tbFswXS5kaXN0YW5jZT5uOyl1LT1sLnNoaWZ0KCkuYW5nbGVEZWx0YTtpZih1PmkpcmV0dXJuICExO2ErKyxvKz1lLmRpc3Qocik7fXJldHVybiAhMH1mdW5jdGlvbiBBcCh0KXtsZXQgZT0wO2ZvcihsZXQgcj0wO3I8dC5sZW5ndGgtMTtyKyspZSs9dFtyXS5kaXN0KHRbcisxXSk7cmV0dXJuIGV9ZnVuY3Rpb24gU3AodCxlLHIpe3JldHVybiB0Py42KmUqcjowfWZ1bmN0aW9uIGtwKHQsZSl7cmV0dXJuIE1hdGgubWF4KHQ/dC5yaWdodC10LmxlZnQ6MCxlP2UucmlnaHQtZS5sZWZ0OjApfWZ1bmN0aW9uIElwKHQsZSxyLG4saSxzKXtjb25zdCBhPVNwKHIsaSxzKSxvPWtwKHIsbikqcztsZXQgbD0wO2NvbnN0IHU9QXAodCkvMjtmb3IobGV0IHI9MDtyPHQubGVuZ3RoLTE7cisrKXtjb25zdCBuPXRbcl0saT10W3IrMV0scz1uLmRpc3QoaSk7aWYobCtzPnUpe2NvbnN0IGM9KHUtbCkvcyxoPUlyKG4ueCxpLngsYykscD1JcihuLnksaS55LGMpLGY9bmV3IF9wKGgscCwwLGkuYW5nbGVUbyhuKSxyKTtyZXR1cm4gIWF8fHdwKHQsZixvLGEsZSk/Zjp2b2lkIDB9bCs9czt9fWZ1bmN0aW9uIE1wKHQsZSxyLG4saSxzLGEsbyxsKXtjb25zdCB1PVNwKG4scyxhKSxjPWtwKG4saSksaD1jKmEscD0wPT09dFswXS54fHx0WzBdLng9PT1sfHwwPT09dFswXS55fHx0WzBdLnk9PT1sO3JldHVybiBlLWg8ZS80JiYoZT1oK2UvNCksenAodCxwP2UvMipvJWU6KGMvMisyKnMpKmEqbyVlLGUsdSxyLGgscCwhMSxsKX1mdW5jdGlvbiB6cCh0LGUscixuLGkscyxhLG8sbCl7Y29uc3QgdT1zLzIsYz1BcCh0KTtsZXQgaD0wLHA9ZS1yLGY9W107Zm9yKGxldCBlPTA7ZTx0Lmxlbmd0aC0xO2UrKyl7Y29uc3QgYT10W2VdLG89dFtlKzFdLGQ9YS5kaXN0KG8pLHk9by5hbmdsZVRvKGEpO2Zvcig7cCtyPGgrZDspe3ArPXI7Y29uc3QgbT0ocC1oKS9kLGc9SXIoYS54LG8ueCxtKSx4PUlyKGEueSxvLnksbSk7aWYoZz49MCYmZzxsJiZ4Pj0wJiZ4PGwmJnAtdT49MCYmcCt1PD1jKXtjb25zdCByPW5ldyBfcChnLHgsMCx5LGUpO3IuX3JvdW5kKCksbiYmIXdwKHQscixzLG4saSl8fGYucHVzaChyKTt9fWgrPWQ7fXJldHVybiBvfHxmLmxlbmd0aHx8YXx8KGY9enAodCxoLzIscixuLGkscyxhLCEwLGwpKSxmfWZ1bmN0aW9uIFRwKHQsZSxyLG4saSl7Y29uc3Qgcz1bXTtmb3IobGV0IGE9MDthPHQubGVuZ3RoO2ErKyl7Y29uc3Qgbz10W2FdO2xldCBsO2ZvcihsZXQgdD0wO3Q8by5sZW5ndGgtMTt0Kyspe2xldCBhPW9bdF0sdT1vW3QrMV07YS54PGUmJnUueDxlfHwoYS54PGU/YT1uZXcgZChlLGEueSsoZS1hLngpLyh1LngtYS54KSoodS55LWEueSkpLl9yb3VuZCgpOnUueDxlJiYodT1uZXcgZChlLGEueSsoZS1hLngpLyh1LngtYS54KSoodS55LWEueSkpLl9yb3VuZCgpKSxhLnk8ciYmdS55PHJ8fChhLnk8cj9hPW5ldyBkKGEueCsoci1hLnkpLyh1LnktYS55KSoodS54LWEueCkscikuX3JvdW5kKCk6dS55PHImJih1PW5ldyBkKGEueCsoci1hLnkpLyh1LnktYS55KSoodS54LWEueCkscikuX3JvdW5kKCkpLGEueD49biYmdS54Pj1ufHwoYS54Pj1uP2E9bmV3IGQobixhLnkrKG4tYS54KS8odS54LWEueCkqKHUueS1hLnkpKS5fcm91bmQoKTp1Lng+PW4mJih1PW5ldyBkKG4sYS55KyhuLWEueCkvKHUueC1hLngpKih1LnktYS55KSkuX3JvdW5kKCkpLGEueT49aSYmdS55Pj1pfHwoYS55Pj1pP2E9bmV3IGQoYS54KyhpLWEueSkvKHUueS1hLnkpKih1LngtYS54KSxpKS5fcm91bmQoKTp1Lnk+PWkmJih1PW5ldyBkKGEueCsoaS1hLnkpLyh1LnktYS55KSoodS54LWEueCksaSkuX3JvdW5kKCkpLGwmJmEuZXF1YWxzKGxbbC5sZW5ndGgtMV0pfHwobD1bYV0scy5wdXNoKGwpKSxsLnB1c2godSkpKSkpO319cmV0dXJuIHN9amkoX3AsXCJBbmNob3JcIik7Y29uc3QgQnA9MWUyMDtmdW5jdGlvbiBFcCh0LGUscixuLGkscyxhLG8sbCl7Zm9yKGxldCB1PWU7dTxlK247dSsrKVBwKHQscipzK3UscyxpLGEsbyxsKTtmb3IobGV0IHU9cjt1PHIraTt1KyspUHAodCx1KnMrZSwxLG4sYSxvLGwpO31mdW5jdGlvbiBQcCh0LGUscixuLGkscyxhKXtzWzBdPTAsYVswXT0tQnAsYVsxXT1CcCxpWzBdPXRbZV07Zm9yKGxldCBvPTEsbD0wLHU9MDtvPG47bysrKXtpW29dPXRbZStvKnJdO2NvbnN0IG49bypvO2Rve2NvbnN0IHQ9c1tsXTt1PShpW29dLWlbdF0rbi10KnQpLyhvLXQpLzI7fXdoaWxlKHU8PWFbbF0mJi0tbD4tMSk7bCsrLHNbbF09byxhW2xdPXUsYVtsKzFdPUJwO31mb3IobGV0IG89MCxsPTA7bzxuO28rKyl7Zm9yKDthW2wrMV08bzspbCsrO2NvbnN0IG49c1tsXSx1PW8tbjt0W2UrbypyXT1pW25dK3UqdTt9fWNvbnN0IENwPXtub25lOjAsaWRlb2dyYXBoczoxLGFsbDoyfTtjbGFzcyBEcHtjb25zdHJ1Y3Rvcih0LGUscil7dGhpcy5yZXF1ZXN0TWFuYWdlcj10LHRoaXMubG9jYWxHbHlwaE1vZGU9ZSx0aGlzLmxvY2FsRm9udEZhbWlseT1yLHRoaXMuZW50cmllcz17fSx0aGlzLmxvY2FsR2x5cGhzPXsyMDA6e30sNDAwOnt9LDUwMDp7fSw5MDA6e319O31zZXRVUkwodCl7dGhpcy51cmw9dDt9Z2V0R2x5cGhzKHQsZSl7Y29uc3Qgcj1bXTtmb3IoY29uc3QgZSBpbiB0KWZvcihjb25zdCBuIG9mIHRbZV0pci5wdXNoKHtzdGFjazplLGlkOm59KTtNKHIsKCh7c3RhY2s6dCxpZDplfSxyKT0+e2xldCBuPXRoaXMuZW50cmllc1t0XTtufHwobj10aGlzLmVudHJpZXNbdF09e2dseXBoczp7fSxyZXF1ZXN0czp7fSxyYW5nZXM6e30sYXNjZW5kZXI6dm9pZCAwLGRlc2NlbmRlcjp2b2lkIDB9KTtsZXQgaT1uLmdseXBoc1tlXTtpZih2b2lkIDAhPT1pKXJldHVybiB2b2lkIHIobnVsbCx7c3RhY2s6dCxpZDplLGdseXBoOml9KTtpZihpPXRoaXMuX3RpbnlTREYobix0LGUpLGkpcmV0dXJuIG4uZ2x5cGhzW2VdPWksdm9pZCByKG51bGwse3N0YWNrOnQsaWQ6ZSxnbHlwaDppfSk7Y29uc3Qgcz1NYXRoLmZsb29yKGUvMjU2KTtpZigyNTYqcz42NTUzNSlyZXR1cm4gdm9pZCByKG5ldyBFcnJvcihcImdseXBocyA+IDY1NTM1IG5vdCBzdXBwb3J0ZWRcIikpO2lmKG4ucmFuZ2VzW3NdKXJldHVybiB2b2lkIHIobnVsbCx7c3RhY2s6dCxpZDplLGdseXBoOml9KTtsZXQgYT1uLnJlcXVlc3RzW3NdO2F8fChhPW4ucmVxdWVzdHNbc109W10sRHAubG9hZEdseXBoUmFuZ2UodCxzLHRoaXMudXJsLHRoaXMucmVxdWVzdE1hbmFnZXIsKCh0LGUpPT57aWYoZSl7bi5hc2NlbmRlcj1lLmFzY2VuZGVyLG4uZGVzY2VuZGVyPWUuZGVzY2VuZGVyO2Zvcihjb25zdCB0IGluIGUuZ2x5cGhzKXRoaXMuX2RvZXNDaGFyU3VwcG9ydExvY2FsR2x5cGgoK3QpfHwobi5nbHlwaHNbK3RdPWUuZ2x5cGhzWyt0XSk7bi5yYW5nZXNbc109ITA7fWZvcihjb25zdCByIG9mIGEpcih0LGUpO2RlbGV0ZSBuLnJlcXVlc3RzW3NdO30pKSksYS5wdXNoKCgobixpKT0+e24/cihuKTppJiZyKG51bGwse3N0YWNrOnQsaWQ6ZSxnbHlwaDppLmdseXBoc1tlXXx8bnVsbH0pO30pKTt9KSwoKHQscik9PntpZih0KWUodCk7ZWxzZSBpZihyKXtjb25zdCB0PXt9O2Zvcihjb25zdHtzdGFjazplLGlkOm4sZ2x5cGg6aX1vZiByKXZvaWQgMD09PXRbZV0mJih0W2VdPXt9KSx2b2lkIDA9PT10W2VdLmdseXBocyYmKHRbZV0uZ2x5cGhzPXt9KSx0W2VdLmdseXBoc1tuXT1pJiZ7aWQ6aS5pZCxiaXRtYXA6aS5iaXRtYXAuY2xvbmUoKSxtZXRyaWNzOmkubWV0cmljc30sdFtlXS5hc2NlbmRlcj10aGlzLmVudHJpZXNbZV0uYXNjZW5kZXIsdFtlXS5kZXNjZW5kZXI9dGhpcy5lbnRyaWVzW2VdLmRlc2NlbmRlcjtlKG51bGwsdCk7fX0pKTt9X2RvZXNDaGFyU3VwcG9ydExvY2FsR2x5cGgodCl7cmV0dXJuIHRoaXMubG9jYWxHbHlwaE1vZGUhPT1DcC5ub25lJiYodGhpcy5sb2NhbEdseXBoTW9kZT09PUNwLmFsbD8hIXRoaXMubG9jYWxGb250RmFtaWx5OiEhdGhpcy5sb2NhbEZvbnRGYW1pbHkmJihscyh0KXx8aHModCl8fFFpKHQpfHx0cyh0KXx8SmkodCkpKX1fdGlueVNERih0LGUscil7Y29uc3Qgbj10aGlzLmxvY2FsRm9udEZhbWlseTtpZighbnx8IXRoaXMuX2RvZXNDaGFyU3VwcG9ydExvY2FsR2x5cGgocikpcmV0dXJuO2xldCBpPXQudGlueVNERjtpZighaSl7bGV0IHI9XCI0MDBcIjsvYm9sZC9pLnRlc3QoZSk/cj1cIjkwMFwiOi9tZWRpdW0vaS50ZXN0KGUpP3I9XCI1MDBcIjovbGlnaHQvaS50ZXN0KGUpJiYocj1cIjIwMFwiKSxpPXQudGlueVNERj1uZXcgRHAuVGlueVNERih7Zm9udEZhbWlseTpuLGZvbnRXZWlnaHQ6cixmb250U2l6ZTo0OCxidWZmZXI6NixyYWRpdXM6MTZ9KSxpLmZvbnRXZWlnaHQ9cjt9aWYodGhpcy5sb2NhbEdseXBoc1tpLmZvbnRXZWlnaHRdW3JdKXJldHVybiB0aGlzLmxvY2FsR2x5cGhzW2kuZm9udFdlaWdodF1bcl07Y29uc3Qgcz1TdHJpbmcuZnJvbUNoYXJDb2RlKHIpLHtkYXRhOmEsd2lkdGg6byxoZWlnaHQ6bCxnbHlwaFdpZHRoOnUsZ2x5cGhIZWlnaHQ6YyxnbHlwaExlZnQ6aCxnbHlwaFRvcDpwLGdseXBoQWR2YW5jZTpmfT1pLmRyYXcocyk7cmV0dXJuIHRoaXMubG9jYWxHbHlwaHNbaS5mb250V2VpZ2h0XVtyXT17aWQ6cixiaXRtYXA6bmV3IHd1KHt3aWR0aDpvLGhlaWdodDpsfSxhKSxtZXRyaWNzOnt3aWR0aDp1LzIsaGVpZ2h0OmMvMixsZWZ0OmgvMix0b3A6cC8yLTI3LGFkdmFuY2U6Zi8yLGxvY2FsR2x5cGg6ITB9fX19ZnVuY3Rpb24gVnAodCxlLHIsbil7Y29uc3QgaT1bXSxzPXQuaW1hZ2UsYT1zLnBpeGVsUmF0aW8sbz1zLnBhZGRlZFJlY3Qudy0yLGw9cy5wYWRkZWRSZWN0LmgtMix1PXQucmlnaHQtdC5sZWZ0LGM9dC5ib3R0b20tdC50b3AsaD1zLnN0cmV0Y2hYfHxbWzAsb11dLHA9cy5zdHJldGNoWXx8W1swLGxdXSxmPSh0LGUpPT50K2VbMV0tZVswXSx5PWgucmVkdWNlKGYsMCksbT1wLnJlZHVjZShmLDApLGc9by15LHg9bC1tO2xldCB2PTAsYj15LF89MCx3PW0sQT0wLFM9ZyxrPTAsST14O2lmKHMuY29udGVudCYmbil7Y29uc3QgdD1zLmNvbnRlbnQ7dj1GcChoLDAsdFswXSksXz1GcChwLDAsdFsxXSksYj1GcChoLHRbMF0sdFsyXSksdz1GcChwLHRbMV0sdFszXSksQT10WzBdLXYsaz10WzFdLV8sUz10WzJdLXRbMF0tYixJPXRbM10tdFsxXS13O31jb25zdCBNPShuLGksbyxsKT0+e2NvbnN0IGg9UnAobi5zdHJldGNoLXYsYix1LHQubGVmdCkscD1VcChuLmZpeGVkLUEsUyxuLnN0cmV0Y2gseSksZj1ScChpLnN0cmV0Y2gtXyx3LGMsdC50b3ApLGc9VXAoaS5maXhlZC1rLEksaS5zdHJldGNoLG0pLHg9UnAoby5zdHJldGNoLXYsYix1LHQubGVmdCksTT1VcChvLmZpeGVkLUEsUyxvLnN0cmV0Y2gseSksej1ScChsLnN0cmV0Y2gtXyx3LGMsdC50b3ApLFQ9VXAobC5maXhlZC1rLEksbC5zdHJldGNoLG0pLEI9bmV3IGQoaCxmKSxFPW5ldyBkKHgsZiksUD1uZXcgZCh4LHopLEM9bmV3IGQoaCx6KSxEPW5ldyBkKHAvYSxnL2EpLFY9bmV3IGQoTS9hLFQvYSksRj1lKk1hdGguUEkvMTgwO2lmKEYpe2NvbnN0IHQ9TWF0aC5zaW4oRiksZT1NYXRoLmNvcyhGKSxyPVtlLC10LHQsZV07Qi5fbWF0TXVsdChyKSxFLl9tYXRNdWx0KHIpLEMuX21hdE11bHQociksUC5fbWF0TXVsdChyKTt9Y29uc3QgTD1uLnN0cmV0Y2grbi5maXhlZCxSPWkuc3RyZXRjaCtpLmZpeGVkO3JldHVybiB7dGw6Qix0cjpFLGJsOkMsYnI6UCx0ZXg6e3g6cy5wYWRkZWRSZWN0LngrMStMLHk6cy5wYWRkZWRSZWN0LnkrMStSLHc6by5zdHJldGNoK28uZml4ZWQtTCxoOmwuc3RyZXRjaCtsLmZpeGVkLVJ9LHdyaXRpbmdNb2RlOnZvaWQgMCxnbHlwaE9mZnNldDpbMCwwXSxzZWN0aW9uSW5kZXg6MCxwaXhlbE9mZnNldFRMOkQscGl4ZWxPZmZzZXRCUjpWLG1pbkZvbnRTY2FsZVg6Uy9hL3UsbWluRm9udFNjYWxlWTpJL2EvYyxpc1NERjpyfX07aWYobiYmKHMuc3RyZXRjaFh8fHMuc3RyZXRjaFkpKXtjb25zdCB0PUxwKGgsZyx5KSxlPUxwKHAseCxtKTtmb3IobGV0IHI9MDtyPHQubGVuZ3RoLTE7cisrKXtjb25zdCBuPXRbcl0scz10W3IrMV07Zm9yKGxldCB0PTA7dDxlLmxlbmd0aC0xO3QrKylpLnB1c2goTShuLGVbdF0scyxlW3QrMV0pKTt9fWVsc2UgaS5wdXNoKE0oe2ZpeGVkOjAsc3RyZXRjaDotMX0se2ZpeGVkOjAsc3RyZXRjaDotMX0se2ZpeGVkOjAsc3RyZXRjaDpvKzF9LHtmaXhlZDowLHN0cmV0Y2g6bCsxfSkpO3JldHVybiBpfWZ1bmN0aW9uIEZwKHQsZSxyKXtsZXQgbj0wO2Zvcihjb25zdCBpIG9mIHQpbis9TWF0aC5tYXgoZSxNYXRoLm1pbihyLGlbMV0pKS1NYXRoLm1heChlLE1hdGgubWluKHIsaVswXSkpO3JldHVybiBufWZ1bmN0aW9uIExwKHQsZSxyKXtjb25zdCBuPVt7Zml4ZWQ6LTEsc3RyZXRjaDowfV07Zm9yKGNvbnN0W2Uscl1vZiB0KXtjb25zdCB0PW5bbi5sZW5ndGgtMV07bi5wdXNoKHtmaXhlZDplLXQuc3RyZXRjaCxzdHJldGNoOnQuc3RyZXRjaH0pLG4ucHVzaCh7Zml4ZWQ6ZS10LnN0cmV0Y2gsc3RyZXRjaDp0LnN0cmV0Y2grKHItZSl9KTt9cmV0dXJuIG4ucHVzaCh7Zml4ZWQ6ZSsxLHN0cmV0Y2g6cn0pLG59ZnVuY3Rpb24gUnAodCxlLHIsbil7cmV0dXJuIHQvZSpyK259ZnVuY3Rpb24gVXAodCxlLHIsbil7cmV0dXJuIHQtZSpyL259ZnVuY3Rpb24ganAodCxlLHIsbil7Y29uc3QgaT1lK3QucG9zaXRpb25lZExpbmVzW25dLmxpbmVPZmZzZXQ7cmV0dXJuIDA9PT1uP3IraS8yOnIrKGkrKGUrdC5wb3NpdGlvbmVkTGluZXNbbi0xXS5saW5lT2Zmc2V0KSkvMn1EcC5sb2FkR2x5cGhSYW5nZT1mdW5jdGlvbih0LGUscixuLGkpe2NvbnN0IHM9MjU2KmUsYT1zKzI1NSxvPW4udHJhbnNmb3JtUmVxdWVzdChuLm5vcm1hbGl6ZUdseXBoc1VSTChyKS5yZXBsYWNlKFwie2ZvbnRzdGFja31cIix0KS5yZXBsYWNlKFwie3JhbmdlfVwiLGAke3N9LSR7YX1gKSxzdC5HbHlwaHMpO3V0KG8sKCh0LGUpPT57aWYodClpKHQpO2Vsc2UgaWYoZSl7Y29uc3QgdD17fSxyPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgRWgodCkucmVhZEZpZWxkcyhRaCx7fSl9KGUpO2Zvcihjb25zdCBlIG9mIHIuZ2x5cGhzKXRbZS5pZF09ZTtpKG51bGwse2dseXBoczp0LGFzY2VuZGVyOnIuYXNjZW5kZXIsZGVzY2VuZGVyOnIuZGVzY2VuZGVyfSk7fX0pKTt9LERwLlRpbnlTREY9Y2xhc3N7Y29uc3RydWN0b3Ioe2ZvbnRTaXplOnQ9MjQsYnVmZmVyOmU9MyxyYWRpdXM6cj04LGN1dG9mZjpuPS4yNSxmb250RmFtaWx5Omk9XCJzYW5zLXNlcmlmXCIsZm9udFdlaWdodDpzPVwibm9ybWFsXCIsZm9udFN0eWxlOmE9XCJub3JtYWxcIn09e30pe3RoaXMuYnVmZmVyPWUsdGhpcy5jdXRvZmY9bix0aGlzLnJhZGl1cz1yO2NvbnN0IG89dGhpcy5zaXplPXQrNCplLGw9dGhpcy5fY3JlYXRlQ2FudmFzKG8pLHU9dGhpcy5jdHg9bC5nZXRDb250ZXh0KFwiMmRcIix7d2lsbFJlYWRGcmVxdWVudGx5OiEwfSk7dS5mb250PWAke2F9ICR7c30gJHt0fXB4ICR7aX1gLHUudGV4dEJhc2VsaW5lPVwiYWxwaGFiZXRpY1wiLHUudGV4dEFsaWduPVwibGVmdFwiLHUuZmlsbFN0eWxlPVwiYmxhY2tcIix0aGlzLmdyaWRPdXRlcj1uZXcgRmxvYXQ2NEFycmF5KG8qbyksdGhpcy5ncmlkSW5uZXI9bmV3IEZsb2F0NjRBcnJheShvKm8pLHRoaXMuZj1uZXcgRmxvYXQ2NEFycmF5KG8pLHRoaXMuej1uZXcgRmxvYXQ2NEFycmF5KG8rMSksdGhpcy52PW5ldyBVaW50MTZBcnJheShvKTt9X2NyZWF0ZUNhbnZhcyh0KXtjb25zdCBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7cmV0dXJuIGUud2lkdGg9ZS5oZWlnaHQ9dCxlfWRyYXcodCl7Y29uc3R7d2lkdGg6ZSxhY3R1YWxCb3VuZGluZ0JveEFzY2VudDpyLGFjdHVhbEJvdW5kaW5nQm94RGVzY2VudDpuLGFjdHVhbEJvdW5kaW5nQm94TGVmdDppLGFjdHVhbEJvdW5kaW5nQm94UmlnaHQ6c309dGhpcy5jdHgubWVhc3VyZVRleHQodCksYT1NYXRoLmNlaWwociksbz1NYXRoLm1pbih0aGlzLnNpemUtdGhpcy5idWZmZXIsTWF0aC5jZWlsKHMtaSkpLGw9TWF0aC5taW4odGhpcy5zaXplLXRoaXMuYnVmZmVyLGErTWF0aC5jZWlsKG4pKSx1PW8rMip0aGlzLmJ1ZmZlcixjPWwrMip0aGlzLmJ1ZmZlcixoPU1hdGgubWF4KHUqYywwKSxwPW5ldyBVaW50OENsYW1wZWRBcnJheShoKSxmPXtkYXRhOnAsd2lkdGg6dSxoZWlnaHQ6YyxnbHlwaFdpZHRoOm8sZ2x5cGhIZWlnaHQ6bCxnbHlwaFRvcDphLGdseXBoTGVmdDowLGdseXBoQWR2YW5jZTplfTtpZigwPT09b3x8MD09PWwpcmV0dXJuIGY7Y29uc3R7Y3R4OmQsYnVmZmVyOnksZ3JpZElubmVyOm0sZ3JpZE91dGVyOmd9PXRoaXM7ZC5jbGVhclJlY3QoeSx5LG8sbCksZC5maWxsVGV4dCh0LHkseSthKTtjb25zdCB4PWQuZ2V0SW1hZ2VEYXRhKHkseSxvLGwpO2cuZmlsbChCcCwwLGgpLG0uZmlsbCgwLDAsaCk7Zm9yKGxldCB0PTA7dDxsO3QrKylmb3IobGV0IGU9MDtlPG87ZSsrKXtjb25zdCByPXguZGF0YVs0Kih0Km8rZSkrM10vMjU1O2lmKDA9PT1yKWNvbnRpbnVlO2NvbnN0IG49KHQreSkqdStlK3k7aWYoMT09PXIpZ1tuXT0wLG1bbl09QnA7ZWxzZSB7Y29uc3QgdD0uNS1yO2dbbl09dD4wP3QqdDowLG1bbl09dDwwP3QqdDowO319RXAoZywwLDAsdSxjLHUsdGhpcy5mLHRoaXMudix0aGlzLnopLEVwKG0seSx5LG8sbCx1LHRoaXMuZix0aGlzLnYsdGhpcy56KTtmb3IobGV0IHQ9MDt0PGg7dCsrKXtjb25zdCBlPU1hdGguc3FydChnW3RdKS1NYXRoLnNxcnQobVt0XSk7cFt0XT1NYXRoLnJvdW5kKDI1NS0yNTUqKGUvdGhpcy5yYWRpdXMrdGhpcy5jdXRvZmYpKTt9cmV0dXJuIGZ9fTtjbGFzcyAkcHtjb25zdHJ1Y3Rvcih0PVtdLGU9T3Ape2lmKHRoaXMuZGF0YT10LHRoaXMubGVuZ3RoPXRoaXMuZGF0YS5sZW5ndGgsdGhpcy5jb21wYXJlPWUsdGhpcy5sZW5ndGg+MClmb3IobGV0IHQ9KHRoaXMubGVuZ3RoPj4xKS0xO3Q+PTA7dC0tKXRoaXMuX2Rvd24odCk7fXB1c2godCl7dGhpcy5kYXRhLnB1c2godCksdGhpcy5sZW5ndGgrKyx0aGlzLl91cCh0aGlzLmxlbmd0aC0xKTt9cG9wKCl7aWYoMD09PXRoaXMubGVuZ3RoKXJldHVybjtjb25zdCB0PXRoaXMuZGF0YVswXSxlPXRoaXMuZGF0YS5wb3AoKTtyZXR1cm4gdGhpcy5sZW5ndGgtLSx0aGlzLmxlbmd0aD4wJiYodGhpcy5kYXRhWzBdPWUsdGhpcy5fZG93bigwKSksdH1wZWVrKCl7cmV0dXJuIHRoaXMuZGF0YVswXX1fdXAodCl7Y29uc3R7ZGF0YTplLGNvbXBhcmU6cn09dGhpcyxuPWVbdF07Zm9yKDt0PjA7KXtjb25zdCBpPXQtMT4+MSxzPWVbaV07aWYocihuLHMpPj0wKWJyZWFrO2VbdF09cyx0PWk7fWVbdF09bjt9X2Rvd24odCl7Y29uc3R7ZGF0YTplLGNvbXBhcmU6cn09dGhpcyxuPXRoaXMubGVuZ3RoPj4xLGk9ZVt0XTtmb3IoO3Q8bjspe2xldCBuPTErKHQ8PDEpLHM9ZVtuXTtjb25zdCBhPW4rMTtpZihhPHRoaXMubGVuZ3RoJiZyKGVbYV0scyk8MCYmKG49YSxzPWVbYV0pLHIocyxpKT49MClicmVhaztlW3RdPXMsdD1uO31lW3RdPWk7fX1mdW5jdGlvbiBPcCh0LGUpe3JldHVybiB0PGU/LTE6dD5lPzE6MH1mdW5jdGlvbiBxcCh0LGU9MSxyPSExKXtsZXQgbj0xLzAsaT0xLzAscz0tMS8wLGE9LTEvMDtjb25zdCBvPXRbMF07Zm9yKGxldCB0PTA7dDxvLmxlbmd0aDt0Kyspe2NvbnN0IGU9b1t0XTsoIXR8fGUueDxuKSYmKG49ZS54KSwoIXR8fGUueTxpKSYmKGk9ZS55KSwoIXR8fGUueD5zKSYmKHM9ZS54KSwoIXR8fGUueT5hKSYmKGE9ZS55KTt9Y29uc3QgbD1NYXRoLm1pbihzLW4sYS1pKTtsZXQgdT1sLzI7Y29uc3QgYz1uZXcgJHAoW10sTnApO2lmKDA9PT1sKXJldHVybiBuZXcgZChuLGkpO2ZvcihsZXQgZT1uO2U8cztlKz1sKWZvcihsZXQgcj1pO3I8YTtyKz1sKWMucHVzaChuZXcgR3AoZSt1LHIrdSx1LHQpKTtsZXQgaD1mdW5jdGlvbih0KXtsZXQgZT0wLHI9MCxuPTA7Y29uc3QgaT10WzBdO2ZvcihsZXQgdD0wLHM9aS5sZW5ndGgsYT1zLTE7dDxzO2E9dCsrKXtjb25zdCBzPWlbdF0sbz1pW2FdLGw9cy54Km8ueS1vLngqcy55O3IrPShzLngrby54KSpsLG4rPShzLnkrby55KSpsLGUrPTMqbDt9cmV0dXJuIG5ldyBHcChyL2Usbi9lLDAsdCl9KHQpLHA9Yy5sZW5ndGg7Zm9yKDtjLmxlbmd0aDspe2NvbnN0IG49Yy5wb3AoKTsobi5kPmguZHx8IWguZCkmJihoPW4sciYmY29uc29sZS5sb2coXCJmb3VuZCBiZXN0ICVkIGFmdGVyICVkIHByb2Jlc1wiLE1hdGgucm91bmQoMWU0Km4uZCkvMWU0LHApKSxuLm1heC1oLmQ8PWV8fCh1PW4uaC8yLGMucHVzaChuZXcgR3Aobi5wLngtdSxuLnAueS11LHUsdCkpLGMucHVzaChuZXcgR3Aobi5wLngrdSxuLnAueS11LHUsdCkpLGMucHVzaChuZXcgR3Aobi5wLngtdSxuLnAueSt1LHUsdCkpLGMucHVzaChuZXcgR3Aobi5wLngrdSxuLnAueSt1LHUsdCkpLHArPTQpO31yZXR1cm4gciYmKGNvbnNvbGUubG9nKGBudW0gcHJvYmVzOiAke3B9YCksY29uc29sZS5sb2coYGJlc3QgZGlzdGFuY2U6ICR7aC5kfWApKSxoLnB9ZnVuY3Rpb24gTnAodCxlKXtyZXR1cm4gZS5tYXgtdC5tYXh9ZnVuY3Rpb24gR3AodCxlLHIsbil7dGhpcy5wPW5ldyBkKHQsZSksdGhpcy5oPXIsdGhpcy5kPWZ1bmN0aW9uKHQsZSl7bGV0IHI9ITEsbj0xLzA7Zm9yKGxldCBpPTA7aTxlLmxlbmd0aDtpKyspe2NvbnN0IHM9ZVtpXTtmb3IobGV0IGU9MCxpPXMubGVuZ3RoLGE9aS0xO2U8aTthPWUrKyl7Y29uc3QgaT1zW2VdLG89c1thXTtpLnk+dC55IT1vLnk+dC55JiZ0Lng8KG8ueC1pLngpKih0LnktaS55KS8oby55LWkueSkraS54JiYocj0hciksbj1NYXRoLm1pbihuLGNsKHQsaSxvKSk7fX1yZXR1cm4gKHI/MTotMSkqTWF0aC5zcXJ0KG4pfSh0aGlzLnAsbiksdGhpcy5tYXg9dGhpcy5kK3RoaXMuaCpNYXRoLlNRUlQyO31jb25zdCBacD1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksWHA9TWF0aC5zcXJ0KDIpO2Z1bmN0aW9uIEtwKHQsZSl7cmV0dXJuIGVbMV0hPT1acD9mdW5jdGlvbih0LGUscil7bGV0IG49MCxpPTA7c3dpdGNoKGU9TWF0aC5hYnMoZSkscj1NYXRoLmFicyhyKSx0KXtjYXNlXCJ0b3AtcmlnaHRcIjpjYXNlXCJ0b3AtbGVmdFwiOmNhc2VcInRvcFwiOmk9ci03O2JyZWFrO2Nhc2VcImJvdHRvbS1yaWdodFwiOmNhc2VcImJvdHRvbS1sZWZ0XCI6Y2FzZVwiYm90dG9tXCI6aT03LXI7fXN3aXRjaCh0KXtjYXNlXCJ0b3AtcmlnaHRcIjpjYXNlXCJib3R0b20tcmlnaHRcIjpjYXNlXCJyaWdodFwiOm49LWU7YnJlYWs7Y2FzZVwidG9wLWxlZnRcIjpjYXNlXCJib3R0b20tbGVmdFwiOmNhc2VcImxlZnRcIjpuPWU7fXJldHVybiBbbixpXX0odCxlWzBdLGVbMV0pOmZ1bmN0aW9uKHQsZSl7bGV0IHI9MCxuPTA7ZTwwJiYoZT0wKTtjb25zdCBpPWUvWHA7c3dpdGNoKHQpe2Nhc2VcInRvcC1yaWdodFwiOmNhc2VcInRvcC1sZWZ0XCI6bj1pLTc7YnJlYWs7Y2FzZVwiYm90dG9tLXJpZ2h0XCI6Y2FzZVwiYm90dG9tLWxlZnRcIjpuPTctaTticmVhaztjYXNlXCJib3R0b21cIjpuPTctZTticmVhaztjYXNlXCJ0b3BcIjpuPWUtNzt9c3dpdGNoKHQpe2Nhc2VcInRvcC1yaWdodFwiOmNhc2VcImJvdHRvbS1yaWdodFwiOnI9LWk7YnJlYWs7Y2FzZVwidG9wLWxlZnRcIjpjYXNlXCJib3R0b20tbGVmdFwiOnI9aTticmVhaztjYXNlXCJsZWZ0XCI6cj1lO2JyZWFrO2Nhc2VcInJpZ2h0XCI6cj0tZTt9cmV0dXJuIFtyLG5dfSh0LGVbMF0pfWZ1bmN0aW9uIEhwKHQsZSxyLG4saSxzLGEsbyxsLHUpe3QuY3JlYXRlQXJyYXlzKCksdC50aWxlUGl4ZWxSYXRpbz1Cby8oNTEyKnQub3ZlcnNjYWxpbmcpLHQuY29tcGFyZVRleHQ9e30sdC5pY29uc05lZWRMaW5lYXI9ITE7Y29uc3QgYz10LmxheWVyc1swXS5sYXlvdXQsaD10LmxheWVyc1swXS5fdW5ldmFsdWF0ZWRMYXlvdXQuX3ZhbHVlcyxwPXt9O2lmKFwiY29tcG9zaXRlXCI9PT10LnRleHRTaXplRGF0YS5raW5kKXtjb25zdHttaW5ab29tOmUsbWF4Wm9vbTpyfT10LnRleHRTaXplRGF0YTtwLmNvbXBvc2l0ZVRleHRTaXplcz1baFtcInRleHQtc2l6ZVwiXS5wb3NzaWJseUV2YWx1YXRlKG5ldyBVcyhlKSxvKSxoW1widGV4dC1zaXplXCJdLnBvc3NpYmx5RXZhbHVhdGUobmV3IFVzKHIpLG8pXTt9aWYoXCJjb21wb3NpdGVcIj09PXQuaWNvblNpemVEYXRhLmtpbmQpe2NvbnN0e21pblpvb206ZSxtYXhab29tOnJ9PXQuaWNvblNpemVEYXRhO3AuY29tcG9zaXRlSWNvblNpemVzPVtoW1wiaWNvbi1zaXplXCJdLnBvc3NpYmx5RXZhbHVhdGUobmV3IFVzKGUpLG8pLGhbXCJpY29uLXNpemVcIl0ucG9zc2libHlFdmFsdWF0ZShuZXcgVXMociksbyldO31wLmxheW91dFRleHRTaXplPWhbXCJ0ZXh0LXNpemVcIl0ucG9zc2libHlFdmFsdWF0ZShuZXcgVXMobCsxKSxvKSxwLmxheW91dEljb25TaXplPWhbXCJpY29uLXNpemVcIl0ucG9zc2libHlFdmFsdWF0ZShuZXcgVXMobCsxKSxvKSxwLnRleHRNYXhTaXplPWhbXCJ0ZXh0LXNpemVcIl0ucG9zc2libHlFdmFsdWF0ZShuZXcgVXMoMTgpLG8pO2NvbnN0IGY9XCJtYXBcIj09PWMuZ2V0KFwidGV4dC1yb3RhdGlvbi1hbGlnbm1lbnRcIikmJlwicG9pbnRcIiE9PWMuZ2V0KFwic3ltYm9sLXBsYWNlbWVudFwiKSxkPWMuZ2V0KFwidGV4dC1zaXplXCIpO2Zvcihjb25zdCBzIG9mIHQuZmVhdHVyZXMpe2NvbnN0IGw9Yy5nZXQoXCJ0ZXh0LWZvbnRcIikuZXZhbHVhdGUocyx7fSxvKS5qb2luKFwiLFwiKSxoPWQuZXZhbHVhdGUocyx7fSxvKSx5PXAubGF5b3V0VGV4dFNpemUuZXZhbHVhdGUocyx7fSxvKSxtPShwLmxheW91dEljb25TaXplLmV2YWx1YXRlKHMse30sbykse2hvcml6b250YWw6e30sdmVydGljYWw6dm9pZCAwfSksZz1zLnRleHQ7bGV0IHgsdj1bMCwwXTtpZihnKXtjb25zdCBuPWcudG9TdHJpbmcoKSxhPWMuZ2V0KFwidGV4dC1sZXR0ZXItc3BhY2luZ1wiKS5ldmFsdWF0ZShzLHt9LG8pKl9oLHU9Yy5nZXQoXCJ0ZXh0LWxpbmUtaGVpZ2h0XCIpLmV2YWx1YXRlKHMse30sbykqX2gscD1icyhuKT9hOjAsZD1jLmdldChcInRleHQtYW5jaG9yXCIpLmV2YWx1YXRlKHMse30sbykseD1jLmdldChcInRleHQtdmFyaWFibGUtYW5jaG9yXCIpO2lmKCF4KXtjb25zdCB0PWMuZ2V0KFwidGV4dC1yYWRpYWwtb2Zmc2V0XCIpLmV2YWx1YXRlKHMse30sbyk7dj10P0twKGQsW3QqX2gsWnBdKTpjLmdldChcInRleHQtb2Zmc2V0XCIpLmV2YWx1YXRlKHMse30sbykubWFwKCh0PT50Kl9oKSk7fWxldCBiPWY/XCJjZW50ZXJcIjpjLmdldChcInRleHQtanVzdGlmeVwiKS5ldmFsdWF0ZShzLHt9LG8pO2NvbnN0IF89Yy5nZXQoXCJzeW1ib2wtcGxhY2VtZW50XCIpLHc9XCJwb2ludFwiPT09XyxBPVwicG9pbnRcIj09PV8/Yy5nZXQoXCJ0ZXh0LW1heC13aWR0aFwiKS5ldmFsdWF0ZShzLHt9LG8pKl9oOjAsUz1zPT57dC5hbGxvd1ZlcnRpY2FsUGxhY2VtZW50JiZ2cyhuKSYmKG0udmVydGljYWw9bHAoZyxlLHIsaSxsLEEsdSxkLHMscCx2LHNwLnZlcnRpY2FsLCEwLF8seSxoKSk7fTtpZighZiYmeCl7Y29uc3QgdD1cImF1dG9cIj09PWI/eC5tYXAoKHQ9PllwKHQpKSk6W2JdO2xldCBuPSExO2ZvcihsZXQgcz0wO3M8dC5sZW5ndGg7cysrKXtjb25zdCBhPXRbc107aWYoIW0uaG9yaXpvbnRhbFthXSlpZihuKW0uaG9yaXpvbnRhbFthXT1tLmhvcml6b250YWxbMF07ZWxzZSB7Y29uc3QgdD1scChnLGUscixpLGwsQSx1LFwiY2VudGVyXCIsYSxwLHYsc3AuaG9yaXpvbnRhbCwhMSxfLHksaCk7dCYmKG0uaG9yaXpvbnRhbFthXT10LG49MT09PXQucG9zaXRpb25lZExpbmVzLmxlbmd0aCk7fX1TKFwibGVmdFwiKTt9ZWxzZSB7aWYoXCJhdXRvXCI9PT1iJiYoYj1ZcChkKSksd3x8Yy5nZXQoXCJ0ZXh0LXdyaXRpbmctbW9kZVwiKS5pbmRleE9mKFwiaG9yaXpvbnRhbFwiKT49MHx8IXZzKG4pKXtjb25zdCB0PWxwKGcsZSxyLGksbCxBLHUsZCxiLHAsdixzcC5ob3Jpem9udGFsLCExLF8seSxoKTt0JiYobS5ob3Jpem9udGFsW2JdPXQpO31TKFwicG9pbnRcIj09PV8/XCJsZWZ0XCI6Yik7fX1sZXQgYj0hMTtpZihzLmljb24mJnMuaWNvbi5uYW1lKXtjb25zdCBlPW5bcy5pY29uLm5hbWVdO2UmJih4PXZwKGlbcy5pY29uLm5hbWVdLGMuZ2V0KFwiaWNvbi1vZmZzZXRcIikuZXZhbHVhdGUocyx7fSxvKSxjLmdldChcImljb24tYW5jaG9yXCIpLmV2YWx1YXRlKHMse30sbykpLGI9ZS5zZGYsdm9pZCAwPT09dC5zZGZJY29ucz90LnNkZkljb25zPWUuc2RmOnQuc2RmSWNvbnMhPT1lLnNkZiYmJChcIlN0eWxlIHNoZWV0IHdhcm5pbmc6IENhbm5vdCBtaXggU0RGIGFuZCBub24tU0RGIGljb25zIGluIG9uZSBidWZmZXJcIiksKGUucGl4ZWxSYXRpbyE9PXQucGl4ZWxSYXRpb3x8MCE9PWMuZ2V0KFwiaWNvbi1yb3RhdGVcIikuY29uc3RhbnRPcigxKSkmJih0Lmljb25zTmVlZExpbmVhcj0hMCkpO31jb25zdCBfPXRmKG0uaG9yaXpvbnRhbCl8fG0udmVydGljYWw7dC5pY29uc0luVGV4dHx8KHQuaWNvbnNJblRleHQ9ISFfJiZfLmljb25zSW5UZXh0KSwoX3x8eCkmJldwKHQscyxtLHgsbixwLHksMCx2LGIsYSxvLHUpO31zJiZ0LmdlbmVyYXRlQ29sbGlzaW9uRGVidWdCdWZmZXJzKGwsdC5jb2xsaXNpb25Cb3hBcnJheSk7fWZ1bmN0aW9uIFlwKHQpe3N3aXRjaCh0KXtjYXNlXCJyaWdodFwiOmNhc2VcInRvcC1yaWdodFwiOmNhc2VcImJvdHRvbS1yaWdodFwiOnJldHVybiBcInJpZ2h0XCI7Y2FzZVwibGVmdFwiOmNhc2VcInRvcC1sZWZ0XCI6Y2FzZVwiYm90dG9tLWxlZnRcIjpyZXR1cm4gXCJsZWZ0XCJ9cmV0dXJuIFwiY2VudGVyXCJ9ZnVuY3Rpb24gV3AodCxlLHIsbixpLHMsYSxvLGwsdSxjLGgscCl7bGV0IGY9cy50ZXh0TWF4U2l6ZS5ldmFsdWF0ZShlLHt9LGgpO3ZvaWQgMD09PWYmJihmPWEpO2NvbnN0IGQ9dC5sYXllcnNbMF0ubGF5b3V0LHk9ZC5nZXQoXCJpY29uLW9mZnNldFwiKS5ldmFsdWF0ZShlLHt9LGgpLG09dGYoci5ob3Jpem9udGFsKXx8ci52ZXJ0aWNhbCxnPVwiZ2xvYmVcIj09PXAubmFtZSx2PWEvMjQsYj10LnRpbGVQaXhlbFJhdGlvKmYvMjQsXz0oVD10Lm92ZXJzY2FsaW5nLHQuem9vbT4xOCYmVD4yJiYoVD4+PTEpLE1hdGgubWF4KEJvLyg1MTIqVCksMSkqZC5nZXQoXCJzeW1ib2wtc3BhY2luZ1wiKSksdz1kLmdldChcInRleHQtcGFkZGluZ1wiKSp0LnRpbGVQaXhlbFJhdGlvLEE9ZC5nZXQoXCJpY29uLXBhZGRpbmdcIikqdC50aWxlUGl4ZWxSYXRpbyxTPXgoZC5nZXQoXCJ0ZXh0LW1heC1hbmdsZVwiKSksaz1cIm1hcFwiPT09ZC5nZXQoXCJ0ZXh0LXJvdGF0aW9uLWFsaWdubWVudFwiKSYmXCJwb2ludFwiIT09ZC5nZXQoXCJzeW1ib2wtcGxhY2VtZW50XCIpLEk9XCJtYXBcIj09PWQuZ2V0KFwiaWNvbi1yb3RhdGlvbi1hbGlnbm1lbnRcIikmJlwicG9pbnRcIiE9PWQuZ2V0KFwic3ltYm9sLXBsYWNlbWVudFwiKSxNPWQuZ2V0KFwic3ltYm9sLXBsYWNlbWVudFwiKSx6PV8vMjt2YXIgVDtjb25zdCBCPWQuZ2V0KFwiaWNvbi10ZXh0LWZpdFwiKTtsZXQgRTtuJiZcIm5vbmVcIiE9PUImJih0LmFsbG93VmVydGljYWxQbGFjZW1lbnQmJnIudmVydGljYWwmJihFPWJwKG4sci52ZXJ0aWNhbCxCLGQuZ2V0KFwiaWNvbi10ZXh0LWZpdC1wYWRkaW5nXCIpLHksdikpLG0mJihuPWJwKG4sbSxCLGQuZ2V0KFwiaWNvbi10ZXh0LWZpdC1wYWRkaW5nXCIpLHksdikpKTtjb25zdCBQPShhLG8sZik9PntpZihvLng8MHx8by54Pj1Cb3x8by55PDB8fG8ueT49Qm8pcmV0dXJuO2xldCBkPW51bGw7aWYoZyl7Y29uc3R7eDp0LHk6ZSx6OnJ9PXAucHJvamVjdFRpbGVQb2ludChvLngsby55LGYpO2Q9e2FuY2hvcjpuZXcgX3AodCxlLHIsMCx2b2lkIDApLHVwOnAudXBWZWN0b3IoZixvLngsby55KX07fSFmdW5jdGlvbih0LGUscixuLGkscyxhLG8sbCx1LGMsaCxwLGYsZCx5LG0sZyx4LHYsYixfLHcsQSxTKXtjb25zdCBrPXQuYWRkVG9MaW5lVmVydGV4QXJyYXkoZSxuKTtsZXQgSSxNLHosVCxCLEUsUCxDPTAsRD0wLFY9MCxGPTAsTD0tMSxSPS0xO2NvbnN0IFU9e307bGV0IGo9SGEuZXhwb3J0cyhcIlwiKTtjb25zdCBPPXI/ci5hbmNob3I6ZTtsZXQgcT0wLE49MDtpZih2b2lkIDA9PT1sLl91bmV2YWx1YXRlZExheW91dC5nZXRWYWx1ZShcInRleHQtcmFkaWFsLW9mZnNldFwiKT9bcSxOXT1sLmxheW91dC5nZXQoXCJ0ZXh0LW9mZnNldFwiKS5ldmFsdWF0ZShiLHt9LFMpLm1hcCgodD0+dCpfaCkpOihxPWwubGF5b3V0LmdldChcInRleHQtcmFkaWFsLW9mZnNldFwiKS5ldmFsdWF0ZShiLHt9LFMpKl9oLE49WnApLHQuYWxsb3dWZXJ0aWNhbFBsYWNlbWVudCYmaS52ZXJ0aWNhbCl7Y29uc3QgdD1pLnZlcnRpY2FsO2lmKGQpRT1yZih0KSxvJiYoUD1yZihvKSk7ZWxzZSB7Y29uc3Qgcj1sLmxheW91dC5nZXQoXCJ0ZXh0LXJvdGF0ZVwiKS5ldmFsdWF0ZShiLHt9LFMpKzkwO3o9ZWYodSxPLGUsYyxoLHAsdCxmLHIseSksbyYmKFQ9ZWYodSxPLGUsYyxoLHAsbyxnLHIpKTt9fWlmKHMpe2NvbnN0IG49bC5sYXlvdXQuZ2V0KFwiaWNvbi1yb3RhdGVcIikuZXZhbHVhdGUoYix7fSxTKSxpPVwibm9uZVwiIT09bC5sYXlvdXQuZ2V0KFwiaWNvbi10ZXh0LWZpdFwiKSxhPVZwKHMsbix3LGkpLGY9bz9WcChvLG4sdyxpKTp2b2lkIDA7TT1lZih1LE8sZSxjLGgscCxzLGcsbiksQz00KmEubGVuZ3RoO2NvbnN0IGQ9dC5pY29uU2l6ZURhdGE7bGV0IHk9bnVsbDtcInNvdXJjZVwiPT09ZC5raW5kPyh5PVt3aCpsLmxheW91dC5nZXQoXCJpY29uLXNpemVcIikuZXZhbHVhdGUoYix7fSxTKV0seVswXT5KcCYmJChgJHt0LmxheWVySWRzWzBdfTogVmFsdWUgZm9yIFwiaWNvbi1zaXplXCIgaXMgPj0gMjU1LiBSZWR1Y2UgeW91ciBcImljb24tc2l6ZVwiLmApKTpcImNvbXBvc2l0ZVwiPT09ZC5raW5kJiYoeT1bd2gqXy5jb21wb3NpdGVJY29uU2l6ZXNbMF0uZXZhbHVhdGUoYix7fSxTKSx3aCpfLmNvbXBvc2l0ZUljb25TaXplc1sxXS5ldmFsdWF0ZShiLHt9LFMpXSwoeVswXT5KcHx8eVsxXT5KcCkmJiQoYCR7dC5sYXllcklkc1swXX06IFZhbHVlIGZvciBcImljb24tc2l6ZVwiIGlzID49IDI1NS4gUmVkdWNlIHlvdXIgXCJpY29uLXNpemVcIi5gKSksdC5hZGRTeW1ib2xzKHQuaWNvbixhLHksdix4LGIsITEscixlLGsubGluZVN0YXJ0SW5kZXgsay5saW5lTGVuZ3RoLC0xLEEsUyksTD10Lmljb24ucGxhY2VkU3ltYm9sQXJyYXkubGVuZ3RoLTEsZiYmKEQ9NCpmLmxlbmd0aCx0LmFkZFN5bWJvbHModC5pY29uLGYseSx2LHgsYixzcC52ZXJ0aWNhbCxyLGUsay5saW5lU3RhcnRJbmRleCxrLmxpbmVMZW5ndGgsLTEsQSxTKSxSPXQuaWNvbi5wbGFjZWRTeW1ib2xBcnJheS5sZW5ndGgtMSk7fWZvcihjb25zdCBuIGluIGkuaG9yaXpvbnRhbCl7Y29uc3Qgcz1pLmhvcml6b250YWxbbl07SXx8KGo9SGEuZXhwb3J0cyhzLnRleHQpLGQ/Qj1yZihzKTpJPWVmKHUsTyxlLGMsaCxwLHMsZixsLmxheW91dC5nZXQoXCJ0ZXh0LXJvdGF0ZVwiKS5ldmFsdWF0ZShiLHt9LFMpLHkpKTtjb25zdCBvPTE9PT1zLnBvc2l0aW9uZWRMaW5lcy5sZW5ndGg7aWYoVis9UXAodCxyLGUscyxhLGwsZCxiLHksayxpLnZlcnRpY2FsP3NwLmhvcml6b250YWw6c3AuaG9yaXpvbnRhbE9ubHksbz9PYmplY3Qua2V5cyhpLmhvcml6b250YWwpOltuXSxVLEwsXyxBLFMpLG8pYnJlYWt9aS52ZXJ0aWNhbCYmKEYrPVFwKHQscixlLGkudmVydGljYWwsYSxsLGQsYix5LGssc3AudmVydGljYWwsW1widmVydGljYWxcIl0sVSxSLF8sQSxTKSk7bGV0IEc9LTE7Y29uc3QgWj0odCxlKT0+dD9NYXRoLm1heCh0LGUpOmU7Rz1aKEIsRyksRz1aKEUsRyksRz1aKFAsRyk7Y29uc3QgWD1HPi0xPzE6MDt0LmdseXBoT2Zmc2V0QXJyYXkubGVuZ3RoPj1tZC5NQVhfR0xZUEhTJiYkKFwiVG9vIG1hbnkgZ2x5cGhzIGJlaW5nIHJlbmRlcmVkIGluIGEgdGlsZS4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9tYXBib3gvbWFwYm94LWdsLWpzL2lzc3Vlcy8yOTA3XCIpLHZvaWQgMCE9PWIuc29ydEtleSYmdC5hZGRUb1NvcnRLZXlSYW5nZXModC5zeW1ib2xJbnN0YW5jZXMubGVuZ3RoLGIuc29ydEtleSksdC5zeW1ib2xJbnN0YW5jZXMuZW1wbGFjZUJhY2soTy54LE8ueSxPLnosZS54LGUueSxVLnJpZ2h0Pj0wP1UucmlnaHQ6LTEsVS5jZW50ZXI+PTA/VS5jZW50ZXI6LTEsVS5sZWZ0Pj0wP1UubGVmdDotMSxVLnZlcnRpY2FsPj0wP1UudmVydGljYWw6LTEsTCxSLGosdm9pZCAwIT09ST9JOnQuY29sbGlzaW9uQm94QXJyYXkubGVuZ3RoLHZvaWQgMCE9PUk/SSsxOnQuY29sbGlzaW9uQm94QXJyYXkubGVuZ3RoLHZvaWQgMCE9PXo/ejp0LmNvbGxpc2lvbkJveEFycmF5Lmxlbmd0aCx2b2lkIDAhPT16P3orMTp0LmNvbGxpc2lvbkJveEFycmF5Lmxlbmd0aCx2b2lkIDAhPT1NP006dC5jb2xsaXNpb25Cb3hBcnJheS5sZW5ndGgsdm9pZCAwIT09TT9NKzE6dC5jb2xsaXNpb25Cb3hBcnJheS5sZW5ndGgsVHx8dC5jb2xsaXNpb25Cb3hBcnJheS5sZW5ndGgsVD9UKzE6dC5jb2xsaXNpb25Cb3hBcnJheS5sZW5ndGgsYyxWLEYsQyxELFgsMCxxLE4sRyk7fSh0LG8sZCxhLHIsbixpLEUsdC5sYXllcnNbMF0sdC5jb2xsaXNpb25Cb3hBcnJheSxlLmluZGV4LGUuc291cmNlTGF5ZXJJbmRleCx0LmluZGV4LHcsayxsLDAsQSxJLHksZSxzLHUsYyxoKTt9O2lmKFwibGluZVwiPT09TSlmb3IoY29uc3QgaSBvZiBUcChlLmdlb21ldHJ5LDAsMCxCbyxCbykpe2NvbnN0IGU9TXAoaSxfLFMsci52ZXJ0aWNhbHx8bSxuLDI0LGIsdC5vdmVyc2NhbGluZyxCbyk7Zm9yKGNvbnN0IHIgb2YgZSl7Y29uc3QgZT1tO2UmJm5mKHQsZS50ZXh0LHoscil8fFAoaSxyLGgpO319ZWxzZSBpZihcImxpbmUtY2VudGVyXCI9PT1NKXtmb3IoY29uc3QgdCBvZiBlLmdlb21ldHJ5KWlmKHQubGVuZ3RoPjEpe2NvbnN0IGU9SXAodCxTLHIudmVydGljYWx8fG0sbiwyNCxiKTtlJiZQKHQsZSxoKTt9fWVsc2UgaWYoXCJQb2x5Z29uXCI9PT1lLnR5cGUpZm9yKGNvbnN0IHQgb2YgYWMoZS5nZW9tZXRyeSwwKSl7Y29uc3QgZT1xcCh0LDE2KTtQKHRbMF0sbmV3IF9wKGUueCxlLnksMCwwLHZvaWQgMCksaCk7fWVsc2UgaWYoXCJMaW5lU3RyaW5nXCI9PT1lLnR5cGUpZm9yKGNvbnN0IHQgb2YgZS5nZW9tZXRyeSlQKHQsbmV3IF9wKHRbMF0ueCx0WzBdLnksMCwwLHZvaWQgMCksaCk7ZWxzZSBpZihcIlBvaW50XCI9PT1lLnR5cGUpZm9yKGNvbnN0IHQgb2YgZS5nZW9tZXRyeSlmb3IoY29uc3QgZSBvZiB0KVAoW2VdLG5ldyBfcChlLngsZS55LDAsMCx2b2lkIDApLGgpO31jb25zdCBKcD0zMjY0MDtmdW5jdGlvbiBRcCh0LGUscixuLGkscyxhLG8sbCx1LGMsaCxwLGYseSxtLGcpe2NvbnN0IHg9ZnVuY3Rpb24odCxlLHIsbixpLHMsYSxvKXtjb25zdCBsPVtdO2lmKDA9PT1lLnBvc2l0aW9uZWRMaW5lcy5sZW5ndGgpcmV0dXJuIGw7Y29uc3QgdT1uLmxheW91dC5nZXQoXCJ0ZXh0LXJvdGF0ZVwiKS5ldmFsdWF0ZShzLHt9KSpNYXRoLlBJLzE4MCxjPWZ1bmN0aW9uKHQpe2NvbnN0IGU9dFswXSxyPXRbMV0sbj1lKnI7cmV0dXJuIG4+MD9bZSwtcl06bjwwP1stZSxyXTowPT09ZT9bcixlXTpbciwtZV19KHIpO2xldCBoPU1hdGguYWJzKGUudG9wLWUuYm90dG9tKTtmb3IoY29uc3QgdCBvZiBlLnBvc2l0aW9uZWRMaW5lcyloLT10LmxpbmVPZmZzZXQ7Y29uc3QgcD1lLnBvc2l0aW9uZWRMaW5lcy5sZW5ndGgsZj1oL3A7bGV0IHk9ZS50b3AtclsxXTtmb3IobGV0IHQ9MDt0PHA7Kyt0KXtjb25zdCBuPWUucG9zaXRpb25lZExpbmVzW3RdO3k9anAoZSxmLHksdCk7Zm9yKGNvbnN0IHQgb2Ygbi5wb3NpdGlvbmVkR2x5cGhzKXtpZighdC5yZWN0KWNvbnRpbnVlO2NvbnN0IG49dC5yZWN0fHx7fTtsZXQgcz00LGg9ITAscD0xLGY9MDtpZih0LmltYWdlTmFtZSl7Y29uc3QgZT1hW3QuaW1hZ2VOYW1lXTtpZighZSljb250aW51ZTtpZihlLnNkZil7JChcIlNERiBpbWFnZXMgYXJlIG5vdCBzdXBwb3J0ZWQgaW4gZm9ybWF0dGVkIHRleHQgYW5kIHdpbGwgYmUgaWdub3JlZC5cIik7Y29udGludWV9aD0hMSxwPWUucGl4ZWxSYXRpbyxzPTEvcDt9Y29uc3QgbT0oaXx8bykmJnQudmVydGljYWwsZz10Lm1ldHJpY3MuYWR2YW5jZSp0LnNjYWxlLzIseD10Lm1ldHJpY3Msdj10LnJlY3Q7aWYobnVsbD09PXYpY29udGludWU7byYmZS52ZXJ0aWNhbGl6YWJsZSYmKGY9dC5pbWFnZU5hbWU/Zy10Lm1ldHJpY3Mud2lkdGgqdC5zY2FsZS8yOjApO2NvbnN0IGI9aT9bdC54K2csdC55XTpbMCwwXTtsZXQgXz1bMCwwXSx3PVswLDBdLEE9ITE7aXx8KG0/KHc9W3QueCtnK2NbMF0sdC55K2NbMV0tZl0sQT0hMCk6Xz1bdC54K2crclswXSx0LnkrclsxXS1mXSk7Y29uc3QgUz12LncqdC5zY2FsZS8ocCoodC5sb2NhbEdseXBoPzI6MSkpLGs9di5oKnQuc2NhbGUvKHAqKHQubG9jYWxHbHlwaD8yOjEpKTtsZXQgSSxNLHosVDtpZihtKXtjb25zdCBlPXQueS15LHI9bmV3IGQoLWcsZy1lKSxuPS1NYXRoLlBJLzIsaT1uZXcgZCguLi53KTtJPW5ldyBkKC1nK19bMF0sX1sxXSksSS5fcm90YXRlQXJvdW5kKG4scikuX2FkZChpKSxJLngrPS1lK2csSS55LT0oeC5sZWZ0LXMpKnQuc2NhbGU7Y29uc3QgYT10LmltYWdlTmFtZT94LmFkdmFuY2UqdC5zY2FsZTpfaCp0LnNjYWxlLG89U3RyaW5nLmZyb21DaGFyQ29kZSh0LmdseXBoKTtUaChvKT9JLngrPSgxLXMpKnQuc2NhbGU6Qmgobyk/SS54Kz1hLXguaGVpZ2h0KnQuc2NhbGUrKC1zLTEpKnQuc2NhbGU6SS54Kz10LmltYWdlTmFtZXx8eC53aWR0aCsyKnM9PT12LncmJnguaGVpZ2h0KzIqcz09PXYuaD8oYS1rKS8yOihhLSh4LmhlaWdodCsyKnMpKnQuc2NhbGUpLzIsTT1uZXcgZChJLngsSS55LVMpLHo9bmV3IGQoSS54K2ssSS55KSxUPW5ldyBkKEkueCtrLEkueS1TKTt9ZWxzZSB7Y29uc3QgZT0oeC5sZWZ0LXMpKnQuc2NhbGUtZytfWzBdLHI9KC14LnRvcC1zKSp0LnNjYWxlK19bMV0sbj1lK1MsaT1yK2s7ST1uZXcgZChlLHIpLE09bmV3IGQobixyKSx6PW5ldyBkKGUsaSksVD1uZXcgZChuLGkpO31pZih1KXtsZXQgdDt0PWk/bmV3IGQoMCwwKTpBP25ldyBkKGNbMF0sY1sxXSk6bmV3IGQoclswXSxyWzFdKSxJLl9yb3RhdGVBcm91bmQodSx0KSxNLl9yb3RhdGVBcm91bmQodSx0KSx6Ll9yb3RhdGVBcm91bmQodSx0KSxULl9yb3RhdGVBcm91bmQodSx0KTt9Y29uc3QgQj1uZXcgZCgwLDApLEU9bmV3IGQoMCwwKTtsLnB1c2goe3RsOkksdHI6TSxibDp6LGJyOlQsdGV4Om4sd3JpdGluZ01vZGU6ZS53cml0aW5nTW9kZSxnbHlwaE9mZnNldDpiLHNlY3Rpb25JbmRleDp0LnNlY3Rpb25JbmRleCxpc1NERjpoLHBpeGVsT2Zmc2V0VEw6QixwaXhlbE9mZnNldEJSOkUsbWluRm9udFNjYWxlWDowLG1pbkZvbnRTY2FsZVk6MH0pO319cmV0dXJuIGx9KDAsbixsLHMsYSxvLGksdC5hbGxvd1ZlcnRpY2FsUGxhY2VtZW50KSx2PXQudGV4dFNpemVEYXRhO2xldCBiPW51bGw7XCJzb3VyY2VcIj09PXYua2luZD8oYj1bd2gqcy5sYXlvdXQuZ2V0KFwidGV4dC1zaXplXCIpLmV2YWx1YXRlKG8se30sZyldLGJbMF0+SnAmJiQoYCR7dC5sYXllcklkc1swXX06IFZhbHVlIGZvciBcInRleHQtc2l6ZVwiIGlzID49IDI1NS4gUmVkdWNlIHlvdXIgXCJ0ZXh0LXNpemVcIi5gKSk6XCJjb21wb3NpdGVcIj09PXYua2luZCYmKGI9W3doKnkuY29tcG9zaXRlVGV4dFNpemVzWzBdLmV2YWx1YXRlKG8se30sZyksd2gqeS5jb21wb3NpdGVUZXh0U2l6ZXNbMV0uZXZhbHVhdGUobyx7fSxnKV0sKGJbMF0+SnB8fGJbMV0+SnApJiYkKGAke3QubGF5ZXJJZHNbMF19OiBWYWx1ZSBmb3IgXCJ0ZXh0LXNpemVcIiBpcyA+PSAyNTUuIFJlZHVjZSB5b3VyIFwidGV4dC1zaXplXCIuYCkpLHQuYWRkU3ltYm9scyh0LnRleHQseCxiLGwsYSxvLGMsZSxyLHUubGluZVN0YXJ0SW5kZXgsdS5saW5lTGVuZ3RoLGYsbSxnKTtmb3IoY29uc3QgZSBvZiBoKXBbZV09dC50ZXh0LnBsYWNlZFN5bWJvbEFycmF5Lmxlbmd0aC0xO3JldHVybiA0KngubGVuZ3RofWZ1bmN0aW9uIHRmKHQpe2Zvcihjb25zdCBlIGluIHQpcmV0dXJuIHRbZV07cmV0dXJuIG51bGx9ZnVuY3Rpb24gZWYodCxlLHIsbixpLHMsYSxvLGwsdSl7bGV0IGM9YS50b3AsaD1hLmJvdHRvbSxwPWEubGVmdCxmPWEucmlnaHQ7Y29uc3QgeT1hLmNvbGxpc2lvblBhZGRpbmc7aWYoeSYmKHAtPXlbMF0sYy09eVsxXSxmKz15WzJdLGgrPXlbM10pLGwpe2NvbnN0IHQ9bmV3IGQocCxjKSxlPW5ldyBkKGYsYykscj1uZXcgZChwLGgpLG49bmV3IGQoZixoKSxpPXgobCk7bGV0IHM9bmV3IGQoMCwwKTt1JiYocz1uZXcgZCh1WzBdLHVbMV0pKSx0Ll9yb3RhdGVBcm91bmQoaSxzKSxlLl9yb3RhdGVBcm91bmQoaSxzKSxyLl9yb3RhdGVBcm91bmQoaSxzKSxuLl9yb3RhdGVBcm91bmQoaSxzKSxwPU1hdGgubWluKHQueCxlLngsci54LG4ueCksZj1NYXRoLm1heCh0LngsZS54LHIueCxuLngpLGM9TWF0aC5taW4odC55LGUueSxyLnksbi55KSxoPU1hdGgubWF4KHQueSxlLnksci55LG4ueSk7fXJldHVybiB0LmVtcGxhY2VCYWNrKGUueCxlLnksZS56LHIueCxyLnkscCxjLGYsaCxvLG4saSxzKSx0Lmxlbmd0aC0xfWZ1bmN0aW9uIHJmKHQpe3QuY29sbGlzaW9uUGFkZGluZyYmKHQudG9wLT10LmNvbGxpc2lvblBhZGRpbmdbMV0sdC5ib3R0b20rPXQuY29sbGlzaW9uUGFkZGluZ1szXSk7Y29uc3QgZT10LmJvdHRvbS10LnRvcDtyZXR1cm4gZT4wP01hdGgubWF4KDEwLGUpOm51bGx9ZnVuY3Rpb24gbmYodCxlLHIsbil7Y29uc3QgaT10LmNvbXBhcmVUZXh0O2lmKGUgaW4gaSl7Y29uc3QgdD1pW2VdO2ZvcihsZXQgZT10Lmxlbmd0aC0xO2U+PTA7ZS0tKWlmKG4uZGlzdCh0W2VdKTxyKXJldHVybiAhMH1lbHNlIGlbZV09W107cmV0dXJuIGlbZV0ucHVzaChuKSwhMX1jb25zdCBzZj1pYShbe3R5cGU6XCJGbG9hdDMyXCIsbmFtZTpcImFfZ2xvYmVfcG9zXCIsY29tcG9uZW50czozfSx7dHlwZTpcIkZsb2F0MzJcIixuYW1lOlwiYV91dlwiLGNvbXBvbmVudHM6Mn1dKSx7bWVtYmVyczphZn09c2Ysb2Y9aWEoW3tuYW1lOlwiYV9wb3NfM1wiLGNvbXBvbmVudHM6Myx0eXBlOlwiSW50MTZcIn1dKTt2YXIgbGY9aWEoW3tuYW1lOlwiYV9wb3NcIix0eXBlOlwiSW50MTZcIixjb21wb25lbnRzOjJ9XSk7Y29uc3QgdWY9Qm8vTWF0aC5QSS8yLGNmPTIqUm8oMSwwKSp1ZipNYXRoLlBJLGhmPTY0LHBmPVtoZiwzMiwxNl0sZmY9LXVmLGRmPXVmLHlmPVtuZXcgcHUoW2ZmLGZmLGZmXSxbZGYsZGYsZGZdKSxuZXcgcHUoW2ZmLGZmLGZmXSxbMCwwLGRmXSksbmV3IHB1KFswLGZmLGZmXSxbZGYsMCxkZl0pLG5ldyBwdShbZmYsMCxmZl0sWzAsZGYsZGZdKSxuZXcgcHUoWzAsMCxmZl0sW2RmLGRmLGRmXSldO2Z1bmN0aW9uIG1mKHQsZSxyLG49ITApe2NvbnN0IGk9TmwoW10sdC5fY2FtZXJhLnBvc2l0aW9uLHQud29ybGRTaXplKSxzPVtlLHIsMSwxXTtudShzLHMsdC5waXhlbE1hdHJpeEludmVyc2UpLGV1KHMscywxL3NbM10pO2NvbnN0IGE9WmwoW10sSmwoW10scyxpKSksbz10Lmdsb2JlTWF0cml4LGw9W29bMTJdLG9bMTNdLG9bMTRdXSx1PUpsKFtdLGwsaSksYz1MbCh1KSxoPVpsKFtdLHUpLHA9dC53b3JsZFNpemUvKDIqTWF0aC5QSSksZj1YbChoLGEpLGQ9TWF0aC5hc2luKHAvYyk7aWYoZDxNYXRoLmFjb3MoZikpe2lmKCFuKXJldHVybiBudWxsO2NvbnN0IHQ9W10sZT1bXTtObCh0LGEsYy9mKSxabChlLEpsKGUsdCx1KSksWmwoYSxVbChhLHUsTmwoYSxlLE1hdGgudGFuKGQpKmMpKSk7fWNvbnN0IHk9W107bmV3IHV1KGksYSkuY2xvc2VzdFBvaW50T25TcGhlcmUobCxwLHkpO2NvbnN0IG09WmwoW10sSChvLDApKSxnPVpsKFtdLEgobywxKSkseD1abChbXSxIKG8sMikpLGI9WGwobSx5KSxfPVhsKGcseSksdz1YbCh4LHkpLEE9dihNYXRoLmFzaW4oLV8vcCkpO2xldCBrPXYoTWF0aC5hdGFuMihiLHcpKTtrPXQuY2VudGVyLmxuZytmdW5jdGlvbih0LGUpe2NvbnN0IHI9KGUtdCsxODApJTM2MC0xODA7cmV0dXJuIHI8LTE4MD9yKzM2MDpyfSh0LmNlbnRlci5sbmcsayk7Y29uc3QgST1GbyhrKSxNPVMoTG8oQSksMCwxKTtyZXR1cm4gbmV3IE5vKEksTSl9Y2xhc3MgZ2Z7Y29uc3RydWN0b3IodCxlLHIpe3RoaXMuYT1KbChbXSx0LHIpLHRoaXMuYj1KbChbXSxlLHIpLHRoaXMuY2VudGVyPXI7Y29uc3Qgbj1abChbXSx0aGlzLmEpLGk9WmwoW10sdGhpcy5iKTt0aGlzLmFuZ2xlPU1hdGguYWNvcyhYbChuLGkpKTt9fWZ1bmN0aW9uIHhmKHQsZSl7aWYoMD09PXQuYW5nbGUpcmV0dXJuIG51bGw7bGV0IHI7cmV0dXJuIHI9MD09PXQuYVtlXT8xL3QuYW5nbGUqLjUqTWF0aC5QSToxL3QuYW5nbGUqTWF0aC5hdGFuKHQuYltlXS90LmFbZV0vTWF0aC5zaW4odC5hbmdsZSktMS9NYXRoLnRhbih0LmFuZ2xlKSkscjwwfHxyPjE/bnVsbDpmdW5jdGlvbih0LGUscixuKXtjb25zdCBpPU1hdGguc2luKHIpO3JldHVybiB0KihNYXRoLnNpbigoMS1uKSpyKS9pKStlKihNYXRoLnNpbihuKnIpL2kpfSh0LmFbZV0sdC5iW2VdLHQuYW5nbGUsUyhyLDAsMSkpK3QuY2VudGVyW2VdfWZ1bmN0aW9uIHZmKHQpe2lmKHQuejw9MSlyZXR1cm4geWZbdC56KzIqdC55K3QueF07Y29uc3QgZT1rZihTZih0KSk7cmV0dXJuIHB1LmZyb21Qb2ludHMoZSl9ZnVuY3Rpb24gYmYodCxlLHIpe3JldHVybiBObCh0LHQsMS1yKSxHbCh0LHQsZSxyKX1mdW5jdGlvbiBfZih0LGUpe2NvbnN0IHI9RGYoZS56b29tKTtpZigwPT09cilyZXR1cm4gdmYodCk7Y29uc3Qgbj1TZih0KSxpPWtmKG4pLHM9Rm8obi5nZXRXZXN0KCkpKmUud29ybGRTaXplLGE9Rm8obi5nZXRFYXN0KCkpKmUud29ybGRTaXplLG89TG8obi5nZXROb3J0aCgpKSplLndvcmxkU2l6ZSxsPUxvKG4uZ2V0U291dGgoKSkqZS53b3JsZFNpemUsdT1bcyxvLDBdLGM9W2EsbywwXSxoPVtzLGwsMF0scD1bYSxsLDBdLGY9SWwoW10sZS5nbG9iZU1hdHJpeCk7cmV0dXJuIEhsKHUsdSxmKSxIbChjLGMsZiksSGwoaCxoLGYpLEhsKHAscCxmKSxpWzBdPWJmKGlbMF0saCxyKSxpWzFdPWJmKGlbMV0scCxyKSxpWzJdPWJmKGlbMl0sYyxyKSxpWzNdPWJmKGlbM10sdSxyKSxwdS5mcm9tUG9pbnRzKGkpfWZ1bmN0aW9uIHdmKHQsZSxyKXtmb3IoY29uc3QgbiBvZiB0KUhsKG4sbixlKSxObChuLG4scik7fWZ1bmN0aW9uIEFmKHQsZSxyKXtjb25zdCBuPWUvdC53b3JsZFNpemUsaT10Lmdsb2JlTWF0cml4O2lmKHIuejw9MSl7Y29uc3QgdD12ZihyKS5nZXRDb3JuZXJzKCk7cmV0dXJuIHdmKHQsaSxuKSxwdS5mcm9tUG9pbnRzKHQpfWNvbnN0IHM9U2YociksYT1rZihzKTt3ZihhLGksbik7Y29uc3Qgbz1OdW1iZXIuTUFYX1ZBTFVFLGw9Wy1vLC1vLC1vXSx1PVtvLG8sb107aWYocy5jb250YWlucyh0LmNlbnRlcikpe2Zvcihjb25zdCB0IG9mIGEpT2wodSx1LHQpLHFsKGwsbCx0KTtsWzJdPTA7Y29uc3QgZT10LnBvaW50LHI9W2UueCpuLGUueSpuLDBdO3JldHVybiBPbCh1LHUscikscWwobCxsLHIpLG5ldyBwdSh1LGwpfWNvbnN0IGM9W2lbMTJdKm4saVsxM10qbixpWzE0XSpuXSxoPXMuZ2V0Q2VudGVyKCkscD1TKHQuY2VudGVyLmxhdCwtODUuMDUxMTI5LE9vKSxmPVMoaC5sYXQsLTg1LjA1MTEyOSxPbyksZD1Gbyh0LmNlbnRlci5sbmcpLHk9TG8ocCk7bGV0IG09ZC1GbyhoLmxuZyk7Y29uc3QgZz15LUxvKGYpO20+LjU/bS09MTptPC0uNSYmKG0rPTEpO2xldCB2PTA7TWF0aC5hYnMobSk+TWF0aC5hYnMoZyk/dj1tPj0wPzE6Mzoodj1nPj0wPzA6MixHbChjLGMsW2lbNF0qbixpWzVdKm4saVs2XSpuXSwtTWF0aC5zaW4oeChnPj0wP3MuZ2V0U291dGgoKTpzLmdldE5vcnRoKCkpKSp1ZikpO2NvbnN0IGI9YVt2XSxfPWFbKHYrMSklNF0sdz1uZXcgZ2YoYixfLGMpLEE9W3hmKHcsMCl8fGJbMF0seGYodywxKXx8YlsxXSx4Zih3LDIpfHxiWzJdXSxrPURmKHQuem9vbSk7aWYoaz4wKXtjb25zdCBuPWZ1bmN0aW9uKHt4OnQseTplLHo6cn0sbixpLHMsYSl7Y29uc3Qgbz0xLygxPDxyKTtsZXQgbD10Km8sdT1sK28sYz1lKm8saD1jK28scD0wO2NvbnN0IGY9KGwrdSkvMi1zO3JldHVybiBmPi41P3A9LTE6ZjwtLjUmJihwPTEpLGw9KChsK3ApKm4tKHMqPW4pKSppK3MsdT0oKHUrcCkqbi1zKSppK3MsYz0oYypuLShhKj1uKSkqaSthLGg9KGgqbi1hKSppK2EsW1tsLGgsMF0sW3UsaCwwXSxbdSxjLDBdLFtsLGMsMF1dfShyLGUsdC5fcGl4ZWxzUGVyTWVyY2F0b3JQaXhlbCxkLHkpO2ZvcihsZXQgdD0wO3Q8YS5sZW5ndGg7dCsrKWJmKGFbdF0sblt0XSxrKTtjb25zdCBpPVVsKFtdLG5bdl0sblsodisxKSU0XSk7TmwoaSxpLC41KSxiZihBLGksayk7fWZvcihjb25zdCB0IG9mIGEpT2wodSx1LHQpLHFsKGwsbCx0KTtyZXR1cm4gdVsyXT1NYXRoLm1pbihiWzJdLF9bMl0pLE9sKHUsdSxBKSxxbChsLGwsQSksbmV3IHB1KHUsbCl9ZnVuY3Rpb24gU2Yoe3g6dCx5OmUsejpyfSl7Y29uc3Qgbj0xLygxPDxyKSxpPW5ldyBDbyhVbyh0Km4pLGpvKChlKzEpKm4pKSxzPW5ldyBDbyhVbygodCsxKSpuKSxqbyhlKm4pKTtyZXR1cm4gbmV3IEVvKGkscyl9ZnVuY3Rpb24ga2YodCl7Y29uc3QgZT14KHQuZ2V0Tm9ydGgoKSkscj14KHQuZ2V0U291dGgoKSksbj1NYXRoLmNvcyhlKSxpPU1hdGguY29zKHIpLHM9TWF0aC5zaW4oZSksYT1NYXRoLnNpbihyKSxvPXQuZ2V0V2VzdCgpLGw9dC5nZXRFYXN0KCk7cmV0dXJuIFtJZihpLGEsbyksSWYoaSxhLGwpLElmKG4scyxsKSxJZihuLHMsbyldfWZ1bmN0aW9uIElmKHQsZSxyLG49dWYpe3JldHVybiByPXgociksW3QqTWF0aC5zaW4ocikqbiwtZSpuLHQqTWF0aC5jb3Mocikqbl19ZnVuY3Rpb24gTWYodCxlLHIpe3JldHVybiBJZihNYXRoLmNvcyh4KHQpKSxNYXRoLnNpbih4KHQpKSxlLHIpfWZ1bmN0aW9uIHpmKHQsZSxyLG4pe2NvbnN0IGk9MTw8ci56LHM9KHQvQm8rci54KS9pO3JldHVybiBNZihqbygoZS9CbytyLnkpL2kpLFVvKHMpLG4pfWZ1bmN0aW9uIFRmKHttaW46dCxtYXg6ZX0pe3JldHVybiAxNjM4My9NYXRoLm1heChlWzBdLXRbMF0sZVsxXS10WzFdLGVbMl0tdFsyXSl9Y29uc3QgQmY9bmV3IEZsb2F0NjRBcnJheSgxNik7ZnVuY3Rpb24gRWYodCl7Y29uc3QgZT1UZih0KSxyPVBsKEJmLFtlLGUsZV0pO3JldHVybiB6bChyLHIsKChuPVtdKVswXT0tKGk9dC5taW4pWzBdLG5bMV09LWlbMV0sblsyXT0taVsyXSxuKSk7dmFyIG4saTt9ZnVuY3Rpb24gUGYodCl7Y29uc3QgZT0obj10Lm1pbiwocj1CZilbMF09MSxyWzFdPTAsclsyXT0wLHJbM109MCxyWzRdPTAscls1XT0xLHJbNl09MCxyWzddPTAscls4XT0wLHJbOV09MCxyWzEwXT0xLHJbMTFdPTAsclsxMl09blswXSxyWzEzXT1uWzFdLHJbMTRdPW5bMl0sclsxNV09MSxyKTt2YXIgcixuO2NvbnN0IGk9MS9UZih0KTtyZXR1cm4gVGwoZSxlLFtpLGksaV0pfWZ1bmN0aW9uIENmKHQsZSxyLG4saSl7Y29uc3Qgcz1mdW5jdGlvbih0KXtjb25zdCBlPUJvLygyKk1hdGguUEkpO3JldHVybiB0LygyKk1hdGguUEkpL2V9KHIpLGE9W3QsZSwtci8oMipNYXRoLlBJKV0sbz1rbChuZXcgRmxvYXQ2NEFycmF5KDE2KSk7cmV0dXJuIHpsKG8sbyxhKSxUbChvLG8sW3MscyxzXSksQmwobyxvLHgoLWkpKSxFbChvLG8seCgtbikpLG99ZnVuY3Rpb24gRGYodCl7cmV0dXJuIGsoNSw2LHQpfWZ1bmN0aW9uIFZmKHQsZSl7Y29uc3Qgcj1NZihlLmxhdCxlLmxuZyksbj1mdW5jdGlvbih0KXtjb25zdCBlPU1mKHQuX2NlbnRlci5sYXQsdC5fY2VudGVyLmxuZyk7bGV0IHI9S2woW10sUmwoMCwxLDApLGUpO2NvbnN0IG49Q2woW10sLXQuYW5nbGUsZSk7cj1IbChyLHIsbiksQ2wobiwtdC5fcGl0Y2gscik7Y29uc3QgaT1abChbXSxlKTtyZXR1cm4gTmwoaSxpLHQuY2FtZXJhVG9DZW50ZXJEaXN0YW5jZS90LnBpeGVsc1Blck1ldGVyKmNmKSxIbChpLGksbiksVWwoW10sZSxpKX0odCk7cmV0dXJuIGE9KGk9amwoW10sbixyKSlbMF0sbz1pWzFdLGw9aVsyXSx1PShzPXIpWzBdLGM9c1sxXSxoPXNbMl0sZj0ocD1NYXRoLnNxcnQoYSphK28qbytsKmwpKk1hdGguc3FydCh1KnUrYypjK2gqaCkpJiZYbChpLHMpL3AsTWF0aC5hY29zKE1hdGgubWluKE1hdGgubWF4KGYsLTEpLDEpKTt2YXIgaSxzLGEsbyxsLHUsYyxoLHAsZjt9Y29uc3QgRmY9eCg4NSksTGY9TWF0aC5jb3MoRmYpLFJmPU1hdGguc2luKEZmKTtmdW5jdGlvbiBVZih0LGUpe2NvbnN0IHI9dC5mb3ZBYm92ZUNlbnRlcixuPXQuZWxldmF0aW9uP3QuZWxldmF0aW9uLmdldE1pbkVsZXZhdGlvbkJlbG93TVNMKCkqZTowLGk9KHQuX2NhbWVyYS5wb3NpdGlvblsyXSp0LndvcmxkU2l6ZS1uKS9NYXRoLmNvcyh0Ll9waXRjaCkscz1NYXRoLnNpbihyKSppL01hdGguc2luKE1hdGgubWF4KE1hdGguUEkvMi10Ll9waXRjaC1yLC4wMSkpLGE9TWF0aC5zaW4odC5fcGl0Y2gpKnMraTtyZXR1cm4gTWF0aC5taW4oMS4wMSphLGkqKDEvdC5faG9yaXpvblNoaWZ0KSl9ZnVuY3Rpb24gamYodCxlKXtpZighZS5pc1JlcHJvamVjdGVkSW5UaWxlU3BhY2UpcmV0dXJuIHtzY2FsZToxPDx0LnoseDp0LngseTp0LnkseDI6dC54KzEseTI6dC55KzEscHJvamVjdGlvbjplfTtjb25zdCByPU1hdGgucG93KDIsLXQueiksbj10LngqcixpPSh0LngrMSkqcixzPXQueSpyLGE9KHQueSsxKSpyLG89VW8obiksbD1VbyhpKSx1PWpvKHMpLGM9am8oYSksaD1lLnByb2plY3Qobyx1KSxwPWUucHJvamVjdChsLHUpLGY9ZS5wcm9qZWN0KGwsYyksZD1lLnByb2plY3QobyxjKTtsZXQgeT1NYXRoLm1pbihoLngscC54LGYueCxkLngpLG09TWF0aC5taW4oaC55LHAueSxmLnksZC55KSxnPU1hdGgubWF4KGgueCxwLngsZi54LGQueCkseD1NYXRoLm1heChoLnkscC55LGYueSxkLnkpO2NvbnN0IHY9ci8xNjtmdW5jdGlvbiBiKHQscixuLGkscyxhKXtjb25zdCBvPShuK3MpLzIsbD0oaSthKS8yLHU9ZS5wcm9qZWN0KFVvKG8pLGpvKGwpKSxjPU1hdGgubWF4KDAseS11LngsbS11LnksdS54LWcsdS55LXgpO3k9TWF0aC5taW4oeSx1LngpLGc9TWF0aC5tYXgoZyx1LngpLG09TWF0aC5taW4obSx1LnkpLHg9TWF0aC5tYXgoeCx1LnkpLGM+diYmKGIodCx1LG4saSxvLGwpLGIodSxyLG8sbCxzLGEpKTt9YihoLHAsbixzLGkscyksYihwLGYsaSxzLGksYSksYihmLGQsaSxhLG4sYSksYihkLGgsbixhLG4scykseS09dixtLT12LGcrPXYseCs9djtjb25zdCBfPTEvTWF0aC5tYXgoZy15LHgtbSk7cmV0dXJuIHtzY2FsZTpfLHg6eSpfLHk6bSpfLHgyOmcqXyx5Mjp4Kl8scHJvamVjdGlvbjplfX1jb25zdCAkZj1rbChuZXcgRmxvYXQzMkFycmF5KDE2KSk7Y2xhc3MgT2Z7Y29uc3RydWN0b3IodCl7dGhpcy5zcGVjPXQsdGhpcy5uYW1lPXQubmFtZSx0aGlzLndyYXA9ITEsdGhpcy5yZXF1aXJlc0RyYXBpbmc9ITEsdGhpcy5zdXBwb3J0c1dvcmxkQ29waWVzPSExLHRoaXMuc3VwcG9ydHNUZXJyYWluPSExLHRoaXMuc3VwcG9ydHNGb2c9ITEsdGhpcy5zdXBwb3J0c0ZyZWVDYW1lcmE9ITEsdGhpcy56QXhpc1VuaXQ9XCJtZXRlcnNcIix0aGlzLmlzUmVwcm9qZWN0ZWRJblRpbGVTcGFjZT0hMCx0aGlzLnVuc3VwcG9ydGVkTGF5ZXJzPVtcImN1c3RvbVwiXSx0aGlzLmNlbnRlcj1bMCwwXSx0aGlzLnJhbmdlPVszLjUsN107fXByb2plY3QodCxlKXtyZXR1cm4ge3g6MCx5OjAsejowfX11bnByb2plY3QodCxlKXtyZXR1cm4gbmV3IENvKDAsMCl9cHJvamVjdFRpbGVQb2ludCh0LGUscil7cmV0dXJuIHt4OnQseTplLHo6MH19bG9jYXRpb25Qb2ludCh0LGUscj0hMCl7cmV0dXJuIHQuX2Nvb3JkaW5hdGVQb2ludCh0LmxvY2F0aW9uQ29vcmRpbmF0ZShlKSxyKX1waXhlbHNQZXJNZXRlcih0LGUpe3JldHVybiBSbygxLHQpKmV9cGl4ZWxTcGFjZUNvbnZlcnNpb24odCxlLHIpe3JldHVybiAxfWZhcnRoZXN0UGl4ZWxEaXN0YW5jZSh0KXtyZXR1cm4gVWYodCx0LnBpeGVsc1Blck1ldGVyKX1wb2ludENvb3JkaW5hdGUodCxlLHIsbil7Y29uc3QgaT10Lmhvcml6b25MaW5lRnJvbVRvcCghMSkscz1uZXcgZChlLE1hdGgubWF4KGkscikpO3JldHVybiB0LnJheUludGVyc2VjdGlvbkNvb3JkaW5hdGUodC5wb2ludFJheUludGVyc2VjdGlvbihzLG4pKX1wb2ludENvb3JkaW5hdGUzRCh0LGUscil7Y29uc3Qgbj1uZXcgZChlLHIpO2lmKHQuZWxldmF0aW9uKXJldHVybiB0LmVsZXZhdGlvbi5wb2ludENvb3JkaW5hdGUobik7e2NvbnN0IGU9dGhpcy5wb2ludENvb3JkaW5hdGUodCxuLngsbi55LDApO3JldHVybiBbZS54LGUueSxlLnpdfX1pc1BvaW50QWJvdmVIb3Jpem9uKHQsZSl7aWYodC5lbGV2YXRpb24pcmV0dXJuICF0aGlzLnBvaW50Q29vcmRpbmF0ZTNEKHQsZS54LGUueSk7Y29uc3Qgcj10Lmhvcml6b25MaW5lRnJvbVRvcCgpO3JldHVybiBlLnk8cn1jcmVhdGVJbnZlcnNpb25NYXRyaXgodCxlKXtyZXR1cm4gJGZ9Y3JlYXRlVGlsZU1hdHJpeCh0LGUscil7bGV0IG4saSxzO2NvbnN0IGE9ci5jYW5vbmljYWwsbz1rbChuZXcgRmxvYXQ2NEFycmF5KDE2KSk7aWYodGhpcy5pc1JlcHJvamVjdGVkSW5UaWxlU3BhY2Upe2NvbnN0IGw9amYoYSx0aGlzKTtuPTEsaT1sLngrci53cmFwKmwuc2NhbGUscz1sLnksVGwobyxvLFtuL2wuc2NhbGUsbi9sLnNjYWxlLHQucGl4ZWxzUGVyTWV0ZXIvZV0pO31lbHNlIG49ZS90Lnpvb21TY2FsZShhLnopLGk9KGEueCtNYXRoLnBvdygyLGEueikqci53cmFwKSpuLHM9YS55Km47cmV0dXJuIHpsKG8sbyxbaSxzLDBdKSxUbChvLG8sW24vQm8sbi9CbywxXSksb311cFZlY3Rvcih0LGUscil7cmV0dXJuIFswLDAsMV19dXBWZWN0b3JTY2FsZSh0LGUscil7cmV0dXJuIHttZXRlcnNUb1RpbGU6MX19fWNsYXNzIHFmIGV4dGVuZHMgT2Z7Y29uc3RydWN0b3IodCl7c3VwZXIodCksdGhpcy5yYW5nZT1bNCw3XSx0aGlzLmNlbnRlcj10LmNlbnRlcnx8Wy05NiwzNy41XTtjb25zdFtlLHJdPXRoaXMucGFyYWxsZWxzPXQucGFyYWxsZWxzfHxbMjkuNSw0NS41XSxuPU1hdGguc2luKHgoZSkpO3RoaXMubj0obitNYXRoLnNpbih4KHIpKSkvMix0aGlzLmM9MStuKigyKnRoaXMubi1uKSx0aGlzLnIwPU1hdGguc3FydCh0aGlzLmMpL3RoaXMubjt9cHJvamVjdCh0LGUpe2NvbnN0e246cixjOm4scjA6aX09dGhpcyxzPXgodC10aGlzLmNlbnRlclswXSksYT14KGUpLG89TWF0aC5zcXJ0KG4tMipyKk1hdGguc2luKGEpKS9yO3JldHVybiB7eDpvKk1hdGguc2luKHMqcikseTpvKk1hdGguY29zKHMqciktaSx6OjB9fXVucHJvamVjdCh0LGUpe2NvbnN0e246cixjOm4scjA6aX09dGhpcyxzPWkrZTtsZXQgYT1NYXRoLmF0YW4yKHQsTWF0aC5hYnMocykpKk1hdGguc2lnbihzKTtzKnI8MCYmKGEtPU1hdGguUEkqTWF0aC5zaWduKHQpKk1hdGguc2lnbihzKSk7Y29uc3Qgbz14KHRoaXMuY2VudGVyWzBdKSpyO2E9SShhLC1NYXRoLlBJLW8sTWF0aC5QSS1vKTtjb25zdCBsPVModihhL3IpK3RoaXMuY2VudGVyWzBdLC0xODAsMTgwKSx1PU1hdGguYXNpbihTKChuLSh0KnQrcypzKSpyKnIpLygyKnIpLC0xLDEpKSxjPVModih1KSwtODUuMDUxMTI5LE9vKTtyZXR1cm4gbmV3IENvKGwsYyl9fWNvbnN0IE5mPTEuMzQwMjY0LEdmPS0uMDgxMTA2LFpmPTg5M2UtNixYZj0uMDAzNzk2LEtmPU1hdGguc3FydCgzKS8yO2NsYXNzIEhmIGV4dGVuZHMgT2Z7cHJvamVjdCh0LGUpe2U9ZS8xODAqTWF0aC5QSSx0PXQvMTgwKk1hdGguUEk7Y29uc3Qgcj1NYXRoLmFzaW4oS2YqTWF0aC5zaW4oZSkpLG49cipyLGk9bipuKm47cmV0dXJuIHt4Oi41Kih0Kk1hdGguY29zKHIpLyhLZiooTmYrMypHZipuK2kqKDcqWmYrOSpYZipuKSkpL01hdGguUEkrLjUpLHk6MS0uNSoociooTmYrR2YqbitpKihaZitYZipuKSkvTWF0aC5QSSsxKSx6OjB9fXVucHJvamVjdCh0LGUpe3Q9KDIqdC0uNSkqTWF0aC5QSTtsZXQgcj1lPSgyKigxLWUpLTEpKk1hdGguUEksbj1yKnIsaT1uKm4qbjtmb3IobGV0IHQscyxhLG89MDtvPDEyJiYocz1yKihOZitHZipuK2kqKFpmK1hmKm4pKS1lLGE9TmYrMypHZipuK2kqKDcqWmYrOSpYZipuKSx0PXMvYSxyPVMoci10LC1NYXRoLlBJLzMsTWF0aC5QSS8zKSxuPXIqcixpPW4qbipuLCEoTWF0aC5hYnModCk8MWUtMTIpKTsrK28pO2NvbnN0IHM9S2YqdCooTmYrMypHZipuK2kqKDcqWmYrOSpYZipuKSkvTWF0aC5jb3MociksYT1NYXRoLmFzaW4oTWF0aC5zaW4ocikvS2YpLG89UygxODAqcy9NYXRoLlBJLC0xODAsMTgwKSxsPVMoMTgwKmEvTWF0aC5QSSwtODUuMDUxMTI5LE9vKTtyZXR1cm4gbmV3IENvKG8sbCl9fWNsYXNzIFlmIGV4dGVuZHMgT2Z7Y29uc3RydWN0b3IodCl7c3VwZXIodCksdGhpcy53cmFwPSEwLHRoaXMuc3VwcG9ydHNXb3JsZENvcGllcz0hMDt9cHJvamVjdCh0LGUpe3JldHVybiB7eDouNSt0LzM2MCx5Oi41LWUvMzYwLHo6MH19dW5wcm9qZWN0KHQsZSl7Y29uc3Qgcj0zNjAqKHQtLjUpLG49UygzNjAqKC41LWUpLC04NS4wNTExMjksT28pO3JldHVybiBuZXcgQ28ocixuKX19Y29uc3QgV2Y9TWF0aC5QSS8yO2Z1bmN0aW9uIEpmKHQpe3JldHVybiBNYXRoLnRhbigoV2YrdCkvMil9Y2xhc3MgUWYgZXh0ZW5kcyBPZntjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KSx0aGlzLmNlbnRlcj10LmNlbnRlcnx8WzAsMzBdO2NvbnN0W2Uscl09dGhpcy5wYXJhbGxlbHM9dC5wYXJhbGxlbHN8fFszMCwzMF07bGV0IG49eChlKSxpPXgocik7dGhpcy5zb3V0aGVybkNlbnRlcj1uK2k8MCx0aGlzLnNvdXRoZXJuQ2VudGVyJiYobj0tbixpPS1pKTtjb25zdCBzPU1hdGguY29zKG4pLGE9SmYobik7dGhpcy5uPW49PT1pP01hdGguc2luKG4pOk1hdGgubG9nKHMvTWF0aC5jb3MoaSkpL01hdGgubG9nKEpmKGkpL2EpLHRoaXMuZj1zKk1hdGgucG93KEpmKG4pLHRoaXMubikvdGhpcy5uO31wcm9qZWN0KHQsZSl7ZT14KGUpLHRoaXMuc291dGhlcm5DZW50ZXImJihlPS1lKSx0PXgodC10aGlzLmNlbnRlclswXSk7Y29uc3Qgcj0xZS02LHtuOm4sZjppfT10aGlzO2k+MD9lPC1XZityJiYoZT0tV2Yrcik6ZT5XZi1yJiYoZT1XZi1yKTtjb25zdCBzPWkvTWF0aC5wb3coSmYoZSksbik7bGV0IGE9cypNYXRoLnNpbihuKnQpLG89aS1zKk1hdGguY29zKG4qdCk7cmV0dXJuIGE9LjUqKGEvTWF0aC5QSSsuNSksbz0uNSooby9NYXRoLlBJKy41KSx7eDphLHk6dGhpcy5zb3V0aGVybkNlbnRlcj9vOjEtbyx6OjB9fXVucHJvamVjdCh0LGUpe3Q9KDIqdC0uNSkqTWF0aC5QSSx0aGlzLnNvdXRoZXJuQ2VudGVyJiYoZT0xLWUpLGU9KDIqKDEtZSktLjUpKk1hdGguUEk7Y29uc3R7bjpyLGY6bn09dGhpcyxpPW4tZSxzPU1hdGguc2lnbihpKSxhPU1hdGguc2lnbihyKSpNYXRoLnNxcnQodCp0K2kqaSk7bGV0IG89TWF0aC5hdGFuMih0LE1hdGguYWJzKGkpKSpzO2kqcjwwJiYoby09TWF0aC5QSSpNYXRoLnNpZ24odCkqcyk7Y29uc3QgbD1TKHYoby9yKSt0aGlzLmNlbnRlclswXSwtMTgwLDE4MCksdT1TKHYoMipNYXRoLmF0YW4oTWF0aC5wb3cobi9hLDEvcikpLVdmKSwtODUuMDUxMTI5LE9vKTtyZXR1cm4gbmV3IENvKGwsdGhpcy5zb3V0aGVybkNlbnRlcj8tdTp1KX19Y2xhc3MgdGQgZXh0ZW5kcyBPZntjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KSx0aGlzLndyYXA9ITAsdGhpcy5zdXBwb3J0c1dvcmxkQ29waWVzPSEwLHRoaXMuc3VwcG9ydHNUZXJyYWluPSEwLHRoaXMuc3VwcG9ydHNGb2c9ITAsdGhpcy5zdXBwb3J0c0ZyZWVDYW1lcmE9ITAsdGhpcy5pc1JlcHJvamVjdGVkSW5UaWxlU3BhY2U9ITEsdGhpcy51bnN1cHBvcnRlZExheWVycz1bXSx0aGlzLnJhbmdlPW51bGw7fXByb2plY3QodCxlKXtyZXR1cm4ge3g6Rm8odCkseTpMbyhlKSx6OjB9fXVucHJvamVjdCh0LGUpe2NvbnN0IHI9VW8odCksbj1qbyhlKTtyZXR1cm4gbmV3IENvKHIsbil9fWNvbnN0IGVkPXgoT28pO2NsYXNzIHJkIGV4dGVuZHMgT2Z7cHJvamVjdCh0LGUpe2NvbnN0IHI9KGU9eChlKSkqZSxuPXIqcjtyZXR1cm4ge3g6LjUqKCh0PXgodCkpKiguODcwNy0uMTMxOTc5KnIrbioobiooLjAwMzk3MSpyLS4wMDE1MjkqbiktLjAxMzc5MSkpL01hdGguUEkrLjUpLHk6MS0uNSooZSooMS4wMDcyMjYrciooLjAxNTA4NStuKiguMDI4ODc0KnItLjA0NDQ3NS0uMDA1OTE2Km4pKSkvTWF0aC5QSSsxKSx6OjB9fXVucHJvamVjdCh0LGUpe3Q9KDIqdC0uNSkqTWF0aC5QSTtsZXQgcj1lPSgyKigxLWUpLTEpKk1hdGguUEksbj0yNSxpPTAscz1yKnI7ZG97cz1yKnI7Y29uc3QgdD1zKnM7aT0ociooMS4wMDcyMjYrcyooLjAxNTA4NSt0KiguMDI4ODc0KnMtLjA0NDQ3NS0uMDA1OTE2KnQpKSktZSkvKDEuMDA3MjI2K3MqKC4wNDUyNTUrdCooLjI1OTg2NipzLS4zMTEzMjUtLjAwNTkxNioxMSp0KSkpLHI9UyhyLWksLWVkLGVkKTt9d2hpbGUoTWF0aC5hYnMoaSk+MWUtNiYmLS1uPjApO3M9cipyO2NvbnN0IGE9Uyh2KHQvKC44NzA3K3MqKHMqKHMqcypzKiguMDAzOTcxLS4wMDE1MjkqcyktLjAxMzc5MSktLjEzMTk3OSkpKSwtMTgwLDE4MCksbz12KHIpO3JldHVybiBuZXcgQ28oYSxvKX19Y29uc3QgbmQ9eChPbyk7Y2xhc3MgaWQgZXh0ZW5kcyBPZntwcm9qZWN0KHQsZSl7ZT14KGUpLHQ9eCh0KTtjb25zdCByPU1hdGguY29zKGUpLG49Mi9NYXRoLlBJLGk9TWF0aC5hY29zKHIqTWF0aC5jb3ModC8yKSkscz1NYXRoLnNpbihpKS9pLGE9LjUqKHQqbisyKnIqTWF0aC5zaW4odC8yKS9zKXx8MCxvPS41KihlK01hdGguc2luKGUpL3MpfHwwO3JldHVybiB7eDouNSooYS9NYXRoLlBJKy41KSx5OjEtLjUqKG8vTWF0aC5QSSsxKSx6OjB9fXVucHJvamVjdCh0LGUpe2xldCByPXQ9KDIqdC0uNSkqTWF0aC5QSSxuPWU9KDIqKDEtZSktMSkqTWF0aC5QSSxpPTI1O2NvbnN0IHM9MWUtNjtsZXQgYT0wLG89MDtkb3tjb25zdCBpPU1hdGguY29zKG4pLHM9TWF0aC5zaW4obiksbD0yKnMqaSx1PXMqcyxjPWkqaSxoPU1hdGguY29zKHIvMikscD1NYXRoLnNpbihyLzIpLGY9MipoKnAsZD1wKnAseT0xLWMqaCpoLG09eT8xL3k6MCxnPXk/TWF0aC5hY29zKGkqaCkqTWF0aC5zcXJ0KDEveSk6MCx4PS41KigyKmcqaSpwKzIqci9NYXRoLlBJKS10LHY9LjUqKGcqcytuKS1lLGI9LjUqbSooYypkK2cqaSpoKnUpKzEvTWF0aC5QSSxfPW0qKGYqbC80LWcqcypwKSx3PS4xMjUqbSoobCpwLWcqcypjKmYpLEE9LjUqbSoodSpoK2cqZCppKSsuNSxrPV8qdy1BKmI7YT0odipfLXgqQSkvayxvPSh4KnctdipiKS9rLHI9UyhyLWEsLU1hdGguUEksTWF0aC5QSSksbj1TKG4tbywtbmQsbmQpO313aGlsZSgoTWF0aC5hYnMoYSk+c3x8TWF0aC5hYnMobyk+cykmJi0taT4wKTtyZXR1cm4gbmV3IENvKHYociksdihuKSl9fWNsYXNzIHNkIGV4dGVuZHMgT2Z7Y29uc3RydWN0b3IodCl7c3VwZXIodCksdGhpcy5jZW50ZXI9dC5jZW50ZXJ8fFswLDBdLHRoaXMucGFyYWxsZWxzPXQucGFyYWxsZWxzfHxbMCwwXSx0aGlzLmNvc1BoaT1NYXRoLm1heCguMDEsTWF0aC5jb3MoeCh0aGlzLnBhcmFsbGVsc1swXSkpKSx0aGlzLnNjYWxlPTEvKDIqTWF0aC5tYXgoTWF0aC5QSSp0aGlzLmNvc1BoaSwxL3RoaXMuY29zUGhpKSksdGhpcy53cmFwPSEwLHRoaXMuc3VwcG9ydHNXb3JsZENvcGllcz0hMDt9cHJvamVjdCh0LGUpe2NvbnN0e3NjYWxlOnIsY29zUGhpOm59PXRoaXM7cmV0dXJuIHt4OngodCkqbipyKy41LHk6LU1hdGguc2luKHgoZSkpL24qcisuNSx6OjB9fXVucHJvamVjdCh0LGUpe2NvbnN0e3NjYWxlOnIsY29zUGhpOm59PXRoaXMsaT0tKGUtLjUpL3Iscz1TKHYoKHQtLjUpL3IpL24sLTE4MCwxODApLGE9TWF0aC5hc2luKFMoaSpuLC0xLDEpKSxvPVModihhKSwtODUuMDUxMTI5LE9vKTtyZXR1cm4gbmV3IENvKHMsbyl9fWNsYXNzIGFkIGV4dGVuZHMgdGR7Y29uc3RydWN0b3IodCl7c3VwZXIodCksdGhpcy5yZXF1aXJlc0RyYXBpbmc9ITAsdGhpcy5zdXBwb3J0c1dvcmxkQ29waWVzPSExLHRoaXMuc3VwcG9ydHNGb2c9ITAsdGhpcy56QXhpc1VuaXQ9XCJwaXhlbHNcIix0aGlzLnVuc3VwcG9ydGVkTGF5ZXJzPVtcImRlYnVnXCIsXCJjdXN0b21cIl0sdGhpcy5yYW5nZT1bMyw1XTt9cHJvamVjdFRpbGVQb2ludCh0LGUscil7Y29uc3Qgbj16Zih0LGUscik7cmV0dXJuIEhsKG4sbixFZih2ZihyKSkpLHt4Om5bMF0seTpuWzFdLHo6blsyXX19bG9jYXRpb25Qb2ludCh0LGUpe2NvbnN0IHI9TWYoZS5sYXQsZS5sbmcpLG49WmwoW10sciksaT10LmVsZXZhdGlvbj90LmVsZXZhdGlvbi5nZXRBdFBvaW50T3JaZXJvKHQubG9jYXRpb25Db29yZGluYXRlKGUpLHQuX2NlbnRlckFsdGl0dWRlKTp0Ll9jZW50ZXJBbHRpdHVkZTtHbChyLHIsbixSbygxLDApKkJvKmkpO2NvbnN0IHM9a2wobmV3IEZsb2F0NjRBcnJheSgxNikpO3JldHVybiBNbChzLHQucGl4ZWxNYXRyaXgsdC5nbG9iZU1hdHJpeCksSGwocixyLHMpLG5ldyBkKHJbMF0sclsxXSl9cGl4ZWxzUGVyTWV0ZXIodCxlKXtyZXR1cm4gUm8oMSwwKSplfXBpeGVsU3BhY2VDb252ZXJzaW9uKHQsZSxyKXtjb25zdCBuPVJvKDEsdCkqZSxpPUlyKFJvKDEsNDUpKmUsbixyKTtyZXR1cm4gdGhpcy5waXhlbHNQZXJNZXRlcih0LGUpL2l9Y3JlYXRlVGlsZU1hdHJpeCh0LGUscil7Y29uc3Qgbj1QZih2ZihyLmNhbm9uaWNhbCkpO3JldHVybiBNbChuZXcgRmxvYXQ2NEFycmF5KDE2KSx0Lmdsb2JlTWF0cml4LG4pfWNyZWF0ZUludmVyc2lvbk1hdHJpeCh0LGUpe2NvbnN0e2NlbnRlcjpyfT10LG49RWYodmYoZSkpO3JldHVybiBFbChuLG4seChyLmxuZykpLEJsKG4sbix4KHIubGF0KSksVGwobixuLFt0Ll9waXhlbHNQZXJNZXJjYXRvclBpeGVsLHQuX3BpeGVsc1Blck1lcmNhdG9yUGl4ZWwsMV0pLEZsb2F0MzJBcnJheS5mcm9tKG4pfXBvaW50Q29vcmRpbmF0ZSh0LGUscixuKXtyZXR1cm4gbWYodCxlLHIsITApfHxuZXcgTm8oMCwwKX1wb2ludENvb3JkaW5hdGUzRCh0LGUscil7Y29uc3Qgbj10aGlzLnBvaW50Q29vcmRpbmF0ZSh0LGUsciwwKTtyZXR1cm4gW24ueCxuLnksbi56XX1pc1BvaW50QWJvdmVIb3Jpem9uKHQsZSl7cmV0dXJuICFtZih0LGUueCxlLnksITEpfWZhcnRoZXN0UGl4ZWxEaXN0YW5jZSh0KXtjb25zdCBlPWZ1bmN0aW9uKHQsZSl7Y29uc3Qgcj10LmNhbWVyYVRvQ2VudGVyRGlzdGFuY2Usbj10Ll9jZW50ZXJBbHRpdHVkZSplLGk9dC5fY2FtZXJhLHM9dC5fY2FtZXJhLmZvcndhcmQoKSxhPVVsKFtdLE5sKFtdLHMsLXIpLFswLDAsbl0pLG89dC53b3JsZFNpemUvKDIqTWF0aC5QSSksbD1bMCwwLC1vXSx1PXQud2lkdGgvdC5oZWlnaHQsYz1NYXRoLnRhbih0LmZvdkFib3ZlQ2VudGVyKSxoPU5sKFtdLGkudXAoKSxjKSxwPU5sKFtdLGkucmlnaHQoKSxjKnUpLGY9WmwoW10sVWwoW10sVWwoW10scyxoKSxwKSksZD1bXTtsZXQgeTtpZihuZXcgdXUoYSxmKS5jbG9zZXN0UG9pbnRPblNwaGVyZShsLG8sZCkpe2NvbnN0IGU9VWwoW10sZCxsKSxyPUpsKFtdLGUsYSk7eT1NYXRoLmNvcyh0LmZvdkFib3ZlQ2VudGVyKSpMbChyKTt9ZWxzZSB7Y29uc3QgdD1KbChbXSxhLGwpLGU9SmwoW10sbCxhKTtabChlLGUpO2NvbnN0IHI9TGwodCktbzt5PU1hdGguc3FydChyKihyKzIqbykpO2NvbnN0IG49TWF0aC5hY29zKHkvKG8rcikpLU1hdGguYWNvcyhYbChzLGUpKTt5Kj1NYXRoLmNvcyhuKTt9cmV0dXJuIDEuMDEqeX0odCx0aGlzLnBpeGVsc1Blck1ldGVyKHQuY2VudGVyLmxhdCx0LndvcmxkU2l6ZSkpLHI9RGYodC56b29tKTtpZihyPjApe2NvbnN0IG49VWYodCxSbygxLHQuY2VudGVyLmxhdCkqdC53b3JsZFNpemUpLGk9dC53b3JsZFNpemUvKDIqTWF0aC5QSSkscz1NYXRoLm1heCh0LndpZHRoLHQuaGVpZ2h0KS90LndvcmxkU2l6ZSpNYXRoLlBJO3JldHVybiBJcihlLG4raSooMS1NYXRoLmNvcyhzKSksTWF0aC5wb3cociwxMCkpfXJldHVybiBlfXVwVmVjdG9yKHQsZSxyKXtyZXR1cm4gemYoZSxyLHQsMSl9dXBWZWN0b3JTY2FsZSh0KXtyZXR1cm4ge21ldGVyc1RvVGlsZTpjZipUZih2Zih0KSl9fX1mdW5jdGlvbiBvZCh0KXtjb25zdCBlPXQucGFyYWxsZWxzLHI9ISFlJiZNYXRoLmFicyhlWzBdK2VbMV0pPC4wMTtzd2l0Y2godC5uYW1lKXtjYXNlXCJtZXJjYXRvclwiOnJldHVybiBuZXcgdGQodCk7Y2FzZVwiZXF1aXJlY3Rhbmd1bGFyXCI6cmV0dXJuIG5ldyBZZih0KTtjYXNlXCJuYXR1cmFsRWFydGhcIjpyZXR1cm4gbmV3IHJkKHQpO2Nhc2VcImVxdWFsRWFydGhcIjpyZXR1cm4gbmV3IEhmKHQpO2Nhc2VcIndpbmtlbFRyaXBlbFwiOnJldHVybiBuZXcgaWQodCk7Y2FzZVwiYWxiZXJzXCI6cmV0dXJuIHI/bmV3IHNkKHQpOm5ldyBxZih0KTtjYXNlXCJsYW1iZXJ0Q29uZm9ybWFsQ29uaWNcIjpyZXR1cm4gcj9uZXcgc2QodCk6bmV3IFFmKHQpO2Nhc2VcImdsb2JlXCI6cmV0dXJuIG5ldyBhZCh0KX10aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgcHJvamVjdGlvbiBuYW1lOiAke3QubmFtZX1gKX1jb25zdCBsZD1CYy50eXBlcyx1ZD1be25hbWU6XCJhX2ZhZGVfb3BhY2l0eVwiLGNvbXBvbmVudHM6MSx0eXBlOlwiVWludDhcIixvZmZzZXQ6MH1dO2Z1bmN0aW9uIGNkKHQsZSxyLG4saSxzLGEsbyxsLHUsYyxoLHApe2NvbnN0IGY9bz9NYXRoLm1pbihKcCxNYXRoLnJvdW5kKG9bMF0pKTowLGQ9bz9NYXRoLm1pbihKcCxNYXRoLnJvdW5kKG9bMV0pKTowO3QuZW1wbGFjZUJhY2soZSxyLE1hdGgucm91bmQoMzIqbiksTWF0aC5yb3VuZCgzMippKSxzLGEsKGY8PDEpKyhsPzE6MCksZCwxNip1LDE2KmMsMjU2KmgsMjU2KnApO31mdW5jdGlvbiBoZCh0LGUscixuLGkscyxhKXt0LmVtcGxhY2VCYWNrKGUscixuLGkscyxhKTt9ZnVuY3Rpb24gcGQodCxlLHIsbixpKXt0LmVtcGxhY2VCYWNrKGUscixuLGkpLHQuZW1wbGFjZUJhY2soZSxyLG4saSksdC5lbXBsYWNlQmFjayhlLHIsbixpKSx0LmVtcGxhY2VCYWNrKGUscixuLGkpO31mdW5jdGlvbiBmZCh0KXtmb3IoY29uc3QgZSBvZiB0LnNlY3Rpb25zKWlmKElzKGUudGV4dCkpcmV0dXJuICEwO3JldHVybiAhMX1jbGFzcyBkZHtjb25zdHJ1Y3Rvcih0KXt0aGlzLmxheW91dFZlcnRleEFycmF5PW5ldyBkYSx0aGlzLmluZGV4QXJyYXk9bmV3IHdhLHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zPXQsdGhpcy5zZWdtZW50cz1uZXcgVG8sdGhpcy5keW5hbWljTGF5b3V0VmVydGV4QXJyYXk9bmV3IGNhLHRoaXMub3BhY2l0eVZlcnRleEFycmF5PW5ldyBtYSx0aGlzLnBsYWNlZFN5bWJvbEFycmF5PW5ldyBGYSx0aGlzLmdsb2JlRXh0VmVydGV4QXJyYXk9bmV3IHlhO31pc0VtcHR5KCl7cmV0dXJuIDA9PT10aGlzLmxheW91dFZlcnRleEFycmF5Lmxlbmd0aCYmMD09PXRoaXMuaW5kZXhBcnJheS5sZW5ndGgmJjA9PT10aGlzLmR5bmFtaWNMYXlvdXRWZXJ0ZXhBcnJheS5sZW5ndGgmJjA9PT10aGlzLm9wYWNpdHlWZXJ0ZXhBcnJheS5sZW5ndGh9dXBsb2FkKHQsZSxyLG4pe3RoaXMuaXNFbXB0eSgpfHwociYmKHRoaXMubGF5b3V0VmVydGV4QnVmZmVyPXQuY3JlYXRlVmVydGV4QnVmZmVyKHRoaXMubGF5b3V0VmVydGV4QXJyYXksZGgubWVtYmVycyksdGhpcy5pbmRleEJ1ZmZlcj10LmNyZWF0ZUluZGV4QnVmZmVyKHRoaXMuaW5kZXhBcnJheSxlKSx0aGlzLmR5bmFtaWNMYXlvdXRWZXJ0ZXhCdWZmZXI9dC5jcmVhdGVWZXJ0ZXhCdWZmZXIodGhpcy5keW5hbWljTGF5b3V0VmVydGV4QXJyYXksbWgubWVtYmVycywhMCksdGhpcy5vcGFjaXR5VmVydGV4QnVmZmVyPXQuY3JlYXRlVmVydGV4QnVmZmVyKHRoaXMub3BhY2l0eVZlcnRleEFycmF5LHVkLCEwKSx0aGlzLmdsb2JlRXh0VmVydGV4QXJyYXkubGVuZ3RoPjAmJih0aGlzLmdsb2JlRXh0VmVydGV4QnVmZmVyPXQuY3JlYXRlVmVydGV4QnVmZmVyKHRoaXMuZ2xvYmVFeHRWZXJ0ZXhBcnJheSx5aC5tZW1iZXJzLCEwKSksdGhpcy5vcGFjaXR5VmVydGV4QnVmZmVyLml0ZW1TaXplPTEpLChyfHxuKSYmdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMudXBsb2FkKHQpKTt9ZGVzdHJveSgpe3RoaXMubGF5b3V0VmVydGV4QnVmZmVyJiYodGhpcy5sYXlvdXRWZXJ0ZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMuaW5kZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLmRlc3Ryb3koKSx0aGlzLnNlZ21lbnRzLmRlc3Ryb3koKSx0aGlzLmR5bmFtaWNMYXlvdXRWZXJ0ZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMub3BhY2l0eVZlcnRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5nbG9iZUV4dFZlcnRleEJ1ZmZlciYmdGhpcy5nbG9iZUV4dFZlcnRleEJ1ZmZlci5kZXN0cm95KCkpO319amkoZGQsXCJTeW1ib2xCdWZmZXJzXCIpO2NsYXNzIHlke2NvbnN0cnVjdG9yKHQsZSxyKXt0aGlzLmxheW91dFZlcnRleEFycmF5PW5ldyB0LHRoaXMubGF5b3V0QXR0cmlidXRlcz1lLHRoaXMuaW5kZXhBcnJheT1uZXcgcix0aGlzLnNlZ21lbnRzPW5ldyBUbyx0aGlzLmNvbGxpc2lvblZlcnRleEFycmF5PW5ldyBiYSx0aGlzLmNvbGxpc2lvblZlcnRleEFycmF5RXh0PW5ldyBfYTt9dXBsb2FkKHQpe3RoaXMubGF5b3V0VmVydGV4QnVmZmVyPXQuY3JlYXRlVmVydGV4QnVmZmVyKHRoaXMubGF5b3V0VmVydGV4QXJyYXksdGhpcy5sYXlvdXRBdHRyaWJ1dGVzKSx0aGlzLmluZGV4QnVmZmVyPXQuY3JlYXRlSW5kZXhCdWZmZXIodGhpcy5pbmRleEFycmF5KSx0aGlzLmNvbGxpc2lvblZlcnRleEJ1ZmZlcj10LmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLmNvbGxpc2lvblZlcnRleEFycmF5LGdoLm1lbWJlcnMsITApLHRoaXMuY29sbGlzaW9uVmVydGV4QnVmZmVyRXh0PXQuY3JlYXRlVmVydGV4QnVmZmVyKHRoaXMuY29sbGlzaW9uVmVydGV4QXJyYXlFeHQseGgubWVtYmVycywhMCk7fWRlc3Ryb3koKXt0aGlzLmxheW91dFZlcnRleEJ1ZmZlciYmKHRoaXMubGF5b3V0VmVydGV4QnVmZmVyLmRlc3Ryb3koKSx0aGlzLmluZGV4QnVmZmVyLmRlc3Ryb3koKSx0aGlzLnNlZ21lbnRzLmRlc3Ryb3koKSx0aGlzLmNvbGxpc2lvblZlcnRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5jb2xsaXNpb25WZXJ0ZXhCdWZmZXJFeHQuZGVzdHJveSgpKTt9fWppKHlkLFwiQ29sbGlzaW9uQnVmZmVyc1wiKTtjbGFzcyBtZHtjb25zdHJ1Y3Rvcih0KXt0aGlzLmNvbGxpc2lvbkJveEFycmF5PXQuY29sbGlzaW9uQm94QXJyYXksdGhpcy56b29tPXQuem9vbSx0aGlzLm92ZXJzY2FsaW5nPXQub3ZlcnNjYWxpbmcsdGhpcy5sYXllcnM9dC5sYXllcnMsdGhpcy5sYXllcklkcz10aGlzLmxheWVycy5tYXAoKHQ9PnQuaWQpKSx0aGlzLmluZGV4PXQuaW5kZXgsdGhpcy5waXhlbFJhdGlvPXQucGl4ZWxSYXRpbyx0aGlzLnNvdXJjZUxheWVySW5kZXg9dC5zb3VyY2VMYXllckluZGV4LHRoaXMuaGFzUGF0dGVybj0hMSx0aGlzLmhhc1JUTFRleHQ9ITEsdGhpcy5mdWxseUNsaXBwZWQ9ITEsdGhpcy5zb3J0S2V5UmFuZ2VzPVtdLHRoaXMuY29sbGlzaW9uQ2lyY2xlQXJyYXk9W10sdGhpcy5wbGFjZW1lbnRJbnZQcm9qTWF0cml4PWtsKFtdKSx0aGlzLnBsYWNlbWVudFZpZXdwb3J0TWF0cml4PWtsKFtdKTtjb25zdCBlPXRoaXMubGF5ZXJzWzBdLl91bmV2YWx1YXRlZExheW91dC5fdmFsdWVzO3RoaXMudGV4dFNpemVEYXRhPUFoKHRoaXMuem9vbSxlW1widGV4dC1zaXplXCJdKSx0aGlzLmljb25TaXplRGF0YT1BaCh0aGlzLnpvb20sZVtcImljb24tc2l6ZVwiXSk7Y29uc3Qgcj10aGlzLmxheWVyc1swXS5sYXlvdXQsbj1yLmdldChcInN5bWJvbC1zb3J0LWtleVwiKSxpPXIuZ2V0KFwic3ltYm9sLXotb3JkZXJcIik7dGhpcy5jYW5PdmVybGFwPXIuZ2V0KFwidGV4dC1hbGxvdy1vdmVybGFwXCIpfHxyLmdldChcImljb24tYWxsb3ctb3ZlcmxhcFwiKXx8ci5nZXQoXCJ0ZXh0LWlnbm9yZS1wbGFjZW1lbnRcIil8fHIuZ2V0KFwiaWNvbi1pZ25vcmUtcGxhY2VtZW50XCIpLHRoaXMuc29ydEZlYXR1cmVzQnlLZXk9XCJ2aWV3cG9ydC15XCIhPT1pJiZ2b2lkIDAhPT1uLmNvbnN0YW50T3IoMSksdGhpcy5zb3J0RmVhdHVyZXNCeVk9KFwidmlld3BvcnQteVwiPT09aXx8XCJhdXRvXCI9PT1pJiYhdGhpcy5zb3J0RmVhdHVyZXNCeUtleSkmJnRoaXMuY2FuT3ZlcmxhcCx0aGlzLndyaXRpbmdNb2Rlcz1yLmdldChcInRleHQtd3JpdGluZy1tb2RlXCIpLm1hcCgodD0+c3BbdF0pKSx0aGlzLnN0YXRlRGVwZW5kZW50TGF5ZXJJZHM9dGhpcy5sYXllcnMuZmlsdGVyKCh0PT50LmlzU3RhdGVEZXBlbmRlbnQoKSkpLm1hcCgodD0+dC5pZCkpLHRoaXMuc291cmNlSUQ9dC5zb3VyY2VJRCx0aGlzLnByb2plY3Rpb249dC5wcm9qZWN0aW9uO31jcmVhdGVBcnJheXMoKXt0aGlzLnRleHQ9bmV3IGRkKG5ldyB2byh0aGlzLmxheWVycyx0aGlzLnpvb20sKHQ9Pi9edGV4dC8udGVzdCh0KSkpKSx0aGlzLmljb249bmV3IGRkKG5ldyB2byh0aGlzLmxheWVycyx0aGlzLnpvb20sKHQ9Pi9eaWNvbi8udGVzdCh0KSkpKSx0aGlzLmdseXBoT2Zmc2V0QXJyYXk9bmV3IFVhLHRoaXMubGluZVZlcnRleEFycmF5PW5ldyBqYSx0aGlzLnN5bWJvbEluc3RhbmNlcz1uZXcgUmE7fWNhbGN1bGF0ZUdseXBoRGVwZW5kZW5jaWVzKHQsZSxyLG4saSl7Zm9yKGxldCByPTA7cjx0Lmxlbmd0aDtyKyspaWYoZVt0LmNoYXJDb2RlQXQocildPSEwLG4mJmkpe2NvbnN0IG49emhbdC5jaGFyQXQocildO24mJihlW24uY2hhckNvZGVBdCgwKV09ITApO319cG9wdWxhdGUodCxlLHIsbil7Y29uc3QgaT10aGlzLmxheWVyc1swXSxzPWkubGF5b3V0LGE9XCJnbG9iZVwiPT09dGhpcy5wcm9qZWN0aW9uLm5hbWUsbz1zLmdldChcInRleHQtZm9udFwiKSxsPXMuZ2V0KFwidGV4dC1maWVsZFwiKSx1PXMuZ2V0KFwiaWNvbi1pbWFnZVwiKSxjPShcImNvbnN0YW50XCIhPT1sLnZhbHVlLmtpbmR8fGwudmFsdWUudmFsdWUgaW5zdGFuY2VvZiBUZSYmIWwudmFsdWUudmFsdWUuaXNFbXB0eSgpfHxsLnZhbHVlLnZhbHVlLnRvU3RyaW5nKCkubGVuZ3RoPjApJiYoXCJjb25zdGFudFwiIT09by52YWx1ZS5raW5kfHxvLnZhbHVlLnZhbHVlLmxlbmd0aD4wKSxoPVwiY29uc3RhbnRcIiE9PXUudmFsdWUua2luZHx8ISF1LnZhbHVlLnZhbHVlfHxPYmplY3Qua2V5cyh1LnBhcmFtZXRlcnMpLmxlbmd0aD4wLHA9cy5nZXQoXCJzeW1ib2wtc29ydC1rZXlcIik7aWYodGhpcy5mZWF0dXJlcz1bXSwhYyYmIWgpcmV0dXJuO2NvbnN0IGY9ZS5pY29uRGVwZW5kZW5jaWVzLGQ9ZS5nbHlwaERlcGVuZGVuY2llcyx5PWUuYXZhaWxhYmxlSW1hZ2VzLG09bmV3IFVzKHRoaXMuem9vbSk7Zm9yKGNvbnN0e2ZlYXR1cmU6ZSxpZDpsLGluZGV4OnUsc291cmNlTGF5ZXJJbmRleDpnfW9mIHQpe2NvbnN0IHQ9aS5fZmVhdHVyZUZpbHRlci5uZWVkR2VvbWV0cnkseD1RbyhlLHQpO2lmKCFpLl9mZWF0dXJlRmlsdGVyLmZpbHRlcihtLHgscikpY29udGludWU7aWYodHx8KHguZ2VvbWV0cnk9Sm8oZSxyLG4pKSxhJiYxIT09ZS50eXBlJiZyLno8PTUpe2NvbnN0IHQ9eC5nZW9tZXRyeSxlPS45ODA3ODUyODA1NixuPSh0LG4pPT5YbCh6Zih0LngsdC55LHIsMSksemYobi54LG4ueSxyLDEpKTxlO2ZvcihsZXQgZT0wO2U8dC5sZW5ndGg7ZSsrKXRbZV09S28odFtlXSxuKTt9bGV0IHYsYjtpZihjKXtjb25zdCB0PWkuZ2V0VmFsdWVBbmRSZXNvbHZlVG9rZW5zKFwidGV4dC1maWVsZFwiLHgscix5KSxlPVRlLmZhY3RvcnkodCk7ZmQoZSkmJih0aGlzLmhhc1JUTFRleHQ9ITApLCghdGhpcy5oYXNSVExUZXh0fHxcInVuYXZhaWxhYmxlXCI9PT1GcygpfHx0aGlzLmhhc1JUTFRleHQmJlJzLmlzUGFyc2VkKCkpJiYodj1NaChlLGkseCkpO31pZihoKXtjb25zdCB0PWkuZ2V0VmFsdWVBbmRSZXNvbHZlVG9rZW5zKFwiaWNvbi1pbWFnZVwiLHgscix5KTtiPXQgaW5zdGFuY2VvZiBCZT90OkJlLmZyb21TdHJpbmcodCk7fWlmKCF2JiYhYiljb250aW51ZTtjb25zdCBfPXRoaXMuc29ydEZlYXR1cmVzQnlLZXk/cC5ldmFsdWF0ZSh4LHt9LHIpOnZvaWQgMDtpZih0aGlzLmZlYXR1cmVzLnB1c2goe2lkOmwsdGV4dDp2LGljb246YixpbmRleDp1LHNvdXJjZUxheWVySW5kZXg6ZyxnZW9tZXRyeTp4Lmdlb21ldHJ5LHByb3BlcnRpZXM6ZS5wcm9wZXJ0aWVzLHR5cGU6bGRbZS50eXBlXSxzb3J0S2V5Ol99KSxiJiYoZltiLm5hbWVdPSEwKSx2KXtjb25zdCB0PW8uZXZhbHVhdGUoeCx7fSxyKS5qb2luKFwiLFwiKSxlPVwibWFwXCI9PT1zLmdldChcInRleHQtcm90YXRpb24tYWxpZ25tZW50XCIpJiZcInBvaW50XCIhPT1zLmdldChcInN5bWJvbC1wbGFjZW1lbnRcIik7dGhpcy5hbGxvd1ZlcnRpY2FsUGxhY2VtZW50PXRoaXMud3JpdGluZ01vZGVzJiZ0aGlzLndyaXRpbmdNb2Rlcy5pbmRleE9mKHNwLnZlcnRpY2FsKT49MDtmb3IoY29uc3QgciBvZiB2LnNlY3Rpb25zKWlmKHIuaW1hZ2UpZltyLmltYWdlLm5hbWVdPSEwO2Vsc2Uge2NvbnN0IG49dnModi50b1N0cmluZygpKSxpPXIuZm9udFN0YWNrfHx0LHM9ZFtpXT1kW2ldfHx7fTt0aGlzLmNhbGN1bGF0ZUdseXBoRGVwZW5kZW5jaWVzKHIudGV4dCxzLGUsdGhpcy5hbGxvd1ZlcnRpY2FsUGxhY2VtZW50LG4pO319fVwibGluZVwiPT09cy5nZXQoXCJzeW1ib2wtcGxhY2VtZW50XCIpJiYodGhpcy5mZWF0dXJlcz1mdW5jdGlvbih0KXtjb25zdCBlPXt9LHI9e30sbj1bXTtsZXQgaT0wO2Z1bmN0aW9uIHMoZSl7bi5wdXNoKHRbZV0pLGkrKzt9ZnVuY3Rpb24gYSh0LGUsaSl7Y29uc3Qgcz1yW3RdO3JldHVybiBkZWxldGUgclt0XSxyW2VdPXMsbltzXS5nZW9tZXRyeVswXS5wb3AoKSxuW3NdLmdlb21ldHJ5WzBdPW5bc10uZ2VvbWV0cnlbMF0uY29uY2F0KGlbMF0pLHN9ZnVuY3Rpb24gbyh0LHIsaSl7Y29uc3Qgcz1lW3JdO3JldHVybiBkZWxldGUgZVtyXSxlW3RdPXMsbltzXS5nZW9tZXRyeVswXS5zaGlmdCgpLG5bc10uZ2VvbWV0cnlbMF09aVswXS5jb25jYXQobltzXS5nZW9tZXRyeVswXSksc31mdW5jdGlvbiBsKHQsZSxyKXtjb25zdCBuPXI/ZVswXVtlWzBdLmxlbmd0aC0xXTplWzBdWzBdO3JldHVybiBgJHt0fToke24ueH06JHtuLnl9YH1mb3IobGV0IHU9MDt1PHQubGVuZ3RoO3UrKyl7Y29uc3QgYz10W3VdLGg9Yy5nZW9tZXRyeSxwPWMudGV4dD9jLnRleHQudG9TdHJpbmcoKTpudWxsO2lmKCFwKXtzKHUpO2NvbnRpbnVlfWNvbnN0IGY9bChwLGgpLGQ9bChwLGgsITApO2lmKGYgaW4gciYmZCBpbiBlJiZyW2ZdIT09ZVtkXSl7Y29uc3QgdD1vKGYsZCxoKSxpPWEoZixkLG5bdF0uZ2VvbWV0cnkpO2RlbGV0ZSBlW2ZdLGRlbGV0ZSByW2RdLHJbbChwLG5baV0uZ2VvbWV0cnksITApXT1pLG5bdF0uZ2VvbWV0cnk9bnVsbDt9ZWxzZSBmIGluIHI/YShmLGQsaCk6ZCBpbiBlP28oZixkLGgpOihzKHUpLGVbZl09aS0xLHJbZF09aS0xKTt9cmV0dXJuIG4uZmlsdGVyKCh0PT50Lmdlb21ldHJ5KSl9KHRoaXMuZmVhdHVyZXMpKSx0aGlzLnNvcnRGZWF0dXJlc0J5S2V5JiZ0aGlzLmZlYXR1cmVzLnNvcnQoKCh0LGUpPT50LnNvcnRLZXktZS5zb3J0S2V5KSk7fXVwZGF0ZSh0LGUscixuKXt0aGlzLnN0YXRlRGVwZW5kZW50TGF5ZXJzLmxlbmd0aCYmKHRoaXMudGV4dC5wcm9ncmFtQ29uZmlndXJhdGlvbnMudXBkYXRlUGFpbnRBcnJheXModCxlLHRoaXMubGF5ZXJzLHIsbiksdGhpcy5pY29uLnByb2dyYW1Db25maWd1cmF0aW9ucy51cGRhdGVQYWludEFycmF5cyh0LGUsdGhpcy5sYXllcnMscixuKSk7fWlzRW1wdHkoKXtyZXR1cm4gMD09PXRoaXMuc3ltYm9sSW5zdGFuY2VzLmxlbmd0aCYmIXRoaXMuaGFzUlRMVGV4dH11cGxvYWRQZW5kaW5nKCl7cmV0dXJuICF0aGlzLnVwbG9hZGVkfHx0aGlzLnRleHQucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLm5lZWRzVXBsb2FkfHx0aGlzLmljb24ucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLm5lZWRzVXBsb2FkfXVwbG9hZCh0KXshdGhpcy51cGxvYWRlZCYmdGhpcy5oYXNEZWJ1Z0RhdGEoKSYmKHRoaXMudGV4dENvbGxpc2lvbkJveC51cGxvYWQodCksdGhpcy5pY29uQ29sbGlzaW9uQm94LnVwbG9hZCh0KSksdGhpcy50ZXh0LnVwbG9hZCh0LHRoaXMuc29ydEZlYXR1cmVzQnlZLCF0aGlzLnVwbG9hZGVkLHRoaXMudGV4dC5wcm9ncmFtQ29uZmlndXJhdGlvbnMubmVlZHNVcGxvYWQpLHRoaXMuaWNvbi51cGxvYWQodCx0aGlzLnNvcnRGZWF0dXJlc0J5WSwhdGhpcy51cGxvYWRlZCx0aGlzLmljb24ucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLm5lZWRzVXBsb2FkKSx0aGlzLnVwbG9hZGVkPSEwO31kZXN0cm95RGVidWdEYXRhKCl7dGhpcy50ZXh0Q29sbGlzaW9uQm94LmRlc3Ryb3koKSx0aGlzLmljb25Db2xsaXNpb25Cb3guZGVzdHJveSgpO31nZXRQcm9qZWN0aW9uKCl7cmV0dXJuIHRoaXMucHJvamVjdGlvbkluc3RhbmNlfHwodGhpcy5wcm9qZWN0aW9uSW5zdGFuY2U9b2QodGhpcy5wcm9qZWN0aW9uKSksdGhpcy5wcm9qZWN0aW9uSW5zdGFuY2V9ZGVzdHJveSgpe3RoaXMudGV4dC5kZXN0cm95KCksdGhpcy5pY29uLmRlc3Ryb3koKSx0aGlzLmhhc0RlYnVnRGF0YSgpJiZ0aGlzLmRlc3Ryb3lEZWJ1Z0RhdGEoKTt9YWRkVG9MaW5lVmVydGV4QXJyYXkodCxlKXtjb25zdCByPXRoaXMubGluZVZlcnRleEFycmF5Lmxlbmd0aCxuPXQuc2VnbWVudDtpZih2b2lkIDAhPT1uKXtsZXQgcj10LmRpc3QoZVtuKzFdKSxpPXQuZGlzdChlW25dKTtjb25zdCBzPXt9O2ZvcihsZXQgdD1uKzE7dDxlLmxlbmd0aDt0Kyspc1t0XT17eDplW3RdLngseTplW3RdLnksdGlsZVVuaXREaXN0YW5jZUZyb21BbmNob3I6cn0sdDxlLmxlbmd0aC0xJiYocis9ZVt0KzFdLmRpc3QoZVt0XSkpO2ZvcihsZXQgdD1ufHwwO3Q+PTA7dC0tKXNbdF09e3g6ZVt0XS54LHk6ZVt0XS55LHRpbGVVbml0RGlzdGFuY2VGcm9tQW5jaG9yOml9LHQ+MCYmKGkrPWVbdC0xXS5kaXN0KGVbdF0pKTtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrKyl7Y29uc3QgZT1zW3RdO3RoaXMubGluZVZlcnRleEFycmF5LmVtcGxhY2VCYWNrKGUueCxlLnksZS50aWxlVW5pdERpc3RhbmNlRnJvbUFuY2hvcik7fX1yZXR1cm4ge2xpbmVTdGFydEluZGV4OnIsbGluZUxlbmd0aDp0aGlzLmxpbmVWZXJ0ZXhBcnJheS5sZW5ndGgtcn19YWRkU3ltYm9scyh0LGUscixuLGkscyxhLG8sbCx1LGMsaCxwLGYpe2NvbnN0IGQ9dC5pbmRleEFycmF5LHk9dC5sYXlvdXRWZXJ0ZXhBcnJheSxtPXQuZ2xvYmVFeHRWZXJ0ZXhBcnJheSxnPXQuc2VnbWVudHMucHJlcGFyZVNlZ21lbnQoNCplLmxlbmd0aCx5LGQsdGhpcy5jYW5PdmVybGFwP3Muc29ydEtleTp2b2lkIDApLHg9dGhpcy5nbHlwaE9mZnNldEFycmF5Lmxlbmd0aCx2PWcudmVydGV4TGVuZ3RoLGI9dGhpcy5hbGxvd1ZlcnRpY2FsUGxhY2VtZW50JiZhPT09c3AudmVydGljYWw/TWF0aC5QSS8yOjAsXz1zLnRleHQmJnMudGV4dC5zZWN0aW9ucztmb3IobGV0IG49MDtuPGUubGVuZ3RoO24rKyl7Y29uc3R7dGw6aSx0cjphLGJsOnUsYnI6Yyx0ZXg6aCxwaXhlbE9mZnNldFRMOngscGl4ZWxPZmZzZXRCUjp2LG1pbkZvbnRTY2FsZVg6dyxtaW5Gb250U2NhbGVZOkEsZ2x5cGhPZmZzZXQ6Uyxpc1NERjprLHNlY3Rpb25JbmRleDpJfT1lW25dLE09Zy52ZXJ0ZXhMZW5ndGgsej1TWzFdO2lmKGNkKHksbC54LGwueSxpLngseitpLnksaC54LGgueSxyLGsseC54LHgueSx3LEEpLGNkKHksbC54LGwueSxhLngseithLnksaC54K2gudyxoLnkscixrLHYueCx4LnksdyxBKSxjZCh5LGwueCxsLnksdS54LHordS55LGgueCxoLnkraC5oLHIsayx4Lngsdi55LHcsQSksY2QoeSxsLngsbC55LGMueCx6K2MueSxoLngraC53LGgueStoLmgscixrLHYueCx2LnksdyxBKSxvKXtjb25zdCBlPW8uYW5jaG9yLHI9by51cDtoZChtLGUueCxlLnksZS56LHJbMF0sclsxXSxyWzJdKSxoZChtLGUueCxlLnksZS56LHJbMF0sclsxXSxyWzJdKSxoZChtLGUueCxlLnksZS56LHJbMF0sclsxXSxyWzJdKSxoZChtLGUueCxlLnksZS56LHJbMF0sclsxXSxyWzJdKSxwZCh0LmR5bmFtaWNMYXlvdXRWZXJ0ZXhBcnJheSxlLngsZS55LGUueixiKTt9ZWxzZSBwZCh0LmR5bmFtaWNMYXlvdXRWZXJ0ZXhBcnJheSxsLngsbC55LGwueixiKTtkLmVtcGxhY2VCYWNrKE0sTSsxLE0rMiksZC5lbXBsYWNlQmFjayhNKzEsTSsyLE0rMyksZy52ZXJ0ZXhMZW5ndGgrPTQsZy5wcmltaXRpdmVMZW5ndGgrPTIsdGhpcy5nbHlwaE9mZnNldEFycmF5LmVtcGxhY2VCYWNrKFNbMF0pLG4hPT1lLmxlbmd0aC0xJiZJPT09ZVtuKzFdLnNlY3Rpb25JbmRleHx8dC5wcm9ncmFtQ29uZmlndXJhdGlvbnMucG9wdWxhdGVQYWludEFycmF5cyh5Lmxlbmd0aCxzLHMuaW5kZXgse30scCxmLF8mJl9bSV0pO31jb25zdCB3PW8/by5hbmNob3I6bDt0LnBsYWNlZFN5bWJvbEFycmF5LmVtcGxhY2VCYWNrKHcueCx3Lnksdy56LGwueCxsLnkseCx0aGlzLmdseXBoT2Zmc2V0QXJyYXkubGVuZ3RoLXgsdix1LGMsbC5zZWdtZW50LHI/clswXTowLHI/clsxXTowLG5bMF0sblsxXSxhLDAsITEsMCxoLDApO31fY29tbWl0TGF5b3V0VmVydGV4KHQsZSxyLG4saSxzLGEpe3QuZW1wbGFjZUJhY2soZSxyLG4saSxzLE1hdGgucm91bmQoYS54KSxNYXRoLnJvdW5kKGEueSkpO31fYWRkQ29sbGlzaW9uRGVidWdWZXJ0aWNlcyh0LGUscixuLGkscyxhKXtjb25zdCBvPXIuc2VnbWVudHMucHJlcGFyZVNlZ21lbnQoNCxyLmxheW91dFZlcnRleEFycmF5LHIuaW5kZXhBcnJheSksbD1vLnZlcnRleExlbmd0aCx1PWEudGlsZUFuY2hvclgsYz1hLnRpbGVBbmNob3JZO2ZvcihsZXQgdD0wO3Q8NDt0Kyspci5jb2xsaXNpb25WZXJ0ZXhBcnJheS5lbXBsYWNlQmFjaygwLDAsMCwwKTtyLmNvbGxpc2lvblZlcnRleEFycmF5RXh0LmVtcGxhY2VCYWNrKGUsLXQucGFkZGluZywtdC5wYWRkaW5nKSxyLmNvbGxpc2lvblZlcnRleEFycmF5RXh0LmVtcGxhY2VCYWNrKGUsdC5wYWRkaW5nLC10LnBhZGRpbmcpLHIuY29sbGlzaW9uVmVydGV4QXJyYXlFeHQuZW1wbGFjZUJhY2soZSx0LnBhZGRpbmcsdC5wYWRkaW5nKSxyLmNvbGxpc2lvblZlcnRleEFycmF5RXh0LmVtcGxhY2VCYWNrKGUsLXQucGFkZGluZyx0LnBhZGRpbmcpLHRoaXMuX2NvbW1pdExheW91dFZlcnRleChyLmxheW91dFZlcnRleEFycmF5LG4saSxzLHUsYyxuZXcgZCh0LngxLHQueTEpKSx0aGlzLl9jb21taXRMYXlvdXRWZXJ0ZXgoci5sYXlvdXRWZXJ0ZXhBcnJheSxuLGkscyx1LGMsbmV3IGQodC54Mix0LnkxKSksdGhpcy5fY29tbWl0TGF5b3V0VmVydGV4KHIubGF5b3V0VmVydGV4QXJyYXksbixpLHMsdSxjLG5ldyBkKHQueDIsdC55MikpLHRoaXMuX2NvbW1pdExheW91dFZlcnRleChyLmxheW91dFZlcnRleEFycmF5LG4saSxzLHUsYyxuZXcgZCh0LngxLHQueTIpKSxvLnZlcnRleExlbmd0aCs9NDtjb25zdCBoPXIuaW5kZXhBcnJheTtoLmVtcGxhY2VCYWNrKGwsbCsxKSxoLmVtcGxhY2VCYWNrKGwrMSxsKzIpLGguZW1wbGFjZUJhY2sobCsyLGwrMyksaC5lbXBsYWNlQmFjayhsKzMsbCksby5wcmltaXRpdmVMZW5ndGgrPTQ7fV9hZGRUZXh0RGVidWdDb2xsaXNpb25Cb3hlcyh0LGUscixuLGkscyl7Zm9yKGxldCBhPW47YTxpO2ErKyl7Y29uc3Qgbj1yLmdldChhKSxpPXRoaXMuZ2V0U3ltYm9sSW5zdGFuY2VUZXh0U2l6ZSh0LHMsZSxhKTt0aGlzLl9hZGRDb2xsaXNpb25EZWJ1Z1ZlcnRpY2VzKG4saSx0aGlzLnRleHRDb2xsaXNpb25Cb3gsbi5wcm9qZWN0ZWRBbmNob3JYLG4ucHJvamVjdGVkQW5jaG9yWSxuLnByb2plY3RlZEFuY2hvcloscyk7fX1fYWRkSWNvbkRlYnVnQ29sbGlzaW9uQm94ZXModCxlLHIsbixpLHMpe2ZvcihsZXQgYT1uO2E8aTthKyspe2NvbnN0IG49ci5nZXQoYSksaT10aGlzLmdldFN5bWJvbEluc3RhbmNlSWNvblNpemUodCxlLHMucGxhY2VkSWNvblN5bWJvbEluZGV4KTt0aGlzLl9hZGRDb2xsaXNpb25EZWJ1Z1ZlcnRpY2VzKG4saSx0aGlzLmljb25Db2xsaXNpb25Cb3gsbi5wcm9qZWN0ZWRBbmNob3JYLG4ucHJvamVjdGVkQW5jaG9yWSxuLnByb2plY3RlZEFuY2hvcloscyk7fX1nZW5lcmF0ZUNvbGxpc2lvbkRlYnVnQnVmZmVycyh0LGUpe3RoaXMuaGFzRGVidWdEYXRhKCkmJnRoaXMuZGVzdHJveURlYnVnRGF0YSgpLHRoaXMudGV4dENvbGxpc2lvbkJveD1uZXcgeWQoeGEsdmgubWVtYmVycyx6YSksdGhpcy5pY29uQ29sbGlzaW9uQm94PW5ldyB5ZCh4YSx2aC5tZW1iZXJzLHphKTtjb25zdCByPWtoKHRoaXMuaWNvblNpemVEYXRhLHQpLG49a2godGhpcy50ZXh0U2l6ZURhdGEsdCk7Zm9yKGxldCBpPTA7aTx0aGlzLnN5bWJvbEluc3RhbmNlcy5sZW5ndGg7aSsrKXtjb25zdCBzPXRoaXMuc3ltYm9sSW5zdGFuY2VzLmdldChpKTt0aGlzLl9hZGRUZXh0RGVidWdDb2xsaXNpb25Cb3hlcyhuLHQsZSxzLnRleHRCb3hTdGFydEluZGV4LHMudGV4dEJveEVuZEluZGV4LHMpLHRoaXMuX2FkZFRleHREZWJ1Z0NvbGxpc2lvbkJveGVzKG4sdCxlLHMudmVydGljYWxUZXh0Qm94U3RhcnRJbmRleCxzLnZlcnRpY2FsVGV4dEJveEVuZEluZGV4LHMpLHRoaXMuX2FkZEljb25EZWJ1Z0NvbGxpc2lvbkJveGVzKHIsdCxlLHMuaWNvbkJveFN0YXJ0SW5kZXgscy5pY29uQm94RW5kSW5kZXgscyksdGhpcy5fYWRkSWNvbkRlYnVnQ29sbGlzaW9uQm94ZXMocix0LGUscy52ZXJ0aWNhbEljb25Cb3hTdGFydEluZGV4LHMudmVydGljYWxJY29uQm94RW5kSW5kZXgscyk7fX1nZXRTeW1ib2xJbnN0YW5jZVRleHRTaXplKHQsZSxyLG4pe2NvbnN0IGk9dGhpcy50ZXh0LnBsYWNlZFN5bWJvbEFycmF5LmdldChlLnJpZ2h0SnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4Pj0wP2UucmlnaHRKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXg6ZS5jZW50ZXJKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXg+PTA/ZS5jZW50ZXJKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXg6ZS5sZWZ0SnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4Pj0wP2UubGVmdEp1c3RpZmllZFRleHRTeW1ib2xJbmRleDplLnZlcnRpY2FsUGxhY2VkVGV4dFN5bWJvbEluZGV4Pj0wP2UudmVydGljYWxQbGFjZWRUZXh0U3ltYm9sSW5kZXg6bikscz1TaCh0aGlzLnRleHRTaXplRGF0YSx0LGkpL19oO3JldHVybiB0aGlzLnRpbGVQaXhlbFJhdGlvKnN9Z2V0U3ltYm9sSW5zdGFuY2VJY29uU2l6ZSh0LGUscil7Y29uc3Qgbj10aGlzLmljb24ucGxhY2VkU3ltYm9sQXJyYXkuZ2V0KHIpLGk9U2godGhpcy5pY29uU2l6ZURhdGEsdCxuKTtyZXR1cm4gdGhpcy50aWxlUGl4ZWxSYXRpbyppfV9jb21taXREZWJ1Z0NvbGxpc2lvblZlcnRleFVwZGF0ZSh0LGUscil7dC5lbXBsYWNlQmFjayhlLC1yLC1yKSx0LmVtcGxhY2VCYWNrKGUsciwtciksdC5lbXBsYWNlQmFjayhlLHIsciksdC5lbXBsYWNlQmFjayhlLC1yLHIpO31fdXBkYXRlVGV4dERlYnVnQ29sbGlzaW9uQm94ZXModCxlLHIsbixpLHMpe2ZvcihsZXQgYT1uO2E8aTthKyspe2NvbnN0IG49ci5nZXQoYSksaT10aGlzLmdldFN5bWJvbEluc3RhbmNlVGV4dFNpemUodCxzLGUsYSk7dGhpcy5fY29tbWl0RGVidWdDb2xsaXNpb25WZXJ0ZXhVcGRhdGUodGhpcy50ZXh0Q29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEFycmF5RXh0LGksbi5wYWRkaW5nKTt9fV91cGRhdGVJY29uRGVidWdDb2xsaXNpb25Cb3hlcyh0LGUscixuLGkscyl7Zm9yKGxldCBhPW47YTxpO2ErKyl7Y29uc3Qgbj1yLmdldChhKSxpPXRoaXMuZ2V0U3ltYm9sSW5zdGFuY2VJY29uU2l6ZSh0LGUscyk7dGhpcy5fY29tbWl0RGVidWdDb2xsaXNpb25WZXJ0ZXhVcGRhdGUodGhpcy5pY29uQ29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEFycmF5RXh0LGksbi5wYWRkaW5nKTt9fXVwZGF0ZUNvbGxpc2lvbkRlYnVnQnVmZmVycyh0LGUpe2lmKCF0aGlzLmhhc0RlYnVnRGF0YSgpKXJldHVybjt0aGlzLmhhc1RleHRDb2xsaXNpb25Cb3hEYXRhKCkmJnRoaXMudGV4dENvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhBcnJheUV4dC5jbGVhcigpLHRoaXMuaGFzSWNvbkNvbGxpc2lvbkJveERhdGEoKSYmdGhpcy5pY29uQ29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEFycmF5RXh0LmNsZWFyKCk7Y29uc3Qgcj1raCh0aGlzLmljb25TaXplRGF0YSx0KSxuPWtoKHRoaXMudGV4dFNpemVEYXRhLHQpO2ZvcihsZXQgaT0wO2k8dGhpcy5zeW1ib2xJbnN0YW5jZXMubGVuZ3RoO2krKyl7Y29uc3Qgcz10aGlzLnN5bWJvbEluc3RhbmNlcy5nZXQoaSk7dGhpcy5fdXBkYXRlVGV4dERlYnVnQ29sbGlzaW9uQm94ZXMobix0LGUscy50ZXh0Qm94U3RhcnRJbmRleCxzLnRleHRCb3hFbmRJbmRleCxzKSx0aGlzLl91cGRhdGVUZXh0RGVidWdDb2xsaXNpb25Cb3hlcyhuLHQsZSxzLnZlcnRpY2FsVGV4dEJveFN0YXJ0SW5kZXgscy52ZXJ0aWNhbFRleHRCb3hFbmRJbmRleCxzKSx0aGlzLl91cGRhdGVJY29uRGVidWdDb2xsaXNpb25Cb3hlcyhyLHQsZSxzLmljb25Cb3hTdGFydEluZGV4LHMuaWNvbkJveEVuZEluZGV4LHMucGxhY2VkSWNvblN5bWJvbEluZGV4KSx0aGlzLl91cGRhdGVJY29uRGVidWdDb2xsaXNpb25Cb3hlcyhyLHQsZSxzLnZlcnRpY2FsSWNvbkJveFN0YXJ0SW5kZXgscy52ZXJ0aWNhbEljb25Cb3hFbmRJbmRleCxzLnBsYWNlZEljb25TeW1ib2xJbmRleCk7fXRoaXMuaGFzVGV4dENvbGxpc2lvbkJveERhdGEoKSYmdGhpcy50ZXh0Q29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEJ1ZmZlckV4dCYmdGhpcy50ZXh0Q29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEJ1ZmZlckV4dC51cGRhdGVEYXRhKHRoaXMudGV4dENvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhBcnJheUV4dCksdGhpcy5oYXNJY29uQ29sbGlzaW9uQm94RGF0YSgpJiZ0aGlzLmljb25Db2xsaXNpb25Cb3guY29sbGlzaW9uVmVydGV4QnVmZmVyRXh0JiZ0aGlzLmljb25Db2xsaXNpb25Cb3guY29sbGlzaW9uVmVydGV4QnVmZmVyRXh0LnVwZGF0ZURhdGEodGhpcy5pY29uQ29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEFycmF5RXh0KTt9X2Rlc2VyaWFsaXplQ29sbGlzaW9uQm94ZXNGb3JTeW1ib2wodCxlLHIsbixpLHMsYSxvLGwpe2NvbnN0IHU9e307Zm9yKGxldCBuPWU7bjxyO24rKyl7Y29uc3QgZT10LmdldChuKTt1LnRleHRCb3g9e3gxOmUueDEseTE6ZS55MSx4MjplLngyLHkyOmUueTIscGFkZGluZzplLnBhZGRpbmcscHJvamVjdGVkQW5jaG9yWDplLnByb2plY3RlZEFuY2hvclgscHJvamVjdGVkQW5jaG9yWTplLnByb2plY3RlZEFuY2hvclkscHJvamVjdGVkQW5jaG9yWjplLnByb2plY3RlZEFuY2hvclosdGlsZUFuY2hvclg6ZS50aWxlQW5jaG9yWCx0aWxlQW5jaG9yWTplLnRpbGVBbmNob3JZfSx1LnRleHRGZWF0dXJlSW5kZXg9ZS5mZWF0dXJlSW5kZXg7YnJlYWt9Zm9yKGxldCBlPW47ZTxpO2UrKyl7Y29uc3Qgcj10LmdldChlKTt1LnZlcnRpY2FsVGV4dEJveD17eDE6ci54MSx5MTpyLnkxLHgyOnIueDIseTI6ci55MixwYWRkaW5nOnIucGFkZGluZyxwcm9qZWN0ZWRBbmNob3JYOnIucHJvamVjdGVkQW5jaG9yWCxwcm9qZWN0ZWRBbmNob3JZOnIucHJvamVjdGVkQW5jaG9yWSxwcm9qZWN0ZWRBbmNob3JaOnIucHJvamVjdGVkQW5jaG9yWix0aWxlQW5jaG9yWDpyLnRpbGVBbmNob3JYLHRpbGVBbmNob3JZOnIudGlsZUFuY2hvcll9LHUudmVydGljYWxUZXh0RmVhdHVyZUluZGV4PXIuZmVhdHVyZUluZGV4O2JyZWFrfWZvcihsZXQgZT1zO2U8YTtlKyspe2NvbnN0IHI9dC5nZXQoZSk7dS5pY29uQm94PXt4MTpyLngxLHkxOnIueTEseDI6ci54Mix5MjpyLnkyLHBhZGRpbmc6ci5wYWRkaW5nLHByb2plY3RlZEFuY2hvclg6ci5wcm9qZWN0ZWRBbmNob3JYLHByb2plY3RlZEFuY2hvclk6ci5wcm9qZWN0ZWRBbmNob3JZLHByb2plY3RlZEFuY2hvclo6ci5wcm9qZWN0ZWRBbmNob3JaLHRpbGVBbmNob3JYOnIudGlsZUFuY2hvclgsdGlsZUFuY2hvclk6ci50aWxlQW5jaG9yWX0sdS5pY29uRmVhdHVyZUluZGV4PXIuZmVhdHVyZUluZGV4O2JyZWFrfWZvcihsZXQgZT1vO2U8bDtlKyspe2NvbnN0IHI9dC5nZXQoZSk7dS52ZXJ0aWNhbEljb25Cb3g9e3gxOnIueDEseTE6ci55MSx4MjpyLngyLHkyOnIueTIscGFkZGluZzpyLnBhZGRpbmcscHJvamVjdGVkQW5jaG9yWDpyLnByb2plY3RlZEFuY2hvclgscHJvamVjdGVkQW5jaG9yWTpyLnByb2plY3RlZEFuY2hvclkscHJvamVjdGVkQW5jaG9yWjpyLnByb2plY3RlZEFuY2hvclosdGlsZUFuY2hvclg6ci50aWxlQW5jaG9yWCx0aWxlQW5jaG9yWTpyLnRpbGVBbmNob3JZfSx1LnZlcnRpY2FsSWNvbkZlYXR1cmVJbmRleD1yLmZlYXR1cmVJbmRleDticmVha31yZXR1cm4gdX1kZXNlcmlhbGl6ZUNvbGxpc2lvbkJveGVzKHQpe3RoaXMuY29sbGlzaW9uQXJyYXlzPVtdO2ZvcihsZXQgZT0wO2U8dGhpcy5zeW1ib2xJbnN0YW5jZXMubGVuZ3RoO2UrKyl7Y29uc3Qgcj10aGlzLnN5bWJvbEluc3RhbmNlcy5nZXQoZSk7dGhpcy5jb2xsaXNpb25BcnJheXMucHVzaCh0aGlzLl9kZXNlcmlhbGl6ZUNvbGxpc2lvbkJveGVzRm9yU3ltYm9sKHQsci50ZXh0Qm94U3RhcnRJbmRleCxyLnRleHRCb3hFbmRJbmRleCxyLnZlcnRpY2FsVGV4dEJveFN0YXJ0SW5kZXgsci52ZXJ0aWNhbFRleHRCb3hFbmRJbmRleCxyLmljb25Cb3hTdGFydEluZGV4LHIuaWNvbkJveEVuZEluZGV4LHIudmVydGljYWxJY29uQm94U3RhcnRJbmRleCxyLnZlcnRpY2FsSWNvbkJveEVuZEluZGV4KSk7fX1oYXNUZXh0RGF0YSgpe3JldHVybiB0aGlzLnRleHQuc2VnbWVudHMuZ2V0KCkubGVuZ3RoPjB9aGFzSWNvbkRhdGEoKXtyZXR1cm4gdGhpcy5pY29uLnNlZ21lbnRzLmdldCgpLmxlbmd0aD4wfWhhc0RlYnVnRGF0YSgpe3JldHVybiB0aGlzLnRleHRDb2xsaXNpb25Cb3gmJnRoaXMuaWNvbkNvbGxpc2lvbkJveH1oYXNUZXh0Q29sbGlzaW9uQm94RGF0YSgpe3JldHVybiB0aGlzLmhhc0RlYnVnRGF0YSgpJiZ0aGlzLnRleHRDb2xsaXNpb25Cb3guc2VnbWVudHMuZ2V0KCkubGVuZ3RoPjB9aGFzSWNvbkNvbGxpc2lvbkJveERhdGEoKXtyZXR1cm4gdGhpcy5oYXNEZWJ1Z0RhdGEoKSYmdGhpcy5pY29uQ29sbGlzaW9uQm94LnNlZ21lbnRzLmdldCgpLmxlbmd0aD4wfWFkZEluZGljZXNGb3JQbGFjZWRTeW1ib2wodCxlKXtjb25zdCByPXQucGxhY2VkU3ltYm9sQXJyYXkuZ2V0KGUpLG49ci52ZXJ0ZXhTdGFydEluZGV4KzQqci5udW1HbHlwaHM7Zm9yKGxldCBlPXIudmVydGV4U3RhcnRJbmRleDtlPG47ZSs9NCl0LmluZGV4QXJyYXkuZW1wbGFjZUJhY2soZSxlKzEsZSsyKSx0LmluZGV4QXJyYXkuZW1wbGFjZUJhY2soZSsxLGUrMixlKzMpO31nZXRTb3J0ZWRTeW1ib2xJbmRleGVzKHQpe2lmKHRoaXMuc29ydGVkQW5nbGU9PT10JiZ2b2lkIDAhPT10aGlzLnN5bWJvbEluc3RhbmNlSW5kZXhlcylyZXR1cm4gdGhpcy5zeW1ib2xJbnN0YW5jZUluZGV4ZXM7Y29uc3QgZT1NYXRoLnNpbih0KSxyPU1hdGguY29zKHQpLG49W10saT1bXSxzPVtdO2ZvcihsZXQgdD0wO3Q8dGhpcy5zeW1ib2xJbnN0YW5jZXMubGVuZ3RoOysrdCl7cy5wdXNoKHQpO2NvbnN0IGE9dGhpcy5zeW1ib2xJbnN0YW5jZXMuZ2V0KHQpO24ucHVzaCgwfE1hdGgucm91bmQoZSphLnRpbGVBbmNob3JYK3IqYS50aWxlQW5jaG9yWSkpLGkucHVzaChhLmZlYXR1cmVJbmRleCk7fXJldHVybiBzLnNvcnQoKCh0LGUpPT5uW3RdLW5bZV18fGlbZV0taVt0XSkpLHN9YWRkVG9Tb3J0S2V5UmFuZ2VzKHQsZSl7Y29uc3Qgcj10aGlzLnNvcnRLZXlSYW5nZXNbdGhpcy5zb3J0S2V5UmFuZ2VzLmxlbmd0aC0xXTtyJiZyLnNvcnRLZXk9PT1lP3Iuc3ltYm9sSW5zdGFuY2VFbmQ9dCsxOnRoaXMuc29ydEtleVJhbmdlcy5wdXNoKHtzb3J0S2V5OmUsc3ltYm9sSW5zdGFuY2VTdGFydDp0LHN5bWJvbEluc3RhbmNlRW5kOnQrMX0pO31zb3J0RmVhdHVyZXModCl7aWYodGhpcy5zb3J0RmVhdHVyZXNCeVkmJnRoaXMuc29ydGVkQW5nbGUhPT10JiYhKHRoaXMudGV4dC5zZWdtZW50cy5nZXQoKS5sZW5ndGg+MXx8dGhpcy5pY29uLnNlZ21lbnRzLmdldCgpLmxlbmd0aD4xKSl7dGhpcy5zeW1ib2xJbnN0YW5jZUluZGV4ZXM9dGhpcy5nZXRTb3J0ZWRTeW1ib2xJbmRleGVzKHQpLHRoaXMuc29ydGVkQW5nbGU9dCx0aGlzLnRleHQuaW5kZXhBcnJheS5jbGVhcigpLHRoaXMuaWNvbi5pbmRleEFycmF5LmNsZWFyKCksdGhpcy5mZWF0dXJlU29ydE9yZGVyPVtdO2Zvcihjb25zdCB0IG9mIHRoaXMuc3ltYm9sSW5zdGFuY2VJbmRleGVzKXtjb25zdCBlPXRoaXMuc3ltYm9sSW5zdGFuY2VzLmdldCh0KTt0aGlzLmZlYXR1cmVTb3J0T3JkZXIucHVzaChlLmZlYXR1cmVJbmRleCksW2UucmlnaHRKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXgsZS5jZW50ZXJKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXgsZS5sZWZ0SnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4XS5mb3JFYWNoKCgodCxlLHIpPT57dD49MCYmci5pbmRleE9mKHQpPT09ZSYmdGhpcy5hZGRJbmRpY2VzRm9yUGxhY2VkU3ltYm9sKHRoaXMudGV4dCx0KTt9KSksZS52ZXJ0aWNhbFBsYWNlZFRleHRTeW1ib2xJbmRleD49MCYmdGhpcy5hZGRJbmRpY2VzRm9yUGxhY2VkU3ltYm9sKHRoaXMudGV4dCxlLnZlcnRpY2FsUGxhY2VkVGV4dFN5bWJvbEluZGV4KSxlLnBsYWNlZEljb25TeW1ib2xJbmRleD49MCYmdGhpcy5hZGRJbmRpY2VzRm9yUGxhY2VkU3ltYm9sKHRoaXMuaWNvbixlLnBsYWNlZEljb25TeW1ib2xJbmRleCksZS52ZXJ0aWNhbFBsYWNlZEljb25TeW1ib2xJbmRleD49MCYmdGhpcy5hZGRJbmRpY2VzRm9yUGxhY2VkU3ltYm9sKHRoaXMuaWNvbixlLnZlcnRpY2FsUGxhY2VkSWNvblN5bWJvbEluZGV4KTt9dGhpcy50ZXh0LmluZGV4QnVmZmVyJiZ0aGlzLnRleHQuaW5kZXhCdWZmZXIudXBkYXRlRGF0YSh0aGlzLnRleHQuaW5kZXhBcnJheSksdGhpcy5pY29uLmluZGV4QnVmZmVyJiZ0aGlzLmljb24uaW5kZXhCdWZmZXIudXBkYXRlRGF0YSh0aGlzLmljb24uaW5kZXhBcnJheSk7fX19amkobWQsXCJTeW1ib2xCdWNrZXRcIix7b21pdDpbXCJsYXllcnNcIixcImNvbGxpc2lvbkJveEFycmF5XCIsXCJmZWF0dXJlc1wiLFwiY29tcGFyZVRleHRcIl19KSxtZC5NQVhfR0xZUEhTPTY1NTM1LG1kLmFkZER5bmFtaWNBdHRyaWJ1dGVzPXBkO2NvbnN0IGdkPW5ldyBRcyh7XCJzeW1ib2wtcGxhY2VtZW50XCI6bmV3IEtzKEh0LmxheW91dF9zeW1ib2xbXCJzeW1ib2wtcGxhY2VtZW50XCJdKSxcInN5bWJvbC1zcGFjaW5nXCI6bmV3IEtzKEh0LmxheW91dF9zeW1ib2xbXCJzeW1ib2wtc3BhY2luZ1wiXSksXCJzeW1ib2wtYXZvaWQtZWRnZXNcIjpuZXcgS3MoSHQubGF5b3V0X3N5bWJvbFtcInN5bWJvbC1hdm9pZC1lZGdlc1wiXSksXCJzeW1ib2wtc29ydC1rZXlcIjpuZXcgSHMoSHQubGF5b3V0X3N5bWJvbFtcInN5bWJvbC1zb3J0LWtleVwiXSksXCJzeW1ib2wtei1vcmRlclwiOm5ldyBLcyhIdC5sYXlvdXRfc3ltYm9sW1wic3ltYm9sLXotb3JkZXJcIl0pLFwiaWNvbi1hbGxvdy1vdmVybGFwXCI6bmV3IEtzKEh0LmxheW91dF9zeW1ib2xbXCJpY29uLWFsbG93LW92ZXJsYXBcIl0pLFwiaWNvbi1pZ25vcmUtcGxhY2VtZW50XCI6bmV3IEtzKEh0LmxheW91dF9zeW1ib2xbXCJpY29uLWlnbm9yZS1wbGFjZW1lbnRcIl0pLFwiaWNvbi1vcHRpb25hbFwiOm5ldyBLcyhIdC5sYXlvdXRfc3ltYm9sW1wiaWNvbi1vcHRpb25hbFwiXSksXCJpY29uLXJvdGF0aW9uLWFsaWdubWVudFwiOm5ldyBLcyhIdC5sYXlvdXRfc3ltYm9sW1wiaWNvbi1yb3RhdGlvbi1hbGlnbm1lbnRcIl0pLFwiaWNvbi1zaXplXCI6bmV3IEhzKEh0LmxheW91dF9zeW1ib2xbXCJpY29uLXNpemVcIl0pLFwiaWNvbi10ZXh0LWZpdFwiOm5ldyBLcyhIdC5sYXlvdXRfc3ltYm9sW1wiaWNvbi10ZXh0LWZpdFwiXSksXCJpY29uLXRleHQtZml0LXBhZGRpbmdcIjpuZXcgS3MoSHQubGF5b3V0X3N5bWJvbFtcImljb24tdGV4dC1maXQtcGFkZGluZ1wiXSksXCJpY29uLWltYWdlXCI6bmV3IEhzKEh0LmxheW91dF9zeW1ib2xbXCJpY29uLWltYWdlXCJdKSxcImljb24tcm90YXRlXCI6bmV3IEhzKEh0LmxheW91dF9zeW1ib2xbXCJpY29uLXJvdGF0ZVwiXSksXCJpY29uLXBhZGRpbmdcIjpuZXcgS3MoSHQubGF5b3V0X3N5bWJvbFtcImljb24tcGFkZGluZ1wiXSksXCJpY29uLWtlZXAtdXByaWdodFwiOm5ldyBLcyhIdC5sYXlvdXRfc3ltYm9sW1wiaWNvbi1rZWVwLXVwcmlnaHRcIl0pLFwiaWNvbi1vZmZzZXRcIjpuZXcgSHMoSHQubGF5b3V0X3N5bWJvbFtcImljb24tb2Zmc2V0XCJdKSxcImljb24tYW5jaG9yXCI6bmV3IEhzKEh0LmxheW91dF9zeW1ib2xbXCJpY29uLWFuY2hvclwiXSksXCJpY29uLXBpdGNoLWFsaWdubWVudFwiOm5ldyBLcyhIdC5sYXlvdXRfc3ltYm9sW1wiaWNvbi1waXRjaC1hbGlnbm1lbnRcIl0pLFwidGV4dC1waXRjaC1hbGlnbm1lbnRcIjpuZXcgS3MoSHQubGF5b3V0X3N5bWJvbFtcInRleHQtcGl0Y2gtYWxpZ25tZW50XCJdKSxcInRleHQtcm90YXRpb24tYWxpZ25tZW50XCI6bmV3IEtzKEh0LmxheW91dF9zeW1ib2xbXCJ0ZXh0LXJvdGF0aW9uLWFsaWdubWVudFwiXSksXCJ0ZXh0LWZpZWxkXCI6bmV3IEhzKEh0LmxheW91dF9zeW1ib2xbXCJ0ZXh0LWZpZWxkXCJdKSxcInRleHQtZm9udFwiOm5ldyBIcyhIdC5sYXlvdXRfc3ltYm9sW1widGV4dC1mb250XCJdKSxcInRleHQtc2l6ZVwiOm5ldyBIcyhIdC5sYXlvdXRfc3ltYm9sW1widGV4dC1zaXplXCJdKSxcInRleHQtbWF4LXdpZHRoXCI6bmV3IEhzKEh0LmxheW91dF9zeW1ib2xbXCJ0ZXh0LW1heC13aWR0aFwiXSksXCJ0ZXh0LWxpbmUtaGVpZ2h0XCI6bmV3IEhzKEh0LmxheW91dF9zeW1ib2xbXCJ0ZXh0LWxpbmUtaGVpZ2h0XCJdKSxcInRleHQtbGV0dGVyLXNwYWNpbmdcIjpuZXcgSHMoSHQubGF5b3V0X3N5bWJvbFtcInRleHQtbGV0dGVyLXNwYWNpbmdcIl0pLFwidGV4dC1qdXN0aWZ5XCI6bmV3IEhzKEh0LmxheW91dF9zeW1ib2xbXCJ0ZXh0LWp1c3RpZnlcIl0pLFwidGV4dC1yYWRpYWwtb2Zmc2V0XCI6bmV3IEhzKEh0LmxheW91dF9zeW1ib2xbXCJ0ZXh0LXJhZGlhbC1vZmZzZXRcIl0pLFwidGV4dC12YXJpYWJsZS1hbmNob3JcIjpuZXcgS3MoSHQubGF5b3V0X3N5bWJvbFtcInRleHQtdmFyaWFibGUtYW5jaG9yXCJdKSxcInRleHQtYW5jaG9yXCI6bmV3IEhzKEh0LmxheW91dF9zeW1ib2xbXCJ0ZXh0LWFuY2hvclwiXSksXCJ0ZXh0LW1heC1hbmdsZVwiOm5ldyBLcyhIdC5sYXlvdXRfc3ltYm9sW1widGV4dC1tYXgtYW5nbGVcIl0pLFwidGV4dC13cml0aW5nLW1vZGVcIjpuZXcgS3MoSHQubGF5b3V0X3N5bWJvbFtcInRleHQtd3JpdGluZy1tb2RlXCJdKSxcInRleHQtcm90YXRlXCI6bmV3IEhzKEh0LmxheW91dF9zeW1ib2xbXCJ0ZXh0LXJvdGF0ZVwiXSksXCJ0ZXh0LXBhZGRpbmdcIjpuZXcgS3MoSHQubGF5b3V0X3N5bWJvbFtcInRleHQtcGFkZGluZ1wiXSksXCJ0ZXh0LWtlZXAtdXByaWdodFwiOm5ldyBLcyhIdC5sYXlvdXRfc3ltYm9sW1widGV4dC1rZWVwLXVwcmlnaHRcIl0pLFwidGV4dC10cmFuc2Zvcm1cIjpuZXcgSHMoSHQubGF5b3V0X3N5bWJvbFtcInRleHQtdHJhbnNmb3JtXCJdKSxcInRleHQtb2Zmc2V0XCI6bmV3IEhzKEh0LmxheW91dF9zeW1ib2xbXCJ0ZXh0LW9mZnNldFwiXSksXCJ0ZXh0LWFsbG93LW92ZXJsYXBcIjpuZXcgS3MoSHQubGF5b3V0X3N5bWJvbFtcInRleHQtYWxsb3ctb3ZlcmxhcFwiXSksXCJ0ZXh0LWlnbm9yZS1wbGFjZW1lbnRcIjpuZXcgS3MoSHQubGF5b3V0X3N5bWJvbFtcInRleHQtaWdub3JlLXBsYWNlbWVudFwiXSksXCJ0ZXh0LW9wdGlvbmFsXCI6bmV3IEtzKEh0LmxheW91dF9zeW1ib2xbXCJ0ZXh0LW9wdGlvbmFsXCJdKX0pO3ZhciB4ZD17cGFpbnQ6bmV3IFFzKHtcImljb24tb3BhY2l0eVwiOm5ldyBIcyhIdC5wYWludF9zeW1ib2xbXCJpY29uLW9wYWNpdHlcIl0pLFwiaWNvbi1jb2xvclwiOm5ldyBIcyhIdC5wYWludF9zeW1ib2xbXCJpY29uLWNvbG9yXCJdKSxcImljb24taGFsby1jb2xvclwiOm5ldyBIcyhIdC5wYWludF9zeW1ib2xbXCJpY29uLWhhbG8tY29sb3JcIl0pLFwiaWNvbi1oYWxvLXdpZHRoXCI6bmV3IEhzKEh0LnBhaW50X3N5bWJvbFtcImljb24taGFsby13aWR0aFwiXSksXCJpY29uLWhhbG8tYmx1clwiOm5ldyBIcyhIdC5wYWludF9zeW1ib2xbXCJpY29uLWhhbG8tYmx1clwiXSksXCJpY29uLXRyYW5zbGF0ZVwiOm5ldyBLcyhIdC5wYWludF9zeW1ib2xbXCJpY29uLXRyYW5zbGF0ZVwiXSksXCJpY29uLXRyYW5zbGF0ZS1hbmNob3JcIjpuZXcgS3MoSHQucGFpbnRfc3ltYm9sW1wiaWNvbi10cmFuc2xhdGUtYW5jaG9yXCJdKSxcInRleHQtb3BhY2l0eVwiOm5ldyBIcyhIdC5wYWludF9zeW1ib2xbXCJ0ZXh0LW9wYWNpdHlcIl0pLFwidGV4dC1jb2xvclwiOm5ldyBIcyhIdC5wYWludF9zeW1ib2xbXCJ0ZXh0LWNvbG9yXCJdLHtydW50aW1lVHlwZTpvZSxnZXRPdmVycmlkZTp0PT50LnRleHRDb2xvcixoYXNPdmVycmlkZTp0PT4hIXQudGV4dENvbG9yfSksXCJ0ZXh0LWhhbG8tY29sb3JcIjpuZXcgSHMoSHQucGFpbnRfc3ltYm9sW1widGV4dC1oYWxvLWNvbG9yXCJdKSxcInRleHQtaGFsby13aWR0aFwiOm5ldyBIcyhIdC5wYWludF9zeW1ib2xbXCJ0ZXh0LWhhbG8td2lkdGhcIl0pLFwidGV4dC1oYWxvLWJsdXJcIjpuZXcgSHMoSHQucGFpbnRfc3ltYm9sW1widGV4dC1oYWxvLWJsdXJcIl0pLFwidGV4dC10cmFuc2xhdGVcIjpuZXcgS3MoSHQucGFpbnRfc3ltYm9sW1widGV4dC10cmFuc2xhdGVcIl0pLFwidGV4dC10cmFuc2xhdGUtYW5jaG9yXCI6bmV3IEtzKEh0LnBhaW50X3N5bWJvbFtcInRleHQtdHJhbnNsYXRlLWFuY2hvclwiXSl9KSxsYXlvdXQ6Z2R9O2NsYXNzIHZke2NvbnN0cnVjdG9yKHQpe3RoaXMudHlwZT10LnByb3BlcnR5Lm92ZXJyaWRlcz90LnByb3BlcnR5Lm92ZXJyaWRlcy5ydW50aW1lVHlwZTpuZSx0aGlzLmRlZmF1bHRWYWx1ZT10O31ldmFsdWF0ZSh0KXtpZih0LmZvcm1hdHRlZFNlY3Rpb24pe2NvbnN0IGU9dGhpcy5kZWZhdWx0VmFsdWUucHJvcGVydHkub3ZlcnJpZGVzO2lmKGUmJmUuaGFzT3ZlcnJpZGUodC5mb3JtYXR0ZWRTZWN0aW9uKSlyZXR1cm4gZS5nZXRPdmVycmlkZSh0LmZvcm1hdHRlZFNlY3Rpb24pfXJldHVybiB0LmZlYXR1cmUmJnQuZmVhdHVyZVN0YXRlP3RoaXMuZGVmYXVsdFZhbHVlLmV2YWx1YXRlKHQuZmVhdHVyZSx0LmZlYXR1cmVTdGF0ZSk6dGhpcy5kZWZhdWx0VmFsdWUucHJvcGVydHkuc3BlY2lmaWNhdGlvbi5kZWZhdWx0fWVhY2hDaGlsZCh0KXt0aGlzLmRlZmF1bHRWYWx1ZS5pc0NvbnN0YW50KCl8fHQodGhpcy5kZWZhdWx0VmFsdWUudmFsdWUuX3N0eWxlRXhwcmVzc2lvbi5leHByZXNzaW9uKTt9b3V0cHV0RGVmaW5lZCgpe3JldHVybiAhMX1zZXJpYWxpemUoKXtyZXR1cm4gbnVsbH19amkodmQsXCJGb3JtYXRTZWN0aW9uT3ZlcnJpZGVcIix7b21pdDpbXCJkZWZhdWx0VmFsdWVcIl19KTtjbGFzcyBiZCBleHRlbmRzIElve2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQseGQpO31yZWNhbGN1bGF0ZSh0LGUpe3N1cGVyLnJlY2FsY3VsYXRlKHQsZSksXCJhdXRvXCI9PT10aGlzLmxheW91dC5nZXQoXCJpY29uLXJvdGF0aW9uLWFsaWdubWVudFwiKSYmKHRoaXMubGF5b3V0Ll92YWx1ZXNbXCJpY29uLXJvdGF0aW9uLWFsaWdubWVudFwiXT1cInBvaW50XCIhPT10aGlzLmxheW91dC5nZXQoXCJzeW1ib2wtcGxhY2VtZW50XCIpP1wibWFwXCI6XCJ2aWV3cG9ydFwiKSxcImF1dG9cIj09PXRoaXMubGF5b3V0LmdldChcInRleHQtcm90YXRpb24tYWxpZ25tZW50XCIpJiYodGhpcy5sYXlvdXQuX3ZhbHVlc1tcInRleHQtcm90YXRpb24tYWxpZ25tZW50XCJdPVwicG9pbnRcIiE9PXRoaXMubGF5b3V0LmdldChcInN5bWJvbC1wbGFjZW1lbnRcIik/XCJtYXBcIjpcInZpZXdwb3J0XCIpLFwiYXV0b1wiPT09dGhpcy5sYXlvdXQuZ2V0KFwidGV4dC1waXRjaC1hbGlnbm1lbnRcIikmJih0aGlzLmxheW91dC5fdmFsdWVzW1widGV4dC1waXRjaC1hbGlnbm1lbnRcIl09dGhpcy5sYXlvdXQuZ2V0KFwidGV4dC1yb3RhdGlvbi1hbGlnbm1lbnRcIikpLFwiYXV0b1wiPT09dGhpcy5sYXlvdXQuZ2V0KFwiaWNvbi1waXRjaC1hbGlnbm1lbnRcIikmJih0aGlzLmxheW91dC5fdmFsdWVzW1wiaWNvbi1waXRjaC1hbGlnbm1lbnRcIl09dGhpcy5sYXlvdXQuZ2V0KFwiaWNvbi1yb3RhdGlvbi1hbGlnbm1lbnRcIikpO2NvbnN0IHI9dGhpcy5sYXlvdXQuZ2V0KFwidGV4dC13cml0aW5nLW1vZGVcIik7aWYocil7Y29uc3QgdD1bXTtmb3IoY29uc3QgZSBvZiByKXQuaW5kZXhPZihlKTwwJiZ0LnB1c2goZSk7dGhpcy5sYXlvdXQuX3ZhbHVlc1tcInRleHQtd3JpdGluZy1tb2RlXCJdPXQ7fWVsc2UgdGhpcy5sYXlvdXQuX3ZhbHVlc1tcInRleHQtd3JpdGluZy1tb2RlXCJdPVwicG9pbnRcIj09PXRoaXMubGF5b3V0LmdldChcInN5bWJvbC1wbGFjZW1lbnRcIik/W1wiaG9yaXpvbnRhbFwiXTpbXCJob3Jpem9udGFsXCIsXCJ2ZXJ0aWNhbFwiXTt0aGlzLl9zZXRQYWludE92ZXJyaWRlcygpO31nZXRWYWx1ZUFuZFJlc29sdmVUb2tlbnModCxlLHIsbil7Y29uc3QgaT10aGlzLmxheW91dC5nZXQodCkuZXZhbHVhdGUoZSx7fSxyLG4pLHM9dGhpcy5fdW5ldmFsdWF0ZWRMYXlvdXQuX3ZhbHVlc1t0XTtyZXR1cm4gcy5pc0RhdGFEcml2ZW4oKXx8cW4ocy52YWx1ZSl8fCFpP2k6ZnVuY3Rpb24odCxlKXtyZXR1cm4gZS5yZXBsYWNlKC97KFtee31dKyl9L2csKChlLHIpPT5yIGluIHQ/U3RyaW5nKHRbcl0pOlwiXCIpKX0oZS5wcm9wZXJ0aWVzLGkpfWNyZWF0ZUJ1Y2tldCh0KXtyZXR1cm4gbmV3IG1kKHQpfXF1ZXJ5UmFkaXVzKCl7cmV0dXJuIDB9cXVlcnlJbnRlcnNlY3RzRmVhdHVyZSgpe3JldHVybiAhMX1fc2V0UGFpbnRPdmVycmlkZXMoKXtmb3IoY29uc3QgdCBvZiB4ZC5wYWludC5vdmVycmlkYWJsZVByb3BlcnRpZXMpe2lmKCFiZC5oYXNQYWludE92ZXJyaWRlKHRoaXMubGF5b3V0LHQpKWNvbnRpbnVlO2NvbnN0IGU9dGhpcy5wYWludC5nZXQodCkscj1uZXcgdmQoZSksbj1uZXcgT24ocixlLnByb3BlcnR5LnNwZWNpZmljYXRpb24pO2xldCBpPW51bGw7aT1cImNvbnN0YW50XCI9PT1lLnZhbHVlLmtpbmR8fFwic291cmNlXCI9PT1lLnZhbHVlLmtpbmQ/bmV3IEduKFwic291cmNlXCIsbik6bmV3IFpuKFwiY29tcG9zaXRlXCIsbixlLnZhbHVlLnpvb21TdG9wcyxlLnZhbHVlLl9pbnRlcnBvbGF0aW9uVHlwZSksdGhpcy5wYWludC5fdmFsdWVzW3RdPW5ldyBacyhlLnByb3BlcnR5LGksZS5wYXJhbWV0ZXJzKTt9fV9oYW5kbGVPdmVycmlkYWJsZVBhaW50UHJvcGVydHlVcGRhdGUodCxlLHIpe3JldHVybiAhKCF0aGlzLmxheW91dHx8ZS5pc0RhdGFEcml2ZW4oKXx8ci5pc0RhdGFEcml2ZW4oKSkmJmJkLmhhc1BhaW50T3ZlcnJpZGUodGhpcy5sYXlvdXQsdCl9c3RhdGljIGhhc1BhaW50T3ZlcnJpZGUodCxlKXtjb25zdCByPXQuZ2V0KFwidGV4dC1maWVsZFwiKSxuPXhkLnBhaW50LnByb3BlcnRpZXNbZV07bGV0IGk9ITE7Y29uc3Qgcz10PT57Zm9yKGNvbnN0IGUgb2YgdClpZihuLm92ZXJyaWRlcyYmbi5vdmVycmlkZXMuaGFzT3ZlcnJpZGUoZSkpcmV0dXJuIHZvaWQoaT0hMCl9O2lmKFwiY29uc3RhbnRcIj09PXIudmFsdWUua2luZCYmci52YWx1ZS52YWx1ZSBpbnN0YW5jZW9mIFRlKXMoci52YWx1ZS52YWx1ZS5zZWN0aW9ucyk7ZWxzZSBpZihcInNvdXJjZVwiPT09ci52YWx1ZS5raW5kKXtjb25zdCB0PWU9PntpfHwoZSBpbnN0YW5jZW9mIEZlJiZDZShlLnZhbHVlKT09PWhlP3MoZS52YWx1ZS5zZWN0aW9ucyk6ZSBpbnN0YW5jZW9mICRlP3MoZS5zZWN0aW9ucyk6ZS5lYWNoQ2hpbGQodCkpO30sZT1yLnZhbHVlO2UuX3N0eWxlRXhwcmVzc2lvbiYmdChlLl9zdHlsZUV4cHJlc3Npb24uZXhwcmVzc2lvbik7fXJldHVybiBpfWdldFByb2dyYW1Db25maWd1cmF0aW9uKHQpe3JldHVybiBuZXcgeG8odGhpcyx0KX19dmFyIF9kPXtwYWludDpuZXcgUXMoe1wiYmFja2dyb3VuZC1jb2xvclwiOm5ldyBLcyhIdC5wYWludF9iYWNrZ3JvdW5kW1wiYmFja2dyb3VuZC1jb2xvclwiXSksXCJiYWNrZ3JvdW5kLXBhdHRlcm5cIjpuZXcgV3MoSHQucGFpbnRfYmFja2dyb3VuZFtcImJhY2tncm91bmQtcGF0dGVyblwiXSksXCJiYWNrZ3JvdW5kLW9wYWNpdHlcIjpuZXcgS3MoSHQucGFpbnRfYmFja2dyb3VuZFtcImJhY2tncm91bmQtb3BhY2l0eVwiXSl9KX0sd2Q9e3BhaW50Om5ldyBRcyh7XCJyYXN0ZXItb3BhY2l0eVwiOm5ldyBLcyhIdC5wYWludF9yYXN0ZXJbXCJyYXN0ZXItb3BhY2l0eVwiXSksXCJyYXN0ZXItaHVlLXJvdGF0ZVwiOm5ldyBLcyhIdC5wYWludF9yYXN0ZXJbXCJyYXN0ZXItaHVlLXJvdGF0ZVwiXSksXCJyYXN0ZXItYnJpZ2h0bmVzcy1taW5cIjpuZXcgS3MoSHQucGFpbnRfcmFzdGVyW1wicmFzdGVyLWJyaWdodG5lc3MtbWluXCJdKSxcInJhc3Rlci1icmlnaHRuZXNzLW1heFwiOm5ldyBLcyhIdC5wYWludF9yYXN0ZXJbXCJyYXN0ZXItYnJpZ2h0bmVzcy1tYXhcIl0pLFwicmFzdGVyLXNhdHVyYXRpb25cIjpuZXcgS3MoSHQucGFpbnRfcmFzdGVyW1wicmFzdGVyLXNhdHVyYXRpb25cIl0pLFwicmFzdGVyLWNvbnRyYXN0XCI6bmV3IEtzKEh0LnBhaW50X3Jhc3RlcltcInJhc3Rlci1jb250cmFzdFwiXSksXCJyYXN0ZXItcmVzYW1wbGluZ1wiOm5ldyBLcyhIdC5wYWludF9yYXN0ZXJbXCJyYXN0ZXItcmVzYW1wbGluZ1wiXSksXCJyYXN0ZXItZmFkZS1kdXJhdGlvblwiOm5ldyBLcyhIdC5wYWludF9yYXN0ZXJbXCJyYXN0ZXItZmFkZS1kdXJhdGlvblwiXSl9KX07Y2xhc3MgQWQgZXh0ZW5kcyBJb3tjb25zdHJ1Y3Rvcih0KXtzdXBlcih0LHt9KSx0aGlzLmltcGxlbWVudGF0aW9uPXQ7fWlzM0QoKXtyZXR1cm4gXCIzZFwiPT09dGhpcy5pbXBsZW1lbnRhdGlvbi5yZW5kZXJpbmdNb2RlfWhhc09mZnNjcmVlblBhc3MoKXtyZXR1cm4gdm9pZCAwIT09dGhpcy5pbXBsZW1lbnRhdGlvbi5wcmVyZW5kZXJ9cmVjYWxjdWxhdGUoKXt9dXBkYXRlVHJhbnNpdGlvbnMoKXt9aGFzVHJhbnNpdGlvbigpe3JldHVybiAhMX1zZXJpYWxpemUoKXt9b25BZGQodCl7dGhpcy5pbXBsZW1lbnRhdGlvbi5vbkFkZCYmdGhpcy5pbXBsZW1lbnRhdGlvbi5vbkFkZCh0LHQucGFpbnRlci5jb250ZXh0LmdsKTt9b25SZW1vdmUodCl7dGhpcy5pbXBsZW1lbnRhdGlvbi5vblJlbW92ZSYmdGhpcy5pbXBsZW1lbnRhdGlvbi5vblJlbW92ZSh0LHQucGFpbnRlci5jb250ZXh0LmdsKTt9fXZhciBTZD17cGFpbnQ6bmV3IFFzKHtcInNreS10eXBlXCI6bmV3IEtzKEh0LnBhaW50X3NreVtcInNreS10eXBlXCJdKSxcInNreS1hdG1vc3BoZXJlLXN1blwiOm5ldyBLcyhIdC5wYWludF9za3lbXCJza3ktYXRtb3NwaGVyZS1zdW5cIl0pLFwic2t5LWF0bW9zcGhlcmUtc3VuLWludGVuc2l0eVwiOm5ldyBLcyhIdC5wYWludF9za3lbXCJza3ktYXRtb3NwaGVyZS1zdW4taW50ZW5zaXR5XCJdKSxcInNreS1ncmFkaWVudC1jZW50ZXJcIjpuZXcgS3MoSHQucGFpbnRfc2t5W1wic2t5LWdyYWRpZW50LWNlbnRlclwiXSksXCJza3ktZ3JhZGllbnQtcmFkaXVzXCI6bmV3IEtzKEh0LnBhaW50X3NreVtcInNreS1ncmFkaWVudC1yYWRpdXNcIl0pLFwic2t5LWdyYWRpZW50XCI6bmV3IEpzKEh0LnBhaW50X3NreVtcInNreS1ncmFkaWVudFwiXSksXCJza3ktYXRtb3NwaGVyZS1oYWxvLWNvbG9yXCI6bmV3IEtzKEh0LnBhaW50X3NreVtcInNreS1hdG1vc3BoZXJlLWhhbG8tY29sb3JcIl0pLFwic2t5LWF0bW9zcGhlcmUtY29sb3JcIjpuZXcgS3MoSHQucGFpbnRfc2t5W1wic2t5LWF0bW9zcGhlcmUtY29sb3JcIl0pLFwic2t5LW9wYWNpdHlcIjpuZXcgS3MoSHQucGFpbnRfc2t5W1wic2t5LW9wYWNpdHlcIl0pfSl9O2Z1bmN0aW9uIGtkKHQsZSxyKXtjb25zdCBuPVswLDAsMV0saT1zdShbXSk7cmV0dXJuIG91KGksaSxyPy14KHQpK01hdGguUEk6eCh0KSksYXUoaSxpLC14KGUpKSxZbChuLG4saSksWmwobixuKX1jb25zdCBJZD17Y2lyY2xlOmNsYXNzIGV4dGVuZHMgSW97Y29uc3RydWN0b3IodCl7c3VwZXIodCxibCk7fWNyZWF0ZUJ1Y2tldCh0KXtyZXR1cm4gbmV3IHJsKHQpfXF1ZXJ5UmFkaXVzKHQpe2NvbnN0IGU9dDtyZXR1cm4geWwoXCJjaXJjbGUtcmFkaXVzXCIsdGhpcyxlKSt5bChcImNpcmNsZS1zdHJva2Utd2lkdGhcIix0aGlzLGUpK21sKHRoaXMucGFpbnQuZ2V0KFwiY2lyY2xlLXRyYW5zbGF0ZVwiKSl9cXVlcnlJbnRlcnNlY3RzRmVhdHVyZSh0LGUscixuLGkscyxhLG8pe2NvbnN0IGw9eGwodGhpcy5wYWludC5nZXQoXCJjaXJjbGUtdHJhbnNsYXRlXCIpLHRoaXMucGFpbnQuZ2V0KFwiY2lyY2xlLXRyYW5zbGF0ZS1hbmNob3JcIikscy5hbmdsZSx0LnBpeGVsVG9UaWxlVW5pdHNGYWN0b3IpLHU9dGhpcy5wYWludC5nZXQoXCJjaXJjbGUtcmFkaXVzXCIpLmV2YWx1YXRlKGUscikrdGhpcy5wYWludC5nZXQoXCJjaXJjbGUtc3Ryb2tlLXdpZHRoXCIpLmV2YWx1YXRlKGUscik7cmV0dXJuIGZ1KHQsbixzLGEsbyxcIm1hcFwiPT09dGhpcy5wYWludC5nZXQoXCJjaXJjbGUtcGl0Y2gtYWxpZ25tZW50XCIpLFwibWFwXCI9PT10aGlzLnBhaW50LmdldChcImNpcmNsZS1waXRjaC1zY2FsZVwiKSxsLHUpfWdldFByb2dyYW1JZHMoKXtyZXR1cm4gW1wiY2lyY2xlXCJdfWdldFByb2dyYW1Db25maWd1cmF0aW9uKHQpe3JldHVybiBuZXcgeG8odGhpcyx0KX19LGhlYXRtYXA6Y2xhc3MgZXh0ZW5kcyBJb3tjcmVhdGVCdWNrZXQodCl7cmV0dXJuIG5ldyB4dSh0KX1jb25zdHJ1Y3Rvcih0KXtzdXBlcih0LFN1KSx0aGlzLl91cGRhdGVDb2xvclJhbXAoKTt9X2hhbmRsZVNwZWNpYWxQYWludFByb3BlcnR5VXBkYXRlKHQpe1wiaGVhdG1hcC1jb2xvclwiPT09dCYmdGhpcy5fdXBkYXRlQ29sb3JSYW1wKCk7fV91cGRhdGVDb2xvclJhbXAoKXt0aGlzLmNvbG9yUmFtcD1rdSh7ZXhwcmVzc2lvbjp0aGlzLl90cmFuc2l0aW9uYWJsZVBhaW50Ll92YWx1ZXNbXCJoZWF0bWFwLWNvbG9yXCJdLnZhbHVlLmV4cHJlc3Npb24sZXZhbHVhdGlvbktleTpcImhlYXRtYXBEZW5zaXR5XCIsaW1hZ2U6dGhpcy5jb2xvclJhbXB9KSx0aGlzLmNvbG9yUmFtcFRleHR1cmU9bnVsbDt9cmVzaXplKCl7dGhpcy5oZWF0bWFwRmJvJiYodGhpcy5oZWF0bWFwRmJvLmRlc3Ryb3koKSx0aGlzLmhlYXRtYXBGYm89bnVsbCk7fXF1ZXJ5UmFkaXVzKHQpe3JldHVybiB5bChcImhlYXRtYXAtcmFkaXVzXCIsdGhpcyx0KX1xdWVyeUludGVyc2VjdHNGZWF0dXJlKHQsZSxyLG4saSxzLGEsbyl7Y29uc3QgbD10aGlzLnBhaW50LmdldChcImhlYXRtYXAtcmFkaXVzXCIpLmV2YWx1YXRlKGUscik7cmV0dXJuIGZ1KHQsbixzLGEsbywhMCwhMCxuZXcgZCgwLDApLGwpfWhhc09mZnNjcmVlblBhc3MoKXtyZXR1cm4gMCE9PXRoaXMucGFpbnQuZ2V0KFwiaGVhdG1hcC1vcGFjaXR5XCIpJiZcIm5vbmVcIiE9PXRoaXMudmlzaWJpbGl0eX1nZXRQcm9ncmFtSWRzKCl7cmV0dXJuIFtcImhlYXRtYXBcIixcImhlYXRtYXBUZXh0dXJlXCJdfWdldFByb2dyYW1Db25maWd1cmF0aW9uKHQpe3JldHVybiBuZXcgeG8odGhpcyx0KX19LGhpbGxzaGFkZTpjbGFzcyBleHRlbmRzIElve2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQsSXUpO31oYXNPZmZzY3JlZW5QYXNzKCl7cmV0dXJuIDAhPT10aGlzLnBhaW50LmdldChcImhpbGxzaGFkZS1leGFnZ2VyYXRpb25cIikmJlwibm9uZVwiIT09dGhpcy52aXNpYmlsaXR5fWdldFByb2dyYW1JZHMoKXtyZXR1cm4gW1wiaGlsbHNoYWRlXCIsXCJoaWxsc2hhZGVQcmVwYXJlXCJdfX0sZmlsbDpjbGFzcyBleHRlbmRzIElve2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQscGMpO31nZXRQcm9ncmFtSWRzKCl7Y29uc3QgdD10aGlzLnBhaW50LmdldChcImZpbGwtcGF0dGVyblwiKSxlPXQmJnQuY29uc3RhbnRPcigxKSxyPVtlP1wiZmlsbFBhdHRlcm5cIjpcImZpbGxcIl07cmV0dXJuIHRoaXMucGFpbnQuZ2V0KFwiZmlsbC1hbnRpYWxpYXNcIikmJnIucHVzaChlJiYhdGhpcy5nZXRQYWludFByb3BlcnR5KFwiZmlsbC1vdXRsaW5lLWNvbG9yXCIpP1wiZmlsbE91dGxpbmVQYXR0ZXJuXCI6XCJmaWxsT3V0bGluZVwiKSxyfWdldFByb2dyYW1Db25maWd1cmF0aW9uKHQpe3JldHVybiBuZXcgeG8odGhpcyx0KX1yZWNhbGN1bGF0ZSh0LGUpe3N1cGVyLnJlY2FsY3VsYXRlKHQsZSk7Y29uc3Qgcj10aGlzLnBhaW50Ll92YWx1ZXNbXCJmaWxsLW91dGxpbmUtY29sb3JcIl07XCJjb25zdGFudFwiPT09ci52YWx1ZS5raW5kJiZ2b2lkIDA9PT1yLnZhbHVlLnZhbHVlJiYodGhpcy5wYWludC5fdmFsdWVzW1wiZmlsbC1vdXRsaW5lLWNvbG9yXCJdPXRoaXMucGFpbnQuX3ZhbHVlc1tcImZpbGwtY29sb3JcIl0pO31jcmVhdGVCdWNrZXQodCl7cmV0dXJuIG5ldyBjYyh0KX1xdWVyeVJhZGl1cygpe3JldHVybiBtbCh0aGlzLnBhaW50LmdldChcImZpbGwtdHJhbnNsYXRlXCIpKX1xdWVyeUludGVyc2VjdHNGZWF0dXJlKHQsZSxyLG4saSxzKXtyZXR1cm4gIXQucXVlcnlHZW9tZXRyeS5pc0Fib3ZlSG9yaXpvbiYmc2woZ2wodC50aWxlc3BhY2VHZW9tZXRyeSx0aGlzLnBhaW50LmdldChcImZpbGwtdHJhbnNsYXRlXCIpLHRoaXMucGFpbnQuZ2V0KFwiZmlsbC10cmFuc2xhdGUtYW5jaG9yXCIpLHMuYW5nbGUsdC5waXhlbFRvVGlsZVVuaXRzRmFjdG9yKSxuKX1pc1RpbGVDbGlwcGVkKCl7cmV0dXJuICEwfX0sXCJmaWxsLWV4dHJ1c2lvblwiOmNsYXNzIGV4dGVuZHMgSW97Y29uc3RydWN0b3IodCl7c3VwZXIodCxYYyk7fWNyZWF0ZUJ1Y2tldCh0KXtyZXR1cm4gbmV3IExjKHQpfXF1ZXJ5UmFkaXVzKCl7cmV0dXJuIG1sKHRoaXMucGFpbnQuZ2V0KFwiZmlsbC1leHRydXNpb24tdHJhbnNsYXRlXCIpKX1pczNEKCl7cmV0dXJuICEwfWdldFByb2dyYW1JZHMoKXtyZXR1cm4gW3RoaXMucGFpbnQuZ2V0KFwiZmlsbC1leHRydXNpb24tcGF0dGVyblwiKS5jb25zdGFudE9yKDEpP1wiZmlsbEV4dHJ1c2lvblBhdHRlcm5cIjpcImZpbGxFeHRydXNpb25cIl19Z2V0UHJvZ3JhbUNvbmZpZ3VyYXRpb24odCl7cmV0dXJuIG5ldyB4byh0aGlzLHQpfXF1ZXJ5SW50ZXJzZWN0c0ZlYXR1cmUodCxlLHIsbixpLHMsYSxvLGwpe2NvbnN0IHU9eGwodGhpcy5wYWludC5nZXQoXCJmaWxsLWV4dHJ1c2lvbi10cmFuc2xhdGVcIiksdGhpcy5wYWludC5nZXQoXCJmaWxsLWV4dHJ1c2lvbi10cmFuc2xhdGUtYW5jaG9yXCIpLHMuYW5nbGUsdC5waXhlbFRvVGlsZVVuaXRzRmFjdG9yKSxjPXRoaXMucGFpbnQuZ2V0KFwiZmlsbC1leHRydXNpb24taGVpZ2h0XCIpLmV2YWx1YXRlKGUsciksaD10aGlzLnBhaW50LmdldChcImZpbGwtZXh0cnVzaW9uLWJhc2VcIikuZXZhbHVhdGUoZSxyKSxwPVswLDBdLGY9byYmcy5lbGV2YXRpb24seT1zLmVsZXZhdGlvbj9zLmVsZXZhdGlvbi5leGFnZ2VyYXRpb24oKToxLG09dC50aWxlLmdldEJ1Y2tldCh0aGlzKTtpZihmJiZtIGluc3RhbmNlb2YgTGMpe2NvbnN0IHQ9bS5jZW50cm9pZFZlcnRleEFycmF5LGU9bCsxO2lmKGU8dC5sZW5ndGgpe2NvbnN0IHI9dC5nZXQoZSk7cFswXT1yLmFfY2VudHJvaWRfcG9zMCxwWzFdPXIuYV9jZW50cm9pZF9wb3MxO319aWYoMD09PXBbMF0mJjE9PT1wWzFdKXJldHVybiAhMTtcImdsb2JlXCI9PT1zLnByb2plY3Rpb24ubmFtZSYmKG49R2MoW25dLFtuZXcgZCgwLDApLG5ldyBkKEJvLEJvKV0sdC50aWxlSUQuY2Fub25pY2FsKS5tYXAoKHQ9PnQucG9seWdvbikpLmZsYXQoKSk7Y29uc3QgZz1mP286bnVsbCxbeCx2XT1mdW5jdGlvbih0LGUscixuLGkscyxhLG8sbCx1LGMpe3JldHVybiBcImdsb2JlXCI9PT10LnByb2plY3Rpb24ubmFtZT9mdW5jdGlvbih0LGUscixuLGkscyxhLG8sbCx1LGMpe2NvbnN0IGg9W10scD1bXSxmPXQucHJvamVjdGlvbi51cFZlY3RvclNjYWxlKGMsdC5jZW50ZXIubGF0LHQud29ybGRTaXplKS5tZXRlcnNUb1RpbGUsZD1bMCwwLDAsMV0seT1bMCwwLDAsMV0sbT0odCxlLHIsbik9Pnt0WzBdPWUsdFsxXT1yLHRbMl09bix0WzNdPTE7fSxnPU5jKCk7cj4wJiYocis9Zyksbis9Zztmb3IoY29uc3QgZyBvZiBlKXtjb25zdCBlPVtdLHg9W107Zm9yKGNvbnN0IGggb2YgZyl7Y29uc3QgcD1oLngraS54LGc9aC55K2kueSx2PXQucHJvamVjdGlvbi5wcm9qZWN0VGlsZVBvaW50KHAsZyxjKSxiPXQucHJvamVjdGlvbi51cFZlY3RvcihjLGgueCxoLnkpO2xldCBfPXIsdz1uO2lmKGEpe2NvbnN0IHQ9cmgocCxnLHIsbixhLG8sbCx1KTtfKz10LmJhc2Usdys9dC50b3A7fTAhPT1yP20oZCx2LngrYlswXSpmKl8sdi55K2JbMV0qZipfLHYueitiWzJdKmYqXyk6bShkLHYueCx2Lnksdi56KSxtKHksdi54K2JbMF0qZip3LHYueStiWzFdKmYqdyx2LnorYlsyXSpmKncpLEhsKGQsZCxzKSxIbCh5LHkscyksZS5wdXNoKG5ldyBRYyhkWzBdLGRbMV0sZFsyXSkpLHgucHVzaChuZXcgUWMoeVswXSx5WzFdLHlbMl0pKTt9aC5wdXNoKGUpLHAucHVzaCh4KTt9cmV0dXJuIFtoLHBdfSh0LGUscixuLGkscyxhLG8sbCx1LGMpOmE/ZnVuY3Rpb24odCxlLHIsbixpLHMsYSxvLGwpe2NvbnN0IHU9W10sYz1bXSxoPVswLDAsMCwxXTtmb3IoY29uc3QgcCBvZiB0KXtjb25zdCB0PVtdLGY9W107Zm9yKGNvbnN0IHUgb2YgcCl7Y29uc3QgYz11Lngrbi54LHA9dS55K24ueSxkPXJoKGMscCxlLHIscyxhLG8sbCk7aFswXT1jLGhbMV09cCxoWzJdPWQuYmFzZSxoWzNdPTEsbnUoaCxoLGkpLGhbM109TWF0aC5tYXgoaFszXSwxZS01KTtjb25zdCB5PW5ldyBRYyhoWzBdL2hbM10saFsxXS9oWzNdLGhbMl0vaFszXSk7aFswXT1jLGhbMV09cCxoWzJdPWQudG9wLGhbM109MSxudShoLGgsaSksaFszXT1NYXRoLm1heChoWzNdLDFlLTUpO2NvbnN0IG09bmV3IFFjKGhbMF0vaFszXSxoWzFdL2hbM10saFsyXS9oWzNdKTt0LnB1c2goeSksZi5wdXNoKG0pO311LnB1c2godCksYy5wdXNoKGYpO31yZXR1cm4gW3UsY119KGUscixuLGkscyxhLG8sbCx1KTpmdW5jdGlvbih0LGUscixuLGkpe2NvbnN0IHM9W10sYT1bXSxvPWlbOF0qZSxsPWlbOV0qZSx1PWlbMTBdKmUsYz1pWzExXSplLGg9aVs4XSpyLHA9aVs5XSpyLGY9aVsxMF0qcixkPWlbMTFdKnI7Zm9yKGNvbnN0IGUgb2YgdCl7Y29uc3QgdD1bXSxyPVtdO2Zvcihjb25zdCBzIG9mIGUpe2NvbnN0IGU9cy54K24ueCxhPXMueStuLnkseT1pWzBdKmUraVs0XSphK2lbMTJdLG09aVsxXSplK2lbNV0qYStpWzEzXSxnPWlbMl0qZStpWzZdKmEraVsxNF0seD1pWzNdKmUraVs3XSphK2lbMTVdLHY9eStvLGI9bStsLF89Zyt1LHc9TWF0aC5tYXgoeCtjLDFlLTUpLEE9eStoLFM9bStwLGs9ZytmLEk9TWF0aC5tYXgoeCtkLDFlLTUpO3QucHVzaChuZXcgUWModi93LGIvdyxfL3cpKSxyLnB1c2gobmV3IFFjKEEvSSxTL0ksay9JKSk7fXMucHVzaCh0KSxhLnB1c2gocik7fXJldHVybiBbcyxhXX0oZSxyLG4saSxzKX0ocyxuLGgsYyx1LGEsZyxwLHkscy5jZW50ZXIubGF0LHQudGlsZUlELmNhbm9uaWNhbCksYj10LnF1ZXJ5R2VvbWV0cnk7cmV0dXJuIGZ1bmN0aW9uKHQsZSxyKXtsZXQgbj0xLzA7c2wocixlKSYmKG49ZWgocixlWzBdKSk7Zm9yKGxldCBpPTA7aTxlLmxlbmd0aDtpKyspe2NvbnN0IHM9ZVtpXSxhPXRbaV07Zm9yKGxldCB0PTA7dDxzLmxlbmd0aC0xO3QrKyl7Y29uc3QgZT1zW3RdLGk9W2Usc1t0KzFdLGFbdCsxXSxhW3RdLGVdO25sKHIsaSkmJihuPU1hdGgubWluKG4sZWgocixpKSkpO319cmV0dXJuIG4hPT0xLzAmJm59KHgsdixiLmlzUG9pbnRRdWVyeSgpP2Iuc2NyZWVuQm91bmRzOmIuc2NyZWVuR2VvbWV0cnkpfX0sbGluZTpjbGFzcyBleHRlbmRzIElve2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQsaGgpLHRoaXMuZ3JhZGllbnRWZXJzaW9uPTA7fV9oYW5kbGVTcGVjaWFsUGFpbnRQcm9wZXJ0eVVwZGF0ZSh0KXtpZihcImxpbmUtZ3JhZGllbnRcIj09PXQpe2NvbnN0IHQ9dGhpcy5fdHJhbnNpdGlvbmFibGVQYWludC5fdmFsdWVzW1wibGluZS1ncmFkaWVudFwiXS52YWx1ZS5leHByZXNzaW9uO3RoaXMuc3RlcEludGVycG9sYW50PXQuX3N0eWxlRXhwcmVzc2lvbiYmdC5fc3R5bGVFeHByZXNzaW9uLmV4cHJlc3Npb24gaW5zdGFuY2VvZiBrcix0aGlzLmdyYWRpZW50VmVyc2lvbj0odGhpcy5ncmFkaWVudFZlcnNpb24rMSklTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI7fX1ncmFkaWVudEV4cHJlc3Npb24oKXtyZXR1cm4gdGhpcy5fdHJhbnNpdGlvbmFibGVQYWludC5fdmFsdWVzW1wibGluZS1ncmFkaWVudFwiXS52YWx1ZS5leHByZXNzaW9ufXJlY2FsY3VsYXRlKHQsZSl7c3VwZXIucmVjYWxjdWxhdGUodCxlKSx0aGlzLnBhaW50Ll92YWx1ZXNbXCJsaW5lLWZsb29yd2lkdGhcIl09cGgucG9zc2libHlFdmFsdWF0ZSh0aGlzLl90cmFuc2l0aW9uaW5nUGFpbnQuX3ZhbHVlc1tcImxpbmUtd2lkdGhcIl0udmFsdWUsdCk7fWNyZWF0ZUJ1Y2tldCh0KXtyZXR1cm4gbmV3IHVoKHQpfWdldFByb2dyYW1JZHMoKXtyZXR1cm4gW3RoaXMucGFpbnQuZ2V0KFwibGluZS1wYXR0ZXJuXCIpLmNvbnN0YW50T3IoMSk/XCJsaW5lUGF0dGVyblwiOlwibGluZVwiXX1nZXRQcm9ncmFtQ29uZmlndXJhdGlvbih0KXtyZXR1cm4gbmV3IHhvKHRoaXMsdCl9cXVlcnlSYWRpdXModCl7Y29uc3QgZT10LHI9ZmgoeWwoXCJsaW5lLXdpZHRoXCIsdGhpcyxlKSx5bChcImxpbmUtZ2FwLXdpZHRoXCIsdGhpcyxlKSksbj15bChcImxpbmUtb2Zmc2V0XCIsdGhpcyxlKTtyZXR1cm4gci8yK01hdGguYWJzKG4pK21sKHRoaXMucGFpbnQuZ2V0KFwibGluZS10cmFuc2xhdGVcIikpfXF1ZXJ5SW50ZXJzZWN0c0ZlYXR1cmUodCxlLHIsbixpLHMpe2lmKHQucXVlcnlHZW9tZXRyeS5pc0Fib3ZlSG9yaXpvbilyZXR1cm4gITE7Y29uc3QgYT1nbCh0LnRpbGVzcGFjZUdlb21ldHJ5LHRoaXMucGFpbnQuZ2V0KFwibGluZS10cmFuc2xhdGVcIiksdGhpcy5wYWludC5nZXQoXCJsaW5lLXRyYW5zbGF0ZS1hbmNob3JcIikscy5hbmdsZSx0LnBpeGVsVG9UaWxlVW5pdHNGYWN0b3IpLG89dC5waXhlbFRvVGlsZVVuaXRzRmFjdG9yLzIqZmgodGhpcy5wYWludC5nZXQoXCJsaW5lLXdpZHRoXCIpLmV2YWx1YXRlKGUsciksdGhpcy5wYWludC5nZXQoXCJsaW5lLWdhcC13aWR0aFwiKS5ldmFsdWF0ZShlLHIpKSxsPXRoaXMucGFpbnQuZ2V0KFwibGluZS1vZmZzZXRcIikuZXZhbHVhdGUoZSxyKTtyZXR1cm4gbCYmKG49ZnVuY3Rpb24odCxlKXtjb25zdCByPVtdLG49bmV3IGQoMCwwKTtmb3IobGV0IGk9MDtpPHQubGVuZ3RoO2krKyl7Y29uc3Qgcz10W2ldLGE9W107Zm9yKGxldCB0PTA7dDxzLmxlbmd0aDt0Kyspe2NvbnN0IHI9c1t0LTFdLGk9c1t0XSxvPXNbdCsxXSxsPTA9PT10P246aS5zdWIocikuX3VuaXQoKS5fcGVycCgpLHU9dD09PXMubGVuZ3RoLTE/bjpvLnN1YihpKS5fdW5pdCgpLl9wZXJwKCksYz1sLl9hZGQodSkuX3VuaXQoKTtjLl9tdWx0KDEvKGMueCp1LngrYy55KnUueSkpLGEucHVzaChjLl9tdWx0KGUpLl9hZGQoaSkpO31yLnB1c2goYSk7fXJldHVybiByfShuLGwqdC5waXhlbFRvVGlsZVVuaXRzRmFjdG9yKSksZnVuY3Rpb24odCxlLHIpe2ZvcihsZXQgbj0wO248ZS5sZW5ndGg7bisrKXtjb25zdCBpPWVbbl07aWYodC5sZW5ndGg+PTMpZm9yKGxldCBlPTA7ZTxpLmxlbmd0aDtlKyspaWYocGwodCxpW2VdKSlyZXR1cm4gITA7aWYoYWwodCxpLHIpKXJldHVybiAhMH1yZXR1cm4gITF9KGEsbixvKX1pc1RpbGVDbGlwcGVkKCl7cmV0dXJuICEwfX0sc3ltYm9sOmJkLGJhY2tncm91bmQ6Y2xhc3MgZXh0ZW5kcyBJb3tjb25zdHJ1Y3Rvcih0KXtzdXBlcih0LF9kKTt9Z2V0UHJvZ3JhbUlkcygpe3JldHVybiBbdGhpcy5wYWludC5nZXQoXCJiYWNrZ3JvdW5kLXBhdHRlcm5cIik/XCJiYWNrZ3JvdW5kUGF0dGVyblwiOlwiYmFja2dyb3VuZFwiXX19LHJhc3RlcjpjbGFzcyBleHRlbmRzIElve2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQsd2QpO31nZXRQcm9ncmFtSWRzKCl7cmV0dXJuIFtcInJhc3RlclwiXX19LHNreTpjbGFzcyBleHRlbmRzIElve2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQsU2QpLHRoaXMuX3VwZGF0ZUNvbG9yUmFtcCgpO31faGFuZGxlU3BlY2lhbFBhaW50UHJvcGVydHlVcGRhdGUodCl7XCJza3ktZ3JhZGllbnRcIj09PXQ/dGhpcy5fdXBkYXRlQ29sb3JSYW1wKCk6XCJza3ktYXRtb3NwaGVyZS1zdW5cIiE9PXQmJlwic2t5LWF0bW9zcGhlcmUtaGFsby1jb2xvclwiIT09dCYmXCJza3ktYXRtb3NwaGVyZS1jb2xvclwiIT09dCYmXCJza3ktYXRtb3NwaGVyZS1zdW4taW50ZW5zaXR5XCIhPT10fHwodGhpcy5fc2t5Ym94SW52YWxpZGF0ZWQ9ITApO31fdXBkYXRlQ29sb3JSYW1wKCl7dGhpcy5jb2xvclJhbXA9a3Uoe2V4cHJlc3Npb246dGhpcy5fdHJhbnNpdGlvbmFibGVQYWludC5fdmFsdWVzW1wic2t5LWdyYWRpZW50XCJdLnZhbHVlLmV4cHJlc3Npb24sZXZhbHVhdGlvbktleTpcInNreVJhZGlhbFByb2dyZXNzXCJ9KSx0aGlzLmNvbG9yUmFtcFRleHR1cmUmJih0aGlzLmNvbG9yUmFtcFRleHR1cmUuZGVzdHJveSgpLHRoaXMuY29sb3JSYW1wVGV4dHVyZT1udWxsKTt9bmVlZHNTa3lib3hDYXB0dXJlKHQpe2lmKHRoaXMuX3NreWJveEludmFsaWRhdGVkfHwhdGhpcy5za3lib3hUZXh0dXJlfHwhdGhpcy5za3lib3hHZW9tZXRyeSlyZXR1cm4gITA7aWYoIXRoaXMucGFpbnQuZ2V0KFwic2t5LWF0bW9zcGhlcmUtc3VuXCIpKXtjb25zdCBlPXQuc3R5bGUubGlnaHQucHJvcGVydGllcy5nZXQoXCJwb3NpdGlvblwiKTtyZXR1cm4gdGhpcy5fbGlnaHRQb3NpdGlvbi5hemltdXRoYWwhPT1lLmF6aW11dGhhbHx8dGhpcy5fbGlnaHRQb3NpdGlvbi5wb2xhciE9PWUucG9sYXJ9cmV0dXJuICExfWdldENlbnRlcih0LGUpe2lmKFwiYXRtb3NwaGVyZVwiPT09dGhpcy5wYWludC5nZXQoXCJza3ktdHlwZVwiKSl7Y29uc3Qgcj10aGlzLnBhaW50LmdldChcInNreS1hdG1vc3BoZXJlLXN1blwiKSxuPSFyLGk9dC5zdHlsZS5saWdodCxzPWkucHJvcGVydGllcy5nZXQoXCJwb3NpdGlvblwiKTtyZXR1cm4gbiYmXCJ2aWV3cG9ydFwiPT09aS5wcm9wZXJ0aWVzLmdldChcImFuY2hvclwiKSYmJChcIlRoZSBzdW4gZGlyZWN0aW9uIGlzIGF0dGFjaGVkIHRvIGEgbGlnaHQgd2l0aCB2aWV3cG9ydCBhbmNob3IsIGxpZ2h0aW5nIG1heSBiZWhhdmUgdW5leHBlY3RlZGx5LlwiKSxuP2tkKHMuYXppbXV0aGFsLDkwLXMucG9sYXIsZSk6a2QoclswXSw5MC1yWzFdLGUpfWNvbnN0IHI9dGhpcy5wYWludC5nZXQoXCJza3ktZ3JhZGllbnQtY2VudGVyXCIpO3JldHVybiBrZChyWzBdLDkwLXJbMV0sZSl9aXMzRCgpe3JldHVybiAhMX1pc1NreSgpe3JldHVybiAhMH1tYXJrU2t5Ym94VmFsaWQodCl7dGhpcy5fc2t5Ym94SW52YWxpZGF0ZWQ9ITEsdGhpcy5fbGlnaHRQb3NpdGlvbj10LnN0eWxlLmxpZ2h0LnByb3BlcnRpZXMuZ2V0KFwicG9zaXRpb25cIik7fWhhc09mZnNjcmVlblBhc3MoKXtyZXR1cm4gITB9Z2V0UHJvZ3JhbUlkcygpe2NvbnN0IHQ9dGhpcy5wYWludC5nZXQoXCJza3ktdHlwZVwiKTtyZXR1cm4gXCJhdG1vc3BoZXJlXCI9PT10P1tcInNreWJveENhcHR1cmVcIixcInNreWJveFwiXTpcImdyYWRpZW50XCI9PT10P1tcInNreWJveEdyYWRpZW50XCJdOm51bGx9fX07Y2xhc3MgTWR7Y29uc3RydWN0b3IodCxlLHIsbil7dGhpcy5jb250ZXh0PXQsdGhpcy5mb3JtYXQ9cix0aGlzLnRleHR1cmU9dC5nbC5jcmVhdGVUZXh0dXJlKCksdGhpcy51cGRhdGUoZSxuKTt9dXBkYXRlKHQscixuKXtjb25zdHt3aWR0aDppLGhlaWdodDpzfT10LHtjb250ZXh0OmF9PXRoaXMse2dsOm99PWEse0hUTUxJbWFnZUVsZW1lbnQ6bCxIVE1MQ2FudmFzRWxlbWVudDp1LEhUTUxWaWRlb0VsZW1lbnQ6YyxJbWFnZURhdGE6aCxJbWFnZUJpdG1hcDpwfT1lO2lmKG8uYmluZFRleHR1cmUoby5URVhUVVJFXzJELHRoaXMudGV4dHVyZSksYS5waXhlbFN0b3JlVW5wYWNrRmxpcFkuc2V0KCExKSxhLnBpeGVsU3RvcmVVbnBhY2suc2V0KDEpLGEucGl4ZWxTdG9yZVVucGFja1ByZW11bHRpcGx5QWxwaGEuc2V0KHRoaXMuZm9ybWF0PT09by5SR0JBJiYoIXJ8fCExIT09ci5wcmVtdWx0aXBseSkpLG58fHRoaXMuc2l6ZSYmdGhpcy5zaXplWzBdPT09aSYmdGhpcy5zaXplWzFdPT09cyl7Y29uc3R7eDplLHk6cn09bnx8e3g6MCx5OjB9O3QgaW5zdGFuY2VvZiBsfHx0IGluc3RhbmNlb2YgdXx8dCBpbnN0YW5jZW9mIGN8fHQgaW5zdGFuY2VvZiBofHxwJiZ0IGluc3RhbmNlb2YgcD9vLnRleFN1YkltYWdlMkQoby5URVhUVVJFXzJELDAsZSxyLG8uUkdCQSxvLlVOU0lHTkVEX0JZVEUsdCk6by50ZXhTdWJJbWFnZTJEKG8uVEVYVFVSRV8yRCwwLGUscixpLHMsby5SR0JBLG8uVU5TSUdORURfQllURSx0LmRhdGEpO31lbHNlIHRoaXMuc2l6ZT1baSxzXSx0IGluc3RhbmNlb2YgbHx8dCBpbnN0YW5jZW9mIHV8fHQgaW5zdGFuY2VvZiBjfHx0IGluc3RhbmNlb2YgaHx8cCYmdCBpbnN0YW5jZW9mIHA/by50ZXhJbWFnZTJEKG8uVEVYVFVSRV8yRCwwLHRoaXMuZm9ybWF0LHRoaXMuZm9ybWF0LG8uVU5TSUdORURfQllURSx0KTpvLnRleEltYWdlMkQoby5URVhUVVJFXzJELDAsdGhpcy5mb3JtYXQsaSxzLDAsdGhpcy5mb3JtYXQsby5VTlNJR05FRF9CWVRFLHQuZGF0YSk7dGhpcy51c2VNaXBtYXA9Qm9vbGVhbihyJiZyLnVzZU1pcG1hcCYmdGhpcy5pc1NpemVQb3dlck9mVHdvKCkpLHRoaXMudXNlTWlwbWFwJiZvLmdlbmVyYXRlTWlwbWFwKG8uVEVYVFVSRV8yRCk7fWJpbmQodCxlKXtjb25zdHtjb250ZXh0OnJ9PXRoaXMse2dsOm59PXI7bi5iaW5kVGV4dHVyZShuLlRFWFRVUkVfMkQsdGhpcy50ZXh0dXJlKSx0IT09dGhpcy5maWx0ZXImJihuLnRleFBhcmFtZXRlcmkobi5URVhUVVJFXzJELG4uVEVYVFVSRV9NQUdfRklMVEVSLHQpLG4udGV4UGFyYW1ldGVyaShuLlRFWFRVUkVfMkQsbi5URVhUVVJFX01JTl9GSUxURVIsdGhpcy51c2VNaXBtYXA/dD09PW4uTkVBUkVTVD9uLk5FQVJFU1RfTUlQTUFQX05FQVJFU1Q6bi5MSU5FQVJfTUlQTUFQX05FQVJFU1Q6dCksdGhpcy5maWx0ZXI9dCksZSE9PXRoaXMud3JhcCYmKG4udGV4UGFyYW1ldGVyaShuLlRFWFRVUkVfMkQsbi5URVhUVVJFX1dSQVBfUyxlKSxuLnRleFBhcmFtZXRlcmkobi5URVhUVVJFXzJELG4uVEVYVFVSRV9XUkFQX1QsZSksdGhpcy53cmFwPWUpO31pc1NpemVQb3dlck9mVHdvKCl7cmV0dXJuIHRoaXMuc2l6ZVswXT09PXRoaXMuc2l6ZVsxXSYmTWF0aC5sb2codGhpcy5zaXplWzBdKS9NYXRoLkxOMiUxPT0wfWRlc3Ryb3koKXtjb25zdHtnbDp0fT10aGlzLmNvbnRleHQ7dC5kZWxldGVUZXh0dXJlKHRoaXMudGV4dHVyZSksdGhpcy50ZXh0dXJlPW51bGw7fX1jbGFzcyB6ZHtjb25zdHJ1Y3Rvcih0KXt0aGlzLl9jYWxsYmFjaz10LHRoaXMuX3RyaWdnZXJlZD0hMSxcInVuZGVmaW5lZFwiIT10eXBlb2YgTWVzc2FnZUNoYW5uZWwmJih0aGlzLl9jaGFubmVsPW5ldyBNZXNzYWdlQ2hhbm5lbCx0aGlzLl9jaGFubmVsLnBvcnQyLm9ubWVzc2FnZT0oKT0+e3RoaXMuX3RyaWdnZXJlZD0hMSx0aGlzLl9jYWxsYmFjaygpO30pO310cmlnZ2VyKCl7dGhpcy5fdHJpZ2dlcmVkfHwodGhpcy5fdHJpZ2dlcmVkPSEwLHRoaXMuX2NoYW5uZWw/dGhpcy5fY2hhbm5lbC5wb3J0MS5wb3N0TWVzc2FnZSghMCk6c2V0VGltZW91dCgoKCk9Pnt0aGlzLl90cmlnZ2VyZWQ9ITEsdGhpcy5fY2FsbGJhY2soKTt9KSwwKSk7fXJlbW92ZSgpe3RoaXMuX2NoYW5uZWw9dm9pZCAwLHRoaXMuX2NhbGxiYWNrPSgpPT57fTt9fWNsYXNzIFRke2NvbnN0cnVjdG9yKCl7dGhpcy50YXNrcz17fSx0aGlzLnRhc2tRdWV1ZT1bXSxWKFtcInByb2Nlc3NcIl0sdGhpcyksdGhpcy5pbnZva2VyPW5ldyB6ZCh0aGlzLnByb2Nlc3MpLHRoaXMubmV4dElkPTA7fWFkZCh0LGUpe2NvbnN0IHI9dGhpcy5uZXh0SWQrKyxuPWZ1bmN0aW9uKHt0eXBlOnQsaXNTeW1ib2xUaWxlOmUsem9vbTpyfSl7cmV0dXJuIHI9cnx8MCxcIm1lc3NhZ2VcIj09PXQ/MDpcIm1heWJlUHJlcGFyZVwiIT09dHx8ZT9cInBhcnNlVGlsZVwiIT09dHx8ZT9cInBhcnNlVGlsZVwiPT09dCYmZT8zMDAtcjpcIm1heWJlUHJlcGFyZVwiPT09dCYmZT80MDAtcjo1MDA6MjAwLXI6MTAwLXJ9KGUpO2lmKDA9PT1uKXtOKCk7dHJ5e3QoKTt9ZmluYWxseXt9cmV0dXJuIHtjYW5jZWw6KCk9Pnt9fX1yZXR1cm4gdGhpcy50YXNrc1tyXT17Zm46dCxtZXRhZGF0YTplLHByaW9yaXR5Om4saWQ6cn0sdGhpcy50YXNrUXVldWUucHVzaChyKSx0aGlzLmludm9rZXIudHJpZ2dlcigpLHtjYW5jZWw6KCk9PntkZWxldGUgdGhpcy50YXNrc1tyXTt9fX1wcm9jZXNzKCl7TigpO3RyeXtpZih0aGlzLnRhc2tRdWV1ZT10aGlzLnRhc2tRdWV1ZS5maWx0ZXIoKHQ9PiEhdGhpcy50YXNrc1t0XSkpLCF0aGlzLnRhc2tRdWV1ZS5sZW5ndGgpcmV0dXJuO2NvbnN0IHQ9dGhpcy5waWNrKCk7aWYobnVsbD09PXQpcmV0dXJuO2NvbnN0IGU9dGhpcy50YXNrc1t0XTtpZihkZWxldGUgdGhpcy50YXNrc1t0XSx0aGlzLnRhc2tRdWV1ZS5sZW5ndGgmJnRoaXMuaW52b2tlci50cmlnZ2VyKCksIWUpcmV0dXJuO2UuZm4oKTt9ZmluYWxseXt9fXBpY2soKXtsZXQgdD1udWxsLGU9MS8wO2ZvcihsZXQgcj0wO3I8dGhpcy50YXNrUXVldWUubGVuZ3RoO3IrKyl7Y29uc3Qgbj10aGlzLnRhc2tzW3RoaXMudGFza1F1ZXVlW3JdXTtuLnByaW9yaXR5PGUmJihlPW4ucHJpb3JpdHksdD1yKTt9aWYobnVsbD09PXQpcmV0dXJuIG51bGw7Y29uc3Qgcj10aGlzLnRhc2tRdWV1ZVt0XTtyZXR1cm4gdGhpcy50YXNrUXVldWUuc3BsaWNlKHQsMSkscn1yZW1vdmUoKXt0aGlzLmludm9rZXIucmVtb3ZlKCk7fX1jbGFzcyBCZHtjb25zdHJ1Y3Rvcih0KXt0aGlzLl9zdHJpbmdUb051bWJlcj17fSx0aGlzLl9udW1iZXJUb1N0cmluZz1bXTtmb3IobGV0IGU9MDtlPHQubGVuZ3RoO2UrKyl7Y29uc3Qgcj10W2VdO3RoaXMuX3N0cmluZ1RvTnVtYmVyW3JdPWUsdGhpcy5fbnVtYmVyVG9TdHJpbmdbZV09cjt9fWVuY29kZSh0KXtyZXR1cm4gdGhpcy5fc3RyaW5nVG9OdW1iZXJbdF19ZGVjb2RlKHQpe3JldHVybiB0aGlzLl9udW1iZXJUb1N0cmluZ1t0XX19Y29uc3QgRWQ9W1widGlsZVwiLFwibGF5ZXJcIixcInNvdXJjZVwiLFwic291cmNlTGF5ZXJcIixcInN0YXRlXCJdO2NsYXNzIFBke2NvbnN0cnVjdG9yKHQsZSxyLG4saSl7dGhpcy50eXBlPVwiRmVhdHVyZVwiLHRoaXMuX3ZlY3RvclRpbGVGZWF0dXJlPXQsdGhpcy5fej1lLHRoaXMuX3g9cix0aGlzLl95PW4sdGhpcy5wcm9wZXJ0aWVzPXQucHJvcGVydGllcyx0aGlzLmlkPWk7fWdldCBnZW9tZXRyeSgpe3JldHVybiB2b2lkIDA9PT10aGlzLl9nZW9tZXRyeSYmKHRoaXMuX2dlb21ldHJ5PXRoaXMuX3ZlY3RvclRpbGVGZWF0dXJlLnRvR2VvSlNPTih0aGlzLl94LHRoaXMuX3ksdGhpcy5feikuZ2VvbWV0cnkpLHRoaXMuX2dlb21ldHJ5fXNldCBnZW9tZXRyeSh0KXt0aGlzLl9nZW9tZXRyeT10O310b0pTT04oKXtjb25zdCB0PXt0eXBlOlwiRmVhdHVyZVwiLGdlb21ldHJ5OnRoaXMuZ2VvbWV0cnkscHJvcGVydGllczp0aGlzLnByb3BlcnRpZXN9O3ZvaWQgMCE9PXRoaXMuaWQmJih0LmlkPXRoaXMuaWQpO2Zvcihjb25zdCBlIG9mIEVkKXZvaWQgMCE9PXRoaXNbZV0mJih0W2VdPXRoaXNbZV0pO3JldHVybiB0fX1jb25zdCBDZD0zMixEZD0zMyxWZD1uZXcgVWludDE2QXJyYXkoODE4NCk7Zm9yKGxldCB0PTA7dDwyMDQ2O3QrKyl7bGV0IGU9dCsyLHI9MCxuPTAsaT0wLHM9MCxhPTAsbz0wO2ZvcigxJmU/aT1zPWE9Q2Q6cj1uPW89Q2Q7KGU+Pj0xKT4xOyl7Y29uc3QgdD1yK2k+PjEsbD1uK3M+PjE7MSZlPyhpPXIscz1uLHI9YSxuPW8pOihyPWksbj1zLGk9YSxzPW8pLGE9dCxvPWw7fWNvbnN0IGw9NCp0O1ZkW2wrMF09cixWZFtsKzFdPW4sVmRbbCsyXT1pLFZkW2wrM109czt9Y29uc3QgRmQ9bmV3IFVpbnQxNkFycmF5KDIxNzgpLExkPW5ldyBVaW50OEFycmF5KDEwODkpLFJkPW5ldyBVaW50MTZBcnJheSgxMDg5KTtmdW5jdGlvbiBVZCh0KXtyZXR1cm4gMD09PXQ/LS4wMzEyNTozMj09PXQ/LjAzMTI1OjB9dmFyIGpkPWlhKFt7bmFtZTpcImFfcG9zXCIsdHlwZTpcIkludDE2XCIsY29tcG9uZW50czoyfSx7bmFtZTpcImFfdGV4dHVyZV9wb3NcIix0eXBlOlwiSW50MTZcIixjb21wb25lbnRzOjJ9XSk7Y29uc3QgJGQ9e3R5cGU6MixleHRlbnQ6Qm8sbG9hZEdlb21ldHJ5OigpPT5bW25ldyBkKDAsMCksbmV3IGQoODE5MywwKSxuZXcgZCg4MTkzLDgxOTMpLG5ldyBkKDAsODE5MyksbmV3IGQoMCwwKV1dfTtjbGFzcyBPZHtjb25zdHJ1Y3Rvcih0LGUscixuLGkpe3RoaXMudGlsZUlEPXQsdGhpcy51aWQ9RSgpLHRoaXMudXNlcz0wLHRoaXMudGlsZVNpemU9ZSx0aGlzLnRpbGVab29tPXIsdGhpcy5idWNrZXRzPXt9LHRoaXMuZXhwaXJhdGlvblRpbWU9bnVsbCx0aGlzLnF1ZXJ5UGFkZGluZz0wLHRoaXMuaGFzU3ltYm9sQnVja2V0cz0hMSx0aGlzLmhhc1JUTFRleHQ9ITEsdGhpcy5kZXBlbmRlbmNpZXM9e30sdGhpcy5pc1Jhc3Rlcj1pLHRoaXMuZXhwaXJlZFJlcXVlc3RDb3VudD0wLHRoaXMuc3RhdGU9XCJsb2FkaW5nXCIsbiYmbi50cmFuc2Zvcm0mJih0aGlzLnByb2plY3Rpb249bi50cmFuc2Zvcm0ucHJvamVjdGlvbik7fXJlZ2lzdGVyRmFkZUR1cmF0aW9uKHQpe2NvbnN0IGU9dCt0aGlzLnRpbWVBZGRlZDtlPHF0Lm5vdygpfHx0aGlzLmZhZGVFbmRUaW1lJiZlPHRoaXMuZmFkZUVuZFRpbWV8fCh0aGlzLmZhZGVFbmRUaW1lPWUpO313YXNSZXF1ZXN0ZWQoKXtyZXR1cm4gXCJlcnJvcmVkXCI9PT10aGlzLnN0YXRlfHxcImxvYWRlZFwiPT09dGhpcy5zdGF0ZXx8XCJyZWxvYWRpbmdcIj09PXRoaXMuc3RhdGV9Z2V0IHRpbGVUcmFuc2Zvcm0oKXtyZXR1cm4gdGhpcy5fdGlsZVRyYW5zZm9ybXx8KHRoaXMuX3RpbGVUcmFuc2Zvcm09amYodGhpcy50aWxlSUQuY2Fub25pY2FsLHRoaXMucHJvamVjdGlvbikpLHRoaXMuX3RpbGVUcmFuc2Zvcm19bG9hZFZlY3RvckRhdGEodCxlLHIpe2lmKHRoaXMudW5sb2FkVmVjdG9yRGF0YSgpLHRoaXMuc3RhdGU9XCJsb2FkZWRcIix0KXt0LmZlYXR1cmVJbmRleCYmKHRoaXMubGF0ZXN0RmVhdHVyZUluZGV4PXQuZmVhdHVyZUluZGV4LHQucmF3VGlsZURhdGE/KHRoaXMubGF0ZXN0UmF3VGlsZURhdGE9dC5yYXdUaWxlRGF0YSx0aGlzLmxhdGVzdEZlYXR1cmVJbmRleC5yYXdUaWxlRGF0YT10LnJhd1RpbGVEYXRhKTp0aGlzLmxhdGVzdFJhd1RpbGVEYXRhJiYodGhpcy5sYXRlc3RGZWF0dXJlSW5kZXgucmF3VGlsZURhdGE9dGhpcy5sYXRlc3RSYXdUaWxlRGF0YSkpLHRoaXMuY29sbGlzaW9uQm94QXJyYXk9dC5jb2xsaXNpb25Cb3hBcnJheSx0aGlzLmJ1Y2tldHM9ZnVuY3Rpb24odCxlKXtjb25zdCByPXt9O2lmKCFlKXJldHVybiByO2Zvcihjb25zdCBuIG9mIHQpe2NvbnN0IHQ9bi5sYXllcklkcy5tYXAoKHQ9PmUuZ2V0TGF5ZXIodCkpKS5maWx0ZXIoQm9vbGVhbik7aWYoMCE9PXQubGVuZ3RoKXtuLmxheWVycz10LG4uc3RhdGVEZXBlbmRlbnRMYXllcklkcyYmKG4uc3RhdGVEZXBlbmRlbnRMYXllcnM9bi5zdGF0ZURlcGVuZGVudExheWVySWRzLm1hcCgoZT0+dC5maWx0ZXIoKHQ9PnQuaWQ9PT1lKSlbMF0pKSk7Zm9yKGNvbnN0IGUgb2YgdClyW2UuaWRdPW47fX1yZXR1cm4gcn0odC5idWNrZXRzLGUuc3R5bGUpLHRoaXMuaGFzU3ltYm9sQnVja2V0cz0hMTtmb3IoY29uc3QgdCBpbiB0aGlzLmJ1Y2tldHMpe2NvbnN0IGU9dGhpcy5idWNrZXRzW3RdO2lmKGUgaW5zdGFuY2VvZiBtZCl7aWYodGhpcy5oYXNTeW1ib2xCdWNrZXRzPSEwLCFyKWJyZWFrO2UuanVzdFJlbG9hZGVkPSEwO319aWYodGhpcy5oYXNSVExUZXh0PSExLHRoaXMuaGFzU3ltYm9sQnVja2V0cylmb3IoY29uc3QgdCBpbiB0aGlzLmJ1Y2tldHMpe2NvbnN0IGU9dGhpcy5idWNrZXRzW3RdO2lmKGUgaW5zdGFuY2VvZiBtZCYmZS5oYXNSVExUZXh0KXt0aGlzLmhhc1JUTFRleHQ9ITAsUnMuaXNMb2FkaW5nKCl8fFJzLmlzTG9hZGVkKCl8fFwiZGVmZXJyZWRcIiE9PUZzKCl8fExzKCk7YnJlYWt9fXRoaXMucXVlcnlQYWRkaW5nPTA7Zm9yKGNvbnN0IHQgaW4gdGhpcy5idWNrZXRzKXtjb25zdCByPXRoaXMuYnVja2V0c1t0XTt0aGlzLnF1ZXJ5UGFkZGluZz1NYXRoLm1heCh0aGlzLnF1ZXJ5UGFkZGluZyxlLnN0eWxlLmdldExheWVyKHQpLnF1ZXJ5UmFkaXVzKHIpKTt9dC5pbWFnZUF0bGFzJiYodGhpcy5pbWFnZUF0bGFzPXQuaW1hZ2VBdGxhcyksdC5nbHlwaEF0bGFzSW1hZ2UmJih0aGlzLmdseXBoQXRsYXNJbWFnZT10LmdseXBoQXRsYXNJbWFnZSksdC5saW5lQXRsYXMmJih0aGlzLmxpbmVBdGxhcz10LmxpbmVBdGxhcyk7fWVsc2UgdGhpcy5jb2xsaXNpb25Cb3hBcnJheT1uZXcgRGE7fXVubG9hZFZlY3RvckRhdGEoKXtpZih0aGlzLmhhc0RhdGEoKSl7Zm9yKGNvbnN0IHQgaW4gdGhpcy5idWNrZXRzKXRoaXMuYnVja2V0c1t0XS5kZXN0cm95KCk7dGhpcy5idWNrZXRzPXt9LHRoaXMuaW1hZ2VBdGxhcyYmKHRoaXMuaW1hZ2VBdGxhcz1udWxsKSx0aGlzLmxpbmVBdGxhcyYmKHRoaXMubGluZUF0bGFzPW51bGwpLHRoaXMuaW1hZ2VBdGxhc1RleHR1cmUmJnRoaXMuaW1hZ2VBdGxhc1RleHR1cmUuZGVzdHJveSgpLHRoaXMuZ2x5cGhBdGxhc1RleHR1cmUmJnRoaXMuZ2x5cGhBdGxhc1RleHR1cmUuZGVzdHJveSgpLHRoaXMubGluZUF0bGFzVGV4dHVyZSYmdGhpcy5saW5lQXRsYXNUZXh0dXJlLmRlc3Ryb3koKSx0aGlzLl90aWxlQm91bmRzQnVmZmVyJiYodGhpcy5fdGlsZUJvdW5kc0J1ZmZlci5kZXN0cm95KCksdGhpcy5fdGlsZUJvdW5kc0luZGV4QnVmZmVyLmRlc3Ryb3koKSx0aGlzLl90aWxlQm91bmRzU2VnbWVudHMuZGVzdHJveSgpLHRoaXMuX3RpbGVCb3VuZHNCdWZmZXI9bnVsbCksdGhpcy5fdGlsZURlYnVnQnVmZmVyJiYodGhpcy5fdGlsZURlYnVnQnVmZmVyLmRlc3Ryb3koKSx0aGlzLl90aWxlRGVidWdTZWdtZW50cy5kZXN0cm95KCksdGhpcy5fdGlsZURlYnVnQnVmZmVyPW51bGwpLHRoaXMuX3RpbGVEZWJ1Z0luZGV4QnVmZmVyJiYodGhpcy5fdGlsZURlYnVnSW5kZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMuX3RpbGVEZWJ1Z0luZGV4QnVmZmVyPW51bGwpLHRoaXMuX2dsb2JlVGlsZURlYnVnQm9yZGVyQnVmZmVyJiYodGhpcy5fZ2xvYmVUaWxlRGVidWdCb3JkZXJCdWZmZXIuZGVzdHJveSgpLHRoaXMuX2dsb2JlVGlsZURlYnVnQm9yZGVyQnVmZmVyPW51bGwpLHRoaXMuX3RpbGVEZWJ1Z1RleHRCdWZmZXImJih0aGlzLl90aWxlRGVidWdUZXh0QnVmZmVyLmRlc3Ryb3koKSx0aGlzLl90aWxlRGVidWdUZXh0U2VnbWVudHMuZGVzdHJveSgpLHRoaXMuX3RpbGVEZWJ1Z1RleHRJbmRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5fdGlsZURlYnVnVGV4dEJ1ZmZlcj1udWxsKSx0aGlzLl9nbG9iZVRpbGVEZWJ1Z1RleHRCdWZmZXImJih0aGlzLl9nbG9iZVRpbGVEZWJ1Z1RleHRCdWZmZXIuZGVzdHJveSgpLHRoaXMuX2dsb2JlVGlsZURlYnVnVGV4dEJ1ZmZlcj1udWxsKSx0aGlzLmxhdGVzdEZlYXR1cmVJbmRleD1udWxsLHRoaXMuc3RhdGU9XCJ1bmxvYWRlZFwiO319Z2V0QnVja2V0KHQpe3JldHVybiB0aGlzLmJ1Y2tldHNbdC5pZF19dXBsb2FkKHQpe2Zvcihjb25zdCBlIGluIHRoaXMuYnVja2V0cyl7Y29uc3Qgcj10aGlzLmJ1Y2tldHNbZV07ci51cGxvYWRQZW5kaW5nKCkmJnIudXBsb2FkKHQpO31jb25zdCBlPXQuZ2w7dGhpcy5pbWFnZUF0bGFzJiYhdGhpcy5pbWFnZUF0bGFzLnVwbG9hZGVkJiYodGhpcy5pbWFnZUF0bGFzVGV4dHVyZT1uZXcgTWQodCx0aGlzLmltYWdlQXRsYXMuaW1hZ2UsZS5SR0JBKSx0aGlzLmltYWdlQXRsYXMudXBsb2FkZWQ9ITApLHRoaXMuZ2x5cGhBdGxhc0ltYWdlJiYodGhpcy5nbHlwaEF0bGFzVGV4dHVyZT1uZXcgTWQodCx0aGlzLmdseXBoQXRsYXNJbWFnZSxlLkFMUEhBKSx0aGlzLmdseXBoQXRsYXNJbWFnZT1udWxsKSx0aGlzLmxpbmVBdGxhcyYmIXRoaXMubGluZUF0bGFzLnVwbG9hZGVkJiYodGhpcy5saW5lQXRsYXNUZXh0dXJlPW5ldyBNZCh0LHRoaXMubGluZUF0bGFzLmltYWdlLGUuQUxQSEEpLHRoaXMubGluZUF0bGFzLnVwbG9hZGVkPSEwKTt9cHJlcGFyZSh0KXt0aGlzLmltYWdlQXRsYXMmJnRoaXMuaW1hZ2VBdGxhcy5wYXRjaFVwZGF0ZWRJbWFnZXModCx0aGlzLmltYWdlQXRsYXNUZXh0dXJlKTt9cXVlcnlSZW5kZXJlZEZlYXR1cmVzKHQsZSxyLG4saSxzLGEsbyl7cmV0dXJuIHRoaXMubGF0ZXN0RmVhdHVyZUluZGV4JiZ0aGlzLmxhdGVzdEZlYXR1cmVJbmRleC5yYXdUaWxlRGF0YT90aGlzLmxhdGVzdEZlYXR1cmVJbmRleC5xdWVyeSh7dGlsZVJlc3VsdDpuLHBpeGVsUG9zTWF0cml4OmEsdHJhbnNmb3JtOnMscGFyYW1zOmksdGlsZVRyYW5zZm9ybTp0aGlzLnRpbGVUcmFuc2Zvcm19LHQsZSxyKTp7fX1xdWVyeVNvdXJjZUZlYXR1cmVzKHQsZSl7Y29uc3Qgcj10aGlzLmxhdGVzdEZlYXR1cmVJbmRleDtpZighcnx8IXIucmF3VGlsZURhdGEpcmV0dXJuO2NvbnN0IG49ci5sb2FkVlRMYXllcnMoKSxpPWU/ZS5zb3VyY2VMYXllcjpcIlwiLHM9bi5fZ2VvanNvblRpbGVMYXllcnx8bltpXTtpZighcylyZXR1cm47Y29uc3QgYT1zaShlJiZlLmZpbHRlcikse3o6byx4OmwseTp1fT10aGlzLnRpbGVJRC5jYW5vbmljYWwsYz17ejpvLHg6bCx5OnV9O2ZvcihsZXQgZT0wO2U8cy5sZW5ndGg7ZSsrKXtjb25zdCBuPXMuZmVhdHVyZShlKTtpZihhLm5lZWRHZW9tZXRyeSl7Y29uc3QgdD1RbyhuLCEwKTtpZighYS5maWx0ZXIobmV3IFVzKHRoaXMudGlsZUlELm92ZXJzY2FsZWRaKSx0LHRoaXMudGlsZUlELmNhbm9uaWNhbCkpY29udGludWV9ZWxzZSBpZighYS5maWx0ZXIobmV3IFVzKHRoaXMudGlsZUlELm92ZXJzY2FsZWRaKSxuKSljb250aW51ZTtjb25zdCBoPXIuZ2V0SWQobixpKSxwPW5ldyBQZChuLG8sbCx1LGgpO3AudGlsZT1jLHQucHVzaChwKTt9fWhhc0RhdGEoKXtyZXR1cm4gXCJsb2FkZWRcIj09PXRoaXMuc3RhdGV8fFwicmVsb2FkaW5nXCI9PT10aGlzLnN0YXRlfHxcImV4cGlyZWRcIj09PXRoaXMuc3RhdGV9cGF0dGVybnNMb2FkZWQoKXtyZXR1cm4gISF0aGlzLmltYWdlQXRsYXMmJiEhT2JqZWN0LmtleXModGhpcy5pbWFnZUF0bGFzLnBhdHRlcm5Qb3NpdGlvbnMpLmxlbmd0aH1zZXRFeHBpcnlEYXRhKHQpe2NvbnN0IGU9dGhpcy5leHBpcmF0aW9uVGltZTtpZih0LmNhY2hlQ29udHJvbCl7Y29uc3QgZT1HKHQuY2FjaGVDb250cm9sKTtlW1wibWF4LWFnZVwiXSYmKHRoaXMuZXhwaXJhdGlvblRpbWU9RGF0ZS5ub3coKSsxZTMqZVtcIm1heC1hZ2VcIl0pO31lbHNlIHQuZXhwaXJlcyYmKHRoaXMuZXhwaXJhdGlvblRpbWU9bmV3IERhdGUodC5leHBpcmVzKS5nZXRUaW1lKCkpO2lmKHRoaXMuZXhwaXJhdGlvblRpbWUpe2NvbnN0IHQ9RGF0ZS5ub3coKTtsZXQgcj0hMTtpZih0aGlzLmV4cGlyYXRpb25UaW1lPnQpcj0hMTtlbHNlIGlmKGUpaWYodGhpcy5leHBpcmF0aW9uVGltZTxlKXI9ITA7ZWxzZSB7Y29uc3Qgbj10aGlzLmV4cGlyYXRpb25UaW1lLWU7bj90aGlzLmV4cGlyYXRpb25UaW1lPXQrTWF0aC5tYXgobiwzZTQpOnI9ITA7fWVsc2Ugcj0hMDtyPyh0aGlzLmV4cGlyZWRSZXF1ZXN0Q291bnQrKyx0aGlzLnN0YXRlPVwiZXhwaXJlZFwiKTp0aGlzLmV4cGlyZWRSZXF1ZXN0Q291bnQ9MDt9fWdldEV4cGlyeVRpbWVvdXQoKXtpZih0aGlzLmV4cGlyYXRpb25UaW1lKXJldHVybiB0aGlzLmV4cGlyZWRSZXF1ZXN0Q291bnQ/MWUzKigxPDxNYXRoLm1pbih0aGlzLmV4cGlyZWRSZXF1ZXN0Q291bnQtMSwzMSkpOk1hdGgubWluKHRoaXMuZXhwaXJhdGlvblRpbWUtKG5ldyBEYXRlKS5nZXRUaW1lKCksTWF0aC5wb3coMiwzMSktMSl9c2V0RmVhdHVyZVN0YXRlKHQsZSl7aWYoIXRoaXMubGF0ZXN0RmVhdHVyZUluZGV4fHwhdGhpcy5sYXRlc3RGZWF0dXJlSW5kZXgucmF3VGlsZURhdGF8fDA9PT1PYmplY3Qua2V5cyh0KS5sZW5ndGh8fCFlKXJldHVybjtjb25zdCByPXRoaXMubGF0ZXN0RmVhdHVyZUluZGV4LmxvYWRWVExheWVycygpLG49ZS5zdHlsZS5saXN0SW1hZ2VzKCk7Zm9yKGNvbnN0IGkgaW4gdGhpcy5idWNrZXRzKXtpZighZS5zdHlsZS5oYXNMYXllcihpKSljb250aW51ZTtjb25zdCBzPXRoaXMuYnVja2V0c1tpXSxhPXMubGF5ZXJzWzBdLnNvdXJjZUxheWVyfHxcIl9nZW9qc29uVGlsZUxheWVyXCIsbz1yW2FdLGw9dFthXTtpZighb3x8IWx8fDA9PT1PYmplY3Qua2V5cyhsKS5sZW5ndGgpY29udGludWU7aWYocy51cGRhdGUobCxvLG4sdGhpcy5pbWFnZUF0bGFzJiZ0aGlzLmltYWdlQXRsYXMucGF0dGVyblBvc2l0aW9uc3x8e30pLHMgaW5zdGFuY2VvZiB1aHx8cyBpbnN0YW5jZW9mIGNjKXtjb25zdCB0PWUuc3R5bGUuX2dldFNvdXJjZUNhY2hlKHMubGF5ZXJzWzBdLnNvdXJjZSk7ZS5fdGVycmFpbiYmZS5fdGVycmFpbi5lbmFibGVkJiZ0JiZzLnByb2dyYW1Db25maWd1cmF0aW9ucy5uZWVkc1VwbG9hZCYmZS5fdGVycmFpbi5fY2xlYXJSZW5kZXJDYWNoZUZvclRpbGUodC5pZCx0aGlzLnRpbGVJRCk7fWNvbnN0IHU9ZSYmZS5zdHlsZSYmZS5zdHlsZS5nZXRMYXllcihpKTt1JiYodGhpcy5xdWVyeVBhZGRpbmc9TWF0aC5tYXgodGhpcy5xdWVyeVBhZGRpbmcsdS5xdWVyeVJhZGl1cyhzKSkpO319aG9sZGluZ0ZvckZhZGUoKXtyZXR1cm4gdm9pZCAwIT09dGhpcy5zeW1ib2xGYWRlSG9sZFVudGlsfXN5bWJvbEZhZGVGaW5pc2hlZCgpe3JldHVybiAhdGhpcy5zeW1ib2xGYWRlSG9sZFVudGlsfHx0aGlzLnN5bWJvbEZhZGVIb2xkVW50aWw8cXQubm93KCl9Y2xlYXJGYWRlSG9sZCgpe3RoaXMuc3ltYm9sRmFkZUhvbGRVbnRpbD12b2lkIDA7fXNldEhvbGREdXJhdGlvbih0KXt0aGlzLnN5bWJvbEZhZGVIb2xkVW50aWw9cXQubm93KCkrdDt9c2V0VGV4dHVyZSh0LGUpe2NvbnN0IHI9ZS5jb250ZXh0LG49ci5nbDt0aGlzLnRleHR1cmU9dGhpcy50ZXh0dXJlfHxlLmdldFRpbGVUZXh0dXJlKHQud2lkdGgpLHRoaXMudGV4dHVyZT90aGlzLnRleHR1cmUudXBkYXRlKHQse3VzZU1pcG1hcDohMH0pOih0aGlzLnRleHR1cmU9bmV3IE1kKHIsdCxuLlJHQkEse3VzZU1pcG1hcDohMH0pLHRoaXMudGV4dHVyZS5iaW5kKG4uTElORUFSLG4uQ0xBTVBfVE9fRURHRSksci5leHRUZXh0dXJlRmlsdGVyQW5pc290cm9waWMmJm4udGV4UGFyYW1ldGVyZihuLlRFWFRVUkVfMkQsci5leHRUZXh0dXJlRmlsdGVyQW5pc290cm9waWMuVEVYVFVSRV9NQVhfQU5JU09UUk9QWV9FWFQsci5leHRUZXh0dXJlRmlsdGVyQW5pc290cm9waWNNYXgpKTt9c2V0RGVwZW5kZW5jaWVzKHQsZSl7Y29uc3Qgcj17fTtmb3IoY29uc3QgdCBvZiBlKXJbdF09ITA7dGhpcy5kZXBlbmRlbmNpZXNbdF09cjt9aGFzRGVwZW5kZW5jeSh0LGUpe2Zvcihjb25zdCByIG9mIHQpe2NvbnN0IHQ9dGhpcy5kZXBlbmRlbmNpZXNbcl07aWYodClmb3IoY29uc3QgciBvZiBlKWlmKHRbcl0pcmV0dXJuICEwfXJldHVybiAhMX1jbGVhclF1ZXJ5RGVidWdWaXooKXt9X21ha2VEZWJ1Z1RpbGVCb3VuZHNCdWZmZXJzKHQsZSl7aWYoIWV8fFwibWVyY2F0b3JcIj09PWUubmFtZXx8dGhpcy5fdGlsZURlYnVnQnVmZmVyKXJldHVybjtjb25zdCByPUpvKCRkLHRoaXMudGlsZUlELmNhbm9uaWNhbCx0aGlzLnRpbGVUcmFuc2Zvcm0pWzBdLG49bmV3IGFhLGk9bmV3IFRhO2ZvcihsZXQgdD0wO3Q8ci5sZW5ndGg7dCsrKXtjb25zdHt4OmUseTpzfT1yW3RdO24uZW1wbGFjZUJhY2soZSxzKSxpLmVtcGxhY2VCYWNrKHQpO31pLmVtcGxhY2VCYWNrKDApLHRoaXMuX3RpbGVEZWJ1Z0luZGV4QnVmZmVyPXQuY3JlYXRlSW5kZXhCdWZmZXIoaSksdGhpcy5fdGlsZURlYnVnQnVmZmVyPXQuY3JlYXRlVmVydGV4QnVmZmVyKG4sbGYubWVtYmVycyksdGhpcy5fdGlsZURlYnVnU2VnbWVudHM9VG8uc2ltcGxlU2VnbWVudCgwLDAsbi5sZW5ndGgsaS5sZW5ndGgpO31fbWFrZVRpbGVCb3VuZHNCdWZmZXJzKHQsZSl7aWYodGhpcy5fdGlsZUJvdW5kc0J1ZmZlcnx8IWV8fFwibWVyY2F0b3JcIj09PWUubmFtZSlyZXR1cm47Y29uc3Qgcj1KbygkZCx0aGlzLnRpbGVJRC5jYW5vbmljYWwsdGhpcy50aWxlVHJhbnNmb3JtKVswXTtsZXQgbixpO2lmKHRoaXMuaXNSYXN0ZXIpe2NvbnN0IHQ9ZnVuY3Rpb24odCxlKXtjb25zdCByPWpmKHQsZSksbj1NYXRoLnBvdygyLHQueik7Zm9yKGxldCBpPTA7aTxEZDtpKyspZm9yKGxldCBzPTA7czxEZDtzKyspe2NvbnN0IGE9VW8oKHQueCsocytVZChzKSkvQ2QpL24pLG89am8oKHQueSsoaStVZChpKSkvQ2QpL24pLGw9ZS5wcm9qZWN0KGEsbyksdT1pKkRkK3M7RmRbMip1KzBdPU1hdGgucm91bmQoKGwueCpyLnNjYWxlLXIueCkqQm8pLEZkWzIqdSsxXT1NYXRoLnJvdW5kKChsLnkqci5zY2FsZS1yLnkpKkJvKTt9TGQuZmlsbCgwKSxSZC5maWxsKDApO2ZvcihsZXQgdD0yMDQ1O3Q+PTA7dC0tKXtjb25zdCBlPTQqdCxyPVZkW2UrMF0sbj1WZFtlKzFdLGk9VmRbZSsyXSxzPVZkW2UrM10sYT1yK2k+PjEsbz1uK3M+PjEsbD1hK28tbix1PW8rci1hLGM9bipEZCtyLGg9cypEZCtpLHA9bypEZCthLGY9TWF0aC5oeXBvdCgoRmRbMipjKzBdK0ZkWzIqaCswXSkvMi1GZFsyKnArMF0sKEZkWzIqYysxXStGZFsyKmgrMV0pLzItRmRbMipwKzFdKT49MTY7aWYoTGRbcF09TGRbcF18fChmPzE6MCksdDwxMDIyKXtjb25zdCB0PShuK3U+PjEpKkRkKyhyK2w+PjEpLGU9KHMrdT4+MSkqRGQrKGkrbD4+MSk7TGRbcF09TGRbcF18fExkW3RdfHxMZFtlXTt9fWNvbnN0IGk9bmV3IGxhLHM9bmV3IHdhO2xldCBhPTA7ZnVuY3Rpb24gbyh0LGUpe2NvbnN0IHI9ZSpEZCt0O3JldHVybiAwPT09UmRbcl0mJihpLmVtcGxhY2VCYWNrKEZkWzIqciswXSxGZFsyKnIrMV0sdCpCby9DZCxlKkJvL0NkKSxSZFtyXT0rK2EpLFJkW3JdLTF9ZnVuY3Rpb24gbCh0LGUscixuLGksYSl7Y29uc3QgdT10K3I+PjEsYz1lK24+PjE7aWYoTWF0aC5hYnModC1pKStNYXRoLmFicyhlLWEpPjEmJkxkW2MqRGQrdV0pbChpLGEsdCxlLHUsYyksbChyLG4saSxhLHUsYyk7ZWxzZSB7Y29uc3QgbD1vKHQsZSksdT1vKHIsbiksYz1vKGksYSk7cy5lbXBsYWNlQmFjayhsLHUsYyk7fX1yZXR1cm4gbCgwLDAsQ2QsQ2QsQ2QsMCksbChDZCxDZCwwLDAsMCxDZCkse3ZlcnRpY2VzOmksaW5kaWNlczpzfX0odGhpcy50aWxlSUQuY2Fub25pY2FsLGUpO249dC52ZXJ0aWNlcyxpPXQuaW5kaWNlczt9ZWxzZSB7bj1uZXcgbGEsaT1uZXcgd2E7Zm9yKGNvbnN0e3g6dCx5OmV9b2YgciluLmVtcGxhY2VCYWNrKHQsZSwwLDApO2NvbnN0IHQ9VHUuZXhwb3J0cyhuLmludDE2LHZvaWQgMCw0KTtmb3IobGV0IGU9MDtlPHQubGVuZ3RoO2UrPTMpaS5lbXBsYWNlQmFjayh0W2VdLHRbZSsxXSx0W2UrMl0pO310aGlzLl90aWxlQm91bmRzQnVmZmVyPXQuY3JlYXRlVmVydGV4QnVmZmVyKG4samQubWVtYmVycyksdGhpcy5fdGlsZUJvdW5kc0luZGV4QnVmZmVyPXQuY3JlYXRlSW5kZXhCdWZmZXIoaSksdGhpcy5fdGlsZUJvdW5kc1NlZ21lbnRzPVRvLnNpbXBsZVNlZ21lbnQoMCwwLG4ubGVuZ3RoLGkubGVuZ3RoKTt9X21ha2VHbG9iZVRpbGVEZWJ1Z0J1ZmZlcnModCxlKXtjb25zdCByPWUucHJvamVjdGlvbjtpZighcnx8XCJnbG9iZVwiIT09ci5uYW1lfHxlLmZyZWV6ZVRpbGVDb3ZlcmFnZSlyZXR1cm47Y29uc3Qgbj10aGlzLnRpbGVJRC5jYW5vbmljYWwsaT1FZihfZihuLGUpKSxzPURmKGUuem9vbSk7bGV0IGE7cz4wJiYoYT1JbChuZXcgRmxvYXQ2NEFycmF5KDE2KSxlLmdsb2JlTWF0cml4KSksdGhpcy5fbWFrZUdsb2JlVGlsZURlYnVnQm9yZGVyQnVmZmVyKHQsbixlLGksYSxzKSx0aGlzLl9tYWtlR2xvYmVUaWxlRGVidWdUZXh0QnVmZmVyKHQsbixlLGksYSxzKTt9X2dsb2JlUG9pbnQodCxlLHIsbixpLHMsYSl7bGV0IG89emYodCxlLHIpO2lmKHMpe2NvbnN0IGk9MTw8ci56LGw9Rm8obi5jZW50ZXIubG5nKSx1PUxvKG4uY2VudGVyLmxhdCksYz0oci54Ky41KS9pLWw7bGV0IGg9MDtjPi41P2g9LTE6YzwtLjUmJihoPTEpO2xldCBwPSh0L0JvK3IueCkvaStoLGY9KGUvQm8rci55KS9pO3A9KHAtbCkqbi5fcGl4ZWxzUGVyTWVyY2F0b3JQaXhlbCtsLGY9KGYtdSkqbi5fcGl4ZWxzUGVyTWVyY2F0b3JQaXhlbCt1O2NvbnN0IGQ9W3Aqbi53b3JsZFNpemUsZipuLndvcmxkU2l6ZSwwXTtIbChkLGQscyksbz1iZihvLGQsYSk7fXJldHVybiBIbChvLG8saSl9X21ha2VHbG9iZVRpbGVEZWJ1Z0JvcmRlckJ1ZmZlcih0LGUscixuLGkscyl7Y29uc3QgYT1uZXcgYWEsbz1uZXcgVGEsbD1uZXcgb2EsdT0odCx1LGMsaCxwKT0+e2NvbnN0IGY9KGMtdCkvKHAtMSksZD0oaC11KS8ocC0xKSx5PWEubGVuZ3RoO2ZvcihsZXQgYz0wO2M8cDtjKyspe2NvbnN0IGg9dCtjKmYscD11K2MqZDthLmVtcGxhY2VCYWNrKGgscCk7Y29uc3QgbT10aGlzLl9nbG9iZVBvaW50KGgscCxlLHIsbixpLHMpO2wuZW1wbGFjZUJhY2sobVswXSxtWzFdLG1bMl0pLG8uZW1wbGFjZUJhY2soeStjKTt9fSxjPUJvO3UoMCwwLGMsMCwxNiksdShjLDAsYyxjLDE2KSx1KGMsYywwLGMsMTYpLHUoMCxjLDAsMCwxNiksdGhpcy5fdGlsZURlYnVnSW5kZXhCdWZmZXI9dC5jcmVhdGVJbmRleEJ1ZmZlcihvKSx0aGlzLl90aWxlRGVidWdCdWZmZXI9dC5jcmVhdGVWZXJ0ZXhCdWZmZXIoYSxsZi5tZW1iZXJzKSx0aGlzLl9nbG9iZVRpbGVEZWJ1Z0JvcmRlckJ1ZmZlcj10LmNyZWF0ZVZlcnRleEJ1ZmZlcihsLG9mLm1lbWJlcnMpLHRoaXMuX3RpbGVEZWJ1Z1NlZ21lbnRzPVRvLnNpbXBsZVNlZ21lbnQoMCwwLGEubGVuZ3RoLG8ubGVuZ3RoKTt9X21ha2VHbG9iZVRpbGVEZWJ1Z1RleHRCdWZmZXIodCxlLHIsbixpLHMpe2NvbnN0IGE9bmV3IGFhLG89bmV3IHdhLGw9bmV3IG9hLHU9MjU7by5yZXNlcnZlKDMyKSxhLnJlc2VydmUodSksbC5yZXNlcnZlKHUpO2NvbnN0IGM9KHQsZSk9PnUqdCtlO2ZvcihsZXQgdD0wO3Q8dTt0Kyspe2NvbnN0IG89MjA0OCp0O2ZvcihsZXQgdD0wO3Q8dTt0Kyspe2NvbnN0IHU9MjA0OCp0O2EuZW1wbGFjZUJhY2sodSxvKTtjb25zdCBjPXRoaXMuX2dsb2JlUG9pbnQodSxvLGUscixuLGkscyk7bC5lbXBsYWNlQmFjayhjWzBdLGNbMV0sY1syXSk7fX1mb3IobGV0IHQ9MDt0PDQ7dCsrKWZvcihsZXQgZT0wO2U8NDtlKyspe2NvbnN0IHI9Yyh0LGUpLG49Yyh0LGUrMSksaT1jKHQrMSxlKSxzPWModCsxLGUrMSk7by5lbXBsYWNlQmFjayhyLG4saSksby5lbXBsYWNlQmFjayhpLG4scyk7fXRoaXMuX3RpbGVEZWJ1Z1RleHRJbmRleEJ1ZmZlcj10LmNyZWF0ZUluZGV4QnVmZmVyKG8pLHRoaXMuX3RpbGVEZWJ1Z1RleHRCdWZmZXI9dC5jcmVhdGVWZXJ0ZXhCdWZmZXIoYSxsZi5tZW1iZXJzKSx0aGlzLl9nbG9iZVRpbGVEZWJ1Z1RleHRCdWZmZXI9dC5jcmVhdGVWZXJ0ZXhCdWZmZXIobCxvZi5tZW1iZXJzKSx0aGlzLl90aWxlRGVidWdUZXh0U2VnbWVudHM9VG8uc2ltcGxlU2VnbWVudCgwLDAsdSwzMik7fX1jbGFzcyBxZHtjb25zdHJ1Y3Rvcigpe3RoaXMuc3RhdGU9e30sdGhpcy5zdGF0ZUNoYW5nZXM9e30sdGhpcy5kZWxldGVkU3RhdGVzPXt9O311cGRhdGVTdGF0ZSh0LGUscil7Y29uc3Qgbj1TdHJpbmcoZSk7aWYodGhpcy5zdGF0ZUNoYW5nZXNbdF09dGhpcy5zdGF0ZUNoYW5nZXNbdF18fHt9LHRoaXMuc3RhdGVDaGFuZ2VzW3RdW25dPXRoaXMuc3RhdGVDaGFuZ2VzW3RdW25dfHx7fSxUKHRoaXMuc3RhdGVDaGFuZ2VzW3RdW25dLHIpLG51bGw9PT10aGlzLmRlbGV0ZWRTdGF0ZXNbdF0pe3RoaXMuZGVsZXRlZFN0YXRlc1t0XT17fTtmb3IoY29uc3QgZSBpbiB0aGlzLnN0YXRlW3RdKWUhPT1uJiYodGhpcy5kZWxldGVkU3RhdGVzW3RdW2VdPW51bGwpO31lbHNlIGlmKHRoaXMuZGVsZXRlZFN0YXRlc1t0XSYmbnVsbD09PXRoaXMuZGVsZXRlZFN0YXRlc1t0XVtuXSl7dGhpcy5kZWxldGVkU3RhdGVzW3RdW25dPXt9O2Zvcihjb25zdCBlIGluIHRoaXMuc3RhdGVbdF1bbl0pcltlXXx8KHRoaXMuZGVsZXRlZFN0YXRlc1t0XVtuXVtlXT1udWxsKTt9ZWxzZSBmb3IoY29uc3QgZSBpbiByKXRoaXMuZGVsZXRlZFN0YXRlc1t0XSYmdGhpcy5kZWxldGVkU3RhdGVzW3RdW25dJiZudWxsPT09dGhpcy5kZWxldGVkU3RhdGVzW3RdW25dW2VdJiZkZWxldGUgdGhpcy5kZWxldGVkU3RhdGVzW3RdW25dW2VdO31yZW1vdmVGZWF0dXJlU3RhdGUodCxlLHIpe2lmKG51bGw9PT10aGlzLmRlbGV0ZWRTdGF0ZXNbdF0pcmV0dXJuO2NvbnN0IG49U3RyaW5nKGUpO2lmKHRoaXMuZGVsZXRlZFN0YXRlc1t0XT10aGlzLmRlbGV0ZWRTdGF0ZXNbdF18fHt9LHImJnZvaWQgMCE9PWUpbnVsbCE9PXRoaXMuZGVsZXRlZFN0YXRlc1t0XVtuXSYmKHRoaXMuZGVsZXRlZFN0YXRlc1t0XVtuXT10aGlzLmRlbGV0ZWRTdGF0ZXNbdF1bbl18fHt9LHRoaXMuZGVsZXRlZFN0YXRlc1t0XVtuXVtyXT1udWxsKTtlbHNlIGlmKHZvaWQgMCE9PWUpaWYodGhpcy5zdGF0ZUNoYW5nZXNbdF0mJnRoaXMuc3RhdGVDaGFuZ2VzW3RdW25dKWZvcihyIGluIHRoaXMuZGVsZXRlZFN0YXRlc1t0XVtuXT17fSx0aGlzLnN0YXRlQ2hhbmdlc1t0XVtuXSl0aGlzLmRlbGV0ZWRTdGF0ZXNbdF1bbl1bcl09bnVsbDtlbHNlIHRoaXMuZGVsZXRlZFN0YXRlc1t0XVtuXT1udWxsO2Vsc2UgdGhpcy5kZWxldGVkU3RhdGVzW3RdPW51bGw7fWdldFN0YXRlKHQsZSl7Y29uc3Qgcj1TdHJpbmcoZSksbj1UKHt9LCh0aGlzLnN0YXRlW3RdfHx7fSlbcl0sKHRoaXMuc3RhdGVDaGFuZ2VzW3RdfHx7fSlbcl0pO2lmKG51bGw9PT10aGlzLmRlbGV0ZWRTdGF0ZXNbdF0pcmV0dXJuIHt9O2lmKHRoaXMuZGVsZXRlZFN0YXRlc1t0XSl7Y29uc3Qgcj10aGlzLmRlbGV0ZWRTdGF0ZXNbdF1bZV07aWYobnVsbD09PXIpcmV0dXJuIHt9O2Zvcihjb25zdCB0IGluIHIpZGVsZXRlIG5bdF07fXJldHVybiBufWluaXRpYWxpemVUaWxlU3RhdGUodCxlKXt0LnNldEZlYXR1cmVTdGF0ZSh0aGlzLnN0YXRlLGUpO31jb2FsZXNjZUNoYW5nZXModCxlKXtjb25zdCByPXt9O2Zvcihjb25zdCB0IGluIHRoaXMuc3RhdGVDaGFuZ2VzKXt0aGlzLnN0YXRlW3RdPXRoaXMuc3RhdGVbdF18fHt9O2NvbnN0IGU9e307Zm9yKGNvbnN0IHIgaW4gdGhpcy5zdGF0ZUNoYW5nZXNbdF0pdGhpcy5zdGF0ZVt0XVtyXXx8KHRoaXMuc3RhdGVbdF1bcl09e30pLFQodGhpcy5zdGF0ZVt0XVtyXSx0aGlzLnN0YXRlQ2hhbmdlc1t0XVtyXSksZVtyXT10aGlzLnN0YXRlW3RdW3JdO3JbdF09ZTt9Zm9yKGNvbnN0IHQgaW4gdGhpcy5kZWxldGVkU3RhdGVzKXt0aGlzLnN0YXRlW3RdPXRoaXMuc3RhdGVbdF18fHt9O2NvbnN0IGU9e307aWYobnVsbD09PXRoaXMuZGVsZXRlZFN0YXRlc1t0XSlmb3IoY29uc3QgciBpbiB0aGlzLnN0YXRlW3RdKWVbcl09e30sdGhpcy5zdGF0ZVt0XVtyXT17fTtlbHNlIGZvcihjb25zdCByIGluIHRoaXMuZGVsZXRlZFN0YXRlc1t0XSl7aWYobnVsbD09PXRoaXMuZGVsZXRlZFN0YXRlc1t0XVtyXSl0aGlzLnN0YXRlW3RdW3JdPXt9O2Vsc2UgZm9yKGNvbnN0IGUgb2YgT2JqZWN0LmtleXModGhpcy5kZWxldGVkU3RhdGVzW3RdW3JdKSlkZWxldGUgdGhpcy5zdGF0ZVt0XVtyXVtlXTtlW3JdPXRoaXMuc3RhdGVbdF1bcl07fXJbdF09clt0XXx8e30sVChyW3RdLGUpO31pZih0aGlzLnN0YXRlQ2hhbmdlcz17fSx0aGlzLmRlbGV0ZWRTdGF0ZXM9e30sMCE9PU9iamVjdC5rZXlzKHIpLmxlbmd0aClmb3IoY29uc3QgbiBpbiB0KXRbbl0uc2V0RmVhdHVyZVN0YXRlKHIsZSk7fX1jbGFzcyBOZHtjb25zdHJ1Y3Rvcih0KXt0aGlzLnNpemU9dCx0aGlzLm1pbmltdW1zPVtdLHRoaXMubWF4aW11bXM9W10sdGhpcy5sZWF2ZXM9W107fWdldEVsZXZhdGlvbih0LGUpe2NvbnN0IHI9dGhpcy50b0lkeCh0LGUpO3JldHVybiB7bWluOnRoaXMubWluaW11bXNbcl0sbWF4OnRoaXMubWF4aW11bXNbcl19fWlzTGVhZih0LGUpe3JldHVybiB0aGlzLmxlYXZlc1t0aGlzLnRvSWR4KHQsZSldfXRvSWR4KHQsZSl7cmV0dXJuIGUqdGhpcy5zaXplK3R9fWZ1bmN0aW9uIEdkKHQsZSxyLG4pe2xldCBpPTAscz1OdW1iZXIuTUFYX1ZBTFVFO2ZvcihsZXQgYT0wO2E8MzthKyspaWYoTWF0aC5hYnMoblthXSk8MWUtMTUpe2lmKHJbYV08dFthXXx8clthXT5lW2FdKXJldHVybiBudWxsfWVsc2Uge2NvbnN0IG89MS9uW2FdO2xldCBsPSh0W2FdLXJbYV0pKm8sdT0oZVthXS1yW2FdKSpvO2lmKGw+dSl7Y29uc3QgdD1sO2w9dSx1PXQ7fWlmKGw+aSYmKGk9bCksdTxzJiYocz11KSxpPnMpcmV0dXJuIG51bGx9cmV0dXJuIGl9ZnVuY3Rpb24gWmQodCxlLHIsbixpLHMsYSxvLGwsdSxjKXtjb25zdCBoPW4tdCxwPWktZSxmPXMtcixkPWEtdCx5PW8tZSxtPWwtcixnPWNbMV0qbS1jWzJdKnkseD1jWzJdKmQtY1swXSptLHY9Y1swXSp5LWNbMV0qZCxiPWgqZytwKngrZip2O2lmKE1hdGguYWJzKGIpPDFlLTE1KXJldHVybiBudWxsO2NvbnN0IF89MS9iLHc9dVswXS10LEE9dVsxXS1lLFM9dVsyXS1yLGs9KHcqZytBKngrUyp2KSpfO2lmKGs8MHx8az4xKXJldHVybiBudWxsO2NvbnN0IEk9QSpmLVMqcCxNPVMqaC13KmYsej13KnAtQSpoLFQ9KGNbMF0qSStjWzFdKk0rY1syXSp6KSpfO3JldHVybiBUPDB8fGsrVD4xP251bGw6KGQqSSt5Kk0rbSp6KSpffWZ1bmN0aW9uIFhkKHQsZSxyKXtyZXR1cm4gKHQtZSkvKHItZSl9ZnVuY3Rpb24gS2QodCxlLHIsbixpLHMsYSxvLGwpe2NvbnN0IHU9MTw8cixjPXMtbixoPWEtaSxwPSh0KzEpL3UqYytuLGY9KGUrMCkvdSpoK2ksZD0oZSsxKS91KmgraTtvWzBdPSh0KzApL3UqYytuLG9bMV09ZixsWzBdPXAsbFsxXT1kO31jbGFzcyBIZHtjb25zdHJ1Y3Rvcih0KXtpZih0aGlzLm1heGltdW1zPVtdLHRoaXMubWluaW11bXM9W10sdGhpcy5sZWF2ZXM9W10sdGhpcy5jaGlsZE9mZnNldHM9W10sdGhpcy5ub2RlQ291bnQ9MCx0aGlzLmRlbT10LHRoaXMuX3NpYmxpbmdPZmZzZXQ9W1swLDBdLFsxLDBdLFswLDFdLFsxLDFdXSwhdGhpcy5kZW0pcmV0dXJuO2NvbnN0IGU9ZnVuY3Rpb24odCl7Y29uc3QgZT1NYXRoLmNlaWwoTWF0aC5sb2cyKHQuZGltLzgpKSxyPVtdO2xldCBuPU1hdGguY2VpbChNYXRoLnBvdygyLGUpKTtjb25zdCBpPTEvbixzPSh0LGUscixuLGkpPT57Y29uc3Qgcz1uPzE6MCxhPSh0KzEpKnItcyxvPWUqcixsPShlKzEpKnItcztpWzBdPXQqcixpWzFdPW8saVsyXT1hLGlbM109bDt9O2xldCBhPW5ldyBOZChuKTtjb25zdCBvPVtdO2ZvcihsZXQgZT0wO2U8bipuO2UrKyl7cyhlJW4sTWF0aC5mbG9vcihlL24pLGksITEsbyk7Y29uc3Qgcj1XZChvWzBdLG9bMV0sdCksbD1XZChvWzJdLG9bMV0sdCksdT1XZChvWzJdLG9bM10sdCksYz1XZChvWzBdLG9bM10sdCk7YS5taW5pbXVtcy5wdXNoKE1hdGgubWluKHIsbCx1LGMpKSxhLm1heGltdW1zLnB1c2goTWF0aC5tYXgocixsLHUsYykpLGEubGVhdmVzLnB1c2goMSk7fWZvcihyLnB1c2goYSksbi89MjtuPj0xO24vPTIpe2NvbnN0IHQ9cltyLmxlbmd0aC0xXTthPW5ldyBOZChuKTtmb3IobGV0IGU9MDtlPG4qbjtlKyspe3MoZSVuLE1hdGguZmxvb3IoZS9uKSwyLCEwLG8pO2NvbnN0IHI9dC5nZXRFbGV2YXRpb24ob1swXSxvWzFdKSxpPXQuZ2V0RWxldmF0aW9uKG9bMl0sb1sxXSksbD10LmdldEVsZXZhdGlvbihvWzJdLG9bM10pLHU9dC5nZXRFbGV2YXRpb24ob1swXSxvWzNdKSxjPXQuaXNMZWFmKG9bMF0sb1sxXSksaD10LmlzTGVhZihvWzJdLG9bMV0pLHA9dC5pc0xlYWYob1syXSxvWzNdKSxmPXQuaXNMZWFmKG9bMF0sb1szXSksZD1NYXRoLm1pbihyLm1pbixpLm1pbixsLm1pbix1Lm1pbikseT1NYXRoLm1heChyLm1heCxpLm1heCxsLm1heCx1Lm1heCksbT1jJiZoJiZwJiZmO2EubWF4aW11bXMucHVzaCh5KSxhLm1pbmltdW1zLnB1c2goZCksYS5sZWF2ZXMucHVzaCh5LWQ8PTUmJm0/MTowKTt9ci5wdXNoKGEpO31yZXR1cm4gcn0odGhpcy5kZW0pLHI9ZS5sZW5ndGgtMSxuPWVbcl07dGhpcy5fYWRkTm9kZShuLm1pbmltdW1zWzBdLG4ubWF4aW11bXNbMF0sbi5sZWF2ZXNbMF0pLHRoaXMuX2NvbnN0cnVjdChlLDAsMCxyLDApO31yYXljYXN0Um9vdCh0LGUscixuLGkscyxhPTEpe3JldHVybiBHZChbdCxlLC0xMDBdLFtyLG4sdGhpcy5tYXhpbXVtc1swXSphXSxpLHMpfXJheWNhc3QodCxlLHIsbixpLHMsYT0xKXtpZighdGhpcy5ub2RlQ291bnQpcmV0dXJuIG51bGw7Y29uc3Qgbz10aGlzLnJheWNhc3RSb290KHQsZSxyLG4saSxzLGEpO2lmKG51bGw9PW8pcmV0dXJuIG51bGw7Y29uc3QgbD1bXSx1PVtdLGM9W10saD1bXSxwPVt7aWR4OjAsdDpvLG5vZGV4OjAsbm9kZXk6MCxkZXB0aDowfV07Zm9yKDtwLmxlbmd0aD4wOyl7Y29uc3R7aWR4Om8sdDpmLG5vZGV4OmQsbm9kZXk6eSxkZXB0aDptfT1wLnBvcCgpO2lmKHRoaXMubGVhdmVzW29dKXtLZChkLHksbSx0LGUscixuLGMsaCk7Y29uc3Qgbz0xPDxtLGw9KGQrMCkvbyx1PShkKzEpL28scD0oeSswKS9vLGc9KHkrMSkvbyx4PVdkKGwscCx0aGlzLmRlbSkqYSx2PVdkKHUscCx0aGlzLmRlbSkqYSxiPVdkKHUsZyx0aGlzLmRlbSkqYSxfPVdkKGwsZyx0aGlzLmRlbSkqYSx3PVpkKGNbMF0sY1sxXSx4LGhbMF0sY1sxXSx2LGhbMF0saFsxXSxiLGkscyksQT1aZChoWzBdLGhbMV0sYixjWzBdLGhbMV0sXyxjWzBdLGNbMV0seCxpLHMpLFM9TWF0aC5taW4obnVsbCE9PXc/dzpOdW1iZXIuTUFYX1ZBTFVFLG51bGwhPT1BP0E6TnVtYmVyLk1BWF9WQUxVRSk7aWYoUyE9PU51bWJlci5NQVhfVkFMVUUpcmV0dXJuIFM7e2NvbnN0IHQ9R2woW10saSxzLGYpO2lmKFlkKHgsdixfLGIsWGQodFswXSxjWzBdLGhbMF0pLFhkKHRbMV0sY1sxXSxoWzFdKSk+PXRbMl0pcmV0dXJuIGZ9Y29udGludWV9bGV0IGc9MDtmb3IobGV0IHA9MDtwPHRoaXMuX3NpYmxpbmdPZmZzZXQubGVuZ3RoO3ArKyl7S2QoKGQ8PDEpK3RoaXMuX3NpYmxpbmdPZmZzZXRbcF1bMF0sKHk8PDEpK3RoaXMuX3NpYmxpbmdPZmZzZXRbcF1bMV0sbSsxLHQsZSxyLG4sYyxoKSxjWzJdPS0xMDAsaFsyXT10aGlzLm1heGltdW1zW3RoaXMuY2hpbGRPZmZzZXRzW29dK3BdKmE7Y29uc3QgZj1HZChjLGgsaSxzKTtpZihudWxsIT1mKXtjb25zdCB0PWY7bFtwXT10O2xldCBlPSExO2ZvcihsZXQgcj0wO3I8ZyYmIWU7cisrKXQ+PWxbdVtyXV0mJih1LnNwbGljZShyLDAscCksZT0hMCk7ZXx8KHVbZ109cCksZysrO319Zm9yKGxldCB0PTA7dDxnO3QrKyl7Y29uc3QgZT11W3RdO3AucHVzaCh7aWR4OnRoaXMuY2hpbGRPZmZzZXRzW29dK2UsdDpsW2VdLG5vZGV4OihkPDwxKSt0aGlzLl9zaWJsaW5nT2Zmc2V0W2VdWzBdLG5vZGV5Oih5PDwxKSt0aGlzLl9zaWJsaW5nT2Zmc2V0W2VdWzFdLGRlcHRoOm0rMX0pO319cmV0dXJuIG51bGx9X2FkZE5vZGUodCxlLHIpe3JldHVybiB0aGlzLm1pbmltdW1zLnB1c2godCksdGhpcy5tYXhpbXVtcy5wdXNoKGUpLHRoaXMubGVhdmVzLnB1c2gociksdGhpcy5jaGlsZE9mZnNldHMucHVzaCgwKSx0aGlzLm5vZGVDb3VudCsrfV9jb25zdHJ1Y3QodCxlLHIsbixpKXtpZigxPT09dFtuXS5pc0xlYWYoZSxyKSlyZXR1cm47dGhpcy5jaGlsZE9mZnNldHNbaV18fCh0aGlzLmNoaWxkT2Zmc2V0c1tpXT10aGlzLm5vZGVDb3VudCk7Y29uc3Qgcz1uLTEsYT10W3NdO2xldCBvPTAsbD0wO2ZvcihsZXQgdD0wO3Q8dGhpcy5fc2libGluZ09mZnNldC5sZW5ndGg7dCsrKXtjb25zdCBuPTIqZSt0aGlzLl9zaWJsaW5nT2Zmc2V0W3RdWzBdLGk9MipyK3RoaXMuX3NpYmxpbmdPZmZzZXRbdF1bMV0scz1hLmdldEVsZXZhdGlvbihuLGkpLHU9YS5pc0xlYWYobixpKSxjPXRoaXMuX2FkZE5vZGUocy5taW4scy5tYXgsdSk7dSYmKG98PTE8PHQpLGx8fChsPWMpO31mb3IobGV0IG49MDtuPHRoaXMuX3NpYmxpbmdPZmZzZXQubGVuZ3RoO24rKylvJjE8PG58fHRoaXMuX2NvbnN0cnVjdCh0LDIqZSt0aGlzLl9zaWJsaW5nT2Zmc2V0W25dWzBdLDIqcit0aGlzLl9zaWJsaW5nT2Zmc2V0W25dWzFdLHMsbCtuKTt9fWZ1bmN0aW9uIFlkKHQsZSxyLG4saSxzKXtyZXR1cm4gSXIoSXIodCxyLHMpLElyKGUsbixzKSxpKX1mdW5jdGlvbiBXZCh0LGUscil7Y29uc3Qgbj1yLmRpbSxpPVModCpuLS41LDAsbi0xKSxzPVMoZSpuLS41LDAsbi0xKSxhPU1hdGguZmxvb3IoaSksbz1NYXRoLmZsb29yKHMpLGw9TWF0aC5taW4oYSsxLG4tMSksdT1NYXRoLm1pbihvKzEsbi0xKTtyZXR1cm4gWWQoci5nZXQoYSxvKSxyLmdldChsLG8pLHIuZ2V0KGEsdSksci5nZXQobCx1KSxpLWEscy1vKX1jb25zdCBKZD17bWFwYm94Ols2NTUzLjYsMjUuNiwuMSwxZTRdLHRlcnJhcml1bTpbMjU2LDEsMS8yNTYsMzI3NjhdfTtjbGFzcyBRZHtnZXQgdHJlZSgpe3JldHVybiB0aGlzLl90cmVlfHx0aGlzLl9idWlsZFF1YWRUcmVlKCksdGhpcy5fdHJlZX1jb25zdHJ1Y3Rvcih0LGUscixuPSExLGk9ITEpe2lmKHRoaXMudWlkPXQsZS5oZWlnaHQhPT1lLndpZHRoKXRocm93IG5ldyBSYW5nZUVycm9yKFwiREVNIHRpbGVzIG11c3QgYmUgc3F1YXJlXCIpO2lmKHImJlwibWFwYm94XCIhPT1yJiZcInRlcnJhcml1bVwiIT09cilyZXR1cm4gJChgXCIke3J9XCIgaXMgbm90IGEgdmFsaWQgZW5jb2RpbmcgdHlwZS4gVmFsaWQgdHlwZXMgaW5jbHVkZSBcIm1hcGJveFwiIGFuZCBcInRlcnJhcml1bVwiLmApO3RoaXMuc3RyaWRlPWUuaGVpZ2h0O2NvbnN0IHM9dGhpcy5kaW09ZS5oZWlnaHQtMixhPW5ldyBVaW50MzJBcnJheShlLmRhdGEuYnVmZmVyKTtpZih0aGlzLnBpeGVscz1uZXcgVWludDhBcnJheShlLmRhdGEuYnVmZmVyKSx0aGlzLmVuY29kaW5nPXJ8fFwibWFwYm94XCIsdGhpcy5ib3JkZXJSZWFkeT1uLCFuKXtmb3IobGV0IHQ9MDt0PHM7dCsrKWFbdGhpcy5faWR4KC0xLHQpXT1hW3RoaXMuX2lkeCgwLHQpXSxhW3RoaXMuX2lkeChzLHQpXT1hW3RoaXMuX2lkeChzLTEsdCldLGFbdGhpcy5faWR4KHQsLTEpXT1hW3RoaXMuX2lkeCh0LDApXSxhW3RoaXMuX2lkeCh0LHMpXT1hW3RoaXMuX2lkeCh0LHMtMSldO2FbdGhpcy5faWR4KC0xLC0xKV09YVt0aGlzLl9pZHgoMCwwKV0sYVt0aGlzLl9pZHgocywtMSldPWFbdGhpcy5faWR4KHMtMSwwKV0sYVt0aGlzLl9pZHgoLTEscyldPWFbdGhpcy5faWR4KDAscy0xKV0sYVt0aGlzLl9pZHgocyxzKV09YVt0aGlzLl9pZHgocy0xLHMtMSldLGkmJnRoaXMuX2J1aWxkUXVhZFRyZWUoKTt9fV9idWlsZFF1YWRUcmVlKCl7dGhpcy5fdHJlZT1uZXcgSGQodGhpcyk7fWdldCh0LGUscj0hMSl7ciYmKHQ9Uyh0LC0xLHRoaXMuZGltKSxlPVMoZSwtMSx0aGlzLmRpbSkpO2NvbnN0IG49NCp0aGlzLl9pZHgodCxlKTtyZXR1cm4gKFwidGVycmFyaXVtXCI9PT10aGlzLmVuY29kaW5nP3RoaXMuX3VucGFja1RlcnJhcml1bTp0aGlzLl91bnBhY2tNYXBib3gpKHRoaXMucGl4ZWxzW25dLHRoaXMucGl4ZWxzW24rMV0sdGhpcy5waXhlbHNbbisyXSl9c3RhdGljIGdldFVucGFja1ZlY3Rvcih0KXtyZXR1cm4gSmRbdF19Z2V0IHVucGFja1ZlY3Rvcigpe3JldHVybiBKZFt0aGlzLmVuY29kaW5nXX1faWR4KHQsZSl7aWYodDwtMXx8dD49dGhpcy5kaW0rMXx8ZTwtMXx8ZT49dGhpcy5kaW0rMSl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIm91dCBvZiByYW5nZSBzb3VyY2UgY29vcmRpbmF0ZXMgZm9yIERFTSBkYXRhXCIpO3JldHVybiAoZSsxKSp0aGlzLnN0cmlkZSsodCsxKX1fdW5wYWNrTWFwYm94KHQsZSxyKXtyZXR1cm4gKDI1Nip0KjI1NisyNTYqZStyKS8xMC0xZTR9X3VucGFja1RlcnJhcml1bSh0LGUscil7cmV0dXJuIDI1Nip0K2Urci8yNTYtMzI3Njh9c3RhdGljIHBhY2sodCxlKXtjb25zdCByPVswLDAsMCwwXSxuPVFkLmdldFVucGFja1ZlY3RvcihlKTtsZXQgaT1NYXRoLmZsb29yKCh0K25bM10pL25bMl0pO3JldHVybiByWzJdPWklMjU2LGk9TWF0aC5mbG9vcihpLzI1NiksclsxXT1pJTI1NixpPU1hdGguZmxvb3IoaS8yNTYpLHJbMF09aSxyfWdldFBpeGVscygpe3JldHVybiBuZXcgQXUoe3dpZHRoOnRoaXMuc3RyaWRlLGhlaWdodDp0aGlzLnN0cmlkZX0sdGhpcy5waXhlbHMpfWJhY2tmaWxsQm9yZGVyKHQsZSxyKXtpZih0aGlzLmRpbSE9PXQuZGltKXRocm93IG5ldyBFcnJvcihcImRlbSBkaW1lbnNpb24gbWlzbWF0Y2hcIik7bGV0IG49ZSp0aGlzLmRpbSxpPWUqdGhpcy5kaW0rdGhpcy5kaW0scz1yKnRoaXMuZGltLGE9cip0aGlzLmRpbSt0aGlzLmRpbTtzd2l0Y2goZSl7Y2FzZS0xOm49aS0xO2JyZWFrO2Nhc2UgMTppPW4rMTt9c3dpdGNoKHIpe2Nhc2UtMTpzPWEtMTticmVhaztjYXNlIDE6YT1zKzE7fWNvbnN0IG89LWUqdGhpcy5kaW0sbD0tcip0aGlzLmRpbTtmb3IobGV0IGU9cztlPGE7ZSsrKWZvcihsZXQgcj1uO3I8aTtyKyspe2NvbnN0IG49NCp0aGlzLl9pZHgocixlKSxpPTQqdGhpcy5faWR4KHIrbyxlK2wpO3RoaXMucGl4ZWxzW24rMF09dC5waXhlbHNbaSswXSx0aGlzLnBpeGVsc1tuKzFdPXQucGl4ZWxzW2krMV0sdGhpcy5waXhlbHNbbisyXT10LnBpeGVsc1tpKzJdLHRoaXMucGl4ZWxzW24rM109dC5waXhlbHNbaSszXTt9fW9uRGVzZXJpYWxpemUoKXt0aGlzLl90cmVlJiYodGhpcy5fdHJlZS5kZW09dGhpcyk7fX1qaShRZCxcIkRFTURhdGFcIiksamkoSGQsXCJEZW1NaW5NYXhRdWFkVHJlZVwiLHtvbWl0OltcImRlbVwiXX0pO2NsYXNzIHR5e2NvbnN0cnVjdG9yKHQsZSl7dGhpcy5tYXg9dCx0aGlzLm9uUmVtb3ZlPWUsdGhpcy5yZXNldCgpO31yZXNldCgpe2Zvcihjb25zdCB0IGluIHRoaXMuZGF0YSlmb3IoY29uc3QgZSBvZiB0aGlzLmRhdGFbdF0pZS50aW1lb3V0JiZjbGVhclRpbWVvdXQoZS50aW1lb3V0KSx0aGlzLm9uUmVtb3ZlKGUudmFsdWUpO3JldHVybiB0aGlzLmRhdGE9e30sdGhpcy5vcmRlcj1bXSx0aGlzfWFkZCh0LGUscil7Y29uc3Qgbj10LndyYXBwZWQoKS5rZXk7dm9pZCAwPT09dGhpcy5kYXRhW25dJiYodGhpcy5kYXRhW25dPVtdKTtjb25zdCBpPXt2YWx1ZTplLHRpbWVvdXQ6dm9pZCAwfTtpZih2b2lkIDAhPT1yJiYoaS50aW1lb3V0PXNldFRpbWVvdXQoKCgpPT57dGhpcy5yZW1vdmUodCxpKTt9KSxyKSksdGhpcy5kYXRhW25dLnB1c2goaSksdGhpcy5vcmRlci5wdXNoKG4pLHRoaXMub3JkZXIubGVuZ3RoPnRoaXMubWF4KXtjb25zdCB0PXRoaXMuX2dldEFuZFJlbW92ZUJ5S2V5KHRoaXMub3JkZXJbMF0pO3QmJnRoaXMub25SZW1vdmUodCk7fXJldHVybiB0aGlzfWhhcyh0KXtyZXR1cm4gdC53cmFwcGVkKCkua2V5IGluIHRoaXMuZGF0YX1nZXRBbmRSZW1vdmUodCl7cmV0dXJuIHRoaXMuaGFzKHQpP3RoaXMuX2dldEFuZFJlbW92ZUJ5S2V5KHQud3JhcHBlZCgpLmtleSk6bnVsbH1fZ2V0QW5kUmVtb3ZlQnlLZXkodCl7Y29uc3QgZT10aGlzLmRhdGFbdF0uc2hpZnQoKTtyZXR1cm4gZS50aW1lb3V0JiZjbGVhclRpbWVvdXQoZS50aW1lb3V0KSwwPT09dGhpcy5kYXRhW3RdLmxlbmd0aCYmZGVsZXRlIHRoaXMuZGF0YVt0XSx0aGlzLm9yZGVyLnNwbGljZSh0aGlzLm9yZGVyLmluZGV4T2YodCksMSksZS52YWx1ZX1nZXRCeUtleSh0KXtjb25zdCBlPXRoaXMuZGF0YVt0XTtyZXR1cm4gZT9lWzBdLnZhbHVlOm51bGx9Z2V0KHQpe3JldHVybiB0aGlzLmhhcyh0KT90aGlzLmRhdGFbdC53cmFwcGVkKCkua2V5XVswXS52YWx1ZTpudWxsfXJlbW92ZSh0LGUpe2lmKCF0aGlzLmhhcyh0KSlyZXR1cm4gdGhpcztjb25zdCByPXQud3JhcHBlZCgpLmtleSxuPXZvaWQgMD09PWU/MDp0aGlzLmRhdGFbcl0uaW5kZXhPZihlKSxpPXRoaXMuZGF0YVtyXVtuXTtyZXR1cm4gdGhpcy5kYXRhW3JdLnNwbGljZShuLDEpLGkudGltZW91dCYmY2xlYXJUaW1lb3V0KGkudGltZW91dCksMD09PXRoaXMuZGF0YVtyXS5sZW5ndGgmJmRlbGV0ZSB0aGlzLmRhdGFbcl0sdGhpcy5vblJlbW92ZShpLnZhbHVlKSx0aGlzLm9yZGVyLnNwbGljZSh0aGlzLm9yZGVyLmluZGV4T2YociksMSksdGhpc31zZXRNYXhTaXplKHQpe2Zvcih0aGlzLm1heD10O3RoaXMub3JkZXIubGVuZ3RoPnRoaXMubWF4Oyl7Y29uc3QgdD10aGlzLl9nZXRBbmRSZW1vdmVCeUtleSh0aGlzLm9yZGVyWzBdKTt0JiZ0aGlzLm9uUmVtb3ZlKHQpO31yZXR1cm4gdGhpc31maWx0ZXIodCl7Y29uc3QgZT1bXTtmb3IoY29uc3QgciBpbiB0aGlzLmRhdGEpZm9yKGNvbnN0IG4gb2YgdGhpcy5kYXRhW3JdKXQobi52YWx1ZSl8fGUucHVzaChuKTtmb3IoY29uc3QgdCBvZiBlKXRoaXMucmVtb3ZlKHQudmFsdWUudGlsZUlELHQpO319Y2xhc3MgZXl7Y29uc3RydWN0b3IodCxlLHIpe3RoaXMuZnVuYz10LHRoaXMubWFzaz1lLHRoaXMucmFuZ2U9cjt9fWV5LlJlYWRPbmx5PSExLGV5LlJlYWRXcml0ZT0hMCxleS5kaXNhYmxlZD1uZXcgZXkoNTE5LGV5LlJlYWRPbmx5LFswLDFdKTtjb25zdCByeT03NjgwO2NsYXNzIG55e2NvbnN0cnVjdG9yKHQsZSxyLG4saSxzKXt0aGlzLnRlc3Q9dCx0aGlzLnJlZj1lLHRoaXMubWFzaz1yLHRoaXMuZmFpbD1uLHRoaXMuZGVwdGhGYWlsPWksdGhpcy5wYXNzPXM7fX1ueS5kaXNhYmxlZD1uZXcgbnkoe2Z1bmM6NTE5LG1hc2s6MH0sMCwwLHJ5LHJ5LHJ5KTtjbGFzcyBpeXtjb25zdHJ1Y3Rvcih0LGUscil7dGhpcy5ibGVuZEZ1bmN0aW9uPXQsdGhpcy5ibGVuZENvbG9yPWUsdGhpcy5tYXNrPXI7fX1peS5SZXBsYWNlPVsxLDBdLGl5LmRpc2FibGVkPW5ldyBpeShpeS5SZXBsYWNlLEllLnRyYW5zcGFyZW50LFshMSwhMSwhMSwhMV0pLGl5LnVuYmxlbmRlZD1uZXcgaXkoaXkuUmVwbGFjZSxJZS50cmFuc3BhcmVudCxbITAsITAsITAsITBdKSxpeS5hbHBoYUJsZW5kZWQ9bmV3IGl5KFsxLDc3MV0sSWUudHJhbnNwYXJlbnQsWyEwLCEwLCEwLCEwXSk7Y29uc3Qgc3k9MTAyOSxheT0yMzA1O2NsYXNzIG95e2NvbnN0cnVjdG9yKHQsZSxyKXt0aGlzLmVuYWJsZT10LHRoaXMubW9kZT1lLHRoaXMuZnJvbnRGYWNlPXI7fX1veS5kaXNhYmxlZD1uZXcgb3koITEsc3ksYXkpLG95LmJhY2tDQ1c9bmV3IG95KCEwLHN5LGF5KSxveS5iYWNrQ1c9bmV3IG95KCEwLHN5LDIzMDQpLG95LmZyb250Q1c9bmV3IG95KCEwLDEwMjgsMjMwNCksb3kuZnJvbnRDQ1c9bmV3IG95KCEwLDEwMjgsYXkpO2NsYXNzIGx5IGV4dGVuZHMgS3R7Y29uc3RydWN0b3IodCxlLHIpe3N1cGVyKCksdGhpcy5pZD10LHRoaXMuX29ubHlTeW1ib2xzPXIsZS5vbihcImRhdGFcIiwodD0+e1wic291cmNlXCI9PT10LmRhdGFUeXBlJiZcIm1ldGFkYXRhXCI9PT10LnNvdXJjZURhdGFUeXBlJiYodGhpcy5fc291cmNlTG9hZGVkPSEwKSx0aGlzLl9zb3VyY2VMb2FkZWQmJiF0aGlzLl9wYXVzZWQmJlwic291cmNlXCI9PT10LmRhdGFUeXBlJiZcImNvbnRlbnRcIj09PXQuc291cmNlRGF0YVR5cGUmJih0aGlzLnJlbG9hZCgpLHRoaXMudHJhbnNmb3JtJiZ0aGlzLnVwZGF0ZSh0aGlzLnRyYW5zZm9ybSkpO30pKSxlLm9uKFwiZXJyb3JcIiwoKCk9Pnt0aGlzLl9zb3VyY2VFcnJvcmVkPSEwO30pKSx0aGlzLl9zb3VyY2U9ZSx0aGlzLl90aWxlcz17fSx0aGlzLl9jYWNoZT1uZXcgdHkoMCx0aGlzLl91bmxvYWRUaWxlLmJpbmQodGhpcykpLHRoaXMuX3RpbWVycz17fSx0aGlzLl9jYWNoZVRpbWVycz17fSx0aGlzLl9taW5UaWxlQ2FjaGVTaXplPWUubWluVGlsZUNhY2hlU2l6ZSx0aGlzLl9tYXhUaWxlQ2FjaGVTaXplPWUubWF4VGlsZUNhY2hlU2l6ZSx0aGlzLl9sb2FkZWRQYXJlbnRUaWxlcz17fSx0aGlzLl9jb3ZlcmVkVGlsZXM9e30sdGhpcy5fc3RhdGU9bmV3IHFkLHRoaXMuX2lzUmFzdGVyPVwicmFzdGVyXCI9PT10aGlzLl9zb3VyY2UudHlwZXx8XCJyYXN0ZXItZGVtXCI9PT10aGlzLl9zb3VyY2UudHlwZXx8XCJjdXN0b21cIj09PXRoaXMuX3NvdXJjZS50eXBlJiZcInJhc3RlclwiPT09dGhpcy5fc291cmNlLl9kYXRhVHlwZTt9b25BZGQodCl7dGhpcy5tYXA9dCx0aGlzLl9taW5UaWxlQ2FjaGVTaXplPXZvaWQgMD09PXRoaXMuX21pblRpbGVDYWNoZVNpemUmJnQ/dC5fbWluVGlsZUNhY2hlU2l6ZTp0aGlzLl9taW5UaWxlQ2FjaGVTaXplLHRoaXMuX21heFRpbGVDYWNoZVNpemU9dm9pZCAwPT09dGhpcy5fbWF4VGlsZUNhY2hlU2l6ZSYmdD90Ll9tYXhUaWxlQ2FjaGVTaXplOnRoaXMuX21heFRpbGVDYWNoZVNpemU7fWxvYWRlZCgpe2lmKHRoaXMuX3NvdXJjZUVycm9yZWQpcmV0dXJuICEwO2lmKCF0aGlzLl9zb3VyY2VMb2FkZWQpcmV0dXJuICExO2lmKCF0aGlzLl9zb3VyY2UubG9hZGVkKCkpcmV0dXJuICExO2Zvcihjb25zdCB0IGluIHRoaXMuX3RpbGVzKXtjb25zdCBlPXRoaXMuX3RpbGVzW3RdO2lmKFwibG9hZGVkXCIhPT1lLnN0YXRlJiZcImVycm9yZWRcIiE9PWUuc3RhdGUpcmV0dXJuICExfXJldHVybiAhMH1nZXRTb3VyY2UoKXtyZXR1cm4gdGhpcy5fc291cmNlfXBhdXNlKCl7dGhpcy5fcGF1c2VkPSEwO31yZXN1bWUoKXtpZighdGhpcy5fcGF1c2VkKXJldHVybjtjb25zdCB0PXRoaXMuX3Nob3VsZFJlbG9hZE9uUmVzdW1lO3RoaXMuX3BhdXNlZD0hMSx0aGlzLl9zaG91bGRSZWxvYWRPblJlc3VtZT0hMSx0JiZ0aGlzLnJlbG9hZCgpLHRoaXMudHJhbnNmb3JtJiZ0aGlzLnVwZGF0ZSh0aGlzLnRyYW5zZm9ybSk7fV9sb2FkVGlsZSh0LGUpe3JldHVybiB0LmlzU3ltYm9sVGlsZT10aGlzLl9vbmx5U3ltYm9scyx0aGlzLl9zb3VyY2UubG9hZFRpbGUodCxlKX1fdW5sb2FkVGlsZSh0KXtpZih0aGlzLl9zb3VyY2UudW5sb2FkVGlsZSlyZXR1cm4gdGhpcy5fc291cmNlLnVubG9hZFRpbGUodCwoKCk9Pnt9KSl9X2Fib3J0VGlsZSh0KXtpZih0aGlzLl9zb3VyY2UuYWJvcnRUaWxlKXJldHVybiB0aGlzLl9zb3VyY2UuYWJvcnRUaWxlKHQsKCgpPT57fSkpfXNlcmlhbGl6ZSgpe3JldHVybiB0aGlzLl9zb3VyY2Uuc2VyaWFsaXplKCl9cHJlcGFyZSh0KXt0aGlzLl9zb3VyY2UucHJlcGFyZSYmdGhpcy5fc291cmNlLnByZXBhcmUoKSx0aGlzLl9zdGF0ZS5jb2FsZXNjZUNoYW5nZXModGhpcy5fdGlsZXMsdGhpcy5tYXA/dGhpcy5tYXAucGFpbnRlcjpudWxsKTtmb3IoY29uc3QgZSBpbiB0aGlzLl90aWxlcyl7Y29uc3Qgcj10aGlzLl90aWxlc1tlXTtyLnVwbG9hZCh0KSxyLnByZXBhcmUodGhpcy5tYXAuc3R5bGUuaW1hZ2VNYW5hZ2VyKTt9fWdldElkcygpe3JldHVybiB6KHRoaXMuX3RpbGVzKS5tYXAoKHQ9PnQudGlsZUlEKSkuc29ydCh1eSkubWFwKCh0PT50LmtleSkpfWdldFJlbmRlcmFibGVJZHModCl7Y29uc3QgZT1bXTtmb3IoY29uc3QgciBpbiB0aGlzLl90aWxlcyl0aGlzLl9pc0lkUmVuZGVyYWJsZSgrcix0KSYmZS5wdXNoKHRoaXMuX3RpbGVzW3JdKTtyZXR1cm4gdD9lLnNvcnQoKCh0LGUpPT57Y29uc3Qgcj10LnRpbGVJRCxuPWUudGlsZUlELGk9bmV3IGQoci5jYW5vbmljYWwueCxyLmNhbm9uaWNhbC55KS5fcm90YXRlKHRoaXMudHJhbnNmb3JtLmFuZ2xlKSxzPW5ldyBkKG4uY2Fub25pY2FsLngsbi5jYW5vbmljYWwueSkuX3JvdGF0ZSh0aGlzLnRyYW5zZm9ybS5hbmdsZSk7cmV0dXJuIHIub3ZlcnNjYWxlZFotbi5vdmVyc2NhbGVkWnx8cy55LWkueXx8cy54LWkueH0pKS5tYXAoKHQ9PnQudGlsZUlELmtleSkpOmUubWFwKCh0PT50LnRpbGVJRCkpLnNvcnQodXkpLm1hcCgodD0+dC5rZXkpKX1oYXNSZW5kZXJhYmxlUGFyZW50KHQpe2NvbnN0IGU9dGhpcy5maW5kTG9hZGVkUGFyZW50KHQsMCk7cmV0dXJuICEhZSYmdGhpcy5faXNJZFJlbmRlcmFibGUoZS50aWxlSUQua2V5KX1faXNJZFJlbmRlcmFibGUodCxlKXtyZXR1cm4gdGhpcy5fdGlsZXNbdF0mJnRoaXMuX3RpbGVzW3RdLmhhc0RhdGEoKSYmIXRoaXMuX2NvdmVyZWRUaWxlc1t0XSYmKGV8fCF0aGlzLl90aWxlc1t0XS5ob2xkaW5nRm9yRmFkZSgpKX1yZWxvYWQoKXtpZih0aGlzLl9wYXVzZWQpdGhpcy5fc2hvdWxkUmVsb2FkT25SZXN1bWU9ITA7ZWxzZSB7dGhpcy5fY2FjaGUucmVzZXQoKTtmb3IoY29uc3QgdCBpbiB0aGlzLl90aWxlcylcImVycm9yZWRcIiE9PXRoaXMuX3RpbGVzW3RdLnN0YXRlJiZ0aGlzLl9yZWxvYWRUaWxlKCt0LFwicmVsb2FkaW5nXCIpO319X3JlbG9hZFRpbGUodCxlKXtjb25zdCByPXRoaXMuX3RpbGVzW3RdO3ImJihcImxvYWRpbmdcIiE9PXIuc3RhdGUmJihyLnN0YXRlPWUpLHRoaXMuX2xvYWRUaWxlKHIsdGhpcy5fdGlsZUxvYWRlZC5iaW5kKHRoaXMscix0LGUpKSk7fV90aWxlTG9hZGVkKHQsZSxyLG4pe2lmKG4paWYodC5zdGF0ZT1cImVycm9yZWRcIiw0MDQhPT1uLnN0YXR1cyl0aGlzLl9zb3VyY2UuZmlyZShuZXcgWHQobix7dGlsZTp0fSkpO2Vsc2UgaWYoXCJyYXN0ZXItZGVtXCI9PT10aGlzLl9zb3VyY2UudHlwZSYmdGhpcy51c2VkRm9yVGVycmFpbiYmdGhpcy5tYXAucGFpbnRlci50ZXJyYWluKXtjb25zdCB0PXRoaXMubWFwLnBhaW50ZXIudGVycmFpbjt0aGlzLnVwZGF0ZSh0aGlzLnRyYW5zZm9ybSx0LmdldFNjYWxlZERlbVRpbGVTaXplKCksITApLHQucmVzZXRUaWxlTG9va3VwQ2FjaGUodGhpcy5pZCk7fWVsc2UgdGhpcy51cGRhdGUodGhpcy50cmFuc2Zvcm0pO2Vsc2UgdC50aW1lQWRkZWQ9cXQubm93KCksXCJleHBpcmVkXCI9PT1yJiYodC5yZWZyZXNoZWRVcG9uRXhwaXJhdGlvbj0hMCksdGhpcy5fc2V0VGlsZVJlbG9hZFRpbWVyKGUsdCksXCJyYXN0ZXItZGVtXCI9PT10aGlzLl9zb3VyY2UudHlwZSYmdC5kZW0mJnRoaXMuX2JhY2tmaWxsREVNKHQpLHRoaXMuX3N0YXRlLmluaXRpYWxpemVUaWxlU3RhdGUodCx0aGlzLm1hcD90aGlzLm1hcC5wYWludGVyOm51bGwpLHRoaXMuX3NvdXJjZS5maXJlKG5ldyBadChcImRhdGFcIix7ZGF0YVR5cGU6XCJzb3VyY2VcIix0aWxlOnQsY29vcmQ6dC50aWxlSUQsc291cmNlQ2FjaGVJZDp0aGlzLmlkfSkpO31fYmFja2ZpbGxERU0odCl7Y29uc3QgZT10aGlzLmdldFJlbmRlcmFibGVJZHMoKTtmb3IobGV0IG49MDtuPGUubGVuZ3RoO24rKyl7Y29uc3QgaT1lW25dO2lmKHQubmVpZ2hib3JpbmdUaWxlcyYmdC5uZWlnaGJvcmluZ1RpbGVzW2ldKXtjb25zdCBlPXRoaXMuZ2V0VGlsZUJ5SUQoaSk7cih0LGUpLHIoZSx0KTt9fWZ1bmN0aW9uIHIodCxlKXtpZighdC5kZW18fHQuZGVtLmJvcmRlclJlYWR5KXJldHVybjt0Lm5lZWRzSGlsbHNoYWRlUHJlcGFyZT0hMCx0Lm5lZWRzREVNVGV4dHVyZVVwbG9hZD0hMDtsZXQgcj1lLnRpbGVJRC5jYW5vbmljYWwueC10LnRpbGVJRC5jYW5vbmljYWwueDtjb25zdCBuPWUudGlsZUlELmNhbm9uaWNhbC55LXQudGlsZUlELmNhbm9uaWNhbC55LGk9TWF0aC5wb3coMix0LnRpbGVJRC5jYW5vbmljYWwueikscz1lLnRpbGVJRC5rZXk7MD09PXImJjA9PT1ufHxNYXRoLmFicyhuKT4xfHwoTWF0aC5hYnMocik+MSYmKDE9PT1NYXRoLmFicyhyK2kpP3IrPWk6MT09PU1hdGguYWJzKHItaSkmJihyLT1pKSksZS5kZW0mJnQuZGVtJiYodC5kZW0uYmFja2ZpbGxCb3JkZXIoZS5kZW0scixuKSx0Lm5laWdoYm9yaW5nVGlsZXMmJnQubmVpZ2hib3JpbmdUaWxlc1tzXSYmKHQubmVpZ2hib3JpbmdUaWxlc1tzXS5iYWNrZmlsbGVkPSEwKSkpO319Z2V0VGlsZSh0KXtyZXR1cm4gdGhpcy5nZXRUaWxlQnlJRCh0LmtleSl9Z2V0VGlsZUJ5SUQodCl7cmV0dXJuIHRoaXMuX3RpbGVzW3RdfV9yZXRhaW5Mb2FkZWRDaGlsZHJlbih0LGUscixuKXtmb3IoY29uc3QgaSBpbiB0aGlzLl90aWxlcyl7bGV0IHM9dGhpcy5fdGlsZXNbaV07aWYobltpXXx8IXMuaGFzRGF0YSgpfHxzLnRpbGVJRC5vdmVyc2NhbGVkWjw9ZXx8cy50aWxlSUQub3ZlcnNjYWxlZFo+ciljb250aW51ZTtsZXQgYT1zLnRpbGVJRDtmb3IoO3MmJnMudGlsZUlELm92ZXJzY2FsZWRaPmUrMTspe2NvbnN0IHQ9cy50aWxlSUQuc2NhbGVkVG8ocy50aWxlSUQub3ZlcnNjYWxlZFotMSk7cz10aGlzLl90aWxlc1t0LmtleV0scyYmcy5oYXNEYXRhKCkmJihhPXQpO31sZXQgbz1hO2Zvcig7by5vdmVyc2NhbGVkWj5lOylpZihvPW8uc2NhbGVkVG8oby5vdmVyc2NhbGVkWi0xKSx0W28ua2V5XSl7blthLmtleV09YTticmVha319fWZpbmRMb2FkZWRQYXJlbnQodCxlKXtpZih0LmtleSBpbiB0aGlzLl9sb2FkZWRQYXJlbnRUaWxlcyl7Y29uc3Qgcj10aGlzLl9sb2FkZWRQYXJlbnRUaWxlc1t0LmtleV07cmV0dXJuIHImJnIudGlsZUlELm92ZXJzY2FsZWRaPj1lP3I6bnVsbH1mb3IobGV0IHI9dC5vdmVyc2NhbGVkWi0xO3I+PWU7ci0tKXtjb25zdCBlPXQuc2NhbGVkVG8ociksbj10aGlzLl9nZXRMb2FkZWRUaWxlKGUpO2lmKG4pcmV0dXJuIG59fV9nZXRMb2FkZWRUaWxlKHQpe2NvbnN0IGU9dGhpcy5fdGlsZXNbdC5rZXldO3JldHVybiBlJiZlLmhhc0RhdGEoKT9lOnRoaXMuX2NhY2hlLmdldEJ5S2V5KHRoaXMuX3NvdXJjZS5yZXBhcnNlT3ZlcnNjYWxlZD90LndyYXBwZWQoKS5rZXk6dC5jYW5vbmljYWwua2V5KX11cGRhdGVDYWNoZVNpemUodCxlKXtlPWV8fHRoaXMuX3NvdXJjZS50aWxlU2l6ZTtjb25zdCByPU1hdGguY2VpbCh0LndpZHRoL2UpKzEsbj1NYXRoLmNlaWwodC5oZWlnaHQvZSkrMSxpPU1hdGguZmxvb3IocipuKjUpLHM9XCJudW1iZXJcIj09dHlwZW9mIHRoaXMuX21pblRpbGVDYWNoZVNpemU/TWF0aC5tYXgodGhpcy5fbWluVGlsZUNhY2hlU2l6ZSxpKTppLGE9XCJudW1iZXJcIj09dHlwZW9mIHRoaXMuX21heFRpbGVDYWNoZVNpemU/TWF0aC5taW4odGhpcy5fbWF4VGlsZUNhY2hlU2l6ZSxzKTpzO3RoaXMuX2NhY2hlLnNldE1heFNpemUoYSk7fWhhbmRsZVdyYXBKdW1wKHQpe2NvbnN0IGU9TWF0aC5yb3VuZCgodC0odm9pZCAwPT09dGhpcy5fcHJldkxuZz90OnRoaXMuX3ByZXZMbmcpKS8zNjApO2lmKHRoaXMuX3ByZXZMbmc9dCxlKXtjb25zdCB0PXt9O2Zvcihjb25zdCByIGluIHRoaXMuX3RpbGVzKXtjb25zdCBuPXRoaXMuX3RpbGVzW3JdO24udGlsZUlEPW4udGlsZUlELnVud3JhcFRvKG4udGlsZUlELndyYXArZSksdFtuLnRpbGVJRC5rZXldPW47fXRoaXMuX3RpbGVzPXQ7Zm9yKGNvbnN0IHQgaW4gdGhpcy5fdGltZXJzKWNsZWFyVGltZW91dCh0aGlzLl90aW1lcnNbdF0pLGRlbGV0ZSB0aGlzLl90aW1lcnNbdF07Zm9yKGNvbnN0IHQgaW4gdGhpcy5fdGlsZXMpdGhpcy5fc2V0VGlsZVJlbG9hZFRpbWVyKCt0LHRoaXMuX3RpbGVzW3RdKTt9fXVwZGF0ZSh0LGUscil7aWYodGhpcy50cmFuc2Zvcm09dCwhdGhpcy5fc291cmNlTG9hZGVkfHx0aGlzLl9wYXVzZWR8fHRoaXMudHJhbnNmb3JtLmZyZWV6ZVRpbGVDb3ZlcmFnZSlyZXR1cm47aWYodGhpcy51c2VkRm9yVGVycmFpbiYmIXIpcmV0dXJuO2xldCBuO3RoaXMudXBkYXRlQ2FjaGVTaXplKHQsZSksXCJnbG9iZVwiIT09dGhpcy50cmFuc2Zvcm0ucHJvamVjdGlvbi5uYW1lJiZ0aGlzLmhhbmRsZVdyYXBKdW1wKHRoaXMudHJhbnNmb3JtLmNlbnRlci5sbmcpLHRoaXMuX2NvdmVyZWRUaWxlcz17fSx0aGlzLnVzZWR8fHRoaXMudXNlZEZvclRlcnJhaW4/dGhpcy5fc291cmNlLnRpbGVJRD9uPXQuZ2V0VmlzaWJsZVVud3JhcHBlZENvb3JkaW5hdGVzKHRoaXMuX3NvdXJjZS50aWxlSUQpLm1hcCgodD0+bmV3IFdjKHQuY2Fub25pY2FsLnosdC53cmFwLHQuY2Fub25pY2FsLnosdC5jYW5vbmljYWwueCx0LmNhbm9uaWNhbC55KSkpOihuPXQuY292ZXJpbmdUaWxlcyh7dGlsZVNpemU6ZXx8dGhpcy5fc291cmNlLnRpbGVTaXplLG1pbnpvb206dGhpcy5fc291cmNlLm1pbnpvb20sbWF4em9vbTp0aGlzLl9zb3VyY2UubWF4em9vbSxyb3VuZFpvb206dGhpcy5fc291cmNlLnJvdW5kWm9vbSYmIXIscmVwYXJzZU92ZXJzY2FsZWQ6dGhpcy5fc291cmNlLnJlcGFyc2VPdmVyc2NhbGVkLGlzVGVycmFpbkRFTTp0aGlzLnVzZWRGb3JUZXJyYWlufSksdGhpcy5fc291cmNlLmhhc1RpbGUmJihuPW4uZmlsdGVyKCh0PT50aGlzLl9zb3VyY2UuaGFzVGlsZSh0KSkpKSk6bj1bXTtjb25zdCBpPXRoaXMuX3VwZGF0ZVJldGFpbmVkVGlsZXMobik7aWYoY3kodGhpcy5fc291cmNlLnR5cGUpJiYwIT09bi5sZW5ndGgpe2NvbnN0IHQ9e30sZT17fSxyPU9iamVjdC5rZXlzKGkpO2Zvcihjb25zdCBuIG9mIHIpe2NvbnN0IHI9aVtuXSxzPXRoaXMuX3RpbGVzW25dO2lmKCFzfHxzLmZhZGVFbmRUaW1lJiZzLmZhZGVFbmRUaW1lPD1xdC5ub3coKSljb250aW51ZTtjb25zdCBhPXRoaXMuZmluZExvYWRlZFBhcmVudChyLE1hdGgubWF4KHIub3ZlcnNjYWxlZFotbHkubWF4T3Zlcnpvb21pbmcsdGhpcy5fc291cmNlLm1pbnpvb20pKTthJiYodGhpcy5fYWRkVGlsZShhLnRpbGVJRCksdFthLnRpbGVJRC5rZXldPWEudGlsZUlEKSxlW25dPXI7fWNvbnN0IHM9bltuLmxlbmd0aC0xXS5vdmVyc2NhbGVkWjtmb3IoY29uc3QgdCBpbiB0aGlzLl90aWxlcyl7Y29uc3Qgcj10aGlzLl90aWxlc1t0XTtpZihpW3RdfHwhci5oYXNEYXRhKCkpY29udGludWU7bGV0IG49ci50aWxlSUQ7Zm9yKDtuLm92ZXJzY2FsZWRaPnM7KXtuPW4uc2NhbGVkVG8obi5vdmVyc2NhbGVkWi0xKTtjb25zdCBzPXRoaXMuX3RpbGVzW24ua2V5XTtpZihzJiZzLmhhc0RhdGEoKSYmZVtuLmtleV0pe2lbdF09ci50aWxlSUQ7YnJlYWt9fX1mb3IoY29uc3QgZSBpbiB0KWlbZV18fCh0aGlzLl9jb3ZlcmVkVGlsZXNbZV09ITAsaVtlXT10W2VdKTt9Zm9yKGNvbnN0IHQgaW4gaSl0aGlzLl90aWxlc1t0XS5jbGVhckZhZGVIb2xkKCk7Y29uc3Qgcz1mdW5jdGlvbih0LGUpe2NvbnN0IHI9W107Zm9yKGNvbnN0IG4gaW4gdCluIGluIGV8fHIucHVzaChuKTtyZXR1cm4gcn0odGhpcy5fdGlsZXMsaSk7Zm9yKGNvbnN0IHQgb2Ygcyl7Y29uc3QgZT10aGlzLl90aWxlc1t0XTtlLmhhc1N5bWJvbEJ1Y2tldHMmJiFlLmhvbGRpbmdGb3JGYWRlKCk/ZS5zZXRIb2xkRHVyYXRpb24odGhpcy5tYXAuX2ZhZGVEdXJhdGlvbik6ZS5oYXNTeW1ib2xCdWNrZXRzJiYhZS5zeW1ib2xGYWRlRmluaXNoZWQoKXx8dGhpcy5fcmVtb3ZlVGlsZSgrdCk7fXRoaXMuX3VwZGF0ZUxvYWRlZFBhcmVudFRpbGVDYWNoZSgpLHRoaXMuX29ubHlTeW1ib2xzJiZ0aGlzLl9zb3VyY2UuYWZ0ZXJVcGRhdGUmJnRoaXMuX3NvdXJjZS5hZnRlclVwZGF0ZSgpO31yZWxlYXNlU3ltYm9sRmFkZVRpbGVzKCl7Zm9yKGNvbnN0IHQgaW4gdGhpcy5fdGlsZXMpdGhpcy5fdGlsZXNbdF0uaG9sZGluZ0ZvckZhZGUoKSYmdGhpcy5fcmVtb3ZlVGlsZSgrdCk7fV91cGRhdGVSZXRhaW5lZFRpbGVzKHQpe2NvbnN0IGU9e307aWYoMD09PXQubGVuZ3RoKXJldHVybiBlO2NvbnN0IHI9e30sbj10LnJlZHVjZSgoKHQsZSk9Pk1hdGgubWluKHQsZS5vdmVyc2NhbGVkWikpLDEvMCksaT10WzBdLm92ZXJzY2FsZWRaLHM9TWF0aC5tYXgoaS1seS5tYXhPdmVyem9vbWluZyx0aGlzLl9zb3VyY2UubWluem9vbSksYT1NYXRoLm1heChpK2x5Lm1heFVuZGVyem9vbWluZyx0aGlzLl9zb3VyY2UubWluem9vbSksbz17fTtmb3IoY29uc3QgciBvZiB0KXtjb25zdCB0PXRoaXMuX2FkZFRpbGUocik7ZVtyLmtleV09cix0Lmhhc0RhdGEoKXx8bjx0aGlzLl9zb3VyY2UubWF4em9vbSYmKG9bci5rZXldPXIpO310aGlzLl9yZXRhaW5Mb2FkZWRDaGlsZHJlbihvLG4sYSxlKTtmb3IoY29uc3QgbiBvZiB0KXtsZXQgdD10aGlzLl90aWxlc1tuLmtleV07aWYodC5oYXNEYXRhKCkpY29udGludWU7aWYobi5jYW5vbmljYWwuej49dGhpcy5fc291cmNlLm1heHpvb20pe2NvbnN0IHQ9bi5jaGlsZHJlbih0aGlzLl9zb3VyY2UubWF4em9vbSlbMF0scj10aGlzLmdldFRpbGUodCk7aWYociYmci5oYXNEYXRhKCkpe2VbdC5rZXldPXQ7Y29udGludWV9fWVsc2Uge2NvbnN0IHQ9bi5jaGlsZHJlbih0aGlzLl9zb3VyY2UubWF4em9vbSk7aWYoZVt0WzBdLmtleV0mJmVbdFsxXS5rZXldJiZlW3RbMl0ua2V5XSYmZVt0WzNdLmtleV0pY29udGludWV9bGV0IGk9dC53YXNSZXF1ZXN0ZWQoKTtmb3IobGV0IGE9bi5vdmVyc2NhbGVkWi0xO2E+PXM7LS1hKXtjb25zdCBzPW4uc2NhbGVkVG8oYSk7aWYocltzLmtleV0pYnJlYWs7aWYocltzLmtleV09ITAsdD10aGlzLmdldFRpbGUocyksIXQmJmkmJih0PXRoaXMuX2FkZFRpbGUocykpLHQmJihlW3Mua2V5XT1zLGk9dC53YXNSZXF1ZXN0ZWQoKSx0Lmhhc0RhdGEoKSkpYnJlYWt9fXJldHVybiBlfV91cGRhdGVMb2FkZWRQYXJlbnRUaWxlQ2FjaGUoKXt0aGlzLl9sb2FkZWRQYXJlbnRUaWxlcz17fTtmb3IoY29uc3QgdCBpbiB0aGlzLl90aWxlcyl7Y29uc3QgZT1bXTtsZXQgcixuPXRoaXMuX3RpbGVzW3RdLnRpbGVJRDtmb3IoO24ub3ZlcnNjYWxlZFo+MDspe2lmKG4ua2V5IGluIHRoaXMuX2xvYWRlZFBhcmVudFRpbGVzKXtyPXRoaXMuX2xvYWRlZFBhcmVudFRpbGVzW24ua2V5XTticmVha31lLnB1c2gobi5rZXkpO2NvbnN0IHQ9bi5zY2FsZWRUbyhuLm92ZXJzY2FsZWRaLTEpO2lmKHI9dGhpcy5fZ2V0TG9hZGVkVGlsZSh0KSxyKWJyZWFrO249dDt9Zm9yKGNvbnN0IHQgb2YgZSl0aGlzLl9sb2FkZWRQYXJlbnRUaWxlc1t0XT1yO319X2FkZFRpbGUodCl7bGV0IGU9dGhpcy5fdGlsZXNbdC5rZXldO2lmKGUpcmV0dXJuIGU7ZT10aGlzLl9jYWNoZS5nZXRBbmRSZW1vdmUodCksZSYmKHRoaXMuX3NldFRpbGVSZWxvYWRUaW1lcih0LmtleSxlKSxlLnRpbGVJRD10LHRoaXMuX3N0YXRlLmluaXRpYWxpemVUaWxlU3RhdGUoZSx0aGlzLm1hcD90aGlzLm1hcC5wYWludGVyOm51bGwpLHRoaXMuX2NhY2hlVGltZXJzW3Qua2V5XSYmKGNsZWFyVGltZW91dCh0aGlzLl9jYWNoZVRpbWVyc1t0LmtleV0pLGRlbGV0ZSB0aGlzLl9jYWNoZVRpbWVyc1t0LmtleV0sdGhpcy5fc2V0VGlsZVJlbG9hZFRpbWVyKHQua2V5LGUpKSk7Y29uc3Qgcj1Cb29sZWFuKGUpO2lmKCFyKXtjb25zdCByPXRoaXMubWFwP3RoaXMubWFwLnBhaW50ZXI6bnVsbDtlPW5ldyBPZCh0LHRoaXMuX3NvdXJjZS50aWxlU2l6ZSp0Lm92ZXJzY2FsZUZhY3RvcigpLHRoaXMudHJhbnNmb3JtLnRpbGVab29tLHIsdGhpcy5faXNSYXN0ZXIpLHRoaXMuX2xvYWRUaWxlKGUsdGhpcy5fdGlsZUxvYWRlZC5iaW5kKHRoaXMsZSx0LmtleSxlLnN0YXRlKSk7fXJldHVybiBlPyhlLnVzZXMrKyx0aGlzLl90aWxlc1t0LmtleV09ZSxyfHx0aGlzLl9zb3VyY2UuZmlyZShuZXcgWnQoXCJkYXRhbG9hZGluZ1wiLHt0aWxlOmUsY29vcmQ6ZS50aWxlSUQsZGF0YVR5cGU6XCJzb3VyY2VcIn0pKSxlKTpudWxsfV9zZXRUaWxlUmVsb2FkVGltZXIodCxlKXt0IGluIHRoaXMuX3RpbWVycyYmKGNsZWFyVGltZW91dCh0aGlzLl90aW1lcnNbdF0pLGRlbGV0ZSB0aGlzLl90aW1lcnNbdF0pO2NvbnN0IHI9ZS5nZXRFeHBpcnlUaW1lb3V0KCk7ciYmKHRoaXMuX3RpbWVyc1t0XT1zZXRUaW1lb3V0KCgoKT0+e3RoaXMuX3JlbG9hZFRpbGUodCxcImV4cGlyZWRcIiksZGVsZXRlIHRoaXMuX3RpbWVyc1t0XTt9KSxyKSk7fV9yZW1vdmVUaWxlKHQpe2NvbnN0IGU9dGhpcy5fdGlsZXNbdF07ZSYmKGUudXNlcy0tLGRlbGV0ZSB0aGlzLl90aWxlc1t0XSx0aGlzLl90aW1lcnNbdF0mJihjbGVhclRpbWVvdXQodGhpcy5fdGltZXJzW3RdKSxkZWxldGUgdGhpcy5fdGltZXJzW3RdKSxlLnVzZXM+MHx8KGUuaGFzRGF0YSgpJiZcInJlbG9hZGluZ1wiIT09ZS5zdGF0ZT90aGlzLl9jYWNoZS5hZGQoZS50aWxlSUQsZSxlLmdldEV4cGlyeVRpbWVvdXQoKSk6KGUuYWJvcnRlZD0hMCx0aGlzLl9hYm9ydFRpbGUoZSksdGhpcy5fdW5sb2FkVGlsZShlKSkpKTt9Y2xlYXJUaWxlcygpe3RoaXMuX3Nob3VsZFJlbG9hZE9uUmVzdW1lPSExLHRoaXMuX3BhdXNlZD0hMTtmb3IoY29uc3QgdCBpbiB0aGlzLl90aWxlcyl0aGlzLl9yZW1vdmVUaWxlKCt0KTt0aGlzLl9zb3VyY2UuX2NsZWFyJiZ0aGlzLl9zb3VyY2UuX2NsZWFyKCksdGhpcy5fY2FjaGUucmVzZXQoKSx0aGlzLm1hcCYmdGhpcy51c2VkRm9yVGVycmFpbiYmdGhpcy5tYXAucGFpbnRlci50ZXJyYWluJiZ0aGlzLm1hcC5wYWludGVyLnRlcnJhaW4ucmVzZXRUaWxlTG9va3VwQ2FjaGUodGhpcy5pZCk7fXRpbGVzSW4odCxlLHIpe2NvbnN0IG49W10saT10aGlzLnRyYW5zZm9ybTtpZighaSlyZXR1cm4gbjtjb25zdCBzPVwiZ2xvYmVcIj09PWkucHJvamVjdGlvbi5uYW1lLGE9Rm8oaS5jZW50ZXIubG5nKTtmb3IoY29uc3QgbyBpbiB0aGlzLl90aWxlcyl7Y29uc3QgbD10aGlzLl90aWxlc1tvXTtpZihyJiZsLmNsZWFyUXVlcnlEZWJ1Z1ZpeigpLGwuaG9sZGluZ0ZvckZhZGUoKSljb250aW51ZTtsZXQgdTtpZihzKXtjb25zdCB0PWwudGlsZUlELmNhbm9uaWNhbDtpZigwPT09dC56KXtjb25zdCBlPVtNYXRoLmFicyhTKGEsLi4uaHkodCwtMSkpLWEpLE1hdGguYWJzKFMoYSwuLi5oeSh0LDEpKS1hKV07dT1bMCwyKmUuaW5kZXhPZihNYXRoLm1pbiguLi5lKSktMV07fWVsc2Uge2NvbnN0IGU9W01hdGguYWJzKFMoYSwuLi5oeSh0LC0xKSktYSksTWF0aC5hYnMoUyhhLC4uLmh5KHQsMCkpLWEpLE1hdGguYWJzKFMoYSwuLi5oeSh0LDEpKS1hKV07dT1bZS5pbmRleE9mKE1hdGgubWluKC4uLmUpKS0xXTt9fWVsc2UgdT1bMF07Zm9yKGNvbnN0IHIgb2YgdSl7Y29uc3Qgcz10LmNvbnRhaW5zVGlsZShsLGksZSxyKTtzJiZuLnB1c2gocyk7fX1yZXR1cm4gbn1nZXRWaXNpYmxlQ29vcmRpbmF0ZXModCl7Y29uc3QgZT10aGlzLmdldFJlbmRlcmFibGVJZHModCkubWFwKCh0PT50aGlzLl90aWxlc1t0XS50aWxlSUQpKTtmb3IoY29uc3QgdCBvZiBlKXQucHJvak1hdHJpeD10aGlzLnRyYW5zZm9ybS5jYWxjdWxhdGVQcm9qTWF0cml4KHQudG9VbndyYXBwZWQoKSk7cmV0dXJuIGV9aGFzVHJhbnNpdGlvbigpe2lmKHRoaXMuX3NvdXJjZS5oYXNUcmFuc2l0aW9uKCkpcmV0dXJuICEwO2lmKGN5KHRoaXMuX3NvdXJjZS50eXBlKSlmb3IoY29uc3QgdCBpbiB0aGlzLl90aWxlcyl7Y29uc3QgZT10aGlzLl90aWxlc1t0XTtpZih2b2lkIDAhPT1lLmZhZGVFbmRUaW1lJiZlLmZhZGVFbmRUaW1lPj1xdC5ub3coKSlyZXR1cm4gITB9cmV0dXJuICExfXNldEZlYXR1cmVTdGF0ZSh0LGUscil7dGhpcy5fc3RhdGUudXBkYXRlU3RhdGUodD10fHxcIl9nZW9qc29uVGlsZUxheWVyXCIsZSxyKTt9cmVtb3ZlRmVhdHVyZVN0YXRlKHQsZSxyKXt0aGlzLl9zdGF0ZS5yZW1vdmVGZWF0dXJlU3RhdGUodD10fHxcIl9nZW9qc29uVGlsZUxheWVyXCIsZSxyKTt9Z2V0RmVhdHVyZVN0YXRlKHQsZSl7cmV0dXJuIHRoaXMuX3N0YXRlLmdldFN0YXRlKHQ9dHx8XCJfZ2VvanNvblRpbGVMYXllclwiLGUpfXNldERlcGVuZGVuY2llcyh0LGUscil7Y29uc3Qgbj10aGlzLl90aWxlc1t0XTtuJiZuLnNldERlcGVuZGVuY2llcyhlLHIpO31yZWxvYWRUaWxlc0ZvckRlcGVuZGVuY2llcyh0LGUpe2Zvcihjb25zdCByIGluIHRoaXMuX3RpbGVzKXRoaXMuX3RpbGVzW3JdLmhhc0RlcGVuZGVuY3kodCxlKSYmdGhpcy5fcmVsb2FkVGlsZSgrcixcInJlbG9hZGluZ1wiKTt0aGlzLl9jYWNoZS5maWx0ZXIoKHI9PiFyLmhhc0RlcGVuZGVuY3kodCxlKSkpO31fcHJlbG9hZFRpbGVzKHQsZSl7Y29uc3Qgcj1uZXcgTWFwLG49QXJyYXkuaXNBcnJheSh0KT90Olt0XSxpPXRoaXMubWFwLnBhaW50ZXIudGVycmFpbixzPXRoaXMudXNlZEZvclRlcnJhaW4mJmk/aS5nZXRTY2FsZWREZW1UaWxlU2l6ZSgpOnRoaXMuX3NvdXJjZS50aWxlU2l6ZTtmb3IoY29uc3QgdCBvZiBuKXtjb25zdCBlPXQuY292ZXJpbmdUaWxlcyh7dGlsZVNpemU6cyxtaW56b29tOnRoaXMuX3NvdXJjZS5taW56b29tLG1heHpvb206dGhpcy5fc291cmNlLm1heHpvb20scm91bmRab29tOnRoaXMuX3NvdXJjZS5yb3VuZFpvb20mJiF0aGlzLnVzZWRGb3JUZXJyYWluLHJlcGFyc2VPdmVyc2NhbGVkOnRoaXMuX3NvdXJjZS5yZXBhcnNlT3ZlcnNjYWxlZCxpc1RlcnJhaW5ERU06dGhpcy51c2VkRm9yVGVycmFpbn0pO2Zvcihjb25zdCB0IG9mIGUpci5zZXQodC5rZXksdCk7dGhpcy51c2VkRm9yVGVycmFpbiYmdC51cGRhdGVFbGV2YXRpb24oITEpO31NKEFycmF5LmZyb20oci52YWx1ZXMoKSksKCh0LGUpPT57Y29uc3Qgcj1uZXcgT2QodCx0aGlzLl9zb3VyY2UudGlsZVNpemUqdC5vdmVyc2NhbGVGYWN0b3IoKSx0aGlzLnRyYW5zZm9ybS50aWxlWm9vbSx0aGlzLm1hcC5wYWludGVyLHRoaXMuX2lzUmFzdGVyKTt0aGlzLl9sb2FkVGlsZShyLCh0PT57XCJyYXN0ZXItZGVtXCI9PT10aGlzLl9zb3VyY2UudHlwZSYmci5kZW0mJnRoaXMuX2JhY2tmaWxsREVNKHIpLGUodCxyKTt9KSk7fSksZSk7fX1mdW5jdGlvbiB1eSh0LGUpe2NvbnN0IHI9TWF0aC5hYnMoMip0LndyYXApLSsodC53cmFwPDApLG49TWF0aC5hYnMoMiplLndyYXApLSsoZS53cmFwPDApO3JldHVybiB0Lm92ZXJzY2FsZWRaLWUub3ZlcnNjYWxlZFp8fG4tcnx8ZS5jYW5vbmljYWwueS10LmNhbm9uaWNhbC55fHxlLmNhbm9uaWNhbC54LXQuY2Fub25pY2FsLnh9ZnVuY3Rpb24gY3kodCl7cmV0dXJuIFwicmFzdGVyXCI9PT10fHxcImltYWdlXCI9PT10fHxcInZpZGVvXCI9PT10fHxcImN1c3RvbVwiPT09dH1mdW5jdGlvbiBoeSh0LGUpe2NvbnN0IHI9MTw8dC56O3JldHVybiBbdC54L3IrZSwodC54KzEpL3IrZV19bHkubWF4T3Zlcnpvb21pbmc9MTAsbHkubWF4VW5kZXJ6b29taW5nPTM7Y2xhc3MgcHl7Y29uc3RydWN0b3IodCxlLHIpe3RoaXMuX2RlbVRpbGU9dCx0aGlzLl9kZW09dGhpcy5fZGVtVGlsZS5kZW0sdGhpcy5fc2NhbGU9ZSx0aGlzLl9vZmZzZXQ9cjt9c3RhdGljIGNyZWF0ZSh0LGUscil7Y29uc3Qgbj1yfHx0LmZpbmRERU1UaWxlRm9yKGUpO2lmKCFufHwhbi5kZW0pcmV0dXJuO2NvbnN0IGk9bi5kZW0scz1uLnRpbGVJRCxhPTE8PGUuY2Fub25pY2FsLnotcy5jYW5vbmljYWwuejtyZXR1cm4gbmV3IHB5KG4sbi50aWxlU2l6ZS9Cby9hLFsoZS5jYW5vbmljYWwueC9hLXMuY2Fub25pY2FsLngpKmkuZGltLChlLmNhbm9uaWNhbC55L2Etcy5jYW5vbmljYWwueSkqaS5kaW1dKX10aWxlQ29vcmRUb1BpeGVsKHQsZSl7Y29uc3Qgcj1lKnRoaXMuX3NjYWxlK3RoaXMuX29mZnNldFsxXSxuPU1hdGguZmxvb3IodCp0aGlzLl9zY2FsZSt0aGlzLl9vZmZzZXRbMF0pLGk9TWF0aC5mbG9vcihyKTtyZXR1cm4gbmV3IGQobixpKX1nZXRFbGV2YXRpb25BdCh0LGUscixuKXtjb25zdCBpPXQqdGhpcy5fc2NhbGUrdGhpcy5fb2Zmc2V0WzBdLHM9ZSp0aGlzLl9zY2FsZSt0aGlzLl9vZmZzZXRbMV0sYT1NYXRoLmZsb29yKGkpLG89TWF0aC5mbG9vcihzKSxsPXRoaXMuX2RlbTtyZXR1cm4gbj0hIW4scj9JcihJcihsLmdldChhLG8sbiksbC5nZXQoYSxvKzEsbikscy1vKSxJcihsLmdldChhKzEsbyxuKSxsLmdldChhKzEsbysxLG4pLHMtbyksaS1hKTpsLmdldChhLG8sbil9Z2V0RWxldmF0aW9uQXRQaXhlbCh0LGUscil7cmV0dXJuIHRoaXMuX2RlbS5nZXQodCxlLCEhcil9Z2V0TWV0ZXJUb0RFTSh0KXtyZXR1cm4gKDE8PHRoaXMuX2RlbVRpbGUudGlsZUlELmNhbm9uaWNhbC56KSpSbygxLHQpKnRoaXMuX2RlbS5zdHJpZGV9fWNsYXNzIGZ5e2NvbnN0cnVjdG9yKHQsZSl7dGhpcy50aWxlSUQ9dCx0aGlzLng9dC5jYW5vbmljYWwueCx0aGlzLnk9dC5jYW5vbmljYWwueSx0aGlzLno9dC5jYW5vbmljYWwueix0aGlzLmdyaWQ9bmV3IExpKEJvLDE2LDApLHRoaXMuZmVhdHVyZUluZGV4QXJyYXk9bmV3IE9hLHRoaXMucHJvbW90ZUlkPWU7fWluc2VydCh0LGUscixuLGkscz0wKXtjb25zdCBhPXRoaXMuZmVhdHVyZUluZGV4QXJyYXkubGVuZ3RoO3RoaXMuZmVhdHVyZUluZGV4QXJyYXkuZW1wbGFjZUJhY2socixuLGkscyk7Y29uc3Qgbz10aGlzLmdyaWQ7Zm9yKGxldCB0PTA7dDxlLmxlbmd0aDt0Kyspe2NvbnN0IHI9ZVt0XSxuPVsxLzAsMS8wLC0xLzAsLTEvMF07Zm9yKGxldCB0PTA7dDxyLmxlbmd0aDt0Kyspe2NvbnN0IGU9clt0XTtuWzBdPU1hdGgubWluKG5bMF0sZS54KSxuWzFdPU1hdGgubWluKG5bMV0sZS55KSxuWzJdPU1hdGgubWF4KG5bMl0sZS54KSxuWzNdPU1hdGgubWF4KG5bM10sZS55KTt9blswXTxCbyYmblsxXTxCbyYmblsyXT49MCYmblszXT49MCYmby5pbnNlcnQoYSxuWzBdLG5bMV0sblsyXSxuWzNdKTt9fWxvYWRWVExheWVycygpe2lmKCF0aGlzLnZ0TGF5ZXJzKXt0aGlzLnZ0TGF5ZXJzPW5ldyBUYyhuZXcgRWgodGhpcy5yYXdUaWxlRGF0YSkpLmxheWVycyx0aGlzLnNvdXJjZUxheWVyQ29kZXI9bmV3IEJkKHRoaXMudnRMYXllcnM/T2JqZWN0LmtleXModGhpcy52dExheWVycykuc29ydCgpOltcIl9nZW9qc29uVGlsZUxheWVyXCJdKSx0aGlzLnZ0RmVhdHVyZXM9e307Zm9yKGNvbnN0IHQgaW4gdGhpcy52dExheWVycyl0aGlzLnZ0RmVhdHVyZXNbdF09W107fXJldHVybiB0aGlzLnZ0TGF5ZXJzfXF1ZXJ5KHQsZSxyLG4pe3RoaXMubG9hZFZUTGF5ZXJzKCk7Y29uc3QgaT10LnBhcmFtc3x8e30scz1zaShpLmZpbHRlciksYT10LnRpbGVSZXN1bHQsbz10LnRyYW5zZm9ybSxsPWEuYnVmZmVyZWRUaWxlc3BhY2VCb3VuZHMsdT10aGlzLmdyaWQucXVlcnkobC5taW4ueCxsLm1pbi55LGwubWF4LngsbC5tYXgueSwoKHQsZSxyLG4pPT5mbChhLmJ1ZmZlcmVkVGlsZXNwYWNlR2VvbWV0cnksdCxlLHIsbikpKTt1LnNvcnQoeXkpO2xldCBjPW51bGw7by5lbGV2YXRpb24mJnUubGVuZ3RoPjAmJihjPXB5LmNyZWF0ZShvLmVsZXZhdGlvbix0aGlzLnRpbGVJRCkpO2NvbnN0IGg9e307bGV0IHA7Zm9yKGxldCBvPTA7bzx1Lmxlbmd0aDtvKyspe2NvbnN0IGw9dVtvXTtpZihsPT09cCljb250aW51ZTtwPWw7Y29uc3QgZj10aGlzLmZlYXR1cmVJbmRleEFycmF5LmdldChsKTtsZXQgZD1udWxsO3RoaXMubG9hZE1hdGNoaW5nRmVhdHVyZShoLGYscyxpLmxheWVycyxpLmF2YWlsYWJsZUltYWdlcyxlLHIsbiwoKGUscixuLGk9MCk9PihkfHwoZD1KbyhlLHRoaXMudGlsZUlELmNhbm9uaWNhbCx0LnRpbGVUcmFuc2Zvcm0pKSxyLnF1ZXJ5SW50ZXJzZWN0c0ZlYXR1cmUoYSxlLG4sZCx0aGlzLnosdC50cmFuc2Zvcm0sdC5waXhlbFBvc01hdHJpeCxjLGkpKSkpO31yZXR1cm4gaH1sb2FkTWF0Y2hpbmdGZWF0dXJlKHQsZSxyLG4saSxzLGEsbyxsKXtjb25zdHtmZWF0dXJlSW5kZXg6dSxidWNrZXRJbmRleDpjLHNvdXJjZUxheWVySW5kZXg6aCxsYXlvdXRWZXJ0ZXhBcnJheU9mZnNldDpwfT1lLGY9dGhpcy5idWNrZXRMYXllcklEc1tjXTtpZihuJiYhZnVuY3Rpb24odCxlKXtmb3IobGV0IHI9MDtyPHQubGVuZ3RoO3IrKylpZihlLmluZGV4T2YodFtyXSk+PTApcmV0dXJuICEwO3JldHVybiAhMX0obixmKSlyZXR1cm47Y29uc3QgZD10aGlzLnNvdXJjZUxheWVyQ29kZXIuZGVjb2RlKGgpLHk9dGhpcy52dExheWVyc1tkXS5mZWF0dXJlKHUpO2lmKHIubmVlZEdlb21ldHJ5KXtjb25zdCB0PVFvKHksITApO2lmKCFyLmZpbHRlcihuZXcgVXModGhpcy50aWxlSUQub3ZlcnNjYWxlZFopLHQsdGhpcy50aWxlSUQuY2Fub25pY2FsKSlyZXR1cm59ZWxzZSBpZighci5maWx0ZXIobmV3IFVzKHRoaXMudGlsZUlELm92ZXJzY2FsZWRaKSx5KSlyZXR1cm47Y29uc3QgbT10aGlzLmdldElkKHksZCk7Zm9yKGxldCBlPTA7ZTxmLmxlbmd0aDtlKyspe2NvbnN0IHI9ZltlXTtpZihuJiZuLmluZGV4T2Yocik8MCljb250aW51ZTtjb25zdCBjPXNbcl07aWYoIWMpY29udGludWU7bGV0IGg9e307dm9pZCAwIT09bSYmbyYmKGg9by5nZXRTdGF0ZShjLnNvdXJjZUxheWVyfHxcIl9nZW9qc29uVGlsZUxheWVyXCIsbSkpO2NvbnN0IGQ9VCh7fSxhW3JdKTtkLnBhaW50PWR5KGQucGFpbnQsYy5wYWludCx5LGgsaSksZC5sYXlvdXQ9ZHkoZC5sYXlvdXQsYy5sYXlvdXQseSxoLGkpO2NvbnN0IGc9IWx8fGwoeSxjLGgscCk7aWYoIWcpY29udGludWU7Y29uc3QgeD1uZXcgUGQoeSx0aGlzLnosdGhpcy54LHRoaXMueSxtKTt4LmxheWVyPWQ7bGV0IHY9dFtyXTt2b2lkIDA9PT12JiYodj10W3JdPVtdKSx2LnB1c2goe2ZlYXR1cmVJbmRleDp1LGZlYXR1cmU6eCxpbnRlcnNlY3Rpb25aOmd9KTt9fWxvb2t1cFN5bWJvbEZlYXR1cmVzKHQsZSxyLG4saSxzLGEsbyl7Y29uc3QgbD17fTt0aGlzLmxvYWRWVExheWVycygpO2NvbnN0IHU9c2koaSk7Zm9yKGNvbnN0IGkgb2YgdCl0aGlzLmxvYWRNYXRjaGluZ0ZlYXR1cmUobCx7YnVja2V0SW5kZXg6cixzb3VyY2VMYXllckluZGV4Om4sZmVhdHVyZUluZGV4OmksbGF5b3V0VmVydGV4QXJyYXlPZmZzZXQ6MH0sdSxzLGEsbyxlKTtyZXR1cm4gbH1sb2FkRmVhdHVyZSh0KXtjb25zdHtmZWF0dXJlSW5kZXg6ZSxzb3VyY2VMYXllckluZGV4OnJ9PXQ7dGhpcy5sb2FkVlRMYXllcnMoKTtjb25zdCBuPXRoaXMuc291cmNlTGF5ZXJDb2Rlci5kZWNvZGUociksaT10aGlzLnZ0RmVhdHVyZXNbbl07aWYoaVtlXSlyZXR1cm4gaVtlXTtjb25zdCBzPXRoaXMudnRMYXllcnNbbl0uZmVhdHVyZShlKTtyZXR1cm4gaVtlXT1zLHN9aGFzTGF5ZXIodCl7Zm9yKGNvbnN0IGUgb2YgdGhpcy5idWNrZXRMYXllcklEcylmb3IoY29uc3QgciBvZiBlKWlmKHQ9PT1yKXJldHVybiAhMDtyZXR1cm4gITF9Z2V0SWQodCxlKXtsZXQgcj10LmlkO2lmKHRoaXMucHJvbW90ZUlkKXtjb25zdCBuPVwic3RyaW5nXCI9PXR5cGVvZiB0aGlzLnByb21vdGVJZD90aGlzLnByb21vdGVJZDp0aGlzLnByb21vdGVJZFtlXTtudWxsIT1uJiYocj10LnByb3BlcnRpZXNbbl0pLFwiYm9vbGVhblwiPT10eXBlb2YgciYmKHI9TnVtYmVyKHIpKTt9cmV0dXJuIHJ9fWZ1bmN0aW9uIGR5KHQsZSxyLG4saSl7cmV0dXJuIEwodCwoKHQscyk9Pntjb25zdCBhPWUgaW5zdGFuY2VvZiBYcz9lLmdldChzKTpudWxsO3JldHVybiBhJiZhLmV2YWx1YXRlP2EuZXZhbHVhdGUocixuLGkpOmF9KSl9ZnVuY3Rpb24geXkodCxlKXtyZXR1cm4gZS10fWppKGZ5LFwiRmVhdHVyZUluZGV4XCIse29taXQ6W1wicmF3VGlsZURhdGFcIixcInNvdXJjZUxheWVyQ29kZXJcIl19KTtjbGFzcyBteXtjb25zdHJ1Y3Rvcih0LGUpe3RoaXMud2lkdGg9dCx0aGlzLmhlaWdodD1lLHRoaXMubmV4dFJvdz0wLHRoaXMuaW1hZ2U9bmV3IHd1KHt3aWR0aDp0LGhlaWdodDplfSksdGhpcy5wb3NpdGlvbnM9e30sdGhpcy51cGxvYWRlZD0hMTt9Z2V0RGFzaCh0LGUpe2NvbnN0IHI9dGhpcy5nZXRLZXkodCxlKTtyZXR1cm4gdGhpcy5wb3NpdGlvbnNbcl19dHJpbSgpe2NvbnN0IHQ9dGhpcy53aWR0aCxlPXRoaXMuaGVpZ2h0PUModGhpcy5uZXh0Um93KTt0aGlzLmltYWdlLnJlc2l6ZSh7d2lkdGg6dCxoZWlnaHQ6ZX0pO31nZXRLZXkodCxlKXtyZXR1cm4gdC5qb2luKFwiLFwiKStlfWdldERhc2hSYW5nZXModCxlLHIpe2NvbnN0IG49W107bGV0IGk9dC5sZW5ndGglMj09MT8tdFt0Lmxlbmd0aC0xXSpyOjAscz10WzBdKnIsYT0hMDtuLnB1c2goe2xlZnQ6aSxyaWdodDpzLGlzRGFzaDphLHplcm9MZW5ndGg6MD09PXRbMF19KTtsZXQgbz10WzBdO2ZvcihsZXQgZT0xO2U8dC5sZW5ndGg7ZSsrKXthPSFhO2NvbnN0IGw9dFtlXTtpPW8qcixvKz1sLHM9bypyLG4ucHVzaCh7bGVmdDppLHJpZ2h0OnMsaXNEYXNoOmEsemVyb0xlbmd0aDowPT09bH0pO31yZXR1cm4gbn1hZGRSb3VuZERhc2godCxlLHIpe2NvbnN0IG49ZS8yO2ZvcihsZXQgZT0tcjtlPD1yO2UrKyl7Y29uc3QgaT10aGlzLndpZHRoKih0aGlzLm5leHRSb3crcitlKTtsZXQgcz0wLGE9dFtzXTtmb3IobGV0IG89MDtvPHRoaXMud2lkdGg7bysrKXtvL2EucmlnaHQ+MSYmKGE9dFsrK3NdKTtjb25zdCBsPU1hdGguYWJzKG8tYS5sZWZ0KSx1PU1hdGguYWJzKG8tYS5yaWdodCksYz1NYXRoLm1pbihsLHUpO2xldCBoO2NvbnN0IHA9ZS9yKihuKzEpO2lmKGEuaXNEYXNoKXtjb25zdCB0PW4tTWF0aC5hYnMocCk7aD1NYXRoLnNxcnQoYypjK3QqdCk7fWVsc2UgaD1uLU1hdGguc3FydChjKmMrcCpwKTt0aGlzLmltYWdlLmRhdGFbaStvXT1NYXRoLm1heCgwLE1hdGgubWluKDI1NSxoKzEyOCkpO319fWFkZFJlZ3VsYXJEYXNoKHQsZSl7Zm9yKGxldCBlPXQubGVuZ3RoLTE7ZT49MDstLWUpe2NvbnN0IHI9dFtlXSxuPXRbZSsxXTtyLnplcm9MZW5ndGg/dC5zcGxpY2UoZSwxKTpuJiZuLmlzRGFzaD09PXIuaXNEYXNoJiYobi5sZWZ0PXIubGVmdCx0LnNwbGljZShlLDEpKTt9Y29uc3Qgcj10WzBdLG49dFt0Lmxlbmd0aC0xXTtyLmlzRGFzaD09PW4uaXNEYXNoJiYoci5sZWZ0PW4ubGVmdC10aGlzLndpZHRoLG4ucmlnaHQ9ci5yaWdodCt0aGlzLndpZHRoKTtjb25zdCBpPXRoaXMud2lkdGgqdGhpcy5uZXh0Um93O2xldCBzPTAsYT10W3NdO2ZvcihsZXQgcj0wO3I8dGhpcy53aWR0aDtyKyspe3IvYS5yaWdodD4xJiYoYT10Wysrc10pO2NvbnN0IG49TWF0aC5hYnMoci1hLmxlZnQpLG89TWF0aC5hYnMoci1hLnJpZ2h0KSxsPU1hdGgubWluKG4sbyk7dGhpcy5pbWFnZS5kYXRhW2krcl09TWF0aC5tYXgoMCxNYXRoLm1pbigyNTUsKGEuaXNEYXNoP2w6LWwpK2UrMTI4KSk7fX1hZGREYXNoKHQsZSl7Y29uc3Qgcj10aGlzLmdldEtleSh0LGUpO2lmKHRoaXMucG9zaXRpb25zW3JdKXJldHVybiB0aGlzLnBvc2l0aW9uc1tyXTtjb25zdCBuPVwicm91bmRcIj09PWUsaT1uPzc6MCxzPTIqaSsxO2lmKHRoaXMubmV4dFJvdytzPnRoaXMuaGVpZ2h0KXJldHVybiAkKFwiTGluZUF0bGFzIG91dCBvZiBzcGFjZVwiKSxudWxsOzA9PT10Lmxlbmd0aCYmdC5wdXNoKDEpO2xldCBhPTA7Zm9yKGxldCBlPTA7ZTx0Lmxlbmd0aDtlKyspdFtlXTwwJiYoJChcIk5lZ2F0aXZlIHZhbHVlIGlzIGZvdW5kIGluIGxpbmUgZGFzaGFycmF5LCByZXBsYWNpbmcgdmFsdWVzIHdpdGggMFwiKSx0W2VdPTApLGErPXRbZV07aWYoMCE9PWEpe2NvbnN0IHI9dGhpcy53aWR0aC9hLHM9dGhpcy5nZXREYXNoUmFuZ2VzKHQsdGhpcy53aWR0aCxyKTtuP3RoaXMuYWRkUm91bmREYXNoKHMscixpKTp0aGlzLmFkZFJlZ3VsYXJEYXNoKHMsXCJzcXVhcmVcIj09PWU/LjUqcjowKTt9Y29uc3Qgbz10aGlzLm5leHRSb3craTt0aGlzLm5leHRSb3crPXM7Y29uc3QgbD17dGw6W28saV0sYnI6W2EsMF19O3JldHVybiB0aGlzLnBvc2l0aW9uc1tyXT1sLGx9fWppKG15LFwiTGluZUF0bGFzXCIpO2NsYXNzIGd5e2NvbnN0cnVjdG9yKHQpe2NvbnN0IGU9e30scj1bXTtmb3IoY29uc3QgbiBpbiB0KXtjb25zdCBpPXRbbl0scz1lW25dPXt9O2Zvcihjb25zdCB0IGluIGkuZ2x5cGhzKXtjb25zdCBlPWkuZ2x5cGhzWyt0XTtpZighZXx8MD09PWUuYml0bWFwLndpZHRofHwwPT09ZS5iaXRtYXAuaGVpZ2h0KWNvbnRpbnVlO2NvbnN0IG49ZS5tZXRyaWNzLmxvY2FsR2x5cGg/MjoxLGE9e3g6MCx5OjAsdzplLmJpdG1hcC53aWR0aCsyKm4saDplLmJpdG1hcC5oZWlnaHQrMipufTtyLnB1c2goYSksc1t0XT1hO319Y29uc3R7dzpuLGg6aX09cnAocikscz1uZXcgd3Uoe3dpZHRoOm58fDEsaGVpZ2h0Oml8fDF9KTtmb3IoY29uc3QgciBpbiB0KXtjb25zdCBuPXRbcl07Zm9yKGNvbnN0IHQgaW4gbi5nbHlwaHMpe2NvbnN0IGk9bi5nbHlwaHNbK3RdO2lmKCFpfHwwPT09aS5iaXRtYXAud2lkdGh8fDA9PT1pLmJpdG1hcC5oZWlnaHQpY29udGludWU7Y29uc3QgYT1lW3JdW3RdLG89aS5tZXRyaWNzLmxvY2FsR2x5cGg/MjoxO3d1LmNvcHkoaS5iaXRtYXAscyx7eDowLHk6MH0se3g6YS54K28seTphLnkrb30saS5iaXRtYXApO319dGhpcy5pbWFnZT1zLHRoaXMucG9zaXRpb25zPWU7fX1qaShneSxcIkdseXBoQXRsYXNcIik7Y2xhc3MgeHl7Y29uc3RydWN0b3IodCl7dGhpcy50aWxlSUQ9bmV3IFdjKHQudGlsZUlELm92ZXJzY2FsZWRaLHQudGlsZUlELndyYXAsdC50aWxlSUQuY2Fub25pY2FsLnosdC50aWxlSUQuY2Fub25pY2FsLngsdC50aWxlSUQuY2Fub25pY2FsLnkpLHRoaXMudGlsZVpvb209dC50aWxlWm9vbSx0aGlzLnVpZD10LnVpZCx0aGlzLnpvb209dC56b29tLHRoaXMuY2Fub25pY2FsPXQudGlsZUlELmNhbm9uaWNhbCx0aGlzLnBpeGVsUmF0aW89dC5waXhlbFJhdGlvLHRoaXMudGlsZVNpemU9dC50aWxlU2l6ZSx0aGlzLnNvdXJjZT10LnNvdXJjZSx0aGlzLm92ZXJzY2FsaW5nPXRoaXMudGlsZUlELm92ZXJzY2FsZUZhY3RvcigpLHRoaXMuc2hvd0NvbGxpc2lvbkJveGVzPXQuc2hvd0NvbGxpc2lvbkJveGVzLHRoaXMuY29sbGVjdFJlc291cmNlVGltaW5nPSEhdC5jb2xsZWN0UmVzb3VyY2VUaW1pbmcsdGhpcy5yZXR1cm5EZXBlbmRlbmNpZXM9ISF0LnJldHVybkRlcGVuZGVuY2llcyx0aGlzLnByb21vdGVJZD10LnByb21vdGVJZCx0aGlzLmVuYWJsZVRlcnJhaW49ISF0LmVuYWJsZVRlcnJhaW4sdGhpcy5pc1N5bWJvbFRpbGU9dC5pc1N5bWJvbFRpbGUsdGhpcy50aWxlVHJhbnNmb3JtPWpmKHQudGlsZUlELmNhbm9uaWNhbCx0LnByb2plY3Rpb24pLHRoaXMucHJvamVjdGlvbj10LnByb2plY3Rpb247fXBhcnNlKHQsZSxyLG4saSl7dGhpcy5zdGF0dXM9XCJwYXJzaW5nXCIsdGhpcy5kYXRhPXQsdGhpcy5jb2xsaXNpb25Cb3hBcnJheT1uZXcgRGE7Y29uc3Qgcz1uZXcgQmQoT2JqZWN0LmtleXModC5sYXllcnMpLnNvcnQoKSksYT1uZXcgZnkodGhpcy50aWxlSUQsdGhpcy5wcm9tb3RlSWQpO2EuYnVja2V0TGF5ZXJJRHM9W107Y29uc3Qgbz17fSxsPW5ldyBteSgyNTYsMjU2KSx1PXtmZWF0dXJlSW5kZXg6YSxpY29uRGVwZW5kZW5jaWVzOnt9LHBhdHRlcm5EZXBlbmRlbmNpZXM6e30sZ2x5cGhEZXBlbmRlbmNpZXM6e30sbGluZUF0bGFzOmwsYXZhaWxhYmxlSW1hZ2VzOnJ9LGM9ZS5mYW1pbGllc0J5U291cmNlW3RoaXMuc291cmNlXTtmb3IoY29uc3QgZSBpbiBjKXtjb25zdCBuPXQubGF5ZXJzW2VdO2lmKCFuKWNvbnRpbnVlO2xldCBpPSExLGw9ITE7Zm9yKGNvbnN0IHQgb2YgY1tlXSlcInN5bWJvbFwiPT09dFswXS50eXBlP2k9ITA6bD0hMDtpZighMD09PXRoaXMuaXNTeW1ib2xUaWxlJiYhaSljb250aW51ZTtpZighMT09PXRoaXMuaXNTeW1ib2xUaWxlJiYhbCljb250aW51ZTsxPT09bi52ZXJzaW9uJiYkKGBWZWN0b3IgdGlsZSBzb3VyY2UgXCIke3RoaXMuc291cmNlfVwiIGxheWVyIFwiJHtlfVwiIGRvZXMgbm90IHVzZSB2ZWN0b3IgdGlsZSBzcGVjIHYyIGFuZCB0aGVyZWZvcmUgbWF5IGhhdmUgc29tZSByZW5kZXJpbmcgZXJyb3JzLmApO2NvbnN0IGg9cy5lbmNvZGUoZSkscD1bXTtmb3IobGV0IHQ9MDt0PG4ubGVuZ3RoO3QrKyl7Y29uc3Qgcj1uLmZlYXR1cmUodCksaT1hLmdldElkKHIsZSk7cC5wdXNoKHtmZWF0dXJlOnIsaWQ6aSxpbmRleDp0LHNvdXJjZUxheWVySW5kZXg6aH0pO31mb3IoY29uc3QgdCBvZiBjW2VdKXtjb25zdCBlPXRbMF07dm9pZCAwIT09dGhpcy5pc1N5bWJvbFRpbGUmJlwic3ltYm9sXCI9PT1lLnR5cGUhPT10aGlzLmlzU3ltYm9sVGlsZXx8ZS5taW56b29tJiZ0aGlzLnpvb208TWF0aC5mbG9vcihlLm1pbnpvb20pfHxlLm1heHpvb20mJnRoaXMuem9vbT49ZS5tYXh6b29tfHxcIm5vbmVcIiE9PWUudmlzaWJpbGl0eSYmKHZ5KHQsdGhpcy56b29tLHIpLChvW2UuaWRdPWUuY3JlYXRlQnVja2V0KHtpbmRleDphLmJ1Y2tldExheWVySURzLmxlbmd0aCxsYXllcnM6dCx6b29tOnRoaXMuem9vbSxjYW5vbmljYWw6dGhpcy5jYW5vbmljYWwscGl4ZWxSYXRpbzp0aGlzLnBpeGVsUmF0aW8sb3ZlcnNjYWxpbmc6dGhpcy5vdmVyc2NhbGluZyxjb2xsaXNpb25Cb3hBcnJheTp0aGlzLmNvbGxpc2lvbkJveEFycmF5LHNvdXJjZUxheWVySW5kZXg6aCxzb3VyY2VJRDp0aGlzLnNvdXJjZSxlbmFibGVUZXJyYWluOnRoaXMuZW5hYmxlVGVycmFpbixwcm9qZWN0aW9uOnRoaXMucHJvamVjdGlvbi5zcGVjLGF2YWlsYWJsZUltYWdlczpyfSkpLnBvcHVsYXRlKHAsdSx0aGlzLnRpbGVJRC5jYW5vbmljYWwsdGhpcy50aWxlVHJhbnNmb3JtKSxhLmJ1Y2tldExheWVySURzLnB1c2godC5tYXAoKHQ9PnQuaWQpKSkpO319bGV0IGgscCxmLGQ7bC50cmltKCk7Y29uc3QgeT17dHlwZTpcIm1heWJlUHJlcGFyZVwiLGlzU3ltYm9sVGlsZTp0aGlzLmlzU3ltYm9sVGlsZSx6b29tOnRoaXMuem9vbX0sbT1MKHUuZ2x5cGhEZXBlbmRlbmNpZXMsKHQ9Pk9iamVjdC5rZXlzKHQpLm1hcChOdW1iZXIpKSk7T2JqZWN0LmtleXMobSkubGVuZ3RoP24uc2VuZChcImdldEdseXBoc1wiLHt1aWQ6dGhpcy51aWQsc3RhY2tzOm19LCgodCxlKT0+e2h8fChoPXQscD1lLHYuY2FsbCh0aGlzKSk7fSksdm9pZCAwLCExLHkpOnA9e307Y29uc3QgZz1PYmplY3Qua2V5cyh1Lmljb25EZXBlbmRlbmNpZXMpO2cubGVuZ3RoP24uc2VuZChcImdldEltYWdlc1wiLHtpY29uczpnLHNvdXJjZTp0aGlzLnNvdXJjZSx0aWxlSUQ6dGhpcy50aWxlSUQsdHlwZTpcImljb25zXCJ9LCgodCxlKT0+e2h8fChoPXQsZj1lLHYuY2FsbCh0aGlzKSk7fSksdm9pZCAwLCExLHkpOmY9e307Y29uc3QgeD1PYmplY3Qua2V5cyh1LnBhdHRlcm5EZXBlbmRlbmNpZXMpO2Z1bmN0aW9uIHYoKXtpZihoKXJldHVybiBpKGgpO2lmKHAmJmYmJmQpe2NvbnN0IHQ9bmV3IGd5KHApLGU9bmV3IGlwKGYsZCk7Zm9yKGNvbnN0IG4gaW4gbyl7Y29uc3QgaT1vW25dO2kgaW5zdGFuY2VvZiBtZD8odnkoaS5sYXllcnMsdGhpcy56b29tLHIpLEhwKGkscCx0LnBvc2l0aW9ucyxmLGUuaWNvblBvc2l0aW9ucyx0aGlzLnNob3dDb2xsaXNpb25Cb3hlcyxyLHRoaXMudGlsZUlELmNhbm9uaWNhbCx0aGlzLnRpbGVab29tLHRoaXMucHJvamVjdGlvbikpOmkuaGFzUGF0dGVybiYmKGkgaW5zdGFuY2VvZiB1aHx8aSBpbnN0YW5jZW9mIGNjfHxpIGluc3RhbmNlb2YgTGMpJiYodnkoaS5sYXllcnMsdGhpcy56b29tLHIpLGkuYWRkRmVhdHVyZXModSx0aGlzLnRpbGVJRC5jYW5vbmljYWwsZS5wYXR0ZXJuUG9zaXRpb25zLHIsdGhpcy50aWxlVHJhbnNmb3JtKSk7fXRoaXMuc3RhdHVzPVwiZG9uZVwiLGkobnVsbCx7YnVja2V0czp6KG8pLmZpbHRlcigodD0+IXQuaXNFbXB0eSgpKSksZmVhdHVyZUluZGV4OmEsY29sbGlzaW9uQm94QXJyYXk6dGhpcy5jb2xsaXNpb25Cb3hBcnJheSxnbHlwaEF0bGFzSW1hZ2U6dC5pbWFnZSxsaW5lQXRsYXM6bCxpbWFnZUF0bGFzOmUsZ2x5cGhNYXA6dGhpcy5yZXR1cm5EZXBlbmRlbmNpZXM/cDpudWxsLGljb25NYXA6dGhpcy5yZXR1cm5EZXBlbmRlbmNpZXM/ZjpudWxsLGdseXBoUG9zaXRpb25zOnRoaXMucmV0dXJuRGVwZW5kZW5jaWVzP3QucG9zaXRpb25zOm51bGx9KTt9fXgubGVuZ3RoP24uc2VuZChcImdldEltYWdlc1wiLHtpY29uczp4LHNvdXJjZTp0aGlzLnNvdXJjZSx0aWxlSUQ6dGhpcy50aWxlSUQsdHlwZTpcInBhdHRlcm5zXCJ9LCgodCxlKT0+e2h8fChoPXQsZD1lLHYuY2FsbCh0aGlzKSk7fSksdm9pZCAwLCExLHkpOmQ9e30sdi5jYWxsKHRoaXMpO319ZnVuY3Rpb24gdnkodCxlLHIpe2NvbnN0IG49bmV3IFVzKGUpO2Zvcihjb25zdCBlIG9mIHQpZS5yZWNhbGN1bGF0ZShuLHIpO31jbGFzcyBieXtjb25zdHJ1Y3Rvcih0KXt0aGlzLmVudHJpZXM9e30sdGhpcy5zY2hlZHVsZXI9dDt9cmVxdWVzdCh0LGUscixuKXtjb25zdCBpPXRoaXMuZW50cmllc1t0XT10aGlzLmVudHJpZXNbdF18fHtjYWxsYmFja3M6W119O2lmKGkucmVzdWx0KXtjb25zdFt0LHJdPWkucmVzdWx0O3JldHVybiB0aGlzLnNjaGVkdWxlcj90aGlzLnNjaGVkdWxlci5hZGQoKCgpPT57bih0LHIpO30pLGUpOm4odCxyKSwoKT0+e319cmV0dXJuIGkuY2FsbGJhY2tzLnB1c2gobiksaS5jYW5jZWx8fChpLmNhbmNlbD1yKCgocixuKT0+e2kucmVzdWx0PVtyLG5dO2Zvcihjb25zdCB0IG9mIGkuY2FsbGJhY2tzKXRoaXMuc2NoZWR1bGVyP3RoaXMuc2NoZWR1bGVyLmFkZCgoKCk9Pnt0KHIsbik7fSksZSk6dChyLG4pO3NldFRpbWVvdXQoKCgpPT5kZWxldGUgdGhpcy5lbnRyaWVzW3RdKSwzZTMpO30pKSksKCk9PntpLnJlc3VsdHx8KGkuY2FsbGJhY2tzPWkuY2FsbGJhY2tzLmZpbHRlcigodD0+dCE9PW4pKSxpLmNhbGxiYWNrcy5sZW5ndGh8fChpLmNhbmNlbCgpLGRlbGV0ZSB0aGlzLmVudHJpZXNbdF0pKTt9fX1mdW5jdGlvbiBfeSh0LGUscil7Y29uc3Qgbj1KU09OLnN0cmluZ2lmeSh0LnJlcXVlc3QpO3JldHVybiB0LmRhdGEmJih0aGlzLmRlZHVwZWQuZW50cmllc1tuXT17cmVzdWx0OltudWxsLHQuZGF0YV19KSx0aGlzLmRlZHVwZWQucmVxdWVzdChuLHt0eXBlOlwicGFyc2VUaWxlXCIsaXNTeW1ib2xUaWxlOnQuaXNTeW1ib2xUaWxlLHpvb206dC50aWxlWm9vbX0sKGU9Pntjb25zdCBuPXV0KHQucmVxdWVzdCwoKHQsbixpLHMpPT57dD9lKHQpOm4mJmUobnVsbCx7dmVjdG9yVGlsZTpyP3ZvaWQgMDpuZXcgVGMobmV3IEVoKG4pKSxyYXdEYXRhOm4sY2FjaGVDb250cm9sOmksZXhwaXJlczpzfSk7fSkpO3JldHVybiAoKT0+e24uY2FuY2VsKCksZSgpO319KSxlKX10LkFSUkFZX1RZUEU9d2wsdC5BVVRIX0VSUl9NU0c9eXQsdC5BYWJiPXB1LHQuQWN0b3I9Y2xhc3N7Y29uc3RydWN0b3IodCxyLG4pe3RoaXMudGFyZ2V0PXQsdGhpcy5wYXJlbnQ9cix0aGlzLm1hcElkPW4sdGhpcy5jYWxsYmFja3M9e30sdGhpcy5jYW5jZWxDYWxsYmFja3M9e30sVihbXCJyZWNlaXZlXCJdLHRoaXMpLHRoaXMudGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsdGhpcy5yZWNlaXZlLCExKSx0aGlzLmdsb2JhbFNjb3BlPU4oKT90OmUsdGhpcy5zY2hlZHVsZXI9bmV3IFRkO31zZW5kKHQsZSxyLG4saT0hMSxzKXtjb25zdCBhPU1hdGgucm91bmQoMWUxOCpNYXRoLnJhbmRvbSgpKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDAsMTApO3ImJihyLm1ldGFkYXRhPXMsdGhpcy5jYWxsYmFja3NbYV09cik7Y29uc3Qgbz1YKHRoaXMuZ2xvYmFsU2NvcGUpP3ZvaWQgMDpbXTtyZXR1cm4gdGhpcy50YXJnZXQucG9zdE1lc3NhZ2Uoe2lkOmEsdHlwZTp0LGhhc0NhbGxiYWNrOiEhcix0YXJnZXRNYXBJZDpuLG11c3RRdWV1ZTppLHNvdXJjZU1hcElkOnRoaXMubWFwSWQsZGF0YTpxaShlLG8pfSxvKSx7Y2FuY2VsOigpPT57ciYmZGVsZXRlIHRoaXMuY2FsbGJhY2tzW2FdLHRoaXMudGFyZ2V0LnBvc3RNZXNzYWdlKHtpZDphLHR5cGU6XCI8Y2FuY2VsPlwiLHRhcmdldE1hcElkOm4sc291cmNlTWFwSWQ6dGhpcy5tYXBJZH0pO319fXJlY2VpdmUodCl7Y29uc3QgZT10LmRhdGEscj1lLmlkO2lmKHImJighZS50YXJnZXRNYXBJZHx8dGhpcy5tYXBJZD09PWUudGFyZ2V0TWFwSWQpKWlmKFwiPGNhbmNlbD5cIj09PWUudHlwZSl7Y29uc3QgdD10aGlzLmNhbmNlbENhbGxiYWNrc1tyXTtkZWxldGUgdGhpcy5jYW5jZWxDYWxsYmFja3Nbcl0sdCYmdC5jYW5jZWwoKTt9ZWxzZSBpZihlLm11c3RRdWV1ZXx8TigpKXtjb25zdCB0PXRoaXMuY2FsbGJhY2tzW3JdO3RoaXMuY2FuY2VsQ2FsbGJhY2tzW3JdPXRoaXMuc2NoZWR1bGVyLmFkZCgoKCk9PnRoaXMucHJvY2Vzc1Rhc2socixlKSksdCYmdC5tZXRhZGF0YXx8e3R5cGU6XCJtZXNzYWdlXCJ9KTt9ZWxzZSB0aGlzLnByb2Nlc3NUYXNrKHIsZSk7fXByb2Nlc3NUYXNrKHQsZSl7aWYoXCI8cmVzcG9uc2U+XCI9PT1lLnR5cGUpe2NvbnN0IHI9dGhpcy5jYWxsYmFja3NbdF07ZGVsZXRlIHRoaXMuY2FsbGJhY2tzW3RdLHImJihlLmVycm9yP3IoTmkoZS5lcnJvcikpOnIobnVsbCxOaShlLmRhdGEpKSk7fWVsc2Uge2NvbnN0IHI9WCh0aGlzLmdsb2JhbFNjb3BlKT92b2lkIDA6W10sbj1lLmhhc0NhbGxiYWNrPyhlLG4pPT57ZGVsZXRlIHRoaXMuY2FuY2VsQ2FsbGJhY2tzW3RdLHRoaXMudGFyZ2V0LnBvc3RNZXNzYWdlKHtpZDp0LHR5cGU6XCI8cmVzcG9uc2U+XCIsc291cmNlTWFwSWQ6dGhpcy5tYXBJZCxlcnJvcjplP3FpKGUpOm51bGwsZGF0YTpxaShuLHIpfSxyKTt9OnQ9Pnt9LGk9TmkoZS5kYXRhKTtpZih0aGlzLnBhcmVudFtlLnR5cGVdKXRoaXMucGFyZW50W2UudHlwZV0oZS5zb3VyY2VNYXBJZCxpLG4pO2Vsc2UgaWYodGhpcy5wYXJlbnQuZ2V0V29ya2VyU291cmNlKXtjb25zdCB0PWUudHlwZS5zcGxpdChcIi5cIik7dGhpcy5wYXJlbnQuZ2V0V29ya2VyU291cmNlKGUuc291cmNlTWFwSWQsdFswXSxpLnNvdXJjZSlbdFsxXV0oaSxuKTt9ZWxzZSBuKG5ldyBFcnJvcihgQ291bGQgbm90IGZpbmQgZnVuY3Rpb24gJHtlLnR5cGV9YCkpO319cmVtb3ZlKCl7dGhpcy5zY2hlZHVsZXIucmVtb3ZlKCksdGhpcy50YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIix0aGlzLnJlY2VpdmUsITEpO319LHQuQ2Fub25pY2FsVGlsZUlEPUhjLHQuQ29sb3I9SWUsdC5Db2xvck1vZGU9aXksdC5DdWxsRmFjZU1vZGU9b3ksdC5ERU1EYXRhPVFkLHQuRGF0YUNvbnN0YW50UHJvcGVydHk9S3MsdC5EZWR1cGVkUmVxdWVzdD1ieSx0LkRlcHRoTW9kZT1leSx0LkVYVEVOVD1Cbyx0LkVsZXZhdGlvbj1jbGFzc3tpc0RhdGFBdmFpbGFibGVBdFBvaW50KHQpe2NvbnN0IGU9dGhpcy5fc291cmNlKCk7aWYodGhpcy5pc1VzaW5nTW9ja1NvdXJjZSgpfHwhZXx8dC55PDB8fHQueT4xKXJldHVybiAhMTtjb25zdCByPWUuZ2V0U291cmNlKCkubWF4em9vbSxuPTE8PHIsaT1NYXRoLmZsb29yKHQueCkscz1NYXRoLmZsb29yKCh0LngtaSkqbiksYT1NYXRoLmZsb29yKHQueSpuKSxvPXRoaXMuZmluZERFTVRpbGVGb3IobmV3IFdjKHIsaSxyLHMsYSkpO3JldHVybiAhKCFvfHwhby5kZW0pfWdldEF0UG9pbnRPclplcm8odCxlPTApe3JldHVybiB0aGlzLmdldEF0UG9pbnQodCxlKXx8MH1nZXRBdFBvaW50KHQsZSxyPSEwKXtpZih0aGlzLmlzVXNpbmdNb2NrU291cmNlKCkpcmV0dXJuIG51bGw7bnVsbD09ZSYmKGU9bnVsbCk7Y29uc3Qgbj10aGlzLl9zb3VyY2UoKTtpZighbilyZXR1cm4gZTtpZih0Lnk8MHx8dC55PjEpcmV0dXJuIGU7Y29uc3QgaT1uLmdldFNvdXJjZSgpLm1heHpvb20scz0xPDxpLGE9TWF0aC5mbG9vcih0LngpLG89dC54LWEsbD1uZXcgV2MoaSxhLGksTWF0aC5mbG9vcihvKnMpLE1hdGguZmxvb3IodC55KnMpKSx1PXRoaXMuZmluZERFTVRpbGVGb3IobCk7aWYoIXV8fCF1LmRlbSlyZXR1cm4gZTtjb25zdCBjPXUuZGVtLGg9MTw8dS50aWxlSUQuY2Fub25pY2FsLnoscD0obypoLXUudGlsZUlELmNhbm9uaWNhbC54KSpjLmRpbSxmPSh0LnkqaC11LnRpbGVJRC5jYW5vbmljYWwueSkqYy5kaW0sZD1NYXRoLmZsb29yKHApLHk9TWF0aC5mbG9vcihmKTtyZXR1cm4gKHI/dGhpcy5leGFnZ2VyYXRpb24oKToxKSpJcihJcihjLmdldChkLHkpLGMuZ2V0KGQseSsxKSxmLXkpLElyKGMuZ2V0KGQrMSx5KSxjLmdldChkKzEseSsxKSxmLXkpLHAtZCl9Z2V0QXRUaWxlT2Zmc2V0KHQsZSxyKXtjb25zdCBuPTE8PHQuY2Fub25pY2FsLno7cmV0dXJuIHRoaXMuZ2V0QXRQb2ludE9yWmVybyhuZXcgTm8odC53cmFwKyh0LmNhbm9uaWNhbC54K2UvQm8pL24sKHQuY2Fub25pY2FsLnkrci9CbykvbikpfWdldEF0VGlsZU9mZnNldEZ1bmModCxlLHIsbil7cmV0dXJuIGk9Pntjb25zdCBzPXRoaXMuZ2V0QXRUaWxlT2Zmc2V0KHQsaS54LGkueSksYT1uLnVwVmVjdG9yKHQuY2Fub25pY2FsLGkueCxpLnkpO3JldHVybiBObChhLGEscypuLnVwVmVjdG9yU2NhbGUodC5jYW5vbmljYWwsZSxyKS5tZXRlcnNUb1RpbGUpLGF9fWdldEZvclRpbGVQb2ludHModCxlLHIsbil7aWYodGhpcy5pc1VzaW5nTW9ja1NvdXJjZSgpKXJldHVybiAhMTtjb25zdCBpPXB5LmNyZWF0ZSh0aGlzLHQsbik7cmV0dXJuICEhaSYmKGUuZm9yRWFjaCgodD0+e3RbMl09dGhpcy5leGFnZ2VyYXRpb24oKSppLmdldEVsZXZhdGlvbkF0KHRbMF0sdFsxXSxyKTt9KSksITApfWdldE1pbk1heEZvclRpbGUodCl7aWYodGhpcy5pc1VzaW5nTW9ja1NvdXJjZSgpKXJldHVybiBudWxsO2NvbnN0IGU9dGhpcy5maW5kREVNVGlsZUZvcih0KTtpZighZXx8IWUuZGVtKXJldHVybiBudWxsO2NvbnN0IHI9ZS5kZW0udHJlZSxuPWUudGlsZUlELGk9MTw8dC5jYW5vbmljYWwuei1uLmNhbm9uaWNhbC56O2xldCBzPXQuY2Fub25pY2FsLngvaS1uLmNhbm9uaWNhbC54LGE9dC5jYW5vbmljYWwueS9pLW4uY2Fub25pY2FsLnksbz0wO2ZvcihsZXQgZT0wO2U8dC5jYW5vbmljYWwuei1uLmNhbm9uaWNhbC56JiYhci5sZWF2ZXNbb107ZSsrKXtzKj0yLGEqPTI7Y29uc3QgdD0yKk1hdGguZmxvb3IoYSkrTWF0aC5mbG9vcihzKTtvPXIuY2hpbGRPZmZzZXRzW29dK3QscyU9MSxhJT0xO31yZXR1cm4ge21pbjp0aGlzLmV4YWdnZXJhdGlvbigpKnIubWluaW11bXNbb10sbWF4OnRoaXMuZXhhZ2dlcmF0aW9uKCkqci5tYXhpbXVtc1tvXX19Z2V0TWluRWxldmF0aW9uQmVsb3dNU0woKXt0aHJvdyBuZXcgRXJyb3IoXCJQdXJlIHZpcnR1YWwgbWV0aG9kIGNhbGxlZC5cIil9cmF5Y2FzdCh0LGUscil7dGhyb3cgbmV3IEVycm9yKFwiUHVyZSB2aXJ0dWFsIG1ldGhvZCBjYWxsZWQuXCIpfXBvaW50Q29vcmRpbmF0ZSh0KXt0aHJvdyBuZXcgRXJyb3IoXCJQdXJlIHZpcnR1YWwgbWV0aG9kIGNhbGxlZC5cIil9X3NvdXJjZSgpe3Rocm93IG5ldyBFcnJvcihcIlB1cmUgdmlydHVhbCBtZXRob2QgY2FsbGVkLlwiKX1pc1VzaW5nTW9ja1NvdXJjZSgpe3Rocm93IG5ldyBFcnJvcihcIlB1cmUgdmlydHVhbCBtZXRob2QgY2FsbGVkLlwiKX1leGFnZ2VyYXRpb24oKXt0aHJvdyBuZXcgRXJyb3IoXCJQdXJlIHZpcnR1YWwgbWV0aG9kIGNhbGxlZC5cIil9ZmluZERFTVRpbGVGb3IodCl7dGhyb3cgbmV3IEVycm9yKFwiUHVyZSB2aXJ0dWFsIG1ldGhvZCBjYWxsZWQuXCIpfWdldCB2aXNpYmxlRGVtVGlsZXMoKXt0aHJvdyBuZXcgRXJyb3IoXCJHZXR0ZXIgbXVzdCBiZSBpbXBsZW1lbnRlZCBpbiBzdWJjbGFzcy5cIil9fSx0LkVycm9yRXZlbnQ9WHQsdC5FdmFsdWF0aW9uUGFyYW1ldGVycz1Vcyx0LkV2ZW50PVp0LHQuRXZlbnRlZD1LdCx0LkZpbGxFeHRydXNpb25CdWNrZXQ9TGMsdC5GcnVzdHVtPWh1LHQuRnJ1c3R1bUNvcm5lcnM9Y3UsdC5HTE9CRV9NRVRFUlNfVE9fRUNFRj1jZix0LkdMT0JFX1JBRElVUz11Zix0LkdMT0JFX1NDQUxFX01BVENIX0xBVElUVURFPTQ1LHQuR0xPQkVfWk9PTV9USFJFU0hPTERfTUFYPTYsdC5HTE9CRV9aT09NX1RIUkVTSE9MRF9NSU49NSx0Lkdsb2JlU2hhcmVkQnVmZmVycz1jbGFzc3tjb25zdHJ1Y3Rvcih0KXt0aGlzLl9jcmVhdGVHcmlkKHQpLHRoaXMuX2NyZWF0ZVBvbGVzKHQpO31kZXN0cm95KCl7dGhpcy5fcG9sZUluZGV4QnVmZmVyLmRlc3Ryb3koKSx0aGlzLl9ncmlkQnVmZmVyLmRlc3Ryb3koKSx0aGlzLl9ncmlkSW5kZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMuX3BvbGVOb3J0aFZlcnRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5fcG9sZVNvdXRoVmVydGV4QnVmZmVyLmRlc3Ryb3koKTtmb3IoY29uc3QgdCBvZiB0aGlzLl9wb2xlU2VnbWVudHMpdC5kZXN0cm95KCk7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fZ3JpZFNlZ21lbnRzKXQuZGVzdHJveSgpO2lmKHRoaXMuX3dpcmVmcmFtZUluZGV4QnVmZmVyKXt0aGlzLl93aXJlZnJhbWVJbmRleEJ1ZmZlci5kZXN0cm95KCk7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fd2lyZWZyYW1lU2VnbWVudHMpdC5kZXN0cm95KCk7fX1fY3JlYXRlR3JpZCh0KXtjb25zdCBlPW5ldyBhYSxyPW5ldyB3YSxuPTY1O2ZvcihsZXQgdD0wO3Q8bjt0KyspZm9yKGxldCByPTA7cjxuO3IrKyllLmVtcGxhY2VCYWNrKHIsdCk7dGhpcy5fZ3JpZFNlZ21lbnRzPVtdO2ZvcihsZXQgdD0wLGU9MDt0PHBmLmxlbmd0aDt0Kyspe2NvbnN0IGk9cGZbdF07Zm9yKGxldCB0PTA7dDxpO3QrKylmb3IobGV0IGU9MDtlPDY0O2UrKyl7Y29uc3QgaT10Km4rZTtyLmVtcGxhY2VCYWNrKGkrMSxpLGkrbiksci5lbXBsYWNlQmFjayhpK24saStuKzEsaSsxKTt9Y29uc3Qgcz02NCppKjI7dGhpcy5fZ3JpZFNlZ21lbnRzLnB1c2goVG8uc2ltcGxlU2VnbWVudCgwLGUsKGkrMSkqbixzKSksZSs9czt9dGhpcy5fZ3JpZEJ1ZmZlcj10LmNyZWF0ZVZlcnRleEJ1ZmZlcihlLGxmLm1lbWJlcnMpLHRoaXMuX2dyaWRJbmRleEJ1ZmZlcj10LmNyZWF0ZUluZGV4QnVmZmVyKHIsITApO31fY3JlYXRlUG9sZXModCl7Y29uc3QgZT1uZXcgd2E7Zm9yKGxldCB0PTA7dDw9aGY7dCsrKWUuZW1wbGFjZUJhY2soMCx0KzEsdCsyKTt0aGlzLl9wb2xlSW5kZXhCdWZmZXI9dC5jcmVhdGVJbmRleEJ1ZmZlcihlLCEwKTtjb25zdCByPW5ldyBJYSxuPW5ldyBJYTt0aGlzLl9wb2xlU2VnbWVudHM9W107Zm9yKGxldCB0PTAsZT0wO3Q8NTt0Kyspe2NvbnN0IGk9MzYwLygxPDx0KTtyLmVtcGxhY2VCYWNrKDAsLXVmLDAsLjUsMCksbi5lbXBsYWNlQmFjaygwLC11ZiwwLC41LDEpO2ZvcihsZXQgdD0wO3Q8PWhmO3QrKyl7Y29uc3QgZT10L2hmLHM9SXIoMCxpLGUpLFthLG8sbF09SWYoTGYsUmYscyx1Zik7ci5lbXBsYWNlQmFjayhhLG8sbCxlLDApLG4uZW1wbGFjZUJhY2soYSxvLGwsZSwxKTt9dGhpcy5fcG9sZVNlZ21lbnRzLnB1c2goVG8uc2ltcGxlU2VnbWVudChlLDAsNjYsNjQpKSxlKz02Njt9dGhpcy5fcG9sZU5vcnRoVmVydGV4QnVmZmVyPXQuY3JlYXRlVmVydGV4QnVmZmVyKHIsYWYsITEpLHRoaXMuX3BvbGVTb3V0aFZlcnRleEJ1ZmZlcj10LmNyZWF0ZVZlcnRleEJ1ZmZlcihuLGFmLCExKTt9Z2V0R3JpZEJ1ZmZlcnModCl7cmV0dXJuIFt0aGlzLl9ncmlkQnVmZmVyLHRoaXMuX2dyaWRJbmRleEJ1ZmZlcix0aGlzLl9ncmlkU2VnbWVudHNbdF1dfWdldFBvbGVCdWZmZXJzKHQpe3JldHVybiBbdGhpcy5fcG9sZU5vcnRoVmVydGV4QnVmZmVyLHRoaXMuX3BvbGVTb3V0aFZlcnRleEJ1ZmZlcix0aGlzLl9wb2xlSW5kZXhCdWZmZXIsdGhpcy5fcG9sZVNlZ21lbnRzW3RdXX1nZXRXaXJlZmFtZUJ1ZmZlcnModCxlKXtpZighdGhpcy5fd2lyZWZyYW1lU2VnbWVudHMpe2NvbnN0IGU9bmV3IHphLHI9aGYsbj1yKzE7dGhpcy5fd2lyZWZyYW1lU2VnbWVudHM9W107Zm9yKGxldCB0PTAsaT0wO3Q8cGYubGVuZ3RoO3QrKyl7Y29uc3Qgcz1wZlt0XTtmb3IobGV0IHQ9MDt0PHM7dCsrKWZvcihsZXQgaT0wO2k8cjtpKyspe2NvbnN0IHI9dCpuK2k7ZS5lbXBsYWNlQmFjayhyLHIrMSksZS5lbXBsYWNlQmFjayhyLHIrbiksZS5lbXBsYWNlQmFjayhyLHIrbisxKTt9Y29uc3QgYT1zKnIqMzt0aGlzLl93aXJlZnJhbWVTZWdtZW50cy5wdXNoKFRvLnNpbXBsZVNlZ21lbnQoMCxpLChzKzEpKm4sYSkpLGkrPWE7fXRoaXMuX3dpcmVmcmFtZUluZGV4QnVmZmVyPXQuY3JlYXRlSW5kZXhCdWZmZXIoZSk7fXJldHVybiBbdGhpcy5fZ3JpZEJ1ZmZlcix0aGlzLl93aXJlZnJhbWVJbmRleEJ1ZmZlcix0aGlzLl93aXJlZnJhbWVTZWdtZW50c1tlXV19fSx0LkdseXBoTWFuYWdlcj1EcCx0LkltYWdlUG9zaXRpb249bnAsdC5MaXZlUGVyZm9ybWFuY2VVdGlscz1WdCx0LkxuZ0xhdD1Dbyx0LkxuZ0xhdEJvdW5kcz1Fbyx0LkxvY2FsR2x5cGhNb2RlPUNwLHQuTUFYX01FUkNBVE9SX0xBVElUVURFPU9vLHQuTWVyY2F0b3JDb29yZGluYXRlPU5vLHQuT05FX0VNPV9oLHQuT3ZlcnNjYWxlZFRpbGVJRD1XYyx0LlBlcmZvcm1hbmNlTWFya2Vycz1EdCx0LlByb3BlcnRpZXM9UXMsdC5SR0JBSW1hZ2U9QXUsdC5SYXk9dXUsdC5SZXF1ZXN0TWFuYWdlcj1jbGFzc3tjb25zdHJ1Y3Rvcih0LGUscil7dGhpcy5fdHJhbnNmb3JtUmVxdWVzdEZuPXQsdGhpcy5fY3VzdG9tQWNjZXNzVG9rZW49ZSx0aGlzLl9zaWxlbmNlQXV0aEVycm9ycz0hIXIsdGhpcy5fY3JlYXRlU2t1VG9rZW4oKTt9X2NyZWF0ZVNrdVRva2VuKCl7Y29uc3QgdD1mdW5jdGlvbigpe2xldCB0PVwiXCI7Zm9yKGxldCBlPTA7ZTwxMDtlKyspdCs9XCIwMTIzNDU2Nzg5YWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXpBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWlwiW01hdGguZmxvb3IoNjIqTWF0aC5yYW5kb20oKSldO3JldHVybiB7dG9rZW46W1wiMVwiLGgsdF0uam9pbihcIlwiKSx0b2tlbkV4cGlyZXNBdDpEYXRlLm5vdygpKzQzMmU1fX0oKTt0aGlzLl9za3VUb2tlbj10LnRva2VuLHRoaXMuX3NrdVRva2VuRXhwaXJlc0F0PXQudG9rZW5FeHBpcmVzQXQ7fV9pc1NrdVRva2VuRXhwaXJlZCgpe3JldHVybiBEYXRlLm5vdygpPnRoaXMuX3NrdVRva2VuRXhwaXJlc0F0fXRyYW5zZm9ybVJlcXVlc3QodCxlKXtyZXR1cm4gdGhpcy5fdHJhbnNmb3JtUmVxdWVzdEZuJiZ0aGlzLl90cmFuc2Zvcm1SZXF1ZXN0Rm4odCxlKXx8e3VybDp0fX1ub3JtYWxpemVTdHlsZVVSTCh0LGUpe2lmKCFtdCh0KSlyZXR1cm4gdDtjb25zdCByPV90KHQpO3JldHVybiByLnBhdGg9YC9zdHlsZXMvdjEke3IucGF0aH1gLHRoaXMuX21ha2VBUElVUkwocix0aGlzLl9jdXN0b21BY2Nlc3NUb2tlbnx8ZSl9bm9ybWFsaXplR2x5cGhzVVJMKHQsZSl7aWYoIW10KHQpKXJldHVybiB0O2NvbnN0IHI9X3QodCk7cmV0dXJuIHIucGF0aD1gL2ZvbnRzL3YxJHtyLnBhdGh9YCx0aGlzLl9tYWtlQVBJVVJMKHIsdGhpcy5fY3VzdG9tQWNjZXNzVG9rZW58fGUpfW5vcm1hbGl6ZVNvdXJjZVVSTCh0LGUscixuKXtpZighbXQodCkpcmV0dXJuIHQ7Y29uc3QgaT1fdCh0KTtyZXR1cm4gaS5wYXRoPWAvdjQvJHtpLmF1dGhvcml0eX0uanNvbmAsaS5wYXJhbXMucHVzaChcInNlY3VyZVwiKSxyJiZpLnBhcmFtcy5wdXNoKGBsYW5ndWFnZT0ke3J9YCksbiYmaS5wYXJhbXMucHVzaChgd29ybGR2aWV3PSR7bn1gKSx0aGlzLl9tYWtlQVBJVVJMKGksdGhpcy5fY3VzdG9tQWNjZXNzVG9rZW58fGUpfW5vcm1hbGl6ZVNwcml0ZVVSTCh0LGUscixuKXtjb25zdCBpPV90KHQpO3JldHVybiBtdCh0KT8oaS5wYXRoPWAvc3R5bGVzL3YxJHtpLnBhdGh9L3Nwcml0ZSR7ZX0ke3J9YCx0aGlzLl9tYWtlQVBJVVJMKGksdGhpcy5fY3VzdG9tQWNjZXNzVG9rZW58fG4pKTooaS5wYXRoKz1gJHtlfSR7cn1gLHd0KGkpKX1ub3JtYWxpemVUaWxlVVJMKHQsZSxyKXtpZih0aGlzLl9pc1NrdVRva2VuRXhwaXJlZCgpJiZ0aGlzLl9jcmVhdGVTa3VUb2tlbigpLHQmJiFtdCh0KSlyZXR1cm4gdDtjb25zdCBuPV90KHQpO24ucGF0aD1uLnBhdGgucmVwbGFjZSgvKFxcLihwbmd8anBnKVxcZCopKD89JCkvLGAke2V8fHImJlwicmFzdGVyXCIhPT1uLmF1dGhvcml0eSYmNTEyPT09cj9cIkAyeFwiOlwiXCJ9JHtzLnN1cHBvcnRlZD9cIi53ZWJwXCI6XCIkMVwifWApLFwicmFzdGVyXCI9PT1uLmF1dGhvcml0eT9uLnBhdGg9YC8ke2kuUkFTVEVSX1VSTF9QUkVGSVh9JHtuLnBhdGh9YDoobi5wYXRoPW4ucGF0aC5yZXBsYWNlKC9eLitcXC92NFxcLy8sXCIvXCIpLG4ucGF0aD1gLyR7aS5USUxFX1VSTF9WRVJTSU9OfSR7bi5wYXRofWApO2NvbnN0IGE9dGhpcy5fY3VzdG9tQWNjZXNzVG9rZW58fGZ1bmN0aW9uKHQpe2Zvcihjb25zdCBlIG9mIHQpe2NvbnN0IHQ9ZS5tYXRjaCgvXmFjY2Vzc190b2tlbj0oLiopJC8pO2lmKHQpcmV0dXJuIHRbMV19cmV0dXJuIG51bGx9KG4ucGFyYW1zKXx8aS5BQ0NFU1NfVE9LRU47cmV0dXJuIGkuUkVRVUlSRV9BQ0NFU1NfVE9LRU4mJmEmJnRoaXMuX3NrdVRva2VuJiZuLnBhcmFtcy5wdXNoKGBza3U9JHt0aGlzLl9za3VUb2tlbn1gKSx0aGlzLl9tYWtlQVBJVVJMKG4sYSl9Y2Fub25pY2FsaXplVGlsZVVSTCh0LGUpe2NvbnN0IHI9X3QodCk7aWYoIXIucGF0aC5tYXRjaCgvXihcXC92NFxcL3xcXC9yYXN0ZXJcXC92MVxcLykvKXx8IXIucGF0aC5tYXRjaCgvXFwuW1xcd10rJC8pKXJldHVybiB0O2xldCBuPVwibWFwYm94Oi8vXCI7ci5wYXRoLm1hdGNoKC9eXFwvcmFzdGVyXFwvdjFcXC8vKT9uKz1gcmFzdGVyLyR7ci5wYXRoLnJlcGxhY2UoYC8ke2kuUkFTVEVSX1VSTF9QUkVGSVh9L2AsXCJcIil9YDpuKz1gdGlsZXMvJHtyLnBhdGgucmVwbGFjZShgLyR7aS5USUxFX1VSTF9WRVJTSU9OfS9gLFwiXCIpfWA7bGV0IHM9ci5wYXJhbXM7cmV0dXJuIGUmJihzPXMuZmlsdGVyKCh0PT4hdC5tYXRjaCgvXmFjY2Vzc190b2tlbj0vKSkpKSxzLmxlbmd0aCYmKG4rPWA/JHtzLmpvaW4oXCImXCIpfWApLG59Y2Fub25pY2FsaXplVGlsZXNldCh0LGUpe2NvbnN0IHI9ISFlJiZtdChlKSxuPVtdO2Zvcihjb25zdCBlIG9mIHQudGlsZXN8fFtdKWd0KGUpP24ucHVzaCh0aGlzLmNhbm9uaWNhbGl6ZVRpbGVVUkwoZSxyKSk6bi5wdXNoKGUpO3JldHVybiBufV9tYWtlQVBJVVJMKHQsZSl7Y29uc3Qgcj1cIlNlZSBodHRwczovL3d3dy5tYXBib3guY29tL2FwaS1kb2N1bWVudGF0aW9uLyNhY2Nlc3MtdG9rZW5zLWFuZC10b2tlbi1zY29wZXNcIixuPV90KGkuQVBJX1VSTCk7aWYodC5wcm90b2NvbD1uLnByb3RvY29sLHQuYXV0aG9yaXR5PW4uYXV0aG9yaXR5LFwiaHR0cFwiPT09dC5wcm90b2NvbCl7Y29uc3QgZT10LnBhcmFtcy5pbmRleE9mKFwic2VjdXJlXCIpO2U+PTAmJnQucGFyYW1zLnNwbGljZShlLDEpO31pZihcIi9cIiE9PW4ucGF0aCYmKHQucGF0aD1gJHtuLnBhdGh9JHt0LnBhdGh9YCksIWkuUkVRVUlSRV9BQ0NFU1NfVE9LRU4pcmV0dXJuIHd0KHQpO2lmKGU9ZXx8aS5BQ0NFU1NfVE9LRU4sIXRoaXMuX3NpbGVuY2VBdXRoRXJyb3JzKXtpZighZSl0aHJvdyBuZXcgRXJyb3IoYEFuIEFQSSBhY2Nlc3MgdG9rZW4gaXMgcmVxdWlyZWQgdG8gdXNlIE1hcGJveCBHTC4gJHtyfWApO2lmKFwic1wiPT09ZVswXSl0aHJvdyBuZXcgRXJyb3IoYFVzZSBhIHB1YmxpYyBhY2Nlc3MgdG9rZW4gKHBrLiopIHdpdGggTWFwYm94IEdMLCBub3QgYSBzZWNyZXQgYWNjZXNzIHRva2VuIChzay4qKS4gJHtyfWApfXJldHVybiB0LnBhcmFtcz10LnBhcmFtcy5maWx0ZXIoKHQ9Pi0xPT09dC5pbmRleE9mKFwiYWNjZXNzX3Rva2VuXCIpKSksdC5wYXJhbXMucHVzaChgYWNjZXNzX3Rva2VuPSR7ZXx8XCJcIn1gKSx3dCh0KX19LHQuUmVzb3VyY2VUeXBlPXN0LHQuU2VnbWVudFZlY3Rvcj1Ubyx0LlNvdXJjZUNhY2hlPWx5LHQuU3RlbmNpbE1vZGU9bnksdC5TdHJ1Y3RBcnJheUxheW91dDF1aTI9VGEsdC5TdHJ1Y3RBcnJheUxheW91dDJmMWYyaTE2PXZhLHQuU3RydWN0QXJyYXlMYXlvdXQyaTQ9YWEsdC5TdHJ1Y3RBcnJheUxheW91dDJ1aTQ9emEsdC5TdHJ1Y3RBcnJheUxheW91dDNmMTI9X2EsdC5TdHJ1Y3RBcnJheUxheW91dDN1aTY9d2EsdC5TdHJ1Y3RBcnJheUxheW91dDRpOD1sYSx0LlN0cnVjdEFycmF5TGF5b3V0NWYyMD1JYSx0LlRleHR1cmU9TWQsdC5UaWxlPU9kLHQuVHJhbnNpdGlvbmFibGU9T3MsdC5Vbmlmb3JtMWY9c28sdC5Vbmlmb3JtMWk9Y2xhc3MgZXh0ZW5kcyBpb3tjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KSx0aGlzLmN1cnJlbnQ9MDt9c2V0KHQsZSxyKXt0aGlzLmZldGNoVW5pZm9ybUxvY2F0aW9uKHQsZSkmJnRoaXMuY3VycmVudCE9PXImJih0aGlzLmN1cnJlbnQ9cix0aGlzLmdsLnVuaWZvcm0xaSh0aGlzLmxvY2F0aW9uLHIpKTt9fSx0LlVuaWZvcm0yZj1jbGFzcyBleHRlbmRzIGlve2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMuY3VycmVudD1bMCwwXTt9c2V0KHQsZSxyKXt0aGlzLmZldGNoVW5pZm9ybUxvY2F0aW9uKHQsZSkmJihyWzBdPT09dGhpcy5jdXJyZW50WzBdJiZyWzFdPT09dGhpcy5jdXJyZW50WzFdfHwodGhpcy5jdXJyZW50PXIsdGhpcy5nbC51bmlmb3JtMmYodGhpcy5sb2NhdGlvbixyWzBdLHJbMV0pKSk7fX0sdC5Vbmlmb3JtM2Y9Y2xhc3MgZXh0ZW5kcyBpb3tjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KSx0aGlzLmN1cnJlbnQ9WzAsMCwwXTt9c2V0KHQsZSxyKXt0aGlzLmZldGNoVW5pZm9ybUxvY2F0aW9uKHQsZSkmJihyWzBdPT09dGhpcy5jdXJyZW50WzBdJiZyWzFdPT09dGhpcy5jdXJyZW50WzFdJiZyWzJdPT09dGhpcy5jdXJyZW50WzJdfHwodGhpcy5jdXJyZW50PXIsdGhpcy5nbC51bmlmb3JtM2YodGhpcy5sb2NhdGlvbixyWzBdLHJbMV0sclsyXSkpKTt9fSx0LlVuaWZvcm00Zj1hbyx0LlVuaWZvcm1Db2xvcj1vbyx0LlVuaWZvcm1NYXRyaXgyZj1jbGFzcyBleHRlbmRzIGlve2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMuY3VycmVudD1jbzt9c2V0KHQsZSxyKXtpZih0aGlzLmZldGNoVW5pZm9ybUxvY2F0aW9uKHQsZSkpZm9yKGxldCB0PTA7dDw0O3QrKylpZihyW3RdIT09dGhpcy5jdXJyZW50W3RdKXt0aGlzLmN1cnJlbnQ9cix0aGlzLmdsLnVuaWZvcm1NYXRyaXgyZnYodGhpcy5sb2NhdGlvbiwhMSxyKTticmVha319fSx0LlVuaWZvcm1NYXRyaXgzZj1jbGFzcyBleHRlbmRzIGlve2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMuY3VycmVudD11bzt9c2V0KHQsZSxyKXtpZih0aGlzLmZldGNoVW5pZm9ybUxvY2F0aW9uKHQsZSkpZm9yKGxldCB0PTA7dDw5O3QrKylpZihyW3RdIT09dGhpcy5jdXJyZW50W3RdKXt0aGlzLmN1cnJlbnQ9cix0aGlzLmdsLnVuaWZvcm1NYXRyaXgzZnYodGhpcy5sb2NhdGlvbiwhMSxyKTticmVha319fSx0LlVuaWZvcm1NYXRyaXg0Zj1jbGFzcyBleHRlbmRzIGlve2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMuY3VycmVudD1sbzt9c2V0KHQsZSxyKXtpZih0aGlzLmZldGNoVW5pZm9ybUxvY2F0aW9uKHQsZSkpe2lmKHJbMTJdIT09dGhpcy5jdXJyZW50WzEyXXx8clswXSE9PXRoaXMuY3VycmVudFswXSlyZXR1cm4gdGhpcy5jdXJyZW50PXIsdm9pZCB0aGlzLmdsLnVuaWZvcm1NYXRyaXg0ZnYodGhpcy5sb2NhdGlvbiwhMSxyKTtmb3IobGV0IHQ9MTt0PDE2O3QrKylpZihyW3RdIT09dGhpcy5jdXJyZW50W3RdKXt0aGlzLmN1cnJlbnQ9cix0aGlzLmdsLnVuaWZvcm1NYXRyaXg0ZnYodGhpcy5sb2NhdGlvbiwhMSxyKTticmVha319fX0sdC5VbndyYXBwZWRUaWxlSUQ9WWMsdC5WYWxpZGF0aW9uRXJyb3I9WW4sdC5WZWN0b3JUaWxlRmVhdHVyZT1CYyx0LlZlY3RvclRpbGVXb3JrZXJTb3VyY2U9Y2xhc3MgZXh0ZW5kcyBLdHtjb25zdHJ1Y3Rvcih0LGUscixuLGkpe3N1cGVyKCksdGhpcy5hY3Rvcj10LHRoaXMubGF5ZXJJbmRleD1lLHRoaXMuYXZhaWxhYmxlSW1hZ2VzPXIsdGhpcy5sb2FkVmVjdG9yRGF0YT1pfHxfeSx0aGlzLmxvYWRpbmc9e30sdGhpcy5sb2FkZWQ9e30sdGhpcy5kZWR1cGVkPW5ldyBieSh0LnNjaGVkdWxlciksdGhpcy5pc1Nwcml0ZUxvYWRlZD1uLHRoaXMuc2NoZWR1bGVyPXQuc2NoZWR1bGVyO31sb2FkVGlsZSh0LGUpe2NvbnN0IHI9dC51aWQsbj10JiZ0LnJlcXVlc3QsaT1uJiZuLmNvbGxlY3RSZXNvdXJjZVRpbWluZyxzPXRoaXMubG9hZGluZ1tyXT1uZXcgeHkodCk7cy5hYm9ydD10aGlzLmxvYWRWZWN0b3JEYXRhKHQsKChhLG8pPT57Y29uc3QgbD0hdGhpcy5sb2FkaW5nW3JdO2lmKGRlbGV0ZSB0aGlzLmxvYWRpbmdbcl0sbHx8YXx8IW8pcmV0dXJuIHMuc3RhdHVzPVwiZG9uZVwiLGx8fCh0aGlzLmxvYWRlZFtyXT1zKSxlKGEpO2NvbnN0IHU9by5yYXdEYXRhLGM9e307by5leHBpcmVzJiYoYy5leHBpcmVzPW8uZXhwaXJlcyksby5jYWNoZUNvbnRyb2wmJihjLmNhY2hlQ29udHJvbD1vLmNhY2hlQ29udHJvbCkscy52ZWN0b3JUaWxlPW8udmVjdG9yVGlsZXx8bmV3IFRjKG5ldyBFaCh1KSk7Y29uc3QgaD0oKT0+e3MucGFyc2Uocy52ZWN0b3JUaWxlLHRoaXMubGF5ZXJJbmRleCx0aGlzLmF2YWlsYWJsZUltYWdlcyx0aGlzLmFjdG9yLCgodCxyKT0+e2lmKHR8fCFyKXJldHVybiBlKHQpO2NvbnN0IHM9e307aWYoaSl7Y29uc3QgdD1SdChuKTt0Lmxlbmd0aD4wJiYocy5yZXNvdXJjZVRpbWluZz1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHQpKSk7fWUobnVsbCxUKHtyYXdUaWxlRGF0YTp1LnNsaWNlKDApfSxyLGMscykpO30pKTt9O3RoaXMuaXNTcHJpdGVMb2FkZWQ/aCgpOnRoaXMub25jZShcImlzU3ByaXRlTG9hZGVkXCIsKCgpPT57dGhpcy5zY2hlZHVsZXI/dGhpcy5zY2hlZHVsZXIuYWRkKGgse3R5cGU6XCJwYXJzZVRpbGVcIixpc1N5bWJvbFRpbGU6dC5pc1N5bWJvbFRpbGUsem9vbTp0LnRpbGVab29tfSk6aCgpO30pKSx0aGlzLmxvYWRlZD10aGlzLmxvYWRlZHx8e30sdGhpcy5sb2FkZWRbcl09czt9KSk7fXJlbG9hZFRpbGUodCxlKXtjb25zdCByPXRoaXMubG9hZGVkLG49dC51aWQsaT10aGlzO2lmKHImJnJbbl0pe2NvbnN0IHM9cltuXTtzLnNob3dDb2xsaXNpb25Cb3hlcz10LnNob3dDb2xsaXNpb25Cb3hlcyxzLmVuYWJsZVRlcnJhaW49ISF0LmVuYWJsZVRlcnJhaW4scy5wcm9qZWN0aW9uPXQucHJvamVjdGlvbixzLnRpbGVUcmFuc2Zvcm09amYodC50aWxlSUQuY2Fub25pY2FsLHQucHJvamVjdGlvbik7Y29uc3QgYT0odCxyKT0+e2NvbnN0IG49cy5yZWxvYWRDYWxsYmFjaztuJiYoZGVsZXRlIHMucmVsb2FkQ2FsbGJhY2sscy5wYXJzZShzLnZlY3RvclRpbGUsaS5sYXllckluZGV4LHRoaXMuYXZhaWxhYmxlSW1hZ2VzLGkuYWN0b3IsbikpLGUodCxyKTt9O1wicGFyc2luZ1wiPT09cy5zdGF0dXM/cy5yZWxvYWRDYWxsYmFjaz1hOlwiZG9uZVwiPT09cy5zdGF0dXMmJihzLnZlY3RvclRpbGU/cy5wYXJzZShzLnZlY3RvclRpbGUsdGhpcy5sYXllckluZGV4LHRoaXMuYXZhaWxhYmxlSW1hZ2VzLHRoaXMuYWN0b3IsYSk6YSgpKTt9fWFib3J0VGlsZSh0LGUpe2NvbnN0IHI9dC51aWQsbj10aGlzLmxvYWRpbmdbcl07biYmKG4uYWJvcnQmJm4uYWJvcnQoKSxkZWxldGUgdGhpcy5sb2FkaW5nW3JdKSxlKCk7fXJlbW92ZVRpbGUodCxlKXtjb25zdCByPXRoaXMubG9hZGVkLG49dC51aWQ7ciYmcltuXSYmZGVsZXRlIHJbbl0sZSgpO319LHQuV3JpdGluZ01vZGU9c3AsdC5ab29tSGlzdG9yeT1HaSx0LmFkZD1VbCx0LmFkZER5bmFtaWNBdHRyaWJ1dGVzPXBkLHQuYWRqb2ludD1mdW5jdGlvbih0LGUpe3ZhciByPWVbMF0sbj1lWzFdLGk9ZVsyXSxzPWVbM10sYT1lWzRdLG89ZVs1XSxsPWVbNl0sdT1lWzddLGM9ZVs4XTtyZXR1cm4gdFswXT1hKmMtbyp1LHRbMV09aSp1LW4qYyx0WzJdPW4qby1pKmEsdFszXT1vKmwtcypjLHRbNF09cipjLWkqbCx0WzVdPWkqcy1yKm8sdFs2XT1zKnUtYSpsLHRbN109bipsLXIqdSx0WzhdPXIqYS1uKnMsdH0sdC5hc3luY0FsbD1NLHQuYmV6aWVyPXcsdC5iaW5kQWxsPVYsdC5ib3VuZHNBdHRyaWJ1dGVzPWpkLHQuYnVmZmVyQ29udmV4UG9seWdvbj1mdW5jdGlvbih0LGUpe2NvbnN0IHI9W107Zm9yKGxldCBuPTA7bjx0Lmxlbmd0aDtuKyspe2NvbnN0IGk9SShuLTEsLTEsdC5sZW5ndGgtMSkscz1JKG4rMSwtMSx0Lmxlbmd0aC0xKSxhPXRbbl0sbz10W3NdLGw9dFtpXS5zdWIoYSkudW5pdCgpLHU9by5zdWIoYSkudW5pdCgpLGM9dS5hbmdsZVdpdGhTZXAobC54LGwueSksaD1sLmFkZCh1KS51bml0KCkubXVsdCgtMSplL01hdGguc2luKGMvMikpO3IucHVzaChhLmFkZChoKSk7fXJldHVybiByfSx0LmNhY2hlRW50cnlQb3NzaWJseUFkZGVkPWZ1bmN0aW9uKHQpe2l0KyssaXQ+dHQmJih0LmdldEFjdG9yKCkuc2VuZChcImVuZm9yY2VDYWNoZVNpemVMaW1pdFwiLFEpLGl0PTApO30sdC5jYWxjdWxhdGVHbG9iZUxhYmVsTWF0cml4PWZ1bmN0aW9uKHQsZSl7Y29uc3R7eDpyLHk6bn09dC5wb2ludCxpPUNmKHIsbix0LndvcmxkU2l6ZS90Ll9waXhlbHNQZXJNZXJjYXRvclBpeGVsLDAsMCk7cmV0dXJuIE1sKGksaSxQZih2ZihlKSkpfSx0LmNhbGN1bGF0ZUdsb2JlTWF0cml4PWZ1bmN0aW9uKHQpe2NvbnN0e3g6ZSx5OnJ9PXQucG9pbnQse2xuZzpuLGxhdDppfT10Ll9jZW50ZXI7cmV0dXJuIENmKGUscix0LndvcmxkU2l6ZSxuLGkpfSx0LmNhbGN1bGF0ZUdsb2JlTWVyY2F0b3JNYXRyaXg9ZnVuY3Rpb24odCl7Y29uc3QgZT10LnBpeGVsc1Blck1ldGVyLHI9ZS9SbygxLHQuY2VudGVyLmxhdCksbj1rbChuZXcgRmxvYXQ2NEFycmF5KDE2KSk7cmV0dXJuIHpsKG4sbixbdC5wb2ludC54LHQucG9pbnQueSwwXSksVGwobixuLFtyLHIsZV0pLEZsb2F0MzJBcnJheS5mcm9tKG4pfSx0LmNpcmN1bWZlcmVuY2VBdExhdGl0dWRlPVZvLHQuY2xhbXA9Uyx0LmNsZWFyVGlsZUNhY2hlPWZ1bmN0aW9uKHQpe2lmKCFldCgpKXJldHVybjtjb25zdCByPWUuY2FjaGVzLmRlbGV0ZShZKTt0JiZyLmNhdGNoKHQpLnRoZW4oKCgpPT50KCkpKTt9LHQuY2xpcExpbmU9VHAsdC5jbG9uZT1mdW5jdGlvbih0KXt2YXIgZT1uZXcgd2woMTYpO3JldHVybiBlWzBdPXRbMF0sZVsxXT10WzFdLGVbMl09dFsyXSxlWzNdPXRbM10sZVs0XT10WzRdLGVbNV09dFs1XSxlWzZdPXRbNl0sZVs3XT10WzddLGVbOF09dFs4XSxlWzldPXRbOV0sZVsxMF09dFsxMF0sZVsxMV09dFsxMV0sZVsxMl09dFsxMl0sZVsxM109dFsxM10sZVsxNF09dFsxNF0sZVsxNV09dFsxNV0sZX0sdC5jbG9uZSQxPVUsdC5jb2xsaXNpb25DaXJjbGVMYXlvdXQ9YmgsdC5jb25maWc9aSx0LmNvbmp1Z2F0ZT1mdW5jdGlvbih0LGUpe3JldHVybiB0WzBdPS1lWzBdLHRbMV09LWVbMV0sdFsyXT0tZVsyXSx0WzNdPWVbM10sdH0sdC5jcmVhdGU9ZnVuY3Rpb24oKXt2YXIgdD1uZXcgd2woMTYpO3JldHVybiB3bCE9RmxvYXQzMkFycmF5JiYodFsxXT0wLHRbMl09MCx0WzNdPTAsdFs0XT0wLHRbNl09MCx0WzddPTAsdFs4XT0wLHRbOV09MCx0WzExXT0wLHRbMTJdPTAsdFsxM109MCx0WzE0XT0wKSx0WzBdPTEsdFs1XT0xLHRbMTBdPTEsdFsxNV09MSx0fSx0LmNyZWF0ZSQxPUFsLHQuY3JlYXRlRXhwcmVzc2lvbj1Obix0LmNyZWF0ZUxheW91dD1pYSx0LmNyZWF0ZVN0eWxlTGF5ZXI9ZnVuY3Rpb24odCl7cmV0dXJuIFwiY3VzdG9tXCI9PT10LnR5cGU/bmV3IEFkKHQpOm5ldyBJZFt0LnR5cGVdKHQpfSx0LmNyb3NzPUtsLHQuZGVnVG9SYWQ9eCx0LmRpc3RhbmNlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIE1hdGguaHlwb3QoZVswXS10WzBdLGVbMV0tdFsxXSxlWzJdLXRbMl0pfSx0LmRpdj1mdW5jdGlvbih0LGUscil7cmV0dXJuIHRbMF09ZVswXS9yWzBdLHRbMV09ZVsxXS9yWzFdLHRbMl09ZVsyXS9yWzJdLHR9LHQuZG90PVhsLHQuZWFydGhSYWRpdXM9UG8sdC5lYXNlPUEsdC5lYXNlQ3ViaWNJbk91dD1fLHQuZWNlZlRvTGF0TG5nPWZ1bmN0aW9uKFt0LGUscl0pe2NvbnN0IG49TWF0aC5oeXBvdCh0LGUsciksaT1NYXRoLmF0YW4yKHQscikscz0uNSpNYXRoLlBJLU1hdGguYWNvcygtZS9uKTtyZXR1cm4gbmV3IENvKHYoaSksdihzKSl9LHQuZW1pdFZhbGlkYXRpb25FcnJvcnM9RmksdC5lbmRzV2l0aD1GLHQuZW5mb3JjZUNhY2hlU2l6ZUxpbWl0PWZ1bmN0aW9uKHQpe3J0KCksVyYmVy50aGVuKChlPT57ZS5rZXlzKCkudGhlbigocj0+e2ZvcihsZXQgbj0wO248ci5sZW5ndGgtdDtuKyspZS5kZWxldGUocltuXSk7fSkpO30pKTt9LHQuZXZhbHVhdGVTaXplRm9yRmVhdHVyZT1TaCx0LmV2YWx1YXRlU2l6ZUZvclpvb209a2gsdC5ldmFsdWF0ZVZhcmlhYmxlT2Zmc2V0PUtwLHQuZXZlbnRlZD1Wcyx0LmV4YWN0RXF1YWxzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRbMF09PT1lWzBdJiZ0WzFdPT09ZVsxXSYmdFsyXT09PWVbMl0mJnRbM109PT1lWzNdfSx0LmV4YWN0RXF1YWxzJDE9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdFswXT09PWVbMF0mJnRbMV09PT1lWzFdJiZ0WzJdPT09ZVsyXX0sdC5leHBvcnRlZD1xdCx0LmV4cG9ydGVkJDE9cyx0LmV4dGVuZD1ULHQuZXh0ZW5kJDE9WXQsdC5maWxsRXh0cnVzaW9uSGVpZ2h0TGlmdD1OYyx0LmZpbHRlck9iamVjdD1SLHQuZnJvbU1hdDQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdFswXT1lWzBdLHRbMV09ZVsxXSx0WzJdPWVbMl0sdFszXT1lWzRdLHRbNF09ZVs1XSx0WzVdPWVbNl0sdFs2XT1lWzhdLHRbN109ZVs5XSx0WzhdPWVbMTBdLHR9LHQuZnJvbVF1YXQ9ZnVuY3Rpb24odCxlKXt2YXIgcj1lWzBdLG49ZVsxXSxpPWVbMl0scz1lWzNdLGE9cityLG89bituLGw9aStpLHU9ciphLGM9biphLGg9bipvLHA9aSphLGY9aSpvLGQ9aSpsLHk9cyphLG09cypvLGc9cypsO3JldHVybiB0WzBdPTEtaC1kLHRbMV09YytnLHRbMl09cC1tLHRbM109MCx0WzRdPWMtZyx0WzVdPTEtdS1kLHRbNl09Zit5LHRbN109MCx0WzhdPXArbSx0WzldPWYteSx0WzEwXT0xLXUtaCx0WzExXT0wLHRbMTJdPTAsdFsxM109MCx0WzE0XT0wLHRbMTVdPTEsdH0sdC5mcm9tUm90YXRpb249ZnVuY3Rpb24odCxlKXt2YXIgcj1NYXRoLnNpbihlKSxuPU1hdGguY29zKGUpO3JldHVybiB0WzBdPW4sdFsxXT1yLHRbMl09MCx0WzNdPS1yLHRbNF09bix0WzVdPTAsdFs2XT0wLHRbN109MCx0WzhdPTEsdH0sdC5mcm9tU2NhbGluZz1QbCx0LmZ1cnRoZXN0VGlsZUNvcm5lcj1mdW5jdGlvbih0KXtjb25zdCBlPU1hdGgucm91bmQoKHQrNDUrMzYwKSUzNjAvOTApJTQ7cmV0dXJuIGJbZV19LHQuZ2V0QUFCQlBvaW50U3F1YXJlRGlzdD1mdW5jdGlvbih0LGUscil7bGV0IG49MDtmb3IobGV0IGk9MDtpPDI7KytpKXtjb25zdCBzPXI/cltpXTowO3RbaV0+cyYmKG4rPSh0W2ldLXMpKih0W2ldLXMpKSxlW2ldPHMmJihuKz0ocy1lW2ldKSoocy1lW2ldKSk7fXJldHVybiBufSx0LmdldEFuY2hvckFsaWdubWVudD1ncCx0LmdldEFuY2hvckp1c3RpZmljYXRpb249WXAsdC5nZXRCb3VuZHM9ZnVuY3Rpb24odCl7bGV0IGU9MS8wLHI9MS8wLG49LTEvMCxpPS0xLzA7Zm9yKGNvbnN0IHMgb2YgdCllPU1hdGgubWluKGUscy54KSxyPU1hdGgubWluKHIscy55KSxuPU1hdGgubWF4KG4scy54KSxpPU1hdGgubWF4KGkscy55KTtyZXR1cm4ge21pbjpuZXcgZChlLHIpLG1heDpuZXcgZChuLGkpfX0sdC5nZXRDb2x1bW49SCx0LmdldEdyaWRNYXRyaXg9ZnVuY3Rpb24odCxlLHIsbil7Y29uc3QgaT1lLmdldE5vcnRoKCkscz1lLmdldFNvdXRoKCksYT1lLmdldFdlc3QoKSxvPWUuZ2V0RWFzdCgpLGw9MTw8dC56LHU9by1hLGM9aS1zLGg9dS9oZixwPS1jL3BmW3JdLGY9WzAsaCwwLHAsMCwwLGksYSwwXTtpZih0Lno+MCl7Y29uc3QgdD0xODAvbjtTbChmLGYsW3QvdSsxLDAsMCwwLHQvYysxLDAsLS41KnQvaCwuNSp0L3AsMV0pO31yZXR1cm4gZlsyXT1sLGZbNV09dC54LGZbOF09dC55LGZ9LHQuZ2V0SW1hZ2U9ZHQsdC5nZXRKU09OPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGx0KFQodCx7dHlwZTpcImpzb25cIn0pLGUpfSx0LmdldExhdGl0dWRpbmFsTG9kPWZ1bmN0aW9uKHQpe2NvbnN0IGU9ODAuMDUxMTI5O3Q9Uyh0LC04MC4wNTExMjksZSkvZSo5MDtjb25zdCByPU1hdGgucG93KE1hdGguYWJzKE1hdGguc2luKHgodCkpKSwzKTtyZXR1cm4gTWF0aC5yb3VuZChyKihwZi5sZW5ndGgtMSkpfSx0LmdldE1hcFNlc3Npb25BUEk9UHQsdC5nZXRQZXJmb3JtYW5jZU1lYXN1cmVtZW50PVJ0LHQuZ2V0UHJvamVjdGlvbj1vZCx0LmdldFJUTFRleHRQbHVnaW5TdGF0dXM9RnMsdC5nZXRSZWZlcnJlcj1vdCx0LmdldFRpbGVQb2ludD1mdW5jdGlvbih0LHt4OmUseTpyfSxuPTApe3JldHVybiBuZXcgZCgoKGUtbikqdC5zY2FsZS10LngpKkJvLChyKnQuc2NhbGUtdC55KSpCbyl9LHQuZ2V0VGlsZVZlYzM9ZnVuY3Rpb24odCxlLHI9MCl7cmV0dXJuIFJsKCgoZS54LXIpKnQuc2NhbGUtdC54KSpCbywoZS55KnQuc2NhbGUtdC55KSpCbywkbyhlLnosZS55KSl9LHQuZ2V0VmlkZW89ZnVuY3Rpb24odCxyKXtjb25zdCBuPWUuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInZpZGVvXCIpO24ubXV0ZWQ9ITAsbi5vbmxvYWRzdGFydD1mdW5jdGlvbigpe3IobnVsbCxuKTt9O2ZvcihsZXQgcj0wO3I8dC5sZW5ndGg7cisrKXtjb25zdCBpPWUuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNvdXJjZVwiKTtjdCh0W3JdKXx8KG4uY3Jvc3NPcmlnaW49XCJBbm9ueW1vdXNcIiksaS5zcmM9dFtyXSxuLmFwcGVuZENoaWxkKGkpO31yZXR1cm4ge2NhbmNlbDooKT0+e319fSx0Lmdsb2JlQ2VudGVyVG9TY3JlZW5Qb2ludD1mdW5jdGlvbih0KXtjb25zdCBlPVswLDAsMF0scj1rbChuZXcgRmxvYXQ2NEFycmF5KDE2KSk7cmV0dXJuIE1sKHIsdC5waXhlbE1hdHJpeCx0Lmdsb2JlTWF0cml4KSxIbChlLGUsciksbmV3IGQoZVswXSxlWzFdKX0sdC5nbG9iZURlbm9ybWFsaXplRUNFRj1QZix0Lmdsb2JlRUNFRk9yaWdpbj1mdW5jdGlvbih0LGUpe2NvbnN0IHI9WzAsMCwwXTtyZXR1cm4gSGwocixyLEVmKHZmKGUuY2Fub25pY2FsKSkpLEhsKHIscix0KSxyfSx0Lmdsb2JlTm9ybWFsaXplRUNFRj1FZix0Lmdsb2JlUGl4ZWxzVG9UaWxlVW5pdHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gQm8vKDUxMipNYXRoLnBvdygyLHQpKSpUZih2ZihlKSl9LHQuZ2xvYmVQb2xlTWF0cml4Rm9yVGlsZT1mdW5jdGlvbih0LGUscil7Y29uc3Qgbj1rbChuZXcgRmxvYXQ2NEFycmF5KDE2KSksaT0oZS8oMTw8dCktLjUpKk1hdGguUEkqMjtyZXR1cm4gRWwobixyLmdsb2JlTWF0cml4LGkpLEZsb2F0MzJBcnJheS5mcm9tKG4pfSx0Lmdsb2JlVGlsZUJvdW5kcz12Zix0Lmdsb2JlVGlsdEF0TG5nTGF0PVZmLHQuZ2xvYmVUb01lcmNhdG9yVHJhbnNpdGlvbj1EZix0Lmdsb2JlVXNlQ3VzdG9tQW50aUFsaWFzaW5nPWZ1bmN0aW9uKHQsZSxyKXtjb25zdCBuPURmKHIuem9vbSksaT10LnN0eWxlLm1hcC5fYW50aWFsaWFzLHM9ISFlLmV4dFN0YW5kYXJkRGVyaXZhdGl2ZXMsYT1lLmV4dFN0YW5kYXJkRGVyaXZhdGl2ZXNGb3JjZU9mZnx8dC50ZXJyYWluJiZ0LnRlcnJhaW4uZXhhZ2dlcmF0aW9uKCk+MDtyZXR1cm4gMD09PW4mJiFpJiYhYSYmc30sdC5pZGVudGl0eT1rbCx0LmlkZW50aXR5JDE9c3UsdC5pbnZlcnQ9SWwsdC5pc0Z1bGxzY3JlZW49ZnVuY3Rpb24oKXtyZXR1cm4gISFlLmRvY3VtZW50LmZ1bGxzY3JlZW5FbGVtZW50fHwhIWUuZG9jdW1lbnQud2Via2l0RnVsbHNjcmVlbkVsZW1lbnR9LHQuaXNMbmdMYXRCZWhpbmRHbG9iZT1mdW5jdGlvbih0LGUpe3JldHVybiBWZih0LGUpPk1hdGguUEkvMioxLjAxfSx0LmlzTWFwQXV0aGVudGljYXRlZD1mdW5jdGlvbih0KXtyZXR1cm4gQ3QuaGFzKHQpfSx0LmlzTWFwYm94VVJMPW10LHQuaXNTYWZhcmlXaXRoQW50aWFsaWFzaW5nQnVnPWZ1bmN0aW9uKHQpe2NvbnN0IGU9dC5uYXZpZ2F0b3I/dC5uYXZpZ2F0b3IudXNlckFnZW50Om51bGw7cmV0dXJuICEhWCh0KSYmZSYmKGUubWF0Y2goXCJWZXJzaW9uLzE1LjRcIil8fGUubWF0Y2goXCJWZXJzaW9uLzE1LjVcIil8fGUubWF0Y2goL0NQVSAoT1N8aVBob25lIE9TKSAoMTVfNHwxNV81KSBsaWtlIE1hYyBPUyBYLykpfSx0LmxhdEZyb21NZXJjYXRvclk9am8sdC5sYXRMbmdUb0VDRUY9TWYsdC5sZW49dHUsdC5sZW5ndGg9TGwsdC5sZW5ndGgkMT1mdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5oeXBvdCh0WzBdLHRbMV0sdFsyXSx0WzNdKX0sdC5sbmdGcm9tTWVyY2F0b3JYPVVvLHQubG9hZFZlY3RvclRpbGU9X3ksdC5tYWtlUmVxdWVzdD1sdCx0Lm1hcFZhbHVlPWZ1bmN0aW9uKHQsZSxyLG4saSl7cmV0dXJuIFMoKHQtZSkvKHItZSkqKGktbikrbixuLGkpfSx0Lm1lcmNhdG9yU2NhbGU9cW8sdC5tZXJjYXRvclhmcm9tTG5nPUZvLHQubWVyY2F0b3JZZnJvbUxhdD1Mbyx0Lm1lcmNhdG9yWmZyb21BbHRpdHVkZT1Sbyx0Lm11bD1EbCx0Lm11bCQxPVFsLHQubXVsdGlwbHk9TWwsdC5tdWx0aXBseSQxPVNsLHQubXVsdGlwbHkkMj0kbCx0Lm5leHRQb3dlck9mVHdvPUMsdC5ub3JtYWxpemU9WmwsdC5ub3JtYWxpemUkMT1sdSx0Lm5vcm1hbGl6ZSQyPXJ1LHQubnVtYmVyPUlyLHQub3J0aG89ZnVuY3Rpb24odCxlLHIsbixpLHMsYSl7dmFyIG89MS8oZS1yKSxsPTEvKG4taSksdT0xLyhzLWEpO3JldHVybiB0WzBdPS0yKm8sdFsxXT0wLHRbMl09MCx0WzNdPTAsdFs0XT0wLHRbNV09LTIqbCx0WzZdPTAsdFs3XT0wLHRbOF09MCx0WzldPTAsdFsxMF09Mip1LHRbMTFdPTAsdFsxMl09KGUrcikqbyx0WzEzXT0oaStuKSpsLHRbMTRdPShhK3MpKnUsdFsxNV09MSx0fSx0LnBiZj1FaCx0LnBlcnNwZWN0aXZlPWZ1bmN0aW9uKHQsZSxyLG4saSl7dmFyIHMsYT0xL01hdGgudGFuKGUvMik7cmV0dXJuIHRbMF09YS9yLHRbMV09MCx0WzJdPTAsdFszXT0wLHRbNF09MCx0WzVdPWEsdFs2XT0wLHRbN109MCx0WzhdPTAsdFs5XT0wLHRbMTFdPS0xLHRbMTJdPTAsdFsxM109MCx0WzE1XT0wLG51bGwhPWkmJmkhPT0xLzA/KHRbMTBdPShpK24pKihzPTEvKG4taSkpLHRbMTRdPTIqaSpuKnMpOih0WzEwXT0tMSx0WzE0XT0tMipuKSx0fSx0LnBpY2s9ZnVuY3Rpb24odCxlKXtjb25zdCByPXt9O2ZvcihsZXQgbj0wO248ZS5sZW5ndGg7bisrKXtjb25zdCBpPWVbbl07aSBpbiB0JiYocltpXT10W2ldKTt9cmV0dXJuIHJ9LHQucGx1Z2luPVJzLHQucG9pbnRHZW9tZXRyeT1kLHQucG9seWdvbkNvbnRhaW5zUG9pbnQ9cGwsdC5wb2x5Z29uSW50ZXJzZWN0c0JveD1mbCx0LnBvbHlnb25JbnRlcnNlY3RzUG9seWdvbj1ubCx0LnBvbHlnb25pemVCb3VuZHM9ZnVuY3Rpb24odCxlLHI9MCxuPSEwKXtjb25zdCBpPW5ldyBkKHIscikscz10LnN1YihpKSxhPWUuYWRkKGkpLG89W3MsbmV3IGQoYS54LHMueSksYSxuZXcgZChzLngsYS55KV07cmV0dXJuIG4mJm8ucHVzaChzLmNsb25lKCkpLG99LHQucG9zQXR0cmlidXRlcz1sZix0LnBvc3RNYXBMb2FkRXZlbnQ9enQsdC5wb3N0UGVyZm9ybWFuY2VFdmVudD1CdCx0LnBvc3RUdXJuc3RpbGVFdmVudD1JdCx0LnBvdHBhY2s9cnAsdC5wcmV2UG93ZXJPZlR3bz1mdW5jdGlvbih0KXtyZXR1cm4gdDw9MT8xOk1hdGgucG93KDIsTWF0aC5mbG9vcihNYXRoLmxvZyh0KS9NYXRoLkxOMikpfSx0LnJhZFRvRGVnPXYsdC5yZWZQcm9wZXJ0aWVzPVtcInR5cGVcIixcInNvdXJjZVwiLFwic291cmNlLWxheWVyXCIsXCJtaW56b29tXCIsXCJtYXh6b29tXCIsXCJmaWx0ZXJcIixcImxheW91dFwiXSx0LnJlZ2lzdGVyRm9yUGx1Z2luU3RhdGVDaGFuZ2U9ZnVuY3Rpb24odCl7cmV0dXJuIHQoe3BsdWdpblN0YXR1czpFcyxwbHVnaW5VUkw6UHN9KSxWcy5vbihcInBsdWdpblN0YXRlQ2hhbmdlXCIsdCksdH0sdC5yZW1vdmVBdXRoU3RhdGU9ZnVuY3Rpb24odCl7Q3QuZGVsZXRlKHQpO30sdC5yZW5kZXJDb2xvclJhbXA9a3UsdC5yZXNhbXBsZT1abyx0LnJvdGF0ZVg9QmwsdC5yb3RhdGVYJDE9YXUsdC5yb3RhdGVZPUVsLHQucm90YXRlWSQxPW91LHQucm90YXRlWj1mdW5jdGlvbih0LGUscil7dmFyIG49TWF0aC5zaW4ociksaT1NYXRoLmNvcyhyKSxzPWVbMF0sYT1lWzFdLG89ZVsyXSxsPWVbM10sdT1lWzRdLGM9ZVs1XSxoPWVbNl0scD1lWzddO3JldHVybiBlIT09dCYmKHRbOF09ZVs4XSx0WzldPWVbOV0sdFsxMF09ZVsxMF0sdFsxMV09ZVsxMV0sdFsxMl09ZVsxMl0sdFsxM109ZVsxM10sdFsxNF09ZVsxNF0sdFsxNV09ZVsxNV0pLHRbMF09cyppK3Uqbix0WzFdPWEqaStjKm4sdFsyXT1vKmkraCpuLHRbM109bCppK3Aqbix0WzRdPXUqaS1zKm4sdFs1XT1jKmktYSpuLHRbNl09aCppLW8qbix0WzddPXAqaS1sKm4sdH0sdC5yb3RhdGVaJDE9ZnVuY3Rpb24odCxlLHIpe3IqPS41O3ZhciBuPWVbMF0saT1lWzFdLHM9ZVsyXSxhPWVbM10sbz1NYXRoLnNpbihyKSxsPU1hdGguY29zKHIpO3JldHVybiB0WzBdPW4qbCtpKm8sdFsxXT1pKmwtbipvLHRbMl09cypsK2Eqbyx0WzNdPWEqbC1zKm8sdH0sdC5zY2FsZT1UbCx0LnNjYWxlJDE9ZXUsdC5zY2FsZSQyPU5sLHQuc2NhbGVBbmRBZGQ9R2wsdC5zZXQ9ZnVuY3Rpb24odCxlLHIsbil7cmV0dXJuIHRbMF09ZSx0WzFdPXIsdFsyXT1uLHR9LHQuc2V0Q2FjaGVMaW1pdHM9ZnVuY3Rpb24odCxlKXtRPXQsdHQ9ZTt9LHQuc2V0Q29sdW1uPWZ1bmN0aW9uKHQsZSxyKXt0WzQqZSswXT1yWzBdLHRbNCplKzFdPXJbMV0sdFs0KmUrMl09clsyXSx0WzQqZSszXT1yWzNdO30sdC5zZXRSVExUZXh0UGx1Z2luPWZ1bmN0aW9uKHQsZSxyPSExKXtpZihFcz09PU1zfHxFcz09PXpzfHxFcz09PVRzKXRocm93IG5ldyBFcnJvcihcInNldFJUTFRleHRQbHVnaW4gY2Fubm90IGJlIGNhbGxlZCBtdWx0aXBsZSB0aW1lcy5cIik7UHM9cXQucmVzb2x2ZVVSTCh0KSxFcz1NcyxCcz1lLERzKCkscnx8THMoKTt9LHQuc21vb3Roc3RlcD1rLHQuc3BlYz1IdCx0LnNxdWFyZWRMZW5ndGg9ZnVuY3Rpb24odCl7dmFyIGU9dFswXSxyPXRbMV0sbj10WzJdO3JldHVybiBlKmUrcipyK24qbn0sdC5zdG9yZUF1dGhTdGF0ZT1mdW5jdGlvbih0LGUpe2U/Q3QuYWRkKHQpOkN0LmRlbGV0ZSh0KTt9LHQuc3ViPUpsLHQuc3VidHJhY3Q9amwsdC5zeW1ib2xTaXplPUloLHQudGlsZUFBQkI9ZnVuY3Rpb24odCxlLHIsbixpLHMsYSxvLGwpe2lmKFwiZ2xvYmVcIj09PWwubmFtZSlyZXR1cm4gQWYodCxlLG5ldyBIYyhyLG4saSkpO2NvbnN0IHU9amYoe3o6cix4Om4seTppfSxsKTtyZXR1cm4gbmV3IHB1KFsocyt1LngvdS5zY2FsZSkqZSxlKih1LnkvdS5zY2FsZSksYV0sWyhzK3UueDIvdS5zY2FsZSkqZSxlKih1LnkyL3Uuc2NhbGUpLG9dKX0sdC50aWxlQ29ybmVyc1RvQm91bmRzPVNmLHQudGlsZVRyYW5zZm9ybT1qZix0LnRyYW5zZm9ybU1hdDM9ZnVuY3Rpb24odCxlLHIpe3ZhciBuPWVbMF0saT1lWzFdLHM9ZVsyXTtyZXR1cm4gdFswXT1uKnJbMF0raSpyWzNdK3Mqcls2XSx0WzFdPW4qclsxXStpKnJbNF0rcypyWzddLHRbMl09bipyWzJdK2kqcls1XStzKnJbOF0sdH0sdC50cmFuc2Zvcm1NYXQ0PUhsLHQudHJhbnNmb3JtTWF0NCQxPW51LHQudHJhbnNmb3JtUXVhdD1ZbCx0LnRyYW5zaXRpb25UaWxlQUFCQmluRUNFRj1fZix0LnRyYW5zbGF0ZT16bCx0LnRyYW5zcG9zZT1mdW5jdGlvbih0LGUpe2lmKHQ9PT1lKXt2YXIgcj1lWzFdLG49ZVsyXSxpPWVbNV07dFsxXT1lWzNdLHRbMl09ZVs2XSx0WzNdPXIsdFs1XT1lWzddLHRbNl09bix0WzddPWk7fWVsc2UgdFswXT1lWzBdLHRbMV09ZVszXSx0WzJdPWVbNl0sdFszXT1lWzFdLHRbNF09ZVs0XSx0WzVdPWVbN10sdFs2XT1lWzJdLHRbN109ZVs1XSx0WzhdPWVbOF07cmV0dXJuIHR9LHQudHJpZ2dlclBsdWdpbkNvbXBsZXRpb25FdmVudD1Dcyx0LnVuaXF1ZUlkPUUsdC51cGRhdGVHbG9iZVZlcnRleE5vcm1hbD1mdW5jdGlvbih0LGUscixuLGkpe2NvbnN0IHM9NSplKzI7dC5mbG9hdDMyW3MrMF09cix0LmZsb2F0MzJbcysxXT1uLHQuZmxvYXQzMltzKzJdPWk7fSx0LnZhbGlkYXRlQ3VzdG9tU3R5bGVMYXllcj1mdW5jdGlvbih0KXtjb25zdCBlPVtdLHI9dC5pZDtyZXR1cm4gdm9pZCAwPT09ciYmZS5wdXNoKHttZXNzYWdlOmBsYXllcnMuJHtyfTogbWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSBcImlkXCJgfSksdm9pZCAwPT09dC5yZW5kZXImJmUucHVzaCh7bWVzc2FnZTpgbGF5ZXJzLiR7cn06IG1pc3NpbmcgcmVxdWlyZWQgbWV0aG9kIFwicmVuZGVyXCJgfSksdC5yZW5kZXJpbmdNb2RlJiZcIjJkXCIhPT10LnJlbmRlcmluZ01vZGUmJlwiM2RcIiE9PXQucmVuZGVyaW5nTW9kZSYmZS5wdXNoKHttZXNzYWdlOmBsYXllcnMuJHtyfTogcHJvcGVydHkgXCJyZW5kZXJpbmdNb2RlXCIgbXVzdCBiZSBlaXRoZXIgXCIyZFwiIG9yIFwiM2RcImB9KSxlfSx0LnZhbGlkYXRlRmlsdGVyPXQ9PlZpKGdpKHQpKSx0LnZhbGlkYXRlRm9nPXQ9PlZpKHppKHQpKSx0LnZhbGlkYXRlTGF5ZXI9dD0+Vmkod2kodCkpLHQudmFsaWRhdGVMaWdodD10PT5WaShJaSh0KSksdC52YWxpZGF0ZVNvdXJjZT10PT5WaShraSh0KSksdC52YWxpZGF0ZVN0eWxlPVBpLHQudmFsaWRhdGVUZXJyYWluPXQ9PlZpKE1pKHQpKSx0LnZhbHVlcz16LHQudmVjdG9yVGlsZT1nYyx0LnZlcnNpb249cix0Lndhcm5PbmNlPSQsdC53aW5kb3c9ZSx0LndyYXA9STt9KSk7XG5cbmRlZmluZShbXCIuL3NoYXJlZFwiXSwoZnVuY3Rpb24oZSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gdChlKXtpZihcIm51bWJlclwiPT10eXBlb2YgZXx8XCJib29sZWFuXCI9PXR5cGVvZiBlfHxcInN0cmluZ1wiPT10eXBlb2YgZXx8bnVsbD09ZSlyZXR1cm4gSlNPTi5zdHJpbmdpZnkoZSk7aWYoQXJyYXkuaXNBcnJheShlKSl7bGV0IHI9XCJbXCI7Zm9yKGNvbnN0IG8gb2YgZSlyKz1gJHt0KG8pfSxgO3JldHVybiBgJHtyfV1gfWxldCByPVwie1wiO2Zvcihjb25zdCBvIG9mIE9iamVjdC5rZXlzKGUpLnNvcnQoKSlyKz1gJHtvfToke3QoZVtvXSl9LGA7cmV0dXJuIGAke3J9fWB9ZnVuY3Rpb24gcihyKXtsZXQgbz1cIlwiO2Zvcihjb25zdCBuIG9mIGUucmVmUHJvcGVydGllcylvKz1gLyR7dChyW25dKX1gO3JldHVybiBvfWNsYXNzIG97Y29uc3RydWN0b3IoZSl7dGhpcy5rZXlDYWNoZT17fSxlJiZ0aGlzLnJlcGxhY2UoZSk7fXJlcGxhY2UoZSl7dGhpcy5fbGF5ZXJDb25maWdzPXt9LHRoaXMuX2xheWVycz17fSx0aGlzLnVwZGF0ZShlLFtdKTt9dXBkYXRlKHQsbyl7Zm9yKGNvbnN0IHIgb2YgdCl0aGlzLl9sYXllckNvbmZpZ3Nbci5pZF09ciwodGhpcy5fbGF5ZXJzW3IuaWRdPWUuY3JlYXRlU3R5bGVMYXllcihyKSkuY29tcGlsZUZpbHRlcigpLHRoaXMua2V5Q2FjaGVbci5pZF0mJmRlbGV0ZSB0aGlzLmtleUNhY2hlW3IuaWRdO2Zvcihjb25zdCBlIG9mIG8pZGVsZXRlIHRoaXMua2V5Q2FjaGVbZV0sZGVsZXRlIHRoaXMuX2xheWVyQ29uZmlnc1tlXSxkZWxldGUgdGhpcy5fbGF5ZXJzW2VdO3RoaXMuZmFtaWxpZXNCeVNvdXJjZT17fTtjb25zdCBuPWZ1bmN0aW9uKGUsdCl7Y29uc3Qgbz17fTtmb3IobGV0IG49MDtuPGUubGVuZ3RoO24rKyl7Y29uc3QgaT10JiZ0W2Vbbl0uaWRdfHxyKGVbbl0pO3QmJih0W2Vbbl0uaWRdPWkpO2xldCBzPW9baV07c3x8KHM9b1tpXT1bXSkscy5wdXNoKGVbbl0pO31jb25zdCBuPVtdO2Zvcihjb25zdCBlIGluIG8pbi5wdXNoKG9bZV0pO3JldHVybiBufShlLnZhbHVlcyh0aGlzLl9sYXllckNvbmZpZ3MpLHRoaXMua2V5Q2FjaGUpO2Zvcihjb25zdCBlIG9mIG4pe2NvbnN0IHQ9ZS5tYXAoKGU9PnRoaXMuX2xheWVyc1tlLmlkXSkpLHI9dFswXTtpZihcIm5vbmVcIj09PXIudmlzaWJpbGl0eSljb250aW51ZTtjb25zdCBvPXIuc291cmNlfHxcIlwiO2xldCBuPXRoaXMuZmFtaWxpZXNCeVNvdXJjZVtvXTtufHwobj10aGlzLmZhbWlsaWVzQnlTb3VyY2Vbb109e30pO2NvbnN0IGk9ci5zb3VyY2VMYXllcnx8XCJfZ2VvanNvblRpbGVMYXllclwiO2xldCBzPW5baV07c3x8KHM9bltpXT1bXSkscy5wdXNoKHQpO319fWNsYXNzIG57bG9hZFRpbGUodCxyKXtjb25zdHt1aWQ6byxlbmNvZGluZzpuLHJhd0ltYWdlRGF0YTppLHBhZGRpbmc6cyxidWlsZFF1YWRUcmVlOmF9PXQsbD1lLndpbmRvdy5JbWFnZUJpdG1hcCYmaSBpbnN0YW5jZW9mIGUud2luZG93LkltYWdlQml0bWFwP3RoaXMuZ2V0SW1hZ2VEYXRhKGkscyk6aTtyKG51bGwsbmV3IGUuREVNRGF0YShvLGwsbixzPDEsYSkpO31nZXRJbWFnZURhdGEoZSx0KXt0aGlzLm9mZnNjcmVlbkNhbnZhcyYmdGhpcy5vZmZzY3JlZW5DYW52YXNDb250ZXh0fHwodGhpcy5vZmZzY3JlZW5DYW52YXM9bmV3IE9mZnNjcmVlbkNhbnZhcyhlLndpZHRoLGUuaGVpZ2h0KSx0aGlzLm9mZnNjcmVlbkNhbnZhc0NvbnRleHQ9dGhpcy5vZmZzY3JlZW5DYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpKSx0aGlzLm9mZnNjcmVlbkNhbnZhcy53aWR0aD1lLndpZHRoLHRoaXMub2Zmc2NyZWVuQ2FudmFzLmhlaWdodD1lLmhlaWdodCx0aGlzLm9mZnNjcmVlbkNhbnZhc0NvbnRleHQuZHJhd0ltYWdlKGUsMCwwLGUud2lkdGgsZS5oZWlnaHQpO2NvbnN0IHI9dGhpcy5vZmZzY3JlZW5DYW52YXNDb250ZXh0LmdldEltYWdlRGF0YSgtdCwtdCxlLndpZHRoKzIqdCxlLmhlaWdodCsyKnQpO3JldHVybiB0aGlzLm9mZnNjcmVlbkNhbnZhc0NvbnRleHQuY2xlYXJSZWN0KDAsMCx0aGlzLm9mZnNjcmVlbkNhbnZhcy53aWR0aCx0aGlzLm9mZnNjcmVlbkNhbnZhcy5oZWlnaHQpLHJ9fXZhciBpPWZ1bmN0aW9uIGUodCxyKXt2YXIgbyxuPXQmJnQudHlwZTtpZihcIkZlYXR1cmVDb2xsZWN0aW9uXCI9PT1uKWZvcihvPTA7bzx0LmZlYXR1cmVzLmxlbmd0aDtvKyspZSh0LmZlYXR1cmVzW29dLHIpO2Vsc2UgaWYoXCJHZW9tZXRyeUNvbGxlY3Rpb25cIj09PW4pZm9yKG89MDtvPHQuZ2VvbWV0cmllcy5sZW5ndGg7bysrKWUodC5nZW9tZXRyaWVzW29dLHIpO2Vsc2UgaWYoXCJGZWF0dXJlXCI9PT1uKWUodC5nZW9tZXRyeSxyKTtlbHNlIGlmKFwiUG9seWdvblwiPT09bilzKHQuY29vcmRpbmF0ZXMscik7ZWxzZSBpZihcIk11bHRpUG9seWdvblwiPT09bilmb3Iobz0wO288dC5jb29yZGluYXRlcy5sZW5ndGg7bysrKXModC5jb29yZGluYXRlc1tvXSxyKTtyZXR1cm4gdH07ZnVuY3Rpb24gcyhlLHQpe2lmKDAhPT1lLmxlbmd0aCl7YShlWzBdLHQpO2Zvcih2YXIgcj0xO3I8ZS5sZW5ndGg7cisrKWEoZVtyXSwhdCk7fX1mdW5jdGlvbiBhKGUsdCl7Zm9yKHZhciByPTAsbz0wLG49MCxpPWUubGVuZ3RoLHM9aS0xO248aTtzPW4rKyl7dmFyIGE9KGVbbl1bMF0tZVtzXVswXSkqKGVbc11bMV0rZVtuXVsxXSksbD1yK2E7bys9TWF0aC5hYnMocik+PU1hdGguYWJzKGEpP3ItbCthOmEtbCtyLHI9bDt9citvPj0wIT0hIXQmJmUucmV2ZXJzZSgpO31jb25zdCBsPWUuVmVjdG9yVGlsZUZlYXR1cmUucHJvdG90eXBlLnRvR2VvSlNPTjtjbGFzcyB1e2NvbnN0cnVjdG9yKHQpe3RoaXMuX2ZlYXR1cmU9dCx0aGlzLmV4dGVudD1lLkVYVEVOVCx0aGlzLnR5cGU9dC50eXBlLHRoaXMucHJvcGVydGllcz10LnRhZ3MsXCJpZFwiaW4gdCYmIWlzTmFOKHQuaWQpJiYodGhpcy5pZD1wYXJzZUludCh0LmlkLDEwKSk7fWxvYWRHZW9tZXRyeSgpe2lmKDE9PT10aGlzLl9mZWF0dXJlLnR5cGUpe2NvbnN0IHQ9W107Zm9yKGNvbnN0IHIgb2YgdGhpcy5fZmVhdHVyZS5nZW9tZXRyeSl0LnB1c2goW25ldyBlLnBvaW50R2VvbWV0cnkoclswXSxyWzFdKV0pO3JldHVybiB0fXtjb25zdCB0PVtdO2Zvcihjb25zdCByIG9mIHRoaXMuX2ZlYXR1cmUuZ2VvbWV0cnkpe2NvbnN0IG89W107Zm9yKGNvbnN0IHQgb2YgcilvLnB1c2gobmV3IGUucG9pbnRHZW9tZXRyeSh0WzBdLHRbMV0pKTt0LnB1c2gobyk7fXJldHVybiB0fX10b0dlb0pTT04oZSx0LHIpe3JldHVybiBsLmNhbGwodGhpcyxlLHQscil9fWNsYXNzIGh7Y29uc3RydWN0b3IodCl7dGhpcy5sYXllcnM9e19nZW9qc29uVGlsZUxheWVyOnRoaXN9LHRoaXMubmFtZT1cIl9nZW9qc29uVGlsZUxheWVyXCIsdGhpcy5leHRlbnQ9ZS5FWFRFTlQsdGhpcy5sZW5ndGg9dC5sZW5ndGgsdGhpcy5fZmVhdHVyZXM9dDt9ZmVhdHVyZShlKXtyZXR1cm4gbmV3IHUodGhpcy5fZmVhdHVyZXNbZV0pfX12YXIgYz17ZXhwb3J0czp7fX0sZj1lLnBvaW50R2VvbWV0cnkscD1lLnZlY3RvclRpbGUuVmVjdG9yVGlsZUZlYXR1cmUsZz1kO2Z1bmN0aW9uIGQoZSx0KXt0aGlzLm9wdGlvbnM9dHx8e30sdGhpcy5mZWF0dXJlcz1lLHRoaXMubGVuZ3RoPWUubGVuZ3RoO31mdW5jdGlvbiBtKGUsdCl7dGhpcy5pZD1cIm51bWJlclwiPT10eXBlb2YgZS5pZD9lLmlkOnZvaWQgMCx0aGlzLnR5cGU9ZS50eXBlLHRoaXMucmF3R2VvbWV0cnk9MT09PWUudHlwZT9bZS5nZW9tZXRyeV06ZS5nZW9tZXRyeSx0aGlzLnByb3BlcnRpZXM9ZS50YWdzLHRoaXMuZXh0ZW50PXR8fDQwOTY7fWQucHJvdG90eXBlLmZlYXR1cmU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBtKHRoaXMuZmVhdHVyZXNbZV0sdGhpcy5vcHRpb25zLmV4dGVudCl9LG0ucHJvdG90eXBlLmxvYWRHZW9tZXRyeT1mdW5jdGlvbigpe3ZhciBlPXRoaXMucmF3R2VvbWV0cnk7dGhpcy5nZW9tZXRyeT1bXTtmb3IodmFyIHQ9MDt0PGUubGVuZ3RoO3QrKyl7Zm9yKHZhciByPWVbdF0sbz1bXSxuPTA7bjxyLmxlbmd0aDtuKyspby5wdXNoKG5ldyBmKHJbbl1bMF0scltuXVsxXSkpO3RoaXMuZ2VvbWV0cnkucHVzaChvKTt9cmV0dXJuIHRoaXMuZ2VvbWV0cnl9LG0ucHJvdG90eXBlLmJib3g9ZnVuY3Rpb24oKXt0aGlzLmdlb21ldHJ5fHx0aGlzLmxvYWRHZW9tZXRyeSgpO2Zvcih2YXIgZT10aGlzLmdlb21ldHJ5LHQ9MS8wLHI9LTEvMCxvPTEvMCxuPS0xLzAsaT0wO2k8ZS5sZW5ndGg7aSsrKWZvcih2YXIgcz1lW2ldLGE9MDthPHMubGVuZ3RoO2ErKyl7dmFyIGw9c1thXTt0PU1hdGgubWluKHQsbC54KSxyPU1hdGgubWF4KHIsbC54KSxvPU1hdGgubWluKG8sbC55KSxuPU1hdGgubWF4KG4sbC55KTt9cmV0dXJuIFt0LG8scixuXX0sbS5wcm90b3R5cGUudG9HZW9KU09OPXAucHJvdG90eXBlLnRvR2VvSlNPTjt2YXIgeT1lLnBiZix2PWc7ZnVuY3Rpb24geChlKXt2YXIgdD1uZXcgeTtyZXR1cm4gZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIgaW4gZS5sYXllcnMpdC53cml0ZU1lc3NhZ2UoMyx3LGUubGF5ZXJzW3JdKTt9KGUsdCksdC5maW5pc2goKX1mdW5jdGlvbiB3KGUsdCl7dmFyIHI7dC53cml0ZVZhcmludEZpZWxkKDE1LGUudmVyc2lvbnx8MSksdC53cml0ZVN0cmluZ0ZpZWxkKDEsZS5uYW1lfHxcIlwiKSx0LndyaXRlVmFyaW50RmllbGQoNSxlLmV4dGVudHx8NDA5Nik7dmFyIG89e2tleXM6W10sdmFsdWVzOltdLGtleWNhY2hlOnt9LHZhbHVlY2FjaGU6e319O2ZvcihyPTA7cjxlLmxlbmd0aDtyKyspby5mZWF0dXJlPWUuZmVhdHVyZShyKSx0LndyaXRlTWVzc2FnZSgyLFMsbyk7dmFyIG49by5rZXlzO2ZvcihyPTA7cjxuLmxlbmd0aDtyKyspdC53cml0ZVN0cmluZ0ZpZWxkKDMsbltyXSk7dmFyIGk9by52YWx1ZXM7Zm9yKHI9MDtyPGkubGVuZ3RoO3IrKyl0LndyaXRlTWVzc2FnZSg0LEksaVtyXSk7fWZ1bmN0aW9uIFMoZSx0KXt2YXIgcj1lLmZlYXR1cmU7dm9pZCAwIT09ci5pZCYmdC53cml0ZVZhcmludEZpZWxkKDEsci5pZCksdC53cml0ZU1lc3NhZ2UoMixNLGUpLHQud3JpdGVWYXJpbnRGaWVsZCgzLHIudHlwZSksdC53cml0ZU1lc3NhZ2UoNCxrLHIpO31mdW5jdGlvbiBNKGUsdCl7dmFyIHI9ZS5mZWF0dXJlLG89ZS5rZXlzLG49ZS52YWx1ZXMsaT1lLmtleWNhY2hlLHM9ZS52YWx1ZWNhY2hlO2Zvcih2YXIgYSBpbiByLnByb3BlcnRpZXMpe3ZhciBsPXIucHJvcGVydGllc1thXSx1PWlbYV07aWYobnVsbCE9PWwpe3ZvaWQgMD09PXUmJihvLnB1c2goYSksaVthXT11PW8ubGVuZ3RoLTEpLHQud3JpdGVWYXJpbnQodSk7dmFyIGg9dHlwZW9mIGw7XCJzdHJpbmdcIiE9PWgmJlwiYm9vbGVhblwiIT09aCYmXCJudW1iZXJcIiE9PWgmJihsPUpTT04uc3RyaW5naWZ5KGwpKTt2YXIgYz1oK1wiOlwiK2wsZj1zW2NdO3ZvaWQgMD09PWYmJihuLnB1c2gobCksc1tjXT1mPW4ubGVuZ3RoLTEpLHQud3JpdGVWYXJpbnQoZik7fX19ZnVuY3Rpb24gUChlLHQpe3JldHVybiAodDw8MykrKDcmZSl9ZnVuY3Rpb24gYihlKXtyZXR1cm4gZTw8MV5lPj4zMX1mdW5jdGlvbiBrKGUsdCl7Zm9yKHZhciByPWUubG9hZEdlb21ldHJ5KCksbz1lLnR5cGUsbj0wLGk9MCxzPXIubGVuZ3RoLGE9MDthPHM7YSsrKXt2YXIgbD1yW2FdLHU9MTsxPT09byYmKHU9bC5sZW5ndGgpLHQud3JpdGVWYXJpbnQoUCgxLHUpKTtmb3IodmFyIGg9Mz09PW8/bC5sZW5ndGgtMTpsLmxlbmd0aCxjPTA7YzxoO2MrKyl7MT09PWMmJjEhPT1vJiZ0LndyaXRlVmFyaW50KFAoMixoLTEpKTt2YXIgZj1sW2NdLngtbixwPWxbY10ueS1pO3Qud3JpdGVWYXJpbnQoYihmKSksdC53cml0ZVZhcmludChiKHApKSxuKz1mLGkrPXA7fTM9PT1vJiZ0LndyaXRlVmFyaW50KFAoNywxKSk7fX1mdW5jdGlvbiBJKGUsdCl7dmFyIHI9dHlwZW9mIGU7XCJzdHJpbmdcIj09PXI/dC53cml0ZVN0cmluZ0ZpZWxkKDEsZSk6XCJib29sZWFuXCI9PT1yP3Qud3JpdGVCb29sZWFuRmllbGQoNyxlKTpcIm51bWJlclwiPT09ciYmKGUlMSE9MD90LndyaXRlRG91YmxlRmllbGQoMyxlKTplPDA/dC53cml0ZVNWYXJpbnRGaWVsZCg2LGUpOnQud3JpdGVWYXJpbnRGaWVsZCg1LGUpKTt9ZnVuY3Rpb24gVChlLHQscixvLG4saSl7aWYobi1vPD1yKXJldHVybjtjb25zdCBzPW8rbj4+MTtfKGUsdCxzLG8sbixpJTIpLFQoZSx0LHIsbyxzLTEsaSsxKSxUKGUsdCxyLHMrMSxuLGkrMSk7fWZ1bmN0aW9uIF8oZSx0LHIsbyxuLGkpe2Zvcig7bj5vOyl7aWYobi1vPjYwMCl7Y29uc3Qgcz1uLW8rMSxhPXItbysxLGw9TWF0aC5sb2cocyksdT0uNSpNYXRoLmV4cCgyKmwvMyksaD0uNSpNYXRoLnNxcnQobCp1KihzLXUpL3MpKihhLXMvMjwwPy0xOjEpO18oZSx0LHIsTWF0aC5tYXgobyxNYXRoLmZsb29yKHItYSp1L3MraCkpLE1hdGgubWluKG4sTWF0aC5mbG9vcihyKyhzLWEpKnUvcytoKSksaSk7fWNvbnN0IHM9dFsyKnIraV07bGV0IGE9byxsPW47Zm9yKEwoZSx0LG8sciksdFsyKm4raV0+cyYmTChlLHQsbyxuKTthPGw7KXtmb3IoTChlLHQsYSxsKSxhKyssbC0tO3RbMiphK2ldPHM7KWErKztmb3IoO3RbMipsK2ldPnM7KWwtLTt9dFsyKm8raV09PT1zP0woZSx0LG8sbCk6KGwrKyxMKGUsdCxsLG4pKSxsPD1yJiYobz1sKzEpLHI8PWwmJihuPWwtMSk7fX1mdW5jdGlvbiBMKGUsdCxyLG8pe0MoZSxyLG8pLEModCwyKnIsMipvKSxDKHQsMipyKzEsMipvKzEpO31mdW5jdGlvbiBDKGUsdCxyKXtjb25zdCBvPWVbdF07ZVt0XT1lW3JdLGVbcl09bzt9ZnVuY3Rpb24gTyhlLHQscixvKXtjb25zdCBuPWUtcixpPXQtbztyZXR1cm4gbipuK2kqaX1jLmV4cG9ydHM9eCxjLmV4cG9ydHMuZnJvbVZlY3RvclRpbGVKcz14LGMuZXhwb3J0cy5mcm9tR2VvanNvblZ0PWZ1bmN0aW9uKGUsdCl7dD10fHx7fTt2YXIgcj17fTtmb3IodmFyIG8gaW4gZSlyW29dPW5ldyB2KGVbb10uZmVhdHVyZXMsdCkscltvXS5uYW1lPW8scltvXS52ZXJzaW9uPXQudmVyc2lvbixyW29dLmV4dGVudD10LmV4dGVudDtyZXR1cm4geCh7bGF5ZXJzOnJ9KX0sYy5leHBvcnRzLkdlb0pTT05XcmFwcGVyPXY7Y29uc3Qgej1lPT5lWzBdLEU9ZT0+ZVsxXTtjbGFzcyBGe2NvbnN0cnVjdG9yKGUsdD16LHI9RSxvPTY0LG49RmxvYXQ2NEFycmF5KXt0aGlzLm5vZGVTaXplPW8sdGhpcy5wb2ludHM9ZTtjb25zdCBpPWUubGVuZ3RoPDY1NTM2P1VpbnQxNkFycmF5OlVpbnQzMkFycmF5LHM9dGhpcy5pZHM9bmV3IGkoZS5sZW5ndGgpLGE9dGhpcy5jb29yZHM9bmV3IG4oMiplLmxlbmd0aCk7Zm9yKGxldCBvPTA7bzxlLmxlbmd0aDtvKyspc1tvXT1vLGFbMipvXT10KGVbb10pLGFbMipvKzFdPXIoZVtvXSk7VChzLGEsbywwLHMubGVuZ3RoLTEsMCk7fXJhbmdlKGUsdCxyLG8pe3JldHVybiBmdW5jdGlvbihlLHQscixvLG4saSxzKXtjb25zdCBhPVswLGUubGVuZ3RoLTEsMF0sbD1bXTtsZXQgdSxoO2Zvcig7YS5sZW5ndGg7KXtjb25zdCBjPWEucG9wKCksZj1hLnBvcCgpLHA9YS5wb3AoKTtpZihmLXA8PXMpe2ZvcihsZXQgcz1wO3M8PWY7cysrKXU9dFsyKnNdLGg9dFsyKnMrMV0sdT49ciYmdTw9biYmaD49byYmaDw9aSYmbC5wdXNoKGVbc10pO2NvbnRpbnVlfWNvbnN0IGc9TWF0aC5mbG9vcigocCtmKS8yKTt1PXRbMipnXSxoPXRbMipnKzFdLHU+PXImJnU8PW4mJmg+PW8mJmg8PWkmJmwucHVzaChlW2ddKTtjb25zdCBkPShjKzEpJTI7KDA9PT1jP3I8PXU6bzw9aCkmJihhLnB1c2gocCksYS5wdXNoKGctMSksYS5wdXNoKGQpKSwoMD09PWM/bj49dTppPj1oKSYmKGEucHVzaChnKzEpLGEucHVzaChmKSxhLnB1c2goZCkpO31yZXR1cm4gbH0odGhpcy5pZHMsdGhpcy5jb29yZHMsZSx0LHIsbyx0aGlzLm5vZGVTaXplKX13aXRoaW4oZSx0LHIpe3JldHVybiBmdW5jdGlvbihlLHQscixvLG4saSl7Y29uc3Qgcz1bMCxlLmxlbmd0aC0xLDBdLGE9W10sbD1uKm47Zm9yKDtzLmxlbmd0aDspe2NvbnN0IHU9cy5wb3AoKSxoPXMucG9wKCksYz1zLnBvcCgpO2lmKGgtYzw9aSl7Zm9yKGxldCBuPWM7bjw9aDtuKyspTyh0WzIqbl0sdFsyKm4rMV0scixvKTw9bCYmYS5wdXNoKGVbbl0pO2NvbnRpbnVlfWNvbnN0IGY9TWF0aC5mbG9vcigoYytoKS8yKSxwPXRbMipmXSxnPXRbMipmKzFdO08ocCxnLHIsbyk8PWwmJmEucHVzaChlW2ZdKTtjb25zdCBkPSh1KzEpJTI7KDA9PT11P3Itbjw9cDpvLW48PWcpJiYocy5wdXNoKGMpLHMucHVzaChmLTEpLHMucHVzaChkKSksKDA9PT11P3Irbj49cDpvK24+PWcpJiYocy5wdXNoKGYrMSkscy5wdXNoKGgpLHMucHVzaChkKSk7fXJldHVybiBhfSh0aGlzLmlkcyx0aGlzLmNvb3JkcyxlLHQscix0aGlzLm5vZGVTaXplKX19Y29uc3QgTj17bWluWm9vbTowLG1heFpvb206MTYsbWluUG9pbnRzOjIscmFkaXVzOjQwLGV4dGVudDo1MTIsbm9kZVNpemU6NjQsbG9nOiExLGdlbmVyYXRlSWQ6ITEscmVkdWNlOm51bGwsbWFwOmU9PmV9LGo9TWF0aC5mcm91bmR8fChaPW5ldyBGbG9hdDMyQXJyYXkoMSksZT0+KFpbMF09K2UsWlswXSkpO3ZhciBaO2NsYXNzIEd7Y29uc3RydWN0b3IoZSl7dGhpcy5vcHRpb25zPSQoT2JqZWN0LmNyZWF0ZShOKSxlKSx0aGlzLnRyZWVzPW5ldyBBcnJheSh0aGlzLm9wdGlvbnMubWF4Wm9vbSsxKTt9bG9hZChlKXtjb25zdHtsb2c6dCxtaW5ab29tOnIsbWF4Wm9vbTpvLG5vZGVTaXplOm59PXRoaXMub3B0aW9uczt0JiZjb25zb2xlLnRpbWUoXCJ0b3RhbCB0aW1lXCIpO2NvbnN0IGk9YHByZXBhcmUgJHtlLmxlbmd0aH0gcG9pbnRzYDt0JiZjb25zb2xlLnRpbWUoaSksdGhpcy5wb2ludHM9ZTtsZXQgcz1bXTtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrKyllW3RdLmdlb21ldHJ5JiZzLnB1c2goVyhlW3RdLHQpKTt0aGlzLnRyZWVzW28rMV09bmV3IEYocyxCLFIsbixGbG9hdDMyQXJyYXkpLHQmJmNvbnNvbGUudGltZUVuZChpKTtmb3IobGV0IGU9bztlPj1yO2UtLSl7Y29uc3Qgcj0rRGF0ZS5ub3coKTtzPXRoaXMuX2NsdXN0ZXIocyxlKSx0aGlzLnRyZWVzW2VdPW5ldyBGKHMsQixSLG4sRmxvYXQzMkFycmF5KSx0JiZjb25zb2xlLmxvZyhcInolZDogJWQgY2x1c3RlcnMgaW4gJWRtc1wiLGUscy5sZW5ndGgsK0RhdGUubm93KCktcik7fXJldHVybiB0JiZjb25zb2xlLnRpbWVFbmQoXCJ0b3RhbCB0aW1lXCIpLHRoaXN9Z2V0Q2x1c3RlcnMoZSx0KXtsZXQgcj0oKGVbMF0rMTgwKSUzNjArMzYwKSUzNjAtMTgwO2NvbnN0IG89TWF0aC5tYXgoLTkwLE1hdGgubWluKDkwLGVbMV0pKTtsZXQgbj0xODA9PT1lWzJdPzE4MDooKGVbMl0rMTgwKSUzNjArMzYwKSUzNjAtMTgwO2NvbnN0IGk9TWF0aC5tYXgoLTkwLE1hdGgubWluKDkwLGVbM10pKTtpZihlWzJdLWVbMF0+PTM2MClyPS0xODAsbj0xODA7ZWxzZSBpZihyPm4pe2NvbnN0IGU9dGhpcy5nZXRDbHVzdGVycyhbcixvLDE4MCxpXSx0KSxzPXRoaXMuZ2V0Q2x1c3RlcnMoWy0xODAsbyxuLGldLHQpO3JldHVybiBlLmNvbmNhdChzKX1jb25zdCBzPXRoaXMudHJlZXNbdGhpcy5fbGltaXRab29tKHQpXSxhPXMucmFuZ2UoVihyKSxBKGkpLFYobiksQShvKSksbD1bXTtmb3IoY29uc3QgZSBvZiBhKXtjb25zdCB0PXMucG9pbnRzW2VdO2wucHVzaCh0Lm51bVBvaW50cz9ZKHQpOnRoaXMucG9pbnRzW3QuaW5kZXhdKTt9cmV0dXJuIGx9Z2V0Q2hpbGRyZW4oZSl7Y29uc3QgdD10aGlzLl9nZXRPcmlnaW5JZChlKSxyPXRoaXMuX2dldE9yaWdpblpvb20oZSksbz1cIk5vIGNsdXN0ZXIgd2l0aCB0aGUgc3BlY2lmaWVkIGlkLlwiLG49dGhpcy50cmVlc1tyXTtpZighbil0aHJvdyBuZXcgRXJyb3Iobyk7Y29uc3QgaT1uLnBvaW50c1t0XTtpZighaSl0aHJvdyBuZXcgRXJyb3Iobyk7Y29uc3Qgcz10aGlzLm9wdGlvbnMucmFkaXVzLyh0aGlzLm9wdGlvbnMuZXh0ZW50Kk1hdGgucG93KDIsci0xKSksYT1uLndpdGhpbihpLngsaS55LHMpLGw9W107Zm9yKGNvbnN0IHQgb2YgYSl7Y29uc3Qgcj1uLnBvaW50c1t0XTtyLnBhcmVudElkPT09ZSYmbC5wdXNoKHIubnVtUG9pbnRzP1kocik6dGhpcy5wb2ludHNbci5pbmRleF0pO31pZigwPT09bC5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKG8pO3JldHVybiBsfWdldExlYXZlcyhlLHQscil7Y29uc3Qgbz1bXTtyZXR1cm4gdGhpcy5fYXBwZW5kTGVhdmVzKG8sZSx0PXR8fDEwLHI9cnx8MCwwKSxvfWdldFRpbGUoZSx0LHIpe2NvbnN0IG89dGhpcy50cmVlc1t0aGlzLl9saW1pdFpvb20oZSldLG49TWF0aC5wb3coMixlKSx7ZXh0ZW50OmkscmFkaXVzOnN9PXRoaXMub3B0aW9ucyxhPXMvaSxsPShyLWEpL24sdT0ocisxK2EpL24saD17ZmVhdHVyZXM6W119O3JldHVybiB0aGlzLl9hZGRUaWxlRmVhdHVyZXMoby5yYW5nZSgodC1hKS9uLGwsKHQrMSthKS9uLHUpLG8ucG9pbnRzLHQscixuLGgpLDA9PT10JiZ0aGlzLl9hZGRUaWxlRmVhdHVyZXMoby5yYW5nZSgxLWEvbixsLDEsdSksby5wb2ludHMsbixyLG4saCksdD09PW4tMSYmdGhpcy5fYWRkVGlsZUZlYXR1cmVzKG8ucmFuZ2UoMCxsLGEvbix1KSxvLnBvaW50cywtMSxyLG4saCksaC5mZWF0dXJlcy5sZW5ndGg/aDpudWxsfWdldENsdXN0ZXJFeHBhbnNpb25ab29tKGUpe2xldCB0PXRoaXMuX2dldE9yaWdpblpvb20oZSktMTtmb3IoO3Q8PXRoaXMub3B0aW9ucy5tYXhab29tOyl7Y29uc3Qgcj10aGlzLmdldENoaWxkcmVuKGUpO2lmKHQrKywxIT09ci5sZW5ndGgpYnJlYWs7ZT1yWzBdLnByb3BlcnRpZXMuY2x1c3Rlcl9pZDt9cmV0dXJuIHR9X2FwcGVuZExlYXZlcyhlLHQscixvLG4pe2NvbnN0IGk9dGhpcy5nZXRDaGlsZHJlbih0KTtmb3IoY29uc3QgdCBvZiBpKXtjb25zdCBpPXQucHJvcGVydGllcztpZihpJiZpLmNsdXN0ZXI/bitpLnBvaW50X2NvdW50PD1vP24rPWkucG9pbnRfY291bnQ6bj10aGlzLl9hcHBlbmRMZWF2ZXMoZSxpLmNsdXN0ZXJfaWQscixvLG4pOm48bz9uKys6ZS5wdXNoKHQpLGUubGVuZ3RoPT09cilicmVha31yZXR1cm4gbn1fYWRkVGlsZUZlYXR1cmVzKGUsdCxyLG8sbixpKXtmb3IoY29uc3QgcyBvZiBlKXtjb25zdCBlPXRbc10sYT1lLm51bVBvaW50cztsZXQgbCx1LGg7aWYoYSlsPVgoZSksdT1lLngsaD1lLnk7ZWxzZSB7Y29uc3QgdD10aGlzLnBvaW50c1tlLmluZGV4XTtsPXQucHJvcGVydGllcyx1PVYodC5nZW9tZXRyeS5jb29yZGluYXRlc1swXSksaD1BKHQuZ2VvbWV0cnkuY29vcmRpbmF0ZXNbMV0pO31jb25zdCBjPXt0eXBlOjEsZ2VvbWV0cnk6W1tNYXRoLnJvdW5kKHRoaXMub3B0aW9ucy5leHRlbnQqKHUqbi1yKSksTWF0aC5yb3VuZCh0aGlzLm9wdGlvbnMuZXh0ZW50KihoKm4tbykpXV0sdGFnczpsfTtsZXQgZjthP2Y9ZS5pZDp0aGlzLm9wdGlvbnMuZ2VuZXJhdGVJZD9mPWUuaW5kZXg6dGhpcy5wb2ludHNbZS5pbmRleF0uaWQmJihmPXRoaXMucG9pbnRzW2UuaW5kZXhdLmlkKSx2b2lkIDAhPT1mJiYoYy5pZD1mKSxpLmZlYXR1cmVzLnB1c2goYyk7fX1fbGltaXRab29tKGUpe3JldHVybiBNYXRoLm1heCh0aGlzLm9wdGlvbnMubWluWm9vbSxNYXRoLm1pbihNYXRoLmZsb29yKCtlKSx0aGlzLm9wdGlvbnMubWF4Wm9vbSsxKSl9X2NsdXN0ZXIoZSx0KXtjb25zdCByPVtdLHtyYWRpdXM6byxleHRlbnQ6bixyZWR1Y2U6aSxtaW5Qb2ludHM6c309dGhpcy5vcHRpb25zLGE9by8obipNYXRoLnBvdygyLHQpKTtmb3IobGV0IG89MDtvPGUubGVuZ3RoO28rKyl7Y29uc3Qgbj1lW29dO2lmKG4uem9vbTw9dCljb250aW51ZTtuLnpvb209dDtjb25zdCBsPXRoaXMudHJlZXNbdCsxXSx1PWwud2l0aGluKG4ueCxuLnksYSksaD1uLm51bVBvaW50c3x8MTtsZXQgYz1oO2Zvcihjb25zdCBlIG9mIHUpe2NvbnN0IHI9bC5wb2ludHNbZV07ci56b29tPnQmJihjKz1yLm51bVBvaW50c3x8MSk7fWlmKGM+aCYmYz49cyl7bGV0IGU9bi54Kmgscz1uLnkqaCxhPWkmJmg+MT90aGlzLl9tYXAobiwhMCk6bnVsbDtjb25zdCBmPShvPDw1KSsodCsxKSt0aGlzLnBvaW50cy5sZW5ndGg7Zm9yKGNvbnN0IHIgb2YgdSl7Y29uc3Qgbz1sLnBvaW50c1tyXTtpZihvLnpvb208PXQpY29udGludWU7by56b29tPXQ7Y29uc3QgdT1vLm51bVBvaW50c3x8MTtlKz1vLngqdSxzKz1vLnkqdSxvLnBhcmVudElkPWYsaSYmKGF8fChhPXRoaXMuX21hcChuLCEwKSksaShhLHRoaXMuX21hcChvKSkpO31uLnBhcmVudElkPWYsci5wdXNoKEooZS9jLHMvYyxmLGMsYSkpO31lbHNlIGlmKHIucHVzaChuKSxjPjEpZm9yKGNvbnN0IGUgb2YgdSl7Y29uc3Qgbz1sLnBvaW50c1tlXTtvLnpvb208PXR8fChvLnpvb209dCxyLnB1c2gobykpO319cmV0dXJuIHJ9X2dldE9yaWdpbklkKGUpe3JldHVybiBlLXRoaXMucG9pbnRzLmxlbmd0aD4+NX1fZ2V0T3JpZ2luWm9vbShlKXtyZXR1cm4gKGUtdGhpcy5wb2ludHMubGVuZ3RoKSUzMn1fbWFwKGUsdCl7aWYoZS5udW1Qb2ludHMpcmV0dXJuIHQ/JCh7fSxlLnByb3BlcnRpZXMpOmUucHJvcGVydGllcztjb25zdCByPXRoaXMucG9pbnRzW2UuaW5kZXhdLnByb3BlcnRpZXMsbz10aGlzLm9wdGlvbnMubWFwKHIpO3JldHVybiB0JiZvPT09cj8kKHt9LG8pOm99fWZ1bmN0aW9uIEooZSx0LHIsbyxuKXtyZXR1cm4ge3g6aihlKSx5OmoodCksem9vbToxLzAsaWQ6cixwYXJlbnRJZDotMSxudW1Qb2ludHM6byxwcm9wZXJ0aWVzOm59fWZ1bmN0aW9uIFcoZSx0KXtjb25zdFtyLG9dPWUuZ2VvbWV0cnkuY29vcmRpbmF0ZXM7cmV0dXJuIHt4OmooVihyKSkseTpqKEEobykpLHpvb206MS8wLGluZGV4OnQscGFyZW50SWQ6LTF9fWZ1bmN0aW9uIFkoZSl7cmV0dXJuIHt0eXBlOlwiRmVhdHVyZVwiLGlkOmUuaWQscHJvcGVydGllczpYKGUpLGdlb21ldHJ5Ont0eXBlOlwiUG9pbnRcIixjb29yZGluYXRlczpbKHQ9ZS54LDM2MCoodC0uNSkpLEQoZS55KV19fTt2YXIgdDt9ZnVuY3Rpb24gWChlKXtjb25zdCB0PWUubnVtUG9pbnRzLHI9dD49MWU0P2Ake01hdGgucm91bmQodC8xZTMpfWtgOnQ+PTFlMz9NYXRoLnJvdW5kKHQvMTAwKS8xMCtcImtcIjp0O3JldHVybiAkKCQoe30sZS5wcm9wZXJ0aWVzKSx7Y2x1c3RlcjohMCxjbHVzdGVyX2lkOmUuaWQscG9pbnRfY291bnQ6dCxwb2ludF9jb3VudF9hYmJyZXZpYXRlZDpyfSl9ZnVuY3Rpb24gVihlKXtyZXR1cm4gZS8zNjArLjV9ZnVuY3Rpb24gQShlKXtjb25zdCB0PU1hdGguc2luKGUqTWF0aC5QSS8xODApLHI9LjUtLjI1Kk1hdGgubG9nKCgxK3QpLygxLXQpKS9NYXRoLlBJO3JldHVybiByPDA/MDpyPjE/MTpyfWZ1bmN0aW9uIEQoZSl7Y29uc3QgdD0oMTgwLTM2MCplKSpNYXRoLlBJLzE4MDtyZXR1cm4gMzYwKk1hdGguYXRhbihNYXRoLmV4cCh0KSkvTWF0aC5QSS05MH1mdW5jdGlvbiAkKGUsdCl7Zm9yKGNvbnN0IHIgaW4gdCllW3JdPXRbcl07cmV0dXJuIGV9ZnVuY3Rpb24gQihlKXtyZXR1cm4gZS54fWZ1bmN0aW9uIFIoZSl7cmV0dXJuIGUueX1mdW5jdGlvbiBxKGUsdCxyLG8pe2Zvcih2YXIgbixpPW8scz1yLXQ+PjEsYT1yLXQsbD1lW3RdLHU9ZVt0KzFdLGg9ZVtyXSxjPWVbcisxXSxmPXQrMztmPHI7Zis9Myl7dmFyIHA9VShlW2ZdLGVbZisxXSxsLHUsaCxjKTtpZihwPmkpbj1mLGk9cDtlbHNlIGlmKHA9PT1pKXt2YXIgZz1NYXRoLmFicyhmLXMpO2c8YSYmKG49ZixhPWcpO319aT5vJiYobi10PjMmJnEoZSx0LG4sbyksZVtuKzJdPWksci1uPjMmJnEoZSxuLHIsbykpO31mdW5jdGlvbiBVKGUsdCxyLG8sbixpKXt2YXIgcz1uLXIsYT1pLW87aWYoMCE9PXN8fDAhPT1hKXt2YXIgbD0oKGUtcikqcysodC1vKSphKS8ocypzK2EqYSk7bD4xPyhyPW4sbz1pKTpsPjAmJihyKz1zKmwsbys9YSpsKTt9cmV0dXJuIChzPWUtcikqcysoYT10LW8pKmF9ZnVuY3Rpb24gUShlLHQscixvKXt2YXIgbj17aWQ6dm9pZCAwPT09ZT9udWxsOmUsdHlwZTp0LGdlb21ldHJ5OnIsdGFnczpvLG1pblg6MS8wLG1pblk6MS8wLG1heFg6LTEvMCxtYXhZOi0xLzB9O3JldHVybiBmdW5jdGlvbihlKXt2YXIgdD1lLmdlb21ldHJ5LHI9ZS50eXBlO2lmKFwiUG9pbnRcIj09PXJ8fFwiTXVsdGlQb2ludFwiPT09cnx8XCJMaW5lU3RyaW5nXCI9PT1yKUgoZSx0KTtlbHNlIGlmKFwiUG9seWdvblwiPT09cnx8XCJNdWx0aUxpbmVTdHJpbmdcIj09PXIpZm9yKHZhciBvPTA7bzx0Lmxlbmd0aDtvKyspSChlLHRbb10pO2Vsc2UgaWYoXCJNdWx0aVBvbHlnb25cIj09PXIpZm9yKG89MDtvPHQubGVuZ3RoO28rKylmb3IodmFyIG49MDtuPHRbb10ubGVuZ3RoO24rKylIKGUsdFtvXVtuXSk7fShuKSxufWZ1bmN0aW9uIEgoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrPTMpZS5taW5YPU1hdGgubWluKGUubWluWCx0W3JdKSxlLm1pblk9TWF0aC5taW4oZS5taW5ZLHRbcisxXSksZS5tYXhYPU1hdGgubWF4KGUubWF4WCx0W3JdKSxlLm1heFk9TWF0aC5tYXgoZS5tYXhZLHRbcisxXSk7fWZ1bmN0aW9uIEsoZSx0LHIsbyl7aWYodC5nZW9tZXRyeSl7dmFyIG49dC5nZW9tZXRyeS5jb29yZGluYXRlcyxpPXQuZ2VvbWV0cnkudHlwZSxzPU1hdGgucG93KHIudG9sZXJhbmNlLygoMTw8ci5tYXhab29tKSpyLmV4dGVudCksMiksYT1bXSxsPXQuaWQ7aWYoci5wcm9tb3RlSWQ/bD10LnByb3BlcnRpZXNbci5wcm9tb3RlSWRdOnIuZ2VuZXJhdGVJZCYmKGw9b3x8MCksXCJQb2ludFwiPT09aSllZShuLGEpO2Vsc2UgaWYoXCJNdWx0aVBvaW50XCI9PT1pKWZvcih2YXIgdT0wO3U8bi5sZW5ndGg7dSsrKWVlKG5bdV0sYSk7ZWxzZSBpZihcIkxpbmVTdHJpbmdcIj09PWkpdGUobixhLHMsITEpO2Vsc2UgaWYoXCJNdWx0aUxpbmVTdHJpbmdcIj09PWkpe2lmKHIubGluZU1ldHJpY3Mpe2Zvcih1PTA7dTxuLmxlbmd0aDt1KyspdGUoblt1XSxhPVtdLHMsITEpLGUucHVzaChRKGwsXCJMaW5lU3RyaW5nXCIsYSx0LnByb3BlcnRpZXMpKTtyZXR1cm59cmUobixhLHMsITEpO31lbHNlIGlmKFwiUG9seWdvblwiPT09aSlyZShuLGEscywhMCk7ZWxzZSB7aWYoXCJNdWx0aVBvbHlnb25cIiE9PWkpe2lmKFwiR2VvbWV0cnlDb2xsZWN0aW9uXCI9PT1pKXtmb3IodT0wO3U8dC5nZW9tZXRyeS5nZW9tZXRyaWVzLmxlbmd0aDt1KyspSyhlLHtpZDpsLGdlb21ldHJ5OnQuZ2VvbWV0cnkuZ2VvbWV0cmllc1t1XSxwcm9wZXJ0aWVzOnQucHJvcGVydGllc30scixvKTtyZXR1cm59dGhyb3cgbmV3IEVycm9yKFwiSW5wdXQgZGF0YSBpcyBub3QgYSB2YWxpZCBHZW9KU09OIG9iamVjdC5cIil9Zm9yKHU9MDt1PG4ubGVuZ3RoO3UrKyl7dmFyIGg9W107cmUoblt1XSxoLHMsITApLGEucHVzaChoKTt9fWUucHVzaChRKGwsaSxhLHQucHJvcGVydGllcykpO319ZnVuY3Rpb24gZWUoZSx0KXt0LnB1c2gob2UoZVswXSkpLHQucHVzaChuZShlWzFdKSksdC5wdXNoKDApO31mdW5jdGlvbiB0ZShlLHQscixvKXtmb3IodmFyIG4saSxzPTAsYT0wO2E8ZS5sZW5ndGg7YSsrKXt2YXIgbD1vZShlW2FdWzBdKSx1PW5lKGVbYV1bMV0pO3QucHVzaChsKSx0LnB1c2godSksdC5wdXNoKDApLGE+MCYmKHMrPW8/KG4qdS1sKmkpLzI6TWF0aC5zcXJ0KE1hdGgucG93KGwtbiwyKStNYXRoLnBvdyh1LWksMikpKSxuPWwsaT11O312YXIgaD10Lmxlbmd0aC0zO3RbMl09MSxxKHQsMCxoLHIpLHRbaCsyXT0xLHQuc2l6ZT1NYXRoLmFicyhzKSx0LnN0YXJ0PTAsdC5lbmQ9dC5zaXplO31mdW5jdGlvbiByZShlLHQscixvKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIGk9W107dGUoZVtuXSxpLHIsbyksdC5wdXNoKGkpO319ZnVuY3Rpb24gb2UoZSl7cmV0dXJuIGUvMzYwKy41fWZ1bmN0aW9uIG5lKGUpe3ZhciB0PU1hdGguc2luKGUqTWF0aC5QSS8xODApLHI9LjUtLjI1Kk1hdGgubG9nKCgxK3QpLygxLXQpKS9NYXRoLlBJO3JldHVybiByPDA/MDpyPjE/MTpyfWZ1bmN0aW9uIGllKGUsdCxyLG8sbixpLHMsYSl7aWYoby89dCxpPj0oci89dCkmJnM8bylyZXR1cm4gZTtpZihzPHJ8fGk+PW8pcmV0dXJuIG51bGw7Zm9yKHZhciBsPVtdLHU9MDt1PGUubGVuZ3RoO3UrKyl7dmFyIGg9ZVt1XSxjPWguZ2VvbWV0cnksZj1oLnR5cGUscD0wPT09bj9oLm1pblg6aC5taW5ZLGc9MD09PW4/aC5tYXhYOmgubWF4WTtpZihwPj1yJiZnPG8pbC5wdXNoKGgpO2Vsc2UgaWYoIShnPHJ8fHA+PW8pKXt2YXIgZD1bXTtpZihcIlBvaW50XCI9PT1mfHxcIk11bHRpUG9pbnRcIj09PWYpc2UoYyxkLHIsbyxuKTtlbHNlIGlmKFwiTGluZVN0cmluZ1wiPT09ZilhZShjLGQscixvLG4sITEsYS5saW5lTWV0cmljcyk7ZWxzZSBpZihcIk11bHRpTGluZVN0cmluZ1wiPT09Zil1ZShjLGQscixvLG4sITEpO2Vsc2UgaWYoXCJQb2x5Z29uXCI9PT1mKXVlKGMsZCxyLG8sbiwhMCk7ZWxzZSBpZihcIk11bHRpUG9seWdvblwiPT09Zilmb3IodmFyIG09MDttPGMubGVuZ3RoO20rKyl7dmFyIHk9W107dWUoY1ttXSx5LHIsbyxuLCEwKSx5Lmxlbmd0aCYmZC5wdXNoKHkpO31pZihkLmxlbmd0aCl7aWYoYS5saW5lTWV0cmljcyYmXCJMaW5lU3RyaW5nXCI9PT1mKXtmb3IobT0wO208ZC5sZW5ndGg7bSsrKWwucHVzaChRKGguaWQsZixkW21dLGgudGFncykpO2NvbnRpbnVlfVwiTGluZVN0cmluZ1wiIT09ZiYmXCJNdWx0aUxpbmVTdHJpbmdcIiE9PWZ8fCgxPT09ZC5sZW5ndGg/KGY9XCJMaW5lU3RyaW5nXCIsZD1kWzBdKTpmPVwiTXVsdGlMaW5lU3RyaW5nXCIpLFwiUG9pbnRcIiE9PWYmJlwiTXVsdGlQb2ludFwiIT09Znx8KGY9Mz09PWQubGVuZ3RoP1wiUG9pbnRcIjpcIk11bHRpUG9pbnRcIiksbC5wdXNoKFEoaC5pZCxmLGQsaC50YWdzKSk7fX19cmV0dXJuIGwubGVuZ3RoP2w6bnVsbH1mdW5jdGlvbiBzZShlLHQscixvLG4pe2Zvcih2YXIgaT0wO2k8ZS5sZW5ndGg7aSs9Myl7dmFyIHM9ZVtpK25dO3M+PXImJnM8PW8mJih0LnB1c2goZVtpXSksdC5wdXNoKGVbaSsxXSksdC5wdXNoKGVbaSsyXSkpO319ZnVuY3Rpb24gYWUoZSx0LHIsbyxuLGkscyl7Zm9yKHZhciBhLGwsdT1sZShlKSxoPTA9PT1uP2NlOmZlLGM9ZS5zdGFydCxmPTA7ZjxlLmxlbmd0aC0zO2YrPTMpe3ZhciBwPWVbZl0sZz1lW2YrMV0sZD1lW2YrMl0sbT1lW2YrM10seT1lW2YrNF0sdj0wPT09bj9wOmcseD0wPT09bj9tOnksdz0hMTtzJiYoYT1NYXRoLnNxcnQoTWF0aC5wb3cocC1tLDIpK01hdGgucG93KGcteSwyKSkpLHY8cj94PnImJihsPWgodSxwLGcsbSx5LHIpLHMmJih1LnN0YXJ0PWMrYSpsKSk6dj5vP3g8byYmKGw9aCh1LHAsZyxtLHksbykscyYmKHUuc3RhcnQ9YythKmwpKTpoZSh1LHAsZyxkKSx4PHImJnY+PXImJihsPWgodSxwLGcsbSx5LHIpLHc9ITApLHg+byYmdjw9byYmKGw9aCh1LHAsZyxtLHksbyksdz0hMCksIWkmJncmJihzJiYodS5lbmQ9YythKmwpLHQucHVzaCh1KSx1PWxlKGUpKSxzJiYoYys9YSk7fXZhciBTPWUubGVuZ3RoLTM7cD1lW1NdLGc9ZVtTKzFdLGQ9ZVtTKzJdLCh2PTA9PT1uP3A6Zyk+PXImJnY8PW8mJmhlKHUscCxnLGQpLFM9dS5sZW5ndGgtMyxpJiZTPj0zJiYodVtTXSE9PXVbMF18fHVbUysxXSE9PXVbMV0pJiZoZSh1LHVbMF0sdVsxXSx1WzJdKSx1Lmxlbmd0aCYmdC5wdXNoKHUpO31mdW5jdGlvbiBsZShlKXt2YXIgdD1bXTtyZXR1cm4gdC5zaXplPWUuc2l6ZSx0LnN0YXJ0PWUuc3RhcnQsdC5lbmQ9ZS5lbmQsdH1mdW5jdGlvbiB1ZShlLHQscixvLG4saSl7Zm9yKHZhciBzPTA7czxlLmxlbmd0aDtzKyspYWUoZVtzXSx0LHIsbyxuLGksITEpO31mdW5jdGlvbiBoZShlLHQscixvKXtlLnB1c2godCksZS5wdXNoKHIpLGUucHVzaChvKTt9ZnVuY3Rpb24gY2UoZSx0LHIsbyxuLGkpe3ZhciBzPShpLXQpLyhvLXQpO3JldHVybiBlLnB1c2goaSksZS5wdXNoKHIrKG4tcikqcyksZS5wdXNoKDEpLHN9ZnVuY3Rpb24gZmUoZSx0LHIsbyxuLGkpe3ZhciBzPShpLXIpLyhuLXIpO3JldHVybiBlLnB1c2godCsoby10KSpzKSxlLnB1c2goaSksZS5wdXNoKDEpLHN9ZnVuY3Rpb24gcGUoZSx0KXtmb3IodmFyIHI9W10sbz0wO288ZS5sZW5ndGg7bysrKXt2YXIgbixpPWVbb10scz1pLnR5cGU7aWYoXCJQb2ludFwiPT09c3x8XCJNdWx0aVBvaW50XCI9PT1zfHxcIkxpbmVTdHJpbmdcIj09PXMpbj1nZShpLmdlb21ldHJ5LHQpO2Vsc2UgaWYoXCJNdWx0aUxpbmVTdHJpbmdcIj09PXN8fFwiUG9seWdvblwiPT09cyl7bj1bXTtmb3IodmFyIGE9MDthPGkuZ2VvbWV0cnkubGVuZ3RoO2ErKyluLnB1c2goZ2UoaS5nZW9tZXRyeVthXSx0KSk7fWVsc2UgaWYoXCJNdWx0aVBvbHlnb25cIj09PXMpZm9yKG49W10sYT0wO2E8aS5nZW9tZXRyeS5sZW5ndGg7YSsrKXtmb3IodmFyIGw9W10sdT0wO3U8aS5nZW9tZXRyeVthXS5sZW5ndGg7dSsrKWwucHVzaChnZShpLmdlb21ldHJ5W2FdW3VdLHQpKTtuLnB1c2gobCk7fXIucHVzaChRKGkuaWQscyxuLGkudGFncykpO31yZXR1cm4gcn1mdW5jdGlvbiBnZShlLHQpe3ZhciByPVtdO3Iuc2l6ZT1lLnNpemUsdm9pZCAwIT09ZS5zdGFydCYmKHIuc3RhcnQ9ZS5zdGFydCxyLmVuZD1lLmVuZCk7Zm9yKHZhciBvPTA7bzxlLmxlbmd0aDtvKz0zKXIucHVzaChlW29dK3QsZVtvKzFdLGVbbysyXSk7cmV0dXJuIHJ9ZnVuY3Rpb24gZGUoZSx0KXtpZihlLnRyYW5zZm9ybWVkKXJldHVybiBlO3ZhciByLG8sbixpPTE8PGUueixzPWUueCxhPWUueTtmb3Iocj0wO3I8ZS5mZWF0dXJlcy5sZW5ndGg7cisrKXt2YXIgbD1lLmZlYXR1cmVzW3JdLHU9bC5nZW9tZXRyeSxoPWwudHlwZTtpZihsLmdlb21ldHJ5PVtdLDE9PT1oKWZvcihvPTA7bzx1Lmxlbmd0aDtvKz0yKWwuZ2VvbWV0cnkucHVzaChtZSh1W29dLHVbbysxXSx0LGkscyxhKSk7ZWxzZSBmb3Iobz0wO288dS5sZW5ndGg7bysrKXt2YXIgYz1bXTtmb3Iobj0wO248dVtvXS5sZW5ndGg7bis9MiljLnB1c2gobWUodVtvXVtuXSx1W29dW24rMV0sdCxpLHMsYSkpO2wuZ2VvbWV0cnkucHVzaChjKTt9fXJldHVybiBlLnRyYW5zZm9ybWVkPSEwLGV9ZnVuY3Rpb24gbWUoZSx0LHIsbyxuLGkpe3JldHVybiBbTWF0aC5yb3VuZChyKihlKm8tbikpLE1hdGgucm91bmQocioodCpvLWkpKV19ZnVuY3Rpb24geWUoZSx0LHIsbyxuKXtmb3IodmFyIGk9dD09PW4ubWF4Wm9vbT8wOm4udG9sZXJhbmNlLygoMTw8dCkqbi5leHRlbnQpLHM9e2ZlYXR1cmVzOltdLG51bVBvaW50czowLG51bVNpbXBsaWZpZWQ6MCxudW1GZWF0dXJlczowLHNvdXJjZTpudWxsLHg6cix5Om8sejp0LHRyYW5zZm9ybWVkOiExLG1pblg6MixtaW5ZOjEsbWF4WDotMSxtYXhZOjB9LGE9MDthPGUubGVuZ3RoO2ErKyl7cy5udW1GZWF0dXJlcysrLHZlKHMsZVthXSxpLG4pO3ZhciBsPWVbYV0ubWluWCx1PWVbYV0ubWluWSxoPWVbYV0ubWF4WCxjPWVbYV0ubWF4WTtsPHMubWluWCYmKHMubWluWD1sKSx1PHMubWluWSYmKHMubWluWT11KSxoPnMubWF4WCYmKHMubWF4WD1oKSxjPnMubWF4WSYmKHMubWF4WT1jKTt9cmV0dXJuIHN9ZnVuY3Rpb24gdmUoZSx0LHIsbyl7dmFyIG49dC5nZW9tZXRyeSxpPXQudHlwZSxzPVtdO2lmKFwiUG9pbnRcIj09PWl8fFwiTXVsdGlQb2ludFwiPT09aSlmb3IodmFyIGE9MDthPG4ubGVuZ3RoO2ErPTMpcy5wdXNoKG5bYV0pLHMucHVzaChuW2ErMV0pLGUubnVtUG9pbnRzKyssZS5udW1TaW1wbGlmaWVkKys7ZWxzZSBpZihcIkxpbmVTdHJpbmdcIj09PWkpeGUocyxuLGUsciwhMSwhMSk7ZWxzZSBpZihcIk11bHRpTGluZVN0cmluZ1wiPT09aXx8XCJQb2x5Z29uXCI9PT1pKWZvcihhPTA7YTxuLmxlbmd0aDthKyspeGUocyxuW2FdLGUscixcIlBvbHlnb25cIj09PWksMD09PWEpO2Vsc2UgaWYoXCJNdWx0aVBvbHlnb25cIj09PWkpZm9yKHZhciBsPTA7bDxuLmxlbmd0aDtsKyspe3ZhciB1PW5bbF07Zm9yKGE9MDthPHUubGVuZ3RoO2ErKyl4ZShzLHVbYV0sZSxyLCEwLDA9PT1hKTt9aWYocy5sZW5ndGgpe3ZhciBoPXQudGFnc3x8bnVsbDtpZihcIkxpbmVTdHJpbmdcIj09PWkmJm8ubGluZU1ldHJpY3Mpe2Zvcih2YXIgYyBpbiBoPXt9LHQudGFncyloW2NdPXQudGFnc1tjXTtoLm1hcGJveF9jbGlwX3N0YXJ0PW4uc3RhcnQvbi5zaXplLGgubWFwYm94X2NsaXBfZW5kPW4uZW5kL24uc2l6ZTt9dmFyIGY9e2dlb21ldHJ5OnMsdHlwZTpcIlBvbHlnb25cIj09PWl8fFwiTXVsdGlQb2x5Z29uXCI9PT1pPzM6XCJMaW5lU3RyaW5nXCI9PT1pfHxcIk11bHRpTGluZVN0cmluZ1wiPT09aT8yOjEsdGFnczpofTtudWxsIT09dC5pZCYmKGYuaWQ9dC5pZCksZS5mZWF0dXJlcy5wdXNoKGYpO319ZnVuY3Rpb24geGUoZSx0LHIsbyxuLGkpe3ZhciBzPW8qbztpZihvPjAmJnQuc2l6ZTwobj9zOm8pKXIubnVtUG9pbnRzKz10Lmxlbmd0aC8zO2Vsc2Uge2Zvcih2YXIgYT1bXSxsPTA7bDx0Lmxlbmd0aDtsKz0zKSgwPT09b3x8dFtsKzJdPnMpJiYoci5udW1TaW1wbGlmaWVkKyssYS5wdXNoKHRbbF0pLGEucHVzaCh0W2wrMV0pKSxyLm51bVBvaW50cysrO24mJmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPTAsbz0wLG49ZS5sZW5ndGgsaT1uLTI7bzxuO2k9byxvKz0yKXIrPShlW29dLWVbaV0pKihlW28rMV0rZVtpKzFdKTtpZihyPjA9PT10KWZvcihvPTAsbj1lLmxlbmd0aDtvPG4vMjtvKz0yKXt2YXIgcz1lW29dLGE9ZVtvKzFdO2Vbb109ZVtuLTItb10sZVtvKzFdPWVbbi0xLW9dLGVbbi0yLW9dPXMsZVtuLTEtb109YTt9fShhLGkpLGUucHVzaChhKTt9fWZ1bmN0aW9uIHdlKGUsdCl7dmFyIHI9KHQ9dGhpcy5vcHRpb25zPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByIGluIHQpZVtyXT10W3JdO3JldHVybiBlfShPYmplY3QuY3JlYXRlKHRoaXMub3B0aW9ucyksdCkpLmRlYnVnO2lmKHImJmNvbnNvbGUudGltZShcInByZXByb2Nlc3MgZGF0YVwiKSx0Lm1heFpvb208MHx8dC5tYXhab29tPjI0KXRocm93IG5ldyBFcnJvcihcIm1heFpvb20gc2hvdWxkIGJlIGluIHRoZSAwLTI0IHJhbmdlXCIpO2lmKHQucHJvbW90ZUlkJiZ0LmdlbmVyYXRlSWQpdGhyb3cgbmV3IEVycm9yKFwicHJvbW90ZUlkIGFuZCBnZW5lcmF0ZUlkIGNhbm5vdCBiZSB1c2VkIHRvZ2V0aGVyLlwiKTt2YXIgbz1mdW5jdGlvbihlLHQpe3ZhciByPVtdO2lmKFwiRmVhdHVyZUNvbGxlY3Rpb25cIj09PWUudHlwZSlmb3IodmFyIG89MDtvPGUuZmVhdHVyZXMubGVuZ3RoO28rKylLKHIsZS5mZWF0dXJlc1tvXSx0LG8pO2Vsc2UgSyhyLFwiRmVhdHVyZVwiPT09ZS50eXBlP2U6e2dlb21ldHJ5OmV9LHQpO3JldHVybiByfShlLHQpO3RoaXMudGlsZXM9e30sdGhpcy50aWxlQ29vcmRzPVtdLHImJihjb25zb2xlLnRpbWVFbmQoXCJwcmVwcm9jZXNzIGRhdGFcIiksY29uc29sZS5sb2coXCJpbmRleDogbWF4Wm9vbTogJWQsIG1heFBvaW50czogJWRcIix0LmluZGV4TWF4Wm9vbSx0LmluZGV4TWF4UG9pbnRzKSxjb25zb2xlLnRpbWUoXCJnZW5lcmF0ZSB0aWxlc1wiKSx0aGlzLnN0YXRzPXt9LHRoaXMudG90YWw9MCksbz1mdW5jdGlvbihlLHQpe3ZhciByPXQuYnVmZmVyL3QuZXh0ZW50LG89ZSxuPWllKGUsMSwtMS1yLHIsMCwtMSwyLHQpLGk9aWUoZSwxLDEtciwyK3IsMCwtMSwyLHQpO3JldHVybiAobnx8aSkmJihvPWllKGUsMSwtciwxK3IsMCwtMSwyLHQpfHxbXSxuJiYobz1wZShuLDEpLmNvbmNhdChvKSksaSYmKG89by5jb25jYXQocGUoaSwtMSkpKSksb30obyx0KSxvLmxlbmd0aCYmdGhpcy5zcGxpdFRpbGUobywwLDAsMCksciYmKG8ubGVuZ3RoJiZjb25zb2xlLmxvZyhcImZlYXR1cmVzOiAlZCwgcG9pbnRzOiAlZFwiLHRoaXMudGlsZXNbMF0ubnVtRmVhdHVyZXMsdGhpcy50aWxlc1swXS5udW1Qb2ludHMpLGNvbnNvbGUudGltZUVuZChcImdlbmVyYXRlIHRpbGVzXCIpLGNvbnNvbGUubG9nKFwidGlsZXMgZ2VuZXJhdGVkOlwiLHRoaXMudG90YWwsSlNPTi5zdHJpbmdpZnkodGhpcy5zdGF0cykpKTt9ZnVuY3Rpb24gU2UoZSx0LHIpe3JldHVybiAzMiooKDE8PGUpKnIrdCkrZX1mdW5jdGlvbiBNZShlLHQpe2NvbnN0IHI9ZS50aWxlSUQuY2Fub25pY2FsO2lmKCF0aGlzLl9nZW9KU09OSW5kZXgpcmV0dXJuIHQobnVsbCxudWxsKTtjb25zdCBvPXRoaXMuX2dlb0pTT05JbmRleC5nZXRUaWxlKHIueixyLngsci55KTtpZighbylyZXR1cm4gdChudWxsLG51bGwpO2NvbnN0IG49bmV3IGgoby5mZWF0dXJlcyk7bGV0IGk9Yy5leHBvcnRzKG4pOzA9PT1pLmJ5dGVPZmZzZXQmJmkuYnl0ZUxlbmd0aD09PWkuYnVmZmVyLmJ5dGVMZW5ndGh8fChpPW5ldyBVaW50OEFycmF5KGkpKSx0KG51bGwse3ZlY3RvclRpbGU6bixyYXdEYXRhOmkuYnVmZmVyfSk7fXdlLnByb3RvdHlwZS5vcHRpb25zPXttYXhab29tOjE0LGluZGV4TWF4Wm9vbTo1LGluZGV4TWF4UG9pbnRzOjFlNSx0b2xlcmFuY2U6MyxleHRlbnQ6NDA5NixidWZmZXI6NjQsbGluZU1ldHJpY3M6ITEscHJvbW90ZUlkOm51bGwsZ2VuZXJhdGVJZDohMSxkZWJ1ZzowfSx3ZS5wcm90b3R5cGUuc3BsaXRUaWxlPWZ1bmN0aW9uKGUsdCxyLG8sbixpLHMpe2Zvcih2YXIgYT1bZSx0LHIsb10sbD10aGlzLm9wdGlvbnMsdT1sLmRlYnVnO2EubGVuZ3RoOyl7bz1hLnBvcCgpLHI9YS5wb3AoKSx0PWEucG9wKCksZT1hLnBvcCgpO3ZhciBoPTE8PHQsYz1TZSh0LHIsbyksZj10aGlzLnRpbGVzW2NdO2lmKCFmJiYodT4xJiZjb25zb2xlLnRpbWUoXCJjcmVhdGlvblwiKSxmPXRoaXMudGlsZXNbY109eWUoZSx0LHIsbyxsKSx0aGlzLnRpbGVDb29yZHMucHVzaCh7ejp0LHg6cix5Om99KSx1KSl7dT4xJiYoY29uc29sZS5sb2coXCJ0aWxlIHolZC0lZC0lZCAoZmVhdHVyZXM6ICVkLCBwb2ludHM6ICVkLCBzaW1wbGlmaWVkOiAlZClcIix0LHIsbyxmLm51bUZlYXR1cmVzLGYubnVtUG9pbnRzLGYubnVtU2ltcGxpZmllZCksY29uc29sZS50aW1lRW5kKFwiY3JlYXRpb25cIikpO3ZhciBwPVwielwiK3Q7dGhpcy5zdGF0c1twXT0odGhpcy5zdGF0c1twXXx8MCkrMSx0aGlzLnRvdGFsKys7fWlmKGYuc291cmNlPWUsbil7aWYodD09PWwubWF4Wm9vbXx8dD09PW4pY29udGludWU7dmFyIGc9MTw8bi10O2lmKHIhPT1NYXRoLmZsb29yKGkvZyl8fG8hPT1NYXRoLmZsb29yKHMvZykpY29udGludWV9ZWxzZSBpZih0PT09bC5pbmRleE1heFpvb218fGYubnVtUG9pbnRzPD1sLmluZGV4TWF4UG9pbnRzKWNvbnRpbnVlO2lmKGYuc291cmNlPW51bGwsMCE9PWUubGVuZ3RoKXt1PjEmJmNvbnNvbGUudGltZShcImNsaXBwaW5nXCIpO3ZhciBkLG0seSx2LHgsdyxTPS41KmwuYnVmZmVyL2wuZXh0ZW50LE09LjUtUyxQPS41K1MsYj0xK1M7ZD1tPXk9dj1udWxsLHg9aWUoZSxoLHItUyxyK1AsMCxmLm1pblgsZi5tYXhYLGwpLHc9aWUoZSxoLHIrTSxyK2IsMCxmLm1pblgsZi5tYXhYLGwpLGU9bnVsbCx4JiYoZD1pZSh4LGgsby1TLG8rUCwxLGYubWluWSxmLm1heFksbCksbT1pZSh4LGgsbytNLG8rYiwxLGYubWluWSxmLm1heFksbCkseD1udWxsKSx3JiYoeT1pZSh3LGgsby1TLG8rUCwxLGYubWluWSxmLm1heFksbCksdj1pZSh3LGgsbytNLG8rYiwxLGYubWluWSxmLm1heFksbCksdz1udWxsKSx1PjEmJmNvbnNvbGUudGltZUVuZChcImNsaXBwaW5nXCIpLGEucHVzaChkfHxbXSx0KzEsMipyLDIqbyksYS5wdXNoKG18fFtdLHQrMSwyKnIsMipvKzEpLGEucHVzaCh5fHxbXSx0KzEsMipyKzEsMipvKSxhLnB1c2godnx8W10sdCsxLDIqcisxLDIqbysxKTt9fX0sd2UucHJvdG90eXBlLmdldFRpbGU9ZnVuY3Rpb24oZSx0LHIpe3ZhciBvPXRoaXMub3B0aW9ucyxuPW8uZXh0ZW50LGk9by5kZWJ1ZztpZihlPDB8fGU+MjQpcmV0dXJuIG51bGw7dmFyIHM9MTw8ZSxhPVNlKGUsdD0odCVzK3MpJXMscik7aWYodGhpcy50aWxlc1thXSlyZXR1cm4gZGUodGhpcy50aWxlc1thXSxuKTtpPjEmJmNvbnNvbGUubG9nKFwiZHJpbGxpbmcgZG93biB0byB6JWQtJWQtJWRcIixlLHQscik7Zm9yKHZhciBsLHU9ZSxoPXQsYz1yOyFsJiZ1PjA7KXUtLSxoPU1hdGguZmxvb3IoaC8yKSxjPU1hdGguZmxvb3IoYy8yKSxsPXRoaXMudGlsZXNbU2UodSxoLGMpXTtyZXR1cm4gbCYmbC5zb3VyY2U/KGk+MSYmY29uc29sZS5sb2coXCJmb3VuZCBwYXJlbnQgdGlsZSB6JWQtJWQtJWRcIix1LGgsYyksaT4xJiZjb25zb2xlLnRpbWUoXCJkcmlsbGluZyBkb3duXCIpLHRoaXMuc3BsaXRUaWxlKGwuc291cmNlLHUsaCxjLGUsdCxyKSxpPjEmJmNvbnNvbGUudGltZUVuZChcImRyaWxsaW5nIGRvd25cIiksdGhpcy50aWxlc1thXT9kZSh0aGlzLnRpbGVzW2FdLG4pOm51bGwpOm51bGx9O2NsYXNzIFBlIGV4dGVuZHMgZS5WZWN0b3JUaWxlV29ya2VyU291cmNle2NvbnN0cnVjdG9yKGUsdCxyLG8sbil7c3VwZXIoZSx0LHIsbyxNZSksbiYmKHRoaXMubG9hZEdlb0pTT049bik7fWxvYWREYXRhKHQscil7Y29uc3Qgbz10JiZ0LnJlcXVlc3Qsbj1vJiZvLmNvbGxlY3RSZXNvdXJjZVRpbWluZzt0aGlzLmxvYWRHZW9KU09OKHQsKChzLGEpPT57aWYoc3x8IWEpcmV0dXJuIHIocyk7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGEpcmV0dXJuIHIobmV3IEVycm9yKGBJbnB1dCBkYXRhIGdpdmVuIHRvICcke3Quc291cmNlfScgaXMgbm90IGEgdmFsaWQgR2VvSlNPTiBvYmplY3QuYCkpO3tpKGEsITApO3RyeXtpZih0LmZpbHRlcil7Y29uc3Qgcj1lLmNyZWF0ZUV4cHJlc3Npb24odC5maWx0ZXIse3R5cGU6XCJib29sZWFuXCIsXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwiLG92ZXJyaWRhYmxlOiExLHRyYW5zaXRpb246ITF9KTtpZihcImVycm9yXCI9PT1yLnJlc3VsdCl0aHJvdyBuZXcgRXJyb3Ioci52YWx1ZS5tYXAoKGU9PmAke2Uua2V5fTogJHtlLm1lc3NhZ2V9YCkpLmpvaW4oXCIsIFwiKSk7Y29uc3Qgbz1hLmZlYXR1cmVzLmZpbHRlcigoZT0+ci52YWx1ZS5ldmFsdWF0ZSh7em9vbTowfSxlKSkpO2E9e3R5cGU6XCJGZWF0dXJlQ29sbGVjdGlvblwiLGZlYXR1cmVzOm99O310aGlzLl9nZW9KU09OSW5kZXg9dC5jbHVzdGVyP25ldyBHKGZ1bmN0aW9uKHtzdXBlcmNsdXN0ZXJPcHRpb25zOnQsY2x1c3RlclByb3BlcnRpZXM6cn0pe2lmKCFyfHwhdClyZXR1cm4gdDtjb25zdCBvPXt9LG49e30saT17YWNjdW11bGF0ZWQ6bnVsbCx6b29tOjB9LHM9e3Byb3BlcnRpZXM6bnVsbH0sYT1PYmplY3Qua2V5cyhyKTtmb3IoY29uc3QgdCBvZiBhKXtjb25zdFtpLHNdPXJbdF0sYT1lLmNyZWF0ZUV4cHJlc3Npb24ocyksbD1lLmNyZWF0ZUV4cHJlc3Npb24oXCJzdHJpbmdcIj09dHlwZW9mIGk/W2ksW1wiYWNjdW11bGF0ZWRcIl0sW1wiZ2V0XCIsdF1dOmkpO29bdF09YS52YWx1ZSxuW3RdPWwudmFsdWU7fXJldHVybiB0Lm1hcD1lPT57cy5wcm9wZXJ0aWVzPWU7Y29uc3QgdD17fTtmb3IoY29uc3QgZSBvZiBhKXRbZV09b1tlXS5ldmFsdWF0ZShpLHMpO3JldHVybiB0fSx0LnJlZHVjZT0oZSx0KT0+e3MucHJvcGVydGllcz10O2Zvcihjb25zdCB0IG9mIGEpaS5hY2N1bXVsYXRlZD1lW3RdLGVbdF09blt0XS5ldmFsdWF0ZShpLHMpO30sdH0odCkpLmxvYWQoYS5mZWF0dXJlcyk6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3IHdlKGUsdCl9KGEsdC5nZW9qc29uVnRPcHRpb25zKTt9Y2F0Y2gocyl7cmV0dXJuIHIocyl9dGhpcy5sb2FkZWQ9e307Y29uc3QgbD17fTtpZihuKXtjb25zdCByPWUuZ2V0UGVyZm9ybWFuY2VNZWFzdXJlbWVudChvKTtyJiYobC5yZXNvdXJjZVRpbWluZz17fSxsLnJlc291cmNlVGltaW5nW3Quc291cmNlXT1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHIpKSk7fXIobnVsbCxsKTt9fSkpO31yZWxvYWRUaWxlKGUsdCl7Y29uc3Qgcj10aGlzLmxvYWRlZDtyZXR1cm4gciYmcltlLnVpZF0/c3VwZXIucmVsb2FkVGlsZShlLHQpOnRoaXMubG9hZFRpbGUoZSx0KX1sb2FkR2VvSlNPTih0LHIpe2lmKHQucmVxdWVzdCllLmdldEpTT04odC5yZXF1ZXN0LHIpO2Vsc2Uge2lmKFwic3RyaW5nXCIhPXR5cGVvZiB0LmRhdGEpcmV0dXJuIHIobmV3IEVycm9yKGBJbnB1dCBkYXRhIGdpdmVuIHRvICcke3Quc291cmNlfScgaXMgbm90IGEgdmFsaWQgR2VvSlNPTiBvYmplY3QuYCkpO3RyeXtyZXR1cm4gcihudWxsLEpTT04ucGFyc2UodC5kYXRhKSl9Y2F0Y2goZSl7cmV0dXJuIHIobmV3IEVycm9yKGBJbnB1dCBkYXRhIGdpdmVuIHRvICcke3Quc291cmNlfScgaXMgbm90IGEgdmFsaWQgR2VvSlNPTiBvYmplY3QuYCkpfX19Z2V0Q2x1c3RlckV4cGFuc2lvblpvb20oZSx0KXt0cnl7dChudWxsLHRoaXMuX2dlb0pTT05JbmRleC5nZXRDbHVzdGVyRXhwYW5zaW9uWm9vbShlLmNsdXN0ZXJJZCkpO31jYXRjaChlKXt0KGUpO319Z2V0Q2x1c3RlckNoaWxkcmVuKGUsdCl7dHJ5e3QobnVsbCx0aGlzLl9nZW9KU09OSW5kZXguZ2V0Q2hpbGRyZW4oZS5jbHVzdGVySWQpKTt9Y2F0Y2goZSl7dChlKTt9fWdldENsdXN0ZXJMZWF2ZXMoZSx0KXt0cnl7dChudWxsLHRoaXMuX2dlb0pTT05JbmRleC5nZXRMZWF2ZXMoZS5jbHVzdGVySWQsZS5saW1pdCxlLm9mZnNldCkpO31jYXRjaChlKXt0KGUpO319fWNsYXNzIGJle2NvbnN0cnVjdG9yKHQpe3RoaXMuc2VsZj10LHRoaXMuYWN0b3I9bmV3IGUuQWN0b3IodCx0aGlzKSx0aGlzLmxheWVySW5kZXhlcz17fSx0aGlzLmF2YWlsYWJsZUltYWdlcz17fSx0aGlzLmlzU3ByaXRlTG9hZGVkPXt9LHRoaXMucHJvamVjdGlvbnM9e30sdGhpcy5kZWZhdWx0UHJvamVjdGlvbj1lLmdldFByb2plY3Rpb24oe25hbWU6XCJtZXJjYXRvclwifSksdGhpcy53b3JrZXJTb3VyY2VUeXBlcz17dmVjdG9yOmUuVmVjdG9yVGlsZVdvcmtlclNvdXJjZSxnZW9qc29uOlBlfSx0aGlzLndvcmtlclNvdXJjZXM9e30sdGhpcy5kZW1Xb3JrZXJTb3VyY2VzPXt9LHRoaXMuc2VsZi5yZWdpc3RlcldvcmtlclNvdXJjZT0oZSx0KT0+e2lmKHRoaXMud29ya2VyU291cmNlVHlwZXNbZV0pdGhyb3cgbmV3IEVycm9yKGBXb3JrZXIgc291cmNlIHdpdGggbmFtZSBcIiR7ZX1cIiBhbHJlYWR5IHJlZ2lzdGVyZWQuYCk7dGhpcy53b3JrZXJTb3VyY2VUeXBlc1tlXT10O30sdGhpcy5zZWxmLnJlZ2lzdGVyUlRMVGV4dFBsdWdpbj10PT57aWYoZS5wbHVnaW4uaXNQYXJzZWQoKSl0aHJvdyBuZXcgRXJyb3IoXCJSVEwgdGV4dCBwbHVnaW4gYWxyZWFkeSByZWdpc3RlcmVkLlwiKTtlLnBsdWdpbi5hcHBseUFyYWJpY1NoYXBpbmc9dC5hcHBseUFyYWJpY1NoYXBpbmcsZS5wbHVnaW4ucHJvY2Vzc0JpZGlyZWN0aW9uYWxUZXh0PXQucHJvY2Vzc0JpZGlyZWN0aW9uYWxUZXh0LGUucGx1Z2luLnByb2Nlc3NTdHlsZWRCaWRpcmVjdGlvbmFsVGV4dD10LnByb2Nlc3NTdHlsZWRCaWRpcmVjdGlvbmFsVGV4dDt9O31jbGVhckNhY2hlcyhlLHQscil7ZGVsZXRlIHRoaXMubGF5ZXJJbmRleGVzW2VdLGRlbGV0ZSB0aGlzLmF2YWlsYWJsZUltYWdlc1tlXSxkZWxldGUgdGhpcy53b3JrZXJTb3VyY2VzW2VdLGRlbGV0ZSB0aGlzLmRlbVdvcmtlclNvdXJjZXNbZV0scigpO31jaGVja0lmUmVhZHkoZSx0LHIpe3IoKTt9c2V0UmVmZXJyZXIoZSx0KXt0aGlzLnJlZmVycmVyPXQ7fXNwcml0ZUxvYWRlZCh0LHIpe3RoaXMuaXNTcHJpdGVMb2FkZWRbdF09cjtmb3IoY29uc3QgbyBpbiB0aGlzLndvcmtlclNvdXJjZXNbdF0pe2NvbnN0IG49dGhpcy53b3JrZXJTb3VyY2VzW3RdW29dO2Zvcihjb25zdCB0IGluIG4pblt0XWluc3RhbmNlb2YgZS5WZWN0b3JUaWxlV29ya2VyU291cmNlJiYoblt0XS5pc1Nwcml0ZUxvYWRlZD1yLG5bdF0uZmlyZShuZXcgZS5FdmVudChcImlzU3ByaXRlTG9hZGVkXCIpKSk7fX1zZXRJbWFnZXMoZSx0LHIpe3RoaXMuYXZhaWxhYmxlSW1hZ2VzW2VdPXQ7Zm9yKGNvbnN0IHIgaW4gdGhpcy53b3JrZXJTb3VyY2VzW2VdKXtjb25zdCBvPXRoaXMud29ya2VyU291cmNlc1tlXVtyXTtmb3IoY29uc3QgZSBpbiBvKW9bZV0uYXZhaWxhYmxlSW1hZ2VzPXQ7fXIoKTt9ZW5hYmxlVGVycmFpbihlLHQscil7dGhpcy50ZXJyYWluPXQscigpO31zZXRQcm9qZWN0aW9uKHQscil7dGhpcy5wcm9qZWN0aW9uc1t0XT1lLmdldFByb2plY3Rpb24ocik7fXNldExheWVycyhlLHQscil7dGhpcy5nZXRMYXllckluZGV4KGUpLnJlcGxhY2UodCkscigpO311cGRhdGVMYXllcnMoZSx0LHIpe3RoaXMuZ2V0TGF5ZXJJbmRleChlKS51cGRhdGUodC5sYXllcnMsdC5yZW1vdmVkSWRzKSxyKCk7fWxvYWRUaWxlKHQscixvKXtjb25zdCBuPXRoaXMuZW5hYmxlVGVycmFpbj9lLmV4dGVuZCh7ZW5hYmxlVGVycmFpbjp0aGlzLnRlcnJhaW59LHIpOnI7bi5wcm9qZWN0aW9uPXRoaXMucHJvamVjdGlvbnNbdF18fHRoaXMuZGVmYXVsdFByb2plY3Rpb24sdGhpcy5nZXRXb3JrZXJTb3VyY2UodCxyLnR5cGUsci5zb3VyY2UpLmxvYWRUaWxlKG4sbyk7fWxvYWRERU1UaWxlKHQscixvKXtjb25zdCBuPXRoaXMuZW5hYmxlVGVycmFpbj9lLmV4dGVuZCh7YnVpbGRRdWFkVHJlZTp0aGlzLnRlcnJhaW59LHIpOnI7dGhpcy5nZXRERU1Xb3JrZXJTb3VyY2UodCxyLnNvdXJjZSkubG9hZFRpbGUobixvKTt9cmVsb2FkVGlsZSh0LHIsbyl7Y29uc3Qgbj10aGlzLmVuYWJsZVRlcnJhaW4/ZS5leHRlbmQoe2VuYWJsZVRlcnJhaW46dGhpcy50ZXJyYWlufSxyKTpyO24ucHJvamVjdGlvbj10aGlzLnByb2plY3Rpb25zW3RdfHx0aGlzLmRlZmF1bHRQcm9qZWN0aW9uLHRoaXMuZ2V0V29ya2VyU291cmNlKHQsci50eXBlLHIuc291cmNlKS5yZWxvYWRUaWxlKG4sbyk7fWFib3J0VGlsZShlLHQscil7dGhpcy5nZXRXb3JrZXJTb3VyY2UoZSx0LnR5cGUsdC5zb3VyY2UpLmFib3J0VGlsZSh0LHIpO31yZW1vdmVUaWxlKGUsdCxyKXt0aGlzLmdldFdvcmtlclNvdXJjZShlLHQudHlwZSx0LnNvdXJjZSkucmVtb3ZlVGlsZSh0LHIpO31yZW1vdmVTb3VyY2UoZSx0LHIpe2lmKCF0aGlzLndvcmtlclNvdXJjZXNbZV18fCF0aGlzLndvcmtlclNvdXJjZXNbZV1bdC50eXBlXXx8IXRoaXMud29ya2VyU291cmNlc1tlXVt0LnR5cGVdW3Quc291cmNlXSlyZXR1cm47Y29uc3Qgbz10aGlzLndvcmtlclNvdXJjZXNbZV1bdC50eXBlXVt0LnNvdXJjZV07ZGVsZXRlIHRoaXMud29ya2VyU291cmNlc1tlXVt0LnR5cGVdW3Quc291cmNlXSx2b2lkIDAhPT1vLnJlbW92ZVNvdXJjZT9vLnJlbW92ZVNvdXJjZSh0LHIpOnIoKTt9bG9hZFdvcmtlclNvdXJjZShlLHQscil7dHJ5e3RoaXMuc2VsZi5pbXBvcnRTY3JpcHRzKHQudXJsKSxyKCk7fWNhdGNoKGUpe3IoZS50b1N0cmluZygpKTt9fXN5bmNSVExQbHVnaW5TdGF0ZSh0LHIsbyl7dHJ5e2UucGx1Z2luLnNldFN0YXRlKHIpO2NvbnN0IHQ9ZS5wbHVnaW4uZ2V0UGx1Z2luVVJMKCk7aWYoZS5wbHVnaW4uaXNMb2FkZWQoKSYmIWUucGx1Z2luLmlzUGFyc2VkKCkmJm51bGwhPXQpe3RoaXMuc2VsZi5pbXBvcnRTY3JpcHRzKHQpO2NvbnN0IHI9ZS5wbHVnaW4uaXNQYXJzZWQoKTtvKHI/dm9pZCAwOm5ldyBFcnJvcihgUlRMIFRleHQgUGx1Z2luIGZhaWxlZCB0byBpbXBvcnQgc2NyaXB0cyBmcm9tICR7dH1gKSxyKTt9fWNhdGNoKGUpe28oZS50b1N0cmluZygpKTt9fWdldEF2YWlsYWJsZUltYWdlcyhlKXtsZXQgdD10aGlzLmF2YWlsYWJsZUltYWdlc1tlXTtyZXR1cm4gdHx8KHQ9W10pLHR9Z2V0TGF5ZXJJbmRleChlKXtsZXQgdD10aGlzLmxheWVySW5kZXhlc1tlXTtyZXR1cm4gdHx8KHQ9dGhpcy5sYXllckluZGV4ZXNbZV09bmV3IG8pLHR9Z2V0V29ya2VyU291cmNlKGUsdCxyKXtpZih0aGlzLndvcmtlclNvdXJjZXNbZV18fCh0aGlzLndvcmtlclNvdXJjZXNbZV09e30pLHRoaXMud29ya2VyU291cmNlc1tlXVt0XXx8KHRoaXMud29ya2VyU291cmNlc1tlXVt0XT17fSksIXRoaXMud29ya2VyU291cmNlc1tlXVt0XVtyXSl7Y29uc3Qgbz17c2VuZDoodCxyLG8sbixpLHMpPT57dGhpcy5hY3Rvci5zZW5kKHQscixvLGUsaSxzKTt9LHNjaGVkdWxlcjp0aGlzLmFjdG9yLnNjaGVkdWxlcn07dGhpcy53b3JrZXJTb3VyY2VzW2VdW3RdW3JdPW5ldyB0aGlzLndvcmtlclNvdXJjZVR5cGVzW3RdKG8sdGhpcy5nZXRMYXllckluZGV4KGUpLHRoaXMuZ2V0QXZhaWxhYmxlSW1hZ2VzKGUpLHRoaXMuaXNTcHJpdGVMb2FkZWRbZV0pO31yZXR1cm4gdGhpcy53b3JrZXJTb3VyY2VzW2VdW3RdW3JdfWdldERFTVdvcmtlclNvdXJjZShlLHQpe3JldHVybiB0aGlzLmRlbVdvcmtlclNvdXJjZXNbZV18fCh0aGlzLmRlbVdvcmtlclNvdXJjZXNbZV09e30pLHRoaXMuZGVtV29ya2VyU291cmNlc1tlXVt0XXx8KHRoaXMuZGVtV29ya2VyU291cmNlc1tlXVt0XT1uZXcgbiksdGhpcy5kZW1Xb3JrZXJTb3VyY2VzW2VdW3RdfWVuZm9yY2VDYWNoZVNpemVMaW1pdCh0LHIpe2UuZW5mb3JjZUNhY2hlU2l6ZUxpbWl0KHIpO31nZXRXb3JrZXJQZXJmb3JtYW5jZU1ldHJpY3MoZSx0LHIpe3Iodm9pZCAwLHZvaWQgMCk7fX1yZXR1cm4gXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFdvcmtlckdsb2JhbFNjb3BlJiZcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZiYmc2VsZiBpbnN0YW5jZW9mIFdvcmtlckdsb2JhbFNjb3BlJiYoc2VsZi53b3JrZXI9bmV3IGJlKHNlbGYpKSxiZX0pKTtcblxuZGVmaW5lKFtcIi4vc2hhcmVkXCJdLChmdW5jdGlvbihlKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiB0KGUsaSl7aWYoQXJyYXkuaXNBcnJheShlKSl7aWYoIUFycmF5LmlzQXJyYXkoaSl8fGUubGVuZ3RoIT09aS5sZW5ndGgpcmV0dXJuICExO2ZvcihsZXQgbz0wO288ZS5sZW5ndGg7bysrKWlmKCF0KGVbb10saVtvXSkpcmV0dXJuICExO3JldHVybiAhMH1pZihcIm9iamVjdFwiPT10eXBlb2YgZSYmbnVsbCE9PWUmJm51bGwhPT1pKXtpZihcIm9iamVjdFwiIT10eXBlb2YgaSlyZXR1cm4gITE7aWYoT2JqZWN0LmtleXMoZSkubGVuZ3RoIT09T2JqZWN0LmtleXMoaSkubGVuZ3RoKXJldHVybiAhMTtmb3IoY29uc3QgbyBpbiBlKWlmKCF0KGVbb10saVtvXSkpcmV0dXJuICExO3JldHVybiAhMH1yZXR1cm4gZT09PWl9dmFyIGk9bztmdW5jdGlvbiBvKGUpe3JldHVybiAhZnVuY3Rpb24oZSl7cmV0dXJuIFwidW5kZWZpbmVkXCI9PXR5cGVvZiB3aW5kb3d8fFwidW5kZWZpbmVkXCI9PXR5cGVvZiBkb2N1bWVudD9cIm5vdCBhIGJyb3dzZXJcIjpBcnJheS5wcm90b3R5cGUmJkFycmF5LnByb3RvdHlwZS5ldmVyeSYmQXJyYXkucHJvdG90eXBlLmZpbHRlciYmQXJyYXkucHJvdG90eXBlLmZvckVhY2gmJkFycmF5LnByb3RvdHlwZS5pbmRleE9mJiZBcnJheS5wcm90b3R5cGUubGFzdEluZGV4T2YmJkFycmF5LnByb3RvdHlwZS5tYXAmJkFycmF5LnByb3RvdHlwZS5zb21lJiZBcnJheS5wcm90b3R5cGUucmVkdWNlJiZBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQmJkFycmF5LmlzQXJyYXk/RnVuY3Rpb24ucHJvdG90eXBlJiZGdW5jdGlvbi5wcm90b3R5cGUuYmluZD9PYmplY3Qua2V5cyYmT2JqZWN0LmNyZWF0ZSYmT2JqZWN0LmdldFByb3RvdHlwZU9mJiZPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyYmT2JqZWN0LmlzU2VhbGVkJiZPYmplY3QuaXNGcm96ZW4mJk9iamVjdC5pc0V4dGVuc2libGUmJk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3ImJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSYmT2JqZWN0LmRlZmluZVByb3BlcnRpZXMmJk9iamVjdC5zZWFsJiZPYmplY3QuZnJlZXplJiZPYmplY3QucHJldmVudEV4dGVuc2lvbnM/XCJKU09OXCJpbiB3aW5kb3cmJlwicGFyc2VcImluIEpTT04mJlwic3RyaW5naWZ5XCJpbiBKU09OP2Z1bmN0aW9uKCl7aWYoIShcIldvcmtlclwiaW4gd2luZG93JiZcIkJsb2JcImluIHdpbmRvdyYmXCJVUkxcImluIHdpbmRvdykpcmV0dXJuICExO3ZhciBlLHQsaT1uZXcgQmxvYihbXCJcIl0se3R5cGU6XCJ0ZXh0L2phdmFzY3JpcHRcIn0pLG89VVJMLmNyZWF0ZU9iamVjdFVSTChpKTt0cnl7dD1uZXcgV29ya2VyKG8pLGU9ITA7fWNhdGNoKHQpe2U9ITE7fXJldHVybiB0JiZ0LnRlcm1pbmF0ZSgpLFVSTC5yZXZva2VPYmplY3RVUkwobyksZX0oKT9cIlVpbnQ4Q2xhbXBlZEFycmF5XCJpbiB3aW5kb3c/QXJyYXlCdWZmZXIuaXNWaWV3P2Z1bmN0aW9uKCl7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtlLndpZHRoPWUuaGVpZ2h0PTE7dmFyIHQ9ZS5nZXRDb250ZXh0KFwiMmRcIik7aWYoIXQpcmV0dXJuICExO3ZhciBpPXQuZ2V0SW1hZ2VEYXRhKDAsMCwxLDEpO3JldHVybiBpJiZpLndpZHRoPT09ZS53aWR0aH0oKT8odm9pZCAwPT09clt0PWUmJmUuZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdF0mJihyW3RdPWZ1bmN0aW9uKGUpe3ZhciB0LGk9ZnVuY3Rpb24oZSl7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKSxpPU9iamVjdC5jcmVhdGUoby53ZWJHTENvbnRleHRBdHRyaWJ1dGVzKTtyZXR1cm4gaS5mYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0PWUsdC5nZXRDb250ZXh0KFwid2ViZ2xcIixpKXx8dC5nZXRDb250ZXh0KFwiZXhwZXJpbWVudGFsLXdlYmdsXCIsaSl9KGUpO2lmKCFpKXJldHVybiAhMTt0cnl7dD1pLmNyZWF0ZVNoYWRlcihpLlZFUlRFWF9TSEFERVIpO31jYXRjaChlKXtyZXR1cm4gITF9cmV0dXJuICEoIXR8fGkuaXNDb250ZXh0TG9zdCgpKSYmKGkuc2hhZGVyU291cmNlKHQsXCJ2b2lkIG1haW4oKSB7fVwiKSxpLmNvbXBpbGVTaGFkZXIodCksITA9PT1pLmdldFNoYWRlclBhcmFtZXRlcih0LGkuQ09NUElMRV9TVEFUVVMpKX0odCkpLHJbdF0/ZG9jdW1lbnQuZG9jdW1lbnRNb2RlP1wiaW5zdWZmaWNpZW50IEVDTUFTY3JpcHQgNiBzdXBwb3J0XCI6dm9pZCAwOlwiaW5zdWZmaWNpZW50IFdlYkdMIHN1cHBvcnRcIik6XCJpbnN1ZmZpY2llbnQgQ2FudmFzL2dldEltYWdlRGF0YSBzdXBwb3J0XCI6XCJpbnN1ZmZpY2llbnQgQXJyYXlCdWZmZXIgc3VwcG9ydFwiOlwiaW5zdWZmaWNpZW50IFVpbnQ4Q2xhbXBlZEFycmF5IHN1cHBvcnRcIjpcImluc3VmZmljaWVudCB3b3JrZXIgc3VwcG9ydFwiOlwiaW5zdWZmaWNpZW50IEpTT04gc3VwcG9ydFwiOlwiaW5zdWZmaWNpZW50IE9iamVjdCBzdXBwb3J0XCI6XCJpbnN1ZmZpY2llbnQgRnVuY3Rpb24gc3VwcG9ydFwiOlwiaW5zdWZmaWNlbnQgQXJyYXkgc3VwcG9ydFwiO3ZhciB0O30oZSl9dmFyIHI9e307ZnVuY3Rpb24gbih0LGksbyl7Y29uc3Qgcj1lLndpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KHQpO3JldHVybiB2b2lkIDAhPT1pJiYoci5jbGFzc05hbWU9aSksbyYmby5hcHBlbmRDaGlsZChyKSxyfWZ1bmN0aW9uIGEodCxpLG8pe2NvbnN0IHI9ZS53aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIix0KTtmb3IoY29uc3QgZSBvZiBPYmplY3Qua2V5cyhpKSlyLnNldEF0dHJpYnV0ZU5TKG51bGwsZSxpW2VdKTtyZXR1cm4gbyYmby5hcHBlbmRDaGlsZChyKSxyfW8ud2ViR0xDb250ZXh0QXR0cmlidXRlcz17YW50aWFsaWFzOiExLGFscGhhOiEwLHN0ZW5jaWw6ITAsZGVwdGg6ITB9O2NvbnN0IHM9ZS53aW5kb3cuZG9jdW1lbnQmJmUud2luZG93LmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZSxsPXMmJnZvaWQgMCE9PXMudXNlclNlbGVjdD9cInVzZXJTZWxlY3RcIjpcIldlYmtpdFVzZXJTZWxlY3RcIjtsZXQgYztmdW5jdGlvbiBoKCl7cyYmbCYmKGM9c1tsXSxzW2xdPVwibm9uZVwiKTt9ZnVuY3Rpb24gXygpe3MmJmwmJihzW2xdPWMpO31mdW5jdGlvbiB1KHQpe3QucHJldmVudERlZmF1bHQoKSx0LnN0b3BQcm9wYWdhdGlvbigpLGUud2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHUsITApO31mdW5jdGlvbiBkKCl7ZS53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsdSwhMCksZS53aW5kb3cuc2V0VGltZW91dCgoKCk9PntlLndpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIix1LCEwKTt9KSwwKTt9ZnVuY3Rpb24gcChlLHQpe2NvbnN0IGk9ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtyZXR1cm4gZyhlLGksdCl9ZnVuY3Rpb24gbShlLHQpe2NvbnN0IGk9ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxvPVtdO2ZvcihsZXQgcj0wO3I8dC5sZW5ndGg7cisrKW8ucHVzaChnKGUsaSx0W3JdKSk7cmV0dXJuIG99ZnVuY3Rpb24gZih0KXtyZXR1cm4gdm9pZCAwIT09ZS53aW5kb3cuSW5zdGFsbFRyaWdnZXImJjI9PT10LmJ1dHRvbiYmdC5jdHJsS2V5JiZlLndpbmRvdy5uYXZpZ2F0b3IucGxhdGZvcm0udG9VcHBlckNhc2UoKS5pbmRleE9mKFwiTUFDXCIpPj0wPzA6dC5idXR0b259ZnVuY3Rpb24gZyh0LGksbyl7Y29uc3Qgcj10Lm9mZnNldFdpZHRoPT09aS53aWR0aD8xOnQub2Zmc2V0V2lkdGgvaS53aWR0aDtyZXR1cm4gbmV3IGUucG9pbnRHZW9tZXRyeSgoby5jbGllbnRYLWkubGVmdCkqciwoby5jbGllbnRZLWkudG9wKSpyKX1mdW5jdGlvbiB2KGUsdCl7dmFyIGk9dFswXSxvPXRbMV0scj10WzJdLG49dFszXSxhPWkqbi1yKm87cmV0dXJuIGE/KGVbMF09biooYT0xL2EpLGVbMV09LW8qYSxlWzJdPS1yKmEsZVszXT1pKmEsZSk6bnVsbH1mdW5jdGlvbiB4KGUpe2NvbnN0e3VzZXJJbWFnZTp0fT1lO3JldHVybiAhISh0JiZ0LnJlbmRlciYmdC5yZW5kZXIoKSkmJihlLmRhdGEucmVwbGFjZShuZXcgVWludDhBcnJheSh0LmRhdGEuYnVmZmVyKSksITApfWNsYXNzIHkgZXh0ZW5kcyBlLkV2ZW50ZWR7Y29uc3RydWN0b3IoKXtzdXBlcigpLHRoaXMuaW1hZ2VzPXt9LHRoaXMudXBkYXRlZEltYWdlcz17fSx0aGlzLmNhbGxiYWNrRGlzcGF0Y2hlZFRoaXNGcmFtZT17fSx0aGlzLmxvYWRlZD0hMSx0aGlzLnJlcXVlc3RvcnM9W10sdGhpcy5wYXR0ZXJucz17fSx0aGlzLmF0bGFzSW1hZ2U9bmV3IGUuUkdCQUltYWdlKHt3aWR0aDoxLGhlaWdodDoxfSksdGhpcy5kaXJ0eT0hMDt9aXNMb2FkZWQoKXtyZXR1cm4gdGhpcy5sb2FkZWR9c2V0TG9hZGVkKGUpe2lmKHRoaXMubG9hZGVkIT09ZSYmKHRoaXMubG9hZGVkPWUsZSkpe2Zvcihjb25zdHtpZHM6ZSxjYWxsYmFjazp0fW9mIHRoaXMucmVxdWVzdG9ycyl0aGlzLl9ub3RpZnkoZSx0KTt0aGlzLnJlcXVlc3RvcnM9W107fX1oYXNJbWFnZShlKXtyZXR1cm4gISF0aGlzLmdldEltYWdlKGUpfWdldEltYWdlKGUpe3JldHVybiB0aGlzLmltYWdlc1tlXX1hZGRJbWFnZShlLHQpe3RoaXMuX3ZhbGlkYXRlKGUsdCkmJih0aGlzLmltYWdlc1tlXT10KTt9X3ZhbGlkYXRlKHQsaSl7bGV0IG89ITA7cmV0dXJuIHRoaXMuX3ZhbGlkYXRlU3RyZXRjaChpLnN0cmV0Y2hYLGkuZGF0YSYmaS5kYXRhLndpZHRoKXx8KHRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihgSW1hZ2UgXCIke3R9XCIgaGFzIGludmFsaWQgXCJzdHJldGNoWFwiIHZhbHVlYCkpKSxvPSExKSx0aGlzLl92YWxpZGF0ZVN0cmV0Y2goaS5zdHJldGNoWSxpLmRhdGEmJmkuZGF0YS5oZWlnaHQpfHwodGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQobmV3IEVycm9yKGBJbWFnZSBcIiR7dH1cIiBoYXMgaW52YWxpZCBcInN0cmV0Y2hZXCIgdmFsdWVgKSkpLG89ITEpLHRoaXMuX3ZhbGlkYXRlQ29udGVudChpLmNvbnRlbnQsaSl8fCh0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgRXJyb3IoYEltYWdlIFwiJHt0fVwiIGhhcyBpbnZhbGlkIFwiY29udGVudFwiIHZhbHVlYCkpKSxvPSExKSxvfV92YWxpZGF0ZVN0cmV0Y2goZSx0KXtpZighZSlyZXR1cm4gITA7bGV0IGk9MDtmb3IoY29uc3QgbyBvZiBlKXtpZihvWzBdPGl8fG9bMV08b1swXXx8dDxvWzFdKXJldHVybiAhMTtpPW9bMV07fXJldHVybiAhMH1fdmFsaWRhdGVDb250ZW50KGUsdCl7cmV0dXJuICEoZSYmKDQhPT1lLmxlbmd0aHx8ZVswXTwwfHx0LmRhdGEud2lkdGg8ZVswXXx8ZVsxXTwwfHx0LmRhdGEuaGVpZ2h0PGVbMV18fGVbMl08MHx8dC5kYXRhLndpZHRoPGVbMl18fGVbM108MHx8dC5kYXRhLmhlaWdodDxlWzNdfHxlWzJdPGVbMF18fGVbM108ZVsxXSkpfXVwZGF0ZUltYWdlKGUsdCl7dC52ZXJzaW9uPXRoaXMuaW1hZ2VzW2VdLnZlcnNpb24rMSx0aGlzLmltYWdlc1tlXT10LHRoaXMudXBkYXRlZEltYWdlc1tlXT0hMDt9cmVtb3ZlSW1hZ2UoZSl7Y29uc3QgdD10aGlzLmltYWdlc1tlXTtkZWxldGUgdGhpcy5pbWFnZXNbZV0sZGVsZXRlIHRoaXMucGF0dGVybnNbZV0sdC51c2VySW1hZ2UmJnQudXNlckltYWdlLm9uUmVtb3ZlJiZ0LnVzZXJJbWFnZS5vblJlbW92ZSgpO31saXN0SW1hZ2VzKCl7cmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuaW1hZ2VzKX1nZXRJbWFnZXMoZSx0KXtsZXQgaT0hMDtpZighdGhpcy5pc0xvYWRlZCgpKWZvcihjb25zdCB0IG9mIGUpdGhpcy5pbWFnZXNbdF18fChpPSExKTt0aGlzLmlzTG9hZGVkKCl8fGk/dGhpcy5fbm90aWZ5KGUsdCk6dGhpcy5yZXF1ZXN0b3JzLnB1c2goe2lkczplLGNhbGxiYWNrOnR9KTt9X25vdGlmeSh0LGkpe2NvbnN0IG89e307Zm9yKGNvbnN0IGkgb2YgdCl7dGhpcy5pbWFnZXNbaV18fHRoaXMuZmlyZShuZXcgZS5FdmVudChcInN0eWxlaW1hZ2VtaXNzaW5nXCIse2lkOml9KSk7Y29uc3QgdD10aGlzLmltYWdlc1tpXTt0P29baV09e2RhdGE6dC5kYXRhLmNsb25lKCkscGl4ZWxSYXRpbzp0LnBpeGVsUmF0aW8sc2RmOnQuc2RmLHZlcnNpb246dC52ZXJzaW9uLHN0cmV0Y2hYOnQuc3RyZXRjaFgsc3RyZXRjaFk6dC5zdHJldGNoWSxjb250ZW50OnQuY29udGVudCxoYXNSZW5kZXJDYWxsYmFjazpCb29sZWFuKHQudXNlckltYWdlJiZ0LnVzZXJJbWFnZS5yZW5kZXIpfTplLndhcm5PbmNlKGBJbWFnZSBcIiR7aX1cIiBjb3VsZCBub3QgYmUgbG9hZGVkLiBQbGVhc2UgbWFrZSBzdXJlIHlvdSBoYXZlIGFkZGVkIHRoZSBpbWFnZSB3aXRoIG1hcC5hZGRJbWFnZSgpIG9yIGEgXCJzcHJpdGVcIiBwcm9wZXJ0eSBpbiB5b3VyIHN0eWxlLiBZb3UgY2FuIHByb3ZpZGUgbWlzc2luZyBpbWFnZXMgYnkgbGlzdGVuaW5nIGZvciB0aGUgXCJzdHlsZWltYWdlbWlzc2luZ1wiIG1hcCBldmVudC5gKTt9aShudWxsLG8pO31nZXRQaXhlbFNpemUoKXtjb25zdHt3aWR0aDplLGhlaWdodDp0fT10aGlzLmF0bGFzSW1hZ2U7cmV0dXJuIHt3aWR0aDplLGhlaWdodDp0fX1nZXRQYXR0ZXJuKHQpe2NvbnN0IGk9dGhpcy5wYXR0ZXJuc1t0XSxvPXRoaXMuZ2V0SW1hZ2UodCk7aWYoIW8pcmV0dXJuIG51bGw7aWYoaSYmaS5wb3NpdGlvbi52ZXJzaW9uPT09by52ZXJzaW9uKXJldHVybiBpLnBvc2l0aW9uO2lmKGkpaS5wb3NpdGlvbi52ZXJzaW9uPW8udmVyc2lvbjtlbHNlIHtjb25zdCBpPXt3Om8uZGF0YS53aWR0aCsyLGg6by5kYXRhLmhlaWdodCsyLHg6MCx5OjB9LHI9bmV3IGUuSW1hZ2VQb3NpdGlvbihpLG8pO3RoaXMucGF0dGVybnNbdF09e2JpbjppLHBvc2l0aW9uOnJ9O31yZXR1cm4gdGhpcy5fdXBkYXRlUGF0dGVybkF0bGFzKCksdGhpcy5wYXR0ZXJuc1t0XS5wb3NpdGlvbn1iaW5kKHQpe2NvbnN0IGk9dC5nbDt0aGlzLmF0bGFzVGV4dHVyZT90aGlzLmRpcnR5JiYodGhpcy5hdGxhc1RleHR1cmUudXBkYXRlKHRoaXMuYXRsYXNJbWFnZSksdGhpcy5kaXJ0eT0hMSk6dGhpcy5hdGxhc1RleHR1cmU9bmV3IGUuVGV4dHVyZSh0LHRoaXMuYXRsYXNJbWFnZSxpLlJHQkEpLHRoaXMuYXRsYXNUZXh0dXJlLmJpbmQoaS5MSU5FQVIsaS5DTEFNUF9UT19FREdFKTt9X3VwZGF0ZVBhdHRlcm5BdGxhcygpe2NvbnN0IHQ9W107Zm9yKGNvbnN0IGUgaW4gdGhpcy5wYXR0ZXJucyl0LnB1c2godGhpcy5wYXR0ZXJuc1tlXS5iaW4pO2NvbnN0e3c6aSxoOm99PWUucG90cGFjayh0KSxyPXRoaXMuYXRsYXNJbWFnZTtyLnJlc2l6ZSh7d2lkdGg6aXx8MSxoZWlnaHQ6b3x8MX0pO2Zvcihjb25zdCB0IGluIHRoaXMucGF0dGVybnMpe2NvbnN0e2JpbjppfT10aGlzLnBhdHRlcm5zW3RdLG89aS54KzEsbj1pLnkrMSxhPXRoaXMuaW1hZ2VzW3RdLmRhdGEscz1hLndpZHRoLGw9YS5oZWlnaHQ7ZS5SR0JBSW1hZ2UuY29weShhLHIse3g6MCx5OjB9LHt4Om8seTpufSx7d2lkdGg6cyxoZWlnaHQ6bH0pLGUuUkdCQUltYWdlLmNvcHkoYSxyLHt4OjAseTpsLTF9LHt4Om8seTpuLTF9LHt3aWR0aDpzLGhlaWdodDoxfSksZS5SR0JBSW1hZ2UuY29weShhLHIse3g6MCx5OjB9LHt4Om8seTpuK2x9LHt3aWR0aDpzLGhlaWdodDoxfSksZS5SR0JBSW1hZ2UuY29weShhLHIse3g6cy0xLHk6MH0se3g6by0xLHk6bn0se3dpZHRoOjEsaGVpZ2h0Omx9KSxlLlJHQkFJbWFnZS5jb3B5KGEscix7eDowLHk6MH0se3g6bytzLHk6bn0se3dpZHRoOjEsaGVpZ2h0Omx9KTt9dGhpcy5kaXJ0eT0hMDt9YmVnaW5GcmFtZSgpe3RoaXMuY2FsbGJhY2tEaXNwYXRjaGVkVGhpc0ZyYW1lPXt9O31kaXNwYXRjaFJlbmRlckNhbGxiYWNrcyhlKXtmb3IoY29uc3QgdCBvZiBlKXtpZih0aGlzLmNhbGxiYWNrRGlzcGF0Y2hlZFRoaXNGcmFtZVt0XSljb250aW51ZTt0aGlzLmNhbGxiYWNrRGlzcGF0Y2hlZFRoaXNGcmFtZVt0XT0hMDtjb25zdCBlPXRoaXMuaW1hZ2VzW3RdO3goZSkmJnRoaXMudXBkYXRlSW1hZ2UodCxlKTt9fX1jb25zdCBiPW5ldyBlLlByb3BlcnRpZXMoe2FuY2hvcjpuZXcgZS5EYXRhQ29uc3RhbnRQcm9wZXJ0eShlLnNwZWMubGlnaHQuYW5jaG9yKSxwb3NpdGlvbjpuZXcgY2xhc3N7Y29uc3RydWN0b3IoKXt0aGlzLnNwZWNpZmljYXRpb249ZS5zcGVjLmxpZ2h0LnBvc2l0aW9uO31wb3NzaWJseUV2YWx1YXRlKHQsaSl7cmV0dXJuIGZ1bmN0aW9uKFt0LGksb10pe2NvbnN0IHI9ZS5kZWdUb1JhZChpKzkwKSxuPWUuZGVnVG9SYWQobyk7cmV0dXJuIHt4OnQqTWF0aC5jb3MocikqTWF0aC5zaW4obikseTp0Kk1hdGguc2luKHIpKk1hdGguc2luKG4pLHo6dCpNYXRoLmNvcyhuKSxhemltdXRoYWw6aSxwb2xhcjpvfX0odC5leHByZXNzaW9uLmV2YWx1YXRlKGkpKX1pbnRlcnBvbGF0ZSh0LGksbyl7cmV0dXJuIHt4OmUubnVtYmVyKHQueCxpLngsbykseTplLm51bWJlcih0LnksaS55LG8pLHo6ZS5udW1iZXIodC56LGkueixvKSxhemltdXRoYWw6ZS5udW1iZXIodC5hemltdXRoYWwsaS5hemltdXRoYWwsbykscG9sYXI6ZS5udW1iZXIodC5wb2xhcixpLnBvbGFyLG8pfX19LGNvbG9yOm5ldyBlLkRhdGFDb25zdGFudFByb3BlcnR5KGUuc3BlYy5saWdodC5jb2xvciksaW50ZW5zaXR5Om5ldyBlLkRhdGFDb25zdGFudFByb3BlcnR5KGUuc3BlYy5saWdodC5pbnRlbnNpdHkpfSksdz1cIi10cmFuc2l0aW9uXCI7Y2xhc3MgVCBleHRlbmRzIGUuRXZlbnRlZHtjb25zdHJ1Y3Rvcih0KXtzdXBlcigpLHRoaXMuX3RyYW5zaXRpb25hYmxlPW5ldyBlLlRyYW5zaXRpb25hYmxlKGIpLHRoaXMuc2V0TGlnaHQodCksdGhpcy5fdHJhbnNpdGlvbmluZz10aGlzLl90cmFuc2l0aW9uYWJsZS51bnRyYW5zaXRpb25lZCgpO31nZXRMaWdodCgpe3JldHVybiB0aGlzLl90cmFuc2l0aW9uYWJsZS5zZXJpYWxpemUoKX1zZXRMaWdodCh0LGk9e30pe2lmKCF0aGlzLl92YWxpZGF0ZShlLnZhbGlkYXRlTGlnaHQsdCxpKSlmb3IoY29uc3QgaSBpbiB0KXtjb25zdCBvPXRbaV07ZS5lbmRzV2l0aChpLHcpP3RoaXMuX3RyYW5zaXRpb25hYmxlLnNldFRyYW5zaXRpb24oaS5zbGljZSgwLC13Lmxlbmd0aCksbyk6dGhpcy5fdHJhbnNpdGlvbmFibGUuc2V0VmFsdWUoaSxvKTt9fXVwZGF0ZVRyYW5zaXRpb25zKGUpe3RoaXMuX3RyYW5zaXRpb25pbmc9dGhpcy5fdHJhbnNpdGlvbmFibGUudHJhbnNpdGlvbmVkKGUsdGhpcy5fdHJhbnNpdGlvbmluZyk7fWhhc1RyYW5zaXRpb24oKXtyZXR1cm4gdGhpcy5fdHJhbnNpdGlvbmluZy5oYXNUcmFuc2l0aW9uKCl9cmVjYWxjdWxhdGUoZSl7dGhpcy5wcm9wZXJ0aWVzPXRoaXMuX3RyYW5zaXRpb25pbmcucG9zc2libHlFdmFsdWF0ZShlKTt9X3ZhbGlkYXRlKHQsaSxvKXtyZXR1cm4gKCFvfHwhMSE9PW8udmFsaWRhdGUpJiZlLmVtaXRWYWxpZGF0aW9uRXJyb3JzKHRoaXMsdC5jYWxsKGUudmFsaWRhdGVTdHlsZSxlLmV4dGVuZCh7dmFsdWU6aSxzdHlsZTp7Z2x5cGhzOiEwLHNwcml0ZTohMH0sc3R5bGVTcGVjOmUuc3BlY30pKSl9fWNvbnN0IEU9bmV3IGUuUHJvcGVydGllcyh7c291cmNlOm5ldyBlLkRhdGFDb25zdGFudFByb3BlcnR5KGUuc3BlYy50ZXJyYWluLnNvdXJjZSksZXhhZ2dlcmF0aW9uOm5ldyBlLkRhdGFDb25zdGFudFByb3BlcnR5KGUuc3BlYy50ZXJyYWluLmV4YWdnZXJhdGlvbil9KSxDPVwiLXRyYW5zaXRpb25cIjtjbGFzcyBJIGV4dGVuZHMgZS5FdmVudGVke2NvbnN0cnVjdG9yKHQsaSl7c3VwZXIoKSx0aGlzLl90cmFuc2l0aW9uYWJsZT1uZXcgZS5UcmFuc2l0aW9uYWJsZShFKSx0aGlzLnNldCh0KSx0aGlzLl90cmFuc2l0aW9uaW5nPXRoaXMuX3RyYW5zaXRpb25hYmxlLnVudHJhbnNpdGlvbmVkKCksdGhpcy5kcmFwZVJlbmRlck1vZGU9aTt9Z2V0KCl7cmV0dXJuIHRoaXMuX3RyYW5zaXRpb25hYmxlLnNlcmlhbGl6ZSgpfXNldCh0KXtmb3IoY29uc3QgaSBpbiB0KXtjb25zdCBvPXRbaV07ZS5lbmRzV2l0aChpLEMpP3RoaXMuX3RyYW5zaXRpb25hYmxlLnNldFRyYW5zaXRpb24oaS5zbGljZSgwLC1DLmxlbmd0aCksbyk6dGhpcy5fdHJhbnNpdGlvbmFibGUuc2V0VmFsdWUoaSxvKTt9fXVwZGF0ZVRyYW5zaXRpb25zKGUpe3RoaXMuX3RyYW5zaXRpb25pbmc9dGhpcy5fdHJhbnNpdGlvbmFibGUudHJhbnNpdGlvbmVkKGUsdGhpcy5fdHJhbnNpdGlvbmluZyk7fWhhc1RyYW5zaXRpb24oKXtyZXR1cm4gdGhpcy5fdHJhbnNpdGlvbmluZy5oYXNUcmFuc2l0aW9uKCl9cmVjYWxjdWxhdGUoZSl7dGhpcy5wcm9wZXJ0aWVzPXRoaXMuX3RyYW5zaXRpb25pbmcucG9zc2libHlFdmFsdWF0ZShlKTt9fWZ1bmN0aW9uIE0odCxpLG8scil7Y29uc3Qgbj1lLnNtb290aHN0ZXAoNDUsNjUsbyksW2Esc109Uyh0LHIpLGw9ZS5sZW5ndGgoaSk7bGV0IGM9MS1NYXRoLm1pbigxLE1hdGguZXhwKChsLWEpLyhzLWEpKi02KSk7cmV0dXJuIGMqPWMqYyxjPU1hdGgubWluKDEsMS4wMDc0NypjKSxjKm4qdC5hbHBoYX1mdW5jdGlvbiBTKGUsdCl7Y29uc3QgaT0uNS9NYXRoLnRhbiguNSp0KTtyZXR1cm4gW2UucmFuZ2VbMF0raSxlLnJhbmdlWzFdK2ldfWNvbnN0IHo9bmV3IGUuUHJvcGVydGllcyh7cmFuZ2U6bmV3IGUuRGF0YUNvbnN0YW50UHJvcGVydHkoZS5zcGVjLmZvZy5yYW5nZSksY29sb3I6bmV3IGUuRGF0YUNvbnN0YW50UHJvcGVydHkoZS5zcGVjLmZvZy5jb2xvciksXCJoaWdoLWNvbG9yXCI6bmV3IGUuRGF0YUNvbnN0YW50UHJvcGVydHkoZS5zcGVjLmZvZ1tcImhpZ2gtY29sb3JcIl0pLFwic3BhY2UtY29sb3JcIjpuZXcgZS5EYXRhQ29uc3RhbnRQcm9wZXJ0eShlLnNwZWMuZm9nW1wic3BhY2UtY29sb3JcIl0pLFwiaG9yaXpvbi1ibGVuZFwiOm5ldyBlLkRhdGFDb25zdGFudFByb3BlcnR5KGUuc3BlYy5mb2dbXCJob3Jpem9uLWJsZW5kXCJdKSxcInN0YXItaW50ZW5zaXR5XCI6bmV3IGUuRGF0YUNvbnN0YW50UHJvcGVydHkoZS5zcGVjLmZvZ1tcInN0YXItaW50ZW5zaXR5XCJdKX0pLEQ9XCItdHJhbnNpdGlvblwiO2NsYXNzIEEgZXh0ZW5kcyBlLkV2ZW50ZWR7Y29uc3RydWN0b3IodCxpKXtzdXBlcigpLHRoaXMuX3RyYW5zaXRpb25hYmxlPW5ldyBlLlRyYW5zaXRpb25hYmxlKHopLHRoaXMuc2V0KHQpLHRoaXMuX3RyYW5zaXRpb25pbmc9dGhpcy5fdHJhbnNpdGlvbmFibGUudW50cmFuc2l0aW9uZWQoKSx0aGlzLl90cmFuc2Zvcm09aTt9Z2V0IHN0YXRlKCl7Y29uc3QgdD10aGlzLl90cmFuc2Zvcm0saT1cImdsb2JlXCI9PT10LnByb2plY3Rpb24ubmFtZSxvPWUuZ2xvYmVUb01lcmNhdG9yVHJhbnNpdGlvbih0Lnpvb20pLHI9dGhpcy5wcm9wZXJ0aWVzLmdldChcInJhbmdlXCIpLG49Wy41LDNdO3JldHVybiB7cmFuZ2U6aT9bZS5udW1iZXIoblswXSxyWzBdLG8pLGUubnVtYmVyKG5bMV0sclsxXSxvKV06cixob3Jpem9uQmxlbmQ6dGhpcy5wcm9wZXJ0aWVzLmdldChcImhvcml6b24tYmxlbmRcIiksYWxwaGE6dGhpcy5wcm9wZXJ0aWVzLmdldChcImNvbG9yXCIpLmF9fWdldCgpe3JldHVybiB0aGlzLl90cmFuc2l0aW9uYWJsZS5zZXJpYWxpemUoKX1zZXQodCxpPXt9KXtpZighdGhpcy5fdmFsaWRhdGUoZS52YWxpZGF0ZUZvZyx0LGkpKXtmb3IoY29uc3QgaSBvZiBPYmplY3Qua2V5cyhlLnNwZWMuZm9nKSl0JiZ2b2lkIDA9PT10W2ldJiYodFtpXT1lLnNwZWMuZm9nW2ldLmRlZmF1bHQpO2Zvcihjb25zdCBpIGluIHQpe2NvbnN0IG89dFtpXTtlLmVuZHNXaXRoKGksRCk/dGhpcy5fdHJhbnNpdGlvbmFibGUuc2V0VHJhbnNpdGlvbihpLnNsaWNlKDAsLUQubGVuZ3RoKSxvKTp0aGlzLl90cmFuc2l0aW9uYWJsZS5zZXRWYWx1ZShpLG8pO319fWdldE9wYWNpdHkodCl7aWYoIXRoaXMuX3RyYW5zZm9ybS5wcm9qZWN0aW9uLnN1cHBvcnRzRm9nKXJldHVybiAwO2NvbnN0IGk9dGhpcy5wcm9wZXJ0aWVzJiZ0aGlzLnByb3BlcnRpZXMuZ2V0KFwiY29sb3JcIil8fDE7cmV0dXJuIChcImdsb2JlXCI9PT10aGlzLl90cmFuc2Zvcm0ucHJvamVjdGlvbi5uYW1lPzE6ZS5zbW9vdGhzdGVwKDQ1LDY1LHQpKSppLmF9Z2V0T3BhY2l0eUF0TGF0TG5nKHQsaSl7cmV0dXJuIHRoaXMuX3RyYW5zZm9ybS5wcm9qZWN0aW9uLnN1cHBvcnRzRm9nP2Z1bmN0aW9uKHQsaSxvKXtjb25zdCByPWUuTWVyY2F0b3JDb29yZGluYXRlLmZyb21MbmdMYXQoaSksbj1vLmVsZXZhdGlvbj9vLmVsZXZhdGlvbi5nZXRBdFBvaW50T3JaZXJvKHIpOjAsYT1bci54LHIueSxuXTtyZXR1cm4gZS50cmFuc2Zvcm1NYXQ0KGEsYSxvLm1lcmNhdG9yRm9nTWF0cml4KSxNKHQsYSxvLnBpdGNoLG8uX2Zvdil9KHRoaXMuc3RhdGUsdCxpKTowfWdldEZvdkFkanVzdGVkUmFuZ2UoZSl7cmV0dXJuIHRoaXMuX3RyYW5zZm9ybS5wcm9qZWN0aW9uLnN1cHBvcnRzRm9nP1ModGhpcy5zdGF0ZSxlKTpbMCwxXX11cGRhdGVUcmFuc2l0aW9ucyhlKXt0aGlzLl90cmFuc2l0aW9uaW5nPXRoaXMuX3RyYW5zaXRpb25hYmxlLnRyYW5zaXRpb25lZChlLHRoaXMuX3RyYW5zaXRpb25pbmcpO31oYXNUcmFuc2l0aW9uKCl7cmV0dXJuIHRoaXMuX3RyYW5zaXRpb25pbmcuaGFzVHJhbnNpdGlvbigpfXJlY2FsY3VsYXRlKGUpe3RoaXMucHJvcGVydGllcz10aGlzLl90cmFuc2l0aW9uaW5nLnBvc3NpYmx5RXZhbHVhdGUoZSk7fV92YWxpZGF0ZSh0LGksbyl7cmV0dXJuICghb3x8ITEhPT1vLnZhbGlkYXRlKSYmZS5lbWl0VmFsaWRhdGlvbkVycm9ycyh0aGlzLHQuY2FsbChlLnZhbGlkYXRlU3R5bGUsZS5leHRlbmQoe3ZhbHVlOmksc3R5bGU6e2dseXBoczohMCxzcHJpdGU6ITB9LHN0eWxlU3BlYzplLnNwZWN9KSkpfX1jbGFzcyBQe2NvbnN0cnVjdG9yKHQsaSl7dGhpcy53b3JrZXJQb29sPXQsdGhpcy5hY3RvcnM9W10sdGhpcy5jdXJyZW50QWN0b3I9MCx0aGlzLmlkPWUudW5pcXVlSWQoKTtjb25zdCBvPXRoaXMud29ya2VyUG9vbC5hY3F1aXJlKHRoaXMuaWQpO2ZvcihsZXQgZT0wO2U8by5sZW5ndGg7ZSsrKXtjb25zdCB0PW5ldyBQLkFjdG9yKG9bZV0saSx0aGlzLmlkKTt0Lm5hbWU9YFdvcmtlciAke2V9YCx0aGlzLmFjdG9ycy5wdXNoKHQpO310aGlzLnJlYWR5PSExLHRoaXMuYnJvYWRjYXN0KFwiY2hlY2tJZlJlYWR5XCIsbnVsbCwoKCk9Pnt0aGlzLnJlYWR5PSEwO30pKTt9YnJvYWRjYXN0KHQsaSxvKXtlLmFzeW5jQWxsKHRoaXMuYWN0b3JzLCgoZSxvKT0+e2Uuc2VuZCh0LGksbyk7fSksbz1vfHxmdW5jdGlvbigpe30pO31nZXRBY3Rvcigpe3JldHVybiB0aGlzLmN1cnJlbnRBY3Rvcj0odGhpcy5jdXJyZW50QWN0b3IrMSkldGhpcy5hY3RvcnMubGVuZ3RoLHRoaXMuYWN0b3JzW3RoaXMuY3VycmVudEFjdG9yXX1yZW1vdmUoKXt0aGlzLmFjdG9ycy5mb3JFYWNoKChlPT57ZS5yZW1vdmUoKTt9KSksdGhpcy5hY3RvcnM9W10sdGhpcy53b3JrZXJQb29sLnJlbGVhc2UodGhpcy5pZCk7fX1mdW5jdGlvbiBMKHQsaSxvKXtyZXR1cm4gaSooZS5FWFRFTlQvKHQudGlsZVNpemUqTWF0aC5wb3coMixvLXQudGlsZUlELm92ZXJzY2FsZWRaKSkpfVAuQWN0b3I9ZS5BY3RvcjtjbGFzcyBSe2NvbnN0cnVjdG9yKGUsdCxpLG8pe3RoaXMuc2NyZWVuQm91bmRzPWUsdGhpcy5jYW1lcmFQb2ludD10LHRoaXMuX3NjcmVlblJheWNhc3RDYWNoZT17fSx0aGlzLl9jYW1lcmFSYXljYXN0Q2FjaGU9e30sdGhpcy5pc0Fib3ZlSG9yaXpvbj1pLHRoaXMuc2NyZWVuR2VvbWV0cnk9dGhpcy5idWZmZXJlZFNjcmVlbkdlb21ldHJ5KDApLHRoaXMuc2NyZWVuR2VvbWV0cnlNZXJjYXRvcj10aGlzLl9idWZmZXJlZFNjcmVlbk1lcmNhdG9yKDAsbyk7fXN0YXRpYyBjcmVhdGVGcm9tU2NyZWVuUG9pbnRzKHQsaSl7bGV0IG8scjtpZih0IGluc3RhbmNlb2YgZS5wb2ludEdlb21ldHJ5fHxcIm51bWJlclwiPT10eXBlb2YgdFswXSl7Y29uc3Qgbj1lLnBvaW50R2VvbWV0cnkuY29udmVydCh0KTtvPVtuXSxyPWkuaXNQb2ludEFib3ZlSG9yaXpvbihuKTt9ZWxzZSB7Y29uc3Qgbj1lLnBvaW50R2VvbWV0cnkuY29udmVydCh0WzBdKSxhPWUucG9pbnRHZW9tZXRyeS5jb252ZXJ0KHRbMV0pO289W24sYV0scj1lLnBvbHlnb25pemVCb3VuZHMobixhKS5ldmVyeSgoZT0+aS5pc1BvaW50QWJvdmVIb3Jpem9uKGUpKSk7fXJldHVybiBuZXcgUihvLGkuZ2V0Q2FtZXJhUG9pbnQoKSxyLGkpfWlzUG9pbnRRdWVyeSgpe3JldHVybiAxPT09dGhpcy5zY3JlZW5Cb3VuZHMubGVuZ3RofWJ1ZmZlcmVkU2NyZWVuR2VvbWV0cnkodCl7cmV0dXJuIGUucG9seWdvbml6ZUJvdW5kcyh0aGlzLnNjcmVlbkJvdW5kc1swXSwxPT09dGhpcy5zY3JlZW5Cb3VuZHMubGVuZ3RoP3RoaXMuc2NyZWVuQm91bmRzWzBdOnRoaXMuc2NyZWVuQm91bmRzWzFdLHQpfWJ1ZmZlcmVkQ2FtZXJhR2VvbWV0cnkodCl7Y29uc3QgaT10aGlzLnNjcmVlbkJvdW5kc1swXSxvPTE9PT10aGlzLnNjcmVlbkJvdW5kcy5sZW5ndGg/dGhpcy5zY3JlZW5Cb3VuZHNbMF0uYWRkKG5ldyBlLnBvaW50R2VvbWV0cnkoMSwxKSk6dGhpcy5zY3JlZW5Cb3VuZHNbMV0scj1lLnBvbHlnb25pemVCb3VuZHMoaSxvLDAsITEpO3JldHVybiB0aGlzLmNhbWVyYVBvaW50Lnk+by55JiYodGhpcy5jYW1lcmFQb2ludC54PmkueCYmdGhpcy5jYW1lcmFQb2ludC54PG8ueD9yLnNwbGljZSgzLDAsdGhpcy5jYW1lcmFQb2ludCk6dGhpcy5jYW1lcmFQb2ludC54Pj1vLng/clsyXT10aGlzLmNhbWVyYVBvaW50OnRoaXMuY2FtZXJhUG9pbnQueDw9aS54JiYoclszXT10aGlzLmNhbWVyYVBvaW50KSksZS5idWZmZXJDb252ZXhQb2x5Z29uKHIsdCl9YnVmZmVyZWRDYW1lcmFHZW9tZXRyeUdsb2JlKHQpe2NvbnN0IGk9dGhpcy5zY3JlZW5Cb3VuZHNbMF0sbz0xPT09dGhpcy5zY3JlZW5Cb3VuZHMubGVuZ3RoP3RoaXMuc2NyZWVuQm91bmRzWzBdLmFkZChuZXcgZS5wb2ludEdlb21ldHJ5KDEsMSkpOnRoaXMuc2NyZWVuQm91bmRzWzFdLHI9ZS5wb2x5Z29uaXplQm91bmRzKGksbyx0KSxuPXRoaXMuY2FtZXJhUG9pbnQuY2xvbmUoKTtzd2l0Y2goMyooKG4ueT5pLnkpKyhuLnk+by55KSkrKChuLng+aS54KSsobi54Pm8ueCkpKXtjYXNlIDA6clswXT1uLHJbNF09bi5jbG9uZSgpO2JyZWFrO2Nhc2UgMTpyLnNwbGljZSgxLDAsbik7YnJlYWs7Y2FzZSAyOnJbMV09bjticmVhaztjYXNlIDM6ci5zcGxpY2UoNCwwLG4pO2JyZWFrO2Nhc2UgNTpyLnNwbGljZSgyLDAsbik7YnJlYWs7Y2FzZSA2OnJbM109bjticmVhaztjYXNlIDc6ci5zcGxpY2UoMywwLG4pO2JyZWFrO2Nhc2UgODpyWzJdPW47fXJldHVybiByfWNvbnRhaW5zVGlsZSh0LGksbyxyPTApe2NvbnN0IG49dC5xdWVyeVBhZGRpbmcvaS5fcGl4ZWxzUGVyTWVyY2F0b3JQaXhlbCsxLGE9bz90aGlzLl9idWZmZXJlZENhbWVyYU1lcmNhdG9yKG4saSk6dGhpcy5fYnVmZmVyZWRTY3JlZW5NZXJjYXRvcihuLGkpO2xldCBzPXQudGlsZUlELndyYXArKGEudW53cmFwcGVkP3I6MCk7Y29uc3QgbD1hLnBvbHlnb24ubWFwKChpPT5lLmdldFRpbGVQb2ludCh0LnRpbGVUcmFuc2Zvcm0saSxzKSkpO2lmKCFlLnBvbHlnb25JbnRlcnNlY3RzQm94KGwsMCwwLGUuRVhURU5ULGUuRVhURU5UKSlyZXR1cm47cz10LnRpbGVJRC53cmFwKyh0aGlzLnNjcmVlbkdlb21ldHJ5TWVyY2F0b3IudW53cmFwcGVkP3I6MCk7Y29uc3QgYz10aGlzLnNjcmVlbkdlb21ldHJ5TWVyY2F0b3IucG9seWdvbi5tYXAoKGk9PmUuZ2V0VGlsZVZlYzModC50aWxlVHJhbnNmb3JtLGkscykpKSxoPWMubWFwKCh0PT5uZXcgZS5wb2ludEdlb21ldHJ5KHRbMF0sdFsxXSkpKSxfPWkuZ2V0RnJlZUNhbWVyYU9wdGlvbnMoKS5wb3NpdGlvbnx8bmV3IGUuTWVyY2F0b3JDb29yZGluYXRlKDAsMCwwKSx1PWUuZ2V0VGlsZVZlYzModC50aWxlVHJhbnNmb3JtLF8scyksZD1jLm1hcCgodD0+e2NvbnN0IGk9ZS5zdWIodCx0LHUpO3JldHVybiBlLm5vcm1hbGl6ZShpLGkpLG5ldyBlLlJheSh1LGkpfSkpLHA9TCh0LDEsaS56b29tKSppLl9waXhlbHNQZXJNZXJjYXRvclBpeGVsO3JldHVybiB7cXVlcnlHZW9tZXRyeTp0aGlzLHRpbGVzcGFjZUdlb21ldHJ5OmgsdGlsZXNwYWNlUmF5czpkLGJ1ZmZlcmVkVGlsZXNwYWNlR2VvbWV0cnk6bCxidWZmZXJlZFRpbGVzcGFjZUJvdW5kczoobT1lLmdldEJvdW5kcyhsKSxtLm1pbi54PWUuY2xhbXAobS5taW4ueCwwLGUuRVhURU5UKSxtLm1pbi55PWUuY2xhbXAobS5taW4ueSwwLGUuRVhURU5UKSxtLm1heC54PWUuY2xhbXAobS5tYXgueCwwLGUuRVhURU5UKSxtLm1heC55PWUuY2xhbXAobS5tYXgueSwwLGUuRVhURU5UKSxtKSx0aWxlOnQsdGlsZUlEOnQudGlsZUlELHBpeGVsVG9UaWxlVW5pdHNGYWN0b3I6cH07dmFyIG07fV9idWZmZXJlZFNjcmVlbk1lcmNhdG9yKGUsdCl7Y29uc3QgaT1rKGUpO2lmKHRoaXMuX3NjcmVlblJheWNhc3RDYWNoZVtpXSlyZXR1cm4gdGhpcy5fc2NyZWVuUmF5Y2FzdENhY2hlW2ldO3tsZXQgbztyZXR1cm4gbz1cImdsb2JlXCI9PT10LnByb2plY3Rpb24ubmFtZT90aGlzLl9wcm9qZWN0QW5kUmVzYW1wbGUodGhpcy5idWZmZXJlZFNjcmVlbkdlb21ldHJ5KGUpLHQpOntwb2x5Z29uOnRoaXMuYnVmZmVyZWRTY3JlZW5HZW9tZXRyeShlKS5tYXAoKGU9PnQucG9pbnRDb29yZGluYXRlM0QoZSkpKSx1bndyYXBwZWQ6ITB9LHRoaXMuX3NjcmVlblJheWNhc3RDYWNoZVtpXT1vLG99fV9idWZmZXJlZENhbWVyYU1lcmNhdG9yKGUsdCl7Y29uc3QgaT1rKGUpO2lmKHRoaXMuX2NhbWVyYVJheWNhc3RDYWNoZVtpXSlyZXR1cm4gdGhpcy5fY2FtZXJhUmF5Y2FzdENhY2hlW2ldO3tsZXQgbztyZXR1cm4gbz1cImdsb2JlXCI9PT10LnByb2plY3Rpb24ubmFtZT90aGlzLl9wcm9qZWN0QW5kUmVzYW1wbGUodGhpcy5idWZmZXJlZENhbWVyYUdlb21ldHJ5R2xvYmUoZSksdCk6e3BvbHlnb246dGhpcy5idWZmZXJlZENhbWVyYUdlb21ldHJ5KGUpLm1hcCgoZT0+dC5wb2ludENvb3JkaW5hdGUzRChlKSkpLHVud3JhcHBlZDohMH0sdGhpcy5fY2FtZXJhUmF5Y2FzdENhY2hlW2ldPW8sb319X3Byb2plY3RBbmRSZXNhbXBsZSh0LGkpe2NvbnN0IG89ZnVuY3Rpb24odCxpKXtjb25zdCBvPWUubXVsdGlwbHkoW10saS5waXhlbE1hdHJpeCxpLmdsb2JlTWF0cml4KSxyPVswLC1lLkdMT0JFX1JBRElVUywwLDFdLG49WzAsZS5HTE9CRV9SQURJVVMsMCwxXSxhPVswLDAsMCwxXTtlLnRyYW5zZm9ybU1hdDQkMShyLHIsbyksZS50cmFuc2Zvcm1NYXQ0JDEobixuLG8pLGUudHJhbnNmb3JtTWF0NCQxKGEsYSxvKTtjb25zdCBzPW5ldyBlLnBvaW50R2VvbWV0cnkoclswXS9yWzNdLHJbMV0vclszXSksbD1uZXcgZS5wb2ludEdlb21ldHJ5KG5bMF0vblszXSxuWzFdL25bM10pLGM9ZS5wb2x5Z29uQ29udGFpbnNQb2ludCh0LHMpJiZyWzNdPGFbM10saD1lLnBvbHlnb25Db250YWluc1BvaW50KHQsbCkmJm5bM108YVszXTtpZighYyYmIWgpcmV0dXJuIG51bGw7Y29uc3QgXz1mdW5jdGlvbihlLHQsaSl7Zm9yKGxldCBvPTE7bzxlLmxlbmd0aDtvKyspe2NvbnN0IHI9Qih0LnBvaW50Q29vcmRpbmF0ZTNEKGVbby0xXSkueCksbj1CKHQucG9pbnRDb29yZGluYXRlM0QoZVtvXSkueCk7aWYoaTwwKXtpZihyPG4pcmV0dXJuIHtpZHg6byx0Oi1yLyhuLTEtcil9fWVsc2UgaWYobjxyKXJldHVybiB7aWR4Om8sdDooMS1yKS8obisxLXIpfX1yZXR1cm4gbnVsbH0odCxpLGM/LTE6MSk7aWYoIV8pcmV0dXJuIG51bGw7Y29uc3R7aWR4OnUsdDpkfT1fO2xldCBwPXU+MT9PKHQuc2xpY2UoMCx1KSxpKTpbXSxtPXU8dC5sZW5ndGg/Tyh0LnNsaWNlKHUpLGkpOltdO3A9cC5tYXAoKHQ9Pm5ldyBlLnBvaW50R2VvbWV0cnkoQih0LngpLHQueSkpKSxtPW0ubWFwKCh0PT5uZXcgZS5wb2ludEdlb21ldHJ5KEIodC54KSx0LnkpKSk7Y29uc3QgZj1bLi4ucF07MD09PWYubGVuZ3RoJiZmLnB1c2gobVttLmxlbmd0aC0xXSk7Y29uc3QgZz1lLm51bWJlcihmW2YubGVuZ3RoLTFdLnksKDA9PT1tLmxlbmd0aD9wWzBdOm1bMF0pLnksZCk7bGV0IHY7cmV0dXJuIHY9Yz9bbmV3IGUucG9pbnRHZW9tZXRyeSgwLGcpLG5ldyBlLnBvaW50R2VvbWV0cnkoMCwwKSxuZXcgZS5wb2ludEdlb21ldHJ5KDEsMCksbmV3IGUucG9pbnRHZW9tZXRyeSgxLGcpXTpbbmV3IGUucG9pbnRHZW9tZXRyeSgxLGcpLG5ldyBlLnBvaW50R2VvbWV0cnkoMSwxKSxuZXcgZS5wb2ludEdlb21ldHJ5KDAsMSksbmV3IGUucG9pbnRHZW9tZXRyeSgwLGcpXSxmLnB1c2goLi4udiksMD09PW0ubGVuZ3RoP2YucHVzaChwWzBdKTpmLnB1c2goLi4ubSkse3BvbHlnb246Zi5tYXAoKHQ9Pm5ldyBlLk1lcmNhdG9yQ29vcmRpbmF0ZSh0LngsdC55KSkpLHVud3JhcHBlZDohMX19KHQsaSk7aWYobylyZXR1cm4gbztjb25zdCByPWZ1bmN0aW9uKHQsaSl7bGV0IG89ITEscj0tMS8wLG49MDtmb3IobGV0IGU9MDtlPHQubGVuZ3RoLTE7ZSsrKXRbZV0ueD5yJiYocj10W2VdLngsbj1lKTtmb3IobGV0IGU9MDtlPHQubGVuZ3RoLTE7ZSsrKXtjb25zdCBpPShuK2UpJSh0Lmxlbmd0aC0xKSxyPXRbaV0sYT10W2krMV07TWF0aC5hYnMoci54LWEueCk+LjUmJihyLng8YS54PyhyLngrPTEsMD09PWkmJih0W3QubGVuZ3RoLTFdLngrPTEpKTooYS54Kz0xLGkrMT09PXQubGVuZ3RoLTEmJih0WzBdLngrPTEpKSxvPSEwKTt9Y29uc3QgYT1lLm1lcmNhdG9yWGZyb21MbmcoaS5jZW50ZXIubG5nKTtyZXR1cm4gbyYmYTxNYXRoLmFicyhhLTEpJiZ0LmZvckVhY2goKGU9PntlLngtPTE7fSkpLHtwb2x5Z29uOnQsdW53cmFwcGVkOm99fShPKHQsaSkubWFwKCh0PT5uZXcgZS5wb2ludEdlb21ldHJ5KEIodC54KSx0LnkpKSksaSk7cmV0dXJuIHtwb2x5Z29uOnIucG9seWdvbi5tYXAoKHQ9Pm5ldyBlLk1lcmNhdG9yQ29vcmRpbmF0ZSh0LngsdC55KSkpLHVud3JhcHBlZDpyLnVud3JhcHBlZH19fWZ1bmN0aW9uIE8odCxpKXtyZXR1cm4gZS5yZXNhbXBsZSh0LChlPT57Y29uc3QgdD1pLnBvaW50Q29vcmRpbmF0ZTNEKGUpO2UueD10LngsZS55PXQueTt9KSwxLzI1Nil9ZnVuY3Rpb24gQihlKXtyZXR1cm4gZTwwPzErZSUxOmUlMX1mdW5jdGlvbiBrKGUpe3JldHVybiAxMDAqZXwwfWZ1bmN0aW9uIEYodCxpLG8scixuKXtjb25zdCBhPWZ1bmN0aW9uKG8scil7aWYobylyZXR1cm4gbihvKTtpZihyKXt0LnVybCYmci50aWxlcyYmdC50aWxlcyYmZGVsZXRlIHQudGlsZXM7Y29uc3Qgbz1lLnBpY2soZS5leHRlbmQocix0KSxbXCJ0aWxlc1wiLFwibWluem9vbVwiLFwibWF4em9vbVwiLFwiYXR0cmlidXRpb25cIixcIm1hcGJveF9sb2dvXCIsXCJib3VuZHNcIixcInNjaGVtZVwiLFwidGlsZVNpemVcIixcImVuY29kaW5nXCJdKTtyLnZlY3Rvcl9sYXllcnMmJihvLnZlY3RvckxheWVycz1yLnZlY3Rvcl9sYXllcnMsby52ZWN0b3JMYXllcklkcz1vLnZlY3RvckxheWVycy5tYXAoKGU9PmUuaWQpKSksby50aWxlcz1pLmNhbm9uaWNhbGl6ZVRpbGVzZXQobyx0LnVybCksbihudWxsLG8pO319O3JldHVybiB0LnVybD9lLmdldEpTT04oaS50cmFuc2Zvcm1SZXF1ZXN0KGkubm9ybWFsaXplU291cmNlVVJMKHQudXJsLG51bGwsbyxyKSxlLlJlc291cmNlVHlwZS5Tb3VyY2UpLGEpOmUuZXhwb3J0ZWQuZnJhbWUoKCgpPT5hKG51bGwsdCkpKX1jbGFzcyBVe2NvbnN0cnVjdG9yKHQsaSxvKXt0aGlzLmJvdW5kcz1lLkxuZ0xhdEJvdW5kcy5jb252ZXJ0KHRoaXMudmFsaWRhdGVCb3VuZHModCkpLHRoaXMubWluem9vbT1pfHwwLHRoaXMubWF4em9vbT1vfHwyNDt9dmFsaWRhdGVCb3VuZHMoZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSkmJjQ9PT1lLmxlbmd0aD9bTWF0aC5tYXgoLTE4MCxlWzBdKSxNYXRoLm1heCgtOTAsZVsxXSksTWF0aC5taW4oMTgwLGVbMl0pLE1hdGgubWluKDkwLGVbM10pXTpbLTE4MCwtOTAsMTgwLDkwXX1jb250YWlucyh0KXtjb25zdCBpPU1hdGgucG93KDIsdC56KSxvPU1hdGguZmxvb3IoZS5tZXJjYXRvclhmcm9tTG5nKHRoaXMuYm91bmRzLmdldFdlc3QoKSkqaSkscj1NYXRoLmZsb29yKGUubWVyY2F0b3JZZnJvbUxhdCh0aGlzLmJvdW5kcy5nZXROb3J0aCgpKSppKSxuPU1hdGguY2VpbChlLm1lcmNhdG9yWGZyb21MbmcodGhpcy5ib3VuZHMuZ2V0RWFzdCgpKSppKSxhPU1hdGguY2VpbChlLm1lcmNhdG9yWWZyb21MYXQodGhpcy5ib3VuZHMuZ2V0U291dGgoKSkqaSk7cmV0dXJuIHQueD49byYmdC54PG4mJnQueT49ciYmdC55PGF9fWNsYXNzIE57Y29uc3RydWN0b3IoZSx0LGkpe3RoaXMuY29udGV4dD1lO2NvbnN0IG89ZS5nbDt0aGlzLmJ1ZmZlcj1vLmNyZWF0ZUJ1ZmZlcigpLHRoaXMuZHluYW1pY0RyYXc9Qm9vbGVhbihpKSx0aGlzLmNvbnRleHQudW5iaW5kVkFPKCksZS5iaW5kRWxlbWVudEJ1ZmZlci5zZXQodGhpcy5idWZmZXIpLG8uYnVmZmVyRGF0YShvLkVMRU1FTlRfQVJSQVlfQlVGRkVSLHQuYXJyYXlCdWZmZXIsdGhpcy5keW5hbWljRHJhdz9vLkRZTkFNSUNfRFJBVzpvLlNUQVRJQ19EUkFXKSx0aGlzLmR5bmFtaWNEcmF3fHx0LmRlc3Ryb3koKTt9YmluZCgpe3RoaXMuY29udGV4dC5iaW5kRWxlbWVudEJ1ZmZlci5zZXQodGhpcy5idWZmZXIpO311cGRhdGVEYXRhKGUpe2NvbnN0IHQ9dGhpcy5jb250ZXh0LmdsO3RoaXMuY29udGV4dC51bmJpbmRWQU8oKSx0aGlzLmJpbmQoKSx0LmJ1ZmZlclN1YkRhdGEodC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwwLGUuYXJyYXlCdWZmZXIpO31kZXN0cm95KCl7dGhpcy5idWZmZXImJih0aGlzLmNvbnRleHQuZ2wuZGVsZXRlQnVmZmVyKHRoaXMuYnVmZmVyKSxkZWxldGUgdGhpcy5idWZmZXIpO319Y29uc3QgRz17SW50ODpcIkJZVEVcIixVaW50ODpcIlVOU0lHTkVEX0JZVEVcIixJbnQxNjpcIlNIT1JUXCIsVWludDE2OlwiVU5TSUdORURfU0hPUlRcIixJbnQzMjpcIklOVFwiLFVpbnQzMjpcIlVOU0lHTkVEX0lOVFwiLEZsb2F0MzI6XCJGTE9BVFwifTtjbGFzcyBqe2NvbnN0cnVjdG9yKGUsdCxpLG8pe3RoaXMubGVuZ3RoPXQubGVuZ3RoLHRoaXMuYXR0cmlidXRlcz1pLHRoaXMuaXRlbVNpemU9dC5ieXRlc1BlckVsZW1lbnQsdGhpcy5keW5hbWljRHJhdz1vLHRoaXMuY29udGV4dD1lO2NvbnN0IHI9ZS5nbDt0aGlzLmJ1ZmZlcj1yLmNyZWF0ZUJ1ZmZlcigpLGUuYmluZFZlcnRleEJ1ZmZlci5zZXQodGhpcy5idWZmZXIpLHIuYnVmZmVyRGF0YShyLkFSUkFZX0JVRkZFUix0LmFycmF5QnVmZmVyLHRoaXMuZHluYW1pY0RyYXc/ci5EWU5BTUlDX0RSQVc6ci5TVEFUSUNfRFJBVyksdGhpcy5keW5hbWljRHJhd3x8dC5kZXN0cm95KCk7fWJpbmQoKXt0aGlzLmNvbnRleHQuYmluZFZlcnRleEJ1ZmZlci5zZXQodGhpcy5idWZmZXIpO311cGRhdGVEYXRhKGUpe2NvbnN0IHQ9dGhpcy5jb250ZXh0LmdsO3RoaXMuYmluZCgpLHQuYnVmZmVyU3ViRGF0YSh0LkFSUkFZX0JVRkZFUiwwLGUuYXJyYXlCdWZmZXIpO31lbmFibGVBdHRyaWJ1dGVzKGUsdCl7Zm9yKGxldCBpPTA7aTx0aGlzLmF0dHJpYnV0ZXMubGVuZ3RoO2krKyl7Y29uc3Qgbz10LmF0dHJpYnV0ZXNbdGhpcy5hdHRyaWJ1dGVzW2ldLm5hbWVdO3ZvaWQgMCE9PW8mJmUuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkobyk7fX1zZXRWZXJ0ZXhBdHRyaWJQb2ludGVycyhlLHQsaSl7Zm9yKGxldCBvPTA7bzx0aGlzLmF0dHJpYnV0ZXMubGVuZ3RoO28rKyl7Y29uc3Qgcj10aGlzLmF0dHJpYnV0ZXNbb10sbj10LmF0dHJpYnV0ZXNbci5uYW1lXTt2b2lkIDAhPT1uJiZlLnZlcnRleEF0dHJpYlBvaW50ZXIobixyLmNvbXBvbmVudHMsZVtHW3IudHlwZV1dLCExLHRoaXMuaXRlbVNpemUsci5vZmZzZXQrdGhpcy5pdGVtU2l6ZSooaXx8MCkpO319ZGVzdHJveSgpe3RoaXMuYnVmZmVyJiYodGhpcy5jb250ZXh0LmdsLmRlbGV0ZUJ1ZmZlcih0aGlzLmJ1ZmZlciksZGVsZXRlIHRoaXMuYnVmZmVyKTt9fWNsYXNzIFp7Y29uc3RydWN0b3IoZSl7dGhpcy5nbD1lLmdsLHRoaXMuZGVmYXVsdD10aGlzLmdldERlZmF1bHQoKSx0aGlzLmN1cnJlbnQ9dGhpcy5kZWZhdWx0LHRoaXMuZGlydHk9ITE7fWdldCgpe3JldHVybiB0aGlzLmN1cnJlbnR9c2V0KGUpe31nZXREZWZhdWx0KCl7cmV0dXJuIHRoaXMuZGVmYXVsdH1zZXREZWZhdWx0KCl7dGhpcy5zZXQodGhpcy5kZWZhdWx0KTt9fWNsYXNzIFYgZXh0ZW5kcyBae2dldERlZmF1bHQoKXtyZXR1cm4gZS5Db2xvci50cmFuc3BhcmVudH1zZXQoZSl7Y29uc3QgdD10aGlzLmN1cnJlbnQ7KGUuciE9PXQucnx8ZS5nIT09dC5nfHxlLmIhPT10LmJ8fGUuYSE9PXQuYXx8dGhpcy5kaXJ0eSkmJih0aGlzLmdsLmNsZWFyQ29sb3IoZS5yLGUuZyxlLmIsZS5hKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExKTt9fWNsYXNzIFcgZXh0ZW5kcyBae2dldERlZmF1bHQoKXtyZXR1cm4gMX1zZXQoZSl7KGUhPT10aGlzLmN1cnJlbnR8fHRoaXMuZGlydHkpJiYodGhpcy5nbC5jbGVhckRlcHRoKGUpLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITEpO319Y2xhc3MgWCBleHRlbmRzIFp7Z2V0RGVmYXVsdCgpe3JldHVybiAwfXNldChlKXsoZSE9PXRoaXMuY3VycmVudHx8dGhpcy5kaXJ0eSkmJih0aGlzLmdsLmNsZWFyU3RlbmNpbChlKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExKTt9fWNsYXNzIHEgZXh0ZW5kcyBae2dldERlZmF1bHQoKXtyZXR1cm4gWyEwLCEwLCEwLCEwXX1zZXQoZSl7Y29uc3QgdD10aGlzLmN1cnJlbnQ7KGVbMF0hPT10WzBdfHxlWzFdIT09dFsxXXx8ZVsyXSE9PXRbMl18fGVbM10hPT10WzNdfHx0aGlzLmRpcnR5KSYmKHRoaXMuZ2wuY29sb3JNYXNrKGVbMF0sZVsxXSxlWzJdLGVbM10pLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITEpO319Y2xhc3MgJCBleHRlbmRzIFp7Z2V0RGVmYXVsdCgpe3JldHVybiAhMH1zZXQoZSl7KGUhPT10aGlzLmN1cnJlbnR8fHRoaXMuZGlydHkpJiYodGhpcy5nbC5kZXB0aE1hc2soZSksdGhpcy5jdXJyZW50PWUsdGhpcy5kaXJ0eT0hMSk7fX1jbGFzcyBIIGV4dGVuZHMgWntnZXREZWZhdWx0KCl7cmV0dXJuIDI1NX1zZXQoZSl7KGUhPT10aGlzLmN1cnJlbnR8fHRoaXMuZGlydHkpJiYodGhpcy5nbC5zdGVuY2lsTWFzayhlKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExKTt9fWNsYXNzIFkgZXh0ZW5kcyBae2dldERlZmF1bHQoKXtyZXR1cm4ge2Z1bmM6dGhpcy5nbC5BTFdBWVMscmVmOjAsbWFzazoyNTV9fXNldChlKXtjb25zdCB0PXRoaXMuY3VycmVudDsoZS5mdW5jIT09dC5mdW5jfHxlLnJlZiE9PXQucmVmfHxlLm1hc2shPT10Lm1hc2t8fHRoaXMuZGlydHkpJiYodGhpcy5nbC5zdGVuY2lsRnVuYyhlLmZ1bmMsZS5yZWYsZS5tYXNrKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExKTt9fWNsYXNzIEsgZXh0ZW5kcyBae2dldERlZmF1bHQoKXtjb25zdCBlPXRoaXMuZ2w7cmV0dXJuIFtlLktFRVAsZS5LRUVQLGUuS0VFUF19c2V0KGUpe2NvbnN0IHQ9dGhpcy5jdXJyZW50OyhlWzBdIT09dFswXXx8ZVsxXSE9PXRbMV18fGVbMl0hPT10WzJdfHx0aGlzLmRpcnR5KSYmKHRoaXMuZ2wuc3RlbmNpbE9wKGVbMF0sZVsxXSxlWzJdKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExKTt9fWNsYXNzIEogZXh0ZW5kcyBae2dldERlZmF1bHQoKXtyZXR1cm4gITF9c2V0KGUpe2lmKGU9PT10aGlzLmN1cnJlbnQmJiF0aGlzLmRpcnR5KXJldHVybjtjb25zdCB0PXRoaXMuZ2w7ZT90LmVuYWJsZSh0LlNURU5DSUxfVEVTVCk6dC5kaXNhYmxlKHQuU1RFTkNJTF9URVNUKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExO319Y2xhc3MgUSBleHRlbmRzIFp7Z2V0RGVmYXVsdCgpe3JldHVybiBbMCwxXX1zZXQoZSl7Y29uc3QgdD10aGlzLmN1cnJlbnQ7KGVbMF0hPT10WzBdfHxlWzFdIT09dFsxXXx8dGhpcy5kaXJ0eSkmJih0aGlzLmdsLmRlcHRoUmFuZ2UoZVswXSxlWzFdKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExKTt9fWNsYXNzIGVlIGV4dGVuZHMgWntnZXREZWZhdWx0KCl7cmV0dXJuICExfXNldChlKXtpZihlPT09dGhpcy5jdXJyZW50JiYhdGhpcy5kaXJ0eSlyZXR1cm47Y29uc3QgdD10aGlzLmdsO2U/dC5lbmFibGUodC5ERVBUSF9URVNUKTp0LmRpc2FibGUodC5ERVBUSF9URVNUKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExO319Y2xhc3MgdGUgZXh0ZW5kcyBae2dldERlZmF1bHQoKXtyZXR1cm4gdGhpcy5nbC5MRVNTfXNldChlKXsoZSE9PXRoaXMuY3VycmVudHx8dGhpcy5kaXJ0eSkmJih0aGlzLmdsLmRlcHRoRnVuYyhlKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExKTt9fWNsYXNzIGllIGV4dGVuZHMgWntnZXREZWZhdWx0KCl7cmV0dXJuICExfXNldChlKXtpZihlPT09dGhpcy5jdXJyZW50JiYhdGhpcy5kaXJ0eSlyZXR1cm47Y29uc3QgdD10aGlzLmdsO2U/dC5lbmFibGUodC5CTEVORCk6dC5kaXNhYmxlKHQuQkxFTkQpLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITE7fX1jbGFzcyBvZSBleHRlbmRzIFp7Z2V0RGVmYXVsdCgpe2NvbnN0IGU9dGhpcy5nbDtyZXR1cm4gW2UuT05FLGUuWkVST119c2V0KGUpe2NvbnN0IHQ9dGhpcy5jdXJyZW50OyhlWzBdIT09dFswXXx8ZVsxXSE9PXRbMV18fHRoaXMuZGlydHkpJiYodGhpcy5nbC5ibGVuZEZ1bmMoZVswXSxlWzFdKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExKTt9fWNsYXNzIHJlIGV4dGVuZHMgWntnZXREZWZhdWx0KCl7cmV0dXJuIGUuQ29sb3IudHJhbnNwYXJlbnR9c2V0KGUpe2NvbnN0IHQ9dGhpcy5jdXJyZW50OyhlLnIhPT10LnJ8fGUuZyE9PXQuZ3x8ZS5iIT09dC5ifHxlLmEhPT10LmF8fHRoaXMuZGlydHkpJiYodGhpcy5nbC5ibGVuZENvbG9yKGUucixlLmcsZS5iLGUuYSksdGhpcy5jdXJyZW50PWUsdGhpcy5kaXJ0eT0hMSk7fX1jbGFzcyBuZSBleHRlbmRzIFp7Z2V0RGVmYXVsdCgpe3JldHVybiB0aGlzLmdsLkZVTkNfQUREfXNldChlKXsoZSE9PXRoaXMuY3VycmVudHx8dGhpcy5kaXJ0eSkmJih0aGlzLmdsLmJsZW5kRXF1YXRpb24oZSksdGhpcy5jdXJyZW50PWUsdGhpcy5kaXJ0eT0hMSk7fX1jbGFzcyBhZSBleHRlbmRzIFp7Z2V0RGVmYXVsdCgpe3JldHVybiAhMX1zZXQoZSl7aWYoZT09PXRoaXMuY3VycmVudCYmIXRoaXMuZGlydHkpcmV0dXJuO2NvbnN0IHQ9dGhpcy5nbDtlP3QuZW5hYmxlKHQuQ1VMTF9GQUNFKTp0LmRpc2FibGUodC5DVUxMX0ZBQ0UpLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITE7fX1jbGFzcyBzZSBleHRlbmRzIFp7Z2V0RGVmYXVsdCgpe3JldHVybiB0aGlzLmdsLkJBQ0t9c2V0KGUpeyhlIT09dGhpcy5jdXJyZW50fHx0aGlzLmRpcnR5KSYmKHRoaXMuZ2wuY3VsbEZhY2UoZSksdGhpcy5jdXJyZW50PWUsdGhpcy5kaXJ0eT0hMSk7fX1jbGFzcyBsZSBleHRlbmRzIFp7Z2V0RGVmYXVsdCgpe3JldHVybiB0aGlzLmdsLkNDV31zZXQoZSl7KGUhPT10aGlzLmN1cnJlbnR8fHRoaXMuZGlydHkpJiYodGhpcy5nbC5mcm9udEZhY2UoZSksdGhpcy5jdXJyZW50PWUsdGhpcy5kaXJ0eT0hMSk7fX1jbGFzcyBjZSBleHRlbmRzIFp7Z2V0RGVmYXVsdCgpe3JldHVybiBudWxsfXNldChlKXsoZSE9PXRoaXMuY3VycmVudHx8dGhpcy5kaXJ0eSkmJih0aGlzLmdsLnVzZVByb2dyYW0oZSksdGhpcy5jdXJyZW50PWUsdGhpcy5kaXJ0eT0hMSk7fX1jbGFzcyBoZSBleHRlbmRzIFp7Z2V0RGVmYXVsdCgpe3JldHVybiB0aGlzLmdsLlRFWFRVUkUwfXNldChlKXsoZSE9PXRoaXMuY3VycmVudHx8dGhpcy5kaXJ0eSkmJih0aGlzLmdsLmFjdGl2ZVRleHR1cmUoZSksdGhpcy5jdXJyZW50PWUsdGhpcy5kaXJ0eT0hMSk7fX1jbGFzcyBfZSBleHRlbmRzIFp7Z2V0RGVmYXVsdCgpe2NvbnN0IGU9dGhpcy5nbDtyZXR1cm4gWzAsMCxlLmRyYXdpbmdCdWZmZXJXaWR0aCxlLmRyYXdpbmdCdWZmZXJIZWlnaHRdfXNldChlKXtjb25zdCB0PXRoaXMuY3VycmVudDsoZVswXSE9PXRbMF18fGVbMV0hPT10WzFdfHxlWzJdIT09dFsyXXx8ZVszXSE9PXRbM118fHRoaXMuZGlydHkpJiYodGhpcy5nbC52aWV3cG9ydChlWzBdLGVbMV0sZVsyXSxlWzNdKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExKTt9fWNsYXNzIHVlIGV4dGVuZHMgWntnZXREZWZhdWx0KCl7cmV0dXJuIG51bGx9c2V0KGUpe2lmKGU9PT10aGlzLmN1cnJlbnQmJiF0aGlzLmRpcnR5KXJldHVybjtjb25zdCB0PXRoaXMuZ2w7dC5iaW5kRnJhbWVidWZmZXIodC5GUkFNRUJVRkZFUixlKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExO319Y2xhc3MgZGUgZXh0ZW5kcyBae2dldERlZmF1bHQoKXtyZXR1cm4gbnVsbH1zZXQoZSl7aWYoZT09PXRoaXMuY3VycmVudCYmIXRoaXMuZGlydHkpcmV0dXJuO2NvbnN0IHQ9dGhpcy5nbDt0LmJpbmRSZW5kZXJidWZmZXIodC5SRU5ERVJCVUZGRVIsZSksdGhpcy5jdXJyZW50PWUsdGhpcy5kaXJ0eT0hMTt9fWNsYXNzIHBlIGV4dGVuZHMgWntnZXREZWZhdWx0KCl7cmV0dXJuIG51bGx9c2V0KGUpe2lmKGU9PT10aGlzLmN1cnJlbnQmJiF0aGlzLmRpcnR5KXJldHVybjtjb25zdCB0PXRoaXMuZ2w7dC5iaW5kVGV4dHVyZSh0LlRFWFRVUkVfMkQsZSksdGhpcy5jdXJyZW50PWUsdGhpcy5kaXJ0eT0hMTt9fWNsYXNzIG1lIGV4dGVuZHMgWntnZXREZWZhdWx0KCl7cmV0dXJuIG51bGx9c2V0KGUpe2lmKGU9PT10aGlzLmN1cnJlbnQmJiF0aGlzLmRpcnR5KXJldHVybjtjb25zdCB0PXRoaXMuZ2w7dC5iaW5kQnVmZmVyKHQuQVJSQVlfQlVGRkVSLGUpLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITE7fX1jbGFzcyBmZSBleHRlbmRzIFp7Z2V0RGVmYXVsdCgpe3JldHVybiBudWxsfXNldChlKXtjb25zdCB0PXRoaXMuZ2w7dC5iaW5kQnVmZmVyKHQuRUxFTUVOVF9BUlJBWV9CVUZGRVIsZSksdGhpcy5jdXJyZW50PWUsdGhpcy5kaXJ0eT0hMTt9fWNsYXNzIGdlIGV4dGVuZHMgWntjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLnZhbz1lLmV4dFZlcnRleEFycmF5T2JqZWN0O31nZXREZWZhdWx0KCl7cmV0dXJuIG51bGx9c2V0KGUpe3RoaXMudmFvJiYoZSE9PXRoaXMuY3VycmVudHx8dGhpcy5kaXJ0eSkmJih0aGlzLnZhby5iaW5kVmVydGV4QXJyYXlPRVMoZSksdGhpcy5jdXJyZW50PWUsdGhpcy5kaXJ0eT0hMSk7fX1jbGFzcyB2ZSBleHRlbmRzIFp7Z2V0RGVmYXVsdCgpe3JldHVybiA0fXNldChlKXtpZihlPT09dGhpcy5jdXJyZW50JiYhdGhpcy5kaXJ0eSlyZXR1cm47Y29uc3QgdD10aGlzLmdsO3QucGl4ZWxTdG9yZWkodC5VTlBBQ0tfQUxJR05NRU5ULGUpLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITE7fX1jbGFzcyB4ZSBleHRlbmRzIFp7Z2V0RGVmYXVsdCgpe3JldHVybiAhMX1zZXQoZSl7aWYoZT09PXRoaXMuY3VycmVudCYmIXRoaXMuZGlydHkpcmV0dXJuO2NvbnN0IHQ9dGhpcy5nbDt0LnBpeGVsU3RvcmVpKHQuVU5QQUNLX1BSRU1VTFRJUExZX0FMUEhBX1dFQkdMLGUpLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITE7fX1jbGFzcyB5ZSBleHRlbmRzIFp7Z2V0RGVmYXVsdCgpe3JldHVybiAhMX1zZXQoZSl7aWYoZT09PXRoaXMuY3VycmVudCYmIXRoaXMuZGlydHkpcmV0dXJuO2NvbnN0IHQ9dGhpcy5nbDt0LnBpeGVsU3RvcmVpKHQuVU5QQUNLX0ZMSVBfWV9XRUJHTCxlKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExO319Y2xhc3MgYmUgZXh0ZW5kcyBae2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSksdGhpcy5jb250ZXh0PWUsdGhpcy5wYXJlbnQ9dDt9Z2V0RGVmYXVsdCgpe3JldHVybiBudWxsfX1jbGFzcyB3ZSBleHRlbmRzIGJle3NldERpcnR5KCl7dGhpcy5kaXJ0eT0hMDt9c2V0KGUpe2lmKGU9PT10aGlzLmN1cnJlbnQmJiF0aGlzLmRpcnR5KXJldHVybjt0aGlzLmNvbnRleHQuYmluZEZyYW1lYnVmZmVyLnNldCh0aGlzLnBhcmVudCk7Y29uc3QgdD10aGlzLmdsO3QuZnJhbWVidWZmZXJUZXh0dXJlMkQodC5GUkFNRUJVRkZFUix0LkNPTE9SX0FUVEFDSE1FTlQwLHQuVEVYVFVSRV8yRCxlLDApLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITE7fX1jbGFzcyBUZSBleHRlbmRzIGJle2F0dGFjaG1lbnQoKXtyZXR1cm4gdGhpcy5nbC5ERVBUSF9BVFRBQ0hNRU5UfXNldChlKXtpZihlPT09dGhpcy5jdXJyZW50JiYhdGhpcy5kaXJ0eSlyZXR1cm47dGhpcy5jb250ZXh0LmJpbmRGcmFtZWJ1ZmZlci5zZXQodGhpcy5wYXJlbnQpO2NvbnN0IHQ9dGhpcy5nbDt0LmZyYW1lYnVmZmVyUmVuZGVyYnVmZmVyKHQuRlJBTUVCVUZGRVIsdGhpcy5hdHRhY2htZW50KCksdC5SRU5ERVJCVUZGRVIsZSksdGhpcy5jdXJyZW50PWUsdGhpcy5kaXJ0eT0hMTt9fWNsYXNzIEVlIGV4dGVuZHMgVGV7YXR0YWNobWVudCgpe3JldHVybiB0aGlzLmdsLkRFUFRIX1NURU5DSUxfQVRUQUNITUVOVH19Y2xhc3MgQ2V7Y29uc3RydWN0b3IoZSx0LGksbyl7dGhpcy5jb250ZXh0PWUsdGhpcy53aWR0aD10LHRoaXMuaGVpZ2h0PWk7Y29uc3Qgcj10aGlzLmZyYW1lYnVmZmVyPWUuZ2wuY3JlYXRlRnJhbWVidWZmZXIoKTt0aGlzLmNvbG9yQXR0YWNobWVudD1uZXcgd2UoZSxyKSxvJiYodGhpcy5kZXB0aEF0dGFjaG1lbnQ9bmV3IFRlKGUscikpO31kZXN0cm95KCl7Y29uc3QgZT10aGlzLmNvbnRleHQuZ2wsdD10aGlzLmNvbG9yQXR0YWNobWVudC5nZXQoKTtpZih0JiZlLmRlbGV0ZVRleHR1cmUodCksdGhpcy5kZXB0aEF0dGFjaG1lbnQpe2NvbnN0IHQ9dGhpcy5kZXB0aEF0dGFjaG1lbnQuZ2V0KCk7dCYmZS5kZWxldGVSZW5kZXJidWZmZXIodCk7fWUuZGVsZXRlRnJhbWVidWZmZXIodGhpcy5mcmFtZWJ1ZmZlcik7fX1jbGFzcyBJZXtjb25zdHJ1Y3RvcihlKXt0aGlzLmdsPWUsdGhpcy5leHRWZXJ0ZXhBcnJheU9iamVjdD10aGlzLmdsLmdldEV4dGVuc2lvbihcIk9FU192ZXJ0ZXhfYXJyYXlfb2JqZWN0XCIpLHRoaXMuY2xlYXJDb2xvcj1uZXcgVih0aGlzKSx0aGlzLmNsZWFyRGVwdGg9bmV3IFcodGhpcyksdGhpcy5jbGVhclN0ZW5jaWw9bmV3IFgodGhpcyksdGhpcy5jb2xvck1hc2s9bmV3IHEodGhpcyksdGhpcy5kZXB0aE1hc2s9bmV3ICQodGhpcyksdGhpcy5zdGVuY2lsTWFzaz1uZXcgSCh0aGlzKSx0aGlzLnN0ZW5jaWxGdW5jPW5ldyBZKHRoaXMpLHRoaXMuc3RlbmNpbE9wPW5ldyBLKHRoaXMpLHRoaXMuc3RlbmNpbFRlc3Q9bmV3IEoodGhpcyksdGhpcy5kZXB0aFJhbmdlPW5ldyBRKHRoaXMpLHRoaXMuZGVwdGhUZXN0PW5ldyBlZSh0aGlzKSx0aGlzLmRlcHRoRnVuYz1uZXcgdGUodGhpcyksdGhpcy5ibGVuZD1uZXcgaWUodGhpcyksdGhpcy5ibGVuZEZ1bmM9bmV3IG9lKHRoaXMpLHRoaXMuYmxlbmRDb2xvcj1uZXcgcmUodGhpcyksdGhpcy5ibGVuZEVxdWF0aW9uPW5ldyBuZSh0aGlzKSx0aGlzLmN1bGxGYWNlPW5ldyBhZSh0aGlzKSx0aGlzLmN1bGxGYWNlU2lkZT1uZXcgc2UodGhpcyksdGhpcy5mcm9udEZhY2U9bmV3IGxlKHRoaXMpLHRoaXMucHJvZ3JhbT1uZXcgY2UodGhpcyksdGhpcy5hY3RpdmVUZXh0dXJlPW5ldyBoZSh0aGlzKSx0aGlzLnZpZXdwb3J0PW5ldyBfZSh0aGlzKSx0aGlzLmJpbmRGcmFtZWJ1ZmZlcj1uZXcgdWUodGhpcyksdGhpcy5iaW5kUmVuZGVyYnVmZmVyPW5ldyBkZSh0aGlzKSx0aGlzLmJpbmRUZXh0dXJlPW5ldyBwZSh0aGlzKSx0aGlzLmJpbmRWZXJ0ZXhCdWZmZXI9bmV3IG1lKHRoaXMpLHRoaXMuYmluZEVsZW1lbnRCdWZmZXI9bmV3IGZlKHRoaXMpLHRoaXMuYmluZFZlcnRleEFycmF5T0VTPXRoaXMuZXh0VmVydGV4QXJyYXlPYmplY3QmJm5ldyBnZSh0aGlzKSx0aGlzLnBpeGVsU3RvcmVVbnBhY2s9bmV3IHZlKHRoaXMpLHRoaXMucGl4ZWxTdG9yZVVucGFja1ByZW11bHRpcGx5QWxwaGE9bmV3IHhlKHRoaXMpLHRoaXMucGl4ZWxTdG9yZVVucGFja0ZsaXBZPW5ldyB5ZSh0aGlzKSx0aGlzLmV4dFRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpYz1lLmdldEV4dGVuc2lvbihcIkVYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpY1wiKXx8ZS5nZXRFeHRlbnNpb24oXCJNT1pfRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljXCIpfHxlLmdldEV4dGVuc2lvbihcIldFQktJVF9FWFRfdGV4dHVyZV9maWx0ZXJfYW5pc290cm9waWNcIiksdGhpcy5leHRUZXh0dXJlRmlsdGVyQW5pc290cm9waWMmJih0aGlzLmV4dFRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpY01heD1lLmdldFBhcmFtZXRlcih0aGlzLmV4dFRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpYy5NQVhfVEVYVFVSRV9NQVhfQU5JU09UUk9QWV9FWFQpKSx0aGlzLmV4dFRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpY0ZvcmNlT2ZmPSExLHRoaXMuZXh0U3RhbmRhcmREZXJpdmF0aXZlc0ZvcmNlT2ZmPSExLHRoaXMuZXh0RGVidWdSZW5kZXJlckluZm89ZS5nZXRFeHRlbnNpb24oXCJXRUJHTF9kZWJ1Z19yZW5kZXJlcl9pbmZvXCIpLHRoaXMuZXh0RGVidWdSZW5kZXJlckluZm8mJih0aGlzLnJlbmRlcmVyPWUuZ2V0UGFyYW1ldGVyKHRoaXMuZXh0RGVidWdSZW5kZXJlckluZm8uVU5NQVNLRURfUkVOREVSRVJfV0VCR0wpLHRoaXMudmVuZG9yPWUuZ2V0UGFyYW1ldGVyKHRoaXMuZXh0RGVidWdSZW5kZXJlckluZm8uVU5NQVNLRURfVkVORE9SX1dFQkdMKSksdGhpcy5leHRUZXh0dXJlSGFsZkZsb2F0PWUuZ2V0RXh0ZW5zaW9uKFwiT0VTX3RleHR1cmVfaGFsZl9mbG9hdFwiKSx0aGlzLmV4dFRleHR1cmVIYWxmRmxvYXQmJihlLmdldEV4dGVuc2lvbihcIk9FU190ZXh0dXJlX2hhbGZfZmxvYXRfbGluZWFyXCIpLHRoaXMuZXh0UmVuZGVyVG9UZXh0dXJlSGFsZkZsb2F0PWUuZ2V0RXh0ZW5zaW9uKFwiRVhUX2NvbG9yX2J1ZmZlcl9oYWxmX2Zsb2F0XCIpKSx0aGlzLmV4dFN0YW5kYXJkRGVyaXZhdGl2ZXM9ZS5nZXRFeHRlbnNpb24oXCJPRVNfc3RhbmRhcmRfZGVyaXZhdGl2ZXNcIiksdGhpcy5leHRUaW1lclF1ZXJ5PWUuZ2V0RXh0ZW5zaW9uKFwiRVhUX2Rpc2pvaW50X3RpbWVyX3F1ZXJ5XCIpLHRoaXMubWF4VGV4dHVyZVNpemU9ZS5nZXRQYXJhbWV0ZXIoZS5NQVhfVEVYVFVSRV9TSVpFKTt9c2V0RGVmYXVsdCgpe3RoaXMudW5iaW5kVkFPKCksdGhpcy5jbGVhckNvbG9yLnNldERlZmF1bHQoKSx0aGlzLmNsZWFyRGVwdGguc2V0RGVmYXVsdCgpLHRoaXMuY2xlYXJTdGVuY2lsLnNldERlZmF1bHQoKSx0aGlzLmNvbG9yTWFzay5zZXREZWZhdWx0KCksdGhpcy5kZXB0aE1hc2suc2V0RGVmYXVsdCgpLHRoaXMuc3RlbmNpbE1hc2suc2V0RGVmYXVsdCgpLHRoaXMuc3RlbmNpbEZ1bmMuc2V0RGVmYXVsdCgpLHRoaXMuc3RlbmNpbE9wLnNldERlZmF1bHQoKSx0aGlzLnN0ZW5jaWxUZXN0LnNldERlZmF1bHQoKSx0aGlzLmRlcHRoUmFuZ2Uuc2V0RGVmYXVsdCgpLHRoaXMuZGVwdGhUZXN0LnNldERlZmF1bHQoKSx0aGlzLmRlcHRoRnVuYy5zZXREZWZhdWx0KCksdGhpcy5ibGVuZC5zZXREZWZhdWx0KCksdGhpcy5ibGVuZEZ1bmMuc2V0RGVmYXVsdCgpLHRoaXMuYmxlbmRDb2xvci5zZXREZWZhdWx0KCksdGhpcy5ibGVuZEVxdWF0aW9uLnNldERlZmF1bHQoKSx0aGlzLmN1bGxGYWNlLnNldERlZmF1bHQoKSx0aGlzLmN1bGxGYWNlU2lkZS5zZXREZWZhdWx0KCksdGhpcy5mcm9udEZhY2Uuc2V0RGVmYXVsdCgpLHRoaXMucHJvZ3JhbS5zZXREZWZhdWx0KCksdGhpcy5hY3RpdmVUZXh0dXJlLnNldERlZmF1bHQoKSx0aGlzLmJpbmRGcmFtZWJ1ZmZlci5zZXREZWZhdWx0KCksdGhpcy5waXhlbFN0b3JlVW5wYWNrLnNldERlZmF1bHQoKSx0aGlzLnBpeGVsU3RvcmVVbnBhY2tQcmVtdWx0aXBseUFscGhhLnNldERlZmF1bHQoKSx0aGlzLnBpeGVsU3RvcmVVbnBhY2tGbGlwWS5zZXREZWZhdWx0KCk7fXNldERpcnR5KCl7dGhpcy5jbGVhckNvbG9yLmRpcnR5PSEwLHRoaXMuY2xlYXJEZXB0aC5kaXJ0eT0hMCx0aGlzLmNsZWFyU3RlbmNpbC5kaXJ0eT0hMCx0aGlzLmNvbG9yTWFzay5kaXJ0eT0hMCx0aGlzLmRlcHRoTWFzay5kaXJ0eT0hMCx0aGlzLnN0ZW5jaWxNYXNrLmRpcnR5PSEwLHRoaXMuc3RlbmNpbEZ1bmMuZGlydHk9ITAsdGhpcy5zdGVuY2lsT3AuZGlydHk9ITAsdGhpcy5zdGVuY2lsVGVzdC5kaXJ0eT0hMCx0aGlzLmRlcHRoUmFuZ2UuZGlydHk9ITAsdGhpcy5kZXB0aFRlc3QuZGlydHk9ITAsdGhpcy5kZXB0aEZ1bmMuZGlydHk9ITAsdGhpcy5ibGVuZC5kaXJ0eT0hMCx0aGlzLmJsZW5kRnVuYy5kaXJ0eT0hMCx0aGlzLmJsZW5kQ29sb3IuZGlydHk9ITAsdGhpcy5ibGVuZEVxdWF0aW9uLmRpcnR5PSEwLHRoaXMuY3VsbEZhY2UuZGlydHk9ITAsdGhpcy5jdWxsRmFjZVNpZGUuZGlydHk9ITAsdGhpcy5mcm9udEZhY2UuZGlydHk9ITAsdGhpcy5wcm9ncmFtLmRpcnR5PSEwLHRoaXMuYWN0aXZlVGV4dHVyZS5kaXJ0eT0hMCx0aGlzLnZpZXdwb3J0LmRpcnR5PSEwLHRoaXMuYmluZEZyYW1lYnVmZmVyLmRpcnR5PSEwLHRoaXMuYmluZFJlbmRlcmJ1ZmZlci5kaXJ0eT0hMCx0aGlzLmJpbmRUZXh0dXJlLmRpcnR5PSEwLHRoaXMuYmluZFZlcnRleEJ1ZmZlci5kaXJ0eT0hMCx0aGlzLmJpbmRFbGVtZW50QnVmZmVyLmRpcnR5PSEwLHRoaXMuZXh0VmVydGV4QXJyYXlPYmplY3QmJih0aGlzLmJpbmRWZXJ0ZXhBcnJheU9FUy5kaXJ0eT0hMCksdGhpcy5waXhlbFN0b3JlVW5wYWNrLmRpcnR5PSEwLHRoaXMucGl4ZWxTdG9yZVVucGFja1ByZW11bHRpcGx5QWxwaGEuZGlydHk9ITAsdGhpcy5waXhlbFN0b3JlVW5wYWNrRmxpcFkuZGlydHk9ITA7fWNyZWF0ZUluZGV4QnVmZmVyKGUsdCl7cmV0dXJuIG5ldyBOKHRoaXMsZSx0KX1jcmVhdGVWZXJ0ZXhCdWZmZXIoZSx0LGkpe3JldHVybiBuZXcgaih0aGlzLGUsdCxpKX1jcmVhdGVSZW5kZXJidWZmZXIoZSx0LGkpe2NvbnN0IG89dGhpcy5nbCxyPW8uY3JlYXRlUmVuZGVyYnVmZmVyKCk7cmV0dXJuIHRoaXMuYmluZFJlbmRlcmJ1ZmZlci5zZXQociksby5yZW5kZXJidWZmZXJTdG9yYWdlKG8uUkVOREVSQlVGRkVSLGUsdCxpKSx0aGlzLmJpbmRSZW5kZXJidWZmZXIuc2V0KG51bGwpLHJ9Y3JlYXRlRnJhbWVidWZmZXIoZSx0LGkpe3JldHVybiBuZXcgQ2UodGhpcyxlLHQsaSl9Y2xlYXIoe2NvbG9yOmUsZGVwdGg6dCxzdGVuY2lsOml9KXtjb25zdCBvPXRoaXMuZ2w7bGV0IHI9MDtlJiYocnw9by5DT0xPUl9CVUZGRVJfQklULHRoaXMuY2xlYXJDb2xvci5zZXQoZSksdGhpcy5jb2xvck1hc2suc2V0KFshMCwhMCwhMCwhMF0pKSx2b2lkIDAhPT10JiYocnw9by5ERVBUSF9CVUZGRVJfQklULHRoaXMuZGVwdGhSYW5nZS5zZXQoWzAsMV0pLHRoaXMuY2xlYXJEZXB0aC5zZXQodCksdGhpcy5kZXB0aE1hc2suc2V0KCEwKSksdm9pZCAwIT09aSYmKHJ8PW8uU1RFTkNJTF9CVUZGRVJfQklULHRoaXMuY2xlYXJTdGVuY2lsLnNldChpKSx0aGlzLnN0ZW5jaWxNYXNrLnNldCgyNTUpKSxvLmNsZWFyKHIpO31zZXRDdWxsRmFjZShlKXshMT09PWUuZW5hYmxlP3RoaXMuY3VsbEZhY2Uuc2V0KCExKToodGhpcy5jdWxsRmFjZS5zZXQoITApLHRoaXMuY3VsbEZhY2VTaWRlLnNldChlLm1vZGUpLHRoaXMuZnJvbnRGYWNlLnNldChlLmZyb250RmFjZSkpO31zZXREZXB0aE1vZGUoZSl7ZS5mdW5jIT09dGhpcy5nbC5BTFdBWVN8fGUubWFzaz8odGhpcy5kZXB0aFRlc3Quc2V0KCEwKSx0aGlzLmRlcHRoRnVuYy5zZXQoZS5mdW5jKSx0aGlzLmRlcHRoTWFzay5zZXQoZS5tYXNrKSx0aGlzLmRlcHRoUmFuZ2Uuc2V0KGUucmFuZ2UpKTp0aGlzLmRlcHRoVGVzdC5zZXQoITEpO31zZXRTdGVuY2lsTW9kZShlKXtlLnRlc3QuZnVuYyE9PXRoaXMuZ2wuQUxXQVlTfHxlLm1hc2s/KHRoaXMuc3RlbmNpbFRlc3Quc2V0KCEwKSx0aGlzLnN0ZW5jaWxNYXNrLnNldChlLm1hc2spLHRoaXMuc3RlbmNpbE9wLnNldChbZS5mYWlsLGUuZGVwdGhGYWlsLGUucGFzc10pLHRoaXMuc3RlbmNpbEZ1bmMuc2V0KHtmdW5jOmUudGVzdC5mdW5jLHJlZjplLnJlZixtYXNrOmUudGVzdC5tYXNrfSkpOnRoaXMuc3RlbmNpbFRlc3Quc2V0KCExKTt9c2V0Q29sb3JNb2RlKGkpe3QoaS5ibGVuZEZ1bmN0aW9uLGUuQ29sb3JNb2RlLlJlcGxhY2UpP3RoaXMuYmxlbmQuc2V0KCExKToodGhpcy5ibGVuZC5zZXQoITApLHRoaXMuYmxlbmRGdW5jLnNldChpLmJsZW5kRnVuY3Rpb24pLHRoaXMuYmxlbmRDb2xvci5zZXQoaS5ibGVuZENvbG9yKSksdGhpcy5jb2xvck1hc2suc2V0KGkubWFzayk7fXVuYmluZFZBTygpe3RoaXMuZXh0VmVydGV4QXJyYXlPYmplY3QmJnRoaXMuYmluZFZlcnRleEFycmF5T0VTLnNldChudWxsKTt9fWNsYXNzIE1lIGV4dGVuZHMgZS5FdmVudGVke2NvbnN0cnVjdG9yKHQsaSxvLHIpe3N1cGVyKCksdGhpcy5pZD10LHRoaXMuZGlzcGF0Y2hlcj1vLHRoaXMuc2V0RXZlbnRlZFBhcmVudChyKSx0aGlzLnR5cGU9XCJyYXN0ZXJcIix0aGlzLm1pbnpvb209MCx0aGlzLm1heHpvb209MjIsdGhpcy5yb3VuZFpvb209ITAsdGhpcy5zY2hlbWU9XCJ4eXpcIix0aGlzLnRpbGVTaXplPTUxMix0aGlzLl9sb2FkZWQ9ITEsdGhpcy5fb3B0aW9ucz1lLmV4dGVuZCh7dHlwZTpcInJhc3RlclwifSxpKSxlLmV4dGVuZCh0aGlzLGUucGljayhpLFtcInVybFwiLFwic2NoZW1lXCIsXCJ0aWxlU2l6ZVwiXSkpO31sb2FkKCl7dGhpcy5fbG9hZGVkPSExLHRoaXMuZmlyZShuZXcgZS5FdmVudChcImRhdGFsb2FkaW5nXCIse2RhdGFUeXBlOlwic291cmNlXCJ9KSksdGhpcy5fdGlsZUpTT05SZXF1ZXN0PUYodGhpcy5fb3B0aW9ucyx0aGlzLm1hcC5fcmVxdWVzdE1hbmFnZXIsbnVsbCxudWxsLCgodCxpKT0+e3RoaXMuX3RpbGVKU09OUmVxdWVzdD1udWxsLHRoaXMuX2xvYWRlZD0hMCx0P3RoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KHQpKTppJiYoZS5leHRlbmQodGhpcyxpKSxpLmJvdW5kcyYmKHRoaXMudGlsZUJvdW5kcz1uZXcgVShpLmJvdW5kcyx0aGlzLm1pbnpvb20sdGhpcy5tYXh6b29tKSksZS5wb3N0VHVybnN0aWxlRXZlbnQoaS50aWxlcyksdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwiZGF0YVwiLHtkYXRhVHlwZTpcInNvdXJjZVwiLHNvdXJjZURhdGFUeXBlOlwibWV0YWRhdGFcIn0pKSx0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJkYXRhXCIse2RhdGFUeXBlOlwic291cmNlXCIsc291cmNlRGF0YVR5cGU6XCJjb250ZW50XCJ9KSkpO30pKTt9bG9hZGVkKCl7cmV0dXJuIHRoaXMuX2xvYWRlZH1vbkFkZChlKXt0aGlzLm1hcD1lLHRoaXMubG9hZCgpO31vblJlbW92ZSgpe3RoaXMuX3RpbGVKU09OUmVxdWVzdCYmKHRoaXMuX3RpbGVKU09OUmVxdWVzdC5jYW5jZWwoKSx0aGlzLl90aWxlSlNPTlJlcXVlc3Q9bnVsbCk7fXNlcmlhbGl6ZSgpe3JldHVybiBlLmV4dGVuZCh7fSx0aGlzLl9vcHRpb25zKX1oYXNUaWxlKGUpe3JldHVybiAhdGhpcy50aWxlQm91bmRzfHx0aGlzLnRpbGVCb3VuZHMuY29udGFpbnMoZS5jYW5vbmljYWwpfWxvYWRUaWxlKHQsaSl7Y29uc3Qgbz1lLmV4cG9ydGVkLmRldmljZVBpeGVsUmF0aW8+PTIscj10aGlzLm1hcC5fcmVxdWVzdE1hbmFnZXIubm9ybWFsaXplVGlsZVVSTCh0LnRpbGVJRC5jYW5vbmljYWwudXJsKHRoaXMudGlsZXMsdGhpcy5zY2hlbWUpLG8sdGhpcy50aWxlU2l6ZSk7dC5yZXF1ZXN0PWUuZ2V0SW1hZ2UodGhpcy5tYXAuX3JlcXVlc3RNYW5hZ2VyLnRyYW5zZm9ybVJlcXVlc3QocixlLlJlc291cmNlVHlwZS5UaWxlKSwoKG8scixuLGEpPT4oZGVsZXRlIHQucmVxdWVzdCx0LmFib3J0ZWQ/KHQuc3RhdGU9XCJ1bmxvYWRlZFwiLGkobnVsbCkpOm8/KHQuc3RhdGU9XCJlcnJvcmVkXCIsaShvKSk6cj8odGhpcy5tYXAuX3JlZnJlc2hFeHBpcmVkVGlsZXMmJnQuc2V0RXhwaXJ5RGF0YSh7Y2FjaGVDb250cm9sOm4sZXhwaXJlczphfSksdC5zZXRUZXh0dXJlKHIsdGhpcy5tYXAucGFpbnRlciksdC5zdGF0ZT1cImxvYWRlZFwiLGUuY2FjaGVFbnRyeVBvc3NpYmx5QWRkZWQodGhpcy5kaXNwYXRjaGVyKSx2b2lkIGkobnVsbCkpOmkobnVsbCkpKSk7fXN0YXRpYyBsb2FkVGlsZURhdGEoZSx0LGkpe2Uuc2V0VGV4dHVyZSh0LGkpO31zdGF0aWMgdW5sb2FkVGlsZURhdGEoZSx0KXtlLnRleHR1cmUmJnQuc2F2ZVRpbGVUZXh0dXJlKGUudGV4dHVyZSk7fWFib3J0VGlsZShlLHQpe2UucmVxdWVzdCYmKGUucmVxdWVzdC5jYW5jZWwoKSxkZWxldGUgZS5yZXF1ZXN0KSx0KCk7fXVubG9hZFRpbGUoZSx0KXtlLnRleHR1cmUmJnRoaXMubWFwLnBhaW50ZXIuc2F2ZVRpbGVUZXh0dXJlKGUudGV4dHVyZSksdCgpO31oYXNUcmFuc2l0aW9uKCl7cmV0dXJuICExfX1sZXQgU2U7ZnVuY3Rpb24gemUodCxpLG8scixuLGEscyxsKXtjb25zdCBjPVt0LG8sbixpLHIsYSwxLDEsMV0saD1bcyxsLDFdLF89ZS5hZGpvaW50KFtdLGMpLFt1LGQscF09ZS50cmFuc2Zvcm1NYXQzKGgsaCxlLnRyYW5zcG9zZShfLF8pKTtyZXR1cm4gZS5tdWx0aXBseSQxKGMsW3UsMCwwLDAsZCwwLDAsMCxwXSxjKX1jbGFzcyBEZSBleHRlbmRzIGUuRXZlbnRlZHtjb25zdHJ1Y3RvcihlLHQsaSxvKXtzdXBlcigpLHRoaXMuaWQ9ZSx0aGlzLmRpc3BhdGNoZXI9aSx0aGlzLmNvb3JkaW5hdGVzPXQuY29vcmRpbmF0ZXMsdGhpcy50eXBlPVwiaW1hZ2VcIix0aGlzLm1pbnpvb209MCx0aGlzLm1heHpvb209MjIsdGhpcy50aWxlU2l6ZT01MTIsdGhpcy50aWxlcz17fSx0aGlzLl9sb2FkZWQ9ITEsdGhpcy5zZXRFdmVudGVkUGFyZW50KG8pLHRoaXMub3B0aW9ucz10LHRoaXMuX2RpcnR5PSExO31sb2FkKHQsaSl7dGhpcy5fbG9hZGVkPWl8fCExLHRoaXMuZmlyZShuZXcgZS5FdmVudChcImRhdGFsb2FkaW5nXCIse2RhdGFUeXBlOlwic291cmNlXCJ9KSksdGhpcy51cmw9dGhpcy5vcHRpb25zLnVybCx0aGlzLl9pbWFnZVJlcXVlc3Q9ZS5nZXRJbWFnZSh0aGlzLm1hcC5fcmVxdWVzdE1hbmFnZXIudHJhbnNmb3JtUmVxdWVzdCh0aGlzLnVybCxlLlJlc291cmNlVHlwZS5JbWFnZSksKChpLG8pPT57aWYodGhpcy5faW1hZ2VSZXF1ZXN0PW51bGwsdGhpcy5fbG9hZGVkPSEwLGkpdGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQoaSkpO2Vsc2UgaWYobyl7Y29uc3R7SFRNTEltYWdlRWxlbWVudDppfT1lLndpbmRvdzt0aGlzLmltYWdlPW8gaW5zdGFuY2VvZiBpP2UuZXhwb3J0ZWQuZ2V0SW1hZ2VEYXRhKG8pOm8sdGhpcy5fZGlydHk9ITAsdGhpcy53aWR0aD10aGlzLmltYWdlLndpZHRoLHRoaXMuaGVpZ2h0PXRoaXMuaW1hZ2UuaGVpZ2h0LHQmJih0aGlzLmNvb3JkaW5hdGVzPXQpLHRoaXMuX2ZpbmlzaExvYWRpbmcoKTt9fSkpO31sb2FkZWQoKXtyZXR1cm4gdGhpcy5fbG9hZGVkfXVwZGF0ZUltYWdlKGUpe3JldHVybiB0aGlzLmltYWdlJiZlLnVybD8odGhpcy5faW1hZ2VSZXF1ZXN0JiZlLnVybCE9PXRoaXMub3B0aW9ucy51cmwmJih0aGlzLl9pbWFnZVJlcXVlc3QuY2FuY2VsKCksdGhpcy5faW1hZ2VSZXF1ZXN0PW51bGwpLHRoaXMub3B0aW9ucy51cmw9ZS51cmwsdGhpcy5sb2FkKGUuY29vcmRpbmF0ZXMsdGhpcy5fbG9hZGVkKSx0aGlzKTp0aGlzfV9maW5pc2hMb2FkaW5nKCl7dGhpcy5tYXAmJih0aGlzLnNldENvb3JkaW5hdGVzKHRoaXMuY29vcmRpbmF0ZXMpLHRoaXMuZmlyZShuZXcgZS5FdmVudChcImRhdGFcIix7ZGF0YVR5cGU6XCJzb3VyY2VcIixzb3VyY2VEYXRhVHlwZTpcIm1ldGFkYXRhXCJ9KSkpO31vbkFkZChlKXt0aGlzLm1hcD1lLHRoaXMubG9hZCgpO31vblJlbW92ZSgpe3RoaXMuX2ltYWdlUmVxdWVzdCYmKHRoaXMuX2ltYWdlUmVxdWVzdC5jYW5jZWwoKSx0aGlzLl9pbWFnZVJlcXVlc3Q9bnVsbCksdGhpcy50ZXh0dXJlJiZ0aGlzLnRleHR1cmUuZGVzdHJveSgpO31zZXRDb29yZGluYXRlcyh0KXt0aGlzLmNvb3JkaW5hdGVzPXQsdGhpcy5fYm91bmRzQXJyYXk9dm9pZCAwO2NvbnN0IGk9dC5tYXAoZS5NZXJjYXRvckNvb3JkaW5hdGUuZnJvbUxuZ0xhdCk7cmV0dXJuIHRoaXMudGlsZUlEPWZ1bmN0aW9uKHQpe2xldCBpPTEvMCxvPTEvMCxyPS0xLzAsbj0tMS8wO2Zvcihjb25zdCBlIG9mIHQpaT1NYXRoLm1pbihpLGUueCksbz1NYXRoLm1pbihvLGUueSkscj1NYXRoLm1heChyLGUueCksbj1NYXRoLm1heChuLGUueSk7Y29uc3QgYT1NYXRoLm1heChyLWksbi1vKSxzPU1hdGgubWF4KDAsTWF0aC5mbG9vcigtTWF0aC5sb2coYSkvTWF0aC5MTjIpKSxsPU1hdGgucG93KDIscyk7cmV0dXJuIG5ldyBlLkNhbm9uaWNhbFRpbGVJRChzLE1hdGguZmxvb3IoKGkrcikvMipsKSxNYXRoLmZsb29yKChvK24pLzIqbCkpfShpKSx0aGlzLm1pbnpvb209dGhpcy5tYXh6b29tPXRoaXMudGlsZUlELnosdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwiZGF0YVwiLHtkYXRhVHlwZTpcInNvdXJjZVwiLHNvdXJjZURhdGFUeXBlOlwiY29udGVudFwifSkpLHRoaXN9X2NsZWFyKCl7dGhpcy5fYm91bmRzQXJyYXk9dm9pZCAwO31fcHJlcGFyZURhdGEodCl7Zm9yKGNvbnN0IGUgaW4gdGhpcy50aWxlcyl7Y29uc3QgdD10aGlzLnRpbGVzW2VdO1wibG9hZGVkXCIhPT10LnN0YXRlJiYodC5zdGF0ZT1cImxvYWRlZFwiLHQudGV4dHVyZT10aGlzLnRleHR1cmUpO31pZih0aGlzLl9ib3VuZHNBcnJheSlyZXR1cm47Y29uc3QgaT1lLnRpbGVUcmFuc2Zvcm0odGhpcy50aWxlSUQsdGhpcy5tYXAudHJhbnNmb3JtLnByb2plY3Rpb24pLFtvLHIsbixhXT10aGlzLmNvb3JkaW5hdGVzLm1hcCgodD0+e2NvbnN0IG89aS5wcm9qZWN0aW9uLnByb2plY3QodFswXSx0WzFdKTtyZXR1cm4gZS5nZXRUaWxlUG9pbnQoaSxvKS5fcm91bmQoKX0pKTt0aGlzLnBlcnNwZWN0aXZlVHJhbnNmb3JtPWZ1bmN0aW9uKHQsaSxvLHIsbixhLHMsbCxjLGgpe2NvbnN0IF89emUoMCwwLHQsMCwwLGksdCxpKSx1PXplKG8scixuLGEscyxsLGMsaCk7cmV0dXJuIGUubXVsdGlwbHkkMSh1LGUuYWRqb2ludChfLF8pLHUpLFt1WzZdL3VbOF0qdC9lLkVYVEVOVCx1WzddL3VbOF0qaS9lLkVYVEVOVF19KHRoaXMud2lkdGgsdGhpcy5oZWlnaHQsby54LG8ueSxyLngsci55LGEueCxhLnksbi54LG4ueSk7Y29uc3Qgcz10aGlzLl9ib3VuZHNBcnJheT1uZXcgZS5TdHJ1Y3RBcnJheUxheW91dDRpODtzLmVtcGxhY2VCYWNrKG8ueCxvLnksMCwwKSxzLmVtcGxhY2VCYWNrKHIueCxyLnksZS5FWFRFTlQsMCkscy5lbXBsYWNlQmFjayhhLngsYS55LDAsZS5FWFRFTlQpLHMuZW1wbGFjZUJhY2sobi54LG4ueSxlLkVYVEVOVCxlLkVYVEVOVCksdGhpcy5ib3VuZHNCdWZmZXImJnRoaXMuYm91bmRzQnVmZmVyLmRlc3Ryb3koKSx0aGlzLmJvdW5kc0J1ZmZlcj10LmNyZWF0ZVZlcnRleEJ1ZmZlcihzLGUuYm91bmRzQXR0cmlidXRlcy5tZW1iZXJzKSx0aGlzLmJvdW5kc1NlZ21lbnRzPWUuU2VnbWVudFZlY3Rvci5zaW1wbGVTZWdtZW50KDAsMCw0LDIpO31wcmVwYXJlKCl7aWYoMD09PU9iamVjdC5rZXlzKHRoaXMudGlsZXMpLmxlbmd0aHx8IXRoaXMuaW1hZ2UpcmV0dXJuO2NvbnN0IHQ9dGhpcy5tYXAucGFpbnRlci5jb250ZXh0LGk9dC5nbDt0aGlzLl9kaXJ0eSYmKHRoaXMudGV4dHVyZT90aGlzLnRleHR1cmUudXBkYXRlKHRoaXMuaW1hZ2UpOih0aGlzLnRleHR1cmU9bmV3IGUuVGV4dHVyZSh0LHRoaXMuaW1hZ2UsaS5SR0JBKSx0aGlzLnRleHR1cmUuYmluZChpLkxJTkVBUixpLkNMQU1QX1RPX0VER0UpKSx0aGlzLl9kaXJ0eT0hMSksdGhpcy5fcHJlcGFyZURhdGEodCk7fWxvYWRUaWxlKGUsdCl7dGhpcy50aWxlSUQmJnRoaXMudGlsZUlELmVxdWFscyhlLnRpbGVJRC5jYW5vbmljYWwpPyh0aGlzLnRpbGVzW1N0cmluZyhlLnRpbGVJRC53cmFwKV09ZSxlLmJ1Y2tldHM9e30sdChudWxsKSk6KGUuc3RhdGU9XCJlcnJvcmVkXCIsdChudWxsKSk7fXNlcmlhbGl6ZSgpe3JldHVybiB7dHlwZTpcImltYWdlXCIsdXJsOnRoaXMub3B0aW9ucy51cmwsY29vcmRpbmF0ZXM6dGhpcy5jb29yZGluYXRlc319aGFzVHJhbnNpdGlvbigpe3JldHVybiAhMX19Y29uc3QgQWU9e3ZlY3RvcjpjbGFzcyBleHRlbmRzIGUuRXZlbnRlZHtjb25zdHJ1Y3Rvcih0LGksbyxyKXtpZihzdXBlcigpLHRoaXMuaWQ9dCx0aGlzLmRpc3BhdGNoZXI9byx0aGlzLnR5cGU9XCJ2ZWN0b3JcIix0aGlzLm1pbnpvb209MCx0aGlzLm1heHpvb209MjIsdGhpcy5zY2hlbWU9XCJ4eXpcIix0aGlzLnRpbGVTaXplPTUxMix0aGlzLnJlcGFyc2VPdmVyc2NhbGVkPSEwLHRoaXMuaXNUaWxlQ2xpcHBlZD0hMCx0aGlzLl9sb2FkZWQ9ITEsZS5leHRlbmQodGhpcyxlLnBpY2soaSxbXCJ1cmxcIixcInNjaGVtZVwiLFwidGlsZVNpemVcIixcInByb21vdGVJZFwiXSkpLHRoaXMuX29wdGlvbnM9ZS5leHRlbmQoe3R5cGU6XCJ2ZWN0b3JcIn0saSksdGhpcy5fY29sbGVjdFJlc291cmNlVGltaW5nPWkuY29sbGVjdFJlc291cmNlVGltaW5nLDUxMiE9PXRoaXMudGlsZVNpemUpdGhyb3cgbmV3IEVycm9yKFwidmVjdG9yIHRpbGUgc291cmNlcyBtdXN0IGhhdmUgYSB0aWxlU2l6ZSBvZiA1MTJcIik7dGhpcy5zZXRFdmVudGVkUGFyZW50KHIpLHRoaXMuX3RpbGVXb3JrZXJzPXt9LHRoaXMuX2RlZHVwZWQ9bmV3IGUuRGVkdXBlZFJlcXVlc3Q7fWxvYWQodCl7dGhpcy5fbG9hZGVkPSExLHRoaXMuZmlyZShuZXcgZS5FdmVudChcImRhdGFsb2FkaW5nXCIse2RhdGFUeXBlOlwic291cmNlXCJ9KSk7Y29uc3QgaT1BcnJheS5pc0FycmF5KHRoaXMubWFwLl9sYW5ndWFnZSk/dGhpcy5tYXAuX2xhbmd1YWdlLmpvaW4oKTp0aGlzLm1hcC5fbGFuZ3VhZ2Usbz10aGlzLm1hcC5fd29ybGR2aWV3O3RoaXMuX3RpbGVKU09OUmVxdWVzdD1GKHRoaXMuX29wdGlvbnMsdGhpcy5tYXAuX3JlcXVlc3RNYW5hZ2VyLGksbywoKHIsbik9Pnt0aGlzLl90aWxlSlNPTlJlcXVlc3Q9bnVsbCx0aGlzLl9sb2FkZWQ9ITAscj8oaSYmY29uc29sZS53YXJuKGBFbnN1cmUgdGhhdCB5b3VyIHJlcXVlc3RlZCBsYW5ndWFnZSBzdHJpbmcgaXMgYSB2YWxpZCBCQ1AtNDcgY29kZSBvciBsaXN0IG9mIGNvZGVzLiBGb3VuZDogJHtpfWApLG8mJjIhPT1vLmxlbmd0aCYmY29uc29sZS53YXJuKGBSZXF1ZXN0ZWQgd29ybGR2aWV3IHN0cmluZ3MgbXVzdCBiZSBhIHZhbGlkIElTTyBhbHBoYS0yIGNvZGUuIEZvdW5kOiAke299YCksdGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQocikpKTpuJiYoZS5leHRlbmQodGhpcyxuKSxuLmJvdW5kcyYmKHRoaXMudGlsZUJvdW5kcz1uZXcgVShuLmJvdW5kcyx0aGlzLm1pbnpvb20sdGhpcy5tYXh6b29tKSksZS5wb3N0VHVybnN0aWxlRXZlbnQobi50aWxlcyx0aGlzLm1hcC5fcmVxdWVzdE1hbmFnZXIuX2N1c3RvbUFjY2Vzc1Rva2VuKSx0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJkYXRhXCIse2RhdGFUeXBlOlwic291cmNlXCIsc291cmNlRGF0YVR5cGU6XCJtZXRhZGF0YVwifSkpLHRoaXMuZmlyZShuZXcgZS5FdmVudChcImRhdGFcIix7ZGF0YVR5cGU6XCJzb3VyY2VcIixzb3VyY2VEYXRhVHlwZTpcImNvbnRlbnRcIn0pKSksdCYmdChyKTt9KSk7fWxvYWRlZCgpe3JldHVybiB0aGlzLl9sb2FkZWR9aGFzVGlsZShlKXtyZXR1cm4gIXRoaXMudGlsZUJvdW5kc3x8dGhpcy50aWxlQm91bmRzLmNvbnRhaW5zKGUuY2Fub25pY2FsKX1vbkFkZChlKXt0aGlzLm1hcD1lLHRoaXMubG9hZCgpO31yZWxvYWQoKXt0aGlzLmNhbmNlbFRpbGVKU09OUmVxdWVzdCgpLHRoaXMubG9hZCgoKCk9Pntjb25zdCBlPXRoaXMubWFwLnN0eWxlLl9nZXRTb3VyY2VDYWNoZXModGhpcy5pZCk7Zm9yKGNvbnN0IHQgb2YgZSl0LmNsZWFyVGlsZXMoKTt9KSk7fXNldFNvdXJjZVByb3BlcnR5KGUpe2UoKSx0aGlzLnJlbG9hZCgpO31zZXRUaWxlcyhlKXtyZXR1cm4gdGhpcy5fb3B0aW9ucy50aWxlcz1lLHRoaXMucmVsb2FkKCksdGhpc31zZXRVcmwoZSl7cmV0dXJuIHRoaXMudXJsPWUsdGhpcy5fb3B0aW9ucy51cmw9ZSx0aGlzLnJlbG9hZCgpLHRoaXN9b25SZW1vdmUoKXt0aGlzLmNhbmNlbFRpbGVKU09OUmVxdWVzdCgpO31zZXJpYWxpemUoKXtyZXR1cm4gZS5leHRlbmQoe30sdGhpcy5fb3B0aW9ucyl9bG9hZFRpbGUodCxpKXtjb25zdCBvPXRoaXMubWFwLl9yZXF1ZXN0TWFuYWdlci5ub3JtYWxpemVUaWxlVVJMKHQudGlsZUlELmNhbm9uaWNhbC51cmwodGhpcy50aWxlcyx0aGlzLnNjaGVtZSkpLHI9e3JlcXVlc3Q6dGhpcy5tYXAuX3JlcXVlc3RNYW5hZ2VyLnRyYW5zZm9ybVJlcXVlc3QobyxlLlJlc291cmNlVHlwZS5UaWxlKSxkYXRhOnZvaWQgMCx1aWQ6dC51aWQsdGlsZUlEOnQudGlsZUlELHRpbGVab29tOnQudGlsZVpvb20sem9vbTp0LnRpbGVJRC5vdmVyc2NhbGVkWix0aWxlU2l6ZTp0aGlzLnRpbGVTaXplKnQudGlsZUlELm92ZXJzY2FsZUZhY3RvcigpLHR5cGU6dGhpcy50eXBlLHNvdXJjZTp0aGlzLmlkLHBpeGVsUmF0aW86ZS5leHBvcnRlZC5kZXZpY2VQaXhlbFJhdGlvLHNob3dDb2xsaXNpb25Cb3hlczp0aGlzLm1hcC5zaG93Q29sbGlzaW9uQm94ZXMscHJvbW90ZUlkOnRoaXMucHJvbW90ZUlkLGlzU3ltYm9sVGlsZTp0LmlzU3ltYm9sVGlsZX07aWYoci5yZXF1ZXN0LmNvbGxlY3RSZXNvdXJjZVRpbWluZz10aGlzLl9jb2xsZWN0UmVzb3VyY2VUaW1pbmcsdC5hY3RvciYmXCJleHBpcmVkXCIhPT10LnN0YXRlKVwibG9hZGluZ1wiPT09dC5zdGF0ZT90LnJlbG9hZENhbGxiYWNrPWk6dC5yZXF1ZXN0PXQuYWN0b3Iuc2VuZChcInJlbG9hZFRpbGVcIixyLG4uYmluZCh0aGlzKSk7ZWxzZSBpZih0LmFjdG9yPXRoaXMuX3RpbGVXb3JrZXJzW29dPXRoaXMuX3RpbGVXb3JrZXJzW29dfHx0aGlzLmRpc3BhdGNoZXIuZ2V0QWN0b3IoKSx0aGlzLmRpc3BhdGNoZXIucmVhZHkpdC5yZXF1ZXN0PXQuYWN0b3Iuc2VuZChcImxvYWRUaWxlXCIscixuLmJpbmQodGhpcyksdm9pZCAwLCEwKTtlbHNlIHtjb25zdCBpPWUubG9hZFZlY3RvclRpbGUuY2FsbCh7ZGVkdXBlZDp0aGlzLl9kZWR1cGVkfSxyLCgoZSxpKT0+e2V8fCFpP24uY2FsbCh0aGlzLGUpOihyLmRhdGE9e2NhY2hlQ29udHJvbDppLmNhY2hlQ29udHJvbCxleHBpcmVzOmkuZXhwaXJlcyxyYXdEYXRhOmkucmF3RGF0YS5zbGljZSgwKX0sdC5hY3RvciYmdC5hY3Rvci5zZW5kKFwibG9hZFRpbGVcIixyLG4uYmluZCh0aGlzKSx2b2lkIDAsITApKTt9KSwhMCk7dC5yZXF1ZXN0PXtjYW5jZWw6aX07fWZ1bmN0aW9uIG4obyxyKXtyZXR1cm4gZGVsZXRlIHQucmVxdWVzdCx0LmFib3J0ZWQ/aShudWxsKTpvJiY0MDQhPT1vLnN0YXR1cz9pKG8pOihyJiZyLnJlc291cmNlVGltaW5nJiYodC5yZXNvdXJjZVRpbWluZz1yLnJlc291cmNlVGltaW5nKSx0aGlzLm1hcC5fcmVmcmVzaEV4cGlyZWRUaWxlcyYmciYmdC5zZXRFeHBpcnlEYXRhKHIpLHQubG9hZFZlY3RvckRhdGEocix0aGlzLm1hcC5wYWludGVyKSxlLmNhY2hlRW50cnlQb3NzaWJseUFkZGVkKHRoaXMuZGlzcGF0Y2hlciksaShudWxsKSx2b2lkKHQucmVsb2FkQ2FsbGJhY2smJih0aGlzLmxvYWRUaWxlKHQsdC5yZWxvYWRDYWxsYmFjayksdC5yZWxvYWRDYWxsYmFjaz1udWxsKSkpfX1hYm9ydFRpbGUoZSl7ZS5yZXF1ZXN0JiYoZS5yZXF1ZXN0LmNhbmNlbCgpLGRlbGV0ZSBlLnJlcXVlc3QpLGUuYWN0b3ImJmUuYWN0b3Iuc2VuZChcImFib3J0VGlsZVwiLHt1aWQ6ZS51aWQsdHlwZTp0aGlzLnR5cGUsc291cmNlOnRoaXMuaWR9KTt9dW5sb2FkVGlsZShlKXtlLnVubG9hZFZlY3RvckRhdGEoKSxlLmFjdG9yJiZlLmFjdG9yLnNlbmQoXCJyZW1vdmVUaWxlXCIse3VpZDplLnVpZCx0eXBlOnRoaXMudHlwZSxzb3VyY2U6dGhpcy5pZH0pO31oYXNUcmFuc2l0aW9uKCl7cmV0dXJuICExfWFmdGVyVXBkYXRlKCl7dGhpcy5fdGlsZVdvcmtlcnM9e307fWNhbmNlbFRpbGVKU09OUmVxdWVzdCgpe3RoaXMuX3RpbGVKU09OUmVxdWVzdCYmKHRoaXMuX3RpbGVKU09OUmVxdWVzdC5jYW5jZWwoKSx0aGlzLl90aWxlSlNPTlJlcXVlc3Q9bnVsbCk7fX0scmFzdGVyOk1lLFwicmFzdGVyLWRlbVwiOmNsYXNzIGV4dGVuZHMgTWV7Y29uc3RydWN0b3IodCxpLG8scil7c3VwZXIodCxpLG8sciksdGhpcy50eXBlPVwicmFzdGVyLWRlbVwiLHRoaXMubWF4em9vbT0yMix0aGlzLl9vcHRpb25zPWUuZXh0ZW5kKHt0eXBlOlwicmFzdGVyLWRlbVwifSxpKSx0aGlzLmVuY29kaW5nPWkuZW5jb2Rpbmd8fFwibWFwYm94XCI7fWxvYWRUaWxlKHQsaSl7Y29uc3Qgbz10aGlzLm1hcC5fcmVxdWVzdE1hbmFnZXIubm9ybWFsaXplVGlsZVVSTCh0LnRpbGVJRC5jYW5vbmljYWwudXJsKHRoaXMudGlsZXMsdGhpcy5zY2hlbWUpLCExLHRoaXMudGlsZVNpemUpO2Z1bmN0aW9uIHIoZSxvKXtlJiYodC5zdGF0ZT1cImVycm9yZWRcIixpKGUpKSxvJiYodC5kZW09byx0LmRlbS5vbkRlc2VyaWFsaXplKCksdC5uZWVkc0hpbGxzaGFkZVByZXBhcmU9ITAsdC5uZWVkc0RFTVRleHR1cmVVcGxvYWQ9ITAsdC5zdGF0ZT1cImxvYWRlZFwiLGkobnVsbCkpO310LnJlcXVlc3Q9ZS5nZXRJbWFnZSh0aGlzLm1hcC5fcmVxdWVzdE1hbmFnZXIudHJhbnNmb3JtUmVxdWVzdChvLGUuUmVzb3VyY2VUeXBlLlRpbGUpLGZ1bmN0aW9uKG8sbixhLHMpe2lmKGRlbGV0ZSB0LnJlcXVlc3QsdC5hYm9ydGVkKXQuc3RhdGU9XCJ1bmxvYWRlZFwiLGkobnVsbCk7ZWxzZSBpZihvKXQuc3RhdGU9XCJlcnJvcmVkXCIsaShvKTtlbHNlIGlmKG4pe3RoaXMubWFwLl9yZWZyZXNoRXhwaXJlZFRpbGVzJiZ0LnNldEV4cGlyeURhdGEoe2NhY2hlQ29udHJvbDphLGV4cGlyZXM6c30pO2NvbnN0IGk9ZS53aW5kb3cuSW1hZ2VCaXRtYXAmJm4gaW5zdGFuY2VvZiBlLndpbmRvdy5JbWFnZUJpdG1hcCYmKG51bGw9PVNlJiYoU2U9ZS53aW5kb3cuT2Zmc2NyZWVuQ2FudmFzJiZuZXcgZS53aW5kb3cuT2Zmc2NyZWVuQ2FudmFzKDEsMSkuZ2V0Q29udGV4dChcIjJkXCIpJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLndpbmRvdy5jcmVhdGVJbWFnZUJpdG1hcCksU2UpLG89MS0obi53aWR0aC1lLnByZXZQb3dlck9mVHdvKG4ud2lkdGgpKS8yO288MXx8dC5uZWlnaGJvcmluZ1RpbGVzfHwodC5uZWlnaGJvcmluZ1RpbGVzPXRoaXMuX2dldE5laWdoYm9yaW5nVGlsZXModC50aWxlSUQpKTtjb25zdCBsPWk/bjplLmV4cG9ydGVkLmdldEltYWdlRGF0YShuLG8pLGM9e3VpZDp0LnVpZCxjb29yZDp0LnRpbGVJRCxzb3VyY2U6dGhpcy5pZCxyYXdJbWFnZURhdGE6bCxlbmNvZGluZzp0aGlzLmVuY29kaW5nLHBhZGRpbmc6b307dC5hY3RvciYmXCJleHBpcmVkXCIhPT10LnN0YXRlfHwodC5hY3Rvcj10aGlzLmRpc3BhdGNoZXIuZ2V0QWN0b3IoKSx0LmFjdG9yLnNlbmQoXCJsb2FkREVNVGlsZVwiLGMsci5iaW5kKHRoaXMpLHZvaWQgMCwhMCkpO319LmJpbmQodGhpcykpO31fZ2V0TmVpZ2hib3JpbmdUaWxlcyh0KXtjb25zdCBpPXQuY2Fub25pY2FsLG89TWF0aC5wb3coMixpLnopLHI9KGkueC0xK28pJW8sbj0wPT09aS54P3Qud3JhcC0xOnQud3JhcCxhPShpLngrMStvKSVvLHM9aS54KzE9PT1vP3Qud3JhcCsxOnQud3JhcCxsPXt9O3JldHVybiBsW25ldyBlLk92ZXJzY2FsZWRUaWxlSUQodC5vdmVyc2NhbGVkWixuLGkueixyLGkueSkua2V5XT17YmFja2ZpbGxlZDohMX0sbFtuZXcgZS5PdmVyc2NhbGVkVGlsZUlEKHQub3ZlcnNjYWxlZFoscyxpLnosYSxpLnkpLmtleV09e2JhY2tmaWxsZWQ6ITF9LGkueT4wJiYobFtuZXcgZS5PdmVyc2NhbGVkVGlsZUlEKHQub3ZlcnNjYWxlZFosbixpLnoscixpLnktMSkua2V5XT17YmFja2ZpbGxlZDohMX0sbFtuZXcgZS5PdmVyc2NhbGVkVGlsZUlEKHQub3ZlcnNjYWxlZFosdC53cmFwLGkueixpLngsaS55LTEpLmtleV09e2JhY2tmaWxsZWQ6ITF9LGxbbmV3IGUuT3ZlcnNjYWxlZFRpbGVJRCh0Lm92ZXJzY2FsZWRaLHMsaS56LGEsaS55LTEpLmtleV09e2JhY2tmaWxsZWQ6ITF9KSxpLnkrMTxvJiYobFtuZXcgZS5PdmVyc2NhbGVkVGlsZUlEKHQub3ZlcnNjYWxlZFosbixpLnoscixpLnkrMSkua2V5XT17YmFja2ZpbGxlZDohMX0sbFtuZXcgZS5PdmVyc2NhbGVkVGlsZUlEKHQub3ZlcnNjYWxlZFosdC53cmFwLGkueixpLngsaS55KzEpLmtleV09e2JhY2tmaWxsZWQ6ITF9LGxbbmV3IGUuT3ZlcnNjYWxlZFRpbGVJRCh0Lm92ZXJzY2FsZWRaLHMsaS56LGEsaS55KzEpLmtleV09e2JhY2tmaWxsZWQ6ITF9KSxsfXVubG9hZFRpbGUoZSl7ZS5kZW1UZXh0dXJlJiZ0aGlzLm1hcC5wYWludGVyLnNhdmVUaWxlVGV4dHVyZShlLmRlbVRleHR1cmUpLGUuZmJvJiYoZS5mYm8uZGVzdHJveSgpLGRlbGV0ZSBlLmZibyksZS5kZW0mJmRlbGV0ZSBlLmRlbSxkZWxldGUgZS5uZWlnaGJvcmluZ1RpbGVzLGUuc3RhdGU9XCJ1bmxvYWRlZFwiO319LGdlb2pzb246Y2xhc3MgZXh0ZW5kcyBlLkV2ZW50ZWR7Y29uc3RydWN0b3IodCxpLG8scil7c3VwZXIoKSx0aGlzLmlkPXQsdGhpcy50eXBlPVwiZ2VvanNvblwiLHRoaXMubWluem9vbT0wLHRoaXMubWF4em9vbT0xOCx0aGlzLnRpbGVTaXplPTUxMix0aGlzLmlzVGlsZUNsaXBwZWQ9ITAsdGhpcy5yZXBhcnNlT3ZlcnNjYWxlZD0hMCx0aGlzLl9sb2FkZWQ9ITEsdGhpcy5hY3Rvcj1vLmdldEFjdG9yKCksdGhpcy5zZXRFdmVudGVkUGFyZW50KHIpLHRoaXMuX2RhdGE9aS5kYXRhLHRoaXMuX29wdGlvbnM9ZS5leHRlbmQoe30saSksdGhpcy5fY29sbGVjdFJlc291cmNlVGltaW5nPWkuY29sbGVjdFJlc291cmNlVGltaW5nLHZvaWQgMCE9PWkubWF4em9vbSYmKHRoaXMubWF4em9vbT1pLm1heHpvb20pLGkudHlwZSYmKHRoaXMudHlwZT1pLnR5cGUpLGkuYXR0cmlidXRpb24mJih0aGlzLmF0dHJpYnV0aW9uPWkuYXR0cmlidXRpb24pLHRoaXMucHJvbW90ZUlkPWkucHJvbW90ZUlkO2NvbnN0IG49ZS5FWFRFTlQvdGhpcy50aWxlU2l6ZTt0aGlzLndvcmtlck9wdGlvbnM9ZS5leHRlbmQoe3NvdXJjZTp0aGlzLmlkLGNsdXN0ZXI6aS5jbHVzdGVyfHwhMSxnZW9qc29uVnRPcHRpb25zOntidWZmZXI6KHZvaWQgMCE9PWkuYnVmZmVyP2kuYnVmZmVyOjEyOCkqbix0b2xlcmFuY2U6KHZvaWQgMCE9PWkudG9sZXJhbmNlP2kudG9sZXJhbmNlOi4zNzUpKm4sZXh0ZW50OmUuRVhURU5ULG1heFpvb206dGhpcy5tYXh6b29tLGxpbmVNZXRyaWNzOmkubGluZU1ldHJpY3N8fCExLGdlbmVyYXRlSWQ6aS5nZW5lcmF0ZUlkfHwhMX0sc3VwZXJjbHVzdGVyT3B0aW9uczp7bWF4Wm9vbTp2b2lkIDAhPT1pLmNsdXN0ZXJNYXhab29tP2kuY2x1c3Rlck1heFpvb206dGhpcy5tYXh6b29tLTEsbWluUG9pbnRzOk1hdGgubWF4KDIsaS5jbHVzdGVyTWluUG9pbnRzfHwyKSxleHRlbnQ6ZS5FWFRFTlQscmFkaXVzOih2b2lkIDAhPT1pLmNsdXN0ZXJSYWRpdXM/aS5jbHVzdGVyUmFkaXVzOjUwKSpuLGxvZzohMSxnZW5lcmF0ZUlkOmkuZ2VuZXJhdGVJZHx8ITF9LGNsdXN0ZXJQcm9wZXJ0aWVzOmkuY2x1c3RlclByb3BlcnRpZXMsZmlsdGVyOmkuZmlsdGVyfSxpLndvcmtlck9wdGlvbnMpO31vbkFkZChlKXt0aGlzLm1hcD1lLHRoaXMuc2V0RGF0YSh0aGlzLl9kYXRhKTt9c2V0RGF0YShlKXtyZXR1cm4gdGhpcy5fZGF0YT1lLHRoaXMuX3VwZGF0ZVdvcmtlckRhdGEoKSx0aGlzfWdldENsdXN0ZXJFeHBhbnNpb25ab29tKGUsdCl7cmV0dXJuIHRoaXMuYWN0b3Iuc2VuZChcImdlb2pzb24uZ2V0Q2x1c3RlckV4cGFuc2lvblpvb21cIix7Y2x1c3RlcklkOmUsc291cmNlOnRoaXMuaWR9LHQpLHRoaXN9Z2V0Q2x1c3RlckNoaWxkcmVuKGUsdCl7cmV0dXJuIHRoaXMuYWN0b3Iuc2VuZChcImdlb2pzb24uZ2V0Q2x1c3RlckNoaWxkcmVuXCIse2NsdXN0ZXJJZDplLHNvdXJjZTp0aGlzLmlkfSx0KSx0aGlzfWdldENsdXN0ZXJMZWF2ZXMoZSx0LGksbyl7cmV0dXJuIHRoaXMuYWN0b3Iuc2VuZChcImdlb2pzb24uZ2V0Q2x1c3RlckxlYXZlc1wiLHtzb3VyY2U6dGhpcy5pZCxjbHVzdGVySWQ6ZSxsaW1pdDp0LG9mZnNldDppfSxvKSx0aGlzfV91cGRhdGVXb3JrZXJEYXRhKCl7aWYodGhpcy5fcGVuZGluZ0xvYWQpcmV0dXJuIHZvaWQodGhpcy5fY29hbGVzY2U9ITApO3RoaXMuZmlyZShuZXcgZS5FdmVudChcImRhdGFsb2FkaW5nXCIse2RhdGFUeXBlOlwic291cmNlXCJ9KSksdGhpcy5fbG9hZGVkPSExO2NvbnN0IHQ9ZS5leHRlbmQoe30sdGhpcy53b3JrZXJPcHRpb25zKSxpPXRoaXMuX2RhdGE7XCJzdHJpbmdcIj09dHlwZW9mIGk/KHQucmVxdWVzdD10aGlzLm1hcC5fcmVxdWVzdE1hbmFnZXIudHJhbnNmb3JtUmVxdWVzdChlLmV4cG9ydGVkLnJlc29sdmVVUkwoaSksZS5SZXNvdXJjZVR5cGUuU291cmNlKSx0LnJlcXVlc3QuY29sbGVjdFJlc291cmNlVGltaW5nPXRoaXMuX2NvbGxlY3RSZXNvdXJjZVRpbWluZyk6dC5kYXRhPUpTT04uc3RyaW5naWZ5KGkpLHRoaXMuX3BlbmRpbmdMb2FkPXRoaXMuYWN0b3Iuc2VuZChgJHt0aGlzLnR5cGV9LmxvYWREYXRhYCx0LCgodCxpKT0+e2lmKHRoaXMuX2xvYWRlZD0hMCx0aGlzLl9wZW5kaW5nTG9hZD1udWxsLHQpdGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQodCkpO2Vsc2Uge2NvbnN0IHQ9e2RhdGFUeXBlOlwic291cmNlXCIsc291cmNlRGF0YVR5cGU6dGhpcy5fbWV0YWRhdGFGaXJlZD9cImNvbnRlbnRcIjpcIm1ldGFkYXRhXCJ9O3RoaXMuX2NvbGxlY3RSZXNvdXJjZVRpbWluZyYmaSYmaS5yZXNvdXJjZVRpbWluZyYmaS5yZXNvdXJjZVRpbWluZ1t0aGlzLmlkXSYmKHQucmVzb3VyY2VUaW1pbmc9aS5yZXNvdXJjZVRpbWluZ1t0aGlzLmlkXSksdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwiZGF0YVwiLHQpKSx0aGlzLl9tZXRhZGF0YUZpcmVkPSEwO310aGlzLl9jb2FsZXNjZSYmKHRoaXMuX3VwZGF0ZVdvcmtlckRhdGEoKSx0aGlzLl9jb2FsZXNjZT0hMSk7fSkpO31sb2FkZWQoKXtyZXR1cm4gdGhpcy5fbG9hZGVkfWxvYWRUaWxlKHQsaSl7Y29uc3Qgbz10LmFjdG9yP1wicmVsb2FkVGlsZVwiOlwibG9hZFRpbGVcIjt0LmFjdG9yPXRoaXMuYWN0b3IsdC5yZXF1ZXN0PXRoaXMuYWN0b3Iuc2VuZChvLHt0eXBlOnRoaXMudHlwZSx1aWQ6dC51aWQsdGlsZUlEOnQudGlsZUlELHRpbGVab29tOnQudGlsZVpvb20sem9vbTp0LnRpbGVJRC5vdmVyc2NhbGVkWixtYXhab29tOnRoaXMubWF4em9vbSx0aWxlU2l6ZTp0aGlzLnRpbGVTaXplLHNvdXJjZTp0aGlzLmlkLHBpeGVsUmF0aW86ZS5leHBvcnRlZC5kZXZpY2VQaXhlbFJhdGlvLHNob3dDb2xsaXNpb25Cb3hlczp0aGlzLm1hcC5zaG93Q29sbGlzaW9uQm94ZXMscHJvbW90ZUlkOnRoaXMucHJvbW90ZUlkfSwoKGUscik9PihkZWxldGUgdC5yZXF1ZXN0LHQudW5sb2FkVmVjdG9yRGF0YSgpLHQuYWJvcnRlZD9pKG51bGwpOmU/aShlKToodC5sb2FkVmVjdG9yRGF0YShyLHRoaXMubWFwLnBhaW50ZXIsXCJyZWxvYWRUaWxlXCI9PT1vKSxpKG51bGwpKSkpLHZvaWQgMCxcImxvYWRUaWxlXCI9PT1vKTt9YWJvcnRUaWxlKGUpe2UucmVxdWVzdCYmKGUucmVxdWVzdC5jYW5jZWwoKSxkZWxldGUgZS5yZXF1ZXN0KSxlLmFib3J0ZWQ9ITA7fXVubG9hZFRpbGUoZSl7ZS51bmxvYWRWZWN0b3JEYXRhKCksdGhpcy5hY3Rvci5zZW5kKFwicmVtb3ZlVGlsZVwiLHt1aWQ6ZS51aWQsdHlwZTp0aGlzLnR5cGUsc291cmNlOnRoaXMuaWR9KTt9b25SZW1vdmUoKXt0aGlzLl9wZW5kaW5nTG9hZCYmdGhpcy5fcGVuZGluZ0xvYWQuY2FuY2VsKCk7fXNlcmlhbGl6ZSgpe3JldHVybiBlLmV4dGVuZCh7fSx0aGlzLl9vcHRpb25zLHt0eXBlOnRoaXMudHlwZSxkYXRhOnRoaXMuX2RhdGF9KX1oYXNUcmFuc2l0aW9uKCl7cmV0dXJuICExfX0sdmlkZW86Y2xhc3MgZXh0ZW5kcyBEZXtjb25zdHJ1Y3RvcihlLHQsaSxvKXtzdXBlcihlLHQsaSxvKSx0aGlzLnJvdW5kWm9vbT0hMCx0aGlzLnR5cGU9XCJ2aWRlb1wiLHRoaXMub3B0aW9ucz10O31sb2FkKCl7dGhpcy5fbG9hZGVkPSExO2NvbnN0IHQ9dGhpcy5vcHRpb25zO3RoaXMudXJscz1bXTtmb3IoY29uc3QgaSBvZiB0LnVybHMpdGhpcy51cmxzLnB1c2godGhpcy5tYXAuX3JlcXVlc3RNYW5hZ2VyLnRyYW5zZm9ybVJlcXVlc3QoaSxlLlJlc291cmNlVHlwZS5Tb3VyY2UpLnVybCk7ZS5nZXRWaWRlbyh0aGlzLnVybHMsKCh0LGkpPT57dGhpcy5fbG9hZGVkPSEwLHQ/dGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQodCkpOmkmJih0aGlzLnZpZGVvPWksdGhpcy52aWRlby5sb29wPSEwLHRoaXMudmlkZW8uc2V0QXR0cmlidXRlKFwicGxheXNpbmxpbmVcIixcIlwiKSx0aGlzLnZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoXCJwbGF5aW5nXCIsKCgpPT57dGhpcy5tYXAudHJpZ2dlclJlcGFpbnQoKTt9KSksdGhpcy5tYXAmJnRoaXMudmlkZW8ucGxheSgpLHRoaXMuX2ZpbmlzaExvYWRpbmcoKSk7fSkpO31wYXVzZSgpe3RoaXMudmlkZW8mJnRoaXMudmlkZW8ucGF1c2UoKTt9cGxheSgpe3RoaXMudmlkZW8mJnRoaXMudmlkZW8ucGxheSgpO31zZWVrKHQpe2lmKHRoaXMudmlkZW8pe2NvbnN0IGk9dGhpcy52aWRlby5zZWVrYWJsZTt0PGkuc3RhcnQoMCl8fHQ+aS5lbmQoMCk/dGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQobmV3IGUuVmFsaWRhdGlvbkVycm9yKGBzb3VyY2VzLiR7dGhpcy5pZH1gLG51bGwsYFBsYXliYWNrIGZvciB0aGlzIHZpZGVvIGNhbiBiZSBzZXQgb25seSBiZXR3ZWVuIHRoZSAke2kuc3RhcnQoMCl9IGFuZCAke2kuZW5kKDApfS1zZWNvbmQgbWFyay5gKSkpOnRoaXMudmlkZW8uY3VycmVudFRpbWU9dDt9fWdldFZpZGVvKCl7cmV0dXJuIHRoaXMudmlkZW99b25BZGQoZSl7dGhpcy5tYXB8fCh0aGlzLm1hcD1lLHRoaXMubG9hZCgpLHRoaXMudmlkZW8mJih0aGlzLnZpZGVvLnBsYXkoKSx0aGlzLnNldENvb3JkaW5hdGVzKHRoaXMuY29vcmRpbmF0ZXMpKSk7fXByZXBhcmUoKXtpZigwPT09T2JqZWN0LmtleXModGhpcy50aWxlcykubGVuZ3RofHx0aGlzLnZpZGVvLnJlYWR5U3RhdGU8MilyZXR1cm47Y29uc3QgdD10aGlzLm1hcC5wYWludGVyLmNvbnRleHQsaT10LmdsO3RoaXMudGV4dHVyZT90aGlzLnZpZGVvLnBhdXNlZHx8KHRoaXMudGV4dHVyZS5iaW5kKGkuTElORUFSLGkuQ0xBTVBfVE9fRURHRSksaS50ZXhTdWJJbWFnZTJEKGkuVEVYVFVSRV8yRCwwLDAsMCxpLlJHQkEsaS5VTlNJR05FRF9CWVRFLHRoaXMudmlkZW8pKToodGhpcy50ZXh0dXJlPW5ldyBlLlRleHR1cmUodCx0aGlzLnZpZGVvLGkuUkdCQSksdGhpcy50ZXh0dXJlLmJpbmQoaS5MSU5FQVIsaS5DTEFNUF9UT19FREdFKSx0aGlzLndpZHRoPXRoaXMudmlkZW8udmlkZW9XaWR0aCx0aGlzLmhlaWdodD10aGlzLnZpZGVvLnZpZGVvSGVpZ2h0KSx0aGlzLl9wcmVwYXJlRGF0YSh0KTt9c2VyaWFsaXplKCl7cmV0dXJuIHt0eXBlOlwidmlkZW9cIix1cmxzOnRoaXMudXJscyxjb29yZGluYXRlczp0aGlzLmNvb3JkaW5hdGVzfX1oYXNUcmFuc2l0aW9uKCl7cmV0dXJuIHRoaXMudmlkZW8mJiF0aGlzLnZpZGVvLnBhdXNlZH19LGltYWdlOkRlLGNhbnZhczpjbGFzcyBleHRlbmRzIERle2NvbnN0cnVjdG9yKHQsaSxvLHIpe3N1cGVyKHQsaSxvLHIpLGkuY29vcmRpbmF0ZXM/QXJyYXkuaXNBcnJheShpLmNvb3JkaW5hdGVzKSYmND09PWkuY29vcmRpbmF0ZXMubGVuZ3RoJiYhaS5jb29yZGluYXRlcy5zb21lKChlPT4hQXJyYXkuaXNBcnJheShlKXx8MiE9PWUubGVuZ3RofHxlLnNvbWUoKGU9PlwibnVtYmVyXCIhPXR5cGVvZiBlKSkpKXx8dGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQobmV3IGUuVmFsaWRhdGlvbkVycm9yKGBzb3VyY2VzLiR7dH1gLG51bGwsJ1wiY29vcmRpbmF0ZXNcIiBwcm9wZXJ0eSBtdXN0IGJlIGFuIGFycmF5IG9mIDQgbG9uZ2l0dWRlL2xhdGl0dWRlIGFycmF5IHBhaXJzJykpKTp0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgZS5WYWxpZGF0aW9uRXJyb3IoYHNvdXJjZXMuJHt0fWAsbnVsbCwnbWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSBcImNvb3JkaW5hdGVzXCInKSkpLGkuYW5pbWF0ZSYmXCJib29sZWFuXCIhPXR5cGVvZiBpLmFuaW1hdGUmJnRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBlLlZhbGlkYXRpb25FcnJvcihgc291cmNlcy4ke3R9YCxudWxsLCdvcHRpb25hbCBcImFuaW1hdGVcIiBwcm9wZXJ0eSBtdXN0IGJlIGEgYm9vbGVhbiB2YWx1ZScpKSksaS5jYW52YXM/XCJzdHJpbmdcIj09dHlwZW9mIGkuY2FudmFzfHxpLmNhbnZhcyBpbnN0YW5jZW9mIGUud2luZG93LkhUTUxDYW52YXNFbGVtZW50fHx0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgZS5WYWxpZGF0aW9uRXJyb3IoYHNvdXJjZXMuJHt0fWAsbnVsbCwnXCJjYW52YXNcIiBtdXN0IGJlIGVpdGhlciBhIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIElEIG9mIHRoZSBjYW52YXMgZWxlbWVudCBmcm9tIHdoaWNoIHRvIHJlYWQsIG9yIGFuIEhUTUxDYW52YXNFbGVtZW50IGluc3RhbmNlJykpKTp0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgZS5WYWxpZGF0aW9uRXJyb3IoYHNvdXJjZXMuJHt0fWAsbnVsbCwnbWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSBcImNhbnZhc1wiJykpKSx0aGlzLm9wdGlvbnM9aSx0aGlzLmFuaW1hdGU9dm9pZCAwPT09aS5hbmltYXRlfHxpLmFuaW1hdGU7fWxvYWQoKXt0aGlzLl9sb2FkZWQ9ITAsdGhpcy5jYW52YXN8fCh0aGlzLmNhbnZhcz10aGlzLm9wdGlvbnMuY2FudmFzIGluc3RhbmNlb2YgZS53aW5kb3cuSFRNTENhbnZhc0VsZW1lbnQ/dGhpcy5vcHRpb25zLmNhbnZhczplLndpbmRvdy5kb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLm9wdGlvbnMuY2FudmFzKSksdGhpcy53aWR0aD10aGlzLmNhbnZhcy53aWR0aCx0aGlzLmhlaWdodD10aGlzLmNhbnZhcy5oZWlnaHQsdGhpcy5faGFzSW52YWxpZERpbWVuc2lvbnMoKT90aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgRXJyb3IoXCJDYW52YXMgZGltZW5zaW9ucyBjYW5ub3QgYmUgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIHplcm8uXCIpKSk6KHRoaXMucGxheT1mdW5jdGlvbigpe3RoaXMuX3BsYXlpbmc9ITAsdGhpcy5tYXAudHJpZ2dlclJlcGFpbnQoKTt9LHRoaXMucGF1c2U9ZnVuY3Rpb24oKXt0aGlzLl9wbGF5aW5nJiYodGhpcy5wcmVwYXJlKCksdGhpcy5fcGxheWluZz0hMSk7fSx0aGlzLl9maW5pc2hMb2FkaW5nKCkpO31nZXRDYW52YXMoKXtyZXR1cm4gdGhpcy5jYW52YXN9b25BZGQoZSl7dGhpcy5tYXA9ZSx0aGlzLmxvYWQoKSx0aGlzLmNhbnZhcyYmdGhpcy5hbmltYXRlJiZ0aGlzLnBsYXkoKTt9b25SZW1vdmUoKXt0aGlzLnBhdXNlKCk7fXByZXBhcmUoKXtsZXQgdD0hMTtpZih0aGlzLmNhbnZhcy53aWR0aCE9PXRoaXMud2lkdGgmJih0aGlzLndpZHRoPXRoaXMuY2FudmFzLndpZHRoLHQ9ITApLHRoaXMuY2FudmFzLmhlaWdodCE9PXRoaXMuaGVpZ2h0JiYodGhpcy5oZWlnaHQ9dGhpcy5jYW52YXMuaGVpZ2h0LHQ9ITApLHRoaXMuX2hhc0ludmFsaWREaW1lbnNpb25zKCkpcmV0dXJuO2lmKDA9PT1PYmplY3Qua2V5cyh0aGlzLnRpbGVzKS5sZW5ndGgpcmV0dXJuO2NvbnN0IGk9dGhpcy5tYXAucGFpbnRlci5jb250ZXh0O3RoaXMudGV4dHVyZT8odHx8dGhpcy5fcGxheWluZykmJnRoaXMudGV4dHVyZS51cGRhdGUodGhpcy5jYW52YXMse3ByZW11bHRpcGx5OiEwfSk6dGhpcy50ZXh0dXJlPW5ldyBlLlRleHR1cmUoaSx0aGlzLmNhbnZhcyxpLmdsLlJHQkEse3ByZW11bHRpcGx5OiEwfSksdGhpcy5fcHJlcGFyZURhdGEoaSk7fXNlcmlhbGl6ZSgpe3JldHVybiB7dHlwZTpcImNhbnZhc1wiLGNvb3JkaW5hdGVzOnRoaXMuY29vcmRpbmF0ZXN9fWhhc1RyYW5zaXRpb24oKXtyZXR1cm4gdGhpcy5fcGxheWluZ31faGFzSW52YWxpZERpbWVuc2lvbnMoKXtmb3IoY29uc3QgZSBvZiBbdGhpcy5jYW52YXMud2lkdGgsdGhpcy5jYW52YXMuaGVpZ2h0XSlpZihpc05hTihlKXx8ZTw9MClyZXR1cm4gITA7cmV0dXJuICExfX0sY3VzdG9tOmNsYXNzIGV4dGVuZHMgZS5FdmVudGVke2NvbnN0cnVjdG9yKHQsaSxvLHIpe3N1cGVyKCksdGhpcy5pZD10LHRoaXMudHlwZT1cImN1c3RvbVwiLHRoaXMuX2RhdGFUeXBlPVwicmFzdGVyXCIsdGhpcy5fZGlzcGF0Y2hlcj1vLHRoaXMuX2ltcGxlbWVudGF0aW9uPWksdGhpcy5zZXRFdmVudGVkUGFyZW50KHIpLHRoaXMuc2NoZW1lPVwieHl6XCIsdGhpcy5taW56b29tPTAsdGhpcy5tYXh6b29tPTIyLHRoaXMudGlsZVNpemU9NTEyLHRoaXMuX2xvYWRlZD0hMSx0aGlzLnJvdW5kWm9vbT0hMCx0aGlzLl9pbXBsZW1lbnRhdGlvbnx8dGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQobmV3IEVycm9yKGBNaXNzaW5nIGltcGxlbWVudGF0aW9uIGZvciAke3RoaXMuaWR9IGN1c3RvbSBzb3VyY2VgKSkpLHRoaXMuX2ltcGxlbWVudGF0aW9uLmxvYWRUaWxlfHx0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgRXJyb3IoYE1pc3NpbmcgbG9hZFRpbGUgaW1wbGVtZW50YXRpb24gZm9yICR7dGhpcy5pZH0gY3VzdG9tIHNvdXJjZWApKSksdGhpcy5faW1wbGVtZW50YXRpb24uYm91bmRzJiYodGhpcy50aWxlQm91bmRzPW5ldyBVKHRoaXMuX2ltcGxlbWVudGF0aW9uLmJvdW5kcyx0aGlzLm1pbnpvb20sdGhpcy5tYXh6b29tKSksaS51cGRhdGU9dGhpcy5fdXBkYXRlLmJpbmQodGhpcyksaS5jbGVhclRpbGVzPXRoaXMuX2NsZWFyVGlsZXMuYmluZCh0aGlzKSxpLmNvdmVyaW5nVGlsZXM9dGhpcy5fY292ZXJpbmdUaWxlcy5iaW5kKHRoaXMpLGUuZXh0ZW5kKHRoaXMsZS5waWNrKGksW1wiZGF0YVR5cGVcIixcInNjaGVtZVwiLFwibWluem9vbVwiLFwibWF4em9vbVwiLFwidGlsZVNpemVcIixcImF0dHJpYnV0aW9uXCIsXCJtaW5UaWxlQ2FjaGVTaXplXCIsXCJtYXhUaWxlQ2FjaGVTaXplXCJdKSk7fXNlcmlhbGl6ZSgpe3JldHVybiBlLnBpY2sodGhpcyxbXCJ0eXBlXCIsXCJzY2hlbWVcIixcIm1pbnpvb21cIixcIm1heHpvb21cIixcInRpbGVTaXplXCIsXCJhdHRyaWJ1dGlvblwiXSl9bG9hZCgpe3RoaXMuX2xvYWRlZD0hMCx0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJkYXRhXCIse2RhdGFUeXBlOlwic291cmNlXCIsc291cmNlRGF0YVR5cGU6XCJtZXRhZGF0YVwifSkpLHRoaXMuZmlyZShuZXcgZS5FdmVudChcImRhdGFcIix7ZGF0YVR5cGU6XCJzb3VyY2VcIixzb3VyY2VEYXRhVHlwZTpcImNvbnRlbnRcIn0pKTt9bG9hZGVkKCl7cmV0dXJuIHRoaXMuX2xvYWRlZH1vbkFkZCh0KXt0aGlzLl9tYXA9dCx0aGlzLl9sb2FkZWQ9ITEsdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwiZGF0YWxvYWRpbmdcIix7ZGF0YVR5cGU6XCJzb3VyY2VcIn0pKSx0aGlzLl9pbXBsZW1lbnRhdGlvbi5vbkFkZCYmdGhpcy5faW1wbGVtZW50YXRpb24ub25BZGQodCksdGhpcy5sb2FkKCk7fW9uUmVtb3ZlKGUpe3RoaXMuX2ltcGxlbWVudGF0aW9uLm9uUmVtb3ZlJiZ0aGlzLl9pbXBsZW1lbnRhdGlvbi5vblJlbW92ZShlKTt9aGFzVGlsZShlKXtpZih0aGlzLl9pbXBsZW1lbnRhdGlvbi5oYXNUaWxlKXtjb25zdHt4OnQseTppLHo6b309ZS5jYW5vbmljYWw7cmV0dXJuIHRoaXMuX2ltcGxlbWVudGF0aW9uLmhhc1RpbGUoe3g6dCx5OmksejpvfSl9cmV0dXJuICF0aGlzLnRpbGVCb3VuZHN8fHRoaXMudGlsZUJvdW5kcy5jb250YWlucyhlLmNhbm9uaWNhbCl9bG9hZFRpbGUodCxpKXtjb25zdHt4Om8seTpyLHo6bn09dC50aWxlSUQuY2Fub25pY2FsLGE9bmV3IGUud2luZG93LkFib3J0Q29udHJvbGxlcjt0LnJlcXVlc3Q9UHJvbWlzZS5yZXNvbHZlKHRoaXMuX2ltcGxlbWVudGF0aW9uLmxvYWRUaWxlKHt4Om8seTpyLHo6bn0se3NpZ25hbDphLnNpZ25hbH0pKS50aGVuKGZ1bmN0aW9uKG8pe3JldHVybiBkZWxldGUgdC5yZXF1ZXN0LHQuYWJvcnRlZD8odC5zdGF0ZT1cInVubG9hZGVkXCIsaShudWxsKSk6dm9pZCAwPT09bz8odC5zdGF0ZT1cImVycm9yZWRcIixpKG51bGwpKTpudWxsPT09bz8odGhpcy5sb2FkVGlsZURhdGEodCx7d2lkdGg6dGhpcy50aWxlU2l6ZSxoZWlnaHQ6dGhpcy50aWxlU2l6ZSxkYXRhOm51bGx9KSx0LnN0YXRlPVwibG9hZGVkXCIsaShudWxsKSk6ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBlLndpbmRvdy5JbWFnZURhdGF8fHQgaW5zdGFuY2VvZiBlLndpbmRvdy5IVE1MQ2FudmFzRWxlbWVudHx8dCBpbnN0YW5jZW9mIGUud2luZG93LkltYWdlQml0bWFwfHx0IGluc3RhbmNlb2YgZS53aW5kb3cuSFRNTEltYWdlRWxlbWVudH0obyk/KHRoaXMubG9hZFRpbGVEYXRhKHQsbyksdC5zdGF0ZT1cImxvYWRlZFwiLHZvaWQgaShudWxsKSk6KHQuc3RhdGU9XCJlcnJvcmVkXCIsaShuZXcgRXJyb3IoYENhbid0IGluZmVyIGRhdGEgdHlwZSBmb3IgJHt0aGlzLmlkfSwgb25seSByYXN0ZXIgZGF0YSBzdXBwb3J0ZWQgYXQgdGhlIG1vbWVudGApKSl9LmJpbmQodGhpcykpLmNhdGNoKChlPT57MjAhPT1lLmNvZGUmJih0LnN0YXRlPVwiZXJyb3JlZFwiLGkoZSkpO30pKSx0LnJlcXVlc3QuY2FuY2VsPSgpPT5hLmFib3J0KCk7fWxvYWRUaWxlRGF0YShlLHQpe01lLmxvYWRUaWxlRGF0YShlLHQsdGhpcy5fbWFwLnBhaW50ZXIpO311bmxvYWRUaWxlRGF0YShlKXtNZS51bmxvYWRUaWxlRGF0YShlLHRoaXMuX21hcC5wYWludGVyKTt9dW5sb2FkVGlsZShlLHQpe2lmKHRoaXMudW5sb2FkVGlsZURhdGEoZSksdGhpcy5faW1wbGVtZW50YXRpb24udW5sb2FkVGlsZSl7Y29uc3R7eDp0LHk6aSx6Om99PWUudGlsZUlELmNhbm9uaWNhbDt0aGlzLl9pbXBsZW1lbnRhdGlvbi51bmxvYWRUaWxlKHt4OnQseTppLHo6b30pO310KCk7fWFib3J0VGlsZShlLHQpe2UucmVxdWVzdCYmZS5yZXF1ZXN0LmNhbmNlbCYmKGUucmVxdWVzdC5jYW5jZWwoKSxkZWxldGUgZS5yZXF1ZXN0KSx0KCk7fWhhc1RyYW5zaXRpb24oKXtyZXR1cm4gITF9X2NvdmVyaW5nVGlsZXMoKXtyZXR1cm4gdGhpcy5fbWFwLnRyYW5zZm9ybS5jb3ZlcmluZ1RpbGVzKHt0aWxlU2l6ZTp0aGlzLnRpbGVTaXplLG1pbnpvb206dGhpcy5taW56b29tLG1heHpvb206dGhpcy5tYXh6b29tLHJvdW5kWm9vbTp0aGlzLnJvdW5kWm9vbX0pLm1hcCgoZT0+KHt4OmUuY2Fub25pY2FsLngseTplLmNhbm9uaWNhbC55LHo6ZS5jYW5vbmljYWwuen0pKSl9X2NsZWFyVGlsZXMoKXt0aGlzLl9tYXAuc3R5bGUuX2NsZWFyU291cmNlKHRoaXMuaWQpO31fdXBkYXRlKCl7dGhpcy5maXJlKG5ldyBlLkV2ZW50KFwiZGF0YVwiLHtkYXRhVHlwZTpcInNvdXJjZVwiLHNvdXJjZURhdGFUeXBlOlwiY29udGVudFwifSkpO319fSxQZT1mdW5jdGlvbih0LGksbyxyKXtjb25zdCBuPW5ldyBBZVtpLnR5cGVdKHQsaSxvLHIpO2lmKG4uaWQhPT10KXRocm93IG5ldyBFcnJvcihgRXhwZWN0ZWQgU291cmNlIGlkIHRvIGJlICR7dH0gaW5zdGVhZCBvZiAke24uaWR9YCk7cmV0dXJuIGUuYmluZEFsbChbXCJsb2FkXCIsXCJhYm9ydFwiLFwidW5sb2FkXCIsXCJzZXJpYWxpemVcIixcInByZXBhcmVcIl0sbiksbn07ZnVuY3Rpb24gTGUodCxpKXtjb25zdCBvPWUuaWRlbnRpdHkoW10pO3JldHVybiBlLnNjYWxlKG8sbyxbLjUqdC53aWR0aCwuNSotdC5oZWlnaHQsMV0pLGUudHJhbnNsYXRlKG8sbyxbMSwtMSwwXSksZS5tdWx0aXBseShvLG8sdC5jYWxjdWxhdGVQcm9qTWF0cml4KGkudG9VbndyYXBwZWQoKSkpLEZsb2F0MzJBcnJheS5mcm9tKG8pfWZ1bmN0aW9uIFJlKGUsdCxpLG8scixuLGEscz0hMSl7Y29uc3QgbD1lLnRpbGVzSW4obyxhLHMpO2wuc29ydChCZSk7Y29uc3QgYz1bXTtmb3IoY29uc3QgbyBvZiBsKWMucHVzaCh7d3JhcHBlZFRpbGVJRDpvLnRpbGUudGlsZUlELndyYXBwZWQoKS5rZXkscXVlcnlSZXN1bHRzOm8udGlsZS5xdWVyeVJlbmRlcmVkRmVhdHVyZXModCxpLGUuX3N0YXRlLG8scixuLExlKGUudHJhbnNmb3JtLG8udGlsZS50aWxlSUQpLHMpfSk7Y29uc3QgaD1mdW5jdGlvbihlKXtjb25zdCB0PXt9LGk9e307Zm9yKGNvbnN0IG8gb2YgZSl7Y29uc3QgZT1vLnF1ZXJ5UmVzdWx0cyxyPW8ud3JhcHBlZFRpbGVJRCxuPWlbcl09aVtyXXx8e307Zm9yKGNvbnN0IGkgaW4gZSl7Y29uc3Qgbz1lW2ldLHI9bltpXT1uW2ldfHx7fSxhPXRbaV09dFtpXXx8W107Zm9yKGNvbnN0IGUgb2YgbylyW2UuZmVhdHVyZUluZGV4XXx8KHJbZS5mZWF0dXJlSW5kZXhdPSEwLGEucHVzaChlKSk7fX1yZXR1cm4gdH0oYyk7Zm9yKGNvbnN0IHQgaW4gaCloW3RdLmZvckVhY2goKHQ9Pntjb25zdCBpPXQuZmVhdHVyZSxvPWkubGF5ZXI7byYmXCJiYWNrZ3JvdW5kXCIhPT1vLnR5cGUmJlwic2t5XCIhPT1vLnR5cGUmJihpLnNvdXJjZT1vLnNvdXJjZSxvW1wic291cmNlLWxheWVyXCJdJiYoaS5zb3VyY2VMYXllcj1vW1wic291cmNlLWxheWVyXCJdKSxpLnN0YXRlPXZvaWQgMCE9PWkuaWQ/ZS5nZXRGZWF0dXJlU3RhdGUob1tcInNvdXJjZS1sYXllclwiXSxpLmlkKTp7fSk7fSkpO3JldHVybiBofWZ1bmN0aW9uIE9lKGUsdCl7Y29uc3QgaT1lLmdldFJlbmRlcmFibGVJZHMoKS5tYXAoKHQ9PmUuZ2V0VGlsZUJ5SUQodCkpKSxvPVtdLHI9e307Zm9yKGxldCBlPTA7ZTxpLmxlbmd0aDtlKyspe2NvbnN0IG49aVtlXSxhPW4udGlsZUlELmNhbm9uaWNhbC5rZXk7clthXXx8KHJbYV09ITAsbi5xdWVyeVNvdXJjZUZlYXR1cmVzKG8sdCkpO31yZXR1cm4gb31mdW5jdGlvbiBCZShlLHQpe2NvbnN0IGk9ZS50aWxlSUQsbz10LnRpbGVJRDtyZXR1cm4gaS5vdmVyc2NhbGVkWi1vLm92ZXJzY2FsZWRafHxpLmNhbm9uaWNhbC55LW8uY2Fub25pY2FsLnl8fGkud3JhcC1vLndyYXB8fGkuY2Fub25pY2FsLngtby5jYW5vbmljYWwueH1mdW5jdGlvbiBrZSgpe3JldHVybiBudWxsIT1nbi53b3JrZXJDbGFzcz9uZXcgZ24ud29ya2VyQ2xhc3M6bmV3IGUud2luZG93Lldvcmtlcihnbi53b3JrZXJVcmwpfWNvbnN0IEZlPVwibWFwYm94Z2xfcHJlbG9hZGVkX3dvcmtlcl9wb29sXCI7Y2xhc3MgVWV7Y29uc3RydWN0b3IoKXt0aGlzLmFjdGl2ZT17fTt9YWNxdWlyZShlKXtpZighdGhpcy53b3JrZXJzKWZvcih0aGlzLndvcmtlcnM9W107dGhpcy53b3JrZXJzLmxlbmd0aDxVZS53b3JrZXJDb3VudDspdGhpcy53b3JrZXJzLnB1c2gobmV3IGtlKTtyZXR1cm4gdGhpcy5hY3RpdmVbZV09ITAsdGhpcy53b3JrZXJzLnNsaWNlKCl9cmVsZWFzZShlKXtkZWxldGUgdGhpcy5hY3RpdmVbZV0sMD09PXRoaXMubnVtQWN0aXZlKCkmJih0aGlzLndvcmtlcnMuZm9yRWFjaCgoZT0+e2UudGVybWluYXRlKCk7fSkpLHRoaXMud29ya2Vycz1udWxsKTt9aXNQcmVsb2FkZWQoKXtyZXR1cm4gISF0aGlzLmFjdGl2ZVtGZV19bnVtQWN0aXZlKCl7cmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuYWN0aXZlKS5sZW5ndGh9fWxldCBOZTtmdW5jdGlvbiBHZSgpe3JldHVybiBOZXx8KE5lPW5ldyBVZSksTmV9ZnVuY3Rpb24gamUodCxpKXtjb25zdCBvPXt9O2Zvcihjb25zdCBlIGluIHQpXCJyZWZcIiE9PWUmJihvW2VdPXRbZV0pO3JldHVybiBlLnJlZlByb3BlcnRpZXMuZm9yRWFjaCgoZT0+e2UgaW4gaSYmKG9bZV09aVtlXSk7fSkpLG99ZnVuY3Rpb24gWmUoZSl7ZT1lLnNsaWNlKCk7Y29uc3QgdD1PYmplY3QuY3JlYXRlKG51bGwpO2ZvcihsZXQgaT0wO2k8ZS5sZW5ndGg7aSsrKXRbZVtpXS5pZF09ZVtpXTtmb3IobGV0IGk9MDtpPGUubGVuZ3RoO2krKylcInJlZlwiaW4gZVtpXSYmKGVbaV09amUoZVtpXSx0W2VbaV0ucmVmXSkpO3JldHVybiBlfVVlLndvcmtlckNvdW50PTI7Y29uc3QgVmU9e3NldFN0eWxlOlwic2V0U3R5bGVcIixhZGRMYXllcjpcImFkZExheWVyXCIscmVtb3ZlTGF5ZXI6XCJyZW1vdmVMYXllclwiLHNldFBhaW50UHJvcGVydHk6XCJzZXRQYWludFByb3BlcnR5XCIsc2V0TGF5b3V0UHJvcGVydHk6XCJzZXRMYXlvdXRQcm9wZXJ0eVwiLHNldEZpbHRlcjpcInNldEZpbHRlclwiLGFkZFNvdXJjZTpcImFkZFNvdXJjZVwiLHJlbW92ZVNvdXJjZTpcInJlbW92ZVNvdXJjZVwiLHNldEdlb0pTT05Tb3VyY2VEYXRhOlwic2V0R2VvSlNPTlNvdXJjZURhdGFcIixzZXRMYXllclpvb21SYW5nZTpcInNldExheWVyWm9vbVJhbmdlXCIsc2V0TGF5ZXJQcm9wZXJ0eTpcInNldExheWVyUHJvcGVydHlcIixzZXRDZW50ZXI6XCJzZXRDZW50ZXJcIixzZXRab29tOlwic2V0Wm9vbVwiLHNldEJlYXJpbmc6XCJzZXRCZWFyaW5nXCIsc2V0UGl0Y2g6XCJzZXRQaXRjaFwiLHNldFNwcml0ZTpcInNldFNwcml0ZVwiLHNldEdseXBoczpcInNldEdseXBoc1wiLHNldFRyYW5zaXRpb246XCJzZXRUcmFuc2l0aW9uXCIsc2V0TGlnaHQ6XCJzZXRMaWdodFwiLHNldFRlcnJhaW46XCJzZXRUZXJyYWluXCIsc2V0Rm9nOlwic2V0Rm9nXCIsc2V0UHJvamVjdGlvbjpcInNldFByb2plY3Rpb25cIn07ZnVuY3Rpb24gV2UoZSx0LGkpe2kucHVzaCh7Y29tbWFuZDpWZS5hZGRTb3VyY2UsYXJnczpbZSx0W2VdXX0pO31mdW5jdGlvbiBYZShlLHQsaSl7dC5wdXNoKHtjb21tYW5kOlZlLnJlbW92ZVNvdXJjZSxhcmdzOltlXX0pLGlbZV09ITA7fWZ1bmN0aW9uIHFlKGUsdCxpLG8pe1hlKGUsaSxvKSxXZShlLHQsaSk7fWZ1bmN0aW9uICRlKGUsaSxvKXtsZXQgcjtmb3IociBpbiBlW29dKWlmKGVbb10uaGFzT3duUHJvcGVydHkocikmJlwiZGF0YVwiIT09ciYmIXQoZVtvXVtyXSxpW29dW3JdKSlyZXR1cm4gITE7Zm9yKHIgaW4gaVtvXSlpZihpW29dLmhhc093blByb3BlcnR5KHIpJiZcImRhdGFcIiE9PXImJiF0KGVbb11bcl0saVtvXVtyXSkpcmV0dXJuICExO3JldHVybiAhMH1mdW5jdGlvbiBIZShlLGksbyxyLG4sYSl7bGV0IHM7Zm9yKHMgaW4gaT1pfHx7fSxlPWV8fHt9KWUuaGFzT3duUHJvcGVydHkocykmJih0KGVbc10saVtzXSl8fG8ucHVzaCh7Y29tbWFuZDphLGFyZ3M6W3IscyxpW3NdLG5dfSkpO2ZvcihzIGluIGkpaS5oYXNPd25Qcm9wZXJ0eShzKSYmIWUuaGFzT3duUHJvcGVydHkocykmJih0KGVbc10saVtzXSl8fG8ucHVzaCh7Y29tbWFuZDphLGFyZ3M6W3IscyxpW3NdLG5dfSkpO31mdW5jdGlvbiBZZShlKXtyZXR1cm4gZS5pZH1mdW5jdGlvbiBLZShlLHQpe3JldHVybiBlW3QuaWRdPXQsZX1jbGFzcyBKZXtjb25zdHJ1Y3RvcihlLHQpe3RoaXMucmVzZXQoZSx0KTt9cmVzZXQoZSx0KXt0aGlzLnBvaW50cz1lfHxbXSx0aGlzLl9kaXN0YW5jZXM9WzBdO2ZvcihsZXQgZT0xO2U8dGhpcy5wb2ludHMubGVuZ3RoO2UrKyl0aGlzLl9kaXN0YW5jZXNbZV09dGhpcy5fZGlzdGFuY2VzW2UtMV0rdGhpcy5wb2ludHNbZV0uZGlzdCh0aGlzLnBvaW50c1tlLTFdKTt0aGlzLmxlbmd0aD10aGlzLl9kaXN0YW5jZXNbdGhpcy5fZGlzdGFuY2VzLmxlbmd0aC0xXSx0aGlzLnBhZGRpbmc9TWF0aC5taW4odHx8MCwuNSp0aGlzLmxlbmd0aCksdGhpcy5wYWRkZWRMZW5ndGg9dGhpcy5sZW5ndGgtMip0aGlzLnBhZGRpbmc7fWxlcnAodCl7aWYoMT09PXRoaXMucG9pbnRzLmxlbmd0aClyZXR1cm4gdGhpcy5wb2ludHNbMF07dD1lLmNsYW1wKHQsMCwxKTtsZXQgaT0xLG89dGhpcy5fZGlzdGFuY2VzW2ldO2NvbnN0IHI9dCp0aGlzLnBhZGRlZExlbmd0aCt0aGlzLnBhZGRpbmc7Zm9yKDtvPHImJmk8dGhpcy5fZGlzdGFuY2VzLmxlbmd0aDspbz10aGlzLl9kaXN0YW5jZXNbKytpXTtjb25zdCBuPWktMSxhPXRoaXMuX2Rpc3RhbmNlc1tuXSxzPW8tYSxsPXM+MD8oci1hKS9zOjA7cmV0dXJuIHRoaXMucG9pbnRzW25dLm11bHQoMS1sKS5hZGQodGhpcy5wb2ludHNbaV0ubXVsdChsKSl9fWNsYXNzIFFle2NvbnN0cnVjdG9yKGUsdCxpKXtjb25zdCBvPXRoaXMuYm94Q2VsbHM9W10scj10aGlzLmNpcmNsZUNlbGxzPVtdO3RoaXMueENlbGxDb3VudD1NYXRoLmNlaWwoZS9pKSx0aGlzLnlDZWxsQ291bnQ9TWF0aC5jZWlsKHQvaSk7Zm9yKGxldCBlPTA7ZTx0aGlzLnhDZWxsQ291bnQqdGhpcy55Q2VsbENvdW50O2UrKylvLnB1c2goW10pLHIucHVzaChbXSk7dGhpcy5jaXJjbGVLZXlzPVtdLHRoaXMuYm94S2V5cz1bXSx0aGlzLmJib3hlcz1bXSx0aGlzLmNpcmNsZXM9W10sdGhpcy53aWR0aD1lLHRoaXMuaGVpZ2h0PXQsdGhpcy54U2NhbGU9dGhpcy54Q2VsbENvdW50L2UsdGhpcy55U2NhbGU9dGhpcy55Q2VsbENvdW50L3QsdGhpcy5ib3hVaWQ9MCx0aGlzLmNpcmNsZVVpZD0wO31rZXlzTGVuZ3RoKCl7cmV0dXJuIHRoaXMuYm94S2V5cy5sZW5ndGgrdGhpcy5jaXJjbGVLZXlzLmxlbmd0aH1pbnNlcnQoZSx0LGksbyxyKXt0aGlzLl9mb3JFYWNoQ2VsbCh0LGksbyxyLHRoaXMuX2luc2VydEJveENlbGwsdGhpcy5ib3hVaWQrKyksdGhpcy5ib3hLZXlzLnB1c2goZSksdGhpcy5iYm94ZXMucHVzaCh0KSx0aGlzLmJib3hlcy5wdXNoKGkpLHRoaXMuYmJveGVzLnB1c2gobyksdGhpcy5iYm94ZXMucHVzaChyKTt9aW5zZXJ0Q2lyY2xlKGUsdCxpLG8pe3RoaXMuX2ZvckVhY2hDZWxsKHQtbyxpLW8sdCtvLGkrbyx0aGlzLl9pbnNlcnRDaXJjbGVDZWxsLHRoaXMuY2lyY2xlVWlkKyspLHRoaXMuY2lyY2xlS2V5cy5wdXNoKGUpLHRoaXMuY2lyY2xlcy5wdXNoKHQpLHRoaXMuY2lyY2xlcy5wdXNoKGkpLHRoaXMuY2lyY2xlcy5wdXNoKG8pO31faW5zZXJ0Qm94Q2VsbChlLHQsaSxvLHIsbil7dGhpcy5ib3hDZWxsc1tyXS5wdXNoKG4pO31faW5zZXJ0Q2lyY2xlQ2VsbChlLHQsaSxvLHIsbil7dGhpcy5jaXJjbGVDZWxsc1tyXS5wdXNoKG4pO31fcXVlcnkoZSx0LGksbyxyLG4pe2lmKGk8MHx8ZT50aGlzLndpZHRofHxvPDB8fHQ+dGhpcy5oZWlnaHQpcmV0dXJuICFyJiZbXTtjb25zdCBhPVtdO2lmKGU8PTAmJnQ8PTAmJnRoaXMud2lkdGg8PWkmJnRoaXMuaGVpZ2h0PD1vKXtpZihyKXJldHVybiAhMDtmb3IobGV0IGU9MDtlPHRoaXMuYm94S2V5cy5sZW5ndGg7ZSsrKWEucHVzaCh7a2V5OnRoaXMuYm94S2V5c1tlXSx4MTp0aGlzLmJib3hlc1s0KmVdLHkxOnRoaXMuYmJveGVzWzQqZSsxXSx4Mjp0aGlzLmJib3hlc1s0KmUrMl0seTI6dGhpcy5iYm94ZXNbNCplKzNdfSk7Zm9yKGxldCBlPTA7ZTx0aGlzLmNpcmNsZUtleXMubGVuZ3RoO2UrKyl7Y29uc3QgdD10aGlzLmNpcmNsZXNbMyplXSxpPXRoaXMuY2lyY2xlc1szKmUrMV0sbz10aGlzLmNpcmNsZXNbMyplKzJdO2EucHVzaCh7a2V5OnRoaXMuY2lyY2xlS2V5c1tlXSx4MTp0LW8seTE6aS1vLHgyOnQrbyx5MjppK299KTt9cmV0dXJuIG4/YS5maWx0ZXIobik6YX1yZXR1cm4gdGhpcy5fZm9yRWFjaENlbGwoZSx0LGksbyx0aGlzLl9xdWVyeUNlbGwsYSx7aGl0VGVzdDpyLHNlZW5VaWRzOntib3g6e30sY2lyY2xlOnt9fX0sbikscj9hLmxlbmd0aD4wOmF9X3F1ZXJ5Q2lyY2xlKGUsdCxpLG8scil7Y29uc3Qgbj1lLWksYT1lK2kscz10LWksbD10K2k7aWYoYTwwfHxuPnRoaXMud2lkdGh8fGw8MHx8cz50aGlzLmhlaWdodClyZXR1cm4gIW8mJltdO2NvbnN0IGM9W107cmV0dXJuIHRoaXMuX2ZvckVhY2hDZWxsKG4scyxhLGwsdGhpcy5fcXVlcnlDZWxsQ2lyY2xlLGMse2hpdFRlc3Q6byxjaXJjbGU6e3g6ZSx5OnQscmFkaXVzOml9LHNlZW5VaWRzOntib3g6e30sY2lyY2xlOnt9fX0sciksbz9jLmxlbmd0aD4wOmN9cXVlcnkoZSx0LGksbyxyKXtyZXR1cm4gdGhpcy5fcXVlcnkoZSx0LGksbywhMSxyKX1oaXRUZXN0KGUsdCxpLG8scil7cmV0dXJuIHRoaXMuX3F1ZXJ5KGUsdCxpLG8sITAscil9aGl0VGVzdENpcmNsZShlLHQsaSxvKXtyZXR1cm4gdGhpcy5fcXVlcnlDaXJjbGUoZSx0LGksITAsbyl9X3F1ZXJ5Q2VsbChlLHQsaSxvLHIsbixhLHMpe2NvbnN0IGw9YS5zZWVuVWlkcyxjPXRoaXMuYm94Q2VsbHNbcl07aWYobnVsbCE9PWMpe2NvbnN0IHI9dGhpcy5iYm94ZXM7Zm9yKGNvbnN0IGggb2YgYylpZighbC5ib3hbaF0pe2wuYm94W2hdPSEwO2NvbnN0IGM9NCpoO2lmKGU8PXJbYysyXSYmdDw9cltjKzNdJiZpPj1yW2MrMF0mJm8+PXJbYysxXSYmKCFzfHxzKHRoaXMuYm94S2V5c1toXSkpKXtpZihhLmhpdFRlc3QpcmV0dXJuIG4ucHVzaCghMCksITA7bi5wdXNoKHtrZXk6dGhpcy5ib3hLZXlzW2hdLHgxOnJbY10seTE6cltjKzFdLHgyOnJbYysyXSx5MjpyW2MrM119KTt9fX1jb25zdCBoPXRoaXMuY2lyY2xlQ2VsbHNbcl07aWYobnVsbCE9PWgpe2NvbnN0IHI9dGhpcy5jaXJjbGVzO2Zvcihjb25zdCBjIG9mIGgpaWYoIWwuY2lyY2xlW2NdKXtsLmNpcmNsZVtjXT0hMDtjb25zdCBoPTMqYztpZih0aGlzLl9jaXJjbGVBbmRSZWN0Q29sbGlkZShyW2hdLHJbaCsxXSxyW2grMl0sZSx0LGksbykmJighc3x8cyh0aGlzLmNpcmNsZUtleXNbY10pKSl7aWYoYS5oaXRUZXN0KXJldHVybiBuLnB1c2goITApLCEwO3tjb25zdCBlPXJbaF0sdD1yW2grMV0saT1yW2grMl07bi5wdXNoKHtrZXk6dGhpcy5jaXJjbGVLZXlzW2NdLHgxOmUtaSx5MTp0LWkseDI6ZStpLHkyOnQraX0pO319fX19X3F1ZXJ5Q2VsbENpcmNsZShlLHQsaSxvLHIsbixhLHMpe2NvbnN0IGw9YS5jaXJjbGUsYz1hLnNlZW5VaWRzLGg9dGhpcy5ib3hDZWxsc1tyXTtpZihudWxsIT09aCl7Y29uc3QgZT10aGlzLmJib3hlcztmb3IoY29uc3QgdCBvZiBoKWlmKCFjLmJveFt0XSl7Yy5ib3hbdF09ITA7Y29uc3QgaT00KnQ7aWYodGhpcy5fY2lyY2xlQW5kUmVjdENvbGxpZGUobC54LGwueSxsLnJhZGl1cyxlW2krMF0sZVtpKzFdLGVbaSsyXSxlW2krM10pJiYoIXN8fHModGhpcy5ib3hLZXlzW3RdKSkpcmV0dXJuIG4ucHVzaCghMCksITB9fWNvbnN0IF89dGhpcy5jaXJjbGVDZWxsc1tyXTtpZihudWxsIT09Xyl7Y29uc3QgZT10aGlzLmNpcmNsZXM7Zm9yKGNvbnN0IHQgb2YgXylpZighYy5jaXJjbGVbdF0pe2MuY2lyY2xlW3RdPSEwO2NvbnN0IGk9Myp0O2lmKHRoaXMuX2NpcmNsZXNDb2xsaWRlKGVbaV0sZVtpKzFdLGVbaSsyXSxsLngsbC55LGwucmFkaXVzKSYmKCFzfHxzKHRoaXMuY2lyY2xlS2V5c1t0XSkpKXJldHVybiBuLnB1c2goITApLCEwfX19X2ZvckVhY2hDZWxsKGUsdCxpLG8scixuLGEscyl7Y29uc3QgbD10aGlzLl9jb252ZXJ0VG9YQ2VsbENvb3JkKGUpLGM9dGhpcy5fY29udmVydFRvWUNlbGxDb29yZCh0KSxoPXRoaXMuX2NvbnZlcnRUb1hDZWxsQ29vcmQoaSksXz10aGlzLl9jb252ZXJ0VG9ZQ2VsbENvb3JkKG8pO2ZvcihsZXQgdT1sO3U8PWg7dSsrKWZvcihsZXQgbD1jO2w8PV87bCsrKWlmKHIuY2FsbCh0aGlzLGUsdCxpLG8sdGhpcy54Q2VsbENvdW50KmwrdSxuLGEscykpcmV0dXJufV9jb252ZXJ0VG9YQ2VsbENvb3JkKGUpe3JldHVybiBNYXRoLm1heCgwLE1hdGgubWluKHRoaXMueENlbGxDb3VudC0xLE1hdGguZmxvb3IoZSp0aGlzLnhTY2FsZSkpKX1fY29udmVydFRvWUNlbGxDb29yZChlKXtyZXR1cm4gTWF0aC5tYXgoMCxNYXRoLm1pbih0aGlzLnlDZWxsQ291bnQtMSxNYXRoLmZsb29yKGUqdGhpcy55U2NhbGUpKSl9X2NpcmNsZXNDb2xsaWRlKGUsdCxpLG8scixuKXtjb25zdCBhPW8tZSxzPXItdCxsPWkrbjtyZXR1cm4gbCpsPmEqYStzKnN9X2NpcmNsZUFuZFJlY3RDb2xsaWRlKGUsdCxpLG8scixuLGEpe2NvbnN0IHM9KG4tbykvMixsPU1hdGguYWJzKGUtKG8rcykpO2lmKGw+cytpKXJldHVybiAhMTtjb25zdCBjPShhLXIpLzIsaD1NYXRoLmFicyh0LShyK2MpKTtpZihoPmMraSlyZXR1cm4gITE7aWYobDw9c3x8aDw9YylyZXR1cm4gITA7Y29uc3QgXz1sLXMsdT1oLWM7cmV0dXJuIF8qXyt1KnU8PWkqaX19Y29uc3QgZXQ9TWF0aC50YW4oODUqTWF0aC5QSS8xODApO2Z1bmN0aW9uIHR0KHQsaSxvLHIsbixhLHMpe2NvbnN0IGw9ZS5jcmVhdGUoKTtpZihvKWlmKFwiZ2xvYmVcIj09PWEubmFtZSl7Y29uc3QgdD1lLmNhbGN1bGF0ZUdsb2JlTGFiZWxNYXRyaXgobixpKTtlLm11bHRpcGx5KGwsbCx0KTt9ZWxzZSB7Y29uc3QgdD12KFtdLHMpO2xbMF09dFswXSxsWzFdPXRbMV0sbFs0XT10WzJdLGxbNV09dFszXSxyfHxlLnJvdGF0ZVoobCxsLG4uYW5nbGUpO31lbHNlIGUubXVsdGlwbHkobCxuLmxhYmVsUGxhbmVNYXRyaXgsdCk7cmV0dXJuIGx9ZnVuY3Rpb24gaXQoZSx0LGksbyxyLG4sYSl7Y29uc3Qgcz10dChlLHQsaSxvLHIsbixhKTtyZXR1cm4gXCJnbG9iZVwiPT09bi5uYW1lJiZpfHwoc1syXT1zWzZdPXNbMTBdPXNbMTRdPTApLHN9ZnVuY3Rpb24gb3QodCxpLG8scixuLGEscyl7aWYobyl7aWYoXCJnbG9iZVwiPT09YS5uYW1lKXtjb25zdCBsPXR0KHQsaSxvLHIsbixhLHMpO3JldHVybiBlLmludmVydChsLGwpLGUubXVsdGlwbHkobCx0LGwpLGx9e2NvbnN0IGk9ZS5jbG9uZSh0KSxvPWUuaWRlbnRpdHkoW10pO3JldHVybiBvWzBdPXNbMF0sb1sxXT1zWzFdLG9bNF09c1syXSxvWzVdPXNbM10sZS5tdWx0aXBseShpLGksbykscnx8ZS5yb3RhdGVaKGksaSwtbi5hbmdsZSksaX19cmV0dXJuIG4uZ2xDb29yZE1hdHJpeH1mdW5jdGlvbiBydCh0LGksbz0wKXtjb25zdCByPVt0LngsdC55LG8sMV07bz9lLnRyYW5zZm9ybU1hdDQkMShyLHIsaSk6Z3QocixyLGkpO2NvbnN0IG49clszXTtyZXR1cm4ge3BvaW50OltyWzBdL24sclsxXS9uLHJbMl0vbl0sc2lnbmVkRGlzdGFuY2VGcm9tQ2FtZXJhOm59fWZ1bmN0aW9uIG50KHQsaSl7Y29uc3Qgbz1bdFswXSx0WzFdLHRbMl0sMV07ZS50cmFuc2Zvcm1NYXQ0JDEobyxvLGkpO2NvbnN0IHI9b1szXTtyZXR1cm4ge3BvaW50OltvWzBdL3Isb1sxXS9yLG9bMl0vcl0sc2lnbmVkRGlzdGFuY2VGcm9tQ2FtZXJhOnJ9fWZ1bmN0aW9uIGF0KGUsdCl7cmV0dXJuIE1hdGgubWluKC41K2UvdCouNSwxLjUpfWZ1bmN0aW9uIHN0KGUsdCl7Y29uc3QgaT1lWzBdL2VbM10sbz1lWzFdL2VbM107cmV0dXJuIGk+PS10WzBdJiZpPD10WzBdJiZvPj0tdFsxXSYmbzw9dFsxXX1mdW5jdGlvbiBsdCh0LGksbyxyLG4sYSxzLGwsYyxoKXtjb25zdCBfPW8udHJhbnNmb3JtLHU9cj90LnRleHRTaXplRGF0YTp0Lmljb25TaXplRGF0YSxkPWUuZXZhbHVhdGVTaXplRm9yWm9vbSh1LG8udHJhbnNmb3JtLnpvb20pLHA9XCJnbG9iZVwiPT09Xy5wcm9qZWN0aW9uLm5hbWUsbT1bMjU2L28ud2lkdGgqMisxLDI1Ni9vLmhlaWdodCoyKzFdLGY9cj90LnRleHQuZHluYW1pY0xheW91dFZlcnRleEFycmF5OnQuaWNvbi5keW5hbWljTGF5b3V0VmVydGV4QXJyYXk7Zi5jbGVhcigpO2xldCBnPW51bGw7cCYmKGc9cj90LnRleHQuZ2xvYmVFeHRWZXJ0ZXhBcnJheTp0Lmljb24uZ2xvYmVFeHRWZXJ0ZXhBcnJheSk7Y29uc3Qgdj10LmxpbmVWZXJ0ZXhBcnJheSx4PXI/dC50ZXh0LnBsYWNlZFN5bWJvbEFycmF5OnQuaWNvbi5wbGFjZWRTeW1ib2xBcnJheSx5PW8udHJhbnNmb3JtLndpZHRoL28udHJhbnNmb3JtLmhlaWdodDtsZXQgYj0hMTtmb3IobGV0IHI9MDtyPHgubGVuZ3RoO3IrKyl7Y29uc3QgcD14LmdldChyKTtpZihwLndyaXRpbmdNb2RlIT09ZS5Xcml0aW5nTW9kZS52ZXJ0aWNhbHx8Ynx8MCE9PXImJnguZ2V0KHItMSkud3JpdGluZ01vZGU9PT1lLldyaXRpbmdNb2RlLmhvcml6b250YWx8fChiPSEwKSwocC5oaWRkZW58fHAud3JpdGluZ01vZGU9PT1lLldyaXRpbmdNb2RlLnZlcnRpY2FsKSYmIWIpe2Z0KHAubnVtR2x5cGhzLGYpO2NvbnRpbnVlfWI9ITE7Y29uc3Qgdz1uZXcgZS5wb2ludEdlb21ldHJ5KHAudGlsZUFuY2hvclgscC50aWxlQW5jaG9yWSksVD1jP2Modyk6WzAsMCwwXSxFPV8ucHJvamVjdGlvbi5wcm9qZWN0VGlsZVBvaW50KHcueCx3LnksaC5jYW5vbmljYWwpLEM9W0UueCtUWzBdLEUueStUWzFdLEUueitUWzJdXSxJPVsuLi5DLDFdO2lmKGUudHJhbnNmb3JtTWF0NCQxKEksSSxpKSwhc3QoSSxtKSl7ZnQocC5udW1HbHlwaHMsZik7Y29udGludWV9Y29uc3QgTT1hdChvLnRyYW5zZm9ybS5jYW1lcmFUb0NlbnRlckRpc3RhbmNlLElbM10pLFM9ZS5ldmFsdWF0ZVNpemVGb3JGZWF0dXJlKHUsZCxwKSx6PXM/Uy9NOlMqTSxEPXJ0KG5ldyBlLnBvaW50R2VvbWV0cnkoQ1swXSxDWzFdKSxuLENbMl0pO2lmKEQuc2lnbmVkRGlzdGFuY2VGcm9tQ2FtZXJhPD0wKXtmdChwLm51bUdseXBocyxmKTtjb250aW51ZX1sZXQgQT17fTtjb25zdCBQPXM/bnVsbDpjLEw9X3QocCx6LCExLGwsaSxuLGEsdC5nbHlwaE9mZnNldEFycmF5LHYsZixnLEQucG9pbnQsdyxBLHksUCxfLnByb2plY3Rpb24saCxzKTtiPUwudXNlVmVydGljYWwsUCYmTC5uZWVkc0ZsaXBwaW5nJiYoQT17fSksKEwubm90RW5vdWdoUm9vbXx8Ynx8TC5uZWVkc0ZsaXBwaW5nJiZfdChwLHosITAsbCxpLG4sYSx0LmdseXBoT2Zmc2V0QXJyYXksdixmLGcsRC5wb2ludCx3LEEseSxQLF8ucHJvamVjdGlvbixoLHMpLm5vdEVub3VnaFJvb20pJiZmdChwLm51bUdseXBocyxmKTt9cj8odC50ZXh0LmR5bmFtaWNMYXlvdXRWZXJ0ZXhCdWZmZXIudXBkYXRlRGF0YShmKSxnJiZ0LnRleHQuZ2xvYmVFeHRWZXJ0ZXhCdWZmZXIudXBkYXRlRGF0YShnKSk6KHQuaWNvbi5keW5hbWljTGF5b3V0VmVydGV4QnVmZmVyLnVwZGF0ZURhdGEoZiksZyYmdC5pY29uLmdsb2JlRXh0VmVydGV4QnVmZmVyLnVwZGF0ZURhdGEoZykpO31mdW5jdGlvbiBjdChlLHQsaSxvLHIsbixhLHMsbCxjLGgsXyx1LGQscCxtKXtjb25zdCBmPXMuZ2x5cGhTdGFydEluZGV4K3MubnVtR2x5cGhzLGc9cy5saW5lU3RhcnRJbmRleCx2PXMubGluZVN0YXJ0SW5kZXgrcy5saW5lTGVuZ3RoLHg9dC5nZXRvZmZzZXRYKHMuZ2x5cGhTdGFydEluZGV4KSx5PXQuZ2V0b2Zmc2V0WChmLTEpLGI9cHQoZSp4LGksbyxyLG4sYSxzLnNlZ21lbnQsZyx2LGwsYyxoLF8sdSwhMCxkLHAsbSk7aWYoIWIpcmV0dXJuIG51bGw7Y29uc3Qgdz1wdChlKnksaSxvLHIsbixhLHMuc2VnbWVudCxnLHYsbCxjLGgsXyx1LCEwLGQscCxtKTtyZXR1cm4gdz97Zmlyc3Q6YixsYXN0Ond9Om51bGx9ZnVuY3Rpb24gaHQodCxpLG8scil7cmV0dXJuIHQud3JpdGluZ01vZGU9PT1lLldyaXRpbmdNb2RlLmhvcml6b250YWwmJk1hdGguYWJzKG8ueS1pLnkpPk1hdGguYWJzKG8ueC1pLngpKnI/e3VzZVZlcnRpY2FsOiEwfTp0LndyaXRpbmdNb2RlPT09ZS5Xcml0aW5nTW9kZS52ZXJ0aWNhbD9pLnk8by55P3tuZWVkc0ZsaXBwaW5nOiEwfTpudWxsOjAhPT10LmZsaXBTdGF0ZSYmZnVuY3Rpb24oZSx0LGkpe2NvbnN0IG89KHQueC1lLngpKmk7cmV0dXJuIDA9PT1vfHxNYXRoLmFicygodC55LWUueSkvbyk+ZXR9KGksbyxyKT8xPT09dC5mbGlwU3RhdGU/e25lZWRzRmxpcHBpbmc6ITB9Om51bGw6aS54Pm8ueD97bmVlZHNGbGlwcGluZzohMH06bnVsbH1mdW5jdGlvbiBfdCh0LGksbyxyLG4sYSxzLGwsYyxoLF8sdSxkLHAsbSxmLGcsdix4KXtjb25zdCB5PWkvMjQsYj10LmxpbmVPZmZzZXRYKnksdz10LmxpbmVPZmZzZXRZKnk7bGV0IFQ9W107aWYodC5udW1HbHlwaHM+MSl7Y29uc3QgaT10LmdseXBoU3RhcnRJbmRleCt0Lm51bUdseXBocyxuPXQubGluZVN0YXJ0SW5kZXgsaD10LmxpbmVTdGFydEluZGV4K3QubGluZUxlbmd0aCxfPWN0KHksbCxiLHcsbyx1LGQsdCxjLGEscCxmLCExLGcsdix4KTtpZighXylyZXR1cm4ge25vdEVub3VnaFJvb206ITB9O2NvbnN0IEU9bnQoXy5maXJzdC5wb2ludCxzKS5wb2ludCxDPW50KF8ubGFzdC5wb2ludCxzKS5wb2ludCxJPW5ldyBlLnBvaW50R2VvbWV0cnkoRVswXSxFWzFdKSxNPW5ldyBlLnBvaW50R2VvbWV0cnkoQ1swXSxDWzFdKTtpZihyJiYhbyl7Y29uc3QgZT1odCh0LEksTSxtKTtpZih0LmZsaXBTdGF0ZT1lJiZlLm5lZWRzRmxpcHBpbmc/MToyLGUpcmV0dXJuIGV9VD1bXy5maXJzdF07Zm9yKGxldCBlPXQuZ2x5cGhTdGFydEluZGV4KzE7ZTxpLTE7ZSsrKXtjb25zdCBpPXB0KHkqbC5nZXRvZmZzZXRYKGUpLGIsdyxvLHUsZCx0LnNlZ21lbnQsbixoLGMsYSxwLGYsITEsITEsZyx2LHgpO2lmKCFpKXJldHVybiB7bm90RW5vdWdoUm9vbTohMH07VC5wdXNoKGkpO31ULnB1c2goXy5sYXN0KTt9ZWxzZSB7aWYociYmIW8pe2NvbnN0IGk9cnQoZCxuKS5wb2ludCxvPXQubGluZVN0YXJ0SW5kZXgrdC5zZWdtZW50KzEscj1uZXcgZS5wb2ludEdlb21ldHJ5KGMuZ2V0eChvKSxjLmdldHkobykpLGE9cnQocixuKSxzPWEuc2lnbmVkRGlzdGFuY2VGcm9tQ2FtZXJhPjA/YS5wb2ludDpkdChkLHIsaSwxLG4sdm9pZCAwLGcsdi5jYW5vbmljYWwpLGw9aHQodCxuZXcgZS5wb2ludEdlb21ldHJ5KGlbMF0saVsxXSksbmV3IGUucG9pbnRHZW9tZXRyeShzWzBdLHNbMV0pLG0pO2lmKHQuZmxpcFN0YXRlPWwmJmwubmVlZHNGbGlwcGluZz8xOjIsbClyZXR1cm4gbH1jb25zdCBpPXB0KHkqbC5nZXRvZmZzZXRYKHQuZ2x5cGhTdGFydEluZGV4KSxiLHcsbyx1LGQsdC5zZWdtZW50LHQubGluZVN0YXJ0SW5kZXgsdC5saW5lU3RhcnRJbmRleCt0LmxpbmVMZW5ndGgsYyxhLHAsZiwhMSwhMSxnLHYseCk7aWYoIWkpcmV0dXJuIHtub3RFbm91Z2hSb29tOiEwfTtUPVtpXTt9aWYoXylmb3IoY29uc3QgdCBvZiBUKWUudXBkYXRlR2xvYmVWZXJ0ZXhOb3JtYWwoXyxoLmxlbmd0aCswLHQudXBbMF0sdC51cFsxXSx0LnVwWzJdKSxlLnVwZGF0ZUdsb2JlVmVydGV4Tm9ybWFsKF8saC5sZW5ndGgrMSx0LnVwWzBdLHQudXBbMV0sdC51cFsyXSksZS51cGRhdGVHbG9iZVZlcnRleE5vcm1hbChfLGgubGVuZ3RoKzIsdC51cFswXSx0LnVwWzFdLHQudXBbMl0pLGUudXBkYXRlR2xvYmVWZXJ0ZXhOb3JtYWwoXyxoLmxlbmd0aCszLHQudXBbMF0sdC51cFsxXSx0LnVwWzJdKSxlLmFkZER5bmFtaWNBdHRyaWJ1dGVzKGgsdC5wb2ludFswXSx0LnBvaW50WzFdLHQucG9pbnRbMl0sdC5hbmdsZSk7ZWxzZSBmb3IoY29uc3QgdCBvZiBUKWUuYWRkRHluYW1pY0F0dHJpYnV0ZXMoaCx0LnBvaW50WzBdLHQucG9pbnRbMV0sdC5wb2ludFsyXSx0LmFuZ2xlKTtyZXR1cm4ge319ZnVuY3Rpb24gdXQodCxpLG8scixuKXtjb25zdCBhPXIucHJvamVjdFRpbGVQb2ludCh0LngsdC55LGkpO2lmKCFuKXJldHVybiBydChhLG8sYS56KTtjb25zdCBzPW4odCk7cmV0dXJuIHJ0KG5ldyBlLnBvaW50R2VvbWV0cnkoYS54K3NbMF0sYS55K3NbMV0pLG8sYS56K3NbMl0pfWZ1bmN0aW9uIGR0KHQsaSxvLHIsbixhLHMsbCl7Y29uc3QgYz11dCh0LmFkZCh0LnN1YihpKS5fdW5pdCgpKSxsLG4scyxhKS5wb2ludCxoPWUuc3ViKFtdLG8sYyk7cmV0dXJuIGUuc2NhbGVBbmRBZGQoW10sbyxoLHIvZS5sZW5ndGgoaCkpfWZ1bmN0aW9uIHB0KHQsaSxvLHIsbixhLHMsbCxjLGgsXyx1LGQscCxtLGYsZyx2KXtjb25zdCB4PXI/dC1pOnQraTtsZXQgeT14PjA/MTotMSxiPTA7ciYmKHkqPS0xLGI9TWF0aC5QSSkseTwwJiYoYis9TWF0aC5QSSk7bGV0IHc9eT4wP2wrczpsK3MrMSxUPW4sRT1uLEM9MCxJPTA7Y29uc3QgTT1NYXRoLmFicyh4KSxTPVtdLHo9W107bGV0IEQ9YTtjb25zdCBBPSgpPT57Y29uc3QgdD13LXk7cmV0dXJuIDA9PT1DP2E6bmV3IGUucG9pbnRHZW9tZXRyeShoLmdldHgodCksaC5nZXR5KHQpKX0sUD0oKT0+e2NvbnN0IGU9QSgpO3JldHVybiBkdChlLER8fGUsRSxNLUMrMSxfLGQsZixnLmNhbm9uaWNhbCl9O2Zvcig7QytJPD1NOyl7aWYodys9eSx3PGx8fHc+PWMpcmV0dXJuIG51bGw7aWYoRT1ULFMucHVzaChUKSxwJiZ6LnB1c2goRHx8QSgpKSxUPXVbd10sdm9pZCAwPT09VCl7RD1uZXcgZS5wb2ludEdlb21ldHJ5KGguZ2V0eCh3KSxoLmdldHkodykpO2NvbnN0IHQ9dXQoRCxnLmNhbm9uaWNhbCxfLGYsZCk7VD10LnNpZ25lZERpc3RhbmNlRnJvbUNhbWVyYT4wP3Vbd109dC5wb2ludDpQKCk7fWVsc2UgRD1udWxsO0MrPUksST1lLmRpc3RhbmNlKEUsVCk7fUQ9RHx8bmV3IGUucG9pbnRHZW9tZXRyeShoLmdldHgodyksaC5nZXR5KHcpKTtjb25zdCBMPUEoKTttJiZkJiYodVt3XT1UPXZvaWQgMD09PXVbd10/VDpQKCksST1lLmRpc3RhbmNlKEUsVCkpO2NvbnN0IFI9KE0tQykvSSxPPUQuc3ViKEwpLm11bHQoUikuX2FkZChMKSxCPWUuc3ViKFtdLFQsRSksaz1lLnNjYWxlQW5kQWRkKFtdLEUsQixSKTtsZXQgRj1bMCwwLDFdLFU9QlswXSxOPUJbMV07aWYodiYmKEY9Zi51cFZlY3RvcihnLmNhbm9uaWNhbCxPLngsTy55KSwwIT09RlswXXx8MCE9PUZbMV18fDEhPT1GWzJdKSl7Y29uc3QgdD1bMSwwLDBdLGk9WzAsMSwwXTt0WzBdPUZbMl0sdFsxXT0wLHRbMl09LUZbMF0sZS5jcm9zcyhpLEYsdCksZS5ub3JtYWxpemUodCx0KSxlLm5vcm1hbGl6ZShpLGkpLFU9ZS5kb3QoQix0KSxOPWUuZG90KEIsaSk7fWlmKG8pe2NvbnN0IHQ9ZS5jcm9zcyhbXSxGLEIpO2Uubm9ybWFsaXplKHQsdCksZS5zY2FsZUFuZEFkZChrLGssdCxvKnkpO31jb25zdCBHPWIrTWF0aC5hdGFuMihOLFUpO3JldHVybiBTLnB1c2goaykscCYmei5wdXNoKE8pLHtwb2ludDprLGFuZ2xlOkcscGF0aDpTLHRpbGVQYXRoOnosdXA6Rn19Y29uc3QgbXQ9bmV3IEZsb2F0MzJBcnJheShbLTEvMCwtMS8wLDAsLTEvMCwtMS8wLDAsLTEvMCwtMS8wLDAsLTEvMCwtMS8wLDAsLTEvMCwtMS8wLDBdKTtmdW5jdGlvbiBmdChlLHQpe2ZvcihsZXQgaT0wO2k8ZTtpKyspe2NvbnN0IGU9dC5sZW5ndGg7dC5yZXNpemUoZSs0KSx0LmZsb2F0MzIuc2V0KG10LDQqZSk7fX1mdW5jdGlvbiBndChlLHQsaSl7Y29uc3Qgbz10WzBdLHI9dFsxXTtyZXR1cm4gZVswXT1pWzBdKm8raVs0XSpyK2lbMTJdLGVbMV09aVsxXSpvK2lbNV0qcitpWzEzXSxlWzNdPWlbM10qbytpWzddKnIraVsxNV0sZX1jb25zdCB2dD0xMDA7Y2xhc3MgeHR7Y29uc3RydWN0b3IoZSx0LGk9bmV3IFFlKGUud2lkdGgrMjAwLGUuaGVpZ2h0KzIwMCwyNSksbz1uZXcgUWUoZS53aWR0aCsyMDAsZS5oZWlnaHQrMjAwLDI1KSl7dGhpcy50cmFuc2Zvcm09ZSx0aGlzLmdyaWQ9aSx0aGlzLmlnbm9yZWRHcmlkPW8sdGhpcy5waXRjaGZhY3Rvcj1NYXRoLmNvcyhlLl9waXRjaCkqZS5jYW1lcmFUb0NlbnRlckRpc3RhbmNlLHRoaXMuc2NyZWVuUmlnaHRCb3VuZGFyeT1lLndpZHRoK3Z0LHRoaXMuc2NyZWVuQm90dG9tQm91bmRhcnk9ZS5oZWlnaHQrdnQsdGhpcy5ncmlkUmlnaHRCb3VuZGFyeT1lLndpZHRoKzIwMCx0aGlzLmdyaWRCb3R0b21Cb3VuZGFyeT1lLmhlaWdodCsyMDAsdGhpcy5mb2dTdGF0ZT10O31wbGFjZUNvbGxpc2lvbkJveChlLHQsaSxvLHIsbixhLHMpe2xldCBsPWkucHJvamVjdGVkQW5jaG9yWCxjPWkucHJvamVjdGVkQW5jaG9yWSxoPWkucHJvamVjdGVkQW5jaG9yWjtjb25zdCBfPWkuZWxldmF0aW9uLHU9aS50aWxlSUQ7aWYoXyYmdSl7Y29uc3QgdD1lLmdldFByb2plY3Rpb24oKS51cFZlY3Rvcih1LmNhbm9uaWNhbCxpLnRpbGVBbmNob3JYLGkudGlsZUFuY2hvclkpLG89ZS5nZXRQcm9qZWN0aW9uKCkudXBWZWN0b3JTY2FsZSh1LmNhbm9uaWNhbCx0aGlzLnRyYW5zZm9ybS5jZW50ZXIubGF0LHRoaXMudHJhbnNmb3JtLndvcmxkU2l6ZSkubWV0ZXJzVG9UaWxlO2wrPXRbMF0qXypvLGMrPXRbMV0qXypvLGgrPXRbMl0qXypvO31jb25zdCBkPXRoaXMucHJvamVjdEFuZEdldFBlcnNwZWN0aXZlUmF0aW8oYSxbbCxjLGhdLGkudGlsZUlELFwiZ2xvYmVcIj09PWUucHJvamVjdGlvbi5uYW1lfHwhIV98fHRoaXMudHJhbnNmb3JtLnBpdGNoPjAsZS5nZXRQcm9qZWN0aW9uKCkpLHA9bipkLnBlcnNwZWN0aXZlUmF0aW8sbT0oaS54MSp0K28ueC1pLnBhZGRpbmcpKnArZC5wb2ludC54LGY9KGkueTEqdCtvLnktaS5wYWRkaW5nKSpwK2QucG9pbnQueSxnPShpLngyKnQrby54K2kucGFkZGluZykqcCtkLnBvaW50Lngsdj0oaS55Mip0K28ueStpLnBhZGRpbmcpKnArZC5wb2ludC55LHg9ZC5wZXJzcGVjdGl2ZVJhdGlvPD0uNTV8fGQub2NjbHVkZWQ7cmV0dXJuICF0aGlzLmlzSW5zaWRlR3JpZChtLGYsZyx2KXx8IXImJnRoaXMuZ3JpZC5oaXRUZXN0KG0sZixnLHYscyl8fHg/e2JveDpbXSxvZmZzY3JlZW46ITEsb2NjbHVkZWQ6ZC5vY2NsdWRlZH06e2JveDpbbSxmLGcsdl0sb2Zmc2NyZWVuOnRoaXMuaXNPZmZzY3JlZW4obSxmLGcsdiksb2NjbHVkZWQ6ITF9fXBsYWNlQ29sbGlzaW9uQ2lyY2xlcyh0LGksbyxyLG4sYSxzLGwsYyxoLF8sdSxkLHAsbSl7Y29uc3QgZj1bXSxnPXRoaXMudHJhbnNmb3JtLmVsZXZhdGlvbix2PWc/Zy5nZXRBdFRpbGVPZmZzZXRGdW5jKG0sdGhpcy50cmFuc2Zvcm0uY2VudGVyLmxhdCx0aGlzLnRyYW5zZm9ybS53b3JsZFNpemUsdC5nZXRQcm9qZWN0aW9uKCkpOmU9PlswLDAsMF0seD1uZXcgZS5wb2ludEdlb21ldHJ5KG8udGlsZUFuY2hvclgsby50aWxlQW5jaG9yWSkseT10LmdldFByb2plY3Rpb24oKS5wcm9qZWN0VGlsZVBvaW50KG8udGlsZUFuY2hvclgsby50aWxlQW5jaG9yWSxtLmNhbm9uaWNhbCksYj12KHgpLHc9W3kueCtiWzBdLHkueStiWzFdLHkueitiWzJdXSxUPVwiZ2xvYmVcIj09PXQucHJvamVjdGlvbi5uYW1lLEU9dGhpcy5wcm9qZWN0QW5kR2V0UGVyc3BlY3RpdmVSYXRpbyhzLFt3WzBdLHdbMV0sd1syXV0sbSxUfHwhIWd8fHRoaXMudHJhbnNmb3JtLnBpdGNoPjAsdC5nZXRQcm9qZWN0aW9uKCkpLHtwZXJzcGVjdGl2ZVJhdGlvOkN9PUUsST0oXz9hL0M6YSpDKS9lLk9ORV9FTSxNPXJ0KG5ldyBlLnBvaW50R2VvbWV0cnkod1swXSx3WzFdKSxsLHdbMl0pLnBvaW50LFM9RS5zaWduZWREaXN0YW5jZUZyb21DYW1lcmE+MD9jdChJLG4sby5saW5lT2Zmc2V0WCpJLG8ubGluZU9mZnNldFkqSSwhMSxNLHgsbyxyLGwse30sZyYmIV8/djpudWxsLF8mJiEhZyx0LmdldFByb2plY3Rpb24oKSxtLF8pOm51bGw7bGV0IHo9ITEsRD0hMSxBPSEwO2lmKFMmJiFFLm9jY2x1ZGVkKXtjb25zdCB0PS41KmQqQytwLG89bmV3IGUucG9pbnRHZW9tZXRyeSgtMTAwLC0xMDApLHI9bmV3IGUucG9pbnRHZW9tZXRyeSh0aGlzLnNjcmVlblJpZ2h0Qm91bmRhcnksdGhpcy5zY3JlZW5Cb3R0b21Cb3VuZGFyeSksbj1uZXcgSmUsYT1TLmZpcnN0LHM9Uy5sYXN0O2xldCBsPVtdO2ZvcihsZXQgZT1hLnBhdGgubGVuZ3RoLTE7ZT49MTtlLS0pbC5wdXNoKGEucGF0aFtlXSk7Zm9yKGxldCBlPTE7ZTxzLnBhdGgubGVuZ3RoO2UrKylsLnB1c2gocy5wYXRoW2VdKTtjb25zdCBfPTIuNSp0O2lmKGMpe2NvbnN0IGU9bC5tYXAoZyYmIVQ/KGUsdCk9Pntjb25zdCBpPXYodDxhLnBhdGgubGVuZ3RoLTE/YS50aWxlUGF0aFthLnBhdGgubGVuZ3RoLTEtdF06cy50aWxlUGF0aFt0LWEucGF0aC5sZW5ndGgrMl0pO3JldHVybiBlWzJdPWlbMl0sbnQoZSxjKX06ZT0+bnQoZSxjKSk7bD1lLnNvbWUoKGU9PmUuc2lnbmVkRGlzdGFuY2VGcm9tQ2FtZXJhPD0wKSk/W106ZS5tYXAoKGU9PmUucG9pbnQpKTt9bGV0IG09W107aWYobC5sZW5ndGg+MCl7Y29uc3QgdD1sLm1hcCgodD0+bmV3IGUucG9pbnRHZW9tZXRyeSh0WzBdLHRbMV0pKSk7bGV0IGk9MS8wLG49LTEvMCxhPTEvMCxzPS0xLzA7Zm9yKGxldCBlPTA7ZTx0Lmxlbmd0aDtlKyspaT1NYXRoLm1pbihpLHRbZV0ueCksYT1NYXRoLm1pbihhLHRbZV0ueSksbj1NYXRoLm1heChuLHRbZV0ueCkscz1NYXRoLm1heChzLHRbZV0ueSk7bT1pPj1vLngmJm48PXIueCYmYT49by55JiZzPD1yLnk/W3RdOm48by54fHxpPnIueHx8czxvLnl8fGE+ci55P1tdOmUuY2xpcExpbmUoW3RdLG8ueCxvLnksci54LHIueSk7fWZvcihjb25zdCBlIG9mIG0pe24ucmVzZXQoZSwuMjUqdCk7bGV0IG89MDtvPW4ubGVuZ3RoPD0uNSp0PzE6TWF0aC5jZWlsKG4ucGFkZGVkTGVuZ3RoL18pKzE7Zm9yKGxldCBlPTA7ZTxvO2UrKyl7Y29uc3Qgcj1lL01hdGgubWF4KG8tMSwxKSxhPW4ubGVycChyKSxzPWEueCt2dCxsPWEueSt2dDtmLnB1c2gocyxsLHQsMCk7Y29uc3QgYz1zLXQsXz1sLXQsZD1zK3QscD1sK3Q7aWYoQT1BJiZ0aGlzLmlzT2Zmc2NyZWVuKGMsXyxkLHApLEQ9RHx8dGhpcy5pc0luc2lkZUdyaWQoYyxfLGQscCksIWkmJnRoaXMuZ3JpZC5oaXRUZXN0Q2lyY2xlKHMsbCx0LHUpJiYoej0hMCwhaCkpcmV0dXJuIHtjaXJjbGVzOltdLG9mZnNjcmVlbjohMSxjb2xsaXNpb25EZXRlY3RlZDp6LG9jY2x1ZGVkOiExfX19fXJldHVybiB7Y2lyY2xlczohaCYmenx8IUQ/W106ZixvZmZzY3JlZW46QSxjb2xsaXNpb25EZXRlY3RlZDp6LG9jY2x1ZGVkOkUub2NjbHVkZWR9fXF1ZXJ5UmVuZGVyZWRTeW1ib2xzKHQpe2lmKDA9PT10Lmxlbmd0aHx8MD09PXRoaXMuZ3JpZC5rZXlzTGVuZ3RoKCkmJjA9PT10aGlzLmlnbm9yZWRHcmlkLmtleXNMZW5ndGgoKSlyZXR1cm4ge307Y29uc3QgaT1bXTtsZXQgbz0xLzAscj0xLzAsbj0tMS8wLGE9LTEvMDtmb3IoY29uc3QgcyBvZiB0KXtjb25zdCB0PW5ldyBlLnBvaW50R2VvbWV0cnkocy54K3Z0LHMueSt2dCk7bz1NYXRoLm1pbihvLHQueCkscj1NYXRoLm1pbihyLHQueSksbj1NYXRoLm1heChuLHQueCksYT1NYXRoLm1heChhLHQueSksaS5wdXNoKHQpO31jb25zdCBzPXRoaXMuZ3JpZC5xdWVyeShvLHIsbixhKS5jb25jYXQodGhpcy5pZ25vcmVkR3JpZC5xdWVyeShvLHIsbixhKSksbD17fSxjPXt9O2Zvcihjb25zdCB0IG9mIHMpe2NvbnN0IG89dC5rZXk7aWYodm9pZCAwPT09bFtvLmJ1Y2tldEluc3RhbmNlSWRdJiYobFtvLmJ1Y2tldEluc3RhbmNlSWRdPXt9KSxsW28uYnVja2V0SW5zdGFuY2VJZF1bby5mZWF0dXJlSW5kZXhdKWNvbnRpbnVlO2NvbnN0IHI9W25ldyBlLnBvaW50R2VvbWV0cnkodC54MSx0LnkxKSxuZXcgZS5wb2ludEdlb21ldHJ5KHQueDIsdC55MSksbmV3IGUucG9pbnRHZW9tZXRyeSh0LngyLHQueTIpLG5ldyBlLnBvaW50R2VvbWV0cnkodC54MSx0LnkyKV07ZS5wb2x5Z29uSW50ZXJzZWN0c1BvbHlnb24oaSxyKSYmKGxbby5idWNrZXRJbnN0YW5jZUlkXVtvLmZlYXR1cmVJbmRleF09ITAsdm9pZCAwPT09Y1tvLmJ1Y2tldEluc3RhbmNlSWRdJiYoY1tvLmJ1Y2tldEluc3RhbmNlSWRdPVtdKSxjW28uYnVja2V0SW5zdGFuY2VJZF0ucHVzaChvLmZlYXR1cmVJbmRleCkpO31yZXR1cm4gY31pbnNlcnRDb2xsaXNpb25Cb3goZSx0LGksbyxyKXsodD90aGlzLmlnbm9yZWRHcmlkOnRoaXMuZ3JpZCkuaW5zZXJ0KHtidWNrZXRJbnN0YW5jZUlkOmksZmVhdHVyZUluZGV4Om8sY29sbGlzaW9uR3JvdXBJRDpyfSxlWzBdLGVbMV0sZVsyXSxlWzNdKTt9aW5zZXJ0Q29sbGlzaW9uQ2lyY2xlcyhlLHQsaSxvLHIpe2NvbnN0IG49dD90aGlzLmlnbm9yZWRHcmlkOnRoaXMuZ3JpZCxhPXtidWNrZXRJbnN0YW5jZUlkOmksZmVhdHVyZUluZGV4Om8sY29sbGlzaW9uR3JvdXBJRDpyfTtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrPTQpbi5pbnNlcnRDaXJjbGUoYSxlW3RdLGVbdCsxXSxlW3QrMl0pO31wcm9qZWN0QW5kR2V0UGVyc3BlY3RpdmVSYXRpbyh0LGksbyxyLG4pe2NvbnN0IGE9W2lbMF0saVsxXSxpWzJdLDFdO2xldCBzPSExO2lmKGlbMl18fHRoaXMudHJhbnNmb3JtLnBpdGNoPjApe2UudHJhbnNmb3JtTWF0NCQxKGEsYSx0KTtjb25zdCByPVwiZ2xvYmVcIj09PW4ubmFtZTt0aGlzLmZvZ1N0YXRlJiZvJiYhciYmKHM9ZnVuY3Rpb24odCxpLG8scixuLGEpe2NvbnN0IHM9YS5jYWxjdWxhdGVGb2dUaWxlTWF0cml4KG4pLGw9W2ksbyxyXTtyZXR1cm4gZS50cmFuc2Zvcm1NYXQ0KGwsbCxzKSxNKHQsbCxhLnBpdGNoLGEuX2Zvdil9KHRoaXMuZm9nU3RhdGUsaVswXSxpWzFdLGlbMl0sby50b1Vud3JhcHBlZCgpLHRoaXMudHJhbnNmb3JtKT4uOSk7fWVsc2UgZ3QoYSxhLHQpO3JldHVybiB7cG9pbnQ6bmV3IGUucG9pbnRHZW9tZXRyeSgoYVswXS9hWzNdKzEpLzIqdGhpcy50cmFuc2Zvcm0ud2lkdGgrdnQsKC1hWzFdL2FbM10rMSkvMip0aGlzLnRyYW5zZm9ybS5oZWlnaHQrdnQpLHBlcnNwZWN0aXZlUmF0aW86TWF0aC5taW4oLjUrdGhpcy50cmFuc2Zvcm0uZ2V0Q2FtZXJhVG9DZW50ZXJEaXN0YW5jZShuKS9hWzNdKi41LDEuNSksc2lnbmVkRGlzdGFuY2VGcm9tQ2FtZXJhOmFbM10sb2NjbHVkZWQ6ciYmYVsyXT5hWzNdfHxzfX1pc09mZnNjcmVlbihlLHQsaSxvKXtyZXR1cm4gaTx2dHx8ZT49dGhpcy5zY3JlZW5SaWdodEJvdW5kYXJ5fHxvPHZ0fHx0PnRoaXMuc2NyZWVuQm90dG9tQm91bmRhcnl9aXNJbnNpZGVHcmlkKGUsdCxpLG8pe3JldHVybiBpPj0wJiZlPHRoaXMuZ3JpZFJpZ2h0Qm91bmRhcnkmJm8+PTAmJnQ8dGhpcy5ncmlkQm90dG9tQm91bmRhcnl9Z2V0Vmlld3BvcnRNYXRyaXgoKXtjb25zdCB0PWUuaWRlbnRpdHkoW10pO3JldHVybiBlLnRyYW5zbGF0ZSh0LHQsWy0xMDAsLTEwMCwwXSksdH19ZnVuY3Rpb24geXQodCxpLG8pe2NvbnN0IHI9aS5jcmVhdGVUaWxlTWF0cml4KHQsdC53b3JsZFNpemUsby50b1Vud3JhcHBlZCgpKTtyZXR1cm4gZS5tdWx0aXBseShuZXcgRmxvYXQzMkFycmF5KDE2KSx0LnByb2pNYXRyaXgscil9ZnVuY3Rpb24gYnQoZSx0LGkpe2lmKHQucHJvamVjdGlvbi5uYW1lPT09aS5wcm9qZWN0aW9uLm5hbWUpcmV0dXJuIGUucHJvak1hdHJpeDtjb25zdCBvPWkuY2xvbmUoKTtyZXR1cm4gby5zZXRQcm9qZWN0aW9uKHQucHJvamVjdGlvbikseXQobyx0LmdldFByb2plY3Rpb24oKSxlKX1mdW5jdGlvbiB3dChlLHQsaSl7cmV0dXJuIHQubmFtZT09PWkucHJvamVjdGlvbi5uYW1lP2UucHJvak1hdHJpeDp5dChpLHQsZSl9Y2xhc3MgVHR7Y29uc3RydWN0b3IoZSx0LGksbyl7dGhpcy5vcGFjaXR5PWU/TWF0aC5tYXgoMCxNYXRoLm1pbigxLGUub3BhY2l0eSsoZS5wbGFjZWQ/dDotdCkpKTpvJiZpPzE6MCx0aGlzLnBsYWNlZD1pO31pc0hpZGRlbigpe3JldHVybiAwPT09dGhpcy5vcGFjaXR5JiYhdGhpcy5wbGFjZWR9fWNsYXNzIEV0e2NvbnN0cnVjdG9yKGUsdCxpLG8scixuPSExKXt0aGlzLnRleHQ9bmV3IFR0KGU/ZS50ZXh0Om51bGwsdCxpLHIpLHRoaXMuaWNvbj1uZXcgVHQoZT9lLmljb246bnVsbCx0LG8sciksdGhpcy5jbGlwcGVkPW47fWlzSGlkZGVuKCl7cmV0dXJuIHRoaXMudGV4dC5pc0hpZGRlbigpJiZ0aGlzLmljb24uaXNIaWRkZW4oKX19Y2xhc3MgQ3R7Y29uc3RydWN0b3IoZSx0LGksbz0hMSl7dGhpcy50ZXh0PWUsdGhpcy5pY29uPXQsdGhpcy5za2lwRmFkZT1pLHRoaXMuY2xpcHBlZD1vO319Y2xhc3MgSXR7Y29uc3RydWN0b3IoKXt0aGlzLmludlByb2pNYXRyaXg9ZS5jcmVhdGUoKSx0aGlzLnZpZXdwb3J0TWF0cml4PWUuY3JlYXRlKCksdGhpcy5jaXJjbGVzPVtdO319Y2xhc3MgTXR7Y29uc3RydWN0b3IoZSx0LGksbyxyKXt0aGlzLmJ1Y2tldEluc3RhbmNlSWQ9ZSx0aGlzLmZlYXR1cmVJbmRleD10LHRoaXMuc291cmNlTGF5ZXJJbmRleD1pLHRoaXMuYnVja2V0SW5kZXg9byx0aGlzLnRpbGVJRD1yO319Y2xhc3MgU3R7Y29uc3RydWN0b3IoZSl7dGhpcy5jcm9zc1NvdXJjZUNvbGxpc2lvbnM9ZSx0aGlzLm1heEdyb3VwSUQ9MCx0aGlzLmNvbGxpc2lvbkdyb3Vwcz17fTt9Z2V0KGUpe2lmKHRoaXMuY3Jvc3NTb3VyY2VDb2xsaXNpb25zKXJldHVybiB7SUQ6MCxwcmVkaWNhdGU6bnVsbH07aWYoIXRoaXMuY29sbGlzaW9uR3JvdXBzW2VdKXtjb25zdCB0PSsrdGhpcy5tYXhHcm91cElEO3RoaXMuY29sbGlzaW9uR3JvdXBzW2VdPXtJRDp0LHByZWRpY2F0ZTplPT5lLmNvbGxpc2lvbkdyb3VwSUQ9PT10fTt9cmV0dXJuIHRoaXMuY29sbGlzaW9uR3JvdXBzW2VdfX1mdW5jdGlvbiB6dCh0LGksbyxyLG4pe2NvbnN0e2hvcml6b250YWxBbGlnbjphLHZlcnRpY2FsQWxpZ246c309ZS5nZXRBbmNob3JBbGlnbm1lbnQodCksbD0tKGEtLjUpKmksYz0tKHMtLjUpKm8saD1lLmV2YWx1YXRlVmFyaWFibGVPZmZzZXQodCxyKTtyZXR1cm4gbmV3IGUucG9pbnRHZW9tZXRyeShsK2hbMF0qbixjK2hbMV0qbil9ZnVuY3Rpb24gRHQodCxpLG8scixuKXtjb25zdCBhPW5ldyBlLnBvaW50R2VvbWV0cnkodCxpKTtyZXR1cm4gbyYmYS5fcm90YXRlKHI/bjotbiksYX1jbGFzcyBBdHtjb25zdHJ1Y3RvcihlLHQsaSxvLHIpe3RoaXMudHJhbnNmb3JtPWUuY2xvbmUoKSx0aGlzLnByb2plY3Rpb249ZS5wcm9qZWN0aW9uLm5hbWUsdGhpcy5jb2xsaXNpb25JbmRleD1uZXcgeHQodGhpcy50cmFuc2Zvcm0sciksdGhpcy5wbGFjZW1lbnRzPXt9LHRoaXMub3BhY2l0aWVzPXt9LHRoaXMudmFyaWFibGVPZmZzZXRzPXt9LHRoaXMuc3RhbGU9ITEsdGhpcy5jb21taXRUaW1lPTAsdGhpcy5mYWRlRHVyYXRpb249dCx0aGlzLnJldGFpbmVkUXVlcnlEYXRhPXt9LHRoaXMuY29sbGlzaW9uR3JvdXBzPW5ldyBTdChpKSx0aGlzLmNvbGxpc2lvbkNpcmNsZUFycmF5cz17fSx0aGlzLnByZXZQbGFjZW1lbnQ9byxvJiYoby5wcmV2UGxhY2VtZW50PXZvaWQgMCksdGhpcy5wbGFjZWRPcmllbnRhdGlvbnM9e307fWdldEJ1Y2tldFBhcnRzKHQsaSxvLHIpe2NvbnN0IG49by5nZXRCdWNrZXQoaSksYT1vLmxhdGVzdEZlYXR1cmVJbmRleDtpZighbnx8IWF8fGkuaWQhPT1uLmxheWVySWRzWzBdKXJldHVybjtjb25zdCBzPW4ubGF5ZXJzWzBdLmxheW91dCxsPW8uY29sbGlzaW9uQm94QXJyYXksYz1NYXRoLnBvdygyLHRoaXMudHJhbnNmb3JtLnpvb20tby50aWxlSUQub3ZlcnNjYWxlZFopLGg9by50aWxlU2l6ZS9lLkVYVEVOVCxfPW8udGlsZUlELnRvVW53cmFwcGVkKCk7dGhpcy50cmFuc2Zvcm0uc2V0UHJvamVjdGlvbihuLnByb2plY3Rpb24pO2NvbnN0IHU9KGQ9by50aWxlSUQscD1uLmdldFByb2plY3Rpb24oKSxtPXRoaXMudHJhbnNmb3JtLHAubmFtZT09PXRoaXMucHJvamVjdGlvbj9tLmNhbGN1bGF0ZVByb2pNYXRyaXgoZC50b1Vud3JhcHBlZCgpKTp5dChtLHAsZCkpO3ZhciBkLHAsbTtjb25zdCBmPVwibWFwXCI9PT1zLmdldChcInRleHQtcGl0Y2gtYWxpZ25tZW50XCIpLGc9XCJtYXBcIj09PXMuZ2V0KFwidGV4dC1yb3RhdGlvbi1hbGlnbm1lbnRcIik7aS5jb21waWxlRmlsdGVyKCk7Y29uc3Qgdj1pLmR5bmFtaWNGaWx0ZXIoKSx4PWkuZHluYW1pY0ZpbHRlck5lZWRzRmVhdHVyZSgpLHk9dGhpcy50cmFuc2Zvcm0uY2FsY3VsYXRlUGl4ZWxzVG9UaWxlVW5pdHNNYXRyaXgobyksYj1pdCh1LG8udGlsZUlELmNhbm9uaWNhbCxmLGcsdGhpcy50cmFuc2Zvcm0sbi5nZXRQcm9qZWN0aW9uKCkseSk7bGV0IHc9bnVsbDtpZihmKXtjb25zdCB0PW90KHUsby50aWxlSUQuY2Fub25pY2FsLGYsZyx0aGlzLnRyYW5zZm9ybSxuLmdldFByb2plY3Rpb24oKSx5KTt3PWUubXVsdGlwbHkoW10sdGhpcy50cmFuc2Zvcm0ubGFiZWxQbGFuZU1hdHJpeCx0KTt9bGV0IFQ9bnVsbDt2JiZvLmxhdGVzdEZlYXR1cmVJbmRleCYmKFQ9e3Vud3JhcHBlZFRpbGVJRDpfLGR5bmFtaWNGaWx0ZXI6dixkeW5hbWljRmlsdGVyTmVlZHNGZWF0dXJlOngsZmVhdHVyZUluZGV4Om8ubGF0ZXN0RmVhdHVyZUluZGV4fSksdGhpcy5yZXRhaW5lZFF1ZXJ5RGF0YVtuLmJ1Y2tldEluc3RhbmNlSWRdPW5ldyBNdChuLmJ1Y2tldEluc3RhbmNlSWQsYSxuLnNvdXJjZUxheWVySW5kZXgsbi5pbmRleCxvLnRpbGVJRCk7Y29uc3QgRT17YnVja2V0Om4sbGF5b3V0OnMscG9zTWF0cml4OnUsdGV4dExhYmVsUGxhbmVNYXRyaXg6YixsYWJlbFRvU2NyZWVuTWF0cml4OncsY2xpcHBpbmdEYXRhOlQsc2NhbGU6Yyx0ZXh0UGl4ZWxSYXRpbzpoLGhvbGRpbmdGb3JGYWRlOm8uaG9sZGluZ0ZvckZhZGUoKSxjb2xsaXNpb25Cb3hBcnJheTpsLHBhcnRpYWxseUV2YWx1YXRlZFRleHRTaXplOmUuZXZhbHVhdGVTaXplRm9yWm9vbShuLnRleHRTaXplRGF0YSx0aGlzLnRyYW5zZm9ybS56b29tKSxwYXJ0aWFsbHlFdmFsdWF0ZWRJY29uU2l6ZTplLmV2YWx1YXRlU2l6ZUZvclpvb20obi5pY29uU2l6ZURhdGEsdGhpcy50cmFuc2Zvcm0uem9vbSksY29sbGlzaW9uR3JvdXA6dGhpcy5jb2xsaXNpb25Hcm91cHMuZ2V0KG4uc291cmNlSUQpfTtpZihyKWZvcihjb25zdCBlIG9mIG4uc29ydEtleVJhbmdlcyl7Y29uc3R7c29ydEtleTppLHN5bWJvbEluc3RhbmNlU3RhcnQ6byxzeW1ib2xJbnN0YW5jZUVuZDpyfT1lO3QucHVzaCh7c29ydEtleTppLHN5bWJvbEluc3RhbmNlU3RhcnQ6byxzeW1ib2xJbnN0YW5jZUVuZDpyLHBhcmFtZXRlcnM6RX0pO31lbHNlIHQucHVzaCh7c3ltYm9sSW5zdGFuY2VTdGFydDowLHN5bWJvbEluc3RhbmNlRW5kOm4uc3ltYm9sSW5zdGFuY2VzLmxlbmd0aCxwYXJhbWV0ZXJzOkV9KTt9YXR0ZW1wdEFuY2hvclBsYWNlbWVudChlLHQsaSxvLHIsbixhLHMsbCxjLGgsXyx1LGQscCxtLGYsZyl7Y29uc3Qgdj1bXy50ZXh0T2Zmc2V0MCxfLnRleHRPZmZzZXQxXSx4PXp0KGUsaSxvLHYscikseT10aGlzLmNvbGxpc2lvbkluZGV4LnBsYWNlQ29sbGlzaW9uQm94KGQscix0LER0KHgueCx4LnksbixhLHRoaXMudHJhbnNmb3JtLmFuZ2xlKSxoLHMsbCxjLnByZWRpY2F0ZSk7aWYobSl7Y29uc3QgZT1kLmdldFN5bWJvbEluc3RhbmNlSWNvblNpemUoZyx0aGlzLnRyYW5zZm9ybS56b29tLF8ucGxhY2VkSWNvblN5bWJvbEluZGV4KTtpZigwPT09dGhpcy5jb2xsaXNpb25JbmRleC5wbGFjZUNvbGxpc2lvbkJveChkLGUsbSxEdCh4LngseC55LG4sYSx0aGlzLnRyYW5zZm9ybS5hbmdsZSksaCxzLGwsYy5wcmVkaWNhdGUpLmJveC5sZW5ndGgpcmV0dXJufWlmKHkuYm94Lmxlbmd0aD4wKXtsZXQgdDtyZXR1cm4gdGhpcy5wcmV2UGxhY2VtZW50JiZ0aGlzLnByZXZQbGFjZW1lbnQudmFyaWFibGVPZmZzZXRzW18uY3Jvc3NUaWxlSURdJiZ0aGlzLnByZXZQbGFjZW1lbnQucGxhY2VtZW50c1tfLmNyb3NzVGlsZUlEXSYmdGhpcy5wcmV2UGxhY2VtZW50LnBsYWNlbWVudHNbXy5jcm9zc1RpbGVJRF0udGV4dCYmKHQ9dGhpcy5wcmV2UGxhY2VtZW50LnZhcmlhYmxlT2Zmc2V0c1tfLmNyb3NzVGlsZUlEXS5hbmNob3IpLHRoaXMudmFyaWFibGVPZmZzZXRzW18uY3Jvc3NUaWxlSURdPXt0ZXh0T2Zmc2V0OnYsd2lkdGg6aSxoZWlnaHQ6byxhbmNob3I6ZSx0ZXh0U2NhbGU6cixwcmV2QW5jaG9yOnR9LHRoaXMubWFya1VzZWRKdXN0aWZpY2F0aW9uKGQsZSxfLHApLGQuYWxsb3dWZXJ0aWNhbFBsYWNlbWVudCYmKHRoaXMubWFya1VzZWRPcmllbnRhdGlvbihkLHAsXyksdGhpcy5wbGFjZWRPcmllbnRhdGlvbnNbXy5jcm9zc1RpbGVJRF09cCkse3NoaWZ0OngscGxhY2VkR2x5cGhCb3hlczp5fX19cGxhY2VMYXllckJ1Y2tldFBhcnQodCxpLG8scil7Y29uc3R7YnVja2V0Om4sbGF5b3V0OmEscG9zTWF0cml4OnMsdGV4dExhYmVsUGxhbmVNYXRyaXg6bCxsYWJlbFRvU2NyZWVuTWF0cml4OmMsY2xpcHBpbmdEYXRhOmgsdGV4dFBpeGVsUmF0aW86Xyxob2xkaW5nRm9yRmFkZTp1LGNvbGxpc2lvbkJveEFycmF5OmQscGFydGlhbGx5RXZhbHVhdGVkVGV4dFNpemU6cCxwYXJ0aWFsbHlFdmFsdWF0ZWRJY29uU2l6ZTptLGNvbGxpc2lvbkdyb3VwOmZ9PXQucGFyYW1ldGVycyxnPWEuZ2V0KFwidGV4dC1vcHRpb25hbFwiKSx2PWEuZ2V0KFwiaWNvbi1vcHRpb25hbFwiKSx4PWEuZ2V0KFwidGV4dC1hbGxvdy1vdmVybGFwXCIpLHk9YS5nZXQoXCJpY29uLWFsbG93LW92ZXJsYXBcIiksYj1cIm1hcFwiPT09YS5nZXQoXCJ0ZXh0LXJvdGF0aW9uLWFsaWdubWVudFwiKSx3PVwibWFwXCI9PT1hLmdldChcInRleHQtcGl0Y2gtYWxpZ25tZW50XCIpLFQ9XCJub25lXCIhPT1hLmdldChcImljb24tdGV4dC1maXRcIiksRT1cInZpZXdwb3J0LXlcIj09PWEuZ2V0KFwic3ltYm9sLXotb3JkZXJcIik7dGhpcy50cmFuc2Zvcm0uc2V0UHJvamVjdGlvbihuLnByb2plY3Rpb24pO2xldCBDPXgmJih5fHwhbi5oYXNJY29uRGF0YSgpfHx2KSxJPXkmJih4fHwhbi5oYXNUZXh0RGF0YSgpfHxnKTshbi5jb2xsaXNpb25BcnJheXMmJmQmJm4uZGVzZXJpYWxpemVDb2xsaXNpb25Cb3hlcyhkKSxvJiZyJiZuLnVwZGF0ZUNvbGxpc2lvbkRlYnVnQnVmZmVycyh0aGlzLnRyYW5zZm9ybS56b29tLGQpO2NvbnN0IE09KHQscixkKT0+e2lmKGgpe2NvbnN0IG89e3pvb206dGhpcy50cmFuc2Zvcm0uem9vbSxwaXRjaDp0aGlzLnRyYW5zZm9ybS5waXRjaH07bGV0IHI9bnVsbDtpZihoLmR5bmFtaWNGaWx0ZXJOZWVkc0ZlYXR1cmUpe2NvbnN0IGU9dGhpcy5yZXRhaW5lZFF1ZXJ5RGF0YVtuLmJ1Y2tldEluc3RhbmNlSWRdO3I9aC5mZWF0dXJlSW5kZXgubG9hZEZlYXR1cmUoe2ZlYXR1cmVJbmRleDp0LmZlYXR1cmVJbmRleCxidWNrZXRJbmRleDplLmJ1Y2tldEluZGV4LHNvdXJjZUxheWVySW5kZXg6ZS5zb3VyY2VMYXllckluZGV4LGxheW91dFZlcnRleEFycmF5T2Zmc2V0OjB9KTt9aWYoISgwLGguZHluYW1pY0ZpbHRlcikobyxyLHRoaXMucmV0YWluZWRRdWVyeURhdGFbbi5idWNrZXRJbnN0YW5jZUlkXS50aWxlSUQuY2Fub25pY2FsLG5ldyBlLnBvaW50R2VvbWV0cnkodC50aWxlQW5jaG9yWCx0LnRpbGVBbmNob3JZKSx0aGlzLnRyYW5zZm9ybS5jYWxjdWxhdGVEaXN0YW5jZVRpbGVEYXRhKGgudW53cmFwcGVkVGlsZUlEKSkpcmV0dXJuIHRoaXMucGxhY2VtZW50c1t0LmNyb3NzVGlsZUlEXT1uZXcgQ3QoITEsITEsITEsITApLHZvaWQoaVt0LmNyb3NzVGlsZUlEXT0hMCl9aWYoaVt0LmNyb3NzVGlsZUlEXSlyZXR1cm47aWYodSlyZXR1cm4gdm9pZCh0aGlzLnBsYWNlbWVudHNbdC5jcm9zc1RpbGVJRF09bmV3IEN0KCExLCExLCExKSk7bGV0IEU9ITEsTT0hMSxTPSEwLHo9ITEsRD0hMSxBPW51bGwsUD17Ym94Om51bGwsb2Zmc2NyZWVuOm51bGwsb2NjbHVkZWQ6bnVsbH0sTD17Ym94Om51bGwsb2Zmc2NyZWVuOm51bGwsb2NjbHVkZWQ6bnVsbH0sUj1udWxsLE89bnVsbCxCPW51bGwsaz0wLEY9MCxVPTA7ZC50ZXh0RmVhdHVyZUluZGV4P2s9ZC50ZXh0RmVhdHVyZUluZGV4OnQudXNlUnVudGltZUNvbGxpc2lvbkNpcmNsZXMmJihrPXQuZmVhdHVyZUluZGV4KSxkLnZlcnRpY2FsVGV4dEZlYXR1cmVJbmRleCYmKEY9ZC52ZXJ0aWNhbFRleHRGZWF0dXJlSW5kZXgpO2NvbnN0IE49ZT0+e2UudGlsZUlEPXRoaXMucmV0YWluZWRRdWVyeURhdGFbbi5idWNrZXRJbnN0YW5jZUlkXS50aWxlSUQsKHRoaXMudHJhbnNmb3JtLmVsZXZhdGlvbnx8ZS5lbGV2YXRpb24pJiYoZS5lbGV2YXRpb249dGhpcy50cmFuc2Zvcm0uZWxldmF0aW9uP3RoaXMudHJhbnNmb3JtLmVsZXZhdGlvbi5nZXRBdFRpbGVPZmZzZXQodGhpcy5yZXRhaW5lZFF1ZXJ5RGF0YVtuLmJ1Y2tldEluc3RhbmNlSWRdLnRpbGVJRCxlLnRpbGVBbmNob3JYLGUudGlsZUFuY2hvclkpOjApO30sRz1kLnRleHRCb3g7aWYoRyl7TihHKTtjb25zdCBpPWk9PntsZXQgbz1lLldyaXRpbmdNb2RlLmhvcml6b250YWw7aWYobi5hbGxvd1ZlcnRpY2FsUGxhY2VtZW50JiYhaSYmdGhpcy5wcmV2UGxhY2VtZW50KXtjb25zdCBlPXRoaXMucHJldlBsYWNlbWVudC5wbGFjZWRPcmllbnRhdGlvbnNbdC5jcm9zc1RpbGVJRF07ZSYmKHRoaXMucGxhY2VkT3JpZW50YXRpb25zW3QuY3Jvc3NUaWxlSURdPWUsbz1lLHRoaXMubWFya1VzZWRPcmllbnRhdGlvbihuLG8sdCkpO31yZXR1cm4gb30sbz0oaSxvKT0+e2lmKG4uYWxsb3dWZXJ0aWNhbFBsYWNlbWVudCYmdC5udW1WZXJ0aWNhbEdseXBoVmVydGljZXM+MCYmZC52ZXJ0aWNhbFRleHRCb3gpe2Zvcihjb25zdCB0IG9mIG4ud3JpdGluZ01vZGVzKWlmKHQ9PT1lLldyaXRpbmdNb2RlLnZlcnRpY2FsPyhQPW8oKSxMPVApOlA9aSgpLFAmJlAuYm94JiZQLmJveC5sZW5ndGgpYnJlYWt9ZWxzZSBQPWkoKTt9O2lmKGEuZ2V0KFwidGV4dC12YXJpYWJsZS1hbmNob3JcIikpe2xldCBsPWEuZ2V0KFwidGV4dC12YXJpYWJsZS1hbmNob3JcIik7aWYodGhpcy5wcmV2UGxhY2VtZW50JiZ0aGlzLnByZXZQbGFjZW1lbnQudmFyaWFibGVPZmZzZXRzW3QuY3Jvc3NUaWxlSURdKXtjb25zdCBlPXRoaXMucHJldlBsYWNlbWVudC52YXJpYWJsZU9mZnNldHNbdC5jcm9zc1RpbGVJRF07bC5pbmRleE9mKGUuYW5jaG9yKT4wJiYobD1sLmZpbHRlcigodD0+dCE9PWUuYW5jaG9yKSksbC51bnNoaWZ0KGUuYW5jaG9yKSk7fWNvbnN0IGM9KGUsaSxvKT0+e2NvbnN0IGE9bi5nZXRTeW1ib2xJbnN0YW5jZVRleHRTaXplKHAsdCx0aGlzLnRyYW5zZm9ybS56b29tLHIpLGM9KGUueDItZS54MSkqYSsyKmUucGFkZGluZyxoPShlLnkyLWUueTEpKmErMiplLnBhZGRpbmcsdT1UJiYheT9pOm51bGw7dSYmTih1KTtsZXQgZD17Ym94OltdLG9mZnNjcmVlbjohMSxvY2NsdWRlZDohMX07Y29uc3QgZz14PzIqbC5sZW5ndGg6bC5sZW5ndGg7Zm9yKGxldCBpPTA7aTxnOysraSl7Y29uc3QgZz10aGlzLmF0dGVtcHRBbmNob3JQbGFjZW1lbnQobFtpJWwubGVuZ3RoXSxlLGMsaCxhLGIsdyxfLHMsZixpPj1sLmxlbmd0aCx0LHIsbixvLHUscCxtKTtpZihnJiYoZD1nLnBsYWNlZEdseXBoQm94ZXMsZCYmZC5ib3gmJmQuYm94Lmxlbmd0aCkpe0U9ITAsQT1nLnNoaWZ0O2JyZWFrfX1yZXR1cm4gZH07bygoKCk9PmMoRyxkLmljb25Cb3gsZS5Xcml0aW5nTW9kZS5ob3Jpem9udGFsKSksKCgpPT57Y29uc3QgaT1kLnZlcnRpY2FsVGV4dEJveDtyZXR1cm4gaSYmTihpKSxuLmFsbG93VmVydGljYWxQbGFjZW1lbnQmJiEoUCYmUC5ib3gmJlAuYm94Lmxlbmd0aCkmJnQubnVtVmVydGljYWxHbHlwaFZlcnRpY2VzPjAmJmk/YyhpLGQudmVydGljYWxJY29uQm94LGUuV3JpdGluZ01vZGUudmVydGljYWwpOntib3g6bnVsbCxvZmZzY3JlZW46bnVsbCxvY2NsdWRlZDpudWxsfX0pKSxQJiYoRT1QLmJveCxTPVAub2Zmc2NyZWVuLHo9UC5vY2NsdWRlZCk7Y29uc3QgaD1pKFAmJlAuYm94KTtpZighRSYmdGhpcy5wcmV2UGxhY2VtZW50KXtjb25zdCBlPXRoaXMucHJldlBsYWNlbWVudC52YXJpYWJsZU9mZnNldHNbdC5jcm9zc1RpbGVJRF07ZSYmKHRoaXMudmFyaWFibGVPZmZzZXRzW3QuY3Jvc3NUaWxlSURdPWUsdGhpcy5tYXJrVXNlZEp1c3RpZmljYXRpb24obixlLmFuY2hvcix0LGgpKTt9fWVsc2Uge2NvbnN0IGE9KGksbyk9Pntjb25zdCBhPW4uZ2V0U3ltYm9sSW5zdGFuY2VUZXh0U2l6ZShwLHQsdGhpcy50cmFuc2Zvcm0uem9vbSxyKSxsPXRoaXMuY29sbGlzaW9uSW5kZXgucGxhY2VDb2xsaXNpb25Cb3gobixhLGksbmV3IGUucG9pbnRHZW9tZXRyeSgwLDApLHgsXyxzLGYucHJlZGljYXRlKTtyZXR1cm4gbCYmbC5ib3gmJmwuYm94Lmxlbmd0aCYmKHRoaXMubWFya1VzZWRPcmllbnRhdGlvbihuLG8sdCksdGhpcy5wbGFjZWRPcmllbnRhdGlvbnNbdC5jcm9zc1RpbGVJRF09byksbH07bygoKCk9PmEoRyxlLldyaXRpbmdNb2RlLmhvcml6b250YWwpKSwoKCk9Pntjb25zdCBpPWQudmVydGljYWxUZXh0Qm94O3JldHVybiBuLmFsbG93VmVydGljYWxQbGFjZW1lbnQmJnQubnVtVmVydGljYWxHbHlwaFZlcnRpY2VzPjAmJmk/KE4oaSksYShpLGUuV3JpdGluZ01vZGUudmVydGljYWwpKTp7Ym94Om51bGwsb2Zmc2NyZWVuOm51bGwsb2NjbHVkZWQ6bnVsbH19KSksaShQJiZQLmJveCYmUC5ib3gubGVuZ3RoKTt9fWlmKFI9UCxFPVImJlIuYm94JiZSLmJveC5sZW5ndGg+MCxTPVImJlIub2Zmc2NyZWVuLHo9UiYmUi5vY2NsdWRlZCx0LnVzZVJ1bnRpbWVDb2xsaXNpb25DaXJjbGVzKXtjb25zdCBpPW4udGV4dC5wbGFjZWRTeW1ib2xBcnJheS5nZXQodC5jZW50ZXJKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXg+PTA/dC5jZW50ZXJKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXg6dC52ZXJ0aWNhbFBsYWNlZFRleHRTeW1ib2xJbmRleCkscj1lLmV2YWx1YXRlU2l6ZUZvckZlYXR1cmUobi50ZXh0U2l6ZURhdGEscCxpKSxoPWEuZ2V0KFwidGV4dC1wYWRkaW5nXCIpO089dGhpcy5jb2xsaXNpb25JbmRleC5wbGFjZUNvbGxpc2lvbkNpcmNsZXMobix4LGksbi5saW5lVmVydGV4QXJyYXksbi5nbHlwaE9mZnNldEFycmF5LHIscyxsLGMsbyx3LGYucHJlZGljYXRlLHQuY29sbGlzaW9uQ2lyY2xlRGlhbWV0ZXIqci9lLk9ORV9FTSxoLHRoaXMucmV0YWluZWRRdWVyeURhdGFbbi5idWNrZXRJbnN0YW5jZUlkXS50aWxlSUQpLEU9eHx8Ty5jaXJjbGVzLmxlbmd0aD4wJiYhTy5jb2xsaXNpb25EZXRlY3RlZCxTPVMmJk8ub2Zmc2NyZWVuLHo9Ty5vY2NsdWRlZDt9aWYoZC5pY29uRmVhdHVyZUluZGV4JiYoVT1kLmljb25GZWF0dXJlSW5kZXgpLGQuaWNvbkJveCl7Y29uc3QgaT1pPT57TihpKTtjb25zdCBvPVQmJkE/RHQoQS54LEEueSxiLHcsdGhpcy50cmFuc2Zvcm0uYW5nbGUpOm5ldyBlLnBvaW50R2VvbWV0cnkoMCwwKSxyPW4uZ2V0U3ltYm9sSW5zdGFuY2VJY29uU2l6ZShtLHRoaXMudHJhbnNmb3JtLnpvb20sdC5wbGFjZWRJY29uU3ltYm9sSW5kZXgpO3JldHVybiB0aGlzLmNvbGxpc2lvbkluZGV4LnBsYWNlQ29sbGlzaW9uQm94KG4scixpLG8seSxfLHMsZi5wcmVkaWNhdGUpfTtMJiZMLmJveCYmTC5ib3gubGVuZ3RoJiZkLnZlcnRpY2FsSWNvbkJveD8oQj1pKGQudmVydGljYWxJY29uQm94KSxNPUIuYm94Lmxlbmd0aD4wKTooQj1pKGQuaWNvbkJveCksTT1CLmJveC5sZW5ndGg+MCksUz1TJiZCLm9mZnNjcmVlbixEPUIub2NjbHVkZWQ7fWNvbnN0IGo9Z3x8MD09PXQubnVtSG9yaXpvbnRhbEdseXBoVmVydGljZXMmJjA9PT10Lm51bVZlcnRpY2FsR2x5cGhWZXJ0aWNlcyxaPXZ8fDA9PT10Lm51bUljb25WZXJ0aWNlcztpZihqfHxaP1o/anx8KE09TSYmRSk6RT1NJiZFOk09RT1NJiZFLEUmJlImJlIuYm94JiZ0aGlzLmNvbGxpc2lvbkluZGV4Lmluc2VydENvbGxpc2lvbkJveChSLmJveCxhLmdldChcInRleHQtaWdub3JlLXBsYWNlbWVudFwiKSxuLmJ1Y2tldEluc3RhbmNlSWQsTCYmTC5ib3gmJkY/RjprLGYuSUQpLE0mJkImJnRoaXMuY29sbGlzaW9uSW5kZXguaW5zZXJ0Q29sbGlzaW9uQm94KEIuYm94LGEuZ2V0KFwiaWNvbi1pZ25vcmUtcGxhY2VtZW50XCIpLG4uYnVja2V0SW5zdGFuY2VJZCxVLGYuSUQpLE8mJihFJiZ0aGlzLmNvbGxpc2lvbkluZGV4Lmluc2VydENvbGxpc2lvbkNpcmNsZXMoTy5jaXJjbGVzLGEuZ2V0KFwidGV4dC1pZ25vcmUtcGxhY2VtZW50XCIpLG4uYnVja2V0SW5zdGFuY2VJZCxrLGYuSUQpLG8pKXtjb25zdCBlPW4uYnVja2V0SW5zdGFuY2VJZDtsZXQgdD10aGlzLmNvbGxpc2lvbkNpcmNsZUFycmF5c1tlXTt2b2lkIDA9PT10JiYodD10aGlzLmNvbGxpc2lvbkNpcmNsZUFycmF5c1tlXT1uZXcgSXQpO2ZvcihsZXQgZT0wO2U8Ty5jaXJjbGVzLmxlbmd0aDtlKz00KXQuY2lyY2xlcy5wdXNoKE8uY2lyY2xlc1tlKzBdKSx0LmNpcmNsZXMucHVzaChPLmNpcmNsZXNbZSsxXSksdC5jaXJjbGVzLnB1c2goTy5jaXJjbGVzW2UrMl0pLHQuY2lyY2xlcy5wdXNoKE8uY29sbGlzaW9uRGV0ZWN0ZWQ/MTowKTt9Y29uc3QgVj1cImdsb2JlXCIhPT1uLnByb2plY3Rpb24ubmFtZTtDPUMmJihWfHwheiksST1JJiYoVnx8IUQpLHRoaXMucGxhY2VtZW50c1t0LmNyb3NzVGlsZUlEXT1uZXcgQ3QoRXx8QyxNfHxJLFN8fG4uanVzdFJlbG9hZGVkKSxpW3QuY3Jvc3NUaWxlSURdPSEwO307aWYoRSl7Y29uc3QgZT1uLmdldFNvcnRlZFN5bWJvbEluZGV4ZXModGhpcy50cmFuc2Zvcm0uYW5nbGUpO2ZvcihsZXQgdD1lLmxlbmd0aC0xO3Q+PTA7LS10KXtjb25zdCBpPWVbdF07TShuLnN5bWJvbEluc3RhbmNlcy5nZXQoaSksaSxuLmNvbGxpc2lvbkFycmF5c1tpXSk7fX1lbHNlIGZvcihsZXQgZT10LnN5bWJvbEluc3RhbmNlU3RhcnQ7ZTx0LnN5bWJvbEluc3RhbmNlRW5kO2UrKylNKG4uc3ltYm9sSW5zdGFuY2VzLmdldChlKSxlLG4uY29sbGlzaW9uQXJyYXlzW2VdKTtpZihvJiZuLmJ1Y2tldEluc3RhbmNlSWQgaW4gdGhpcy5jb2xsaXNpb25DaXJjbGVBcnJheXMpe2NvbnN0IHQ9dGhpcy5jb2xsaXNpb25DaXJjbGVBcnJheXNbbi5idWNrZXRJbnN0YW5jZUlkXTtlLmludmVydCh0LmludlByb2pNYXRyaXgscyksdC52aWV3cG9ydE1hdHJpeD10aGlzLmNvbGxpc2lvbkluZGV4LmdldFZpZXdwb3J0TWF0cml4KCk7fW4uanVzdFJlbG9hZGVkPSExO31tYXJrVXNlZEp1c3RpZmljYXRpb24odCxpLG8scil7bGV0IG47bj1yPT09ZS5Xcml0aW5nTW9kZS52ZXJ0aWNhbD9vLnZlcnRpY2FsUGxhY2VkVGV4dFN5bWJvbEluZGV4OntsZWZ0Om8ubGVmdEp1c3RpZmllZFRleHRTeW1ib2xJbmRleCxjZW50ZXI6by5jZW50ZXJKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXgscmlnaHQ6by5yaWdodEp1c3RpZmllZFRleHRTeW1ib2xJbmRleH1bZS5nZXRBbmNob3JKdXN0aWZpY2F0aW9uKGkpXTtjb25zdCBhPVtvLmxlZnRKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXgsby5jZW50ZXJKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXgsby5yaWdodEp1c3RpZmllZFRleHRTeW1ib2xJbmRleCxvLnZlcnRpY2FsUGxhY2VkVGV4dFN5bWJvbEluZGV4XTtmb3IoY29uc3QgZSBvZiBhKWU+PTAmJih0LnRleHQucGxhY2VkU3ltYm9sQXJyYXkuZ2V0KGUpLmNyb3NzVGlsZUlEPW4+PTAmJmUhPT1uPzA6by5jcm9zc1RpbGVJRCk7fW1hcmtVc2VkT3JpZW50YXRpb24odCxpLG8pe2NvbnN0IHI9aT09PWUuV3JpdGluZ01vZGUuaG9yaXpvbnRhbHx8aT09PWUuV3JpdGluZ01vZGUuaG9yaXpvbnRhbE9ubHk/aTowLG49aT09PWUuV3JpdGluZ01vZGUudmVydGljYWw/aTowLGE9W28ubGVmdEp1c3RpZmllZFRleHRTeW1ib2xJbmRleCxvLmNlbnRlckp1c3RpZmllZFRleHRTeW1ib2xJbmRleCxvLnJpZ2h0SnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4XS5maWx0ZXIoKGU9Pi0xIT09ZSkpO2Zvcihjb25zdCBlIG9mIGEpdC50ZXh0LnBsYWNlZFN5bWJvbEFycmF5LmdldChlKS5wbGFjZWRPcmllbnRhdGlvbj1yOy0xIT09by52ZXJ0aWNhbFBsYWNlZFRleHRTeW1ib2xJbmRleCYmKHQudGV4dC5wbGFjZWRTeW1ib2xBcnJheS5nZXQoby52ZXJ0aWNhbFBsYWNlZFRleHRTeW1ib2xJbmRleCkucGxhY2VkT3JpZW50YXRpb249bik7fWNvbW1pdChlKXt0aGlzLmNvbW1pdFRpbWU9ZSx0aGlzLnpvb21BdExhc3RSZWNlbmN5Q2hlY2s9dGhpcy50cmFuc2Zvcm0uem9vbTtjb25zdCB0PXRoaXMucHJldlBsYWNlbWVudDtsZXQgaT0hMTt0aGlzLnByZXZab29tQWRqdXN0bWVudD10P3Quem9vbUFkanVzdG1lbnQodGhpcy50cmFuc2Zvcm0uem9vbSk6MDtjb25zdCBvPXQ/dC5zeW1ib2xGYWRlQ2hhbmdlKGUpOjEscj10P3Qub3BhY2l0aWVzOnt9LG49dD90LnZhcmlhYmxlT2Zmc2V0czp7fSxhPXQ/dC5wbGFjZWRPcmllbnRhdGlvbnM6e307Zm9yKGNvbnN0IGUgaW4gdGhpcy5wbGFjZW1lbnRzKXtjb25zdCB0PXRoaXMucGxhY2VtZW50c1tlXSxuPXJbZV07bj8odGhpcy5vcGFjaXRpZXNbZV09bmV3IEV0KG4sbyx0LnRleHQsdC5pY29uLG51bGwsdC5jbGlwcGVkKSxpPWl8fHQudGV4dCE9PW4udGV4dC5wbGFjZWR8fHQuaWNvbiE9PW4uaWNvbi5wbGFjZWQpOih0aGlzLm9wYWNpdGllc1tlXT1uZXcgRXQobnVsbCxvLHQudGV4dCx0Lmljb24sdC5za2lwRmFkZSx0LmNsaXBwZWQpLGk9aXx8dC50ZXh0fHx0Lmljb24pO31mb3IoY29uc3QgZSBpbiByKXtjb25zdCB0PXJbZV07aWYoIXRoaXMub3BhY2l0aWVzW2VdKXtjb25zdCByPW5ldyBFdCh0LG8sITEsITEpO3IuaXNIaWRkZW4oKXx8KHRoaXMub3BhY2l0aWVzW2VdPXIsaT1pfHx0LnRleHQucGxhY2VkfHx0Lmljb24ucGxhY2VkKTt9fWZvcihjb25zdCBlIGluIG4pdGhpcy52YXJpYWJsZU9mZnNldHNbZV18fCF0aGlzLm9wYWNpdGllc1tlXXx8dGhpcy5vcGFjaXRpZXNbZV0uaXNIaWRkZW4oKXx8KHRoaXMudmFyaWFibGVPZmZzZXRzW2VdPW5bZV0pO2Zvcihjb25zdCBlIGluIGEpdGhpcy5wbGFjZWRPcmllbnRhdGlvbnNbZV18fCF0aGlzLm9wYWNpdGllc1tlXXx8dGhpcy5vcGFjaXRpZXNbZV0uaXNIaWRkZW4oKXx8KHRoaXMucGxhY2VkT3JpZW50YXRpb25zW2VdPWFbZV0pO2k/dGhpcy5sYXN0UGxhY2VtZW50Q2hhbmdlVGltZT1lOlwibnVtYmVyXCIhPXR5cGVvZiB0aGlzLmxhc3RQbGFjZW1lbnRDaGFuZ2VUaW1lJiYodGhpcy5sYXN0UGxhY2VtZW50Q2hhbmdlVGltZT10P3QubGFzdFBsYWNlbWVudENoYW5nZVRpbWU6ZSk7fXVwZGF0ZUxheWVyT3BhY2l0aWVzKGUsdCl7Y29uc3QgaT17fTtmb3IoY29uc3QgbyBvZiB0KXtjb25zdCB0PW8uZ2V0QnVja2V0KGUpO3QmJm8ubGF0ZXN0RmVhdHVyZUluZGV4JiZlLmlkPT09dC5sYXllcklkc1swXSYmdGhpcy51cGRhdGVCdWNrZXRPcGFjaXRpZXModCxpLG8uY29sbGlzaW9uQm94QXJyYXkpO319dXBkYXRlQnVja2V0T3BhY2l0aWVzKHQsaSxvKXt0Lmhhc1RleHREYXRhKCkmJnQudGV4dC5vcGFjaXR5VmVydGV4QXJyYXkuY2xlYXIoKSx0Lmhhc0ljb25EYXRhKCkmJnQuaWNvbi5vcGFjaXR5VmVydGV4QXJyYXkuY2xlYXIoKSx0Lmhhc0ljb25Db2xsaXNpb25Cb3hEYXRhKCkmJnQuaWNvbkNvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhBcnJheS5jbGVhcigpLHQuaGFzVGV4dENvbGxpc2lvbkJveERhdGEoKSYmdC50ZXh0Q29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEFycmF5LmNsZWFyKCk7Y29uc3Qgcj10LmxheWVyc1swXS5sYXlvdXQsbj0hIXQubGF5ZXJzWzBdLmR5bmFtaWNGaWx0ZXIoKSxhPW5ldyBFdChudWxsLDAsITEsITEsITApLHM9ci5nZXQoXCJ0ZXh0LWFsbG93LW92ZXJsYXBcIiksbD1yLmdldChcImljb24tYWxsb3ctb3ZlcmxhcFwiKSxjPXIuZ2V0KFwidGV4dC12YXJpYWJsZS1hbmNob3JcIiksaD1cIm1hcFwiPT09ci5nZXQoXCJ0ZXh0LXJvdGF0aW9uLWFsaWdubWVudFwiKSxfPVwibWFwXCI9PT1yLmdldChcInRleHQtcGl0Y2gtYWxpZ25tZW50XCIpLHU9XCJub25lXCIhPT1yLmdldChcImljb24tdGV4dC1maXRcIiksZD1uZXcgRXQobnVsbCwwLHMmJihsfHwhdC5oYXNJY29uRGF0YSgpfHxyLmdldChcImljb24tb3B0aW9uYWxcIikpLGwmJihzfHwhdC5oYXNUZXh0RGF0YSgpfHxyLmdldChcInRleHQtb3B0aW9uYWxcIikpLCEwKTshdC5jb2xsaXNpb25BcnJheXMmJm8mJih0Lmhhc0ljb25Db2xsaXNpb25Cb3hEYXRhKCl8fHQuaGFzVGV4dENvbGxpc2lvbkJveERhdGEoKSkmJnQuZGVzZXJpYWxpemVDb2xsaXNpb25Cb3hlcyhvKTtjb25zdCBwPShlLHQsaSk9Pntmb3IobGV0IG89MDtvPHQvNDtvKyspZS5vcGFjaXR5VmVydGV4QXJyYXkuZW1wbGFjZUJhY2soaSk7fTtsZXQgbT0wO2ZvcihsZXQgbz0wO288dC5zeW1ib2xJbnN0YW5jZXMubGVuZ3RoO28rKyl7Y29uc3Qgcj10LnN5bWJvbEluc3RhbmNlcy5nZXQobykse251bUhvcml6b250YWxHbHlwaFZlcnRpY2VzOnMsbnVtVmVydGljYWxHbHlwaFZlcnRpY2VzOmwsY3Jvc3NUaWxlSUQ6Zn09cjtsZXQgZz10aGlzLm9wYWNpdGllc1tmXTtpW2ZdP2c9YTpnfHwoZz1kLHRoaXMub3BhY2l0aWVzW2ZdPWcpLGlbZl09ITA7Y29uc3Qgdj1zPjB8fGw+MCx4PXIubnVtSWNvblZlcnRpY2VzPjAseT10aGlzLnBsYWNlZE9yaWVudGF0aW9uc1tyLmNyb3NzVGlsZUlEXSxiPXk9PT1lLldyaXRpbmdNb2RlLnZlcnRpY2FsLHc9eT09PWUuV3JpdGluZ01vZGUuaG9yaXpvbnRhbHx8eT09PWUuV3JpdGluZ01vZGUuaG9yaXpvbnRhbE9ubHk7aWYoIXYmJiF4fHxnLmlzSGlkZGVuKCl8fG0rKyx2KXtjb25zdCBlPU50KGcudGV4dCk7cCh0LnRleHQscyxiP0d0OmUpLHAodC50ZXh0LGwsdz9HdDplKTtjb25zdCBpPWcudGV4dC5pc0hpZGRlbigpO1tyLnJpZ2h0SnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4LHIuY2VudGVySnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4LHIubGVmdEp1c3RpZmllZFRleHRTeW1ib2xJbmRleF0uZm9yRWFjaCgoZT0+e2U+PTAmJih0LnRleHQucGxhY2VkU3ltYm9sQXJyYXkuZ2V0KGUpLmhpZGRlbj1pfHxiPzE6MCk7fSkpLHIudmVydGljYWxQbGFjZWRUZXh0U3ltYm9sSW5kZXg+PTAmJih0LnRleHQucGxhY2VkU3ltYm9sQXJyYXkuZ2V0KHIudmVydGljYWxQbGFjZWRUZXh0U3ltYm9sSW5kZXgpLmhpZGRlbj1pfHx3PzE6MCk7Y29uc3Qgbz10aGlzLnZhcmlhYmxlT2Zmc2V0c1tyLmNyb3NzVGlsZUlEXTtvJiZ0aGlzLm1hcmtVc2VkSnVzdGlmaWNhdGlvbih0LG8uYW5jaG9yLHIseSk7Y29uc3Qgbj10aGlzLnBsYWNlZE9yaWVudGF0aW9uc1tyLmNyb3NzVGlsZUlEXTtuJiYodGhpcy5tYXJrVXNlZEp1c3RpZmljYXRpb24odCxcImxlZnRcIixyLG4pLHRoaXMubWFya1VzZWRPcmllbnRhdGlvbih0LG4scikpO31pZih4KXtjb25zdCBlPU50KGcuaWNvbik7ci5wbGFjZWRJY29uU3ltYm9sSW5kZXg+PTAmJihwKHQuaWNvbixyLm51bUljb25WZXJ0aWNlcyxiP0d0OmUpLHQuaWNvbi5wbGFjZWRTeW1ib2xBcnJheS5nZXQoci5wbGFjZWRJY29uU3ltYm9sSW5kZXgpLmhpZGRlbj1nLmljb24uaXNIaWRkZW4oKSksci52ZXJ0aWNhbFBsYWNlZEljb25TeW1ib2xJbmRleD49MCYmKHAodC5pY29uLHIubnVtVmVydGljYWxJY29uVmVydGljZXMsdz9HdDplKSx0Lmljb24ucGxhY2VkU3ltYm9sQXJyYXkuZ2V0KHIudmVydGljYWxQbGFjZWRJY29uU3ltYm9sSW5kZXgpLmhpZGRlbj1nLmljb24uaXNIaWRkZW4oKSk7fWlmKHQuaGFzSWNvbkNvbGxpc2lvbkJveERhdGEoKXx8dC5oYXNUZXh0Q29sbGlzaW9uQm94RGF0YSgpKXtjb25zdCBpPXQuY29sbGlzaW9uQXJyYXlzW29dO2lmKGkpe2xldCBvPW5ldyBlLnBvaW50R2VvbWV0cnkoMCwwKSxyPSEwO2lmKGkudGV4dEJveHx8aS52ZXJ0aWNhbFRleHRCb3gpe2lmKGMpe2NvbnN0IGU9dGhpcy52YXJpYWJsZU9mZnNldHNbZl07ZT8obz16dChlLmFuY2hvcixlLndpZHRoLGUuaGVpZ2h0LGUudGV4dE9mZnNldCxlLnRleHRTY2FsZSksaCYmby5fcm90YXRlKF8/dGhpcy50cmFuc2Zvcm0uYW5nbGU6LXRoaXMudHJhbnNmb3JtLmFuZ2xlKSk6cj0hMTt9biYmKHI9IWcuY2xpcHBlZCksaS50ZXh0Qm94JiZQdCh0LnRleHRDb2xsaXNpb25Cb3guY29sbGlzaW9uVmVydGV4QXJyYXksZy50ZXh0LnBsYWNlZCwhcnx8YixvLngsby55KSxpLnZlcnRpY2FsVGV4dEJveCYmUHQodC50ZXh0Q29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEFycmF5LGcudGV4dC5wbGFjZWQsIXJ8fHcsby54LG8ueSk7fWNvbnN0IGE9ciYmQm9vbGVhbighdyYmaS52ZXJ0aWNhbEljb25Cb3gpO2kuaWNvbkJveCYmUHQodC5pY29uQ29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEFycmF5LGcuaWNvbi5wbGFjZWQsYSx1P28ueDowLHU/by55OjApLGkudmVydGljYWxJY29uQm94JiZQdCh0Lmljb25Db2xsaXNpb25Cb3guY29sbGlzaW9uVmVydGV4QXJyYXksZy5pY29uLnBsYWNlZCwhYSx1P28ueDowLHU/by55OjApO319fWlmKHQuZnVsbHlDbGlwcGVkPTA9PT1tLHQuc29ydEZlYXR1cmVzKHRoaXMudHJhbnNmb3JtLmFuZ2xlKSx0aGlzLnJldGFpbmVkUXVlcnlEYXRhW3QuYnVja2V0SW5zdGFuY2VJZF0mJih0aGlzLnJldGFpbmVkUXVlcnlEYXRhW3QuYnVja2V0SW5zdGFuY2VJZF0uZmVhdHVyZVNvcnRPcmRlcj10LmZlYXR1cmVTb3J0T3JkZXIpLHQuaGFzVGV4dERhdGEoKSYmdC50ZXh0Lm9wYWNpdHlWZXJ0ZXhCdWZmZXImJnQudGV4dC5vcGFjaXR5VmVydGV4QnVmZmVyLnVwZGF0ZURhdGEodC50ZXh0Lm9wYWNpdHlWZXJ0ZXhBcnJheSksdC5oYXNJY29uRGF0YSgpJiZ0Lmljb24ub3BhY2l0eVZlcnRleEJ1ZmZlciYmdC5pY29uLm9wYWNpdHlWZXJ0ZXhCdWZmZXIudXBkYXRlRGF0YSh0Lmljb24ub3BhY2l0eVZlcnRleEFycmF5KSx0Lmhhc0ljb25Db2xsaXNpb25Cb3hEYXRhKCkmJnQuaWNvbkNvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhCdWZmZXImJnQuaWNvbkNvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhCdWZmZXIudXBkYXRlRGF0YSh0Lmljb25Db2xsaXNpb25Cb3guY29sbGlzaW9uVmVydGV4QXJyYXkpLHQuaGFzVGV4dENvbGxpc2lvbkJveERhdGEoKSYmdC50ZXh0Q29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEJ1ZmZlciYmdC50ZXh0Q29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEJ1ZmZlci51cGRhdGVEYXRhKHQudGV4dENvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhBcnJheSksdC5idWNrZXRJbnN0YW5jZUlkIGluIHRoaXMuY29sbGlzaW9uQ2lyY2xlQXJyYXlzKXtjb25zdCBlPXRoaXMuY29sbGlzaW9uQ2lyY2xlQXJyYXlzW3QuYnVja2V0SW5zdGFuY2VJZF07dC5wbGFjZW1lbnRJbnZQcm9qTWF0cml4PWUuaW52UHJvak1hdHJpeCx0LnBsYWNlbWVudFZpZXdwb3J0TWF0cml4PWUudmlld3BvcnRNYXRyaXgsdC5jb2xsaXNpb25DaXJjbGVBcnJheT1lLmNpcmNsZXMsZGVsZXRlIHRoaXMuY29sbGlzaW9uQ2lyY2xlQXJyYXlzW3QuYnVja2V0SW5zdGFuY2VJZF07fX1zeW1ib2xGYWRlQ2hhbmdlKGUpe3JldHVybiAwPT09dGhpcy5mYWRlRHVyYXRpb24/MTooZS10aGlzLmNvbW1pdFRpbWUpL3RoaXMuZmFkZUR1cmF0aW9uK3RoaXMucHJldlpvb21BZGp1c3RtZW50fXpvb21BZGp1c3RtZW50KGUpe3JldHVybiBNYXRoLm1heCgwLCh0aGlzLnRyYW5zZm9ybS56b29tLWUpLzEuNSl9aGFzVHJhbnNpdGlvbnMoZSl7cmV0dXJuIHRoaXMuc3RhbGV8fGUtdGhpcy5sYXN0UGxhY2VtZW50Q2hhbmdlVGltZTx0aGlzLmZhZGVEdXJhdGlvbn1zdGlsbFJlY2VudChlLHQpe2NvbnN0IGk9dGhpcy56b29tQXRMYXN0UmVjZW5jeUNoZWNrPT09dD8xLXRoaXMuem9vbUFkanVzdG1lbnQodCk6MTtyZXR1cm4gdGhpcy56b29tQXRMYXN0UmVjZW5jeUNoZWNrPXQsdGhpcy5jb21taXRUaW1lK3RoaXMuZmFkZUR1cmF0aW9uKmk+ZX1zZXRTdGFsZSgpe3RoaXMuc3RhbGU9ITA7fX1mdW5jdGlvbiBQdChlLHQsaSxvLHIpe2UuZW1wbGFjZUJhY2sodD8xOjAsaT8xOjAsb3x8MCxyfHwwKSxlLmVtcGxhY2VCYWNrKHQ/MTowLGk/MTowLG98fDAscnx8MCksZS5lbXBsYWNlQmFjayh0PzE6MCxpPzE6MCxvfHwwLHJ8fDApLGUuZW1wbGFjZUJhY2sodD8xOjAsaT8xOjAsb3x8MCxyfHwwKTt9Y29uc3QgTHQ9TWF0aC5wb3coMiwyNSksUnQ9TWF0aC5wb3coMiwyNCksT3Q9TWF0aC5wb3coMiwxNyksQnQ9TWF0aC5wb3coMiwxNiksa3Q9TWF0aC5wb3coMiw5KSxGdD1NYXRoLnBvdygyLDgpLFV0PU1hdGgucG93KDIsMSk7ZnVuY3Rpb24gTnQoZSl7aWYoMD09PWUub3BhY2l0eSYmIWUucGxhY2VkKXJldHVybiAwO2lmKDE9PT1lLm9wYWNpdHkmJmUucGxhY2VkKXJldHVybiA0Mjk0OTY3Mjk1O2NvbnN0IHQ9ZS5wbGFjZWQ/MTowLGk9TWF0aC5mbG9vcigxMjcqZS5vcGFjaXR5KTtyZXR1cm4gaSpMdCt0KlJ0K2kqT3QrdCpCdCtpKmt0K3QqRnQraSpVdCt0fWNvbnN0IEd0PTA7Y2xhc3MganR7Y29uc3RydWN0b3IoZSl7dGhpcy5fc29ydEFjcm9zc1RpbGVzPVwidmlld3BvcnQteVwiIT09ZS5sYXlvdXQuZ2V0KFwic3ltYm9sLXotb3JkZXJcIikmJnZvaWQgMCE9PWUubGF5b3V0LmdldChcInN5bWJvbC1zb3J0LWtleVwiKS5jb25zdGFudE9yKDEpLHRoaXMuX2N1cnJlbnRUaWxlSW5kZXg9MCx0aGlzLl9jdXJyZW50UGFydEluZGV4PTAsdGhpcy5fc2VlbkNyb3NzVGlsZUlEcz17fSx0aGlzLl9idWNrZXRQYXJ0cz1bXTt9Y29udGludWVQbGFjZW1lbnQoZSx0LGksbyxyKXtjb25zdCBuPXRoaXMuX2J1Y2tldFBhcnRzO2Zvcig7dGhpcy5fY3VycmVudFRpbGVJbmRleDxlLmxlbmd0aDspaWYodC5nZXRCdWNrZXRQYXJ0cyhuLG8sZVt0aGlzLl9jdXJyZW50VGlsZUluZGV4XSx0aGlzLl9zb3J0QWNyb3NzVGlsZXMpLHRoaXMuX2N1cnJlbnRUaWxlSW5kZXgrKyxyKCkpcmV0dXJuICEwO2Zvcih0aGlzLl9zb3J0QWNyb3NzVGlsZXMmJih0aGlzLl9zb3J0QWNyb3NzVGlsZXM9ITEsbi5zb3J0KCgoZSx0KT0+ZS5zb3J0S2V5LXQuc29ydEtleSkpKTt0aGlzLl9jdXJyZW50UGFydEluZGV4PG4ubGVuZ3RoOyl7Y29uc3QgZT1uW3RoaXMuX2N1cnJlbnRQYXJ0SW5kZXhdO2lmKHQucGxhY2VMYXllckJ1Y2tldFBhcnQoZSx0aGlzLl9zZWVuQ3Jvc3NUaWxlSURzLGksMD09PWUuc3ltYm9sSW5zdGFuY2VTdGFydCksdGhpcy5fY3VycmVudFBhcnRJbmRleCsrLHIoKSlyZXR1cm4gITB9cmV0dXJuICExfX1jbGFzcyBadHtjb25zdHJ1Y3RvcihlLHQsaSxvLHIsbixhLHMpe3RoaXMucGxhY2VtZW50PW5ldyBBdChlLHIsbixhLHMpLHRoaXMuX2N1cnJlbnRQbGFjZW1lbnRJbmRleD10Lmxlbmd0aC0xLHRoaXMuX2ZvcmNlRnVsbFBsYWNlbWVudD1pLHRoaXMuX3Nob3dDb2xsaXNpb25Cb3hlcz1vLHRoaXMuX2RvbmU9ITE7fWlzRG9uZSgpe3JldHVybiB0aGlzLl9kb25lfWNvbnRpbnVlUGxhY2VtZW50KHQsaSxvKXtjb25zdCByPWUuZXhwb3J0ZWQubm93KCksbj0oKT0+e2NvbnN0IHQ9ZS5leHBvcnRlZC5ub3coKS1yO3JldHVybiAhdGhpcy5fZm9yY2VGdWxsUGxhY2VtZW50JiZ0PjJ9O2Zvcig7dGhpcy5fY3VycmVudFBsYWNlbWVudEluZGV4Pj0wOyl7Y29uc3QgZT1pW3RbdGhpcy5fY3VycmVudFBsYWNlbWVudEluZGV4XV0scj10aGlzLnBsYWNlbWVudC5jb2xsaXNpb25JbmRleC50cmFuc2Zvcm0uem9vbTtpZihcInN5bWJvbFwiPT09ZS50eXBlJiYoIWUubWluem9vbXx8ZS5taW56b29tPD1yKSYmKCFlLm1heHpvb218fGUubWF4em9vbT5yKSl7aWYodGhpcy5faW5Qcm9ncmVzc0xheWVyfHwodGhpcy5faW5Qcm9ncmVzc0xheWVyPW5ldyBqdChlKSksdGhpcy5faW5Qcm9ncmVzc0xheWVyLmNvbnRpbnVlUGxhY2VtZW50KG9bZS5zb3VyY2VdLHRoaXMucGxhY2VtZW50LHRoaXMuX3Nob3dDb2xsaXNpb25Cb3hlcyxlLG4pKXJldHVybjtkZWxldGUgdGhpcy5faW5Qcm9ncmVzc0xheWVyO310aGlzLl9jdXJyZW50UGxhY2VtZW50SW5kZXgtLTt9dGhpcy5fZG9uZT0hMDt9Y29tbWl0KGUpe3JldHVybiB0aGlzLnBsYWNlbWVudC5jb21taXQoZSksdGhpcy5wbGFjZW1lbnR9fWNvbnN0IFZ0PTUxMi9lLkVYVEVOVC8yO2NsYXNzIFd0e2NvbnN0cnVjdG9yKGUsdCxpKXt0aGlzLnRpbGVJRD1lLHRoaXMuaW5kZXhlZFN5bWJvbEluc3RhbmNlcz17fSx0aGlzLmJ1Y2tldEluc3RhbmNlSWQ9aTtmb3IobGV0IGk9MDtpPHQubGVuZ3RoO2krKyl7Y29uc3Qgbz10LmdldChpKSxyPW8ua2V5O3RoaXMuaW5kZXhlZFN5bWJvbEluc3RhbmNlc1tyXXx8KHRoaXMuaW5kZXhlZFN5bWJvbEluc3RhbmNlc1tyXT1bXSksdGhpcy5pbmRleGVkU3ltYm9sSW5zdGFuY2VzW3JdLnB1c2goe2Nyb3NzVGlsZUlEOm8uY3Jvc3NUaWxlSUQsY29vcmQ6dGhpcy5nZXRTY2FsZWRDb29yZGluYXRlcyhvLGUpfSk7fX1nZXRTY2FsZWRDb29yZGluYXRlcyh0LGkpe2NvbnN0IG89VnQvTWF0aC5wb3coMixpLmNhbm9uaWNhbC56LXRoaXMudGlsZUlELmNhbm9uaWNhbC56KTtyZXR1cm4ge3g6TWF0aC5mbG9vcigoaS5jYW5vbmljYWwueCplLkVYVEVOVCt0LnRpbGVBbmNob3JYKSpvKSx5Ok1hdGguZmxvb3IoKGkuY2Fub25pY2FsLnkqZS5FWFRFTlQrdC50aWxlQW5jaG9yWSkqbyl9fWZpbmRNYXRjaGVzKGUsdCxpKXtjb25zdCBvPXRoaXMudGlsZUlELmNhbm9uaWNhbC56PHQuY2Fub25pY2FsLno/MTpNYXRoLnBvdygyLHRoaXMudGlsZUlELmNhbm9uaWNhbC56LXQuY2Fub25pY2FsLnopO2ZvcihsZXQgcj0wO3I8ZS5sZW5ndGg7cisrKXtjb25zdCBuPWUuZ2V0KHIpO2lmKG4uY3Jvc3NUaWxlSUQpY29udGludWU7Y29uc3QgYT10aGlzLmluZGV4ZWRTeW1ib2xJbnN0YW5jZXNbbi5rZXldO2lmKCFhKWNvbnRpbnVlO2NvbnN0IHM9dGhpcy5nZXRTY2FsZWRDb29yZGluYXRlcyhuLHQpO2Zvcihjb25zdCBlIG9mIGEpaWYoTWF0aC5hYnMoZS5jb29yZC54LXMueCk8PW8mJk1hdGguYWJzKGUuY29vcmQueS1zLnkpPD1vJiYhaVtlLmNyb3NzVGlsZUlEXSl7aVtlLmNyb3NzVGlsZUlEXT0hMCxuLmNyb3NzVGlsZUlEPWUuY3Jvc3NUaWxlSUQ7YnJlYWt9fX19Y2xhc3MgWHR7Y29uc3RydWN0b3IoKXt0aGlzLm1heENyb3NzVGlsZUlEPTA7fWdlbmVyYXRlKCl7cmV0dXJuICsrdGhpcy5tYXhDcm9zc1RpbGVJRH19Y2xhc3MgcXR7Y29uc3RydWN0b3IoKXt0aGlzLmluZGV4ZXM9e30sdGhpcy51c2VkQ3Jvc3NUaWxlSURzPXt9LHRoaXMubG5nPTA7fWhhbmRsZVdyYXBKdW1wKGUpe2NvbnN0IHQ9TWF0aC5yb3VuZCgoZS10aGlzLmxuZykvMzYwKTtpZigwIT09dClmb3IoY29uc3QgZSBpbiB0aGlzLmluZGV4ZXMpe2NvbnN0IGk9dGhpcy5pbmRleGVzW2VdLG89e307Zm9yKGNvbnN0IGUgaW4gaSl7Y29uc3Qgcj1pW2VdO3IudGlsZUlEPXIudGlsZUlELnVud3JhcFRvKHIudGlsZUlELndyYXArdCksb1tyLnRpbGVJRC5rZXldPXI7fXRoaXMuaW5kZXhlc1tlXT1vO310aGlzLmxuZz1lO31hZGRCdWNrZXQoZSx0LGkpe2lmKHRoaXMuaW5kZXhlc1tlLm92ZXJzY2FsZWRaXSYmdGhpcy5pbmRleGVzW2Uub3ZlcnNjYWxlZFpdW2Uua2V5XSl7aWYodGhpcy5pbmRleGVzW2Uub3ZlcnNjYWxlZFpdW2Uua2V5XS5idWNrZXRJbnN0YW5jZUlkPT09dC5idWNrZXRJbnN0YW5jZUlkKXJldHVybiAhMTt0aGlzLnJlbW92ZUJ1Y2tldENyb3NzVGlsZUlEcyhlLm92ZXJzY2FsZWRaLHRoaXMuaW5kZXhlc1tlLm92ZXJzY2FsZWRaXVtlLmtleV0pO31mb3IobGV0IGU9MDtlPHQuc3ltYm9sSW5zdGFuY2VzLmxlbmd0aDtlKyspdC5zeW1ib2xJbnN0YW5jZXMuZ2V0KGUpLmNyb3NzVGlsZUlEPTA7dGhpcy51c2VkQ3Jvc3NUaWxlSURzW2Uub3ZlcnNjYWxlZFpdfHwodGhpcy51c2VkQ3Jvc3NUaWxlSURzW2Uub3ZlcnNjYWxlZFpdPXt9KTtjb25zdCBvPXRoaXMudXNlZENyb3NzVGlsZUlEc1tlLm92ZXJzY2FsZWRaXTtmb3IoY29uc3QgaSBpbiB0aGlzLmluZGV4ZXMpe2NvbnN0IHI9dGhpcy5pbmRleGVzW2ldO2lmKE51bWJlcihpKT5lLm92ZXJzY2FsZWRaKWZvcihjb25zdCBpIGluIHIpe2NvbnN0IG49cltpXTtuLnRpbGVJRC5pc0NoaWxkT2YoZSkmJm4uZmluZE1hdGNoZXModC5zeW1ib2xJbnN0YW5jZXMsZSxvKTt9ZWxzZSB7Y29uc3Qgbj1yW2Uuc2NhbGVkVG8oTnVtYmVyKGkpKS5rZXldO24mJm4uZmluZE1hdGNoZXModC5zeW1ib2xJbnN0YW5jZXMsZSxvKTt9fWZvcihsZXQgZT0wO2U8dC5zeW1ib2xJbnN0YW5jZXMubGVuZ3RoO2UrKyl7Y29uc3Qgcj10LnN5bWJvbEluc3RhbmNlcy5nZXQoZSk7ci5jcm9zc1RpbGVJRHx8KHIuY3Jvc3NUaWxlSUQ9aS5nZW5lcmF0ZSgpLG9bci5jcm9zc1RpbGVJRF09ITApO31yZXR1cm4gdm9pZCAwPT09dGhpcy5pbmRleGVzW2Uub3ZlcnNjYWxlZFpdJiYodGhpcy5pbmRleGVzW2Uub3ZlcnNjYWxlZFpdPXt9KSx0aGlzLmluZGV4ZXNbZS5vdmVyc2NhbGVkWl1bZS5rZXldPW5ldyBXdChlLHQuc3ltYm9sSW5zdGFuY2VzLHQuYnVja2V0SW5zdGFuY2VJZCksITB9cmVtb3ZlQnVja2V0Q3Jvc3NUaWxlSURzKGUsdCl7Zm9yKGNvbnN0IGkgaW4gdC5pbmRleGVkU3ltYm9sSW5zdGFuY2VzKWZvcihjb25zdCBvIG9mIHQuaW5kZXhlZFN5bWJvbEluc3RhbmNlc1tpXSlkZWxldGUgdGhpcy51c2VkQ3Jvc3NUaWxlSURzW2VdW28uY3Jvc3NUaWxlSURdO31yZW1vdmVTdGFsZUJ1Y2tldHMoZSl7bGV0IHQ9ITE7Zm9yKGNvbnN0IGkgaW4gdGhpcy5pbmRleGVzKXtjb25zdCBvPXRoaXMuaW5kZXhlc1tpXTtmb3IoY29uc3QgciBpbiBvKWVbb1tyXS5idWNrZXRJbnN0YW5jZUlkXXx8KHRoaXMucmVtb3ZlQnVja2V0Q3Jvc3NUaWxlSURzKGksb1tyXSksZGVsZXRlIG9bcl0sdD0hMCk7fXJldHVybiB0fX1jbGFzcyAkdHtjb25zdHJ1Y3Rvcigpe3RoaXMubGF5ZXJJbmRleGVzPXt9LHRoaXMuY3Jvc3NUaWxlSURzPW5ldyBYdCx0aGlzLm1heEJ1Y2tldEluc3RhbmNlSWQ9MCx0aGlzLmJ1Y2tldHNJbkN1cnJlbnRQbGFjZW1lbnQ9e307fWFkZExheWVyKGUsdCxpLG8pe2xldCByPXRoaXMubGF5ZXJJbmRleGVzW2UuaWRdO3ZvaWQgMD09PXImJihyPXRoaXMubGF5ZXJJbmRleGVzW2UuaWRdPW5ldyBxdCk7bGV0IG49ITE7Y29uc3QgYT17fTtcImdsb2JlXCIhPT1vLm5hbWUmJnIuaGFuZGxlV3JhcEp1bXAoaSk7Zm9yKGNvbnN0IGkgb2YgdCl7Y29uc3QgdD1pLmdldEJ1Y2tldChlKTt0JiZlLmlkPT09dC5sYXllcklkc1swXSYmKHQuYnVja2V0SW5zdGFuY2VJZHx8KHQuYnVja2V0SW5zdGFuY2VJZD0rK3RoaXMubWF4QnVja2V0SW5zdGFuY2VJZCksci5hZGRCdWNrZXQoaS50aWxlSUQsdCx0aGlzLmNyb3NzVGlsZUlEcykmJihuPSEwKSxhW3QuYnVja2V0SW5zdGFuY2VJZF09ITApO31yZXR1cm4gci5yZW1vdmVTdGFsZUJ1Y2tldHMoYSkmJihuPSEwKSxufXBydW5lVW51c2VkTGF5ZXJzKGUpe2NvbnN0IHQ9e307ZS5mb3JFYWNoKChlPT57dFtlXT0hMDt9KSk7Zm9yKGNvbnN0IGUgaW4gdGhpcy5sYXllckluZGV4ZXMpdFtlXXx8ZGVsZXRlIHRoaXMubGF5ZXJJbmRleGVzW2VdO319Y29uc3QgSHQ9KHQsaSk9PmUuZW1pdFZhbGlkYXRpb25FcnJvcnModCxpJiZpLmZpbHRlcigoZT0+XCJzb3VyY2UuY2FudmFzXCIhPT1lLmlkZW50aWZpZXIpKSksWXQ9ZS5waWNrKFZlLFtcImFkZExheWVyXCIsXCJyZW1vdmVMYXllclwiLFwic2V0UGFpbnRQcm9wZXJ0eVwiLFwic2V0TGF5b3V0UHJvcGVydHlcIixcInNldEZpbHRlclwiLFwiYWRkU291cmNlXCIsXCJyZW1vdmVTb3VyY2VcIixcInNldExheWVyWm9vbVJhbmdlXCIsXCJzZXRMaWdodFwiLFwic2V0VHJhbnNpdGlvblwiLFwic2V0R2VvSlNPTlNvdXJjZURhdGFcIixcInNldFRlcnJhaW5cIixcInNldEZvZ1wiLFwic2V0UHJvamVjdGlvblwiXSksS3Q9ZS5waWNrKFZlLFtcInNldENlbnRlclwiLFwic2V0Wm9vbVwiLFwic2V0QmVhcmluZ1wiLFwic2V0UGl0Y2hcIl0pLEp0PXt2ZXJzaW9uOjgsbGF5ZXJzOltdLHNvdXJjZXM6e319LFF0PXtmaWxsOiEwLGxpbmU6ITAsYmFja2dyb3VuZDohMCxoaWxsc2hhZGU6ITAscmFzdGVyOiEwfTtjbGFzcyBlaSBleHRlbmRzIGUuRXZlbnRlZHtjb25zdHJ1Y3Rvcih0LGk9e30pe3N1cGVyKCksdGhpcy5tYXA9dCx0aGlzLmRpc3BhdGNoZXI9bmV3IFAoR2UoKSx0aGlzKSx0aGlzLmltYWdlTWFuYWdlcj1uZXcgeSx0aGlzLmltYWdlTWFuYWdlci5zZXRFdmVudGVkUGFyZW50KHRoaXMpLHRoaXMuZ2x5cGhNYW5hZ2VyPW5ldyBlLkdseXBoTWFuYWdlcih0Ll9yZXF1ZXN0TWFuYWdlcixpLmxvY2FsRm9udEZhbWlseT9lLkxvY2FsR2x5cGhNb2RlLmFsbDppLmxvY2FsSWRlb2dyYXBoRm9udEZhbWlseT9lLkxvY2FsR2x5cGhNb2RlLmlkZW9ncmFwaHM6ZS5Mb2NhbEdseXBoTW9kZS5ub25lLGkubG9jYWxGb250RmFtaWx5fHxpLmxvY2FsSWRlb2dyYXBoRm9udEZhbWlseSksdGhpcy5jcm9zc1RpbGVTeW1ib2xJbmRleD1uZXcgJHQsdGhpcy5fbGF5ZXJzPXt9LHRoaXMuX251bTNETGF5ZXJzPTAsdGhpcy5fbnVtU3ltYm9sTGF5ZXJzPTAsdGhpcy5fbnVtQ2lyY2xlTGF5ZXJzPTAsdGhpcy5fc2VyaWFsaXplZExheWVycz17fSx0aGlzLl9zb3VyY2VDYWNoZXM9e30sdGhpcy5fb3RoZXJTb3VyY2VDYWNoZXM9e30sdGhpcy5fc3ltYm9sU291cmNlQ2FjaGVzPXt9LHRoaXMuem9vbUhpc3Rvcnk9bmV3IGUuWm9vbUhpc3RvcnksdGhpcy5fbG9hZGVkPSExLHRoaXMuX2F2YWlsYWJsZUltYWdlcz1bXSx0aGlzLl9vcmRlcj1bXSx0aGlzLl9kcmFwZWRGaXJzdE9yZGVyPVtdLHRoaXMuX21hcmtlcnNOZWVkVXBkYXRlPSExLHRoaXMuX3Jlc2V0VXBkYXRlcygpLHRoaXMuZGlzcGF0Y2hlci5icm9hZGNhc3QoXCJzZXRSZWZlcnJlclwiLGUuZ2V0UmVmZXJyZXIoKSk7Y29uc3Qgbz10aGlzO3RoaXMuX3J0bFRleHRQbHVnaW5DYWxsYmFjaz1laS5yZWdpc3RlckZvclBsdWdpblN0YXRlQ2hhbmdlKCh0PT57by5kaXNwYXRjaGVyLmJyb2FkY2FzdChcInN5bmNSVExQbHVnaW5TdGF0ZVwiLHtwbHVnaW5TdGF0dXM6dC5wbHVnaW5TdGF0dXMscGx1Z2luVVJMOnQucGx1Z2luVVJMfSwoKHQsaSk9PntpZihlLnRyaWdnZXJQbHVnaW5Db21wbGV0aW9uRXZlbnQodCksaSYmaS5ldmVyeSgoZT0+ZSkpKWZvcihjb25zdCBlIGluIG8uX3NvdXJjZUNhY2hlcyl7Y29uc3QgdD1vLl9zb3VyY2VDYWNoZXNbZV0saT10LmdldFNvdXJjZSgpLnR5cGU7XCJ2ZWN0b3JcIiE9PWkmJlwiZ2VvanNvblwiIT09aXx8dC5yZWxvYWQoKTt9fSkpO30pKSx0aGlzLm9uKFwiZGF0YVwiLChlPT57aWYoXCJzb3VyY2VcIiE9PWUuZGF0YVR5cGV8fFwibWV0YWRhdGFcIiE9PWUuc291cmNlRGF0YVR5cGUpcmV0dXJuO2NvbnN0IHQ9dGhpcy5nZXRTb3VyY2UoZS5zb3VyY2VJZCk7aWYodCYmdC52ZWN0b3JMYXllcklkcylmb3IoY29uc3QgZSBpbiB0aGlzLl9sYXllcnMpe2NvbnN0IGk9dGhpcy5fbGF5ZXJzW2VdO2kuc291cmNlPT09dC5pZCYmdGhpcy5fdmFsaWRhdGVMYXllcihpKTt9fSkpO31sb2FkVVJMKHQsaT17fSl7dGhpcy5maXJlKG5ldyBlLkV2ZW50KFwiZGF0YWxvYWRpbmdcIix7ZGF0YVR5cGU6XCJzdHlsZVwifSkpO2NvbnN0IG89XCJib29sZWFuXCI9PXR5cGVvZiBpLnZhbGlkYXRlP2kudmFsaWRhdGU6IWUuaXNNYXBib3hVUkwodCk7dD10aGlzLm1hcC5fcmVxdWVzdE1hbmFnZXIubm9ybWFsaXplU3R5bGVVUkwodCxpLmFjY2Vzc1Rva2VuKTtjb25zdCByPXRoaXMubWFwLl9yZXF1ZXN0TWFuYWdlci50cmFuc2Zvcm1SZXF1ZXN0KHQsZS5SZXNvdXJjZVR5cGUuU3R5bGUpO3RoaXMuX3JlcXVlc3Q9ZS5nZXRKU09OKHIsKCh0LGkpPT57dGhpcy5fcmVxdWVzdD1udWxsLHQ/dGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQodCkpOmkmJnRoaXMuX2xvYWQoaSxvKTt9KSk7fWxvYWRKU09OKHQsaT17fSl7dGhpcy5maXJlKG5ldyBlLkV2ZW50KFwiZGF0YWxvYWRpbmdcIix7ZGF0YVR5cGU6XCJzdHlsZVwifSkpLHRoaXMuX3JlcXVlc3Q9ZS5leHBvcnRlZC5mcmFtZSgoKCk9Pnt0aGlzLl9yZXF1ZXN0PW51bGwsdGhpcy5fbG9hZCh0LCExIT09aS52YWxpZGF0ZSk7fSkpO31sb2FkRW1wdHkoKXt0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJkYXRhbG9hZGluZ1wiLHtkYXRhVHlwZTpcInN0eWxlXCJ9KSksdGhpcy5fbG9hZChKdCwhMSk7fV91cGRhdGVMYXllckNvdW50KGUsdCl7Y29uc3QgaT10PzE6LTE7ZS5pczNEKCkmJih0aGlzLl9udW0zRExheWVycys9aSksXCJjaXJjbGVcIj09PWUudHlwZSYmKHRoaXMuX251bUNpcmNsZUxheWVycys9aSksXCJzeW1ib2xcIj09PWUudHlwZSYmKHRoaXMuX251bVN5bWJvbExheWVycys9aSk7fV9sb2FkKHQsaSl7aWYoaSYmSHQodGhpcyxlLnZhbGlkYXRlU3R5bGUodCkpKXJldHVybjt0aGlzLl9sb2FkZWQ9ITAsdGhpcy5zdHlsZXNoZWV0PWUuY2xvbmUkMSh0KSx0aGlzLl91cGRhdGVNYXBQcm9qZWN0aW9uKCk7Zm9yKGNvbnN0IGUgaW4gdC5zb3VyY2VzKXRoaXMuYWRkU291cmNlKGUsdC5zb3VyY2VzW2VdLHt2YWxpZGF0ZTohMX0pO3RoaXMuX2NoYW5nZWQ9ITEsdC5zcHJpdGU/dGhpcy5fbG9hZFNwcml0ZSh0LnNwcml0ZSk6KHRoaXMuaW1hZ2VNYW5hZ2VyLnNldExvYWRlZCghMCksdGhpcy5kaXNwYXRjaGVyLmJyb2FkY2FzdChcInNwcml0ZUxvYWRlZFwiLCEwKSksdGhpcy5nbHlwaE1hbmFnZXIuc2V0VVJMKHQuZ2x5cGhzKTtjb25zdCBvPVplKHRoaXMuc3R5bGVzaGVldC5sYXllcnMpO3RoaXMuX29yZGVyPW8ubWFwKChlPT5lLmlkKSksdGhpcy5fbGF5ZXJzPXt9LHRoaXMuX3NlcmlhbGl6ZWRMYXllcnM9e307Zm9yKGxldCB0IG9mIG8pdD1lLmNyZWF0ZVN0eWxlTGF5ZXIodCksdC5zZXRFdmVudGVkUGFyZW50KHRoaXMse2xheWVyOntpZDp0LmlkfX0pLHRoaXMuX2xheWVyc1t0LmlkXT10LHRoaXMuX3NlcmlhbGl6ZWRMYXllcnNbdC5pZF09dC5zZXJpYWxpemUoKSx0aGlzLl91cGRhdGVMYXllckNvdW50KHQsITApO3RoaXMuZGlzcGF0Y2hlci5icm9hZGNhc3QoXCJzZXRMYXllcnNcIix0aGlzLl9zZXJpYWxpemVMYXllcnModGhpcy5fb3JkZXIpKSx0aGlzLmxpZ2h0PW5ldyBUKHRoaXMuc3R5bGVzaGVldC5saWdodCksdGhpcy5zdHlsZXNoZWV0LnRlcnJhaW4mJiF0aGlzLnRlcnJhaW5TZXRGb3JEcmFwaW5nT25seSgpJiZ0aGlzLl9jcmVhdGVUZXJyYWluKHRoaXMuc3R5bGVzaGVldC50ZXJyYWluLDEpLHRoaXMuc3R5bGVzaGVldC5mb2cmJnRoaXMuX2NyZWF0ZUZvZyh0aGlzLnN0eWxlc2hlZXQuZm9nKSx0aGlzLl91cGRhdGVEcmFwZUZpcnN0TGF5ZXJzKCksdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwiZGF0YVwiLHtkYXRhVHlwZTpcInN0eWxlXCJ9KSksdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwic3R5bGUubG9hZFwiKSk7fXRlcnJhaW5TZXRGb3JEcmFwaW5nT25seSgpe3JldHVybiAhIXRoaXMudGVycmFpbiYmMD09PXRoaXMudGVycmFpbi5kcmFwZVJlbmRlck1vZGV9c2V0UHJvamVjdGlvbihlKXtlP3RoaXMuc3R5bGVzaGVldC5wcm9qZWN0aW9uPWU6ZGVsZXRlIHRoaXMuc3R5bGVzaGVldC5wcm9qZWN0aW9uLHRoaXMuX3VwZGF0ZU1hcFByb2plY3Rpb24oKTt9YXBwbHlQcm9qZWN0aW9uVXBkYXRlKCl7dGhpcy5fbG9hZGVkJiYodGhpcy5kaXNwYXRjaGVyLmJyb2FkY2FzdChcInNldFByb2plY3Rpb25cIix0aGlzLm1hcC50cmFuc2Zvcm0ucHJvamVjdGlvbk9wdGlvbnMpLHRoaXMubWFwLnRyYW5zZm9ybS5wcm9qZWN0aW9uLnJlcXVpcmVzRHJhcGluZz90aGlzLmdldFRlcnJhaW4oKXx8dGhpcy5zdHlsZXNoZWV0LnRlcnJhaW58fHRoaXMuc2V0VGVycmFpbkZvckRyYXBpbmcoKTp0aGlzLnRlcnJhaW5TZXRGb3JEcmFwaW5nT25seSgpJiZ0aGlzLnNldFRlcnJhaW4obnVsbCkpO31fdXBkYXRlTWFwUHJvamVjdGlvbigpe3RoaXMubWFwLl91c2VFeHBsaWNpdFByb2plY3Rpb24/dGhpcy5hcHBseVByb2plY3Rpb25VcGRhdGUoKTp0aGlzLm1hcC5fcHJpb3JpdGl6ZUFuZFVwZGF0ZVByb2plY3Rpb24obnVsbCx0aGlzLnN0eWxlc2hlZXQucHJvamVjdGlvbik7fV9sb2FkU3ByaXRlKHQpe3RoaXMuX3Nwcml0ZVJlcXVlc3Q9ZnVuY3Rpb24odCxpLG8pe2xldCByLG4sYTtjb25zdCBzPWUuZXhwb3J0ZWQuZGV2aWNlUGl4ZWxSYXRpbz4xP1wiQDJ4XCI6XCJcIjtsZXQgbD1lLmdldEpTT04oaS50cmFuc2Zvcm1SZXF1ZXN0KGkubm9ybWFsaXplU3ByaXRlVVJMKHQscyxcIi5qc29uXCIpLGUuUmVzb3VyY2VUeXBlLlNwcml0ZUpTT04pLCgoZSx0KT0+e2w9bnVsbCxhfHwoYT1lLHI9dCxoKCkpO30pKSxjPWUuZ2V0SW1hZ2UoaS50cmFuc2Zvcm1SZXF1ZXN0KGkubm9ybWFsaXplU3ByaXRlVVJMKHQscyxcIi5wbmdcIiksZS5SZXNvdXJjZVR5cGUuU3ByaXRlSW1hZ2UpLCgoZSx0KT0+e2M9bnVsbCxhfHwoYT1lLG49dCxoKCkpO30pKTtmdW5jdGlvbiBoKCl7aWYoYSlvKGEpO2Vsc2UgaWYociYmbil7Y29uc3QgdD1lLmV4cG9ydGVkLmdldEltYWdlRGF0YShuKSxpPXt9O2Zvcihjb25zdCBvIGluIHIpe2NvbnN0e3dpZHRoOm4saGVpZ2h0OmEseDpzLHk6bCxzZGY6YyxwaXhlbFJhdGlvOmgsc3RyZXRjaFg6XyxzdHJldGNoWTp1LGNvbnRlbnQ6ZH09cltvXSxwPW5ldyBlLlJHQkFJbWFnZSh7d2lkdGg6bixoZWlnaHQ6YX0pO2UuUkdCQUltYWdlLmNvcHkodCxwLHt4OnMseTpsfSx7eDowLHk6MH0se3dpZHRoOm4saGVpZ2h0OmF9KSxpW29dPXtkYXRhOnAscGl4ZWxSYXRpbzpoLHNkZjpjLHN0cmV0Y2hYOl8sc3RyZXRjaFk6dSxjb250ZW50OmR9O31vKG51bGwsaSk7fX1yZXR1cm4ge2NhbmNlbCgpe2wmJihsLmNhbmNlbCgpLGw9bnVsbCksYyYmKGMuY2FuY2VsKCksYz1udWxsKTt9fX0odCx0aGlzLm1hcC5fcmVxdWVzdE1hbmFnZXIsKCh0LGkpPT57aWYodGhpcy5fc3ByaXRlUmVxdWVzdD1udWxsLHQpdGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQodCkpO2Vsc2UgaWYoaSlmb3IoY29uc3QgZSBpbiBpKXRoaXMuaW1hZ2VNYW5hZ2VyLmFkZEltYWdlKGUsaVtlXSk7dGhpcy5pbWFnZU1hbmFnZXIuc2V0TG9hZGVkKCEwKSx0aGlzLl9hdmFpbGFibGVJbWFnZXM9dGhpcy5pbWFnZU1hbmFnZXIubGlzdEltYWdlcygpLHRoaXMuZGlzcGF0Y2hlci5icm9hZGNhc3QoXCJzZXRJbWFnZXNcIix0aGlzLl9hdmFpbGFibGVJbWFnZXMpLHRoaXMuZGlzcGF0Y2hlci5icm9hZGNhc3QoXCJzcHJpdGVMb2FkZWRcIiwhMCksdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwiZGF0YVwiLHtkYXRhVHlwZTpcInN0eWxlXCJ9KSk7fSkpO31fdmFsaWRhdGVMYXllcih0KXtjb25zdCBpPXRoaXMuZ2V0U291cmNlKHQuc291cmNlKTtpZighaSlyZXR1cm47Y29uc3Qgbz10LnNvdXJjZUxheWVyO28mJihcImdlb2pzb25cIj09PWkudHlwZXx8aS52ZWN0b3JMYXllcklkcyYmLTE9PT1pLnZlY3RvckxheWVySWRzLmluZGV4T2YobykpJiZ0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgRXJyb3IoYFNvdXJjZSBsYXllciBcIiR7b31cIiBkb2VzIG5vdCBleGlzdCBvbiBzb3VyY2UgXCIke2kuaWR9XCIgYXMgc3BlY2lmaWVkIGJ5IHN0eWxlIGxheWVyIFwiJHt0LmlkfVwiYCkpKTt9bG9hZGVkKCl7aWYoIXRoaXMuX2xvYWRlZClyZXR1cm4gITE7aWYoT2JqZWN0LmtleXModGhpcy5fdXBkYXRlZFNvdXJjZXMpLmxlbmd0aClyZXR1cm4gITE7Zm9yKGNvbnN0IGUgaW4gdGhpcy5fc291cmNlQ2FjaGVzKWlmKCF0aGlzLl9zb3VyY2VDYWNoZXNbZV0ubG9hZGVkKCkpcmV0dXJuICExO3JldHVybiAhIXRoaXMuaW1hZ2VNYW5hZ2VyLmlzTG9hZGVkKCl9X3NlcmlhbGl6ZUxheWVycyhlKXtjb25zdCB0PVtdO2Zvcihjb25zdCBpIG9mIGUpe2NvbnN0IGU9dGhpcy5fbGF5ZXJzW2ldO1wiY3VzdG9tXCIhPT1lLnR5cGUmJnQucHVzaChlLnNlcmlhbGl6ZSgpKTt9cmV0dXJuIHR9aGFzVHJhbnNpdGlvbnMoKXtpZih0aGlzLmxpZ2h0JiZ0aGlzLmxpZ2h0Lmhhc1RyYW5zaXRpb24oKSlyZXR1cm4gITA7aWYodGhpcy5mb2cmJnRoaXMuZm9nLmhhc1RyYW5zaXRpb24oKSlyZXR1cm4gITA7Zm9yKGNvbnN0IGUgaW4gdGhpcy5fc291cmNlQ2FjaGVzKWlmKHRoaXMuX3NvdXJjZUNhY2hlc1tlXS5oYXNUcmFuc2l0aW9uKCkpcmV0dXJuICEwO2Zvcihjb25zdCBlIGluIHRoaXMuX2xheWVycylpZih0aGlzLl9sYXllcnNbZV0uaGFzVHJhbnNpdGlvbigpKXJldHVybiAhMDtyZXR1cm4gITF9Z2V0IG9yZGVyKCl7cmV0dXJuIHRoaXMubWFwLl9vcHRpbWl6ZUZvclRlcnJhaW4mJnRoaXMudGVycmFpbj90aGlzLl9kcmFwZWRGaXJzdE9yZGVyOnRoaXMuX29yZGVyfWlzTGF5ZXJEcmFwZWQoZSl7cmV0dXJuICEhdGhpcy50ZXJyYWluJiZRdFtlLnR5cGVdfV9jaGVja0xvYWRlZCgpe2lmKCF0aGlzLl9sb2FkZWQpdGhyb3cgbmV3IEVycm9yKFwiU3R5bGUgaXMgbm90IGRvbmUgbG9hZGluZ1wiKX11cGRhdGUodCl7aWYoIXRoaXMuX2xvYWRlZClyZXR1cm47Y29uc3QgaT10aGlzLl9jaGFuZ2VkO2lmKHRoaXMuX2NoYW5nZWQpe2NvbnN0IGU9T2JqZWN0LmtleXModGhpcy5fdXBkYXRlZExheWVycyksaT1PYmplY3Qua2V5cyh0aGlzLl9yZW1vdmVkTGF5ZXJzKTsoZS5sZW5ndGh8fGkubGVuZ3RoKSYmdGhpcy5fdXBkYXRlV29ya2VyTGF5ZXJzKGUsaSk7Zm9yKGNvbnN0IGUgaW4gdGhpcy5fdXBkYXRlZFNvdXJjZXMpe2NvbnN0IHQ9dGhpcy5fdXBkYXRlZFNvdXJjZXNbZV07XCJyZWxvYWRcIj09PXQ/dGhpcy5fcmVsb2FkU291cmNlKGUpOlwiY2xlYXJcIj09PXQmJnRoaXMuX2NsZWFyU291cmNlKGUpO310aGlzLl91cGRhdGVUaWxlc0ZvckNoYW5nZWRJbWFnZXMoKTtmb3IoY29uc3QgZSBpbiB0aGlzLl91cGRhdGVkUGFpbnRQcm9wcyl0aGlzLl9sYXllcnNbZV0udXBkYXRlVHJhbnNpdGlvbnModCk7dGhpcy5saWdodC51cGRhdGVUcmFuc2l0aW9ucyh0KSx0aGlzLmZvZyYmdGhpcy5mb2cudXBkYXRlVHJhbnNpdGlvbnModCksdGhpcy5fcmVzZXRVcGRhdGVzKCk7fWNvbnN0IG89e307Zm9yKGNvbnN0IGUgaW4gdGhpcy5fc291cmNlQ2FjaGVzKXtjb25zdCB0PXRoaXMuX3NvdXJjZUNhY2hlc1tlXTtvW2VdPXQudXNlZCx0LnVzZWQ9ITE7fWZvcihjb25zdCBlIG9mIHRoaXMuX29yZGVyKXtjb25zdCBpPXRoaXMuX2xheWVyc1tlXTtpZihpLnJlY2FsY3VsYXRlKHQsdGhpcy5fYXZhaWxhYmxlSW1hZ2VzKSwhaS5pc0hpZGRlbih0Lnpvb20pKXtjb25zdCBlPXRoaXMuX2dldExheWVyU291cmNlQ2FjaGUoaSk7ZSYmKGUudXNlZD0hMCk7fWNvbnN0IG89dGhpcy5tYXAucGFpbnRlcjtpZihvKXtjb25zdCBlPWkuZ2V0UHJvZ3JhbUlkcygpO2lmKCFlKWNvbnRpbnVlO2NvbnN0IHI9aS5nZXRQcm9ncmFtQ29uZmlndXJhdGlvbih0Lnpvb20pO2Zvcihjb25zdCB0IG9mIGUpby51c2VQcm9ncmFtKHQscik7fX1mb3IoY29uc3QgdCBpbiBvKXtjb25zdCBpPXRoaXMuX3NvdXJjZUNhY2hlc1t0XTtvW3RdIT09aS51c2VkJiZpLmdldFNvdXJjZSgpLmZpcmUobmV3IGUuRXZlbnQoXCJkYXRhXCIse3NvdXJjZURhdGFUeXBlOlwidmlzaWJpbGl0eVwiLGRhdGFUeXBlOlwic291cmNlXCIsc291cmNlSWQ6aS5nZXRTb3VyY2UoKS5pZH0pKTt9dGhpcy5saWdodC5yZWNhbGN1bGF0ZSh0KSx0aGlzLnRlcnJhaW4mJnRoaXMudGVycmFpbi5yZWNhbGN1bGF0ZSh0KSx0aGlzLmZvZyYmdGhpcy5mb2cucmVjYWxjdWxhdGUodCksdGhpcy56PXQuem9vbSx0aGlzLl9tYXJrZXJzTmVlZFVwZGF0ZSYmKHRoaXMuX3VwZGF0ZU1hcmtlcnNPcGFjaXR5KCksdGhpcy5fbWFya2Vyc05lZWRVcGRhdGU9ITEpLGkmJnRoaXMuZmlyZShuZXcgZS5FdmVudChcImRhdGFcIix7ZGF0YVR5cGU6XCJzdHlsZVwifSkpO31fdXBkYXRlVGlsZXNGb3JDaGFuZ2VkSW1hZ2VzKCl7Y29uc3QgZT1PYmplY3Qua2V5cyh0aGlzLl9jaGFuZ2VkSW1hZ2VzKTtpZihlLmxlbmd0aCl7Zm9yKGNvbnN0IHQgaW4gdGhpcy5fc291cmNlQ2FjaGVzKXRoaXMuX3NvdXJjZUNhY2hlc1t0XS5yZWxvYWRUaWxlc0ZvckRlcGVuZGVuY2llcyhbXCJpY29uc1wiLFwicGF0dGVybnNcIl0sZSk7dGhpcy5fY2hhbmdlZEltYWdlcz17fTt9fV91cGRhdGVXb3JrZXJMYXllcnMoZSx0KXt0aGlzLmRpc3BhdGNoZXIuYnJvYWRjYXN0KFwidXBkYXRlTGF5ZXJzXCIse2xheWVyczp0aGlzLl9zZXJpYWxpemVMYXllcnMoZSkscmVtb3ZlZElkczp0fSk7fV9yZXNldFVwZGF0ZXMoKXt0aGlzLl9jaGFuZ2VkPSExLHRoaXMuX3VwZGF0ZWRMYXllcnM9e30sdGhpcy5fcmVtb3ZlZExheWVycz17fSx0aGlzLl91cGRhdGVkU291cmNlcz17fSx0aGlzLl91cGRhdGVkUGFpbnRQcm9wcz17fSx0aGlzLl9jaGFuZ2VkSW1hZ2VzPXt9O31zZXRTdGF0ZShpKXtpZih0aGlzLl9jaGVja0xvYWRlZCgpLEh0KHRoaXMsZS52YWxpZGF0ZVN0eWxlKGkpKSlyZXR1cm4gITE7KGk9ZS5jbG9uZSQxKGkpKS5sYXllcnM9WmUoaS5sYXllcnMpO2NvbnN0IG89ZnVuY3Rpb24oZSxpKXtpZighZSlyZXR1cm4gW3tjb21tYW5kOlZlLnNldFN0eWxlLGFyZ3M6W2ldfV07bGV0IG89W107dHJ5e2lmKCF0KGUudmVyc2lvbixpLnZlcnNpb24pKXJldHVybiBbe2NvbW1hbmQ6VmUuc2V0U3R5bGUsYXJnczpbaV19XTt0KGUuY2VudGVyLGkuY2VudGVyKXx8by5wdXNoKHtjb21tYW5kOlZlLnNldENlbnRlcixhcmdzOltpLmNlbnRlcl19KSx0KGUuem9vbSxpLnpvb20pfHxvLnB1c2goe2NvbW1hbmQ6VmUuc2V0Wm9vbSxhcmdzOltpLnpvb21dfSksdChlLmJlYXJpbmcsaS5iZWFyaW5nKXx8by5wdXNoKHtjb21tYW5kOlZlLnNldEJlYXJpbmcsYXJnczpbaS5iZWFyaW5nXX0pLHQoZS5waXRjaCxpLnBpdGNoKXx8by5wdXNoKHtjb21tYW5kOlZlLnNldFBpdGNoLGFyZ3M6W2kucGl0Y2hdfSksdChlLnNwcml0ZSxpLnNwcml0ZSl8fG8ucHVzaCh7Y29tbWFuZDpWZS5zZXRTcHJpdGUsYXJnczpbaS5zcHJpdGVdfSksdChlLmdseXBocyxpLmdseXBocyl8fG8ucHVzaCh7Y29tbWFuZDpWZS5zZXRHbHlwaHMsYXJnczpbaS5nbHlwaHNdfSksdChlLnRyYW5zaXRpb24saS50cmFuc2l0aW9uKXx8by5wdXNoKHtjb21tYW5kOlZlLnNldFRyYW5zaXRpb24sYXJnczpbaS50cmFuc2l0aW9uXX0pLHQoZS5saWdodCxpLmxpZ2h0KXx8by5wdXNoKHtjb21tYW5kOlZlLnNldExpZ2h0LGFyZ3M6W2kubGlnaHRdfSksdChlLmZvZyxpLmZvZyl8fG8ucHVzaCh7Y29tbWFuZDpWZS5zZXRGb2csYXJnczpbaS5mb2ddfSksdChlLnByb2plY3Rpb24saS5wcm9qZWN0aW9uKXx8by5wdXNoKHtjb21tYW5kOlZlLnNldFByb2plY3Rpb24sYXJnczpbaS5wcm9qZWN0aW9uXX0pO2NvbnN0IHI9e30sbj1bXTshZnVuY3Rpb24oZSxpLG8scil7bGV0IG47Zm9yKG4gaW4gaT1pfHx7fSxlPWV8fHt9KWUuaGFzT3duUHJvcGVydHkobikmJihpLmhhc093blByb3BlcnR5KG4pfHxYZShuLG8scikpO2ZvcihuIGluIGkpaS5oYXNPd25Qcm9wZXJ0eShuKSYmKGUuaGFzT3duUHJvcGVydHkobik/dChlW25dLGlbbl0pfHwoXCJnZW9qc29uXCI9PT1lW25dLnR5cGUmJlwiZ2VvanNvblwiPT09aVtuXS50eXBlJiYkZShlLGksbik/by5wdXNoKHtjb21tYW5kOlZlLnNldEdlb0pTT05Tb3VyY2VEYXRhLGFyZ3M6W24saVtuXS5kYXRhXX0pOnFlKG4saSxvLHIpKTpXZShuLGksbykpO30oZS5zb3VyY2VzLGkuc291cmNlcyxuLHIpO2NvbnN0IGE9W107ZS5sYXllcnMmJmUubGF5ZXJzLmZvckVhY2goKGU9PntlLnNvdXJjZSYmcltlLnNvdXJjZV0/by5wdXNoKHtjb21tYW5kOlZlLnJlbW92ZUxheWVyLGFyZ3M6W2UuaWRdfSk6YS5wdXNoKGUpO30pKTtsZXQgcz1lLnRlcnJhaW47cyYmcltzLnNvdXJjZV0mJihvLnB1c2goe2NvbW1hbmQ6VmUuc2V0VGVycmFpbixhcmdzOlt2b2lkIDBdfSkscz12b2lkIDApLG89by5jb25jYXQobiksdChzLGkudGVycmFpbil8fG8ucHVzaCh7Y29tbWFuZDpWZS5zZXRUZXJyYWluLGFyZ3M6W2kudGVycmFpbl19KSxmdW5jdGlvbihlLGksbyl7aT1pfHxbXTtjb25zdCByPShlPWV8fFtdKS5tYXAoWWUpLG49aS5tYXAoWWUpLGE9ZS5yZWR1Y2UoS2Use30pLHM9aS5yZWR1Y2UoS2Use30pLGw9ci5zbGljZSgpLGM9T2JqZWN0LmNyZWF0ZShudWxsKTtsZXQgaCxfLHUsZCxwLG0sZjtmb3IoaD0wLF89MDtoPHIubGVuZ3RoO2grKyl1PXJbaF0scy5oYXNPd25Qcm9wZXJ0eSh1KT9fKys6KG8ucHVzaCh7Y29tbWFuZDpWZS5yZW1vdmVMYXllcixhcmdzOlt1XX0pLGwuc3BsaWNlKGwuaW5kZXhPZih1LF8pLDEpKTtmb3IoaD0wLF89MDtoPG4ubGVuZ3RoO2grKyl1PW5bbi5sZW5ndGgtMS1oXSxsW2wubGVuZ3RoLTEtaF0hPT11JiYoYS5oYXNPd25Qcm9wZXJ0eSh1KT8oby5wdXNoKHtjb21tYW5kOlZlLnJlbW92ZUxheWVyLGFyZ3M6W3VdfSksbC5zcGxpY2UobC5sYXN0SW5kZXhPZih1LGwubGVuZ3RoLV8pLDEpKTpfKyssbT1sW2wubGVuZ3RoLWhdLG8ucHVzaCh7Y29tbWFuZDpWZS5hZGRMYXllcixhcmdzOltzW3VdLG1dfSksbC5zcGxpY2UobC5sZW5ndGgtaCwwLHUpLGNbdV09ITApO2ZvcihoPTA7aDxuLmxlbmd0aDtoKyspaWYodT1uW2hdLGQ9YVt1XSxwPXNbdV0sIWNbdV0mJiF0KGQscCkpaWYodChkLnNvdXJjZSxwLnNvdXJjZSkmJnQoZFtcInNvdXJjZS1sYXllclwiXSxwW1wic291cmNlLWxheWVyXCJdKSYmdChkLnR5cGUscC50eXBlKSl7Zm9yKGYgaW4gSGUoZC5sYXlvdXQscC5sYXlvdXQsbyx1LG51bGwsVmUuc2V0TGF5b3V0UHJvcGVydHkpLEhlKGQucGFpbnQscC5wYWludCxvLHUsbnVsbCxWZS5zZXRQYWludFByb3BlcnR5KSx0KGQuZmlsdGVyLHAuZmlsdGVyKXx8by5wdXNoKHtjb21tYW5kOlZlLnNldEZpbHRlcixhcmdzOlt1LHAuZmlsdGVyXX0pLHQoZC5taW56b29tLHAubWluem9vbSkmJnQoZC5tYXh6b29tLHAubWF4em9vbSl8fG8ucHVzaCh7Y29tbWFuZDpWZS5zZXRMYXllclpvb21SYW5nZSxhcmdzOlt1LHAubWluem9vbSxwLm1heHpvb21dfSksZClkLmhhc093blByb3BlcnR5KGYpJiZcImxheW91dFwiIT09ZiYmXCJwYWludFwiIT09ZiYmXCJmaWx0ZXJcIiE9PWYmJlwibWV0YWRhdGFcIiE9PWYmJlwibWluem9vbVwiIT09ZiYmXCJtYXh6b29tXCIhPT1mJiYoMD09PWYuaW5kZXhPZihcInBhaW50LlwiKT9IZShkW2ZdLHBbZl0sbyx1LGYuc2xpY2UoNiksVmUuc2V0UGFpbnRQcm9wZXJ0eSk6dChkW2ZdLHBbZl0pfHxvLnB1c2goe2NvbW1hbmQ6VmUuc2V0TGF5ZXJQcm9wZXJ0eSxhcmdzOlt1LGYscFtmXV19KSk7Zm9yKGYgaW4gcClwLmhhc093blByb3BlcnR5KGYpJiYhZC5oYXNPd25Qcm9wZXJ0eShmKSYmXCJsYXlvdXRcIiE9PWYmJlwicGFpbnRcIiE9PWYmJlwiZmlsdGVyXCIhPT1mJiZcIm1ldGFkYXRhXCIhPT1mJiZcIm1pbnpvb21cIiE9PWYmJlwibWF4em9vbVwiIT09ZiYmKDA9PT1mLmluZGV4T2YoXCJwYWludC5cIik/SGUoZFtmXSxwW2ZdLG8sdSxmLnNsaWNlKDYpLFZlLnNldFBhaW50UHJvcGVydHkpOnQoZFtmXSxwW2ZdKXx8by5wdXNoKHtjb21tYW5kOlZlLnNldExheWVyUHJvcGVydHksYXJnczpbdSxmLHBbZl1dfSkpO31lbHNlIG8ucHVzaCh7Y29tbWFuZDpWZS5yZW1vdmVMYXllcixhcmdzOlt1XX0pLG09bFtsLmxhc3RJbmRleE9mKHUpKzFdLG8ucHVzaCh7Y29tbWFuZDpWZS5hZGRMYXllcixhcmdzOltwLG1dfSk7fShhLGkubGF5ZXJzLG8pO31jYXRjaChlKXtjb25zb2xlLndhcm4oXCJVbmFibGUgdG8gY29tcHV0ZSBzdHlsZSBkaWZmOlwiLGUpLG89W3tjb21tYW5kOlZlLnNldFN0eWxlLGFyZ3M6W2ldfV07fXJldHVybiBvfSh0aGlzLnNlcmlhbGl6ZSgpLGkpLmZpbHRlcigoZT0+IShlLmNvbW1hbmQgaW4gS3QpKSk7aWYoMD09PW8ubGVuZ3RoKXJldHVybiAhMTtjb25zdCByPW8uZmlsdGVyKChlPT4hKGUuY29tbWFuZCBpbiBZdCkpKTtpZihyLmxlbmd0aD4wKXRocm93IG5ldyBFcnJvcihgVW5pbXBsZW1lbnRlZDogJHtyLm1hcCgoZT0+ZS5jb21tYW5kKSkuam9pbihcIiwgXCIpfS5gKTtyZXR1cm4gby5mb3JFYWNoKChlPT57XCJzZXRUcmFuc2l0aW9uXCIhPT1lLmNvbW1hbmQmJlwic2V0UHJvamVjdGlvblwiIT09ZS5jb21tYW5kJiZ0aGlzW2UuY29tbWFuZF0uYXBwbHkodGhpcyxlLmFyZ3MpO30pKSx0aGlzLnN0eWxlc2hlZXQ9aSx0aGlzLl91cGRhdGVNYXBQcm9qZWN0aW9uKCksITB9YWRkSW1hZ2UodCxpKXtyZXR1cm4gdGhpcy5nZXRJbWFnZSh0KT90aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgRXJyb3IoXCJBbiBpbWFnZSB3aXRoIHRoaXMgbmFtZSBhbHJlYWR5IGV4aXN0cy5cIikpKToodGhpcy5pbWFnZU1hbmFnZXIuYWRkSW1hZ2UodCxpKSx0aGlzLl9hZnRlckltYWdlVXBkYXRlZCh0KSx0aGlzKX11cGRhdGVJbWFnZShlLHQpe3RoaXMuaW1hZ2VNYW5hZ2VyLnVwZGF0ZUltYWdlKGUsdCk7fWdldEltYWdlKGUpe3JldHVybiB0aGlzLmltYWdlTWFuYWdlci5nZXRJbWFnZShlKX1yZW1vdmVJbWFnZSh0KXtyZXR1cm4gdGhpcy5nZXRJbWFnZSh0KT8odGhpcy5pbWFnZU1hbmFnZXIucmVtb3ZlSW1hZ2UodCksdGhpcy5fYWZ0ZXJJbWFnZVVwZGF0ZWQodCksdGhpcyk6dGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQobmV3IEVycm9yKFwiTm8gaW1hZ2Ugd2l0aCB0aGlzIG5hbWUgZXhpc3RzLlwiKSkpfV9hZnRlckltYWdlVXBkYXRlZCh0KXt0aGlzLl9hdmFpbGFibGVJbWFnZXM9dGhpcy5pbWFnZU1hbmFnZXIubGlzdEltYWdlcygpLHRoaXMuX2NoYW5nZWRJbWFnZXNbdF09ITAsdGhpcy5fY2hhbmdlZD0hMCx0aGlzLmRpc3BhdGNoZXIuYnJvYWRjYXN0KFwic2V0SW1hZ2VzXCIsdGhpcy5fYXZhaWxhYmxlSW1hZ2VzKSx0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJkYXRhXCIse2RhdGFUeXBlOlwic3R5bGVcIn0pKTt9bGlzdEltYWdlcygpe3JldHVybiB0aGlzLl9jaGVja0xvYWRlZCgpLHRoaXMuX2F2YWlsYWJsZUltYWdlcy5zbGljZSgpfWFkZFNvdXJjZSh0LGksbz17fSl7aWYodGhpcy5fY2hlY2tMb2FkZWQoKSx2b2lkIDAhPT10aGlzLmdldFNvdXJjZSh0KSl0aHJvdyBuZXcgRXJyb3IoXCJUaGVyZSBpcyBhbHJlYWR5IGEgc291cmNlIHdpdGggdGhpcyBJRFwiKTtpZighaS50eXBlKXRocm93IG5ldyBFcnJvcihgVGhlIHR5cGUgcHJvcGVydHkgbXVzdCBiZSBkZWZpbmVkLCBidXQgb25seSB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXMgd2VyZSBnaXZlbjogJHtPYmplY3Qua2V5cyhpKS5qb2luKFwiLCBcIil9LmApO2lmKFtcInZlY3RvclwiLFwicmFzdGVyXCIsXCJnZW9qc29uXCIsXCJ2aWRlb1wiLFwiaW1hZ2VcIl0uaW5kZXhPZihpLnR5cGUpPj0wJiZ0aGlzLl92YWxpZGF0ZShlLnZhbGlkYXRlU291cmNlLGBzb3VyY2VzLiR7dH1gLGksbnVsbCxvKSlyZXR1cm47dGhpcy5tYXAmJnRoaXMubWFwLl9jb2xsZWN0UmVzb3VyY2VUaW1pbmcmJihpLmNvbGxlY3RSZXNvdXJjZVRpbWluZz0hMCk7Y29uc3Qgcj1QZSh0LGksdGhpcy5kaXNwYXRjaGVyLHRoaXMpO3Iuc2V0RXZlbnRlZFBhcmVudCh0aGlzLCgoKT0+KHtpc1NvdXJjZUxvYWRlZDp0aGlzLl9pc1NvdXJjZUNhY2hlTG9hZGVkKHQpLHNvdXJjZTpyLnNlcmlhbGl6ZSgpLHNvdXJjZUlkOnR9KSkpO2NvbnN0IG49aT0+e2NvbnN0IG89KGk/XCJzeW1ib2w6XCI6XCJvdGhlcjpcIikrdCxuPXRoaXMuX3NvdXJjZUNhY2hlc1tvXT1uZXcgZS5Tb3VyY2VDYWNoZShvLHIsaSk7KGk/dGhpcy5fc3ltYm9sU291cmNlQ2FjaGVzOnRoaXMuX290aGVyU291cmNlQ2FjaGVzKVt0XT1uLG4uc3R5bGU9dGhpcyxuLm9uQWRkKHRoaXMubWFwKTt9O24oITEpLFwidmVjdG9yXCIhPT1pLnR5cGUmJlwiZ2VvanNvblwiIT09aS50eXBlfHxuKCEwKSxyLm9uQWRkJiZyLm9uQWRkKHRoaXMubWFwKSx0aGlzLl9jaGFuZ2VkPSEwO31yZW1vdmVTb3VyY2UodCl7dGhpcy5fY2hlY2tMb2FkZWQoKTtjb25zdCBpPXRoaXMuZ2V0U291cmNlKHQpO2lmKCFpKXRocm93IG5ldyBFcnJvcihcIlRoZXJlIGlzIG5vIHNvdXJjZSB3aXRoIHRoaXMgSURcIik7Zm9yKGNvbnN0IGkgaW4gdGhpcy5fbGF5ZXJzKWlmKHRoaXMuX2xheWVyc1tpXS5zb3VyY2U9PT10KXJldHVybiB0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgRXJyb3IoYFNvdXJjZSBcIiR7dH1cIiBjYW5ub3QgYmUgcmVtb3ZlZCB3aGlsZSBsYXllciBcIiR7aX1cIiBpcyB1c2luZyBpdC5gKSkpO2lmKHRoaXMudGVycmFpbiYmdGhpcy50ZXJyYWluLmdldCgpLnNvdXJjZT09PXQpcmV0dXJuIHRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihgU291cmNlIFwiJHt0fVwiIGNhbm5vdCBiZSByZW1vdmVkIHdoaWxlIHRlcnJhaW4gaXMgdXNpbmcgaXQuYCkpKTtjb25zdCBvPXRoaXMuX2dldFNvdXJjZUNhY2hlcyh0KTtmb3IoY29uc3QgdCBvZiBvKWRlbGV0ZSB0aGlzLl9zb3VyY2VDYWNoZXNbdC5pZF0sZGVsZXRlIHRoaXMuX3VwZGF0ZWRTb3VyY2VzW3QuaWRdLHQuZmlyZShuZXcgZS5FdmVudChcImRhdGFcIix7c291cmNlRGF0YVR5cGU6XCJtZXRhZGF0YVwiLGRhdGFUeXBlOlwic291cmNlXCIsc291cmNlSWQ6dC5nZXRTb3VyY2UoKS5pZH0pKSx0LnNldEV2ZW50ZWRQYXJlbnQobnVsbCksdC5jbGVhclRpbGVzKCk7cmV0dXJuIGRlbGV0ZSB0aGlzLl9vdGhlclNvdXJjZUNhY2hlc1t0XSxkZWxldGUgdGhpcy5fc3ltYm9sU291cmNlQ2FjaGVzW3RdLGkuc2V0RXZlbnRlZFBhcmVudChudWxsKSxpLm9uUmVtb3ZlJiZpLm9uUmVtb3ZlKHRoaXMubWFwKSx0aGlzLl9jaGFuZ2VkPSEwLHRoaXN9c2V0R2VvSlNPTlNvdXJjZURhdGEoZSx0KXt0aGlzLl9jaGVja0xvYWRlZCgpLHRoaXMuZ2V0U291cmNlKGUpLnNldERhdGEodCksdGhpcy5fY2hhbmdlZD0hMDt9Z2V0U291cmNlKGUpe2NvbnN0IHQ9dGhpcy5fZ2V0U291cmNlQ2FjaGUoZSk7cmV0dXJuIHQmJnQuZ2V0U291cmNlKCl9X2dldFNvdXJjZXMoKXtjb25zdCBlPVtdO2Zvcihjb25zdCB0IGluIHRoaXMuX290aGVyU291cmNlQ2FjaGVzKXtjb25zdCBpPXRoaXMuX2dldFNvdXJjZUNhY2hlKHQpO2kmJmUucHVzaChpLmdldFNvdXJjZSgpKTt9cmV0dXJuIGV9YWRkTGF5ZXIodCxpLG89e30pe3RoaXMuX2NoZWNrTG9hZGVkKCk7Y29uc3Qgcj10LmlkO2lmKHRoaXMuZ2V0TGF5ZXIocikpcmV0dXJuIHZvaWQgdGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQobmV3IEVycm9yKGBMYXllciB3aXRoIGlkIFwiJHtyfVwiIGFscmVhZHkgZXhpc3RzIG9uIHRoaXMgbWFwYCkpKTtsZXQgbjtpZihcImN1c3RvbVwiPT09dC50eXBlKXtpZihIdCh0aGlzLGUudmFsaWRhdGVDdXN0b21TdHlsZUxheWVyKHQpKSlyZXR1cm47bj1lLmNyZWF0ZVN0eWxlTGF5ZXIodCk7fWVsc2Uge2lmKFwib2JqZWN0XCI9PXR5cGVvZiB0LnNvdXJjZSYmKHRoaXMuYWRkU291cmNlKHIsdC5zb3VyY2UpLHQ9ZS5jbG9uZSQxKHQpLHQ9ZS5leHRlbmQodCx7c291cmNlOnJ9KSksdGhpcy5fdmFsaWRhdGUoZS52YWxpZGF0ZUxheWVyLGBsYXllcnMuJHtyfWAsdCx7YXJyYXlJbmRleDotMX0sbykpcmV0dXJuO249ZS5jcmVhdGVTdHlsZUxheWVyKHQpLHRoaXMuX3ZhbGlkYXRlTGF5ZXIobiksbi5zZXRFdmVudGVkUGFyZW50KHRoaXMse2xheWVyOntpZDpyfX0pLHRoaXMuX3NlcmlhbGl6ZWRMYXllcnNbbi5pZF09bi5zZXJpYWxpemUoKSx0aGlzLl91cGRhdGVMYXllckNvdW50KG4sITApO31jb25zdCBhPWk/dGhpcy5fb3JkZXIuaW5kZXhPZihpKTp0aGlzLl9vcmRlci5sZW5ndGg7aWYoaSYmLTE9PT1hKXJldHVybiB2b2lkIHRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihgTGF5ZXIgd2l0aCBpZCBcIiR7aX1cIiBkb2VzIG5vdCBleGlzdCBvbiB0aGlzIG1hcC5gKSkpO3RoaXMuX29yZGVyLnNwbGljZShhLDAsciksdGhpcy5fbGF5ZXJPcmRlckNoYW5nZWQ9ITAsdGhpcy5fbGF5ZXJzW3JdPW47Y29uc3Qgcz10aGlzLl9nZXRMYXllclNvdXJjZUNhY2hlKG4pO2lmKHRoaXMuX3JlbW92ZWRMYXllcnNbcl0mJm4uc291cmNlJiZzJiZcImN1c3RvbVwiIT09bi50eXBlKXtjb25zdCBlPXRoaXMuX3JlbW92ZWRMYXllcnNbcl07ZGVsZXRlIHRoaXMuX3JlbW92ZWRMYXllcnNbcl0sZS50eXBlIT09bi50eXBlP3RoaXMuX3VwZGF0ZWRTb3VyY2VzW24uc291cmNlXT1cImNsZWFyXCI6KHRoaXMuX3VwZGF0ZWRTb3VyY2VzW24uc291cmNlXT1cInJlbG9hZFwiLHMucGF1c2UoKSk7fXRoaXMuX3VwZGF0ZUxheWVyKG4pLG4ub25BZGQmJm4ub25BZGQodGhpcy5tYXApLHRoaXMuX3VwZGF0ZURyYXBlRmlyc3RMYXllcnMoKTt9bW92ZUxheWVyKHQsaSl7aWYodGhpcy5fY2hlY2tMb2FkZWQoKSx0aGlzLl9jaGFuZ2VkPSEwLCF0aGlzLl9sYXllcnNbdF0pcmV0dXJuIHZvaWQgdGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQobmV3IEVycm9yKGBUaGUgbGF5ZXIgJyR7dH0nIGRvZXMgbm90IGV4aXN0IGluIHRoZSBtYXAncyBzdHlsZSBhbmQgY2Fubm90IGJlIG1vdmVkLmApKSk7aWYodD09PWkpcmV0dXJuO2NvbnN0IG89dGhpcy5fb3JkZXIuaW5kZXhPZih0KTt0aGlzLl9vcmRlci5zcGxpY2UobywxKTtjb25zdCByPWk/dGhpcy5fb3JkZXIuaW5kZXhPZihpKTp0aGlzLl9vcmRlci5sZW5ndGg7aSYmLTE9PT1yP3RoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihgTGF5ZXIgd2l0aCBpZCBcIiR7aX1cIiBkb2VzIG5vdCBleGlzdCBvbiB0aGlzIG1hcC5gKSkpOih0aGlzLl9vcmRlci5zcGxpY2UociwwLHQpLHRoaXMuX2xheWVyT3JkZXJDaGFuZ2VkPSEwLHRoaXMuX3VwZGF0ZURyYXBlRmlyc3RMYXllcnMoKSk7fXJlbW92ZUxheWVyKHQpe3RoaXMuX2NoZWNrTG9hZGVkKCk7Y29uc3QgaT10aGlzLl9sYXllcnNbdF07aWYoIWkpcmV0dXJuIHZvaWQgdGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQobmV3IEVycm9yKGBUaGUgbGF5ZXIgJyR7dH0nIGRvZXMgbm90IGV4aXN0IGluIHRoZSBtYXAncyBzdHlsZSBhbmQgY2Fubm90IGJlIHJlbW92ZWQuYCkpKTtpLnNldEV2ZW50ZWRQYXJlbnQobnVsbCksdGhpcy5fdXBkYXRlTGF5ZXJDb3VudChpLCExKTtjb25zdCBvPXRoaXMuX29yZGVyLmluZGV4T2YodCk7dGhpcy5fb3JkZXIuc3BsaWNlKG8sMSksdGhpcy5fbGF5ZXJPcmRlckNoYW5nZWQ9ITAsdGhpcy5fY2hhbmdlZD0hMCx0aGlzLl9yZW1vdmVkTGF5ZXJzW3RdPWksZGVsZXRlIHRoaXMuX2xheWVyc1t0XSxkZWxldGUgdGhpcy5fc2VyaWFsaXplZExheWVyc1t0XSxkZWxldGUgdGhpcy5fdXBkYXRlZExheWVyc1t0XSxkZWxldGUgdGhpcy5fdXBkYXRlZFBhaW50UHJvcHNbdF0saS5vblJlbW92ZSYmaS5vblJlbW92ZSh0aGlzLm1hcCksdGhpcy5fdXBkYXRlRHJhcGVGaXJzdExheWVycygpO31nZXRMYXllcihlKXtyZXR1cm4gdGhpcy5fbGF5ZXJzW2VdfWhhc0xheWVyKGUpe3JldHVybiBlIGluIHRoaXMuX2xheWVyc31oYXNMYXllclR5cGUoZSl7Zm9yKGNvbnN0IHQgaW4gdGhpcy5fbGF5ZXJzKWlmKHRoaXMuX2xheWVyc1t0XS50eXBlPT09ZSlyZXR1cm4gITA7cmV0dXJuICExfXNldExheWVyWm9vbVJhbmdlKHQsaSxvKXt0aGlzLl9jaGVja0xvYWRlZCgpO2NvbnN0IHI9dGhpcy5nZXRMYXllcih0KTtyP3IubWluem9vbT09PWkmJnIubWF4em9vbT09PW98fChudWxsIT1pJiYoci5taW56b29tPWkpLG51bGwhPW8mJihyLm1heHpvb209byksdGhpcy5fdXBkYXRlTGF5ZXIocikpOnRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihgVGhlIGxheWVyICcke3R9JyBkb2VzIG5vdCBleGlzdCBpbiB0aGUgbWFwJ3Mgc3R5bGUgYW5kIGNhbm5vdCBoYXZlIHpvb20gZXh0ZW50LmApKSk7fXNldEZpbHRlcihpLG8scj17fSl7dGhpcy5fY2hlY2tMb2FkZWQoKTtjb25zdCBuPXRoaXMuZ2V0TGF5ZXIoaSk7aWYobil7aWYoIXQobi5maWx0ZXIsbykpcmV0dXJuIG51bGw9PW8/KG4uZmlsdGVyPXZvaWQgMCx2b2lkIHRoaXMuX3VwZGF0ZUxheWVyKG4pKTp2b2lkKHRoaXMuX3ZhbGlkYXRlKGUudmFsaWRhdGVGaWx0ZXIsYGxheWVycy4ke24uaWR9LmZpbHRlcmAsbyx7bGF5ZXJUeXBlOm4udHlwZX0scil8fChuLmZpbHRlcj1lLmNsb25lJDEobyksdGhpcy5fdXBkYXRlTGF5ZXIobikpKX1lbHNlIHRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihgVGhlIGxheWVyICcke2l9JyBkb2VzIG5vdCBleGlzdCBpbiB0aGUgbWFwJ3Mgc3R5bGUgYW5kIGNhbm5vdCBiZSBmaWx0ZXJlZC5gKSkpO31nZXRGaWx0ZXIodCl7Y29uc3QgaT10aGlzLmdldExheWVyKHQpO3JldHVybiBpJiZlLmNsb25lJDEoaS5maWx0ZXIpfXNldExheW91dFByb3BlcnR5KGksbyxyLG49e30pe3RoaXMuX2NoZWNrTG9hZGVkKCk7Y29uc3QgYT10aGlzLmdldExheWVyKGkpO2E/dChhLmdldExheW91dFByb3BlcnR5KG8pLHIpfHwoYS5zZXRMYXlvdXRQcm9wZXJ0eShvLHIsbiksdGhpcy5fdXBkYXRlTGF5ZXIoYSkpOnRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihgVGhlIGxheWVyICcke2l9JyBkb2VzIG5vdCBleGlzdCBpbiB0aGUgbWFwJ3Mgc3R5bGUgYW5kIGNhbm5vdCBiZSBzdHlsZWQuYCkpKTt9Z2V0TGF5b3V0UHJvcGVydHkodCxpKXtjb25zdCBvPXRoaXMuZ2V0TGF5ZXIodCk7aWYobylyZXR1cm4gby5nZXRMYXlvdXRQcm9wZXJ0eShpKTt0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgRXJyb3IoYFRoZSBsYXllciAnJHt0fScgZG9lcyBub3QgZXhpc3QgaW4gdGhlIG1hcCdzIHN0eWxlLmApKSk7fXNldFBhaW50UHJvcGVydHkoaSxvLHIsbj17fSl7dGhpcy5fY2hlY2tMb2FkZWQoKTtjb25zdCBhPXRoaXMuZ2V0TGF5ZXIoaSk7YT90KGEuZ2V0UGFpbnRQcm9wZXJ0eShvKSxyKXx8KGEuc2V0UGFpbnRQcm9wZXJ0eShvLHIsbikmJnRoaXMuX3VwZGF0ZUxheWVyKGEpLHRoaXMuX2NoYW5nZWQ9ITAsdGhpcy5fdXBkYXRlZFBhaW50UHJvcHNbaV09ITApOnRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihgVGhlIGxheWVyICcke2l9JyBkb2VzIG5vdCBleGlzdCBpbiB0aGUgbWFwJ3Mgc3R5bGUgYW5kIGNhbm5vdCBiZSBzdHlsZWQuYCkpKTt9Z2V0UGFpbnRQcm9wZXJ0eShlLHQpe2NvbnN0IGk9dGhpcy5nZXRMYXllcihlKTtyZXR1cm4gaSYmaS5nZXRQYWludFByb3BlcnR5KHQpfXNldEZlYXR1cmVTdGF0ZSh0LGkpe3RoaXMuX2NoZWNrTG9hZGVkKCk7Y29uc3Qgbz10LnNvdXJjZSxyPXQuc291cmNlTGF5ZXIsbj10aGlzLmdldFNvdXJjZShvKTtpZighbilyZXR1cm4gdm9pZCB0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgRXJyb3IoYFRoZSBzb3VyY2UgJyR7b30nIGRvZXMgbm90IGV4aXN0IGluIHRoZSBtYXAncyBzdHlsZS5gKSkpO2NvbnN0IGE9bi50eXBlO2lmKFwiZ2VvanNvblwiPT09YSYmcilyZXR1cm4gdm9pZCB0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgRXJyb3IoXCJHZW9KU09OIHNvdXJjZXMgY2Fubm90IGhhdmUgYSBzb3VyY2VMYXllciBwYXJhbWV0ZXIuXCIpKSk7aWYoXCJ2ZWN0b3JcIj09PWEmJiFyKXJldHVybiB2b2lkIHRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihcIlRoZSBzb3VyY2VMYXllciBwYXJhbWV0ZXIgbXVzdCBiZSBwcm92aWRlZCBmb3IgdmVjdG9yIHNvdXJjZSB0eXBlcy5cIikpKTt2b2lkIDA9PT10LmlkJiZ0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgRXJyb3IoXCJUaGUgZmVhdHVyZSBpZCBwYXJhbWV0ZXIgbXVzdCBiZSBwcm92aWRlZC5cIikpKTtjb25zdCBzPXRoaXMuX2dldFNvdXJjZUNhY2hlcyhvKTtmb3IoY29uc3QgZSBvZiBzKWUuc2V0RmVhdHVyZVN0YXRlKHIsdC5pZCxpKTt9cmVtb3ZlRmVhdHVyZVN0YXRlKHQsaSl7dGhpcy5fY2hlY2tMb2FkZWQoKTtjb25zdCBvPXQuc291cmNlLHI9dGhpcy5nZXRTb3VyY2Uobyk7aWYoIXIpcmV0dXJuIHZvaWQgdGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQobmV3IEVycm9yKGBUaGUgc291cmNlICcke299JyBkb2VzIG5vdCBleGlzdCBpbiB0aGUgbWFwJ3Mgc3R5bGUuYCkpKTtjb25zdCBuPXIudHlwZSxhPVwidmVjdG9yXCI9PT1uP3Quc291cmNlTGF5ZXI6dm9pZCAwO2lmKFwidmVjdG9yXCI9PT1uJiYhYSlyZXR1cm4gdm9pZCB0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgRXJyb3IoXCJUaGUgc291cmNlTGF5ZXIgcGFyYW1ldGVyIG11c3QgYmUgcHJvdmlkZWQgZm9yIHZlY3RvciBzb3VyY2UgdHlwZXMuXCIpKSk7aWYoaSYmXCJzdHJpbmdcIiE9dHlwZW9mIHQuaWQmJlwibnVtYmVyXCIhPXR5cGVvZiB0LmlkKXJldHVybiB2b2lkIHRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihcIkEgZmVhdHVyZSBpZCBpcyByZXF1aXJlZCB0byByZW1vdmUgaXRzIHNwZWNpZmljIHN0YXRlIHByb3BlcnR5LlwiKSkpO2NvbnN0IHM9dGhpcy5fZ2V0U291cmNlQ2FjaGVzKG8pO2Zvcihjb25zdCBlIG9mIHMpZS5yZW1vdmVGZWF0dXJlU3RhdGUoYSx0LmlkLGkpO31nZXRGZWF0dXJlU3RhdGUodCl7dGhpcy5fY2hlY2tMb2FkZWQoKTtjb25zdCBpPXQuc291cmNlLG89dC5zb3VyY2VMYXllcixyPXRoaXMuZ2V0U291cmNlKGkpO2lmKHIpe2lmKFwidmVjdG9yXCIhPT1yLnR5cGV8fG8pcmV0dXJuIHZvaWQgMD09PXQuaWQmJnRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihcIlRoZSBmZWF0dXJlIGlkIHBhcmFtZXRlciBtdXN0IGJlIHByb3ZpZGVkLlwiKSkpLHRoaXMuX2dldFNvdXJjZUNhY2hlcyhpKVswXS5nZXRGZWF0dXJlU3RhdGUobyx0LmlkKTt0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgRXJyb3IoXCJUaGUgc291cmNlTGF5ZXIgcGFyYW1ldGVyIG11c3QgYmUgcHJvdmlkZWQgZm9yIHZlY3RvciBzb3VyY2UgdHlwZXMuXCIpKSk7fWVsc2UgdGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQobmV3IEVycm9yKGBUaGUgc291cmNlICcke2l9JyBkb2VzIG5vdCBleGlzdCBpbiB0aGUgbWFwJ3Mgc3R5bGUuYCkpKTt9Z2V0VHJhbnNpdGlvbigpe3JldHVybiBlLmV4dGVuZCh7ZHVyYXRpb246MzAwLGRlbGF5OjB9LHRoaXMuc3R5bGVzaGVldCYmdGhpcy5zdHlsZXNoZWV0LnRyYW5zaXRpb24pfXNlcmlhbGl6ZSgpe2NvbnN0IHQ9e307Zm9yKGNvbnN0IGUgaW4gdGhpcy5fc291cmNlQ2FjaGVzKXtjb25zdCBpPXRoaXMuX3NvdXJjZUNhY2hlc1tlXS5nZXRTb3VyY2UoKTt0W2kuaWRdfHwodFtpLmlkXT1pLnNlcmlhbGl6ZSgpKTt9cmV0dXJuIGUuZmlsdGVyT2JqZWN0KHt2ZXJzaW9uOnRoaXMuc3R5bGVzaGVldC52ZXJzaW9uLG5hbWU6dGhpcy5zdHlsZXNoZWV0Lm5hbWUsbWV0YWRhdGE6dGhpcy5zdHlsZXNoZWV0Lm1ldGFkYXRhLGxpZ2h0OnRoaXMuc3R5bGVzaGVldC5saWdodCx0ZXJyYWluOnRoaXMuZ2V0VGVycmFpbigpfHx2b2lkIDAsZm9nOnRoaXMuc3R5bGVzaGVldC5mb2csY2VudGVyOnRoaXMuc3R5bGVzaGVldC5jZW50ZXIsem9vbTp0aGlzLnN0eWxlc2hlZXQuem9vbSxiZWFyaW5nOnRoaXMuc3R5bGVzaGVldC5iZWFyaW5nLHBpdGNoOnRoaXMuc3R5bGVzaGVldC5waXRjaCxzcHJpdGU6dGhpcy5zdHlsZXNoZWV0LnNwcml0ZSxnbHlwaHM6dGhpcy5zdHlsZXNoZWV0LmdseXBocyx0cmFuc2l0aW9uOnRoaXMuc3R5bGVzaGVldC50cmFuc2l0aW9uLHByb2plY3Rpb246dGhpcy5zdHlsZXNoZWV0LnByb2plY3Rpb24sc291cmNlczp0LGxheWVyczp0aGlzLl9zZXJpYWxpemVMYXllcnModGhpcy5fb3JkZXIpfSwoZT0+dm9pZCAwIT09ZSkpfV91cGRhdGVMYXllcihlKXt0aGlzLl91cGRhdGVkTGF5ZXJzW2UuaWRdPSEwO2NvbnN0IHQ9dGhpcy5fZ2V0TGF5ZXJTb3VyY2VDYWNoZShlKTtlLnNvdXJjZSYmIXRoaXMuX3VwZGF0ZWRTb3VyY2VzW2Uuc291cmNlXSYmdCYmXCJyYXN0ZXJcIiE9PXQuZ2V0U291cmNlKCkudHlwZSYmKHRoaXMuX3VwZGF0ZWRTb3VyY2VzW2Uuc291cmNlXT1cInJlbG9hZFwiLHQucGF1c2UoKSksdGhpcy5fY2hhbmdlZD0hMCxlLmludmFsaWRhdGVDb21waWxlZEZpbHRlcigpO31fZmxhdHRlbkFuZFNvcnRSZW5kZXJlZEZlYXR1cmVzKGUpe2NvbnN0IHQ9ZT0+XCJmaWxsLWV4dHJ1c2lvblwiPT09dGhpcy5fbGF5ZXJzW2VdLnR5cGUsaT17fSxvPVtdO2ZvcihsZXQgcj10aGlzLl9vcmRlci5sZW5ndGgtMTtyPj0wO3ItLSl7Y29uc3Qgbj10aGlzLl9vcmRlcltyXTtpZih0KG4pKXtpW25dPXI7Zm9yKGNvbnN0IHQgb2YgZSl7Y29uc3QgZT10W25dO2lmKGUpZm9yKGNvbnN0IHQgb2YgZSlvLnB1c2godCk7fX19by5zb3J0KCgoZSx0KT0+dC5pbnRlcnNlY3Rpb25aLWUuaW50ZXJzZWN0aW9uWikpO2NvbnN0IHI9W107Zm9yKGxldCBuPXRoaXMuX29yZGVyLmxlbmd0aC0xO24+PTA7bi0tKXtjb25zdCBhPXRoaXMuX29yZGVyW25dO2lmKHQoYSkpZm9yKGxldCBlPW8ubGVuZ3RoLTE7ZT49MDtlLS0pe2NvbnN0IHQ9b1tlXS5mZWF0dXJlO2lmKGlbdC5sYXllci5pZF08bilicmVhaztyLnB1c2godCksby5wb3AoKTt9ZWxzZSBmb3IoY29uc3QgdCBvZiBlKXtjb25zdCBlPXRbYV07aWYoZSlmb3IoY29uc3QgdCBvZiBlKXIucHVzaCh0LmZlYXR1cmUpO319cmV0dXJuIHJ9cXVlcnlSZW5kZXJlZEZlYXR1cmVzKHQsaSxvKXtpJiZpLmZpbHRlciYmdGhpcy5fdmFsaWRhdGUoZS52YWxpZGF0ZUZpbHRlcixcInF1ZXJ5UmVuZGVyZWRGZWF0dXJlcy5maWx0ZXJcIixpLmZpbHRlcixudWxsLGkpO2NvbnN0IHI9e307aWYoaSYmaS5sYXllcnMpe2lmKCFBcnJheS5pc0FycmF5KGkubGF5ZXJzKSlyZXR1cm4gdGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQobmV3IEVycm9yKFwicGFyYW1ldGVycy5sYXllcnMgbXVzdCBiZSBhbiBBcnJheS5cIikpKSxbXTtmb3IoY29uc3QgdCBvZiBpLmxheWVycyl7Y29uc3QgaT10aGlzLl9sYXllcnNbdF07aWYoIWkpcmV0dXJuIHRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihgVGhlIGxheWVyICcke3R9JyBkb2VzIG5vdCBleGlzdCBpbiB0aGUgbWFwJ3Mgc3R5bGUgYW5kIGNhbm5vdCBiZSBxdWVyaWVkIGZvciBmZWF0dXJlcy5gKSkpLFtdO3JbaS5zb3VyY2VdPSEwO319Y29uc3Qgbj1bXTtpLmF2YWlsYWJsZUltYWdlcz10aGlzLl9hdmFpbGFibGVJbWFnZXM7Y29uc3QgYT1pJiZpLmxheWVycz9pLmxheWVycy5zb21lKChlPT57Y29uc3QgdD10aGlzLmdldExheWVyKGUpO3JldHVybiB0JiZ0LmlzM0QoKX0pKTp0aGlzLmhhczNETGF5ZXJzKCkscz1SLmNyZWF0ZUZyb21TY3JlZW5Qb2ludHModCxvKTtmb3IoY29uc3QgZSBpbiB0aGlzLl9zb3VyY2VDYWNoZXMpe2NvbnN0IHQ9dGhpcy5fc291cmNlQ2FjaGVzW2VdLmdldFNvdXJjZSgpLmlkO2kubGF5ZXJzJiYhclt0XXx8bi5wdXNoKFJlKHRoaXMuX3NvdXJjZUNhY2hlc1tlXSx0aGlzLl9sYXllcnMsdGhpcy5fc2VyaWFsaXplZExheWVycyxzLGksbyxhLCEhdGhpcy5tYXAuX3Nob3dRdWVyeUdlb21ldHJ5KSk7fXJldHVybiB0aGlzLnBsYWNlbWVudCYmbi5wdXNoKGZ1bmN0aW9uKGUsdCxpLG8scixuLGEpe2NvbnN0IHM9e30sbD1uLnF1ZXJ5UmVuZGVyZWRTeW1ib2xzKG8pLGM9W107Zm9yKGNvbnN0IGUgb2YgT2JqZWN0LmtleXMobCkubWFwKE51bWJlcikpYy5wdXNoKGFbZV0pO2Muc29ydChCZSk7Zm9yKGNvbnN0IGkgb2YgYyl7Y29uc3Qgbz1pLmZlYXR1cmVJbmRleC5sb29rdXBTeW1ib2xGZWF0dXJlcyhsW2kuYnVja2V0SW5zdGFuY2VJZF0sdCxpLmJ1Y2tldEluZGV4LGkuc291cmNlTGF5ZXJJbmRleCxyLmZpbHRlcixyLmxheWVycyxyLmF2YWlsYWJsZUltYWdlcyxlKTtmb3IoY29uc3QgZSBpbiBvKXtjb25zdCB0PXNbZV09c1tlXXx8W10scj1vW2VdO3Iuc29ydCgoKGUsdCk9Pntjb25zdCBvPWkuZmVhdHVyZVNvcnRPcmRlcjtpZihvKXtjb25zdCBpPW8uaW5kZXhPZihlLmZlYXR1cmVJbmRleCk7cmV0dXJuIG8uaW5kZXhPZih0LmZlYXR1cmVJbmRleCktaX1yZXR1cm4gdC5mZWF0dXJlSW5kZXgtZS5mZWF0dXJlSW5kZXh9KSk7Zm9yKGNvbnN0IGUgb2Ygcil0LnB1c2goZSk7fX1mb3IoY29uc3QgdCBpbiBzKXNbdF0uZm9yRWFjaCgobz0+e2NvbnN0IHI9by5mZWF0dXJlLG49aShlW3RdKS5nZXRGZWF0dXJlU3RhdGUoci5sYXllcltcInNvdXJjZS1sYXllclwiXSxyLmlkKTtyLnNvdXJjZT1yLmxheWVyLnNvdXJjZSxyLmxheWVyW1wic291cmNlLWxheWVyXCJdJiYoci5zb3VyY2VMYXllcj1yLmxheWVyW1wic291cmNlLWxheWVyXCJdKSxyLnN0YXRlPW47fSkpO3JldHVybiBzfSh0aGlzLl9sYXllcnMsdGhpcy5fc2VyaWFsaXplZExheWVycyx0aGlzLl9nZXRMYXllclNvdXJjZUNhY2hlLmJpbmQodGhpcykscy5zY3JlZW5HZW9tZXRyeSxpLHRoaXMucGxhY2VtZW50LmNvbGxpc2lvbkluZGV4LHRoaXMucGxhY2VtZW50LnJldGFpbmVkUXVlcnlEYXRhKSksdGhpcy5fZmxhdHRlbkFuZFNvcnRSZW5kZXJlZEZlYXR1cmVzKG4pfXF1ZXJ5U291cmNlRmVhdHVyZXModCxpKXtpJiZpLmZpbHRlciYmdGhpcy5fdmFsaWRhdGUoZS52YWxpZGF0ZUZpbHRlcixcInF1ZXJ5U291cmNlRmVhdHVyZXMuZmlsdGVyXCIsaS5maWx0ZXIsbnVsbCxpKTtjb25zdCBvPXRoaXMuX2dldFNvdXJjZUNhY2hlcyh0KTtsZXQgcj1bXTtmb3IoY29uc3QgZSBvZiBvKXI9ci5jb25jYXQoT2UoZSxpKSk7cmV0dXJuIHJ9YWRkU291cmNlVHlwZShlLHQsaSl7cmV0dXJuIGVpLmdldFNvdXJjZVR5cGUoZSk/aShuZXcgRXJyb3IoYEEgc291cmNlIHR5cGUgY2FsbGVkIFwiJHtlfVwiIGFscmVhZHkgZXhpc3RzLmApKTooZWkuc2V0U291cmNlVHlwZShlLHQpLHQud29ya2VyU291cmNlVVJMP3ZvaWQgdGhpcy5kaXNwYXRjaGVyLmJyb2FkY2FzdChcImxvYWRXb3JrZXJTb3VyY2VcIix7bmFtZTplLHVybDp0LndvcmtlclNvdXJjZVVSTH0saSk6aShudWxsLG51bGwpKX1nZXRMaWdodCgpe3JldHVybiB0aGlzLmxpZ2h0LmdldExpZ2h0KCl9c2V0TGlnaHQoZSxpPXt9KXt0aGlzLl9jaGVja0xvYWRlZCgpO2NvbnN0IG89dGhpcy5saWdodC5nZXRMaWdodCgpO2xldCByPSExO2Zvcihjb25zdCBpIGluIGUpaWYoIXQoZVtpXSxvW2ldKSl7cj0hMDticmVha31pZighcilyZXR1cm47Y29uc3Qgbj10aGlzLl9zZXRUcmFuc2l0aW9uUGFyYW1ldGVycyh7ZHVyYXRpb246MzAwLGRlbGF5OjB9KTt0aGlzLmxpZ2h0LnNldExpZ2h0KGUsaSksdGhpcy5saWdodC51cGRhdGVUcmFuc2l0aW9ucyhuKTt9Z2V0VGVycmFpbigpe3JldHVybiB0aGlzLnRlcnJhaW4mJjE9PT10aGlzLnRlcnJhaW4uZHJhcGVSZW5kZXJNb2RlP3RoaXMudGVycmFpbi5nZXQoKTpudWxsfXNldFRlcnJhaW5Gb3JEcmFwaW5nKCl7dGhpcy5zZXRUZXJyYWluKHtzb3VyY2U6XCJcIixleGFnZ2VyYXRpb246MH0sMCk7fXNldFRlcnJhaW4oaSxvPTEpe2lmKHRoaXMuX2NoZWNrTG9hZGVkKCksIWkpcmV0dXJuIGRlbGV0ZSB0aGlzLnRlcnJhaW4sZGVsZXRlIHRoaXMuc3R5bGVzaGVldC50ZXJyYWluLHRoaXMuZGlzcGF0Y2hlci5icm9hZGNhc3QoXCJlbmFibGVUZXJyYWluXCIsITEpLHRoaXMuX2ZvcmNlM0RMYXllclVwZGF0ZSgpLHZvaWQodGhpcy5fbWFya2Vyc05lZWRVcGRhdGU9ITApO2lmKDE9PT1vKXtpZihcIm9iamVjdFwiPT10eXBlb2YgaS5zb3VyY2Upe2NvbnN0IHQ9XCJ0ZXJyYWluLWRlbS1zcmNcIjt0aGlzLmFkZFNvdXJjZSh0LGkuc291cmNlKSxpPWUuY2xvbmUkMShpKSxpPWUuZXh0ZW5kKGkse3NvdXJjZTp0fSk7fWlmKHRoaXMuX3ZhbGlkYXRlKGUudmFsaWRhdGVUZXJyYWluLFwidGVycmFpblwiLGkpKXJldHVybn1pZighdGhpcy50ZXJyYWlufHx0aGlzLnRlcnJhaW4mJm8hPT10aGlzLnRlcnJhaW4uZHJhcGVSZW5kZXJNb2RlKXRoaXMuX2NyZWF0ZVRlcnJhaW4oaSxvKTtlbHNlIHtjb25zdCBvPXRoaXMudGVycmFpbixyPW8uZ2V0KCk7Zm9yKGNvbnN0IHQgb2YgT2JqZWN0LmtleXMoZS5zcGVjLnRlcnJhaW4pKSFpLmhhc093blByb3BlcnR5KHQpJiZlLnNwZWMudGVycmFpblt0XS5kZWZhdWx0JiYoaVt0XT1lLnNwZWMudGVycmFpblt0XS5kZWZhdWx0KTtmb3IoY29uc3QgZSBpbiBpKWlmKCF0KGlbZV0scltlXSkpe28uc2V0KGkpLHRoaXMuc3R5bGVzaGVldC50ZXJyYWluPWk7Y29uc3QgZT10aGlzLl9zZXRUcmFuc2l0aW9uUGFyYW1ldGVycyh7ZHVyYXRpb246MH0pO28udXBkYXRlVHJhbnNpdGlvbnMoZSk7YnJlYWt9fXRoaXMuX3VwZGF0ZURyYXBlRmlyc3RMYXllcnMoKSx0aGlzLl9tYXJrZXJzTmVlZFVwZGF0ZT0hMDt9X2NyZWF0ZUZvZyhlKXtjb25zdCB0PXRoaXMuZm9nPW5ldyBBKGUsdGhpcy5tYXAudHJhbnNmb3JtKTt0aGlzLnN0eWxlc2hlZXQuZm9nPWU7Y29uc3QgaT10aGlzLl9zZXRUcmFuc2l0aW9uUGFyYW1ldGVycyh7ZHVyYXRpb246MH0pO3QudXBkYXRlVHJhbnNpdGlvbnMoaSk7fV91cGRhdGVNYXJrZXJzT3BhY2l0eSgpezAhPT10aGlzLm1hcC5fbWFya2Vycy5sZW5ndGgmJnRoaXMubWFwLl9yZXF1ZXN0RG9tVGFzaygoKCk9Pntmb3IoY29uc3QgZSBvZiB0aGlzLm1hcC5fbWFya2VycyllLl9ldmFsdWF0ZU9wYWNpdHkoKTt9KSk7fWdldEZvZygpe3JldHVybiB0aGlzLmZvZz90aGlzLmZvZy5nZXQoKTpudWxsfXNldEZvZyhlKXtpZih0aGlzLl9jaGVja0xvYWRlZCgpLCFlKXJldHVybiBkZWxldGUgdGhpcy5mb2csZGVsZXRlIHRoaXMuc3R5bGVzaGVldC5mb2csdm9pZCh0aGlzLl9tYXJrZXJzTmVlZFVwZGF0ZT0hMCk7aWYodGhpcy5mb2cpe2NvbnN0IGk9dGhpcy5mb2csbz1pLmdldCgpOzA9PT1PYmplY3Qua2V5cyhlKS5sZW5ndGgmJmkuc2V0KGUpO2Zvcihjb25zdCByIGluIGUpaWYoIXQoZVtyXSxvW3JdKSl7aS5zZXQoZSksdGhpcy5zdHlsZXNoZWV0LmZvZz1lO2NvbnN0IHQ9dGhpcy5fc2V0VHJhbnNpdGlvblBhcmFtZXRlcnMoe2R1cmF0aW9uOjB9KTtpLnVwZGF0ZVRyYW5zaXRpb25zKHQpO2JyZWFrfX1lbHNlIHRoaXMuX2NyZWF0ZUZvZyhlKTt0aGlzLl9tYXJrZXJzTmVlZFVwZGF0ZT0hMDt9X3NldFRyYW5zaXRpb25QYXJhbWV0ZXJzKHQpe3JldHVybiB7bm93OmUuZXhwb3J0ZWQubm93KCksdHJhbnNpdGlvbjplLmV4dGVuZCh0LHRoaXMuc3R5bGVzaGVldC50cmFuc2l0aW9uKX19X3VwZGF0ZURyYXBlRmlyc3RMYXllcnMoKXtpZighdGhpcy5tYXAuX29wdGltaXplRm9yVGVycmFpbnx8IXRoaXMudGVycmFpbilyZXR1cm47Y29uc3QgZT10aGlzLl9vcmRlci5maWx0ZXIoKGU9PnRoaXMuaXNMYXllckRyYXBlZCh0aGlzLl9sYXllcnNbZV0pKSksdD10aGlzLl9vcmRlci5maWx0ZXIoKGU9PiF0aGlzLmlzTGF5ZXJEcmFwZWQodGhpcy5fbGF5ZXJzW2VdKSkpO3RoaXMuX2RyYXBlZEZpcnN0T3JkZXI9W10sdGhpcy5fZHJhcGVkRmlyc3RPcmRlci5wdXNoKC4uLmUpLHRoaXMuX2RyYXBlZEZpcnN0T3JkZXIucHVzaCguLi50KTt9X2NyZWF0ZVRlcnJhaW4oZSx0KXtjb25zdCBpPXRoaXMudGVycmFpbj1uZXcgSShlLHQpO3RoaXMuc3R5bGVzaGVldC50ZXJyYWluPWUsdGhpcy5kaXNwYXRjaGVyLmJyb2FkY2FzdChcImVuYWJsZVRlcnJhaW5cIiwhdGhpcy50ZXJyYWluU2V0Rm9yRHJhcGluZ09ubHkoKSksdGhpcy5fZm9yY2UzRExheWVyVXBkYXRlKCk7Y29uc3Qgbz10aGlzLl9zZXRUcmFuc2l0aW9uUGFyYW1ldGVycyh7ZHVyYXRpb246MH0pO2kudXBkYXRlVHJhbnNpdGlvbnMobyk7fV9mb3JjZTNETGF5ZXJVcGRhdGUoKXtmb3IoY29uc3QgZSBpbiB0aGlzLl9sYXllcnMpe2NvbnN0IHQ9dGhpcy5fbGF5ZXJzW2VdO1wiZmlsbC1leHRydXNpb25cIj09PXQudHlwZSYmdGhpcy5fdXBkYXRlTGF5ZXIodCk7fX1fZm9yY2VTeW1ib2xMYXllclVwZGF0ZSgpe2Zvcihjb25zdCBlIGluIHRoaXMuX2xheWVycyl7Y29uc3QgdD10aGlzLl9sYXllcnNbZV07XCJzeW1ib2xcIj09PXQudHlwZSYmdGhpcy5fdXBkYXRlTGF5ZXIodCk7fX1fdmFsaWRhdGUodCxpLG8scixuPXt9KXtyZXR1cm4gKCFufHwhMSE9PW4udmFsaWRhdGUpJiZIdCh0aGlzLHQuY2FsbChlLnZhbGlkYXRlU3R5bGUsZS5leHRlbmQoe2tleTppLHN0eWxlOnRoaXMuc2VyaWFsaXplKCksdmFsdWU6byxzdHlsZVNwZWM6ZS5zcGVjfSxyKSkpfV9yZW1vdmUoKXt0aGlzLl9yZXF1ZXN0JiYodGhpcy5fcmVxdWVzdC5jYW5jZWwoKSx0aGlzLl9yZXF1ZXN0PW51bGwpLHRoaXMuX3Nwcml0ZVJlcXVlc3QmJih0aGlzLl9zcHJpdGVSZXF1ZXN0LmNhbmNlbCgpLHRoaXMuX3Nwcml0ZVJlcXVlc3Q9bnVsbCksZS5ldmVudGVkLm9mZihcInBsdWdpblN0YXRlQ2hhbmdlXCIsdGhpcy5fcnRsVGV4dFBsdWdpbkNhbGxiYWNrKTtmb3IoY29uc3QgZSBpbiB0aGlzLl9sYXllcnMpdGhpcy5fbGF5ZXJzW2VdLnNldEV2ZW50ZWRQYXJlbnQobnVsbCk7Zm9yKGNvbnN0IGUgaW4gdGhpcy5fc291cmNlQ2FjaGVzKXRoaXMuX3NvdXJjZUNhY2hlc1tlXS5jbGVhclRpbGVzKCksdGhpcy5fc291cmNlQ2FjaGVzW2VdLnNldEV2ZW50ZWRQYXJlbnQobnVsbCk7dGhpcy5pbWFnZU1hbmFnZXIuc2V0RXZlbnRlZFBhcmVudChudWxsKSx0aGlzLnNldEV2ZW50ZWRQYXJlbnQobnVsbCksdGhpcy5kaXNwYXRjaGVyLnJlbW92ZSgpO31fY2xlYXJTb3VyY2UoZSl7Y29uc3QgdD10aGlzLl9nZXRTb3VyY2VDYWNoZXMoZSk7Zm9yKGNvbnN0IGUgb2YgdCllLmNsZWFyVGlsZXMoKTt9X3JlbG9hZFNvdXJjZShlKXtjb25zdCB0PXRoaXMuX2dldFNvdXJjZUNhY2hlcyhlKTtmb3IoY29uc3QgZSBvZiB0KWUucmVzdW1lKCksZS5yZWxvYWQoKTt9X3JlbG9hZFNvdXJjZXMoKXtmb3IoY29uc3QgZSBvZiB0aGlzLl9nZXRTb3VyY2VzKCkpZS5yZWxvYWQmJmUucmVsb2FkKCk7fV91cGRhdGVTb3VyY2VzKGUpe2Zvcihjb25zdCB0IGluIHRoaXMuX3NvdXJjZUNhY2hlcyl0aGlzLl9zb3VyY2VDYWNoZXNbdF0udXBkYXRlKGUpO31fZ2VuZXJhdGVDb2xsaXNpb25Cb3hlcygpe2Zvcihjb25zdCBlIGluIHRoaXMuX3NvdXJjZUNhY2hlcyl7Y29uc3QgdD10aGlzLl9zb3VyY2VDYWNoZXNbZV07dC5yZXN1bWUoKSx0LnJlbG9hZCgpO319X3VwZGF0ZVBsYWNlbWVudCh0LGksbyxyLG49ITEpe2xldCBhPSExLHM9ITE7Y29uc3QgbD17fTtmb3IoY29uc3QgZSBvZiB0aGlzLl9vcmRlcil7Y29uc3QgaT10aGlzLl9sYXllcnNbZV07aWYoXCJzeW1ib2xcIiE9PWkudHlwZSljb250aW51ZTtpZighbFtpLnNvdXJjZV0pe2NvbnN0IGU9dGhpcy5fZ2V0TGF5ZXJTb3VyY2VDYWNoZShpKTtpZighZSljb250aW51ZTtsW2kuc291cmNlXT1lLmdldFJlbmRlcmFibGVJZHMoITApLm1hcCgodD0+ZS5nZXRUaWxlQnlJRCh0KSkpLnNvcnQoKChlLHQpPT50LnRpbGVJRC5vdmVyc2NhbGVkWi1lLnRpbGVJRC5vdmVyc2NhbGVkWnx8KGUudGlsZUlELmlzTGVzc1RoYW4odC50aWxlSUQpPy0xOjEpKSk7fWNvbnN0IG89dGhpcy5jcm9zc1RpbGVTeW1ib2xJbmRleC5hZGRMYXllcihpLGxbaS5zb3VyY2VdLHQuY2VudGVyLmxuZyx0LnByb2plY3Rpb24pO2E9YXx8bzt9aWYodGhpcy5jcm9zc1RpbGVTeW1ib2xJbmRleC5wcnVuZVVudXNlZExheWVycyh0aGlzLl9vcmRlciksbj1ufHx0aGlzLl9sYXllck9yZGVyQ2hhbmdlZHx8MD09PW8sdGhpcy5fbGF5ZXJPcmRlckNoYW5nZWQmJnRoaXMuZmlyZShuZXcgZS5FdmVudChcIm5ld29yZGVyXCIpKSwobnx8IXRoaXMucGF1c2VhYmxlUGxhY2VtZW50fHx0aGlzLnBhdXNlYWJsZVBsYWNlbWVudC5pc0RvbmUoKSYmIXRoaXMucGxhY2VtZW50LnN0aWxsUmVjZW50KGUuZXhwb3J0ZWQubm93KCksdC56b29tKSkmJih0aGlzLnBhdXNlYWJsZVBsYWNlbWVudD1uZXcgWnQodCx0aGlzLl9vcmRlcixuLGksbyxyLHRoaXMucGxhY2VtZW50LHRoaXMuZm9nJiZ0LnByb2plY3Rpb24uc3VwcG9ydHNGb2c/dGhpcy5mb2cuc3RhdGU6bnVsbCksdGhpcy5fbGF5ZXJPcmRlckNoYW5nZWQ9ITEpLHRoaXMucGF1c2VhYmxlUGxhY2VtZW50LmlzRG9uZSgpP3RoaXMucGxhY2VtZW50LnNldFN0YWxlKCk6KHRoaXMucGF1c2VhYmxlUGxhY2VtZW50LmNvbnRpbnVlUGxhY2VtZW50KHRoaXMuX29yZGVyLHRoaXMuX2xheWVycyxsKSx0aGlzLnBhdXNlYWJsZVBsYWNlbWVudC5pc0RvbmUoKSYmKHRoaXMucGxhY2VtZW50PXRoaXMucGF1c2VhYmxlUGxhY2VtZW50LmNvbW1pdChlLmV4cG9ydGVkLm5vdygpKSxzPSEwKSxhJiZ0aGlzLnBhdXNlYWJsZVBsYWNlbWVudC5wbGFjZW1lbnQuc2V0U3RhbGUoKSksc3x8YSlmb3IoY29uc3QgZSBvZiB0aGlzLl9vcmRlcil7Y29uc3QgdD10aGlzLl9sYXllcnNbZV07XCJzeW1ib2xcIj09PXQudHlwZSYmdGhpcy5wbGFjZW1lbnQudXBkYXRlTGF5ZXJPcGFjaXRpZXModCxsW3Quc291cmNlXSk7fXJldHVybiAhdGhpcy5wYXVzZWFibGVQbGFjZW1lbnQuaXNEb25lKCl8fHRoaXMucGxhY2VtZW50Lmhhc1RyYW5zaXRpb25zKGUuZXhwb3J0ZWQubm93KCkpfV9yZWxlYXNlU3ltYm9sRmFkZVRpbGVzKCl7Zm9yKGNvbnN0IGUgaW4gdGhpcy5fc291cmNlQ2FjaGVzKXRoaXMuX3NvdXJjZUNhY2hlc1tlXS5yZWxlYXNlU3ltYm9sRmFkZVRpbGVzKCk7fWdldEltYWdlcyhlLHQsaSl7dGhpcy5pbWFnZU1hbmFnZXIuZ2V0SW1hZ2VzKHQuaWNvbnMsaSksdGhpcy5fdXBkYXRlVGlsZXNGb3JDaGFuZ2VkSW1hZ2VzKCk7Y29uc3Qgbz1lPT57ZSYmZS5zZXREZXBlbmRlbmNpZXModC50aWxlSUQua2V5LHQudHlwZSx0Lmljb25zKTt9O28odGhpcy5fb3RoZXJTb3VyY2VDYWNoZXNbdC5zb3VyY2VdKSxvKHRoaXMuX3N5bWJvbFNvdXJjZUNhY2hlc1t0LnNvdXJjZV0pO31nZXRHbHlwaHMoZSx0LGkpe3RoaXMuZ2x5cGhNYW5hZ2VyLmdldEdseXBocyh0LnN0YWNrcyxpKTt9Z2V0UmVzb3VyY2UodCxpLG8pe3JldHVybiBlLm1ha2VSZXF1ZXN0KGksbyl9X2dldFNvdXJjZUNhY2hlKGUpe3JldHVybiB0aGlzLl9vdGhlclNvdXJjZUNhY2hlc1tlXX1fZ2V0TGF5ZXJTb3VyY2VDYWNoZShlKXtyZXR1cm4gXCJzeW1ib2xcIj09PWUudHlwZT90aGlzLl9zeW1ib2xTb3VyY2VDYWNoZXNbZS5zb3VyY2VdOnRoaXMuX290aGVyU291cmNlQ2FjaGVzW2Uuc291cmNlXX1fZ2V0U291cmNlQ2FjaGVzKGUpe2NvbnN0IHQ9W107cmV0dXJuIHRoaXMuX290aGVyU291cmNlQ2FjaGVzW2VdJiZ0LnB1c2godGhpcy5fb3RoZXJTb3VyY2VDYWNoZXNbZV0pLHRoaXMuX3N5bWJvbFNvdXJjZUNhY2hlc1tlXSYmdC5wdXNoKHRoaXMuX3N5bWJvbFNvdXJjZUNhY2hlc1tlXSksdH1faXNTb3VyY2VDYWNoZUxvYWRlZCh0KXtjb25zdCBpPXRoaXMuX2dldFNvdXJjZUNhY2hlcyh0KTtyZXR1cm4gMD09PWkubGVuZ3RoPyh0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgRXJyb3IoYFRoZXJlIGlzIG5vIHNvdXJjZSB3aXRoIElEICcke3R9J2ApKSksITEpOmkuZXZlcnkoKGU9PmUubG9hZGVkKCkpKX1oYXMzRExheWVycygpe3JldHVybiB0aGlzLl9udW0zRExheWVycz4wfWhhc1N5bWJvbExheWVycygpe3JldHVybiB0aGlzLl9udW1TeW1ib2xMYXllcnM+MH1oYXNDaXJjbGVMYXllcnMoKXtyZXR1cm4gdGhpcy5fbnVtQ2lyY2xlTGF5ZXJzPjB9X2NsZWFyV29ya2VyQ2FjaGVzKCl7dGhpcy5kaXNwYXRjaGVyLmJyb2FkY2FzdChcImNsZWFyQ2FjaGVzXCIpO31kZXN0cm95KCl7dGhpcy5fY2xlYXJXb3JrZXJDYWNoZXMoKSx0aGlzLnRlcnJhaW5TZXRGb3JEcmFwaW5nT25seSgpJiYoZGVsZXRlIHRoaXMudGVycmFpbixkZWxldGUgdGhpcy5zdHlsZXNoZWV0LnRlcnJhaW4pO319ZWkuZ2V0U291cmNlVHlwZT1mdW5jdGlvbihlKXtyZXR1cm4gQWVbZV19LGVpLnNldFNvdXJjZVR5cGU9ZnVuY3Rpb24oZSx0KXtBZVtlXT10O30sZWkucmVnaXN0ZXJGb3JQbHVnaW5TdGF0ZUNoYW5nZT1lLnJlZ2lzdGVyRm9yUGx1Z2luU3RhdGVDaGFuZ2U7dmFyIHRpPVwiXFxuI2RlZmluZSBFUFNJTE9OIDAuMDAwMDAwMVxcbiNkZWZpbmUgUEkgMy4xNDE1OTI2NTM1ODk3OTNcXG4jZGVmaW5lIEVYVEVOVCA4MTkyLjBcXG4jZGVmaW5lIEhBTEZfUEkgUEkvMi4wXFxuI2RlZmluZSBRVUFSVEVSX1BJIFBJLzQuMFxcbiNkZWZpbmUgUkFEX1RPX0RFRyAxODAuMC9QSVxcbiNkZWZpbmUgREVHX1RPX1JBRCBQSS8xODAuMFxcbiNkZWZpbmUgR0xPQkVfUkFESVVTIEVYVEVOVC9QSS8yLjBcIixpaT1cImF0dHJpYnV0ZSBoaWdocCB2ZWMzIGFfcG9zXzNmO3VuaWZvcm0gbG93cCBtYXQ0IHVfbWF0cml4O3ZhcnlpbmcgaGlnaHAgdmVjMyB2X3V2O3ZvaWQgbWFpbigpIHtjb25zdCBtYXQzIGhhbGZfbmVnX3BpX2Fyb3VuZF94PW1hdDMoMS4wLDAuMCwgMC4wLDAuMCwwLjAsLTEuMCwwLjAsMS4wLCAwLjApO3ZfdXY9aGFsZl9uZWdfcGlfYXJvdW5kX3gqYV9wb3NfM2Y7dmVjNCBwb3M9dV9tYXRyaXgqdmVjNChhX3Bvc18zZiwxLjApO2dsX1Bvc2l0aW9uPXBvcy54eXd3O31cIixvaT1cIlxcbiNkZWZpbmUgRUxFVkFUSU9OX1NDQUxFIDcuMFxcbiNkZWZpbmUgRUxFVkFUSU9OX09GRlNFVCA0NTAuMFxcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG51bmlmb3JtIHZlYzMgdV90aWxlX3RsX3VwO3VuaWZvcm0gdmVjMyB1X3RpbGVfdHJfdXA7dW5pZm9ybSB2ZWMzIHVfdGlsZV9icl91cDt1bmlmb3JtIHZlYzMgdV90aWxlX2JsX3VwO3VuaWZvcm0gZmxvYXQgdV90aWxlX3VwX3NjYWxlO3ZlYzMgZWxldmF0aW9uVmVjdG9yKHZlYzIgcG9zKSB7dmVjMiB1dj1wb3MvRVhURU5UO3ZlYzMgdXA9bm9ybWFsaXplKG1peChcXG5taXgodV90aWxlX3RsX3VwLHVfdGlsZV90cl91cCx1di54eHgpLG1peCh1X3RpbGVfYmxfdXAsdV90aWxlX2JyX3VwLHV2Lnh4eCksdXYueXl5KSk7cmV0dXJuIHVwKnVfdGlsZV91cF9zY2FsZTt9XFxuI2Vsc2VcXG52ZWMzIGVsZXZhdGlvblZlY3Rvcih2ZWMyIHBvcykgeyByZXR1cm4gdmVjMygwLDAsMSk7IH1cXG4jZW5kaWZcXG4jaWZkZWYgVEVSUkFJTlxcbiNpZmRlZiBURVJSQUlOX0RFTV9GTE9BVF9GT1JNQVRcXG51bmlmb3JtIGhpZ2hwIHNhbXBsZXIyRCB1X2RlbTt1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyRCB1X2RlbV9wcmV2O1xcbiNlbHNlXFxudW5pZm9ybSBzYW1wbGVyMkQgdV9kZW07dW5pZm9ybSBzYW1wbGVyMkQgdV9kZW1fcHJldjtcXG4jZW5kaWZcXG51bmlmb3JtIHZlYzQgdV9kZW1fdW5wYWNrO3VuaWZvcm0gdmVjMiB1X2RlbV90bDt1bmlmb3JtIHZlYzIgdV9kZW1fdGxfcHJldjt1bmlmb3JtIGZsb2F0IHVfZGVtX3NjYWxlO3VuaWZvcm0gZmxvYXQgdV9kZW1fc2NhbGVfcHJldjt1bmlmb3JtIGZsb2F0IHVfZGVtX3NpemU7dW5pZm9ybSBmbG9hdCB1X2RlbV9sZXJwO3VuaWZvcm0gZmxvYXQgdV9leGFnZ2VyYXRpb247dW5pZm9ybSBmbG9hdCB1X21ldGVyX3RvX2RlbTt1bmlmb3JtIG1hdDQgdV9sYWJlbF9wbGFuZV9tYXRyaXhfaW52O3VuaWZvcm0gc2FtcGxlcjJEIHVfZGVwdGg7dW5pZm9ybSB2ZWMyIHVfZGVwdGhfc2l6ZV9pbnY7dmVjNCB0aWxlVXZUb0RlbVNhbXBsZSh2ZWMyIHV2LGZsb2F0IGRlbV9zaXplLGZsb2F0IGRlbV9zY2FsZSx2ZWMyIGRlbV90bCkge3ZlYzIgcG9zPWRlbV9zaXplKih1dipkZW1fc2NhbGUrZGVtX3RsKSsxLjA7dmVjMiBmPWZyYWN0KHBvcyk7cmV0dXJuIHZlYzQoKHBvcy1mKzAuNSkvKGRlbV9zaXplKzIuMCksZik7fWZsb2F0IGRlY29kZUVsZXZhdGlvbih2ZWM0IHYpIHtyZXR1cm4gZG90KHZlYzQodi54eXoqMjU1LjAsLTEuMCksdV9kZW1fdW5wYWNrKTt9ZmxvYXQgY3VycmVudEVsZXZhdGlvbih2ZWMyIGFwb3MpIHtcXG4jaWZkZWYgVEVSUkFJTl9ERU1fRkxPQVRfRk9STUFUXFxudmVjMiBwb3M9KHVfZGVtX3NpemUqKGFwb3MvODE5Mi4wKnVfZGVtX3NjYWxlK3VfZGVtX3RsKSsxLjUpLyh1X2RlbV9zaXplKzIuMCk7cmV0dXJuIHVfZXhhZ2dlcmF0aW9uKnRleHR1cmUyRCh1X2RlbSxwb3MpLmE7XFxuI2Vsc2VcXG5mbG9hdCBkZD0xLjAvKHVfZGVtX3NpemUrMi4wKTt2ZWM0IHI9dGlsZVV2VG9EZW1TYW1wbGUoYXBvcy84MTkyLjAsdV9kZW1fc2l6ZSx1X2RlbV9zY2FsZSx1X2RlbV90bCk7dmVjMiBwb3M9ci54eTt2ZWMyIGY9ci56dztmbG9hdCB0bD1kZWNvZGVFbGV2YXRpb24odGV4dHVyZTJEKHVfZGVtLHBvcykpO1xcbiNpZmRlZiBURVJSQUlOX0RFTV9ORUFSRVNUX0ZJTFRFUlxcbnJldHVybiB1X2V4YWdnZXJhdGlvbip0bDtcXG4jZW5kaWZcXG5mbG9hdCB0cj1kZWNvZGVFbGV2YXRpb24odGV4dHVyZTJEKHVfZGVtLHBvcyt2ZWMyKGRkLDAuMCkpKTtmbG9hdCBibD1kZWNvZGVFbGV2YXRpb24odGV4dHVyZTJEKHVfZGVtLHBvcyt2ZWMyKDAuMCxkZCkpKTtmbG9hdCBicj1kZWNvZGVFbGV2YXRpb24odGV4dHVyZTJEKHVfZGVtLHBvcyt2ZWMyKGRkLGRkKSkpO3JldHVybiB1X2V4YWdnZXJhdGlvbiptaXgobWl4KHRsLHRyLGYueCksbWl4KGJsLGJyLGYueCksZi55KTtcXG4jZW5kaWZcXG59ZmxvYXQgcHJldkVsZXZhdGlvbih2ZWMyIGFwb3MpIHtcXG4jaWZkZWYgVEVSUkFJTl9ERU1fRkxPQVRfRk9STUFUXFxudmVjMiBwb3M9KHVfZGVtX3NpemUqKGFwb3MvODE5Mi4wKnVfZGVtX3NjYWxlX3ByZXYrdV9kZW1fdGxfcHJldikrMS41KS8odV9kZW1fc2l6ZSsyLjApO3JldHVybiB1X2V4YWdnZXJhdGlvbip0ZXh0dXJlMkQodV9kZW1fcHJldixwb3MpLmE7XFxuI2Vsc2VcXG5mbG9hdCBkZD0xLjAvKHVfZGVtX3NpemUrMi4wKTt2ZWM0IHI9dGlsZVV2VG9EZW1TYW1wbGUoYXBvcy84MTkyLjAsdV9kZW1fc2l6ZSx1X2RlbV9zY2FsZV9wcmV2LHVfZGVtX3RsX3ByZXYpO3ZlYzIgcG9zPXIueHk7dmVjMiBmPXIuenc7ZmxvYXQgdGw9ZGVjb2RlRWxldmF0aW9uKHRleHR1cmUyRCh1X2RlbV9wcmV2LHBvcykpO2Zsb2F0IHRyPWRlY29kZUVsZXZhdGlvbih0ZXh0dXJlMkQodV9kZW1fcHJldixwb3MrdmVjMihkZCwwLjApKSk7ZmxvYXQgYmw9ZGVjb2RlRWxldmF0aW9uKHRleHR1cmUyRCh1X2RlbV9wcmV2LHBvcyt2ZWMyKDAuMCxkZCkpKTtmbG9hdCBicj1kZWNvZGVFbGV2YXRpb24odGV4dHVyZTJEKHVfZGVtX3ByZXYscG9zK3ZlYzIoZGQsZGQpKSk7cmV0dXJuIHVfZXhhZ2dlcmF0aW9uKm1peChtaXgodGwsdHIsZi54KSxtaXgoYmwsYnIsZi54KSxmLnkpO1xcbiNlbmRpZlxcbn1cXG4jaWZkZWYgVEVSUkFJTl9WRVJURVhfTU9SUEhJTkdcXG5mbG9hdCBlbGV2YXRpb24odmVjMiBhcG9zKSB7ZmxvYXQgbmV4dEVsZXZhdGlvbj1jdXJyZW50RWxldmF0aW9uKGFwb3MpO2Zsb2F0IHByZXZFbGV2YXRpb249cHJldkVsZXZhdGlvbihhcG9zKTtyZXR1cm4gbWl4KHByZXZFbGV2YXRpb24sbmV4dEVsZXZhdGlvbix1X2RlbV9sZXJwKTt9XFxuI2Vsc2VcXG5mbG9hdCBlbGV2YXRpb24odmVjMiBhcG9zKSB7cmV0dXJuIGN1cnJlbnRFbGV2YXRpb24oYXBvcyk7fVxcbiNlbmRpZlxcbmhpZ2hwIGZsb2F0IHVucGFja19kZXB0aChoaWdocCB2ZWM0IHJnYmFfZGVwdGgpXFxue2NvbnN0IGhpZ2hwIHZlYzQgYml0X3NoaWZ0PXZlYzQoMS4wLygyNTUuMCoyNTUuMCoyNTUuMCksMS4wLygyNTUuMCoyNTUuMCksMS4wLzI1NS4wLDEuMCk7cmV0dXJuIGRvdChyZ2JhX2RlcHRoLGJpdF9zaGlmdCkqMi4wLTEuMDt9Ym9vbCBpc09jY2x1ZGVkKHZlYzQgZnJhZykge3ZlYzMgY29vcmQ9ZnJhZy54eXovZnJhZy53O2Zsb2F0IGRlcHRoPXVucGFja19kZXB0aCh0ZXh0dXJlMkQodV9kZXB0aCwoY29vcmQueHkrMS4wKSowLjUpKTtyZXR1cm4gY29vcmQueiA+IGRlcHRoKzAuMDAwNTt9ZmxvYXQgb2NjbHVzaW9uRmFkZSh2ZWM0IGZyYWcpIHt2ZWMzIGNvb3JkPWZyYWcueHl6L2ZyYWcudzt2ZWMzIGRmPXZlYzMoNS4wKnVfZGVwdGhfc2l6ZV9pbnYsMC4wKTt2ZWMyIHV2PTAuNSpjb29yZC54eSswLjU7dmVjNCBkZXB0aD12ZWM0KFxcbnVucGFja19kZXB0aCh0ZXh0dXJlMkQodV9kZXB0aCx1di1kZi54eikpLHVucGFja19kZXB0aCh0ZXh0dXJlMkQodV9kZXB0aCx1ditkZi54eikpLHVucGFja19kZXB0aCh0ZXh0dXJlMkQodV9kZXB0aCx1di1kZi56eSkpLHVucGFja19kZXB0aCh0ZXh0dXJlMkQodV9kZXB0aCx1ditkZi56eSkpXFxuKTtyZXR1cm4gZG90KHZlYzQoMC4yNSksdmVjNCgxLjApLWNsYW1wKDMwMC4wKih2ZWM0KGNvb3JkLnotMC4wMDEpLWRlcHRoKSwwLjAsMS4wKSk7fXZlYzQgZm91clNhbXBsZSh2ZWMyIHBvcyx2ZWMyIG9mZikge1xcbiNpZmRlZiBURVJSQUlOX0RFTV9GTE9BVF9GT1JNQVRcXG5mbG9hdCB0bD10ZXh0dXJlMkQodV9kZW0scG9zKS5hO2Zsb2F0IHRyPXRleHR1cmUyRCh1X2RlbSxwb3MrdmVjMihvZmYueCwwLjApKS5hO2Zsb2F0IGJsPXRleHR1cmUyRCh1X2RlbSxwb3MrdmVjMigwLjAsb2ZmLnkpKS5hO2Zsb2F0IGJyPXRleHR1cmUyRCh1X2RlbSxwb3Mrb2ZmKS5hO1xcbiNlbHNlXFxudmVjNCBkZW10bD12ZWM0KHRleHR1cmUyRCh1X2RlbSxwb3MpLnh5eioyNTUuMCwtMS4wKTtmbG9hdCB0bD1kb3QoZGVtdGwsdV9kZW1fdW5wYWNrKTt2ZWM0IGRlbXRyPXZlYzQodGV4dHVyZTJEKHVfZGVtLHBvcyt2ZWMyKG9mZi54LDAuMCkpLnh5eioyNTUuMCwtMS4wKTtmbG9hdCB0cj1kb3QoZGVtdHIsdV9kZW1fdW5wYWNrKTt2ZWM0IGRlbWJsPXZlYzQodGV4dHVyZTJEKHVfZGVtLHBvcyt2ZWMyKDAuMCxvZmYueSkpLnh5eioyNTUuMCwtMS4wKTtmbG9hdCBibD1kb3QoZGVtYmwsdV9kZW1fdW5wYWNrKTt2ZWM0IGRlbWJyPXZlYzQodGV4dHVyZTJEKHVfZGVtLHBvcytvZmYpLnh5eioyNTUuMCwtMS4wKTtmbG9hdCBicj1kb3QoZGVtYnIsdV9kZW1fdW5wYWNrKTtcXG4jZW5kaWZcXG5yZXR1cm4gdmVjNCh0bCx0cixibCxicik7fWZsb2F0IGZsYXRFbGV2YXRpb24odmVjMiBwYWNrKSB7dmVjMiBhcG9zPWZsb29yKHBhY2svOC4wKTt2ZWMyIHNwYW49MTAuMCoocGFjay1hcG9zKjguMCk7dmVjMiB1dlRleD0oYXBvcy12ZWMyKDEuMCwxLjApKS84MTkwLjA7ZmxvYXQgc2l6ZT11X2RlbV9zaXplKzIuMDtmbG9hdCBkZD0xLjAvc2l6ZTt2ZWMyIHBvcz11X2RlbV9zaXplKih1dlRleCp1X2RlbV9zY2FsZSt1X2RlbV90bCkrMS4wO3ZlYzIgZj1mcmFjdChwb3MpO3Bvcz0ocG9zLWYrMC41KSpkZDt2ZWM0IGg9Zm91clNhbXBsZShwb3MsdmVjMihkZCkpO2Zsb2F0IHo9bWl4KG1peChoLngsaC55LGYueCksbWl4KGgueixoLncsZi54KSxmLnkpO3ZlYzIgdz1mbG9vcigwLjUqKHNwYW4qdV9tZXRlcl90b19kZW0tMS4wKSk7dmVjMiBkPWRkKnc7dmVjNCBib3VuZHM9dmVjNChkLHZlYzIoMS4wKS1kKTtoPWZvdXJTYW1wbGUocG9zLWQsMi4wKmQrdmVjMihkZCkpO3ZlYzQgZGlmZj1hYnMoaC54enh5LWgueXd6dyk7dmVjMiBzbG9wZT1taW4odmVjMigwLjI1KSx1X21ldGVyX3RvX2RlbSowLjUqKGRpZmYueHorZGlmZi55dykvKDIuMCp3K3ZlYzIoMS4wKSkpO3ZlYzIgZml4PXNsb3BlKnNwYW47ZmxvYXQgYmFzZT16K21heChmaXgueCxmaXgueSk7cmV0dXJuIHVfZXhhZ2dlcmF0aW9uKmJhc2U7fWZsb2F0IGVsZXZhdGlvbkZyb21VaW50MTYoZmxvYXQgd29yZCkge3JldHVybiB1X2V4YWdnZXJhdGlvbiood29yZC9FTEVWQVRJT05fU0NBTEUtRUxFVkFUSU9OX09GRlNFVCk7fVxcbiNlbHNlXFxuZmxvYXQgZWxldmF0aW9uKHZlYzIgcG9zKSB7IHJldHVybiAwLjA7IH1ib29sIGlzT2NjbHVkZWQodmVjNCBmcmFnKSB7IHJldHVybiBmYWxzZTsgfWZsb2F0IG9jY2x1c2lvbkZhZGUodmVjNCBmcmFnKSB7IHJldHVybiAxLjA7IH1cXG4jZW5kaWZcIixyaT1cIiNpZmRlZiBGT0dcXG51bmlmb3JtIG1lZGl1bXAgdmVjNCB1X2ZvZ19jb2xvcjt1bmlmb3JtIG1lZGl1bXAgdmVjMiB1X2ZvZ19yYW5nZTt1bmlmb3JtIG1lZGl1bXAgZmxvYXQgdV9mb2dfaG9yaXpvbl9ibGVuZDt1bmlmb3JtIG1lZGl1bXAgbWF0NCB1X2ZvZ19tYXRyaXg7dmFyeWluZyB2ZWMzIHZfZm9nX3BvcztmbG9hdCBmb2dfcmFuZ2UoZmxvYXQgZGVwdGgpIHtyZXR1cm4gKGRlcHRoLXVfZm9nX3JhbmdlWzBdKS8odV9mb2dfcmFuZ2VbMV0tdV9mb2dfcmFuZ2VbMF0pO31mbG9hdCBmb2dfaG9yaXpvbl9ibGVuZGluZyh2ZWMzIGNhbWVyYV9kaXIpIHtmbG9hdCB0PW1heCgwLjAsY2FtZXJhX2Rpci56L3VfZm9nX2hvcml6b25fYmxlbmQpO3JldHVybiB1X2ZvZ19jb2xvci5hKmV4cCgtMy4wKnQqdCk7fWZsb2F0IGZvZ19vcGFjaXR5KGZsb2F0IHQpIHtjb25zdCBmbG9hdCBkZWNheT02LjA7ZmxvYXQgZmFsbG9mZj0xLjAtbWluKDEuMCxleHAoLWRlY2F5KnQpKTtmYWxsb2ZmKj1mYWxsb2ZmKmZhbGxvZmY7cmV0dXJuIHVfZm9nX2NvbG9yLmEqbWluKDEuMCwxLjAwNzQ3KmZhbGxvZmYpO312ZWMzIGZvZ19wb3NpdGlvbih2ZWMzIHBvcykge3JldHVybiAodV9mb2dfbWF0cml4KnZlYzQocG9zLDEuMCkpLnh5ejt9dmVjMyBmb2dfcG9zaXRpb24odmVjMiBwb3MpIHtyZXR1cm4gZm9nX3Bvc2l0aW9uKHZlYzMocG9zLDAuMCkpO31mbG9hdCBmb2codmVjMyBwb3MpIHtmbG9hdCBkZXB0aD1sZW5ndGgocG9zKTtmbG9hdCBvcGFjaXR5PWZvZ19vcGFjaXR5KGZvZ19yYW5nZShkZXB0aCkpO3JldHVybiBvcGFjaXR5KmZvZ19ob3Jpem9uX2JsZW5kaW5nKHBvcy9kZXB0aCk7fVxcbiNlbmRpZlwiLG5pPVwiI2lmZGVmIEZPR1xcbnVuaWZvcm0gbWVkaXVtcCB2ZWM0IHVfZm9nX2NvbG9yO3VuaWZvcm0gbWVkaXVtcCB2ZWMyIHVfZm9nX3JhbmdlO3VuaWZvcm0gbWVkaXVtcCBmbG9hdCB1X2ZvZ19ob3Jpem9uX2JsZW5kO3VuaWZvcm0gbWVkaXVtcCBmbG9hdCB1X2ZvZ190ZW1wb3JhbF9vZmZzZXQ7dmFyeWluZyB2ZWMzIHZfZm9nX3Bvczt1bmlmb3JtIGhpZ2hwIHZlYzMgdV9mcnVzdHVtX3RsO3VuaWZvcm0gaGlnaHAgdmVjMyB1X2ZydXN0dW1fdHI7dW5pZm9ybSBoaWdocCB2ZWMzIHVfZnJ1c3R1bV9icjt1bmlmb3JtIGhpZ2hwIHZlYzMgdV9mcnVzdHVtX2JsO3VuaWZvcm0gaGlnaHAgdmVjMyB1X2dsb2JlX3Bvczt1bmlmb3JtIGhpZ2hwIGZsb2F0IHVfZ2xvYmVfcmFkaXVzO3VuaWZvcm0gaGlnaHAgdmVjMiB1X3ZpZXdwb3J0O3VuaWZvcm0gZmxvYXQgdV9nbG9iZV90cmFuc2l0aW9uO3VuaWZvcm0gaW50IHVfaXNfZ2xvYmU7ZmxvYXQgZm9nX3JhbmdlKGZsb2F0IGRlcHRoKSB7cmV0dXJuIChkZXB0aC11X2ZvZ19yYW5nZVswXSkvKHVfZm9nX3JhbmdlWzFdLXVfZm9nX3JhbmdlWzBdKTt9ZmxvYXQgZm9nX2hvcml6b25fYmxlbmRpbmcodmVjMyBjYW1lcmFfZGlyKSB7ZmxvYXQgdD1tYXgoMC4wLGNhbWVyYV9kaXIuei91X2ZvZ19ob3Jpem9uX2JsZW5kKTtyZXR1cm4gdV9mb2dfY29sb3IuYSpleHAoLTMuMCp0KnQpO31mbG9hdCBmb2dfb3BhY2l0eShmbG9hdCB0KSB7Y29uc3QgZmxvYXQgZGVjYXk9Ni4wO2Zsb2F0IGZhbGxvZmY9MS4wLW1pbigxLjAsZXhwKC1kZWNheSp0KSk7ZmFsbG9mZio9ZmFsbG9mZipmYWxsb2ZmO3JldHVybiB1X2ZvZ19jb2xvci5hKm1pbigxLjAsMS4wMDc0NypmYWxsb2ZmKTt9ZmxvYXQgZ2xvYmVfZ2xvd19wcm9ncmVzcygpIHtoaWdocCB2ZWMyIHV2PWdsX0ZyYWdDb29yZC54eS91X3ZpZXdwb3J0O2hpZ2hwIHZlYzMgcmF5X2Rpcj1taXgoXFxubWl4KHVfZnJ1c3R1bV90bCx1X2ZydXN0dW1fdHIsdXYueCksbWl4KHVfZnJ1c3R1bV9ibCx1X2ZydXN0dW1fYnIsdXYueCksMS4wLXV2LnkpO2hpZ2hwIHZlYzMgZGlyPW5vcm1hbGl6ZShyYXlfZGlyKTtoaWdocCB2ZWMzIGNsb3Nlc3RfcG9pbnQ9ZG90KHVfZ2xvYmVfcG9zLGRpcikqZGlyO2hpZ2hwIGZsb2F0IHNkZj1sZW5ndGgoY2xvc2VzdF9wb2ludC11X2dsb2JlX3BvcykvdV9nbG9iZV9yYWRpdXM7cmV0dXJuIHNkZitQSSowLjU7fWZsb2F0IGZvZ19vcGFjaXR5KHZlYzMgcG9zKSB7ZmxvYXQgZGVwdGg9bGVuZ3RoKHBvcyk7cmV0dXJuIGZvZ19vcGFjaXR5KGZvZ19yYW5nZShkZXB0aCkpO312ZWMzIGZvZ19hcHBseSh2ZWMzIGNvbG9yLHZlYzMgcG9zKSB7ZmxvYXQgZGVwdGg9bGVuZ3RoKHBvcyk7ZmxvYXQgb3BhY2l0eTtpZiAodV9pc19nbG9iZT09MSkge2Zsb2F0IGdsb3dfcHJvZ3Jlc3M9Z2xvYmVfZ2xvd19wcm9ncmVzcygpO2Zsb2F0IHQ9bWl4KGdsb3dfcHJvZ3Jlc3MsZGVwdGgsdV9nbG9iZV90cmFuc2l0aW9uKTtvcGFjaXR5PWZvZ19vcGFjaXR5KGZvZ19yYW5nZSh0KSk7fSBlbHNlIHtvcGFjaXR5PWZvZ19vcGFjaXR5KGZvZ19yYW5nZShkZXB0aCkpO29wYWNpdHkqPWZvZ19ob3Jpem9uX2JsZW5kaW5nKHBvcy9kZXB0aCk7fXJldHVybiBtaXgoY29sb3IsdV9mb2dfY29sb3IucmdiLG9wYWNpdHkpO312ZWM0IGZvZ19hcHBseV9mcm9tX3ZlcnQodmVjNCBjb2xvcixmbG9hdCBmb2dfb3BhYykge2Zsb2F0IGFscGhhPUVQU0lMT04rY29sb3IuYTtjb2xvci5yZ2I9bWl4KGNvbG9yLnJnYi9hbHBoYSx1X2ZvZ19jb2xvci5yZ2IsZm9nX29wYWMpKmFscGhhO3JldHVybiBjb2xvcjt9dmVjMyBmb2dfYXBwbHlfc2t5X2dyYWRpZW50KHZlYzMgY2FtZXJhX3JheSx2ZWMzIHNreV9jb2xvcikge2Zsb2F0IGhvcml6b25fYmxlbmQ9Zm9nX2hvcml6b25fYmxlbmRpbmcobm9ybWFsaXplKGNhbWVyYV9yYXkpKTtyZXR1cm4gbWl4KHNreV9jb2xvcix1X2ZvZ19jb2xvci5yZ2IsaG9yaXpvbl9ibGVuZCk7fXZlYzQgZm9nX2FwcGx5X3ByZW11bHRpcGxpZWQodmVjNCBjb2xvcix2ZWMzIHBvcykge2Zsb2F0IGFscGhhPUVQU0lMT04rY29sb3IuYTtjb2xvci5yZ2I9Zm9nX2FwcGx5KGNvbG9yLnJnYi9hbHBoYSxwb3MpKmFscGhhO3JldHVybiBjb2xvcjt9dmVjMyBmb2dfZGl0aGVyKHZlYzMgY29sb3IpIHt2ZWMyIGRpdGhlcl9zZWVkPWdsX0ZyYWdDb29yZC54eSt1X2ZvZ190ZW1wb3JhbF9vZmZzZXQ7cmV0dXJuIGRpdGhlcihjb2xvcixkaXRoZXJfc2VlZCk7fXZlYzQgZm9nX2RpdGhlcih2ZWM0IGNvbG9yKSB7cmV0dXJuIHZlYzQoZm9nX2RpdGhlcihjb2xvci5yZ2IpLGNvbG9yLmEpO31cXG4jZW5kaWZcIjtsZXQgYWk9e30sc2k9e307Y29uc3QgbGk9W107ZGkodGksbGkpLGRpKG9pLGxpKSxkaShyaSxsaSksZGkobmksbGkpLGFpPXBpKFwiXCIsb2kpLHNpPXBpKG5pLHJpKTtjb25zdCBjaT1waShcIlxcbmhpZ2hwIHZlYzMgaGFzaChoaWdocCB2ZWMyIHApIHtoaWdocCB2ZWMzIHAzPWZyYWN0KHAueHl4KnZlYzMoNDQzLjg5NzUsMzk3LjI5NzMsNDkxLjE4NzEpKTtwMys9ZG90KHAzLHAzLnl4eisxOS4xOSk7cmV0dXJuIGZyYWN0KChwMy54eHkrcDMueXp6KSpwMy56eXgpO312ZWMzIGRpdGhlcih2ZWMzIGNvbG9yLGhpZ2hwIHZlYzIgc2VlZCkge3ZlYzMgcm5kPWhhc2goc2VlZCkraGFzaChzZWVkKzAuNTkzNzQpLTAuNTtyZXR1cm4gY29sb3Ircm5kLzI1NS4wO31oaWdocCBmbG9hdCB1bnBhY2tfZGVwdGgoaGlnaHAgdmVjNCByZ2JhX2RlcHRoKVxcbntjb25zdCBoaWdocCB2ZWM0IGJpdF9zaGlmdD12ZWM0KDEuMC8oMjU1LjAqMjU1LjAqMjU1LjApLDEuMC8oMjU1LjAqMjU1LjApLDEuMC8yNTUuMCwxLjApO3JldHVybiBkb3QocmdiYV9kZXB0aCxiaXRfc2hpZnQpKjIuMC0xLjA7fWhpZ2hwIHZlYzQgcGFja19kZXB0aChoaWdocCBmbG9hdCBuZGNfeikge2hpZ2hwIGZsb2F0IGRlcHRoPW5kY196KjAuNSswLjU7Y29uc3QgaGlnaHAgdmVjNCBiaXRfc2hpZnQ9dmVjNCgyNTUuMCoyNTUuMCoyNTUuMCwyNTUuMCoyNTUuMCwyNTUuMCwxLjApO2NvbnN0IGhpZ2hwIHZlYzQgYml0X21hc2sgPXZlYzQoMC4wLDEuMC8yNTUuMCwxLjAvMjU1LjAsMS4wLzI1NS4wKTtoaWdocCB2ZWM0IHJlcz1mcmFjdChkZXB0aCpiaXRfc2hpZnQpO3Jlcy09cmVzLnh4eXoqYml0X21hc2s7cmV0dXJuIHJlczt9XCIsXCJcXG5mbG9hdCB3cmFwKGZsb2F0IG4sZmxvYXQgbWluLGZsb2F0IG1heCkge2Zsb2F0IGQ9bWF4LW1pbjtmbG9hdCB3PW1vZChtb2Qobi1taW4sZCkrZCxkKSttaW47cmV0dXJuICh3PT1taW4pID8gbWF4IDogdzt9XFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbnZlYzMgbWVyY2F0b3JfdGlsZV9wb3NpdGlvbihtYXQ0IG1hdHJpeCx2ZWMyIHRpbGVfYW5jaG9yLHZlYzMgdGlsZV9pZCx2ZWMyIG1lcmNhdG9yX2NlbnRlcikge1xcbiNpZm5kZWYgUFJPSkVDVEVEX1BPU19PTl9WSUVXUE9SVFxcbmZsb2F0IHRpbGVzPXRpbGVfaWQuejt2ZWMyIG1lcmNhdG9yPSh0aWxlX2FuY2hvci9FWFRFTlQrdGlsZV9pZC54eSkvdGlsZXM7bWVyY2F0b3ItPW1lcmNhdG9yX2NlbnRlcjttZXJjYXRvci54PXdyYXAobWVyY2F0b3IueCwtMC41LDAuNSk7dmVjNCBtZXJjYXRvcl90aWxlPXZlYzQobWVyY2F0b3IueHkqRVhURU5ULEVYVEVOVC8oMi4wKlBJKSwxLjApO21lcmNhdG9yX3RpbGU9bWF0cml4Km1lcmNhdG9yX3RpbGU7cmV0dXJuIG1lcmNhdG9yX3RpbGUueHl6O1xcbiNlbHNlXFxucmV0dXJuIHZlYzMoMC4wKTtcXG4jZW5kaWZcXG59dmVjMyBtaXhfZ2xvYmVfbWVyY2F0b3IodmVjMyBnbG9iZSx2ZWMzIG1lcmNhdG9yLGZsb2F0IHQpIHtyZXR1cm4gbWl4KGdsb2JlLG1lcmNhdG9yLHQpO31tYXQzIGdsb2JlX21lcmNhdG9yX3N1cmZhY2VfdmVjdG9ycyh2ZWMzIHBvc19ub3JtYWwsdmVjMyB1cF9kaXIsZmxvYXQgem9vbV90cmFuc2l0aW9uKSB7dmVjMyBub3JtYWw9em9vbV90cmFuc2l0aW9uPT0wLjAgPyBwb3Nfbm9ybWFsIDogbm9ybWFsaXplKG1peChwb3Nfbm9ybWFsLHVwX2Rpcix6b29tX3RyYW5zaXRpb24pKTt2ZWMzIHhBeGlzPW5vcm1hbGl6ZSh2ZWMzKG5vcm1hbC56LDAuMCwtbm9ybWFsLngpKTt2ZWMzIHlBeGlzPW5vcm1hbGl6ZShjcm9zcyhub3JtYWwseEF4aXMpKTtyZXR1cm4gbWF0Myh4QXhpcyx5QXhpcyxub3JtYWwpO31cXG4jZW5kaWZcXG52ZWMyIHVucGFja19mbG9hdChjb25zdCBmbG9hdCBwYWNrZWRWYWx1ZSkge2ludCBwYWNrZWRJbnRWYWx1ZT1pbnQocGFja2VkVmFsdWUpO2ludCB2MD1wYWNrZWRJbnRWYWx1ZS8yNTY7cmV0dXJuIHZlYzIodjAscGFja2VkSW50VmFsdWUtdjAqMjU2KTt9dmVjMiB1bnBhY2tfb3BhY2l0eShjb25zdCBmbG9hdCBwYWNrZWRPcGFjaXR5KSB7aW50IGludE9wYWNpdHk9aW50KHBhY2tlZE9wYWNpdHkpLzI7cmV0dXJuIHZlYzIoZmxvYXQoaW50T3BhY2l0eSkvMTI3LjAsbW9kKHBhY2tlZE9wYWNpdHksMi4wKSk7fXZlYzQgZGVjb2RlX2NvbG9yKGNvbnN0IHZlYzIgZW5jb2RlZENvbG9yKSB7cmV0dXJuIHZlYzQoXFxudW5wYWNrX2Zsb2F0KGVuY29kZWRDb2xvclswXSkvMjU1LjAsdW5wYWNrX2Zsb2F0KGVuY29kZWRDb2xvclsxXSkvMjU1LjBcXG4pO31mbG9hdCB1bnBhY2tfbWl4X3ZlYzIoY29uc3QgdmVjMiBwYWNrZWRWYWx1ZSxjb25zdCBmbG9hdCB0KSB7cmV0dXJuIG1peChwYWNrZWRWYWx1ZVswXSxwYWNrZWRWYWx1ZVsxXSx0KTt9dmVjNCB1bnBhY2tfbWl4X2NvbG9yKGNvbnN0IHZlYzQgcGFja2VkQ29sb3JzLGNvbnN0IGZsb2F0IHQpIHt2ZWM0IG1pbkNvbG9yPWRlY29kZV9jb2xvcih2ZWMyKHBhY2tlZENvbG9yc1swXSxwYWNrZWRDb2xvcnNbMV0pKTt2ZWM0IG1heENvbG9yPWRlY29kZV9jb2xvcih2ZWMyKHBhY2tlZENvbG9yc1syXSxwYWNrZWRDb2xvcnNbM10pKTtyZXR1cm4gbWl4KG1pbkNvbG9yLG1heENvbG9yLHQpO312ZWMyIGdldF9wYXR0ZXJuX3Bvcyhjb25zdCB2ZWMyIHBpeGVsX2Nvb3JkX3VwcGVyLGNvbnN0IHZlYzIgcGl4ZWxfY29vcmRfbG93ZXIsY29uc3QgdmVjMiBwYXR0ZXJuX3NpemUsY29uc3QgZmxvYXQgdGlsZV91bml0c190b19waXhlbHMsY29uc3QgdmVjMiBwb3MpIHt2ZWMyIG9mZnNldD1tb2QobW9kKG1vZChwaXhlbF9jb29yZF91cHBlcixwYXR0ZXJuX3NpemUpKjI1Ni4wLHBhdHRlcm5fc2l6ZSkqMjU2LjArcGl4ZWxfY29vcmRfbG93ZXIscGF0dGVybl9zaXplKTtyZXR1cm4gKHRpbGVfdW5pdHNfdG9fcGl4ZWxzKnBvcytvZmZzZXQpL3BhdHRlcm5fc2l6ZTt9Y29uc3QgdmVjNCBBV0FZPXZlYzQoLTEwMDAuMCwtMTAwMC4wLC0xMDAwLjAsMSk7Ly9Ob3JtYWxpemVkIGRldmljZSBjb29yZGluYXRlIHRoYXQgaXMgbm90IHJlbmRlcmVkLlwiKSxoaT10aSxfaT1cIlxcbiNpZmRlZiBHTF9FU1xcbnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1xcbiNlbHNlXFxuXFxuI2lmICFkZWZpbmVkKGxvd3ApXFxuI2RlZmluZSBsb3dwXFxuI2VuZGlmXFxuXFxuI2lmICFkZWZpbmVkKG1lZGl1bXApXFxuI2RlZmluZSBtZWRpdW1wXFxuI2VuZGlmXFxuXFxuI2lmICFkZWZpbmVkKGhpZ2hwKVxcbiNkZWZpbmUgaGlnaHBcXG4jZW5kaWZcXG5cXG4jZW5kaWZcIjt2YXIgdWk9e2JhY2tncm91bmQ6cGkoXCJ1bmlmb3JtIHZlYzQgdV9jb2xvcjt1bmlmb3JtIGZsb2F0IHVfb3BhY2l0eTt2b2lkIG1haW4oKSB7dmVjNCBvdXRfY29sb3I9dV9jb2xvcjtcXG4jaWZkZWYgRk9HXFxub3V0X2NvbG9yPWZvZ19kaXRoZXIoZm9nX2FwcGx5X3ByZW11bHRpcGxpZWQob3V0X2NvbG9yLHZfZm9nX3BvcykpO1xcbiNlbmRpZlxcbmdsX0ZyYWdDb2xvcj1vdXRfY29sb3IqdV9vcGFjaXR5O1xcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcXG5nbF9GcmFnQ29sb3I9dmVjNCgxLjApO1xcbiNlbmRpZlxcbn1cIixcImF0dHJpYnV0ZSB2ZWMyIGFfcG9zO3VuaWZvcm0gbWF0NCB1X21hdHJpeDt2b2lkIG1haW4oKSB7Z2xfUG9zaXRpb249dV9tYXRyaXgqdmVjNChhX3BvcywwLDEpO1xcbiNpZmRlZiBGT0dcXG52X2ZvZ19wb3M9Zm9nX3Bvc2l0aW9uKGFfcG9zKTtcXG4jZW5kaWZcXG59XCIpLGJhY2tncm91bmRQYXR0ZXJuOnBpKFwidW5pZm9ybSB2ZWMyIHVfcGF0dGVybl90bF9hO3VuaWZvcm0gdmVjMiB1X3BhdHRlcm5fYnJfYTt1bmlmb3JtIHZlYzIgdV9wYXR0ZXJuX3RsX2I7dW5pZm9ybSB2ZWMyIHVfcGF0dGVybl9icl9iO3VuaWZvcm0gdmVjMiB1X3RleHNpemU7dW5pZm9ybSBmbG9hdCB1X21peDt1bmlmb3JtIGZsb2F0IHVfb3BhY2l0eTt1bmlmb3JtIHNhbXBsZXIyRCB1X2ltYWdlO3ZhcnlpbmcgdmVjMiB2X3Bvc19hO3ZhcnlpbmcgdmVjMiB2X3Bvc19iO3ZvaWQgbWFpbigpIHt2ZWMyIGltYWdlY29vcmQ9bW9kKHZfcG9zX2EsMS4wKTt2ZWMyIHBvcz1taXgodV9wYXR0ZXJuX3RsX2EvdV90ZXhzaXplLHVfcGF0dGVybl9icl9hL3VfdGV4c2l6ZSxpbWFnZWNvb3JkKTt2ZWM0IGNvbG9yMT10ZXh0dXJlMkQodV9pbWFnZSxwb3MpO3ZlYzIgaW1hZ2Vjb29yZF9iPW1vZCh2X3Bvc19iLDEuMCk7dmVjMiBwb3MyPW1peCh1X3BhdHRlcm5fdGxfYi91X3RleHNpemUsdV9wYXR0ZXJuX2JyX2IvdV90ZXhzaXplLGltYWdlY29vcmRfYik7dmVjNCBjb2xvcjI9dGV4dHVyZTJEKHVfaW1hZ2UscG9zMik7dmVjNCBvdXRfY29sb3I9bWl4KGNvbG9yMSxjb2xvcjIsdV9taXgpO1xcbiNpZmRlZiBGT0dcXG5vdXRfY29sb3I9Zm9nX2RpdGhlcihmb2dfYXBwbHlfcHJlbXVsdGlwbGllZChvdXRfY29sb3Isdl9mb2dfcG9zKSk7XFxuI2VuZGlmXFxuZ2xfRnJhZ0NvbG9yPW91dF9jb2xvcip1X29wYWNpdHk7XFxuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxcbmdsX0ZyYWdDb2xvcj12ZWM0KDEuMCk7XFxuI2VuZGlmXFxufVwiLFwidW5pZm9ybSBtYXQ0IHVfbWF0cml4O3VuaWZvcm0gdmVjMiB1X3BhdHRlcm5fc2l6ZV9hO3VuaWZvcm0gdmVjMiB1X3BhdHRlcm5fc2l6ZV9iO3VuaWZvcm0gdmVjMiB1X3BpeGVsX2Nvb3JkX3VwcGVyO3VuaWZvcm0gdmVjMiB1X3BpeGVsX2Nvb3JkX2xvd2VyO3VuaWZvcm0gZmxvYXQgdV9zY2FsZV9hO3VuaWZvcm0gZmxvYXQgdV9zY2FsZV9iO3VuaWZvcm0gZmxvYXQgdV90aWxlX3VuaXRzX3RvX3BpeGVsczthdHRyaWJ1dGUgdmVjMiBhX3Bvczt2YXJ5aW5nIHZlYzIgdl9wb3NfYTt2YXJ5aW5nIHZlYzIgdl9wb3NfYjt2b2lkIG1haW4oKSB7Z2xfUG9zaXRpb249dV9tYXRyaXgqdmVjNChhX3BvcywwLDEpO3ZfcG9zX2E9Z2V0X3BhdHRlcm5fcG9zKHVfcGl4ZWxfY29vcmRfdXBwZXIsdV9waXhlbF9jb29yZF9sb3dlcix1X3NjYWxlX2EqdV9wYXR0ZXJuX3NpemVfYSx1X3RpbGVfdW5pdHNfdG9fcGl4ZWxzLGFfcG9zKTt2X3Bvc19iPWdldF9wYXR0ZXJuX3Bvcyh1X3BpeGVsX2Nvb3JkX3VwcGVyLHVfcGl4ZWxfY29vcmRfbG93ZXIsdV9zY2FsZV9iKnVfcGF0dGVybl9zaXplX2IsdV90aWxlX3VuaXRzX3RvX3BpeGVscyxhX3Bvcyk7XFxuI2lmZGVmIEZPR1xcbnZfZm9nX3Bvcz1mb2dfcG9zaXRpb24oYV9wb3MpO1xcbiNlbmRpZlxcbn1cIiksY2lyY2xlOnBpKFwidmFyeWluZyB2ZWMzIHZfZGF0YTt2YXJ5aW5nIGZsb2F0IHZfdmlzaWJpbGl0eTtcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIHZlYzQgY29sb3JcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIG1lZGl1bXAgZmxvYXQgcmFkaXVzXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGJsdXJcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb3BhY2l0eVxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgdmVjNCBzdHJva2VfY29sb3JcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIG1lZGl1bXAgZmxvYXQgc3Ryb2tlX3dpZHRoXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IHN0cm9rZV9vcGFjaXR5XFxudm9pZCBtYWluKCkge1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIHZlYzQgY29sb3JcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIGZsb2F0IHJhZGl1c1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgYmx1clxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIHZlYzQgc3Ryb2tlX2NvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCBmbG9hdCBzdHJva2Vfd2lkdGhcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IHN0cm9rZV9vcGFjaXR5XFxudmVjMiBleHRydWRlPXZfZGF0YS54eTtmbG9hdCBleHRydWRlX2xlbmd0aD1sZW5ndGgoZXh0cnVkZSk7bG93cCBmbG9hdCBhbnRpYWxpYXNibHVyPXZfZGF0YS56O2Zsb2F0IGFudGlhbGlhc2VkX2JsdXI9LW1heChibHVyLGFudGlhbGlhc2JsdXIpO2Zsb2F0IG9wYWNpdHlfdD1zbW9vdGhzdGVwKDAuMCxhbnRpYWxpYXNlZF9ibHVyLGV4dHJ1ZGVfbGVuZ3RoLTEuMCk7ZmxvYXQgY29sb3JfdD1zdHJva2Vfd2lkdGggPCAwLjAxID8gMC4wIDogc21vb3Roc3RlcChcXG5hbnRpYWxpYXNlZF9ibHVyLDAuMCxleHRydWRlX2xlbmd0aC1yYWRpdXMvKHJhZGl1cytzdHJva2Vfd2lkdGgpXFxuKTt2ZWM0IG91dF9jb2xvcj1taXgoY29sb3Iqb3BhY2l0eSxzdHJva2VfY29sb3Iqc3Ryb2tlX29wYWNpdHksY29sb3JfdCk7XFxuI2lmZGVmIEZPR1xcbm91dF9jb2xvcj1mb2dfYXBwbHlfcHJlbXVsdGlwbGllZChvdXRfY29sb3Isdl9mb2dfcG9zKTtcXG4jZW5kaWZcXG5nbF9GcmFnQ29sb3I9b3V0X2NvbG9yKih2X3Zpc2liaWxpdHkqb3BhY2l0eV90KTtcXG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXFxuZ2xfRnJhZ0NvbG9yPXZlYzQoMS4wKTtcXG4jZW5kaWZcXG59XCIsXCIjZGVmaW5lIE5VTV9WSVNJQklMSVRZX1JJTkdTIDJcXG4jZGVmaW5lIElOVl9TUVJUMiAwLjcwNzEwNjc4XFxuI2RlZmluZSBFTEVWQVRJT05fQklBUyAwLjAwMDFcXG4jZGVmaW5lIE5VTV9TQU1QTEVTX1BFUl9SSU5HIDE2XFxudW5pZm9ybSBtYXQ0IHVfbWF0cml4O3VuaWZvcm0gbWF0MiB1X2V4dHJ1ZGVfc2NhbGU7dW5pZm9ybSBsb3dwIGZsb2F0IHVfZGV2aWNlX3BpeGVsX3JhdGlvO3VuaWZvcm0gaGlnaHAgZmxvYXQgdV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlO2F0dHJpYnV0ZSB2ZWMyIGFfcG9zO1xcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG5hdHRyaWJ1dGUgdmVjMyBhX3Bvc18zO2F0dHJpYnV0ZSB2ZWMzIGFfcG9zX25vcm1hbF8zO3VuaWZvcm0gbWF0NCB1X2ludl9yb3RfbWF0cml4O3VuaWZvcm0gdmVjMiB1X21lcmNfY2VudGVyO3VuaWZvcm0gdmVjMyB1X3RpbGVfaWQ7dW5pZm9ybSBmbG9hdCB1X3pvb21fdHJhbnNpdGlvbjt1bmlmb3JtIHZlYzMgdV91cF9kaXI7XFxuI2VuZGlmXFxudmFyeWluZyB2ZWMzIHZfZGF0YTt2YXJ5aW5nIGZsb2F0IHZfdmlzaWJpbGl0eTtcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIHZlYzQgY29sb3JcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIG1lZGl1bXAgZmxvYXQgcmFkaXVzXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGJsdXJcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb3BhY2l0eVxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgdmVjNCBzdHJva2VfY29sb3JcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIG1lZGl1bXAgZmxvYXQgc3Ryb2tlX3dpZHRoXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IHN0cm9rZV9vcGFjaXR5XFxudmVjMiBjYWxjX29mZnNldCh2ZWMyIGV4dHJ1c2lvbixmbG9hdCByYWRpdXMsZmxvYXQgc3Ryb2tlX3dpZHRoLCBmbG9hdCB2aWV3X3NjYWxlKSB7cmV0dXJuIGV4dHJ1c2lvbioocmFkaXVzK3N0cm9rZV93aWR0aCkqdV9leHRydWRlX3NjYWxlKnZpZXdfc2NhbGU7fWZsb2F0IGNhbnRpbGV2ZXJlZF9lbGV2YXRpb24odmVjMiBwb3MsZmxvYXQgcmFkaXVzLGZsb2F0IHN0cm9rZV93aWR0aCxmbG9hdCB2aWV3X3NjYWxlKSB7dmVjMiBjMT1wb3MrY2FsY19vZmZzZXQodmVjMigtMSwtMSkscmFkaXVzLHN0cm9rZV93aWR0aCx2aWV3X3NjYWxlKTt2ZWMyIGMyPXBvcytjYWxjX29mZnNldCh2ZWMyKDEsLTEpLHJhZGl1cyxzdHJva2Vfd2lkdGgsdmlld19zY2FsZSk7dmVjMiBjMz1wb3MrY2FsY19vZmZzZXQodmVjMigxLDEpLHJhZGl1cyxzdHJva2Vfd2lkdGgsdmlld19zY2FsZSk7dmVjMiBjND1wb3MrY2FsY19vZmZzZXQodmVjMigtMSwxKSxyYWRpdXMsc3Ryb2tlX3dpZHRoLHZpZXdfc2NhbGUpO2Zsb2F0IGgxPWVsZXZhdGlvbihjMSkrRUxFVkFUSU9OX0JJQVM7ZmxvYXQgaDI9ZWxldmF0aW9uKGMyKStFTEVWQVRJT05fQklBUztmbG9hdCBoMz1lbGV2YXRpb24oYzMpK0VMRVZBVElPTl9CSUFTO2Zsb2F0IGg0PWVsZXZhdGlvbihjNCkrRUxFVkFUSU9OX0JJQVM7cmV0dXJuIG1heChoNCxtYXgoaDMsbWF4KGgxLGgyKSkpO31mbG9hdCBjaXJjbGVfZWxldmF0aW9uKHZlYzIgcG9zKSB7XFxuI2lmIGRlZmluZWQoVEVSUkFJTilcXG5yZXR1cm4gZWxldmF0aW9uKHBvcykrRUxFVkFUSU9OX0JJQVM7XFxuI2Vsc2VcXG5yZXR1cm4gMC4wO1xcbiNlbmRpZlxcbn12ZWM0IHByb2plY3RfdmVydGV4KHZlYzIgZXh0cnVzaW9uLHZlYzQgd29ybGRfY2VudGVyLHZlYzQgcHJvamVjdGVkX2NlbnRlcixmbG9hdCByYWRpdXMsZmxvYXQgc3Ryb2tlX3dpZHRoLCBmbG9hdCB2aWV3X3NjYWxlLG1hdDMgc3VyZmFjZV92ZWN0b3JzKSB7dmVjMiBzYW1wbGVfb2Zmc2V0PWNhbGNfb2Zmc2V0KGV4dHJ1c2lvbixyYWRpdXMsc3Ryb2tlX3dpZHRoLHZpZXdfc2NhbGUpO1xcbiNpZmRlZiBQSVRDSF9XSVRIX01BUFxcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG5yZXR1cm4gdV9tYXRyaXgqKCB3b3JsZF9jZW50ZXIrdmVjNChzYW1wbGVfb2Zmc2V0Lngqc3VyZmFjZV92ZWN0b3JzWzBdK3NhbXBsZV9vZmZzZXQueSpzdXJmYWNlX3ZlY3RvcnNbMV0sMCkgKTtcXG4jZWxzZVxcbnJldHVybiB1X21hdHJpeCooIHdvcmxkX2NlbnRlcit2ZWM0KHNhbXBsZV9vZmZzZXQsMCwwKSApO1xcbiNlbmRpZlxcbiNlbHNlXFxucmV0dXJuIHByb2plY3RlZF9jZW50ZXIrdmVjNChzYW1wbGVfb2Zmc2V0LDAsMCk7XFxuI2VuZGlmXFxufWZsb2F0IGdldF9zYW1wbGVfc3RlcCgpIHtcXG4jaWZkZWYgUElUQ0hfV0lUSF9NQVBcXG5yZXR1cm4gMi4wKlBJL2Zsb2F0KE5VTV9TQU1QTEVTX1BFUl9SSU5HKTtcXG4jZWxzZVxcbnJldHVybiBQSS9mbG9hdChOVU1fU0FNUExFU19QRVJfUklORyk7XFxuI2VuZGlmXFxufXZvaWQgbWFpbih2b2lkKSB7XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgdmVjNCBjb2xvclxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIG1lZGl1bXAgZmxvYXQgcmFkaXVzXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBibHVyXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgdmVjNCBzdHJva2VfY29sb3JcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIGZsb2F0IHN0cm9rZV93aWR0aFxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgc3Ryb2tlX29wYWNpdHlcXG52ZWMyIGV4dHJ1ZGU9dmVjMihtb2QoYV9wb3MsMi4wKSoyLjAtMS4wKTt2ZWMyIGNpcmNsZV9jZW50ZXI9Zmxvb3IoYV9wb3MqMC41KTt2ZWM0IHdvcmxkX2NlbnRlcjttYXQzIHN1cmZhY2VfdmVjdG9ycztcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxudmVjMyBwb3Nfbm9ybWFsXzM9YV9wb3Nfbm9ybWFsXzMvMTYzODQuMDtzdXJmYWNlX3ZlY3RvcnM9Z2xvYmVfbWVyY2F0b3Jfc3VyZmFjZV92ZWN0b3JzKHBvc19ub3JtYWxfMyx1X3VwX2Rpcix1X3pvb21fdHJhbnNpdGlvbik7dmVjMyBzdXJmYWNlX2V4dHJ1c2lvbj1leHRydWRlLngqc3VyZmFjZV92ZWN0b3JzWzBdK2V4dHJ1ZGUueSpzdXJmYWNlX3ZlY3RvcnNbMV07dmVjMyBnbG9iZV9lbGV2YXRpb249ZWxldmF0aW9uVmVjdG9yKGNpcmNsZV9jZW50ZXIpKmNpcmNsZV9lbGV2YXRpb24oY2lyY2xlX2NlbnRlcik7dmVjMyBnbG9iZV9wb3M9YV9wb3NfMytzdXJmYWNlX2V4dHJ1c2lvbitnbG9iZV9lbGV2YXRpb247dmVjMyBtZXJjYXRvcl9lbGV2YXRpb249dV91cF9kaXIqdV90aWxlX3VwX3NjYWxlKmNpcmNsZV9lbGV2YXRpb24oY2lyY2xlX2NlbnRlcik7dmVjMyBtZXJjX3Bvcz1tZXJjYXRvcl90aWxlX3Bvc2l0aW9uKHVfaW52X3JvdF9tYXRyaXgsY2lyY2xlX2NlbnRlcix1X3RpbGVfaWQsdV9tZXJjX2NlbnRlcikrc3VyZmFjZV9leHRydXNpb24rbWVyY2F0b3JfZWxldmF0aW9uO3ZlYzMgcG9zPW1peF9nbG9iZV9tZXJjYXRvcihnbG9iZV9wb3MsbWVyY19wb3MsdV96b29tX3RyYW5zaXRpb24pO3dvcmxkX2NlbnRlcj12ZWM0KHBvcywxKTtcXG4jZWxzZSBcXG5zdXJmYWNlX3ZlY3RvcnM9bWF0MygxLjApO2Zsb2F0IGhlaWdodD1jaXJjbGVfZWxldmF0aW9uKGNpcmNsZV9jZW50ZXIpO3dvcmxkX2NlbnRlcj12ZWM0KGNpcmNsZV9jZW50ZXIsaGVpZ2h0LDEpO1xcbiNlbmRpZlxcbnZlYzQgcHJvamVjdGVkX2NlbnRlcj11X21hdHJpeCp3b3JsZF9jZW50ZXI7ZmxvYXQgdmlld19zY2FsZT0wLjA7XFxuI2lmZGVmIFBJVENIX1dJVEhfTUFQXFxuI2lmZGVmIFNDQUxFX1dJVEhfTUFQXFxudmlld19zY2FsZT0xLjA7XFxuI2Vsc2VcXG52aWV3X3NjYWxlPXByb2plY3RlZF9jZW50ZXIudy91X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2U7XFxuI2VuZGlmXFxuI2Vsc2VcXG4jaWZkZWYgU0NBTEVfV0lUSF9NQVBcXG52aWV3X3NjYWxlPXVfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZTtcXG4jZWxzZVxcbnZpZXdfc2NhbGU9cHJvamVjdGVkX2NlbnRlci53O1xcbiNlbmRpZlxcbiNlbmRpZlxcbmdsX1Bvc2l0aW9uPXByb2plY3RfdmVydGV4KGV4dHJ1ZGUsd29ybGRfY2VudGVyLHByb2plY3RlZF9jZW50ZXIscmFkaXVzLHN0cm9rZV93aWR0aCx2aWV3X3NjYWxlLHN1cmZhY2VfdmVjdG9ycyk7ZmxvYXQgdmlzaWJpbGl0eT0wLjA7XFxuI2lmZGVmIFRFUlJBSU5cXG5mbG9hdCBzdGVwPWdldF9zYW1wbGVfc3RlcCgpO3ZlYzQgb2NjbHVzaW9uX3dvcmxkX2NlbnRlcjt2ZWM0IG9jY2x1c2lvbl9wcm9qZWN0ZWRfY2VudGVyO1xcbiNpZmRlZiBQSVRDSF9XSVRIX01BUFxcbmZsb2F0IGNhbnRpbGV2ZXJlZF9oZWlnaHQ9Y2FudGlsZXZlcmVkX2VsZXZhdGlvbihjaXJjbGVfY2VudGVyLHJhZGl1cyxzdHJva2Vfd2lkdGgsdmlld19zY2FsZSk7b2NjbHVzaW9uX3dvcmxkX2NlbnRlcj12ZWM0KGNpcmNsZV9jZW50ZXIsY2FudGlsZXZlcmVkX2hlaWdodCwxKTtvY2NsdXNpb25fcHJvamVjdGVkX2NlbnRlcj11X21hdHJpeCpvY2NsdXNpb25fd29ybGRfY2VudGVyO1xcbiNlbHNlXFxub2NjbHVzaW9uX3dvcmxkX2NlbnRlcj13b3JsZF9jZW50ZXI7b2NjbHVzaW9uX3Byb2plY3RlZF9jZW50ZXI9cHJvamVjdGVkX2NlbnRlcjtcXG4jZW5kaWZcXG5mb3IoaW50IHJpbmc9MDsgcmluZyA8IE5VTV9WSVNJQklMSVRZX1JJTkdTOyByaW5nKyspIHtmbG9hdCBzY2FsZT0oZmxvYXQocmluZykrMS4wKS9mbG9hdChOVU1fVklTSUJJTElUWV9SSU5HUyk7Zm9yKGludCBpPTA7IGkgPCBOVU1fU0FNUExFU19QRVJfUklORzsgaSsrKSB7dmVjMiBleHRydXNpb249dmVjMihjb3Moc3RlcCpmbG9hdChpKSksLXNpbihzdGVwKmZsb2F0KGkpKSkqc2NhbGU7dmVjNCBmcmFnX3Bvcz1wcm9qZWN0X3ZlcnRleChleHRydXNpb24sb2NjbHVzaW9uX3dvcmxkX2NlbnRlcixvY2NsdXNpb25fcHJvamVjdGVkX2NlbnRlcixyYWRpdXMsc3Ryb2tlX3dpZHRoLHZpZXdfc2NhbGUsc3VyZmFjZV92ZWN0b3JzKTt2aXNpYmlsaXR5Kz1mbG9hdCghaXNPY2NsdWRlZChmcmFnX3BvcykpO319dmlzaWJpbGl0eS89ZmxvYXQoTlVNX1ZJU0lCSUxJVFlfUklOR1MpKmZsb2F0KE5VTV9TQU1QTEVTX1BFUl9SSU5HKTtcXG4jZWxzZVxcbnZpc2liaWxpdHk9MS4wO1xcbiNlbmRpZlxcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG52aXNpYmlsaXR5PTEuMDtcXG4jZW5kaWZcXG52X3Zpc2liaWxpdHk9dmlzaWJpbGl0eTtsb3dwIGZsb2F0IGFudGlhbGlhc2JsdXI9MS4wL3VfZGV2aWNlX3BpeGVsX3JhdGlvLyhyYWRpdXMrc3Ryb2tlX3dpZHRoKTt2X2RhdGE9dmVjMyhleHRydWRlLngsZXh0cnVkZS55LGFudGlhbGlhc2JsdXIpO1xcbiNpZmRlZiBGT0dcXG52X2ZvZ19wb3M9Zm9nX3Bvc2l0aW9uKHdvcmxkX2NlbnRlci54eXopO1xcbiNlbmRpZlxcbn1cIiksY2xpcHBpbmdNYXNrOnBpKFwidm9pZCBtYWluKCkge2dsX0ZyYWdDb2xvcj12ZWM0KDEuMCk7fVwiLFwiYXR0cmlidXRlIHZlYzIgYV9wb3M7dW5pZm9ybSBtYXQ0IHVfbWF0cml4O3ZvaWQgbWFpbigpIHtnbF9Qb3NpdGlvbj11X21hdHJpeCp2ZWM0KGFfcG9zLDAsMSk7fVwiKSxoZWF0bWFwOnBpKFwidW5pZm9ybSBoaWdocCBmbG9hdCB1X2ludGVuc2l0eTt2YXJ5aW5nIHZlYzIgdl9leHRydWRlO1xcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgZmxvYXQgd2VpZ2h0XFxuI2RlZmluZSBHQVVTU19DT0VGIDAuMzk4OTQyMjgwNDAxNDMyN1xcbnZvaWQgbWFpbigpIHtcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCBmbG9hdCB3ZWlnaHRcXG5mbG9hdCBkPS0wLjUqMy4wKjMuMCpkb3Qodl9leHRydWRlLHZfZXh0cnVkZSk7ZmxvYXQgdmFsPXdlaWdodCp1X2ludGVuc2l0eSpHQVVTU19DT0VGKmV4cChkKTtnbF9GcmFnQ29sb3I9dmVjNCh2YWwsMS4wLDEuMCwxLjApO1xcbiNpZmRlZiBGT0dcXG5pZiAodV9pc19nbG9iZT09MCkge2dsX0ZyYWdDb2xvci5yKj1wb3coMS4wLWZvZ19vcGFjaXR5KHZfZm9nX3BvcyksMi4wKTt9XFxuI2VuZGlmXFxuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxcbmdsX0ZyYWdDb2xvcj12ZWM0KDEuMCk7XFxuI2VuZGlmXFxufVwiLFwidW5pZm9ybSBtYXQ0IHVfbWF0cml4O3VuaWZvcm0gZmxvYXQgdV9leHRydWRlX3NjYWxlO3VuaWZvcm0gZmxvYXQgdV9vcGFjaXR5O3VuaWZvcm0gZmxvYXQgdV9pbnRlbnNpdHk7YXR0cmlidXRlIHZlYzIgYV9wb3M7XFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbmF0dHJpYnV0ZSB2ZWMzIGFfcG9zXzM7YXR0cmlidXRlIHZlYzMgYV9wb3Nfbm9ybWFsXzM7dW5pZm9ybSBtYXQ0IHVfaW52X3JvdF9tYXRyaXg7dW5pZm9ybSB2ZWMyIHVfbWVyY19jZW50ZXI7dW5pZm9ybSB2ZWMzIHVfdGlsZV9pZDt1bmlmb3JtIGZsb2F0IHVfem9vbV90cmFuc2l0aW9uO3VuaWZvcm0gdmVjMyB1X3VwX2RpcjtcXG4jZW5kaWZcXG52YXJ5aW5nIHZlYzIgdl9leHRydWRlO1xcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgZmxvYXQgd2VpZ2h0XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBtZWRpdW1wIGZsb2F0IHJhZGl1c1xcbmNvbnN0IGhpZ2hwIGZsb2F0IFpFUk89MS4wLzI1NS4wLzE2LjA7XFxuI2RlZmluZSBHQVVTU19DT0VGIDAuMzk4OTQyMjgwNDAxNDMyN1xcbnZvaWQgbWFpbih2b2lkKSB7XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgZmxvYXQgd2VpZ2h0XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCBmbG9hdCByYWRpdXNcXG52ZWMyIHVuc2NhbGVkX2V4dHJ1ZGU9dmVjMihtb2QoYV9wb3MsMi4wKSoyLjAtMS4wKTtmbG9hdCBTPXNxcnQoLTIuMCpsb2coWkVSTy93ZWlnaHQvdV9pbnRlbnNpdHkvR0FVU1NfQ09FRikpLzMuMDt2X2V4dHJ1ZGU9Uyp1bnNjYWxlZF9leHRydWRlO3ZlYzIgZXh0cnVkZT12X2V4dHJ1ZGUqcmFkaXVzKnVfZXh0cnVkZV9zY2FsZTt2ZWMyIHRpbGVQb3M9Zmxvb3IoYV9wb3MqMC41KTt2ZWMzIHBvcztcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxudmVjMyBwb3Nfbm9ybWFsXzM9YV9wb3Nfbm9ybWFsXzMvMTYzODQuMDttYXQzIHN1cmZhY2VfdmVjdG9ycz1nbG9iZV9tZXJjYXRvcl9zdXJmYWNlX3ZlY3RvcnMocG9zX25vcm1hbF8zLHVfdXBfZGlyLHVfem9vbV90cmFuc2l0aW9uKTt2ZWMzIHN1cmZhY2VfZXh0cnVzaW9uPWV4dHJ1ZGUueCpzdXJmYWNlX3ZlY3RvcnNbMF0rZXh0cnVkZS55KnN1cmZhY2VfdmVjdG9yc1sxXTt2ZWMzIGdsb2JlX2VsZXZhdGlvbj1lbGV2YXRpb25WZWN0b3IodGlsZVBvcykqZWxldmF0aW9uKHRpbGVQb3MpO3ZlYzMgZ2xvYmVfcG9zPWFfcG9zXzMrc3VyZmFjZV9leHRydXNpb24rZ2xvYmVfZWxldmF0aW9uO3ZlYzMgbWVyY2F0b3JfZWxldmF0aW9uPXVfdXBfZGlyKnVfdGlsZV91cF9zY2FsZSplbGV2YXRpb24odGlsZVBvcyk7dmVjMyBtZXJjX3Bvcz1tZXJjYXRvcl90aWxlX3Bvc2l0aW9uKHVfaW52X3JvdF9tYXRyaXgsdGlsZVBvcyx1X3RpbGVfaWQsdV9tZXJjX2NlbnRlcikrc3VyZmFjZV9leHRydXNpb24rbWVyY2F0b3JfZWxldmF0aW9uO3Bvcz1taXhfZ2xvYmVfbWVyY2F0b3IoZ2xvYmVfcG9zLG1lcmNfcG9zLHVfem9vbV90cmFuc2l0aW9uKTtcXG4jZWxzZVxcbnBvcz12ZWMzKHRpbGVQb3MrZXh0cnVkZSxlbGV2YXRpb24odGlsZVBvcykpO1xcbiNlbmRpZlxcbmdsX1Bvc2l0aW9uPXVfbWF0cml4KnZlYzQocG9zLDEpO1xcbiNpZmRlZiBGT0dcXG52X2ZvZ19wb3M9Zm9nX3Bvc2l0aW9uKHBvcyk7XFxuI2VuZGlmXFxufVwiKSxoZWF0bWFwVGV4dHVyZTpwaShcInVuaWZvcm0gc2FtcGxlcjJEIHVfaW1hZ2U7dW5pZm9ybSBzYW1wbGVyMkQgdV9jb2xvcl9yYW1wO3VuaWZvcm0gZmxvYXQgdV9vcGFjaXR5O3ZhcnlpbmcgdmVjMiB2X3Bvczt2b2lkIG1haW4oKSB7ZmxvYXQgdD10ZXh0dXJlMkQodV9pbWFnZSx2X3Bvcykucjt2ZWM0IGNvbG9yPXRleHR1cmUyRCh1X2NvbG9yX3JhbXAsdmVjMih0LDAuNSkpO2dsX0ZyYWdDb2xvcj1jb2xvcip1X29wYWNpdHk7XFxuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxcbmdsX0ZyYWdDb2xvcj12ZWM0KDAuMCk7XFxuI2VuZGlmXFxufVwiLFwiYXR0cmlidXRlIHZlYzIgYV9wb3M7dmFyeWluZyB2ZWMyIHZfcG9zO3ZvaWQgbWFpbigpIHtnbF9Qb3NpdGlvbj12ZWM0KGFfcG9zLDAsMSk7dl9wb3M9YV9wb3MqMC41KzAuNTt9XCIpLGNvbGxpc2lvbkJveDpwaShcInZhcnlpbmcgZmxvYXQgdl9wbGFjZWQ7dmFyeWluZyBmbG9hdCB2X25vdFVzZWQ7dm9pZCBtYWluKCkge3ZlYzQgcmVkID12ZWM0KDEuMCwwLjAsMC4wLDEuMCk7dmVjNCBibHVlPXZlYzQoMC4wLDAuMCwxLjAsMC41KTtnbF9GcmFnQ29sb3IgPW1peChyZWQsYmx1ZSxzdGVwKDAuNSx2X3BsYWNlZCkpKjAuNTtnbF9GcmFnQ29sb3IqPW1peCgxLjAsMC4xLHN0ZXAoMC41LHZfbm90VXNlZCkpO31cIixcImF0dHJpYnV0ZSB2ZWMzIGFfcG9zO2F0dHJpYnV0ZSB2ZWMyIGFfYW5jaG9yX3BvczthdHRyaWJ1dGUgdmVjMiBhX2V4dHJ1ZGU7YXR0cmlidXRlIHZlYzIgYV9wbGFjZWQ7YXR0cmlidXRlIHZlYzIgYV9zaGlmdDthdHRyaWJ1dGUgZmxvYXQgYV9zaXplX3NjYWxlO2F0dHJpYnV0ZSB2ZWMyIGFfcGFkZGluZzt1bmlmb3JtIG1hdDQgdV9tYXRyaXg7dW5pZm9ybSB2ZWMyIHVfZXh0cnVkZV9zY2FsZTt1bmlmb3JtIGZsb2F0IHVfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZTt2YXJ5aW5nIGZsb2F0IHZfcGxhY2VkO3ZhcnlpbmcgZmxvYXQgdl9ub3RVc2VkO3ZvaWQgbWFpbigpIHt2ZWM0IHByb2plY3RlZFBvaW50PXVfbWF0cml4KnZlYzQoYV9wb3MrZWxldmF0aW9uVmVjdG9yKGFfYW5jaG9yX3BvcykqZWxldmF0aW9uKGFfYW5jaG9yX3BvcyksMSk7aGlnaHAgZmxvYXQgY2FtZXJhX3RvX2FuY2hvcl9kaXN0YW5jZT1wcm9qZWN0ZWRQb2ludC53O2hpZ2hwIGZsb2F0IGNvbGxpc2lvbl9wZXJzcGVjdGl2ZV9yYXRpbz1jbGFtcChcXG4wLjUrMC41Kih1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2UvY2FtZXJhX3RvX2FuY2hvcl9kaXN0YW5jZSksMC4wLDEuNSk7Z2xfUG9zaXRpb249cHJvamVjdGVkUG9pbnQ7Z2xfUG9zaXRpb24ueHkrPShhX2V4dHJ1ZGUqYV9zaXplX3NjYWxlK2Ffc2hpZnQrYV9wYWRkaW5nKSp1X2V4dHJ1ZGVfc2NhbGUqZ2xfUG9zaXRpb24udypjb2xsaXNpb25fcGVyc3BlY3RpdmVfcmF0aW87dl9wbGFjZWQ9YV9wbGFjZWQueDt2X25vdFVzZWQ9YV9wbGFjZWQueTt9XCIpLGNvbGxpc2lvbkNpcmNsZTpwaShcInZhcnlpbmcgZmxvYXQgdl9yYWRpdXM7dmFyeWluZyB2ZWMyIHZfZXh0cnVkZTt2YXJ5aW5nIGZsb2F0IHZfcGVyc3BlY3RpdmVfcmF0aW87dmFyeWluZyBmbG9hdCB2X2NvbGxpc2lvbjt2b2lkIG1haW4oKSB7ZmxvYXQgYWxwaGE9MC41Km1pbih2X3BlcnNwZWN0aXZlX3JhdGlvLDEuMCk7ZmxvYXQgc3Ryb2tlX3JhZGl1cz0wLjkqbWF4KHZfcGVyc3BlY3RpdmVfcmF0aW8sMS4wKTtmbG9hdCBkaXN0YW5jZV90b19jZW50ZXI9bGVuZ3RoKHZfZXh0cnVkZSk7ZmxvYXQgZGlzdGFuY2VfdG9fZWRnZT1hYnMoZGlzdGFuY2VfdG9fY2VudGVyLXZfcmFkaXVzKTtmbG9hdCBvcGFjaXR5X3Q9c21vb3Roc3RlcCgtc3Ryb2tlX3JhZGl1cywwLjAsLWRpc3RhbmNlX3RvX2VkZ2UpO3ZlYzQgY29sb3I9bWl4KHZlYzQoMC4wLDAuMCwxLjAsMC41KSx2ZWM0KDEuMCwwLjAsMC4wLDEuMCksdl9jb2xsaXNpb24pO2dsX0ZyYWdDb2xvcj1jb2xvciphbHBoYSpvcGFjaXR5X3Q7fVwiLFwiYXR0cmlidXRlIHZlYzIgYV9wb3NfMmY7YXR0cmlidXRlIGZsb2F0IGFfcmFkaXVzO2F0dHJpYnV0ZSB2ZWMyIGFfZmxhZ3M7dW5pZm9ybSBtYXQ0IHVfbWF0cml4O3VuaWZvcm0gbWF0NCB1X2ludl9tYXRyaXg7dW5pZm9ybSB2ZWMyIHVfdmlld3BvcnRfc2l6ZTt1bmlmb3JtIGZsb2F0IHVfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZTt2YXJ5aW5nIGZsb2F0IHZfcmFkaXVzO3ZhcnlpbmcgdmVjMiB2X2V4dHJ1ZGU7dmFyeWluZyBmbG9hdCB2X3BlcnNwZWN0aXZlX3JhdGlvO3ZhcnlpbmcgZmxvYXQgdl9jb2xsaXNpb247dmVjMyB0b1RpbGVQb3NpdGlvbih2ZWMyIHNjcmVlblBvcykge3ZlYzQgcmF5U3RhcnQ9dV9pbnZfbWF0cml4KnZlYzQoc2NyZWVuUG9zLC0xLjAsMS4wKTt2ZWM0IHJheUVuZCAgPXVfaW52X21hdHJpeCp2ZWM0KHNjcmVlblBvcywgMS4wLDEuMCk7cmF5U3RhcnQueHl6Lz1yYXlTdGFydC53O3JheUVuZC54eXogIC89cmF5RW5kLnc7aGlnaHAgZmxvYXQgdD0oMC4wLXJheVN0YXJ0LnopLyhyYXlFbmQuei1yYXlTdGFydC56KTtyZXR1cm4gbWl4KHJheVN0YXJ0Lnh5eixyYXlFbmQueHl6LHQpO312b2lkIG1haW4oKSB7dmVjMiBxdWFkQ2VudGVyUG9zPWFfcG9zXzJmO2Zsb2F0IHJhZGl1cz1hX3JhZGl1cztmbG9hdCBjb2xsaXNpb249YV9mbGFncy54O2Zsb2F0IHZlcnRleElkeD1hX2ZsYWdzLnk7dmVjMiBxdWFkVmVydGV4T2Zmc2V0PXZlYzIoXFxubWl4KC0xLjAsMS4wLGZsb2F0KHZlcnRleElkeCA+PTIuMCkpLG1peCgtMS4wLDEuMCxmbG9hdCh2ZXJ0ZXhJZHggPj0xLjAgJiYgdmVydGV4SWR4IDw9Mi4wKSkpO3ZlYzIgcXVhZFZlcnRleEV4dGVudD1xdWFkVmVydGV4T2Zmc2V0KnJhZGl1czt2ZWMzIHRpbGVQb3M9dG9UaWxlUG9zaXRpb24ocXVhZENlbnRlclBvcyk7dmVjNCBjbGlwUG9zPXVfbWF0cml4KnZlYzQodGlsZVBvcywxLjApO2hpZ2hwIGZsb2F0IGNhbWVyYV90b19hbmNob3JfZGlzdGFuY2U9Y2xpcFBvcy53O2hpZ2hwIGZsb2F0IGNvbGxpc2lvbl9wZXJzcGVjdGl2ZV9yYXRpbz1jbGFtcChcXG4wLjUrMC41Kih1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2UvY2FtZXJhX3RvX2FuY2hvcl9kaXN0YW5jZSksMC4wLDQuMCk7ZmxvYXQgcGFkZGluZ19mYWN0b3I9MS4yO3ZfcmFkaXVzPXJhZGl1czt2X2V4dHJ1ZGU9cXVhZFZlcnRleEV4dGVudCpwYWRkaW5nX2ZhY3Rvcjt2X3BlcnNwZWN0aXZlX3JhdGlvPWNvbGxpc2lvbl9wZXJzcGVjdGl2ZV9yYXRpbzt2X2NvbGxpc2lvbj1jb2xsaXNpb247Z2xfUG9zaXRpb249dmVjNChjbGlwUG9zLnh5ei9jbGlwUG9zLncsMS4wKSt2ZWM0KHF1YWRWZXJ0ZXhFeHRlbnQqcGFkZGluZ19mYWN0b3IvdV92aWV3cG9ydF9zaXplKjIuMCwwLjAsMC4wKTt9XCIpLGRlYnVnOnBpKFwidW5pZm9ybSBoaWdocCB2ZWM0IHVfY29sb3I7dW5pZm9ybSBzYW1wbGVyMkQgdV9vdmVybGF5O3ZhcnlpbmcgdmVjMiB2X3V2O3ZvaWQgbWFpbigpIHt2ZWM0IG92ZXJsYXlfY29sb3I9dGV4dHVyZTJEKHVfb3ZlcmxheSx2X3V2KTtnbF9GcmFnQ29sb3I9bWl4KHVfY29sb3Isb3ZlcmxheV9jb2xvcixvdmVybGF5X2NvbG9yLmEpO31cIixcImF0dHJpYnV0ZSB2ZWMyIGFfcG9zO1xcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG5hdHRyaWJ1dGUgdmVjMyBhX3Bvc18zO1xcbiNlbmRpZlxcbnZhcnlpbmcgdmVjMiB2X3V2O3VuaWZvcm0gbWF0NCB1X21hdHJpeDt1bmlmb3JtIGZsb2F0IHVfb3ZlcmxheV9zY2FsZTt2b2lkIG1haW4oKSB7ZmxvYXQgaD1lbGV2YXRpb24oYV9wb3MpO3ZfdXY9YV9wb3MvODE5Mi4wO1xcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG5nbF9Qb3NpdGlvbj11X21hdHJpeCp2ZWM0KGFfcG9zXzMrZWxldmF0aW9uVmVjdG9yKGFfcG9zKSpoLDEpO1xcbiNlbHNlXFxuZ2xfUG9zaXRpb249dV9tYXRyaXgqdmVjNChhX3Bvcyp1X292ZXJsYXlfc2NhbGUsaCwxKTtcXG4jZW5kaWZcXG59XCIpLGZpbGw6cGkoXCIjcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIHZlYzQgY29sb3JcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb3BhY2l0eVxcbnZvaWQgbWFpbigpIHtcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCB2ZWM0IGNvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XFxudmVjNCBvdXRfY29sb3I9Y29sb3I7XFxuI2lmZGVmIEZPR1xcbm91dF9jb2xvcj1mb2dfZGl0aGVyKGZvZ19hcHBseV9wcmVtdWx0aXBsaWVkKG91dF9jb2xvcix2X2ZvZ19wb3MpKTtcXG4jZW5kaWZcXG5nbF9GcmFnQ29sb3I9b3V0X2NvbG9yKm9wYWNpdHk7XFxuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxcbmdsX0ZyYWdDb2xvcj12ZWM0KDEuMCk7XFxuI2VuZGlmXFxufVwiLFwiYXR0cmlidXRlIHZlYzIgYV9wb3M7dW5pZm9ybSBtYXQ0IHVfbWF0cml4O1xcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgdmVjNCBjb2xvclxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XFxudm9pZCBtYWluKCkge1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIHZlYzQgY29sb3JcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG5nbF9Qb3NpdGlvbj11X21hdHJpeCp2ZWM0KGFfcG9zLDAsMSk7XFxuI2lmZGVmIEZPR1xcbnZfZm9nX3Bvcz1mb2dfcG9zaXRpb24oYV9wb3MpO1xcbiNlbmRpZlxcbn1cIiksZmlsbE91dGxpbmU6cGkoXCJ2YXJ5aW5nIHZlYzIgdl9wb3M7XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCB2ZWM0IG91dGxpbmVfY29sb3JcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb3BhY2l0eVxcbnZvaWQgbWFpbigpIHtcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCB2ZWM0IG91dGxpbmVfY29sb3JcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG5mbG9hdCBkaXN0PWxlbmd0aCh2X3Bvcy1nbF9GcmFnQ29vcmQueHkpO2Zsb2F0IGFscGhhPTEuMC1zbW9vdGhzdGVwKDAuMCwxLjAsZGlzdCk7dmVjNCBvdXRfY29sb3I9b3V0bGluZV9jb2xvcjtcXG4jaWZkZWYgRk9HXFxub3V0X2NvbG9yPWZvZ19kaXRoZXIoZm9nX2FwcGx5X3ByZW11bHRpcGxpZWQob3V0X2NvbG9yLHZfZm9nX3BvcykpO1xcbiNlbmRpZlxcbmdsX0ZyYWdDb2xvcj1vdXRfY29sb3IqKGFscGhhKm9wYWNpdHkpO1xcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcXG5nbF9GcmFnQ29sb3I9dmVjNCgxLjApO1xcbiNlbmRpZlxcbn1cIixcImF0dHJpYnV0ZSB2ZWMyIGFfcG9zO3VuaWZvcm0gbWF0NCB1X21hdHJpeDt1bmlmb3JtIHZlYzIgdV93b3JsZDt2YXJ5aW5nIHZlYzIgdl9wb3M7XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCB2ZWM0IG91dGxpbmVfY29sb3JcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb3BhY2l0eVxcbnZvaWQgbWFpbigpIHtcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCB2ZWM0IG91dGxpbmVfY29sb3JcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG5nbF9Qb3NpdGlvbj11X21hdHJpeCp2ZWM0KGFfcG9zLDAsMSk7dl9wb3M9KGdsX1Bvc2l0aW9uLnh5L2dsX1Bvc2l0aW9uLncrMS4wKS8yLjAqdV93b3JsZDtcXG4jaWZkZWYgRk9HXFxudl9mb2dfcG9zPWZvZ19wb3NpdGlvbihhX3Bvcyk7XFxuI2VuZGlmXFxufVwiKSxmaWxsT3V0bGluZVBhdHRlcm46cGkoXCJ1bmlmb3JtIHZlYzIgdV90ZXhzaXplO3VuaWZvcm0gc2FtcGxlcjJEIHVfaW1hZ2U7dW5pZm9ybSBmbG9hdCB1X2ZhZGU7dmFyeWluZyB2ZWMyIHZfcG9zX2E7dmFyeWluZyB2ZWMyIHZfcG9zX2I7dmFyeWluZyB2ZWMyIHZfcG9zO1xcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIHZlYzQgcGF0dGVybl9mcm9tXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIHZlYzQgcGF0dGVybl90b1xcbnZvaWQgbWFpbigpIHtcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIHZlYzQgcGF0dGVybl9mcm9tXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCB2ZWM0IHBhdHRlcm5fdG9cXG52ZWMyIHBhdHRlcm5fdGxfYT1wYXR0ZXJuX2Zyb20ueHk7dmVjMiBwYXR0ZXJuX2JyX2E9cGF0dGVybl9mcm9tLnp3O3ZlYzIgcGF0dGVybl90bF9iPXBhdHRlcm5fdG8ueHk7dmVjMiBwYXR0ZXJuX2JyX2I9cGF0dGVybl90by56dzt2ZWMyIGltYWdlY29vcmQ9bW9kKHZfcG9zX2EsMS4wKTt2ZWMyIHBvcz1taXgocGF0dGVybl90bF9hL3VfdGV4c2l6ZSxwYXR0ZXJuX2JyX2EvdV90ZXhzaXplLGltYWdlY29vcmQpO3ZlYzQgY29sb3IxPXRleHR1cmUyRCh1X2ltYWdlLHBvcyk7dmVjMiBpbWFnZWNvb3JkX2I9bW9kKHZfcG9zX2IsMS4wKTt2ZWMyIHBvczI9bWl4KHBhdHRlcm5fdGxfYi91X3RleHNpemUscGF0dGVybl9icl9iL3VfdGV4c2l6ZSxpbWFnZWNvb3JkX2IpO3ZlYzQgY29sb3IyPXRleHR1cmUyRCh1X2ltYWdlLHBvczIpO2Zsb2F0IGRpc3Q9bGVuZ3RoKHZfcG9zLWdsX0ZyYWdDb29yZC54eSk7ZmxvYXQgYWxwaGE9MS4wLXNtb290aHN0ZXAoMC4wLDEuMCxkaXN0KTt2ZWM0IG91dF9jb2xvcj1taXgoY29sb3IxLGNvbG9yMix1X2ZhZGUpO1xcbiNpZmRlZiBGT0dcXG5vdXRfY29sb3I9Zm9nX2RpdGhlcihmb2dfYXBwbHlfcHJlbXVsdGlwbGllZChvdXRfY29sb3Isdl9mb2dfcG9zKSk7XFxuI2VuZGlmXFxuZ2xfRnJhZ0NvbG9yPW91dF9jb2xvciooYWxwaGEqb3BhY2l0eSk7XFxuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxcbmdsX0ZyYWdDb2xvcj12ZWM0KDEuMCk7XFxuI2VuZGlmXFxufVwiLFwidW5pZm9ybSBtYXQ0IHVfbWF0cml4O3VuaWZvcm0gdmVjMiB1X3dvcmxkO3VuaWZvcm0gdmVjMiB1X3BpeGVsX2Nvb3JkX3VwcGVyO3VuaWZvcm0gdmVjMiB1X3BpeGVsX2Nvb3JkX2xvd2VyO3VuaWZvcm0gdmVjMyB1X3NjYWxlO2F0dHJpYnV0ZSB2ZWMyIGFfcG9zO3ZhcnlpbmcgdmVjMiB2X3Bvc19hO3ZhcnlpbmcgdmVjMiB2X3Bvc19iO3ZhcnlpbmcgdmVjMiB2X3BvcztcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb3BhY2l0eVxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCB2ZWM0IHBhdHRlcm5fZnJvbVxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCB2ZWM0IHBhdHRlcm5fdG9cXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgcGl4ZWxfcmF0aW9fZnJvbVxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBwaXhlbF9yYXRpb190b1xcbnZvaWQgbWFpbigpIHtcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIHZlYzQgcGF0dGVybl9mcm9tXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCB2ZWM0IHBhdHRlcm5fdG9cXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IHBpeGVsX3JhdGlvX2Zyb21cXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IHBpeGVsX3JhdGlvX3RvXFxudmVjMiBwYXR0ZXJuX3RsX2E9cGF0dGVybl9mcm9tLnh5O3ZlYzIgcGF0dGVybl9icl9hPXBhdHRlcm5fZnJvbS56dzt2ZWMyIHBhdHRlcm5fdGxfYj1wYXR0ZXJuX3RvLnh5O3ZlYzIgcGF0dGVybl9icl9iPXBhdHRlcm5fdG8uenc7ZmxvYXQgdGlsZVJhdGlvPXVfc2NhbGUueDtmbG9hdCBmcm9tU2NhbGU9dV9zY2FsZS55O2Zsb2F0IHRvU2NhbGU9dV9zY2FsZS56O2dsX1Bvc2l0aW9uPXVfbWF0cml4KnZlYzQoYV9wb3MsMCwxKTt2ZWMyIGRpc3BsYXlfc2l6ZV9hPShwYXR0ZXJuX2JyX2EtcGF0dGVybl90bF9hKS9waXhlbF9yYXRpb19mcm9tO3ZlYzIgZGlzcGxheV9zaXplX2I9KHBhdHRlcm5fYnJfYi1wYXR0ZXJuX3RsX2IpL3BpeGVsX3JhdGlvX3RvO3ZfcG9zX2E9Z2V0X3BhdHRlcm5fcG9zKHVfcGl4ZWxfY29vcmRfdXBwZXIsdV9waXhlbF9jb29yZF9sb3dlcixmcm9tU2NhbGUqZGlzcGxheV9zaXplX2EsdGlsZVJhdGlvLGFfcG9zKTt2X3Bvc19iPWdldF9wYXR0ZXJuX3Bvcyh1X3BpeGVsX2Nvb3JkX3VwcGVyLHVfcGl4ZWxfY29vcmRfbG93ZXIsdG9TY2FsZSpkaXNwbGF5X3NpemVfYix0aWxlUmF0aW8sYV9wb3MpO3ZfcG9zPShnbF9Qb3NpdGlvbi54eS9nbF9Qb3NpdGlvbi53KzEuMCkvMi4wKnVfd29ybGQ7XFxuI2lmZGVmIEZPR1xcbnZfZm9nX3Bvcz1mb2dfcG9zaXRpb24oYV9wb3MpO1xcbiNlbmRpZlxcbn1cIiksZmlsbFBhdHRlcm46cGkoXCJ1bmlmb3JtIHZlYzIgdV90ZXhzaXplO3VuaWZvcm0gZmxvYXQgdV9mYWRlO3VuaWZvcm0gc2FtcGxlcjJEIHVfaW1hZ2U7dmFyeWluZyB2ZWMyIHZfcG9zX2E7dmFyeWluZyB2ZWMyIHZfcG9zX2I7XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgdmVjNCBwYXR0ZXJuX2Zyb21cXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgdmVjNCBwYXR0ZXJuX3RvXFxudm9pZCBtYWluKCkge1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIG1lZGl1bXAgdmVjNCBwYXR0ZXJuX2Zyb21cXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIHZlYzQgcGF0dGVybl90b1xcbnZlYzIgcGF0dGVybl90bF9hPXBhdHRlcm5fZnJvbS54eTt2ZWMyIHBhdHRlcm5fYnJfYT1wYXR0ZXJuX2Zyb20uenc7dmVjMiBwYXR0ZXJuX3RsX2I9cGF0dGVybl90by54eTt2ZWMyIHBhdHRlcm5fYnJfYj1wYXR0ZXJuX3RvLnp3O3ZlYzIgaW1hZ2Vjb29yZD1tb2Qodl9wb3NfYSwxLjApO3ZlYzIgcG9zPW1peChwYXR0ZXJuX3RsX2EvdV90ZXhzaXplLHBhdHRlcm5fYnJfYS91X3RleHNpemUsaW1hZ2Vjb29yZCk7dmVjNCBjb2xvcjE9dGV4dHVyZTJEKHVfaW1hZ2UscG9zKTt2ZWMyIGltYWdlY29vcmRfYj1tb2Qodl9wb3NfYiwxLjApO3ZlYzIgcG9zMj1taXgocGF0dGVybl90bF9iL3VfdGV4c2l6ZSxwYXR0ZXJuX2JyX2IvdV90ZXhzaXplLGltYWdlY29vcmRfYik7dmVjNCBjb2xvcjI9dGV4dHVyZTJEKHVfaW1hZ2UscG9zMik7dmVjNCBvdXRfY29sb3I9bWl4KGNvbG9yMSxjb2xvcjIsdV9mYWRlKTtcXG4jaWZkZWYgRk9HXFxub3V0X2NvbG9yPWZvZ19kaXRoZXIoZm9nX2FwcGx5X3ByZW11bHRpcGxpZWQob3V0X2NvbG9yLHZfZm9nX3BvcykpO1xcbiNlbmRpZlxcbmdsX0ZyYWdDb2xvcj1vdXRfY29sb3Iqb3BhY2l0eTtcXG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXFxuZ2xfRnJhZ0NvbG9yPXZlYzQoMS4wKTtcXG4jZW5kaWZcXG59XCIsXCJ1bmlmb3JtIG1hdDQgdV9tYXRyaXg7dW5pZm9ybSB2ZWMyIHVfcGl4ZWxfY29vcmRfdXBwZXI7dW5pZm9ybSB2ZWMyIHVfcGl4ZWxfY29vcmRfbG93ZXI7dW5pZm9ybSB2ZWMzIHVfc2NhbGU7YXR0cmlidXRlIHZlYzIgYV9wb3M7dmFyeWluZyB2ZWMyIHZfcG9zX2E7dmFyeWluZyB2ZWMyIHZfcG9zX2I7XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgdmVjNCBwYXR0ZXJuX2Zyb21cXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgdmVjNCBwYXR0ZXJuX3RvXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IHBpeGVsX3JhdGlvX2Zyb21cXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgcGl4ZWxfcmF0aW9fdG9cXG52b2lkIG1haW4oKSB7XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCB2ZWM0IHBhdHRlcm5fZnJvbVxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIG1lZGl1bXAgdmVjNCBwYXR0ZXJuX3RvXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBwaXhlbF9yYXRpb19mcm9tXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBwaXhlbF9yYXRpb190b1xcbnZlYzIgcGF0dGVybl90bF9hPXBhdHRlcm5fZnJvbS54eTt2ZWMyIHBhdHRlcm5fYnJfYT1wYXR0ZXJuX2Zyb20uenc7dmVjMiBwYXR0ZXJuX3RsX2I9cGF0dGVybl90by54eTt2ZWMyIHBhdHRlcm5fYnJfYj1wYXR0ZXJuX3RvLnp3O2Zsb2F0IHRpbGVab29tUmF0aW89dV9zY2FsZS54O2Zsb2F0IGZyb21TY2FsZT11X3NjYWxlLnk7ZmxvYXQgdG9TY2FsZT11X3NjYWxlLno7dmVjMiBkaXNwbGF5X3NpemVfYT0ocGF0dGVybl9icl9hLXBhdHRlcm5fdGxfYSkvcGl4ZWxfcmF0aW9fZnJvbTt2ZWMyIGRpc3BsYXlfc2l6ZV9iPShwYXR0ZXJuX2JyX2ItcGF0dGVybl90bF9iKS9waXhlbF9yYXRpb190bztnbF9Qb3NpdGlvbj11X21hdHJpeCp2ZWM0KGFfcG9zLDAsMSk7dl9wb3NfYT1nZXRfcGF0dGVybl9wb3ModV9waXhlbF9jb29yZF91cHBlcix1X3BpeGVsX2Nvb3JkX2xvd2VyLGZyb21TY2FsZSpkaXNwbGF5X3NpemVfYSx0aWxlWm9vbVJhdGlvLGFfcG9zKTt2X3Bvc19iPWdldF9wYXR0ZXJuX3Bvcyh1X3BpeGVsX2Nvb3JkX3VwcGVyLHVfcGl4ZWxfY29vcmRfbG93ZXIsdG9TY2FsZSpkaXNwbGF5X3NpemVfYix0aWxlWm9vbVJhdGlvLGFfcG9zKTtcXG4jaWZkZWYgRk9HXFxudl9mb2dfcG9zPWZvZ19wb3NpdGlvbihhX3Bvcyk7XFxuI2VuZGlmXFxufVwiKSxmaWxsRXh0cnVzaW9uOnBpKFwidmFyeWluZyB2ZWM0IHZfY29sb3I7XFxuI2lmZGVmIFJFTkRFUl9TSEFET1dTXFxudmFyeWluZyBoaWdocCB2ZWM0IHZfcG9zX2xpZ2h0X3ZpZXdfMDt2YXJ5aW5nIGhpZ2hwIHZlYzQgdl9wb3NfbGlnaHRfdmlld18xO3ZhcnlpbmcgZmxvYXQgdl9kZXB0aDtcXG4jZW5kaWZcXG4jaWZkZWYgRkFVWF9BT1xcbnVuaWZvcm0gbG93cCB2ZWMyIHVfYW87dmFyeWluZyB2ZWMzIHZfYW87XFxuI2VuZGlmXFxuI2lmZGVmIFpFUk9fUk9PRl9SQURJVVNcXG52YXJ5aW5nIHZlYzQgdl9yb29mX2NvbG9yO1xcbiNlbmRpZlxcbiNpZiBkZWZpbmVkKFpFUk9fUk9PRl9SQURJVVMpIHx8IGRlZmluZWQoUkVOREVSX1NIQURPV1MpXFxudmFyeWluZyBoaWdocCB2ZWMzIHZfbm9ybWFsO1xcbiNlbmRpZlxcbnZvaWQgbWFpbigpIHtcXG4jaWYgZGVmaW5lZChaRVJPX1JPT0ZfUkFESVVTKSB8fCBkZWZpbmVkKFJFTkRFUl9TSEFET1dTKVxcbnZlYzMgbm9ybWFsPXZfbm9ybWFsO1xcbiNlbmRpZlxcbmZsb2F0IHo7dmVjNCBjb2xvcjtcXG4jaWZkZWYgWkVST19ST09GX1JBRElVU1xcbno9ZmxvYXQobm9ybWFsLnogPiAwLjAwMDAxKTtjb2xvcj1taXgodl9jb2xvcix2X3Jvb2ZfY29sb3Iseik7XFxuI2Vsc2VcXG5jb2xvcj12X2NvbG9yO1xcbiNlbmRpZlxcbiNpZmRlZiBGQVVYX0FPXFxuZmxvYXQgaW50ZW5zaXR5PXVfYW9bMF07ZmxvYXQgaD1tYXgoMC4wLHZfYW8ueik7ZmxvYXQgaF9mbG9vcnM9aC91X2FvWzFdO2Zsb2F0IHlfc2hhZGU9MS4wLTAuOSppbnRlbnNpdHkqbWluKHZfYW8ueSwxLjApO2Zsb2F0IHNoYWRlPSgxLjAtMC4wOCppbnRlbnNpdHkpKih5X3NoYWRlKygxLjAteV9zaGFkZSkqKDEuMC1wb3coMS4wLW1pbihoX2Zsb29ycy8xNi4wLDEuMCksMTYuMCkpKSswLjA4KmludGVuc2l0eSptaW4oaF9mbG9vcnMvMTYwLjAsMS4wKTtmbG9hdCBjb25jYXZlPXZfYW8ueCp2X2FvLng7XFxuI2lmZGVmIFpFUk9fUk9PRl9SQURJVVNcXG5jb25jYXZlKj0oMS4wLXopO1xcbiNlbmRpZlxcbmZsb2F0IHhfc2hhZGU9bWl4KDEuMCxtaXgoMC42LDAuNzUsbWluKGhfZmxvb3JzLzMwLjAsMS4wKSksaW50ZW5zaXR5KSswLjEqaW50ZW5zaXR5Km1pbihoLDEuMCk7c2hhZGUqPW1peCgxLjAseF9zaGFkZSp4X3NoYWRlKnhfc2hhZGUsY29uY2F2ZSk7Y29sb3IucmdiPWNvbG9yLnJnYipzaGFkZTtcXG4jZW5kaWZcXG4jaWZkZWYgUkVOREVSX1NIQURPV1NcXG4jaWZkZWYgWkVST19ST09GX1JBRElVU1xcbm5vcm1hbD1taXgobm9ybWFsLHZlYzMoMC4wLDAuMCwxLjApLHopO1xcbiNlbmRpZlxcbmNvbG9yLnh5ej1zaGFkb3dlZF9jb2xvcl9ub3JtYWwoY29sb3IueHl6LG5vcm1hbGl6ZShub3JtYWwpLHZfcG9zX2xpZ2h0X3ZpZXdfMCx2X3Bvc19saWdodF92aWV3XzEsdl9kZXB0aCk7XFxuI2VuZGlmXFxuI2lmZGVmIEZPR1xcbmNvbG9yPWZvZ19kaXRoZXIoZm9nX2FwcGx5X3ByZW11bHRpcGxpZWQoY29sb3Isdl9mb2dfcG9zKSk7XFxuI2VuZGlmXFxuZ2xfRnJhZ0NvbG9yPWNvbG9yO1xcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcXG5nbF9GcmFnQ29sb3I9dmVjNCgxLjApO1xcbiNlbmRpZlxcbn1cIixcInVuaWZvcm0gbWF0NCB1X21hdHJpeDt1bmlmb3JtIHZlYzMgdV9saWdodGNvbG9yO3VuaWZvcm0gbG93cCB2ZWMzIHVfbGlnaHRwb3M7dW5pZm9ybSBsb3dwIGZsb2F0IHVfbGlnaHRpbnRlbnNpdHk7dW5pZm9ybSBmbG9hdCB1X3ZlcnRpY2FsX2dyYWRpZW50O3VuaWZvcm0gbG93cCBmbG9hdCB1X29wYWNpdHk7dW5pZm9ybSBmbG9hdCB1X2VkZ2VfcmFkaXVzO2F0dHJpYnV0ZSB2ZWM0IGFfcG9zX25vcm1hbF9lZDthdHRyaWJ1dGUgdmVjMiBhX2NlbnRyb2lkX3BvcztcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxuYXR0cmlidXRlIHZlYzMgYV9wb3NfMzthdHRyaWJ1dGUgdmVjMyBhX3Bvc19ub3JtYWxfMzt1bmlmb3JtIG1hdDQgdV9pbnZfcm90X21hdHJpeDt1bmlmb3JtIHZlYzIgdV9tZXJjX2NlbnRlcjt1bmlmb3JtIHZlYzMgdV90aWxlX2lkO3VuaWZvcm0gZmxvYXQgdV96b29tX3RyYW5zaXRpb247dW5pZm9ybSB2ZWMzIHVfdXBfZGlyO3VuaWZvcm0gZmxvYXQgdV9oZWlnaHRfbGlmdDtcXG4jZW5kaWZcXG52YXJ5aW5nIHZlYzQgdl9jb2xvcjtcXG4jaWZkZWYgUkVOREVSX1NIQURPV1NcXG51bmlmb3JtIG1hdDQgdV9saWdodF9tYXRyaXhfMDt1bmlmb3JtIG1hdDQgdV9saWdodF9tYXRyaXhfMTt2YXJ5aW5nIGhpZ2hwIHZlYzQgdl9wb3NfbGlnaHRfdmlld18wO3ZhcnlpbmcgaGlnaHAgdmVjNCB2X3Bvc19saWdodF92aWV3XzE7dmFyeWluZyBmbG9hdCB2X2RlcHRoO1xcbiNlbmRpZlxcbiNpZmRlZiBaRVJPX1JPT0ZfUkFESVVTXFxudmFyeWluZyB2ZWM0IHZfcm9vZl9jb2xvcjtcXG4jZW5kaWZcXG4jaWYgZGVmaW5lZChaRVJPX1JPT0ZfUkFESVVTKSB8fCBkZWZpbmVkKFJFTkRFUl9TSEFET1dTKVxcbnZhcnlpbmcgaGlnaHAgdmVjMyB2X25vcm1hbDtcXG4jZW5kaWZcXG4jaWZkZWYgRkFVWF9BT1xcbnVuaWZvcm0gbG93cCB2ZWMyIHVfYW87dmFyeWluZyB2ZWMzIHZfYW87XFxuI2VuZGlmXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCBmbG9hdCBiYXNlXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCBmbG9hdCBoZWlnaHRcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIHZlYzQgY29sb3JcXG52b2lkIG1haW4oKSB7XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgZmxvYXQgYmFzZVxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIGZsb2F0IGhlaWdodFxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIHZlYzQgY29sb3JcXG52ZWM0IHBvc19ueD1mbG9vcihhX3Bvc19ub3JtYWxfZWQqMC41KTt2ZWM0IHRvcF91cF9ueV9zdGFydD1hX3Bvc19ub3JtYWxfZWQtMi4wKnBvc19ueDt2ZWMzIHRvcF91cF9ueT10b3BfdXBfbnlfc3RhcnQueHl6O2Zsb2F0IHhfbm9ybWFsPXBvc19ueC56LzgxOTIuMDt2ZWMzIG5vcm1hbD10b3BfdXBfbnkueT09MS4wID8gdmVjMygwLjAsMC4wLDEuMCkgOiBub3JtYWxpemUodmVjMyh4X25vcm1hbCwoMi4wKnRvcF91cF9ueS56LTEuMCkqKDEuMC1hYnMoeF9ub3JtYWwpKSwwLjApKTtcXG4jaWYgZGVmaW5lZChaRVJPX1JPT0ZfUkFESVVTKSB8fCBkZWZpbmVkKFJFTkRFUl9TSEFET1dTKVxcbnZfbm9ybWFsPW5vcm1hbDtcXG4jZW5kaWZcXG5iYXNlPW1heCgwLjAsYmFzZSk7aGVpZ2h0PW1heCgwLjAsdG9wX3VwX255Lnk9PTAuMCAmJiB0b3BfdXBfbnkueD09MS4wID8gaGVpZ2h0LXVfZWRnZV9yYWRpdXMgOiBoZWlnaHQpO2Zsb2F0IHQ9dG9wX3VwX255Lng7dmVjMiBjZW50cm9pZF9wb3M9dmVjMigwLjApO1xcbiNpZiBkZWZpbmVkKEhBU19DRU5UUk9JRCkgfHwgZGVmaW5lZChURVJSQUlOKVxcbmNlbnRyb2lkX3Bvcz1hX2NlbnRyb2lkX3BvcztcXG4jZW5kaWZcXG5mbG9hdCBlbGU9MC4wO2Zsb2F0IGg9MC4wO2Zsb2F0IGNfZWxlO3ZlYzMgcG9zO1xcbiNpZmRlZiBURVJSQUlOXFxuYm9vbCBmbGF0X3Jvb2Y9Y2VudHJvaWRfcG9zLnggIT0wLjAgJiYgdCA+IDAuMDtlbGU9ZWxldmF0aW9uKHBvc19ueC54eSk7Y19lbGU9ZmxhdF9yb29mID8gY2VudHJvaWRfcG9zLnk9PTAuMCA/IGVsZXZhdGlvbkZyb21VaW50MTYoY2VudHJvaWRfcG9zLngpIDogZmxhdEVsZXZhdGlvbihjZW50cm9pZF9wb3MpIDogZWxlO2g9ZmxhdF9yb29mID8gbWF4KGNfZWxlK2hlaWdodCxlbGUrYmFzZSsyLjApIDogZWxlKyh0ID4gMC4wID8gaGVpZ2h0IDogYmFzZT09MC4wID8tNS4wIDogYmFzZSk7cG9zPXZlYzMocG9zX254Lnh5LGgpO1xcbiNlbHNlXFxuaD10ID4gMC4wID8gaGVpZ2h0IDogYmFzZTtwb3M9dmVjMyhwb3NfbngueHksaCk7XFxuI2VuZGlmXFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbmZsb2F0IGxpZnQ9ZmxvYXQoKHQrYmFzZSkgPiAwLjApKnVfaGVpZ2h0X2xpZnQ7aCs9bGlmdDt2ZWMzIGdsb2JlX25vcm1hbD1ub3JtYWxpemUobWl4KGFfcG9zX25vcm1hbF8zLzE2Mzg0LjAsdV91cF9kaXIsdV96b29tX3RyYW5zaXRpb24pKTt2ZWMzIGdsb2JlX3Bvcz1hX3Bvc18zK2dsb2JlX25vcm1hbCoodV90aWxlX3VwX3NjYWxlKmgpO3ZlYzMgbWVyY19wb3M9bWVyY2F0b3JfdGlsZV9wb3NpdGlvbih1X2ludl9yb3RfbWF0cml4LHBvcy54eSx1X3RpbGVfaWQsdV9tZXJjX2NlbnRlcikrdV91cF9kaXIqdV90aWxlX3VwX3NjYWxlKnBvcy56O3Bvcz1taXhfZ2xvYmVfbWVyY2F0b3IoZ2xvYmVfcG9zLG1lcmNfcG9zLHVfem9vbV90cmFuc2l0aW9uKTtcXG4jZW5kaWZcXG5mbG9hdCBoaWRkZW49ZmxvYXQoY2VudHJvaWRfcG9zLng9PTAuMCAmJiBjZW50cm9pZF9wb3MueT09MS4wKTtnbF9Qb3NpdGlvbj1taXgodV9tYXRyaXgqdmVjNChwb3MsMSksQVdBWSxoaWRkZW4pO1xcbiNpZmRlZiBSRU5ERVJfU0hBRE9XU1xcbnZfcG9zX2xpZ2h0X3ZpZXdfMD11X2xpZ2h0X21hdHJpeF8wKnZlYzQocG9zLDEpO3ZfcG9zX2xpZ2h0X3ZpZXdfMT11X2xpZ2h0X21hdHJpeF8xKnZlYzQocG9zLDEpO3ZfZGVwdGg9Z2xfUG9zaXRpb24udztcXG4jZW5kaWZcXG5mbG9hdCBjb2xvcnZhbHVlPWNvbG9yLnIqMC4yMTI2K2NvbG9yLmcqMC43MTUyK2NvbG9yLmIqMC4wNzIyO3ZfY29sb3I9dmVjNCgwLjAsMC4wLDAuMCwxLjApO3ZlYzQgYW1iaWVudGxpZ2h0PXZlYzQoMC4wMywwLjAzLDAuMDMsMS4wKTtjb2xvcis9YW1iaWVudGxpZ2h0O2Zsb2F0IGRpcmVjdGlvbmFsPWNsYW1wKGRvdChub3JtYWwsdV9saWdodHBvcyksMC4wLDEuMCk7ZGlyZWN0aW9uYWw9bWl4KCgxLjAtdV9saWdodGludGVuc2l0eSksbWF4KCgxLjAtY29sb3J2YWx1ZSt1X2xpZ2h0aW50ZW5zaXR5KSwxLjApLGRpcmVjdGlvbmFsKTtpZiAobm9ybWFsLnkgIT0wLjApIHtkaXJlY3Rpb25hbCo9KFxcbigxLjAtdV92ZXJ0aWNhbF9ncmFkaWVudCkrKHVfdmVydGljYWxfZ3JhZGllbnQqY2xhbXAoKHQrYmFzZSkqcG93KGhlaWdodC8xNTAuMCwwLjUpLG1peCgwLjcsMC45OCwxLjAtdV9saWdodGludGVuc2l0eSksMS4wKSkpO31cXG4jaWZkZWYgRkFVWF9BT1xcbmZsb2F0IGNvbmNhdmU9cG9zX254LnctZmxvb3IocG9zX254LncqMC41KSoyLjA7ZmxvYXQgc3RhcnQ9dG9wX3VwX255X3N0YXJ0Lnc7ZmxvYXQgeV9ncm91bmQ9MS4wLWNsYW1wKHQrYmFzZSwwLjAsMS4wKTtmbG9hdCB0b3BfaGVpZ2h0PWhlaWdodDtcXG4jaWZkZWYgVEVSUkFJTlxcbnRvcF9oZWlnaHQ9bWl4KG1heChjX2VsZStoZWlnaHQsZWxlK2Jhc2UrMi4wKSxlbGUraGVpZ2h0LGZsb2F0KGNlbnRyb2lkX3Bvcy54PT0wLjApKS1lbGU7eV9ncm91bmQrPXlfZ3JvdW5kKjUuMC9tYXgoMy4wLHRvcF9oZWlnaHQpO1xcbiNlbmRpZlxcbnZfYW89dmVjMyhtaXgoY29uY2F2ZSwtY29uY2F2ZSxzdGFydCkseV9ncm91bmQsaC1lbGUpO2RpcmVjdGlvbmFsKj0oMS4wKzAuMDUqKDEuMC10b3BfdXBfbnkueSkqdV9hb1swXSk7XFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbnRvcF9oZWlnaHQrPXVfaGVpZ2h0X2xpZnQ7XFxuI2VuZGlmXFxuZ2xfUG9zaXRpb24uei09KDAuMDAwMDAwNioobWluKHRvcF9oZWlnaHQsNTAwLikrMi4wKm1pbihiYXNlLDUwMC4wKSs2MC4wKmNvbmNhdmUrMy4wKnN0YXJ0KSkqZ2xfUG9zaXRpb24udztcXG4jZW5kaWZcXG52X2NvbG9yLnJnYis9Y2xhbXAoY29sb3IucmdiKmRpcmVjdGlvbmFsKnVfbGlnaHRjb2xvcixtaXgodmVjMygwLjApLHZlYzMoMC4zKSwxLjAtdV9saWdodGNvbG9yKSx2ZWMzKDEuMCkpO3ZfY29sb3IqPXVfb3BhY2l0eTtcXG4jaWZkZWYgWkVST19ST09GX1JBRElVU1xcbnZfcm9vZl9jb2xvcj12ZWM0KDAuMCwwLjAsMC4wLDEuMCk7ZmxvYXQgcm9vZl9yYWRpYW5jZT1jbGFtcCh1X2xpZ2h0cG9zLnosMC4wLDEuMCk7cm9vZl9yYWRpYW5jZT1taXgoKDEuMC11X2xpZ2h0aW50ZW5zaXR5KSxtYXgoKDEuMC1jb2xvcnZhbHVlK3VfbGlnaHRpbnRlbnNpdHkpLDEuMCkscm9vZl9yYWRpYW5jZSk7dl9yb29mX2NvbG9yLnJnYis9Y2xhbXAoY29sb3IucmdiKnJvb2ZfcmFkaWFuY2UqdV9saWdodGNvbG9yLG1peCh2ZWMzKDAuMCksdmVjMygwLjMpLDEuMC11X2xpZ2h0Y29sb3IpLHZlYzMoMS4wKSk7dl9yb29mX2NvbG9yKj11X29wYWNpdHk7XFxuI2VuZGlmXFxuI2lmZGVmIEZPR1xcbnZfZm9nX3Bvcz1mb2dfcG9zaXRpb24ocG9zKTtcXG4jZW5kaWZcXG59XCIpLGZpbGxFeHRydXNpb25QYXR0ZXJuOnBpKFwidW5pZm9ybSB2ZWMyIHVfdGV4c2l6ZTt1bmlmb3JtIGZsb2F0IHVfZmFkZTt1bmlmb3JtIHNhbXBsZXIyRCB1X2ltYWdlO1xcbiNpZmRlZiBGQVVYX0FPXFxudW5pZm9ybSBsb3dwIHZlYzIgdV9hbzt2YXJ5aW5nIHZlYzMgdl9hbztcXG4jZW5kaWZcXG52YXJ5aW5nIHZlYzIgdl9wb3NfYTt2YXJ5aW5nIHZlYzIgdl9wb3NfYjt2YXJ5aW5nIHZlYzQgdl9saWdodGluZztcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgYmFzZVxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBoZWlnaHRcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgdmVjNCBwYXR0ZXJuX2Zyb21cXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgdmVjNCBwYXR0ZXJuX3RvXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IHBpeGVsX3JhdGlvX2Zyb21cXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgcGl4ZWxfcmF0aW9fdG9cXG52b2lkIG1haW4oKSB7XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBiYXNlXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBoZWlnaHRcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIHZlYzQgcGF0dGVybl9mcm9tXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCB2ZWM0IHBhdHRlcm5fdG9cXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IHBpeGVsX3JhdGlvX2Zyb21cXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IHBpeGVsX3JhdGlvX3RvXFxudmVjMiBwYXR0ZXJuX3RsX2E9cGF0dGVybl9mcm9tLnh5O3ZlYzIgcGF0dGVybl9icl9hPXBhdHRlcm5fZnJvbS56dzt2ZWMyIHBhdHRlcm5fdGxfYj1wYXR0ZXJuX3RvLnh5O3ZlYzIgcGF0dGVybl9icl9iPXBhdHRlcm5fdG8uenc7dmVjMiBpbWFnZWNvb3JkPW1vZCh2X3Bvc19hLDEuMCk7dmVjMiBwb3M9bWl4KHBhdHRlcm5fdGxfYS91X3RleHNpemUscGF0dGVybl9icl9hL3VfdGV4c2l6ZSxpbWFnZWNvb3JkKTt2ZWM0IGNvbG9yMT10ZXh0dXJlMkQodV9pbWFnZSxwb3MpO3ZlYzIgaW1hZ2Vjb29yZF9iPW1vZCh2X3Bvc19iLDEuMCk7dmVjMiBwb3MyPW1peChwYXR0ZXJuX3RsX2IvdV90ZXhzaXplLHBhdHRlcm5fYnJfYi91X3RleHNpemUsaW1hZ2Vjb29yZF9iKTt2ZWM0IGNvbG9yMj10ZXh0dXJlMkQodV9pbWFnZSxwb3MyKTt2ZWM0IG91dF9jb2xvcj1taXgoY29sb3IxLGNvbG9yMix1X2ZhZGUpO291dF9jb2xvcj1vdXRfY29sb3Iqdl9saWdodGluZztcXG4jaWZkZWYgRkFVWF9BT1xcbmZsb2F0IGludGVuc2l0eT11X2FvWzBdO2Zsb2F0IGg9bWF4KDAuMCx2X2FvLnopO2Zsb2F0IGhfZmxvb3JzPWgvdV9hb1sxXTtmbG9hdCB5X3NoYWRlPTEuMC0wLjkqaW50ZW5zaXR5Km1pbih2X2FvLnksMS4wKTtmbG9hdCBzaGFkZT0oMS4wLTAuMDgqaW50ZW5zaXR5KSooeV9zaGFkZSsoMS4wLXlfc2hhZGUpKigxLjAtcG93KDEuMC1taW4oaF9mbG9vcnMvMTYuMCwxLjApLDE2LjApKSkrMC4wOCppbnRlbnNpdHkqbWluKGhfZmxvb3JzLzE2MC4wLDEuMCk7ZmxvYXQgY29uY2F2ZT12X2FvLngqdl9hby54O2Zsb2F0IHhfc2hhZGU9bWl4KDEuMCxtaXgoMC42LDAuNzUsbWluKGhfZmxvb3JzLzMwLjAsMS4wKSksaW50ZW5zaXR5KSswLjEqaW50ZW5zaXR5Km1pbihoLDEuMCk7c2hhZGUqPW1peCgxLjAseF9zaGFkZSp4X3NoYWRlKnhfc2hhZGUsY29uY2F2ZSk7b3V0X2NvbG9yLnJnYj1vdXRfY29sb3IucmdiKnNoYWRlO1xcbiNlbmRpZlxcbiNpZmRlZiBGT0dcXG5vdXRfY29sb3I9Zm9nX2RpdGhlcihmb2dfYXBwbHlfcHJlbXVsdGlwbGllZChvdXRfY29sb3Isdl9mb2dfcG9zKSk7XFxuI2VuZGlmXFxuZ2xfRnJhZ0NvbG9yPW91dF9jb2xvcjtcXG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXFxuZ2xfRnJhZ0NvbG9yPXZlYzQoMS4wKTtcXG4jZW5kaWZcXG59XCIsXCJ1bmlmb3JtIG1hdDQgdV9tYXRyaXg7dW5pZm9ybSB2ZWMyIHVfcGl4ZWxfY29vcmRfdXBwZXI7dW5pZm9ybSB2ZWMyIHVfcGl4ZWxfY29vcmRfbG93ZXI7dW5pZm9ybSBmbG9hdCB1X2hlaWdodF9mYWN0b3I7dW5pZm9ybSB2ZWMzIHVfc2NhbGU7dW5pZm9ybSBmbG9hdCB1X3ZlcnRpY2FsX2dyYWRpZW50O3VuaWZvcm0gbG93cCBmbG9hdCB1X29wYWNpdHk7dW5pZm9ybSB2ZWMzIHVfbGlnaHRjb2xvcjt1bmlmb3JtIGxvd3AgdmVjMyB1X2xpZ2h0cG9zO3VuaWZvcm0gbG93cCBmbG9hdCB1X2xpZ2h0aW50ZW5zaXR5O2F0dHJpYnV0ZSB2ZWM0IGFfcG9zX25vcm1hbF9lZDthdHRyaWJ1dGUgdmVjMiBhX2NlbnRyb2lkX3BvcztcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxuYXR0cmlidXRlIHZlYzMgYV9wb3NfMzthdHRyaWJ1dGUgdmVjMyBhX3Bvc19ub3JtYWxfMzt1bmlmb3JtIG1hdDQgdV9pbnZfcm90X21hdHJpeDt1bmlmb3JtIHZlYzIgdV9tZXJjX2NlbnRlcjt1bmlmb3JtIHZlYzMgdV90aWxlX2lkO3VuaWZvcm0gZmxvYXQgdV96b29tX3RyYW5zaXRpb247dW5pZm9ybSB2ZWMzIHVfdXBfZGlyO3VuaWZvcm0gZmxvYXQgdV9oZWlnaHRfbGlmdDtcXG4jZW5kaWZcXG52YXJ5aW5nIHZlYzIgdl9wb3NfYTt2YXJ5aW5nIHZlYzIgdl9wb3NfYjt2YXJ5aW5nIHZlYzQgdl9saWdodGluZztcXG4jaWZkZWYgRkFVWF9BT1xcbnVuaWZvcm0gbG93cCB2ZWMyIHVfYW87dmFyeWluZyB2ZWMzIHZfYW87XFxuI2VuZGlmXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGJhc2VcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgaGVpZ2h0XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIHZlYzQgcGF0dGVybl9mcm9tXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIHZlYzQgcGF0dGVybl90b1xcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBwaXhlbF9yYXRpb19mcm9tXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IHBpeGVsX3JhdGlvX3RvXFxudm9pZCBtYWluKCkge1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgYmFzZVxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgaGVpZ2h0XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCB2ZWM0IHBhdHRlcm5fZnJvbVxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIG1lZGl1bXAgdmVjNCBwYXR0ZXJuX3RvXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBwaXhlbF9yYXRpb19mcm9tXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBwaXhlbF9yYXRpb190b1xcbnZlYzIgcGF0dGVybl90bF9hPXBhdHRlcm5fZnJvbS54eTt2ZWMyIHBhdHRlcm5fYnJfYT1wYXR0ZXJuX2Zyb20uenc7dmVjMiBwYXR0ZXJuX3RsX2I9cGF0dGVybl90by54eTt2ZWMyIHBhdHRlcm5fYnJfYj1wYXR0ZXJuX3RvLnp3O2Zsb2F0IHRpbGVSYXRpbz11X3NjYWxlLng7ZmxvYXQgZnJvbVNjYWxlPXVfc2NhbGUueTtmbG9hdCB0b1NjYWxlPXVfc2NhbGUuejt2ZWM0IHBvc19ueD1mbG9vcihhX3Bvc19ub3JtYWxfZWQqMC41KTttZWRpdW1wIHZlYzQgdG9wX3VwX255X3N0YXJ0PWFfcG9zX25vcm1hbF9lZC0yLjAqcG9zX254O21lZGl1bXAgdmVjMyB0b3BfdXBfbnk9dG9wX3VwX255X3N0YXJ0Lnh5ejtmbG9hdCB4X25vcm1hbD1wb3Nfbnguei84MTkyLjA7dmVjMyBub3JtYWw9dG9wX3VwX255Lnk9PTEuMCA/IHZlYzMoMC4wLDAuMCwxLjApIDogbm9ybWFsaXplKHZlYzMoeF9ub3JtYWwsKDIuMCp0b3BfdXBfbnkuei0xLjApKigxLjAtYWJzKHhfbm9ybWFsKSksMC4wKSk7ZmxvYXQgZWRnZWRpc3RhbmNlPWFfcG9zX25vcm1hbF9lZC53O3ZlYzIgZGlzcGxheV9zaXplX2E9KHBhdHRlcm5fYnJfYS1wYXR0ZXJuX3RsX2EpL3BpeGVsX3JhdGlvX2Zyb207dmVjMiBkaXNwbGF5X3NpemVfYj0ocGF0dGVybl9icl9iLXBhdHRlcm5fdGxfYikvcGl4ZWxfcmF0aW9fdG87YmFzZT1tYXgoMC4wLGJhc2UpO2hlaWdodD1tYXgoMC4wLGhlaWdodCk7ZmxvYXQgdD10b3BfdXBfbnkueDtmbG9hdCB6PXQgPiAwLjAgPyBoZWlnaHQgOiBiYXNlO3ZlYzIgY2VudHJvaWRfcG9zPXZlYzIoMC4wKTtcXG4jaWYgZGVmaW5lZChIQVNfQ0VOVFJPSUQpIHx8IGRlZmluZWQoVEVSUkFJTilcXG5jZW50cm9pZF9wb3M9YV9jZW50cm9pZF9wb3M7XFxuI2VuZGlmXFxuZmxvYXQgZWxlPTAuMDtmbG9hdCBoPXo7dmVjMyBwO2Zsb2F0IGNfZWxlO1xcbiNpZmRlZiBURVJSQUlOXFxuYm9vbCBmbGF0X3Jvb2Y9Y2VudHJvaWRfcG9zLnggIT0wLjAgJiYgdCA+IDAuMDtlbGU9ZWxldmF0aW9uKHBvc19ueC54eSk7Y19lbGU9ZmxhdF9yb29mID8gY2VudHJvaWRfcG9zLnk9PTAuMCA/IGVsZXZhdGlvbkZyb21VaW50MTYoY2VudHJvaWRfcG9zLngpIDogZmxhdEVsZXZhdGlvbihjZW50cm9pZF9wb3MpIDogZWxlO2g9ZmxhdF9yb29mID8gbWF4KGNfZWxlK2hlaWdodCxlbGUrYmFzZSsyLjApIDogZWxlKyh0ID4gMC4wID8gaGVpZ2h0IDogYmFzZT09MC4wID8tNS4wIDogYmFzZSk7cD12ZWMzKHBvc19ueC54eSxoKTtcXG4jZWxzZVxcbnA9dmVjMyhwb3NfbngueHkseik7XFxuI2VuZGlmXFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbmZsb2F0IGxpZnQ9ZmxvYXQoKHQrYmFzZSkgPiAwLjApKnVfaGVpZ2h0X2xpZnQ7aCs9bGlmdDt2ZWMzIGdsb2JlX25vcm1hbD1ub3JtYWxpemUobWl4KGFfcG9zX25vcm1hbF8zLzE2Mzg0LjAsdV91cF9kaXIsdV96b29tX3RyYW5zaXRpb24pKTt2ZWMzIGdsb2JlX3Bvcz1hX3Bvc18zK2dsb2JlX25vcm1hbCoodV90aWxlX3VwX3NjYWxlKihwLnorbGlmdCkpO3ZlYzMgbWVyY19wb3M9bWVyY2F0b3JfdGlsZV9wb3NpdGlvbih1X2ludl9yb3RfbWF0cml4LHAueHksdV90aWxlX2lkLHVfbWVyY19jZW50ZXIpK3VfdXBfZGlyKnVfdGlsZV91cF9zY2FsZSpwLno7cD1taXhfZ2xvYmVfbWVyY2F0b3IoZ2xvYmVfcG9zLG1lcmNfcG9zLHVfem9vbV90cmFuc2l0aW9uKTtcXG4jZW5kaWZcXG5mbG9hdCBoaWRkZW49ZmxvYXQoY2VudHJvaWRfcG9zLng9PTAuMCAmJiBjZW50cm9pZF9wb3MueT09MS4wKTtnbF9Qb3NpdGlvbj1taXgodV9tYXRyaXgqdmVjNChwLDEpLEFXQVksaGlkZGVuKTt2ZWMyIHBvcz1ub3JtYWwuej09MS4wXFxuPyBwb3NfbngueHlcXG46IHZlYzIoZWRnZWRpc3RhbmNlLHoqdV9oZWlnaHRfZmFjdG9yKTt2X3Bvc19hPWdldF9wYXR0ZXJuX3Bvcyh1X3BpeGVsX2Nvb3JkX3VwcGVyLHVfcGl4ZWxfY29vcmRfbG93ZXIsZnJvbVNjYWxlKmRpc3BsYXlfc2l6ZV9hLHRpbGVSYXRpbyxwb3MpO3ZfcG9zX2I9Z2V0X3BhdHRlcm5fcG9zKHVfcGl4ZWxfY29vcmRfdXBwZXIsdV9waXhlbF9jb29yZF9sb3dlcix0b1NjYWxlKmRpc3BsYXlfc2l6ZV9iLHRpbGVSYXRpbyxwb3MpO3ZfbGlnaHRpbmc9dmVjNCgwLjAsMC4wLDAuMCwxLjApO2Zsb2F0IGRpcmVjdGlvbmFsPWNsYW1wKGRvdChub3JtYWwsdV9saWdodHBvcyksMC4wLDEuMCk7ZGlyZWN0aW9uYWw9bWl4KCgxLjAtdV9saWdodGludGVuc2l0eSksbWF4KCgwLjUrdV9saWdodGludGVuc2l0eSksMS4wKSxkaXJlY3Rpb25hbCk7aWYgKG5vcm1hbC55ICE9MC4wKSB7ZGlyZWN0aW9uYWwqPShcXG4oMS4wLXVfdmVydGljYWxfZ3JhZGllbnQpKyh1X3ZlcnRpY2FsX2dyYWRpZW50KmNsYW1wKCh0K2Jhc2UpKnBvdyhoZWlnaHQvMTUwLjAsMC41KSxtaXgoMC43LDAuOTgsMS4wLXVfbGlnaHRpbnRlbnNpdHkpLDEuMCkpKTt9XFxuI2lmZGVmIEZBVVhfQU9cXG5mbG9hdCBjb25jYXZlPXBvc19ueC53LWZsb29yKHBvc19ueC53KjAuNSkqMi4wO2Zsb2F0IHN0YXJ0PXRvcF91cF9ueV9zdGFydC53O2Zsb2F0IHlfZ3JvdW5kPTEuMC1jbGFtcCh0K2Jhc2UsMC4wLDEuMCk7ZmxvYXQgdG9wX2hlaWdodD1oZWlnaHQ7XFxuI2lmZGVmIFRFUlJBSU5cXG50b3BfaGVpZ2h0PW1peChtYXgoY19lbGUraGVpZ2h0LGVsZStiYXNlKzIuMCksZWxlK2hlaWdodCxmbG9hdChjZW50cm9pZF9wb3MueD09MC4wKSktZWxlO3lfZ3JvdW5kKz15X2dyb3VuZCo1LjAvbWF4KDMuMCx0b3BfaGVpZ2h0KTtcXG4jZW5kaWZcXG52X2FvPXZlYzMobWl4KGNvbmNhdmUsLWNvbmNhdmUsc3RhcnQpLHlfZ3JvdW5kLGgtZWxlKTtkaXJlY3Rpb25hbCo9KDEuMCswLjA1KigxLjAtdG9wX3VwX255LnkpKnVfYW9bMF0pO1xcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG50b3BfaGVpZ2h0Kz11X2hlaWdodF9saWZ0O1xcbiNlbmRpZlxcbmdsX1Bvc2l0aW9uLnotPSgwLjAwMDAwMDYqKG1pbih0b3BfaGVpZ2h0LDUwMC4pKzIuMCptaW4oYmFzZSw1MDAuMCkrNjAuMCpjb25jYXZlKzMuMCpzdGFydCkpKmdsX1Bvc2l0aW9uLnc7XFxuI2VuZGlmXFxudl9saWdodGluZy5yZ2IrPWNsYW1wKGRpcmVjdGlvbmFsKnVfbGlnaHRjb2xvcixtaXgodmVjMygwLjApLHZlYzMoMC4zKSwxLjAtdV9saWdodGNvbG9yKSx2ZWMzKDEuMCkpO3ZfbGlnaHRpbmcqPXVfb3BhY2l0eTtcXG4jaWZkZWYgRk9HXFxudl9mb2dfcG9zPWZvZ19wb3NpdGlvbihwKTtcXG4jZW5kaWZcXG59XCIpLGhpbGxzaGFkZVByZXBhcmU6cGkoXCIjaWZkZWYgR0xfRVNcXG5wcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuI2VuZGlmXFxudW5pZm9ybSBzYW1wbGVyMkQgdV9pbWFnZTt2YXJ5aW5nIHZlYzIgdl9wb3M7dW5pZm9ybSB2ZWMyIHVfZGltZW5zaW9uO3VuaWZvcm0gZmxvYXQgdV96b29tO3VuaWZvcm0gdmVjNCB1X3VucGFjaztmbG9hdCBnZXRFbGV2YXRpb24odmVjMiBjb29yZCkge1xcbiNpZmRlZiBURVJSQUlOX0RFTV9GTE9BVF9GT1JNQVRcXG5yZXR1cm4gdGV4dHVyZTJEKHVfaW1hZ2UsY29vcmQpLmEvNC4wO1xcbiNlbHNlXFxudmVjNCBkYXRhPXRleHR1cmUyRCh1X2ltYWdlLGNvb3JkKSoyNTUuMDtkYXRhLmE9LTEuMDtyZXR1cm4gZG90KGRhdGEsdV91bnBhY2spLzQuMDtcXG4jZW5kaWZcXG59dm9pZCBtYWluKCkge3ZlYzIgZXBzaWxvbj0xLjAvdV9kaW1lbnNpb247ZmxvYXQgYT1nZXRFbGV2YXRpb24odl9wb3MrdmVjMigtZXBzaWxvbi54LC1lcHNpbG9uLnkpKTtmbG9hdCBiPWdldEVsZXZhdGlvbih2X3Bvcyt2ZWMyKDAsLWVwc2lsb24ueSkpO2Zsb2F0IGM9Z2V0RWxldmF0aW9uKHZfcG9zK3ZlYzIoZXBzaWxvbi54LC1lcHNpbG9uLnkpKTtmbG9hdCBkPWdldEVsZXZhdGlvbih2X3Bvcyt2ZWMyKC1lcHNpbG9uLngsMCkpO2Zsb2F0IGU9Z2V0RWxldmF0aW9uKHZfcG9zKTtmbG9hdCBmPWdldEVsZXZhdGlvbih2X3Bvcyt2ZWMyKGVwc2lsb24ueCwwKSk7ZmxvYXQgZz1nZXRFbGV2YXRpb24odl9wb3MrdmVjMigtZXBzaWxvbi54LGVwc2lsb24ueSkpO2Zsb2F0IGg9Z2V0RWxldmF0aW9uKHZfcG9zK3ZlYzIoMCxlcHNpbG9uLnkpKTtmbG9hdCBpPWdldEVsZXZhdGlvbih2X3Bvcyt2ZWMyKGVwc2lsb24ueCxlcHNpbG9uLnkpKTtmbG9hdCBleGFnZ2VyYXRpb25GYWN0b3I9dV96b29tIDwgMi4wID8gMC40IDogdV96b29tIDwgNC41ID8gMC4zNSA6IDAuMztmbG9hdCBleGFnZ2VyYXRpb249dV96b29tIDwgMTUuMCA/ICh1X3pvb20tMTUuMCkqZXhhZ2dlcmF0aW9uRmFjdG9yIDogMC4wO3ZlYzIgZGVyaXY9dmVjMihcXG4oYytmK2YraSktKGErZCtkK2cpLChnK2graCtpKS0oYStiK2IrYylcXG4pL3BvdygyLjAsZXhhZ2dlcmF0aW9uKygxOS4yNTYyLXVfem9vbSkpO2dsX0ZyYWdDb2xvcj1jbGFtcCh2ZWM0KFxcbmRlcml2LngvMi4wKzAuNSxkZXJpdi55LzIuMCswLjUsMS4wLDEuMCksMC4wLDEuMCk7XFxuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxcbmdsX0ZyYWdDb2xvcj12ZWM0KDEuMCk7XFxuI2VuZGlmXFxufVwiLFwidW5pZm9ybSBtYXQ0IHVfbWF0cml4O3VuaWZvcm0gdmVjMiB1X2RpbWVuc2lvbjthdHRyaWJ1dGUgdmVjMiBhX3BvczthdHRyaWJ1dGUgdmVjMiBhX3RleHR1cmVfcG9zO3ZhcnlpbmcgdmVjMiB2X3Bvczt2b2lkIG1haW4oKSB7Z2xfUG9zaXRpb249dV9tYXRyaXgqdmVjNChhX3BvcywwLDEpO2hpZ2hwIHZlYzIgZXBzaWxvbj0xLjAvdV9kaW1lbnNpb247ZmxvYXQgc2NhbGU9KHVfZGltZW5zaW9uLngtMi4wKS91X2RpbWVuc2lvbi54O3ZfcG9zPShhX3RleHR1cmVfcG9zLzgxOTIuMCkqc2NhbGUrZXBzaWxvbjt9XCIpLGhpbGxzaGFkZTpwaShcInVuaWZvcm0gc2FtcGxlcjJEIHVfaW1hZ2U7dmFyeWluZyB2ZWMyIHZfcG9zO3VuaWZvcm0gdmVjMiB1X2xhdHJhbmdlO3VuaWZvcm0gdmVjMiB1X2xpZ2h0O3VuaWZvcm0gdmVjNCB1X3NoYWRvdzt1bmlmb3JtIHZlYzQgdV9oaWdobGlnaHQ7dW5pZm9ybSB2ZWM0IHVfYWNjZW50O3ZvaWQgbWFpbigpIHt2ZWM0IHBpeGVsPXRleHR1cmUyRCh1X2ltYWdlLHZfcG9zKTt2ZWMyIGRlcml2PSgocGl4ZWwucmcqMi4wKS0xLjApO2Zsb2F0IHNjYWxlRmFjdG9yPWNvcyhyYWRpYW5zKCh1X2xhdHJhbmdlWzBdLXVfbGF0cmFuZ2VbMV0pKigxLjAtdl9wb3MueSkrdV9sYXRyYW5nZVsxXSkpO2Zsb2F0IHNsb3BlPWF0YW4oMS4yNSpsZW5ndGgoZGVyaXYpL3NjYWxlRmFjdG9yKTtmbG9hdCBhc3BlY3Q9ZGVyaXYueCAhPTAuMCA/IGF0YW4oZGVyaXYueSwtZGVyaXYueCkgOiBQSS8yLjAqKGRlcml2LnkgPiAwLjAgPyAxLjAgOi0xLjApO2Zsb2F0IGludGVuc2l0eT11X2xpZ2h0Lng7ZmxvYXQgYXppbXV0aD11X2xpZ2h0LnkrUEk7ZmxvYXQgYmFzZT0xLjg3NS1pbnRlbnNpdHkqMS43NTtmbG9hdCBtYXhWYWx1ZT0wLjUqUEk7ZmxvYXQgc2NhbGVkU2xvcGU9aW50ZW5zaXR5ICE9MC41ID8gKChwb3coYmFzZSxzbG9wZSktMS4wKS8ocG93KGJhc2UsbWF4VmFsdWUpLTEuMCkpKm1heFZhbHVlIDogc2xvcGU7ZmxvYXQgYWNjZW50PWNvcyhzY2FsZWRTbG9wZSk7dmVjNCBhY2NlbnRfY29sb3I9KDEuMC1hY2NlbnQpKnVfYWNjZW50KmNsYW1wKGludGVuc2l0eSoyLjAsMC4wLDEuMCk7ZmxvYXQgc2hhZGU9YWJzKG1vZCgoYXNwZWN0K2F6aW11dGgpL1BJKzAuNSwyLjApLTEuMCk7dmVjNCBzaGFkZV9jb2xvcj1taXgodV9zaGFkb3csdV9oaWdobGlnaHQsc2hhZGUpKnNpbihzY2FsZWRTbG9wZSkqY2xhbXAoaW50ZW5zaXR5KjIuMCwwLjAsMS4wKTtnbF9GcmFnQ29sb3I9YWNjZW50X2NvbG9yKigxLjAtc2hhZGVfY29sb3IuYSkrc2hhZGVfY29sb3I7XFxuI2lmZGVmIEZPR1xcbmdsX0ZyYWdDb2xvcj1mb2dfZGl0aGVyKGZvZ19hcHBseV9wcmVtdWx0aXBsaWVkKGdsX0ZyYWdDb2xvcix2X2ZvZ19wb3MpKTtcXG4jZW5kaWZcXG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXFxuZ2xfRnJhZ0NvbG9yPXZlYzQoMS4wKTtcXG4jZW5kaWZcXG59XCIsXCJ1bmlmb3JtIG1hdDQgdV9tYXRyaXg7YXR0cmlidXRlIHZlYzIgYV9wb3M7YXR0cmlidXRlIHZlYzIgYV90ZXh0dXJlX3Bvczt2YXJ5aW5nIHZlYzIgdl9wb3M7dm9pZCBtYWluKCkge2dsX1Bvc2l0aW9uPXVfbWF0cml4KnZlYzQoYV9wb3MsMCwxKTt2X3Bvcz1hX3RleHR1cmVfcG9zLzgxOTIuMDtcXG4jaWZkZWYgRk9HXFxudl9mb2dfcG9zPWZvZ19wb3NpdGlvbihhX3Bvcyk7XFxuI2VuZGlmXFxufVwiKSxsaW5lOnBpKFwidW5pZm9ybSBsb3dwIGZsb2F0IHVfZGV2aWNlX3BpeGVsX3JhdGlvO3VuaWZvcm0gZmxvYXQgdV9hbHBoYV9kaXNjYXJkX3RocmVzaG9sZDt1bmlmb3JtIGhpZ2hwIHZlYzIgdV90cmltX29mZnNldDt2YXJ5aW5nIHZlYzIgdl93aWR0aDI7dmFyeWluZyB2ZWMyIHZfbm9ybWFsO3ZhcnlpbmcgZmxvYXQgdl9nYW1tYV9zY2FsZTt2YXJ5aW5nIGhpZ2hwIHZlYzQgdl91djtcXG4jaWZkZWYgUkVOREVSX0xJTkVfREFTSFxcbnVuaWZvcm0gc2FtcGxlcjJEIHVfZGFzaF9pbWFnZTt1bmlmb3JtIGZsb2F0IHVfbWl4O3VuaWZvcm0gdmVjMyB1X3NjYWxlO3ZhcnlpbmcgdmVjMiB2X3RleF9hO3ZhcnlpbmcgdmVjMiB2X3RleF9iO1xcbiNlbmRpZlxcbiNpZmRlZiBSRU5ERVJfTElORV9HUkFESUVOVFxcbnVuaWZvcm0gc2FtcGxlcjJEIHVfZ3JhZGllbnRfaW1hZ2U7XFxuI2VuZGlmXFxudW5pZm9ybSBmbG9hdCB1X2JvcmRlcl93aWR0aDt1bmlmb3JtIHZlYzQgdV9ib3JkZXJfY29sb3I7ZmxvYXQgbHVtaW5hbmNlKHZlYzMgYykge3JldHVybiAoYy5yK2MucitjLmIrYy5nK2MuZytjLmcpKjAuMTY2Nzt9XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCB2ZWM0IGNvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGZsb29yd2lkdGhcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgdmVjNCBkYXNoX2Zyb21cXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgdmVjNCBkYXNoX3RvXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGJsdXJcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb3BhY2l0eVxcbnZvaWQgbWFpbigpIHtcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCB2ZWM0IGNvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBmbG9vcndpZHRoXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCB2ZWM0IGRhc2hfZnJvbVxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgdmVjNCBkYXNoX3RvXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBibHVyXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XFxuZmxvYXQgZGlzdD1sZW5ndGgodl9ub3JtYWwpKnZfd2lkdGgyLnM7ZmxvYXQgYmx1cjI9KGJsdXIrMS4wL3VfZGV2aWNlX3BpeGVsX3JhdGlvKSp2X2dhbW1hX3NjYWxlO2Zsb2F0IGFscGhhPWNsYW1wKG1pbihkaXN0LSh2X3dpZHRoMi50LWJsdXIyKSx2X3dpZHRoMi5zLWRpc3QpL2JsdXIyLDAuMCwxLjApO1xcbiNpZmRlZiBSRU5ERVJfTElORV9EQVNIXFxuZmxvYXQgc2RmZGlzdF9hPXRleHR1cmUyRCh1X2Rhc2hfaW1hZ2Usdl90ZXhfYSkuYTtmbG9hdCBzZGZkaXN0X2I9dGV4dHVyZTJEKHVfZGFzaF9pbWFnZSx2X3RleF9iKS5hO2Zsb2F0IHNkZmRpc3Q9bWl4KHNkZmRpc3RfYSxzZGZkaXN0X2IsdV9taXgpO2Zsb2F0IHNkZndpZHRoPW1pbihkYXNoX2Zyb20ueip1X3NjYWxlLnksZGFzaF90by56KnVfc2NhbGUueik7ZmxvYXQgc2RmZ2FtbWE9MS4wLygyLjAqdV9kZXZpY2VfcGl4ZWxfcmF0aW8pL3NkZndpZHRoO2FscGhhKj1zbW9vdGhzdGVwKDAuNS1zZGZnYW1tYS9mbG9vcndpZHRoLDAuNStzZGZnYW1tYS9mbG9vcndpZHRoLHNkZmRpc3QpO1xcbiNlbmRpZlxcbiNpZmRlZiBSRU5ERVJfTElORV9HUkFESUVOVFxcbmhpZ2hwIHZlYzQgb3V0X2NvbG9yPXRleHR1cmUyRCh1X2dyYWRpZW50X2ltYWdlLHZfdXYueHkpO1xcbiNlbHNlXFxudmVjNCBvdXRfY29sb3I9Y29sb3I7XFxuI2VuZGlmXFxuI2lmZGVmIFJFTkRFUl9MSU5FX1RSSU1fT0ZGU0VUXFxuaGlnaHAgZmxvYXQgc3RhcnQ9dl91dlsyXTtoaWdocCBmbG9hdCBlbmQ9dl91dlszXTtoaWdocCBmbG9hdCB0cmltX3N0YXJ0PXVfdHJpbV9vZmZzZXRbMF07aGlnaHAgZmxvYXQgdHJpbV9lbmQ9dV90cmltX29mZnNldFsxXTtoaWdocCBmbG9hdCBsaW5lX3Byb2dyZXNzPShzdGFydCsodl91di54KSooZW5kLXN0YXJ0KSk7aWYgKHRyaW1fZW5kID4gdHJpbV9zdGFydCkge2lmIChsaW5lX3Byb2dyZXNzIDw9dHJpbV9lbmQgJiYgbGluZV9wcm9ncmVzcyA+PXRyaW1fc3RhcnQpIHtvdXRfY29sb3I9dmVjNCgwLDAsMCwwKTt9fVxcbiNlbmRpZlxcbiNpZmRlZiBGT0dcXG5vdXRfY29sb3I9Zm9nX2RpdGhlcihmb2dfYXBwbHlfcHJlbXVsdGlwbGllZChvdXRfY29sb3Isdl9mb2dfcG9zKSk7XFxuI2VuZGlmXFxuI2lmZGVmIFJFTkRFUl9MSU5FX0FMUEhBX0RJU0NBUkRcXG5pZiAoYWxwaGEgPCB1X2FscGhhX2Rpc2NhcmRfdGhyZXNob2xkKSB7ZGlzY2FyZDt9XFxuI2VuZGlmXFxuI2lmZGVmIFJFTkRFUl9MSU5FX0JPUkRFUlxcbmZsb2F0IGVkZ2VCbHVyPSh1X2JvcmRlcl93aWR0aCsxLjAvdV9kZXZpY2VfcGl4ZWxfcmF0aW8pO2Zsb2F0IGFscGhhMj1jbGFtcChtaW4oZGlzdC0odl93aWR0aDIudC1lZGdlQmx1ciksdl93aWR0aDIucy1kaXN0KS9lZGdlQmx1ciwwLjAsMS4wKTtpZiAoYWxwaGEyIDwgMS4pIHtmbG9hdCBzbW9vdGhBbHBoYT1zbW9vdGhzdGVwKDAuNiwxLjAsYWxwaGEyKTtcXG4jaWZkZWYgUkVOREVSX0xJTkVfQk9SREVSX0FVVE9cXG5mbG9hdCBZPShvdXRfY29sb3IuYSA+IDAuMDEpID8gbHVtaW5hbmNlKG91dF9jb2xvci5yZ2Ivb3V0X2NvbG9yLmEpIDogMS47ZmxvYXQgYWRqdXN0bWVudD0oWSA+IDAuKSA/IDAuNS9ZIDogMC40NTtpZiAob3V0X2NvbG9yLmEgPiAwLjI1ICYmIFkgPCAwLjI1KSB7dmVjMyBib3JkZXJDb2xvcj0oWSA+IDAuKSA/IG91dF9jb2xvci5yZ2IgOiB2ZWMzKDEsMSwxKSpvdXRfY29sb3IuYTtvdXRfY29sb3IucmdiPW91dF9jb2xvci5yZ2IrYm9yZGVyQ29sb3IqKGFkanVzdG1lbnQqKDEuMC1zbW9vdGhBbHBoYSkpO30gZWxzZSB7b3V0X2NvbG9yLnJnYio9KDAuNiArMC40KnNtb290aEFscGhhKTt9XFxuI2Vsc2VcXG5vdXRfY29sb3IucmdiPW1peCh1X2JvcmRlcl9jb2xvci5yZ2Isb3V0X2NvbG9yLnJnYixzbW9vdGhBbHBoYSk7XFxuI2VuZGlmXFxufVxcbiNlbmRpZlxcbmdsX0ZyYWdDb2xvcj1vdXRfY29sb3IqKGFscGhhKm9wYWNpdHkpO1xcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcXG5nbF9GcmFnQ29sb3I9dmVjNCgxLjApO1xcbiNlbmRpZlxcbn1cIixcIlxcbiNkZWZpbmUgRVhUUlVERV9TQ0FMRSAwLjAxNTg3MzAxNlxcbmF0dHJpYnV0ZSB2ZWMyIGFfcG9zX25vcm1hbDthdHRyaWJ1dGUgdmVjNCBhX2RhdGE7XFxuI2lmIGRlZmluZWQoUkVOREVSX0xJTkVfR1JBRElFTlQpIHx8IGRlZmluZWQoUkVOREVSX0xJTkVfVFJJTV9PRkZTRVQpXFxuYXR0cmlidXRlIGhpZ2hwIHZlYzQgYV9wYWNrZWQ7XFxuI2VuZGlmXFxuI2lmZGVmIFJFTkRFUl9MSU5FX0RBU0hcXG5hdHRyaWJ1dGUgZmxvYXQgYV9saW5lc29mYXI7XFxuI2VuZGlmXFxudW5pZm9ybSBtYXQ0IHVfbWF0cml4O3VuaWZvcm0gbWF0MiB1X3BpeGVsc190b190aWxlX3VuaXRzO3VuaWZvcm0gdmVjMiB1X3VuaXRzX3RvX3BpeGVsczt1bmlmb3JtIGxvd3AgZmxvYXQgdV9kZXZpY2VfcGl4ZWxfcmF0aW87dmFyeWluZyB2ZWMyIHZfbm9ybWFsO3ZhcnlpbmcgdmVjMiB2X3dpZHRoMjt2YXJ5aW5nIGZsb2F0IHZfZ2FtbWFfc2NhbGU7dmFyeWluZyBoaWdocCB2ZWM0IHZfdXY7XFxuI2lmZGVmIFJFTkRFUl9MSU5FX0RBU0hcXG51bmlmb3JtIHZlYzIgdV90ZXhzaXplO3VuaWZvcm0gbWVkaXVtcCB2ZWMzIHVfc2NhbGU7dmFyeWluZyB2ZWMyIHZfdGV4X2E7dmFyeWluZyB2ZWMyIHZfdGV4X2I7XFxuI2VuZGlmXFxuI2lmZGVmIFJFTkRFUl9MSU5FX0dSQURJRU5UXFxudW5pZm9ybSBmbG9hdCB1X2ltYWdlX2hlaWdodDtcXG4jZW5kaWZcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIHZlYzQgY29sb3JcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgZmxvb3J3aWR0aFxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCB2ZWM0IGRhc2hfZnJvbVxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCB2ZWM0IGRhc2hfdG9cXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgYmx1clxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBtZWRpdW1wIGZsb2F0IGdhcHdpZHRoXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9mZnNldFxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbWVkaXVtcCBmbG9hdCB3aWR0aFxcbnZvaWQgbWFpbigpIHtcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCB2ZWM0IGNvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBmbG9vcndpZHRoXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCB2ZWM0IGRhc2hfZnJvbVxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgdmVjNCBkYXNoX3RvXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBibHVyXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCBmbG9hdCBnYXB3aWR0aFxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb2Zmc2V0XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCBmbG9hdCB3aWR0aFxcbmZsb2F0IEFOVElBTElBU0lORz0xLjAvdV9kZXZpY2VfcGl4ZWxfcmF0aW8vMi4wO3ZlYzIgYV9leHRydWRlPWFfZGF0YS54eS0xMjguMDtmbG9hdCBhX2RpcmVjdGlvbj1tb2QoYV9kYXRhLnosNC4wKS0xLjA7dmVjMiBwb3M9Zmxvb3IoYV9wb3Nfbm9ybWFsKjAuNSk7bWVkaXVtcCB2ZWMyIG5vcm1hbD1hX3Bvc19ub3JtYWwtMi4wKnBvcztub3JtYWwueT1ub3JtYWwueSoyLjAtMS4wO3Zfbm9ybWFsPW5vcm1hbDtnYXB3aWR0aD1nYXB3aWR0aC8yLjA7ZmxvYXQgaGFsZndpZHRoPXdpZHRoLzIuMDtvZmZzZXQ9LTEuMCpvZmZzZXQ7ZmxvYXQgaW5zZXQ9Z2Fwd2lkdGgrKGdhcHdpZHRoID4gMC4wID8gQU5USUFMSUFTSU5HIDogMC4wKTtmbG9hdCBvdXRzZXQ9Z2Fwd2lkdGgraGFsZndpZHRoKihnYXB3aWR0aCA+IDAuMCA/IDIuMCA6IDEuMCkrKGhhbGZ3aWR0aD09MC4wID8gMC4wIDogQU5USUFMSUFTSU5HKTttZWRpdW1wIHZlYzIgZGlzdD1vdXRzZXQqYV9leHRydWRlKkVYVFJVREVfU0NBTEU7bWVkaXVtcCBmbG9hdCB1PTAuNSphX2RpcmVjdGlvbjttZWRpdW1wIGZsb2F0IHQ9MS4wLWFicyh1KTttZWRpdW1wIHZlYzIgb2Zmc2V0Mj1vZmZzZXQqYV9leHRydWRlKkVYVFJVREVfU0NBTEUqbm9ybWFsLnkqbWF0Mih0LC11LHUsdCk7dmVjNCBwcm9qZWN0ZWRfZXh0cnVkZT11X21hdHJpeCp2ZWM0KGRpc3QqdV9waXhlbHNfdG9fdGlsZV91bml0cywwLjAsMC4wKTtnbF9Qb3NpdGlvbj11X21hdHJpeCp2ZWM0KHBvcytvZmZzZXQyKnVfcGl4ZWxzX3RvX3RpbGVfdW5pdHMsMC4wLDEuMCkrcHJvamVjdGVkX2V4dHJ1ZGU7XFxuI2lmbmRlZiBSRU5ERVJfVE9fVEVYVFVSRVxcbmZsb2F0IGV4dHJ1ZGVfbGVuZ3RoX3dpdGhvdXRfcGVyc3BlY3RpdmU9bGVuZ3RoKGRpc3QpO2Zsb2F0IGV4dHJ1ZGVfbGVuZ3RoX3dpdGhfcGVyc3BlY3RpdmU9bGVuZ3RoKHByb2plY3RlZF9leHRydWRlLnh5L2dsX1Bvc2l0aW9uLncqdV91bml0c190b19waXhlbHMpO3ZfZ2FtbWFfc2NhbGU9ZXh0cnVkZV9sZW5ndGhfd2l0aG91dF9wZXJzcGVjdGl2ZS9leHRydWRlX2xlbmd0aF93aXRoX3BlcnNwZWN0aXZlO1xcbiNlbHNlXFxudl9nYW1tYV9zY2FsZT0xLjA7XFxuI2VuZGlmXFxuI2lmIGRlZmluZWQoUkVOREVSX0xJTkVfR1JBRElFTlQpIHx8IGRlZmluZWQoUkVOREVSX0xJTkVfVFJJTV9PRkZTRVQpXFxuZmxvYXQgYV91dl94PWFfcGFja2VkWzBdO2Zsb2F0IGFfc3BsaXRfaW5kZXg9YV9wYWNrZWRbMV07aGlnaHAgZmxvYXQgYV9jbGlwX3N0YXJ0PWFfcGFja2VkWzJdO2hpZ2hwIGZsb2F0IGFfY2xpcF9lbmQ9YV9wYWNrZWRbM107XFxuI2lmZGVmIFJFTkRFUl9MSU5FX0dSQURJRU5UXFxuaGlnaHAgZmxvYXQgdGV4ZWxfaGVpZ2h0PTEuMC91X2ltYWdlX2hlaWdodDtoaWdocCBmbG9hdCBoYWxmX3RleGVsX2hlaWdodD0wLjUqdGV4ZWxfaGVpZ2h0O3ZfdXY9dmVjNChhX3V2X3gsYV9zcGxpdF9pbmRleCp0ZXhlbF9oZWlnaHQtaGFsZl90ZXhlbF9oZWlnaHQsYV9jbGlwX3N0YXJ0LGFfY2xpcF9lbmQpO1xcbiNlbHNlXFxudl91dj12ZWM0KGFfdXZfeCwwLjAsYV9jbGlwX3N0YXJ0LGFfY2xpcF9lbmQpO1xcbiNlbmRpZlxcbiNlbmRpZlxcbiNpZmRlZiBSRU5ERVJfTElORV9EQVNIXFxuZmxvYXQgdGlsZVpvb21SYXRpbz11X3NjYWxlLng7ZmxvYXQgZnJvbVNjYWxlPXVfc2NhbGUueTtmbG9hdCB0b1NjYWxlPXVfc2NhbGUuejtmbG9hdCBzY2FsZUE9ZGFzaF9mcm9tLno9PTAuMCA/IDAuMCA6IHRpbGVab29tUmF0aW8vKGRhc2hfZnJvbS56KmZyb21TY2FsZSk7ZmxvYXQgc2NhbGVCPWRhc2hfdG8uej09MC4wID8gMC4wIDogdGlsZVpvb21SYXRpby8oZGFzaF90by56KnRvU2NhbGUpO2Zsb2F0IGhlaWdodEE9ZGFzaF9mcm9tLnk7ZmxvYXQgaGVpZ2h0Qj1kYXNoX3RvLnk7dl90ZXhfYT12ZWMyKGFfbGluZXNvZmFyKnNjYWxlQS9mbG9vcndpZHRoLCgtbm9ybWFsLnkqaGVpZ2h0QStkYXNoX2Zyb20ueCswLjUpL3VfdGV4c2l6ZS55KTt2X3RleF9iPXZlYzIoYV9saW5lc29mYXIqc2NhbGVCL2Zsb29yd2lkdGgsKC1ub3JtYWwueSpoZWlnaHRCK2Rhc2hfdG8ueCswLjUpL3VfdGV4c2l6ZS55KTtcXG4jZW5kaWZcXG52X3dpZHRoMj12ZWMyKG91dHNldCxpbnNldCk7XFxuI2lmZGVmIEZPR1xcbnZfZm9nX3Bvcz1mb2dfcG9zaXRpb24ocG9zKTtcXG4jZW5kaWZcXG59XCIpLGxpbmVQYXR0ZXJuOnBpKFwidW5pZm9ybSBsb3dwIGZsb2F0IHVfZGV2aWNlX3BpeGVsX3JhdGlvO3VuaWZvcm0gdmVjMiB1X3RleHNpemU7dW5pZm9ybSBmbG9hdCB1X2ZhZGU7dW5pZm9ybSBtZWRpdW1wIHZlYzMgdV9zY2FsZTt1bmlmb3JtIHNhbXBsZXIyRCB1X2ltYWdlO3ZhcnlpbmcgdmVjMiB2X25vcm1hbDt2YXJ5aW5nIHZlYzIgdl93aWR0aDI7dmFyeWluZyBmbG9hdCB2X2xpbmVzb2Zhcjt2YXJ5aW5nIGZsb2F0IHZfZ2FtbWFfc2NhbGU7dmFyeWluZyBmbG9hdCB2X3dpZHRoO1xcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCB2ZWM0IHBhdHRlcm5fZnJvbVxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCB2ZWM0IHBhdHRlcm5fdG9cXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgcGl4ZWxfcmF0aW9fZnJvbVxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBwaXhlbF9yYXRpb190b1xcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBibHVyXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG52b2lkIG1haW4oKSB7XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCB2ZWM0IHBhdHRlcm5fZnJvbVxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIG1lZGl1bXAgdmVjNCBwYXR0ZXJuX3RvXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBwaXhlbF9yYXRpb19mcm9tXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBwaXhlbF9yYXRpb190b1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgYmx1clxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxcbnZlYzIgcGF0dGVybl90bF9hPXBhdHRlcm5fZnJvbS54eTt2ZWMyIHBhdHRlcm5fYnJfYT1wYXR0ZXJuX2Zyb20uenc7dmVjMiBwYXR0ZXJuX3RsX2I9cGF0dGVybl90by54eTt2ZWMyIHBhdHRlcm5fYnJfYj1wYXR0ZXJuX3RvLnp3O2Zsb2F0IHRpbGVab29tUmF0aW89dV9zY2FsZS54O2Zsb2F0IGZyb21TY2FsZT11X3NjYWxlLnk7ZmxvYXQgdG9TY2FsZT11X3NjYWxlLno7dmVjMiBkaXNwbGF5X3NpemVfYT0ocGF0dGVybl9icl9hLXBhdHRlcm5fdGxfYSkvcGl4ZWxfcmF0aW9fZnJvbTt2ZWMyIGRpc3BsYXlfc2l6ZV9iPShwYXR0ZXJuX2JyX2ItcGF0dGVybl90bF9iKS9waXhlbF9yYXRpb190bzt2ZWMyIHBhdHRlcm5fc2l6ZV9hPXZlYzIoZGlzcGxheV9zaXplX2EueCpmcm9tU2NhbGUvdGlsZVpvb21SYXRpbyxkaXNwbGF5X3NpemVfYS55KTt2ZWMyIHBhdHRlcm5fc2l6ZV9iPXZlYzIoZGlzcGxheV9zaXplX2IueCp0b1NjYWxlL3RpbGVab29tUmF0aW8sZGlzcGxheV9zaXplX2IueSk7ZmxvYXQgYXNwZWN0X2E9ZGlzcGxheV9zaXplX2EueS92X3dpZHRoO2Zsb2F0IGFzcGVjdF9iPWRpc3BsYXlfc2l6ZV9iLnkvdl93aWR0aDtmbG9hdCBkaXN0PWxlbmd0aCh2X25vcm1hbCkqdl93aWR0aDIucztmbG9hdCBibHVyMj0oYmx1cisxLjAvdV9kZXZpY2VfcGl4ZWxfcmF0aW8pKnZfZ2FtbWFfc2NhbGU7ZmxvYXQgYWxwaGE9Y2xhbXAobWluKGRpc3QtKHZfd2lkdGgyLnQtYmx1cjIpLHZfd2lkdGgyLnMtZGlzdCkvYmx1cjIsMC4wLDEuMCk7ZmxvYXQgeF9hPW1vZCh2X2xpbmVzb2Zhci9wYXR0ZXJuX3NpemVfYS54KmFzcGVjdF9hLDEuMCk7ZmxvYXQgeF9iPW1vZCh2X2xpbmVzb2Zhci9wYXR0ZXJuX3NpemVfYi54KmFzcGVjdF9iLDEuMCk7ZmxvYXQgeT0wLjUqdl9ub3JtYWwueSswLjU7dmVjMiB0ZXhlbF9zaXplPTEuMC91X3RleHNpemU7dmVjMiBwb3NfYT1taXgocGF0dGVybl90bF9hKnRleGVsX3NpemUtdGV4ZWxfc2l6ZSxwYXR0ZXJuX2JyX2EqdGV4ZWxfc2l6ZSt0ZXhlbF9zaXplLHZlYzIoeF9hLHkpKTt2ZWMyIHBvc19iPW1peChwYXR0ZXJuX3RsX2IqdGV4ZWxfc2l6ZS10ZXhlbF9zaXplLHBhdHRlcm5fYnJfYip0ZXhlbF9zaXplK3RleGVsX3NpemUsdmVjMih4X2IseSkpO3ZlYzQgY29sb3I9bWl4KHRleHR1cmUyRCh1X2ltYWdlLHBvc19hKSx0ZXh0dXJlMkQodV9pbWFnZSxwb3NfYiksdV9mYWRlKTtcXG4jaWZkZWYgRk9HXFxuY29sb3I9Zm9nX2RpdGhlcihmb2dfYXBwbHlfcHJlbXVsdGlwbGllZChjb2xvcix2X2ZvZ19wb3MpKTtcXG4jZW5kaWZcXG5nbF9GcmFnQ29sb3I9Y29sb3IqKGFscGhhKm9wYWNpdHkpO1xcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcXG5nbF9GcmFnQ29sb3I9dmVjNCgxLjApO1xcbiNlbmRpZlxcbn1cIixcIlxcbiNkZWZpbmUgc2NhbGUgMC4wMTU4NzMwMTZcXG5hdHRyaWJ1dGUgdmVjMiBhX3Bvc19ub3JtYWw7YXR0cmlidXRlIHZlYzQgYV9kYXRhO2F0dHJpYnV0ZSBmbG9hdCBhX2xpbmVzb2Zhcjt1bmlmb3JtIG1hdDQgdV9tYXRyaXg7dW5pZm9ybSB2ZWMyIHVfdW5pdHNfdG9fcGl4ZWxzO3VuaWZvcm0gbWF0MiB1X3BpeGVsc190b190aWxlX3VuaXRzO3VuaWZvcm0gbG93cCBmbG9hdCB1X2RldmljZV9waXhlbF9yYXRpbzt2YXJ5aW5nIHZlYzIgdl9ub3JtYWw7dmFyeWluZyB2ZWMyIHZfd2lkdGgyO3ZhcnlpbmcgZmxvYXQgdl9saW5lc29mYXI7dmFyeWluZyBmbG9hdCB2X2dhbW1hX3NjYWxlO3ZhcnlpbmcgZmxvYXQgdl93aWR0aDtcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgYmx1clxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9mZnNldFxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbWVkaXVtcCBmbG9hdCBnYXB3aWR0aFxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbWVkaXVtcCBmbG9hdCB3aWR0aFxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBmbG9vcndpZHRoXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIHZlYzQgcGF0dGVybl9mcm9tXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIHZlYzQgcGF0dGVybl90b1xcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBwaXhlbF9yYXRpb19mcm9tXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IHBpeGVsX3JhdGlvX3RvXFxudm9pZCBtYWluKCkge1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgYmx1clxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb2Zmc2V0XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCBmbG9hdCBnYXB3aWR0aFxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIG1lZGl1bXAgZmxvYXQgd2lkdGhcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IGZsb29yd2lkdGhcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIHZlYzQgcGF0dGVybl9mcm9tXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCB2ZWM0IHBhdHRlcm5fdG9cXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IHBpeGVsX3JhdGlvX2Zyb21cXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IHBpeGVsX3JhdGlvX3RvXFxuZmxvYXQgQU5USUFMSUFTSU5HPTEuMC91X2RldmljZV9waXhlbF9yYXRpby8yLjA7dmVjMiBhX2V4dHJ1ZGU9YV9kYXRhLnh5LTEyOC4wO2Zsb2F0IGFfZGlyZWN0aW9uPW1vZChhX2RhdGEueiw0LjApLTEuMDt2ZWMyIHBvcz1mbG9vcihhX3Bvc19ub3JtYWwqMC41KTttZWRpdW1wIHZlYzIgbm9ybWFsPWFfcG9zX25vcm1hbC0yLjAqcG9zO25vcm1hbC55PW5vcm1hbC55KjIuMC0xLjA7dl9ub3JtYWw9bm9ybWFsO2dhcHdpZHRoPWdhcHdpZHRoLzIuMDtmbG9hdCBoYWxmd2lkdGg9d2lkdGgvMi4wO29mZnNldD0tMS4wKm9mZnNldDtmbG9hdCBpbnNldD1nYXB3aWR0aCsoZ2Fwd2lkdGggPiAwLjAgPyBBTlRJQUxJQVNJTkcgOiAwLjApO2Zsb2F0IG91dHNldD1nYXB3aWR0aCtoYWxmd2lkdGgqKGdhcHdpZHRoID4gMC4wID8gMi4wIDogMS4wKSsoaGFsZndpZHRoPT0wLjAgPyAwLjAgOiBBTlRJQUxJQVNJTkcpO21lZGl1bXAgdmVjMiBkaXN0PW91dHNldCphX2V4dHJ1ZGUqc2NhbGU7bWVkaXVtcCBmbG9hdCB1PTAuNSphX2RpcmVjdGlvbjttZWRpdW1wIGZsb2F0IHQ9MS4wLWFicyh1KTttZWRpdW1wIHZlYzIgb2Zmc2V0Mj1vZmZzZXQqYV9leHRydWRlKnNjYWxlKm5vcm1hbC55Km1hdDIodCwtdSx1LHQpO3ZlYzQgcHJvamVjdGVkX2V4dHJ1ZGU9dV9tYXRyaXgqdmVjNChkaXN0KnVfcGl4ZWxzX3RvX3RpbGVfdW5pdHMsMC4wLDAuMCk7Z2xfUG9zaXRpb249dV9tYXRyaXgqdmVjNChwb3Mrb2Zmc2V0Mip1X3BpeGVsc190b190aWxlX3VuaXRzLDAuMCwxLjApK3Byb2plY3RlZF9leHRydWRlO1xcbiNpZm5kZWYgUkVOREVSX1RPX1RFWFRVUkVcXG5mbG9hdCBleHRydWRlX2xlbmd0aF93aXRob3V0X3BlcnNwZWN0aXZlPWxlbmd0aChkaXN0KTtmbG9hdCBleHRydWRlX2xlbmd0aF93aXRoX3BlcnNwZWN0aXZlPWxlbmd0aChwcm9qZWN0ZWRfZXh0cnVkZS54eS9nbF9Qb3NpdGlvbi53KnVfdW5pdHNfdG9fcGl4ZWxzKTt2X2dhbW1hX3NjYWxlPWV4dHJ1ZGVfbGVuZ3RoX3dpdGhvdXRfcGVyc3BlY3RpdmUvZXh0cnVkZV9sZW5ndGhfd2l0aF9wZXJzcGVjdGl2ZTtcXG4jZWxzZVxcbnZfZ2FtbWFfc2NhbGU9MS4wO1xcbiNlbmRpZlxcbnZfbGluZXNvZmFyPWFfbGluZXNvZmFyO3Zfd2lkdGgyPXZlYzIob3V0c2V0LGluc2V0KTt2X3dpZHRoPWZsb29yd2lkdGg7XFxuI2lmZGVmIEZPR1xcbnZfZm9nX3Bvcz1mb2dfcG9zaXRpb24ocG9zKTtcXG4jZW5kaWZcXG59XCIpLHJhc3RlcjpwaShcInVuaWZvcm0gZmxvYXQgdV9mYWRlX3Q7dW5pZm9ybSBmbG9hdCB1X29wYWNpdHk7dW5pZm9ybSBzYW1wbGVyMkQgdV9pbWFnZTA7dW5pZm9ybSBzYW1wbGVyMkQgdV9pbWFnZTE7dmFyeWluZyB2ZWMyIHZfcG9zMDt2YXJ5aW5nIHZlYzIgdl9wb3MxO3VuaWZvcm0gZmxvYXQgdV9icmlnaHRuZXNzX2xvdzt1bmlmb3JtIGZsb2F0IHVfYnJpZ2h0bmVzc19oaWdoO3VuaWZvcm0gZmxvYXQgdV9zYXR1cmF0aW9uX2ZhY3Rvcjt1bmlmb3JtIGZsb2F0IHVfY29udHJhc3RfZmFjdG9yO3VuaWZvcm0gdmVjMyB1X3NwaW5fd2VpZ2h0czt2b2lkIG1haW4oKSB7dmVjNCBjb2xvcjA9dGV4dHVyZTJEKHVfaW1hZ2UwLHZfcG9zMCk7dmVjNCBjb2xvcjE9dGV4dHVyZTJEKHVfaW1hZ2UxLHZfcG9zMSk7aWYgKGNvbG9yMC5hID4gMC4wKSB7Y29sb3IwLnJnYj1jb2xvcjAucmdiL2NvbG9yMC5hO31pZiAoY29sb3IxLmEgPiAwLjApIHtjb2xvcjEucmdiPWNvbG9yMS5yZ2IvY29sb3IxLmE7fXZlYzQgY29sb3I9bWl4KGNvbG9yMCxjb2xvcjEsdV9mYWRlX3QpO2NvbG9yLmEqPXVfb3BhY2l0eTt2ZWMzIHJnYj1jb2xvci5yZ2I7cmdiPXZlYzMoXFxuZG90KHJnYix1X3NwaW5fd2VpZ2h0cy54eXopLGRvdChyZ2IsdV9zcGluX3dlaWdodHMuenh5KSxkb3QocmdiLHVfc3Bpbl93ZWlnaHRzLnl6eCkpO2Zsb2F0IGF2ZXJhZ2U9KGNvbG9yLnIrY29sb3IuZytjb2xvci5iKS8zLjA7cmdiKz0oYXZlcmFnZS1yZ2IpKnVfc2F0dXJhdGlvbl9mYWN0b3I7cmdiPShyZ2ItMC41KSp1X2NvbnRyYXN0X2ZhY3RvciswLjU7dmVjMyB1X2hpZ2hfdmVjPXZlYzModV9icmlnaHRuZXNzX2xvdyx1X2JyaWdodG5lc3NfbG93LHVfYnJpZ2h0bmVzc19sb3cpO3ZlYzMgdV9sb3dfdmVjPXZlYzModV9icmlnaHRuZXNzX2hpZ2gsdV9icmlnaHRuZXNzX2hpZ2gsdV9icmlnaHRuZXNzX2hpZ2gpO3ZlYzMgb3V0X2NvbG9yPW1peCh1X2hpZ2hfdmVjLHVfbG93X3ZlYyxyZ2IpO1xcbiNpZmRlZiBGT0dcXG5vdXRfY29sb3I9Zm9nX2RpdGhlcihmb2dfYXBwbHkob3V0X2NvbG9yLHZfZm9nX3BvcykpO1xcbiNlbmRpZlxcbmdsX0ZyYWdDb2xvcj12ZWM0KG91dF9jb2xvcipjb2xvci5hLGNvbG9yLmEpO1xcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcXG5nbF9GcmFnQ29sb3I9dmVjNCgxLjApO1xcbiNlbmRpZlxcbn1cIixcInVuaWZvcm0gbWF0NCB1X21hdHJpeDt1bmlmb3JtIHZlYzIgdV90bF9wYXJlbnQ7dW5pZm9ybSBmbG9hdCB1X3NjYWxlX3BhcmVudDt1bmlmb3JtIHZlYzIgdV9wZXJzcGVjdGl2ZV90cmFuc2Zvcm07YXR0cmlidXRlIHZlYzIgYV9wb3M7YXR0cmlidXRlIHZlYzIgYV90ZXh0dXJlX3Bvczt2YXJ5aW5nIHZlYzIgdl9wb3MwO3ZhcnlpbmcgdmVjMiB2X3BvczE7dm9pZCBtYWluKCkge2Zsb2F0IHc9MS4wK2RvdChhX3RleHR1cmVfcG9zLHVfcGVyc3BlY3RpdmVfdHJhbnNmb3JtKTtnbF9Qb3NpdGlvbj11X21hdHJpeCp2ZWM0KGFfcG9zKncsMCx3KTt2X3BvczA9YV90ZXh0dXJlX3Bvcy84MTkyLjA7dl9wb3MxPSh2X3BvczAqdV9zY2FsZV9wYXJlbnQpK3VfdGxfcGFyZW50O1xcbiNpZmRlZiBGT0dcXG52X2ZvZ19wb3M9Zm9nX3Bvc2l0aW9uKGFfcG9zKTtcXG4jZW5kaWZcXG59XCIpLHN5bWJvbEljb246cGkoXCJ1bmlmb3JtIHNhbXBsZXIyRCB1X3RleHR1cmU7dmFyeWluZyB2ZWMyIHZfdGV4O3ZhcnlpbmcgZmxvYXQgdl9mYWRlX29wYWNpdHk7XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG52b2lkIG1haW4oKSB7XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XFxubG93cCBmbG9hdCBhbHBoYT1vcGFjaXR5KnZfZmFkZV9vcGFjaXR5O2dsX0ZyYWdDb2xvcj10ZXh0dXJlMkQodV90ZXh0dXJlLHZfdGV4KSphbHBoYTtcXG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXFxuZ2xfRnJhZ0NvbG9yPXZlYzQoMS4wKTtcXG4jZW5kaWZcXG59XCIsXCJhdHRyaWJ1dGUgdmVjNCBhX3Bvc19vZmZzZXQ7YXR0cmlidXRlIHZlYzQgYV90ZXhfc2l6ZTthdHRyaWJ1dGUgdmVjNCBhX3BpeGVsb2Zmc2V0O2F0dHJpYnV0ZSB2ZWM0IGFfcHJvamVjdGVkX3BvczthdHRyaWJ1dGUgZmxvYXQgYV9mYWRlX29wYWNpdHk7XFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbmF0dHJpYnV0ZSB2ZWMzIGFfZ2xvYmVfYW5jaG9yO2F0dHJpYnV0ZSB2ZWMzIGFfZ2xvYmVfbm9ybWFsO1xcbiNlbmRpZlxcbnVuaWZvcm0gYm9vbCB1X2lzX3NpemVfem9vbV9jb25zdGFudDt1bmlmb3JtIGJvb2wgdV9pc19zaXplX2ZlYXR1cmVfY29uc3RhbnQ7dW5pZm9ybSBoaWdocCBmbG9hdCB1X3NpemVfdDt1bmlmb3JtIGhpZ2hwIGZsb2F0IHVfc2l6ZTt1bmlmb3JtIGhpZ2hwIGZsb2F0IHVfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZTt1bmlmb3JtIGJvb2wgdV9yb3RhdGVfc3ltYm9sO3VuaWZvcm0gaGlnaHAgZmxvYXQgdV9hc3BlY3RfcmF0aW87dW5pZm9ybSBmbG9hdCB1X2ZhZGVfY2hhbmdlO3VuaWZvcm0gbWF0NCB1X21hdHJpeDt1bmlmb3JtIG1hdDQgdV9sYWJlbF9wbGFuZV9tYXRyaXg7dW5pZm9ybSBtYXQ0IHVfY29vcmRfbWF0cml4O3VuaWZvcm0gYm9vbCB1X2lzX3RleHQ7dW5pZm9ybSBib29sIHVfcGl0Y2hfd2l0aF9tYXA7dW5pZm9ybSB2ZWMyIHVfdGV4c2l6ZTt1bmlmb3JtIHZlYzMgdV91cF92ZWN0b3I7XFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbnVuaWZvcm0gdmVjMyB1X3RpbGVfaWQ7dW5pZm9ybSBtYXQ0IHVfaW52X3JvdF9tYXRyaXg7dW5pZm9ybSB2ZWMyIHVfbWVyY19jZW50ZXI7dW5pZm9ybSB2ZWMzIHVfY2FtZXJhX2ZvcndhcmQ7dW5pZm9ybSBmbG9hdCB1X3pvb21fdHJhbnNpdGlvbjt1bmlmb3JtIHZlYzMgdV9lY2VmX29yaWdpbjt1bmlmb3JtIG1hdDQgdV90aWxlX21hdHJpeDtcXG4jZW5kaWZcXG52YXJ5aW5nIHZlYzIgdl90ZXg7dmFyeWluZyBmbG9hdCB2X2ZhZGVfb3BhY2l0eTtcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb3BhY2l0eVxcbnZvaWQgbWFpbigpIHtcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG52ZWMyIGFfcG9zPWFfcG9zX29mZnNldC54eTt2ZWMyIGFfb2Zmc2V0PWFfcG9zX29mZnNldC56dzt2ZWMyIGFfdGV4PWFfdGV4X3NpemUueHk7dmVjMiBhX3NpemU9YV90ZXhfc2l6ZS56dztmbG9hdCBhX3NpemVfbWluPWZsb29yKGFfc2l6ZVswXSowLjUpO3ZlYzIgYV9weG9mZnNldD1hX3BpeGVsb2Zmc2V0Lnh5O3ZlYzIgYV9taW5fZm9udF9zY2FsZT1hX3BpeGVsb2Zmc2V0Lnp3LzI1Ni4wO2hpZ2hwIGZsb2F0IHNlZ21lbnRfYW5nbGU9LWFfcHJvamVjdGVkX3Bvc1szXTtmbG9hdCBzaXplO2lmICghdV9pc19zaXplX3pvb21fY29uc3RhbnQgJiYgIXVfaXNfc2l6ZV9mZWF0dXJlX2NvbnN0YW50KSB7c2l6ZT1taXgoYV9zaXplX21pbixhX3NpemVbMV0sdV9zaXplX3QpLzEyOC4wO30gZWxzZSBpZiAodV9pc19zaXplX3pvb21fY29uc3RhbnQgJiYgIXVfaXNfc2l6ZV9mZWF0dXJlX2NvbnN0YW50KSB7c2l6ZT1hX3NpemVfbWluLzEyOC4wO30gZWxzZSB7c2l6ZT11X3NpemU7fXZlYzIgdGlsZV9hbmNob3I9YV9wb3M7dmVjMyBoPWVsZXZhdGlvblZlY3Rvcih0aWxlX2FuY2hvcikqZWxldmF0aW9uKHRpbGVfYW5jaG9yKTtmbG9hdCBnbG9iZV9vY2NsdXNpb25fZmFkZTt2ZWMzIHdvcmxkX3Bvczt2ZWMzIG1lcmNhdG9yX3BvcztcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxubWVyY2F0b3JfcG9zPW1lcmNhdG9yX3RpbGVfcG9zaXRpb24odV9pbnZfcm90X21hdHJpeCx0aWxlX2FuY2hvcix1X3RpbGVfaWQsdV9tZXJjX2NlbnRlcik7d29ybGRfcG9zPW1peF9nbG9iZV9tZXJjYXRvcihhX2dsb2JlX2FuY2hvcitoLG1lcmNhdG9yX3Bvcyx1X3pvb21fdHJhbnNpdGlvbik7dmVjNCBlY2VmX3BvaW50PXVfdGlsZV9tYXRyaXgqdmVjNCh3b3JsZF9wb3MsMS4wKTt2ZWMzIG9yaWdpbl90b19wb2ludD1lY2VmX3BvaW50Lnh5ei11X2VjZWZfb3JpZ2luO2dsb2JlX29jY2x1c2lvbl9mYWRlPWRvdChvcmlnaW5fdG9fcG9pbnQsdV9jYW1lcmFfZm9yd2FyZCkgPj0wLjAgPyAwLjAgOiAxLjA7XFxuI2Vsc2VcXG53b3JsZF9wb3M9dmVjMyh0aWxlX2FuY2hvciwwKStoO2dsb2JlX29jY2x1c2lvbl9mYWRlPTEuMDtcXG4jZW5kaWZcXG52ZWM0IHByb2plY3RlZF9wb2ludD11X21hdHJpeCp2ZWM0KHdvcmxkX3BvcywxKTtoaWdocCBmbG9hdCBjYW1lcmFfdG9fYW5jaG9yX2Rpc3RhbmNlPXByb2plY3RlZF9wb2ludC53O2hpZ2hwIGZsb2F0IGRpc3RhbmNlX3JhdGlvPXVfcGl0Y2hfd2l0aF9tYXAgP1xcbmNhbWVyYV90b19hbmNob3JfZGlzdGFuY2UvdV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlIDpcXG51X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2UvY2FtZXJhX3RvX2FuY2hvcl9kaXN0YW5jZTtoaWdocCBmbG9hdCBwZXJzcGVjdGl2ZV9yYXRpbz1jbGFtcChcXG4wLjUrMC41KmRpc3RhbmNlX3JhdGlvLDAuMCwxLjUpO3NpemUqPXBlcnNwZWN0aXZlX3JhdGlvO2Zsb2F0IGZvbnRfc2NhbGU9dV9pc190ZXh0ID8gc2l6ZS8yNC4wIDogc2l6ZTtoaWdocCBmbG9hdCBzeW1ib2xfcm90YXRpb249MC4wO2lmICh1X3JvdGF0ZV9zeW1ib2wpIHt2ZWM0IG9mZnNldFByb2plY3RlZF9wb2ludDtcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxudmVjMyBkaXNwbGFjZW1lbnQ9dmVjMyhhX2dsb2JlX25vcm1hbC56LDAsLWFfZ2xvYmVfbm9ybWFsLngpO29mZnNldFByb2plY3RlZF9wb2ludD11X21hdHJpeCp2ZWM0KGFfZ2xvYmVfYW5jaG9yK2Rpc3BsYWNlbWVudCwxKTtcXG4jZWxzZVxcbm9mZnNldFByb2plY3RlZF9wb2ludD11X21hdHJpeCp2ZWM0KHRpbGVfYW5jaG9yK3ZlYzIoMSwwKSwwLDEpO1xcbiNlbmRpZlxcbnZlYzIgYT1wcm9qZWN0ZWRfcG9pbnQueHkvcHJvamVjdGVkX3BvaW50Lnc7dmVjMiBiPW9mZnNldFByb2plY3RlZF9wb2ludC54eS9vZmZzZXRQcm9qZWN0ZWRfcG9pbnQudztzeW1ib2xfcm90YXRpb249YXRhbigoYi55LWEueSkvdV9hc3BlY3RfcmF0aW8sYi54LWEueCk7fXZlYzQgcHJvamVjdGVkX3BvcztcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxudmVjMyBwcm9qX3Bvcz1taXhfZ2xvYmVfbWVyY2F0b3IoYV9wcm9qZWN0ZWRfcG9zLnh5eitoLG1lcmNhdG9yX3Bvcyx1X3pvb21fdHJhbnNpdGlvbik7cHJvamVjdGVkX3Bvcz11X2xhYmVsX3BsYW5lX21hdHJpeCp2ZWM0KHByb2pfcG9zLDEuMCk7XFxuI2Vsc2VcXG5wcm9qZWN0ZWRfcG9zPXVfbGFiZWxfcGxhbmVfbWF0cml4KnZlYzQoYV9wcm9qZWN0ZWRfcG9zLnh5LGgueiwxLjApO1xcbiNlbmRpZlxcbmhpZ2hwIGZsb2F0IGFuZ2xlX3Npbj1zaW4oc2VnbWVudF9hbmdsZStzeW1ib2xfcm90YXRpb24pO2hpZ2hwIGZsb2F0IGFuZ2xlX2Nvcz1jb3Moc2VnbWVudF9hbmdsZStzeW1ib2xfcm90YXRpb24pO21hdDIgcm90YXRpb25fbWF0cml4PW1hdDIoYW5nbGVfY29zLC0xLjAqYW5nbGVfc2luLGFuZ2xlX3NpbixhbmdsZV9jb3MpO2Zsb2F0IHo9MC4wO3ZlYzIgb2Zmc2V0PXJvdGF0aW9uX21hdHJpeCooYV9vZmZzZXQvMzIuMCptYXgoYV9taW5fZm9udF9zY2FsZSxmb250X3NjYWxlKSthX3B4b2Zmc2V0LzE2LjApO1xcbiNpZmRlZiBURVJSQUlOXFxuI2lmZGVmIFBJVENIX1dJVEhfTUFQX1RFUlJBSU5cXG52ZWM0IHRpbGVfcG9zPXVfbGFiZWxfcGxhbmVfbWF0cml4X2ludip2ZWM0KGFfcHJvamVjdGVkX3Bvcy54eStvZmZzZXQsMC4wLDEuMCk7ej1lbGV2YXRpb24odGlsZV9wb3MueHkpO1xcbiNlbmRpZlxcbiNlbmRpZlxcbmZsb2F0IG9jY2x1c2lvbl9mYWRlPW9jY2x1c2lvbkZhZGUocHJvamVjdGVkX3BvaW50KSpnbG9iZV9vY2NsdXNpb25fZmFkZTtcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxudmVjMyB4QXhpcz11X3BpdGNoX3dpdGhfbWFwID8gbm9ybWFsaXplKGNyb3NzKGFfZ2xvYmVfbm9ybWFsLHVfdXBfdmVjdG9yKSkgOiB2ZWMzKDEsMCwwKTt2ZWMzIHlBeGlzPXVfcGl0Y2hfd2l0aF9tYXAgPyBub3JtYWxpemUoY3Jvc3MoYV9nbG9iZV9ub3JtYWwseEF4aXMpKSA6IHZlYzMoMCwxLDApO2dsX1Bvc2l0aW9uPW1peCh1X2Nvb3JkX21hdHJpeCp2ZWM0KHByb2plY3RlZF9wb3MueHl6L3Byb2plY3RlZF9wb3Mudyt4QXhpcypvZmZzZXQueCt5QXhpcypvZmZzZXQueSwxLjApLEFXQVksZmxvYXQocHJvamVjdGVkX3BvaW50LncgPD0wLjAgfHwgb2NjbHVzaW9uX2ZhZGU9PTAuMCkpO1xcbiNlbHNlXFxuZ2xfUG9zaXRpb249bWl4KHVfY29vcmRfbWF0cml4KnZlYzQocHJvamVjdGVkX3Bvcy54eS9wcm9qZWN0ZWRfcG9zLncrb2Zmc2V0LHosMS4wKSxBV0FZLGZsb2F0KHByb2plY3RlZF9wb2ludC53IDw9MC4wIHx8IG9jY2x1c2lvbl9mYWRlPT0wLjApKTtcXG4jZW5kaWZcXG5mbG9hdCBwcm9qZWN0aW9uX3RyYW5zaXRpb25fZmFkZT0xLjA7XFxuI2lmIGRlZmluZWQoUFJPSkVDVEVEX1BPU19PTl9WSUVXUE9SVCkgJiYgZGVmaW5lZChQUk9KRUNUSU9OX0dMT0JFX1ZJRVcpXFxucHJvamVjdGlvbl90cmFuc2l0aW9uX2ZhZGU9MS4wLXN0ZXAoRVBTSUxPTix1X3pvb21fdHJhbnNpdGlvbik7XFxuI2VuZGlmXFxudl90ZXg9YV90ZXgvdV90ZXhzaXplO3ZlYzIgZmFkZV9vcGFjaXR5PXVucGFja19vcGFjaXR5KGFfZmFkZV9vcGFjaXR5KTtmbG9hdCBmYWRlX2NoYW5nZT1mYWRlX29wYWNpdHlbMV0gPiAwLjUgPyB1X2ZhZGVfY2hhbmdlIDotdV9mYWRlX2NoYW5nZTt2X2ZhZGVfb3BhY2l0eT1tYXgoMC4wLG1pbihvY2NsdXNpb25fZmFkZSxmYWRlX29wYWNpdHlbMF0rZmFkZV9jaGFuZ2UpKSpwcm9qZWN0aW9uX3RyYW5zaXRpb25fZmFkZTt9XCIpLHN5bWJvbFNERjpwaShcIiNkZWZpbmUgU0RGX1BYIDguMFxcbnVuaWZvcm0gYm9vbCB1X2lzX2hhbG87dW5pZm9ybSBzYW1wbGVyMkQgdV90ZXh0dXJlO3VuaWZvcm0gaGlnaHAgZmxvYXQgdV9nYW1tYV9zY2FsZTt1bmlmb3JtIGxvd3AgZmxvYXQgdV9kZXZpY2VfcGl4ZWxfcmF0aW87dW5pZm9ybSBib29sIHVfaXNfdGV4dDt2YXJ5aW5nIHZlYzIgdl9kYXRhMDt2YXJ5aW5nIHZlYzMgdl9kYXRhMTtcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIHZlYzQgZmlsbF9jb2xvclxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgdmVjNCBoYWxvX2NvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgaGFsb193aWR0aFxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBoYWxvX2JsdXJcXG52b2lkIG1haW4oKSB7XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgdmVjNCBmaWxsX2NvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgdmVjNCBoYWxvX2NvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBoYWxvX3dpZHRoXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBoYWxvX2JsdXJcXG5mbG9hdCBFREdFX0dBTU1BPTAuMTA1L3VfZGV2aWNlX3BpeGVsX3JhdGlvO3ZlYzIgdGV4PXZfZGF0YTAueHk7ZmxvYXQgZ2FtbWFfc2NhbGU9dl9kYXRhMS54O2Zsb2F0IHNpemU9dl9kYXRhMS55O2Zsb2F0IGZhZGVfb3BhY2l0eT12X2RhdGExWzJdO2Zsb2F0IGZvbnRTY2FsZT11X2lzX3RleHQgPyBzaXplLzI0LjAgOiBzaXplO2xvd3AgdmVjNCBjb2xvcj1maWxsX2NvbG9yO2hpZ2hwIGZsb2F0IGdhbW1hPUVER0VfR0FNTUEvKGZvbnRTY2FsZSp1X2dhbW1hX3NjYWxlKTtsb3dwIGZsb2F0IGJ1ZmY9KDI1Ni4wLTY0LjApLzI1Ni4wO2lmICh1X2lzX2hhbG8pIHtjb2xvcj1oYWxvX2NvbG9yO2dhbW1hPShoYWxvX2JsdXIqMS4xOS9TREZfUFgrRURHRV9HQU1NQSkvKGZvbnRTY2FsZSp1X2dhbW1hX3NjYWxlKTtidWZmPSg2LjAtaGFsb193aWR0aC9mb250U2NhbGUpL1NERl9QWDt9bG93cCBmbG9hdCBkaXN0PXRleHR1cmUyRCh1X3RleHR1cmUsdGV4KS5hO2hpZ2hwIGZsb2F0IGdhbW1hX3NjYWxlZD1nYW1tYSpnYW1tYV9zY2FsZTtoaWdocCBmbG9hdCBhbHBoYT1zbW9vdGhzdGVwKGJ1ZmYtZ2FtbWFfc2NhbGVkLGJ1ZmYrZ2FtbWFfc2NhbGVkLGRpc3QpO2dsX0ZyYWdDb2xvcj1jb2xvciooYWxwaGEqb3BhY2l0eSpmYWRlX29wYWNpdHkpO1xcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcXG5nbF9GcmFnQ29sb3I9dmVjNCgxLjApO1xcbiNlbmRpZlxcbn1cIixcImF0dHJpYnV0ZSB2ZWM0IGFfcG9zX29mZnNldDthdHRyaWJ1dGUgdmVjNCBhX3RleF9zaXplO2F0dHJpYnV0ZSB2ZWM0IGFfcGl4ZWxvZmZzZXQ7YXR0cmlidXRlIHZlYzQgYV9wcm9qZWN0ZWRfcG9zO2F0dHJpYnV0ZSBmbG9hdCBhX2ZhZGVfb3BhY2l0eTtcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxuYXR0cmlidXRlIHZlYzMgYV9nbG9iZV9hbmNob3I7YXR0cmlidXRlIHZlYzMgYV9nbG9iZV9ub3JtYWw7XFxuI2VuZGlmXFxudW5pZm9ybSBib29sIHVfaXNfc2l6ZV96b29tX2NvbnN0YW50O3VuaWZvcm0gYm9vbCB1X2lzX3NpemVfZmVhdHVyZV9jb25zdGFudDt1bmlmb3JtIGhpZ2hwIGZsb2F0IHVfc2l6ZV90O3VuaWZvcm0gaGlnaHAgZmxvYXQgdV9zaXplO3VuaWZvcm0gbWF0NCB1X21hdHJpeDt1bmlmb3JtIG1hdDQgdV9sYWJlbF9wbGFuZV9tYXRyaXg7dW5pZm9ybSBtYXQ0IHVfY29vcmRfbWF0cml4O3VuaWZvcm0gYm9vbCB1X2lzX3RleHQ7dW5pZm9ybSBib29sIHVfcGl0Y2hfd2l0aF9tYXA7dW5pZm9ybSBib29sIHVfcm90YXRlX3N5bWJvbDt1bmlmb3JtIGhpZ2hwIGZsb2F0IHVfYXNwZWN0X3JhdGlvO3VuaWZvcm0gaGlnaHAgZmxvYXQgdV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlO3VuaWZvcm0gZmxvYXQgdV9mYWRlX2NoYW5nZTt1bmlmb3JtIHZlYzIgdV90ZXhzaXplO3VuaWZvcm0gdmVjMyB1X3VwX3ZlY3RvcjtcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxudW5pZm9ybSB2ZWMzIHVfdGlsZV9pZDt1bmlmb3JtIG1hdDQgdV9pbnZfcm90X21hdHJpeDt1bmlmb3JtIHZlYzIgdV9tZXJjX2NlbnRlcjt1bmlmb3JtIHZlYzMgdV9jYW1lcmFfZm9yd2FyZDt1bmlmb3JtIGZsb2F0IHVfem9vbV90cmFuc2l0aW9uO3VuaWZvcm0gdmVjMyB1X2VjZWZfb3JpZ2luO3VuaWZvcm0gbWF0NCB1X3RpbGVfbWF0cml4O1xcbiNlbmRpZlxcbnZhcnlpbmcgdmVjMiB2X2RhdGEwO3ZhcnlpbmcgdmVjMyB2X2RhdGExO1xcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgdmVjNCBmaWxsX2NvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCB2ZWM0IGhhbG9fY29sb3JcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb3BhY2l0eVxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBoYWxvX3dpZHRoXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGhhbG9fYmx1clxcbnZvaWQgbWFpbigpIHtcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCB2ZWM0IGZpbGxfY29sb3JcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCB2ZWM0IGhhbG9fY29sb3JcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IGhhbG9fd2lkdGhcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IGhhbG9fYmx1clxcbnZlYzIgYV9wb3M9YV9wb3Nfb2Zmc2V0Lnh5O3ZlYzIgYV9vZmZzZXQ9YV9wb3Nfb2Zmc2V0Lnp3O3ZlYzIgYV90ZXg9YV90ZXhfc2l6ZS54eTt2ZWMyIGFfc2l6ZT1hX3RleF9zaXplLnp3O2Zsb2F0IGFfc2l6ZV9taW49Zmxvb3IoYV9zaXplWzBdKjAuNSk7dmVjMiBhX3B4b2Zmc2V0PWFfcGl4ZWxvZmZzZXQueHk7aGlnaHAgZmxvYXQgc2VnbWVudF9hbmdsZT0tYV9wcm9qZWN0ZWRfcG9zWzNdO2Zsb2F0IHNpemU7aWYgKCF1X2lzX3NpemVfem9vbV9jb25zdGFudCAmJiAhdV9pc19zaXplX2ZlYXR1cmVfY29uc3RhbnQpIHtzaXplPW1peChhX3NpemVfbWluLGFfc2l6ZVsxXSx1X3NpemVfdCkvMTI4LjA7fSBlbHNlIGlmICh1X2lzX3NpemVfem9vbV9jb25zdGFudCAmJiAhdV9pc19zaXplX2ZlYXR1cmVfY29uc3RhbnQpIHtzaXplPWFfc2l6ZV9taW4vMTI4LjA7fSBlbHNlIHtzaXplPXVfc2l6ZTt9dmVjMiB0aWxlX2FuY2hvcj1hX3Bvczt2ZWMzIGg9ZWxldmF0aW9uVmVjdG9yKHRpbGVfYW5jaG9yKSplbGV2YXRpb24odGlsZV9hbmNob3IpO2Zsb2F0IGdsb2JlX29jY2x1c2lvbl9mYWRlO3ZlYzMgd29ybGRfcG9zO3ZlYzMgbWVyY2F0b3JfcG9zO1xcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG5tZXJjYXRvcl9wb3M9bWVyY2F0b3JfdGlsZV9wb3NpdGlvbih1X2ludl9yb3RfbWF0cml4LHRpbGVfYW5jaG9yLHVfdGlsZV9pZCx1X21lcmNfY2VudGVyKTt3b3JsZF9wb3M9bWl4X2dsb2JlX21lcmNhdG9yKGFfZ2xvYmVfYW5jaG9yK2gsbWVyY2F0b3JfcG9zLHVfem9vbV90cmFuc2l0aW9uKTt2ZWM0IGVjZWZfcG9pbnQ9dV90aWxlX21hdHJpeCp2ZWM0KHdvcmxkX3BvcywxLjApO3ZlYzMgb3JpZ2luX3RvX3BvaW50PWVjZWZfcG9pbnQueHl6LXVfZWNlZl9vcmlnaW47Z2xvYmVfb2NjbHVzaW9uX2ZhZGU9ZG90KG9yaWdpbl90b19wb2ludCx1X2NhbWVyYV9mb3J3YXJkKSA+PTAuMCA/IDAuMCA6IDEuMDtcXG4jZWxzZVxcbndvcmxkX3Bvcz12ZWMzKHRpbGVfYW5jaG9yLDApK2g7Z2xvYmVfb2NjbHVzaW9uX2ZhZGU9MS4wO1xcbiNlbmRpZlxcbnZlYzQgcHJvamVjdGVkX3BvaW50PXVfbWF0cml4KnZlYzQod29ybGRfcG9zLDEpO2hpZ2hwIGZsb2F0IGNhbWVyYV90b19hbmNob3JfZGlzdGFuY2U9cHJvamVjdGVkX3BvaW50Lnc7aGlnaHAgZmxvYXQgZGlzdGFuY2VfcmF0aW89dV9waXRjaF93aXRoX21hcCA/XFxuY2FtZXJhX3RvX2FuY2hvcl9kaXN0YW5jZS91X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2UgOlxcbnVfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZS9jYW1lcmFfdG9fYW5jaG9yX2Rpc3RhbmNlO2hpZ2hwIGZsb2F0IHBlcnNwZWN0aXZlX3JhdGlvPWNsYW1wKFxcbjAuNSswLjUqZGlzdGFuY2VfcmF0aW8sMC4wLDEuNSk7c2l6ZSo9cGVyc3BlY3RpdmVfcmF0aW87ZmxvYXQgZm9udFNjYWxlPXVfaXNfdGV4dCA/IHNpemUvMjQuMCA6IHNpemU7aGlnaHAgZmxvYXQgc3ltYm9sX3JvdGF0aW9uPTAuMDtpZiAodV9yb3RhdGVfc3ltYm9sKSB7dmVjNCBvZmZzZXRwcm9qZWN0ZWRfcG9pbnQ7XFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbnZlYzMgZGlzcGxhY2VtZW50PXZlYzMoYV9nbG9iZV9ub3JtYWwueiwwLC1hX2dsb2JlX25vcm1hbC54KTtvZmZzZXRwcm9qZWN0ZWRfcG9pbnQ9dV9tYXRyaXgqdmVjNChhX2dsb2JlX2FuY2hvcitkaXNwbGFjZW1lbnQsMSk7XFxuI2Vsc2VcXG5vZmZzZXRwcm9qZWN0ZWRfcG9pbnQ9dV9tYXRyaXgqdmVjNCh0aWxlX2FuY2hvcit2ZWMyKDEsMCksMCwxKTtcXG4jZW5kaWZcXG52ZWMyIGE9cHJvamVjdGVkX3BvaW50Lnh5L3Byb2plY3RlZF9wb2ludC53O3ZlYzIgYj1vZmZzZXRwcm9qZWN0ZWRfcG9pbnQueHkvb2Zmc2V0cHJvamVjdGVkX3BvaW50Lnc7c3ltYm9sX3JvdGF0aW9uPWF0YW4oKGIueS1hLnkpL3VfYXNwZWN0X3JhdGlvLGIueC1hLngpO312ZWM0IHByb2plY3RlZF9wb3M7XFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbnZlYzMgcHJval9wb3M9bWl4X2dsb2JlX21lcmNhdG9yKGFfcHJvamVjdGVkX3Bvcy54eXoraCxtZXJjYXRvcl9wb3MsdV96b29tX3RyYW5zaXRpb24pO3Byb2plY3RlZF9wb3M9dV9sYWJlbF9wbGFuZV9tYXRyaXgqdmVjNChwcm9qX3BvcywxLjApO1xcbiNlbHNlXFxucHJvamVjdGVkX3Bvcz11X2xhYmVsX3BsYW5lX21hdHJpeCp2ZWM0KGFfcHJvamVjdGVkX3Bvcy54eSxoLnosMS4wKTtcXG4jZW5kaWZcXG5oaWdocCBmbG9hdCBhbmdsZV9zaW49c2luKHNlZ21lbnRfYW5nbGUrc3ltYm9sX3JvdGF0aW9uKTtoaWdocCBmbG9hdCBhbmdsZV9jb3M9Y29zKHNlZ21lbnRfYW5nbGUrc3ltYm9sX3JvdGF0aW9uKTttYXQyIHJvdGF0aW9uX21hdHJpeD1tYXQyKGFuZ2xlX2NvcywtMS4wKmFuZ2xlX3NpbixhbmdsZV9zaW4sYW5nbGVfY29zKTtmbG9hdCB6PTAuMDt2ZWMyIG9mZnNldD1yb3RhdGlvbl9tYXRyaXgqKGFfb2Zmc2V0LzMyLjAqZm9udFNjYWxlK2FfcHhvZmZzZXQpO1xcbiNpZmRlZiBURVJSQUlOXFxuI2lmZGVmIFBJVENIX1dJVEhfTUFQX1RFUlJBSU5cXG52ZWM0IHRpbGVfcG9zPXVfbGFiZWxfcGxhbmVfbWF0cml4X2ludip2ZWM0KGFfcHJvamVjdGVkX3Bvcy54eStvZmZzZXQsMC4wLDEuMCk7ej1lbGV2YXRpb24odGlsZV9wb3MueHkpO1xcbiNlbmRpZlxcbiNlbmRpZlxcbmZsb2F0IG9jY2x1c2lvbl9mYWRlPW9jY2x1c2lvbkZhZGUocHJvamVjdGVkX3BvaW50KSpnbG9iZV9vY2NsdXNpb25fZmFkZTtcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxudmVjMyB4QXhpcz11X3BpdGNoX3dpdGhfbWFwID8gbm9ybWFsaXplKGNyb3NzKGFfZ2xvYmVfbm9ybWFsLHVfdXBfdmVjdG9yKSkgOiB2ZWMzKDEsMCwwKTt2ZWMzIHlBeGlzPXVfcGl0Y2hfd2l0aF9tYXAgPyBub3JtYWxpemUoY3Jvc3MoYV9nbG9iZV9ub3JtYWwseEF4aXMpKSA6IHZlYzMoMCwxLDApO2dsX1Bvc2l0aW9uPW1peCh1X2Nvb3JkX21hdHJpeCp2ZWM0KHByb2plY3RlZF9wb3MueHl6L3Byb2plY3RlZF9wb3Mudyt4QXhpcypvZmZzZXQueCt5QXhpcypvZmZzZXQueSwxLjApLEFXQVksZmxvYXQocHJvamVjdGVkX3BvaW50LncgPD0wLjAgfHwgb2NjbHVzaW9uX2ZhZGU9PTAuMCkpO1xcbiNlbHNlXFxuZ2xfUG9zaXRpb249bWl4KHVfY29vcmRfbWF0cml4KnZlYzQocHJvamVjdGVkX3Bvcy54eS9wcm9qZWN0ZWRfcG9zLncrb2Zmc2V0LHosMS4wKSxBV0FZLGZsb2F0KHByb2plY3RlZF9wb2ludC53IDw9MC4wIHx8IG9jY2x1c2lvbl9mYWRlPT0wLjApKTtcXG4jZW5kaWZcXG5mbG9hdCBnYW1tYV9zY2FsZT1nbF9Qb3NpdGlvbi53O2Zsb2F0IHByb2plY3Rpb25fdHJhbnNpdGlvbl9mYWRlPTEuMDtcXG4jaWYgZGVmaW5lZChQUk9KRUNURURfUE9TX09OX1ZJRVdQT1JUKSAmJiBkZWZpbmVkKFBST0pFQ1RJT05fR0xPQkVfVklFVylcXG5wcm9qZWN0aW9uX3RyYW5zaXRpb25fZmFkZT0xLjAtc3RlcChFUFNJTE9OLHVfem9vbV90cmFuc2l0aW9uKTtcXG4jZW5kaWZcXG52ZWMyIGZhZGVfb3BhY2l0eT11bnBhY2tfb3BhY2l0eShhX2ZhZGVfb3BhY2l0eSk7ZmxvYXQgZmFkZV9jaGFuZ2U9ZmFkZV9vcGFjaXR5WzFdID4gMC41ID8gdV9mYWRlX2NoYW5nZSA6LXVfZmFkZV9jaGFuZ2U7ZmxvYXQgaW50ZXJwb2xhdGVkX2ZhZGVfb3BhY2l0eT1tYXgoMC4wLG1pbihvY2NsdXNpb25fZmFkZSxmYWRlX29wYWNpdHlbMF0rZmFkZV9jaGFuZ2UpKTt2X2RhdGEwPWFfdGV4L3VfdGV4c2l6ZTt2X2RhdGExPXZlYzMoZ2FtbWFfc2NhbGUsc2l6ZSxpbnRlcnBvbGF0ZWRfZmFkZV9vcGFjaXR5KnByb2plY3Rpb25fdHJhbnNpdGlvbl9mYWRlKTt9XCIpLHN5bWJvbFRleHRBbmRJY29uOnBpKFwiI2RlZmluZSBTREZfUFggOC4wXFxuI2RlZmluZSBTREYgMS4wXFxuI2RlZmluZSBJQ09OIDAuMFxcbnVuaWZvcm0gYm9vbCB1X2lzX2hhbG87dW5pZm9ybSBzYW1wbGVyMkQgdV90ZXh0dXJlO3VuaWZvcm0gc2FtcGxlcjJEIHVfdGV4dHVyZV9pY29uO3VuaWZvcm0gaGlnaHAgZmxvYXQgdV9nYW1tYV9zY2FsZTt1bmlmb3JtIGxvd3AgZmxvYXQgdV9kZXZpY2VfcGl4ZWxfcmF0aW87dmFyeWluZyB2ZWM0IHZfZGF0YTA7dmFyeWluZyB2ZWM0IHZfZGF0YTE7XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCB2ZWM0IGZpbGxfY29sb3JcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIHZlYzQgaGFsb19jb2xvclxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGhhbG9fd2lkdGhcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgaGFsb19ibHVyXFxudm9pZCBtYWluKCkge1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIHZlYzQgZmlsbF9jb2xvclxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIHZlYzQgaGFsb19jb2xvclxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgaGFsb193aWR0aFxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgaGFsb19ibHVyXFxuZmxvYXQgZmFkZV9vcGFjaXR5PXZfZGF0YTFbMl07aWYgKHZfZGF0YTEudz09SUNPTikge3ZlYzIgdGV4X2ljb249dl9kYXRhMC56dztsb3dwIGZsb2F0IGFscGhhPW9wYWNpdHkqZmFkZV9vcGFjaXR5O2dsX0ZyYWdDb2xvcj10ZXh0dXJlMkQodV90ZXh0dXJlX2ljb24sdGV4X2ljb24pKmFscGhhO1xcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcXG5nbF9GcmFnQ29sb3I9dmVjNCgxLjApO1xcbiNlbmRpZlxcbnJldHVybjt9dmVjMiB0ZXg9dl9kYXRhMC54eTtmbG9hdCBFREdFX0dBTU1BPTAuMTA1L3VfZGV2aWNlX3BpeGVsX3JhdGlvO2Zsb2F0IGdhbW1hX3NjYWxlPXZfZGF0YTEueDtmbG9hdCBzaXplPXZfZGF0YTEueTtmbG9hdCBmb250U2NhbGU9c2l6ZS8yNC4wO2xvd3AgdmVjNCBjb2xvcj1maWxsX2NvbG9yO2hpZ2hwIGZsb2F0IGdhbW1hPUVER0VfR0FNTUEvKGZvbnRTY2FsZSp1X2dhbW1hX3NjYWxlKTtsb3dwIGZsb2F0IGJ1ZmY9KDI1Ni4wLTY0LjApLzI1Ni4wO2lmICh1X2lzX2hhbG8pIHtjb2xvcj1oYWxvX2NvbG9yO2dhbW1hPShoYWxvX2JsdXIqMS4xOS9TREZfUFgrRURHRV9HQU1NQSkvKGZvbnRTY2FsZSp1X2dhbW1hX3NjYWxlKTtidWZmPSg2LjAtaGFsb193aWR0aC9mb250U2NhbGUpL1NERl9QWDt9bG93cCBmbG9hdCBkaXN0PXRleHR1cmUyRCh1X3RleHR1cmUsdGV4KS5hO2hpZ2hwIGZsb2F0IGdhbW1hX3NjYWxlZD1nYW1tYSpnYW1tYV9zY2FsZTtoaWdocCBmbG9hdCBhbHBoYT1zbW9vdGhzdGVwKGJ1ZmYtZ2FtbWFfc2NhbGVkLGJ1ZmYrZ2FtbWFfc2NhbGVkLGRpc3QpO2dsX0ZyYWdDb2xvcj1jb2xvciooYWxwaGEqb3BhY2l0eSpmYWRlX29wYWNpdHkpO1xcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcXG5nbF9GcmFnQ29sb3I9dmVjNCgxLjApO1xcbiNlbmRpZlxcbn1cIixcImF0dHJpYnV0ZSB2ZWM0IGFfcG9zX29mZnNldDthdHRyaWJ1dGUgdmVjNCBhX3RleF9zaXplO2F0dHJpYnV0ZSB2ZWM0IGFfcHJvamVjdGVkX3BvczthdHRyaWJ1dGUgZmxvYXQgYV9mYWRlX29wYWNpdHk7XFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbmF0dHJpYnV0ZSB2ZWMzIGFfZ2xvYmVfYW5jaG9yO2F0dHJpYnV0ZSB2ZWMzIGFfZ2xvYmVfbm9ybWFsO1xcbiNlbmRpZlxcbnVuaWZvcm0gYm9vbCB1X2lzX3NpemVfem9vbV9jb25zdGFudDt1bmlmb3JtIGJvb2wgdV9pc19zaXplX2ZlYXR1cmVfY29uc3RhbnQ7dW5pZm9ybSBoaWdocCBmbG9hdCB1X3NpemVfdDt1bmlmb3JtIGhpZ2hwIGZsb2F0IHVfc2l6ZTt1bmlmb3JtIG1hdDQgdV9tYXRyaXg7dW5pZm9ybSBtYXQ0IHVfbGFiZWxfcGxhbmVfbWF0cml4O3VuaWZvcm0gbWF0NCB1X2Nvb3JkX21hdHJpeDt1bmlmb3JtIGJvb2wgdV9pc190ZXh0O3VuaWZvcm0gYm9vbCB1X3BpdGNoX3dpdGhfbWFwO3VuaWZvcm0gYm9vbCB1X3JvdGF0ZV9zeW1ib2w7dW5pZm9ybSBoaWdocCBmbG9hdCB1X2FzcGVjdF9yYXRpbzt1bmlmb3JtIGhpZ2hwIGZsb2F0IHVfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZTt1bmlmb3JtIGZsb2F0IHVfZmFkZV9jaGFuZ2U7dW5pZm9ybSB2ZWMyIHVfdGV4c2l6ZTt1bmlmb3JtIHZlYzMgdV91cF92ZWN0b3I7dW5pZm9ybSB2ZWMyIHVfdGV4c2l6ZV9pY29uO1xcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG51bmlmb3JtIHZlYzMgdV90aWxlX2lkO3VuaWZvcm0gbWF0NCB1X2ludl9yb3RfbWF0cml4O3VuaWZvcm0gdmVjMiB1X21lcmNfY2VudGVyO3VuaWZvcm0gdmVjMyB1X2NhbWVyYV9mb3J3YXJkO3VuaWZvcm0gZmxvYXQgdV96b29tX3RyYW5zaXRpb247dW5pZm9ybSB2ZWMzIHVfZWNlZl9vcmlnaW47dW5pZm9ybSBtYXQ0IHVfdGlsZV9tYXRyaXg7XFxuI2VuZGlmXFxudmFyeWluZyB2ZWM0IHZfZGF0YTA7dmFyeWluZyB2ZWM0IHZfZGF0YTE7XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCB2ZWM0IGZpbGxfY29sb3JcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIHZlYzQgaGFsb19jb2xvclxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGhhbG9fd2lkdGhcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgaGFsb19ibHVyXFxudm9pZCBtYWluKCkge1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIHZlYzQgZmlsbF9jb2xvclxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIHZlYzQgaGFsb19jb2xvclxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgaGFsb193aWR0aFxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgaGFsb19ibHVyXFxudmVjMiBhX3Bvcz1hX3Bvc19vZmZzZXQueHk7dmVjMiBhX29mZnNldD1hX3Bvc19vZmZzZXQuenc7dmVjMiBhX3RleD1hX3RleF9zaXplLnh5O3ZlYzIgYV9zaXplPWFfdGV4X3NpemUuenc7ZmxvYXQgYV9zaXplX21pbj1mbG9vcihhX3NpemVbMF0qMC41KTtmbG9hdCBpc19zZGY9YV9zaXplWzBdLTIuMCphX3NpemVfbWluO2hpZ2hwIGZsb2F0IHNlZ21lbnRfYW5nbGU9LWFfcHJvamVjdGVkX3Bvc1szXTtmbG9hdCBzaXplO2lmICghdV9pc19zaXplX3pvb21fY29uc3RhbnQgJiYgIXVfaXNfc2l6ZV9mZWF0dXJlX2NvbnN0YW50KSB7c2l6ZT1taXgoYV9zaXplX21pbixhX3NpemVbMV0sdV9zaXplX3QpLzEyOC4wO30gZWxzZSBpZiAodV9pc19zaXplX3pvb21fY29uc3RhbnQgJiYgIXVfaXNfc2l6ZV9mZWF0dXJlX2NvbnN0YW50KSB7c2l6ZT1hX3NpemVfbWluLzEyOC4wO30gZWxzZSB7c2l6ZT11X3NpemU7fXZlYzIgdGlsZV9hbmNob3I9YV9wb3M7dmVjMyBoPWVsZXZhdGlvblZlY3Rvcih0aWxlX2FuY2hvcikqZWxldmF0aW9uKHRpbGVfYW5jaG9yKTtmbG9hdCBnbG9iZV9vY2NsdXNpb25fZmFkZTt2ZWMzIHdvcmxkX3Bvczt2ZWMzIG1lcmNhdG9yX3BvcztcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxubWVyY2F0b3JfcG9zPW1lcmNhdG9yX3RpbGVfcG9zaXRpb24odV9pbnZfcm90X21hdHJpeCx0aWxlX2FuY2hvcix1X3RpbGVfaWQsdV9tZXJjX2NlbnRlcik7d29ybGRfcG9zPW1peF9nbG9iZV9tZXJjYXRvcihhX2dsb2JlX2FuY2hvcitoLG1lcmNhdG9yX3Bvcyx1X3pvb21fdHJhbnNpdGlvbik7dmVjNCBlY2VmX3BvaW50PXVfdGlsZV9tYXRyaXgqdmVjNCh3b3JsZF9wb3MsMS4wKTt2ZWMzIG9yaWdpbl90b19wb2ludD1lY2VmX3BvaW50Lnh5ei11X2VjZWZfb3JpZ2luO2dsb2JlX29jY2x1c2lvbl9mYWRlPWRvdChvcmlnaW5fdG9fcG9pbnQsdV9jYW1lcmFfZm9yd2FyZCkgPj0wLjAgPyAwLjAgOiAxLjA7XFxuI2Vsc2VcXG53b3JsZF9wb3M9dmVjMyh0aWxlX2FuY2hvciwwKStoO2dsb2JlX29jY2x1c2lvbl9mYWRlPTEuMDtcXG4jZW5kaWZcXG52ZWM0IHByb2plY3RlZF9wb2ludD11X21hdHJpeCp2ZWM0KHdvcmxkX3BvcywxKTtoaWdocCBmbG9hdCBjYW1lcmFfdG9fYW5jaG9yX2Rpc3RhbmNlPXByb2plY3RlZF9wb2ludC53O2hpZ2hwIGZsb2F0IGRpc3RhbmNlX3JhdGlvPXVfcGl0Y2hfd2l0aF9tYXAgP1xcbmNhbWVyYV90b19hbmNob3JfZGlzdGFuY2UvdV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlIDpcXG51X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2UvY2FtZXJhX3RvX2FuY2hvcl9kaXN0YW5jZTtoaWdocCBmbG9hdCBwZXJzcGVjdGl2ZV9yYXRpbz1jbGFtcChcXG4wLjUrMC41KmRpc3RhbmNlX3JhdGlvLDAuMCwxLjUpO3NpemUqPXBlcnNwZWN0aXZlX3JhdGlvO2Zsb2F0IGZvbnRfc2NhbGU9c2l6ZS8yNC4wO2hpZ2hwIGZsb2F0IHN5bWJvbF9yb3RhdGlvbj0wLjA7aWYgKHVfcm90YXRlX3N5bWJvbCkge3ZlYzQgb2Zmc2V0X3Byb2plY3RlZF9wb2ludD11X21hdHJpeCp2ZWM0KGFfcG9zK3ZlYzIoMSwwKSwwLDEpO3ZlYzIgYT1wcm9qZWN0ZWRfcG9pbnQueHkvcHJvamVjdGVkX3BvaW50Lnc7dmVjMiBiPW9mZnNldF9wcm9qZWN0ZWRfcG9pbnQueHkvb2Zmc2V0X3Byb2plY3RlZF9wb2ludC53O3N5bWJvbF9yb3RhdGlvbj1hdGFuKChiLnktYS55KS91X2FzcGVjdF9yYXRpbyxiLngtYS54KTt9dmVjNCBwcm9qZWN0ZWRfcG9zO1xcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG52ZWMzIHByb2pfcG9zPW1peF9nbG9iZV9tZXJjYXRvcihhX3Byb2plY3RlZF9wb3MueHl6K2gsbWVyY2F0b3JfcG9zLHVfem9vbV90cmFuc2l0aW9uKTtwcm9qZWN0ZWRfcG9zPXVfbGFiZWxfcGxhbmVfbWF0cml4KnZlYzQocHJval9wb3MsMS4wKTtcXG4jZWxzZVxcbnByb2plY3RlZF9wb3M9dV9sYWJlbF9wbGFuZV9tYXRyaXgqdmVjNChhX3Byb2plY3RlZF9wb3MueHksaC56LDEuMCk7XFxuI2VuZGlmXFxuaGlnaHAgZmxvYXQgYW5nbGVfc2luPXNpbihzZWdtZW50X2FuZ2xlK3N5bWJvbF9yb3RhdGlvbik7aGlnaHAgZmxvYXQgYW5nbGVfY29zPWNvcyhzZWdtZW50X2FuZ2xlK3N5bWJvbF9yb3RhdGlvbik7bWF0MiByb3RhdGlvbl9tYXRyaXg9bWF0MihhbmdsZV9jb3MsLTEuMCphbmdsZV9zaW4sYW5nbGVfc2luLGFuZ2xlX2Nvcyk7ZmxvYXQgej0wLjA7dmVjMiBvZmZzZXQ9cm90YXRpb25fbWF0cml4KihhX29mZnNldC8zMi4wKmZvbnRfc2NhbGUpO1xcbiNpZmRlZiBURVJSQUlOXFxuI2lmZGVmIFBJVENIX1dJVEhfTUFQX1RFUlJBSU5cXG52ZWM0IHRpbGVfcG9zPXVfbGFiZWxfcGxhbmVfbWF0cml4X2ludip2ZWM0KGFfcHJvamVjdGVkX3Bvcy54eStvZmZzZXQsMC4wLDEuMCk7ej1lbGV2YXRpb24odGlsZV9wb3MueHkpO1xcbiNlbmRpZlxcbiNlbmRpZlxcbmZsb2F0IG9jY2x1c2lvbl9mYWRlPW9jY2x1c2lvbkZhZGUocHJvamVjdGVkX3BvaW50KSpnbG9iZV9vY2NsdXNpb25fZmFkZTtcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxudmVjMyB4QXhpcz11X3BpdGNoX3dpdGhfbWFwID8gbm9ybWFsaXplKGNyb3NzKGFfZ2xvYmVfbm9ybWFsLHVfdXBfdmVjdG9yKSkgOiB2ZWMzKDEsMCwwKTt2ZWMzIHlBeGlzPXVfcGl0Y2hfd2l0aF9tYXAgPyBub3JtYWxpemUoY3Jvc3MoYV9nbG9iZV9ub3JtYWwseEF4aXMpKSA6IHZlYzMoMCwxLDApO2dsX1Bvc2l0aW9uPW1peCh1X2Nvb3JkX21hdHJpeCp2ZWM0KHByb2plY3RlZF9wb3MueHl6L3Byb2plY3RlZF9wb3Mudyt4QXhpcypvZmZzZXQueCt5QXhpcypvZmZzZXQueSwxLjApLEFXQVksZmxvYXQocHJvamVjdGVkX3BvaW50LncgPD0wLjAgfHwgb2NjbHVzaW9uX2ZhZGU9PTAuMCkpO1xcbiNlbHNlXFxuZ2xfUG9zaXRpb249bWl4KHVfY29vcmRfbWF0cml4KnZlYzQocHJvamVjdGVkX3Bvcy54eS9wcm9qZWN0ZWRfcG9zLncrb2Zmc2V0LHosMS4wKSxBV0FZLGZsb2F0KHByb2plY3RlZF9wb2ludC53IDw9MC4wIHx8IG9jY2x1c2lvbl9mYWRlPT0wLjApKTtcXG4jZW5kaWZcXG5mbG9hdCBnYW1tYV9zY2FsZT1nbF9Qb3NpdGlvbi53O3ZlYzIgZmFkZV9vcGFjaXR5PXVucGFja19vcGFjaXR5KGFfZmFkZV9vcGFjaXR5KTtmbG9hdCBmYWRlX2NoYW5nZT1mYWRlX29wYWNpdHlbMV0gPiAwLjUgPyB1X2ZhZGVfY2hhbmdlIDotdV9mYWRlX2NoYW5nZTtmbG9hdCBpbnRlcnBvbGF0ZWRfZmFkZV9vcGFjaXR5PW1heCgwLjAsbWluKG9jY2x1c2lvbl9mYWRlLGZhZGVfb3BhY2l0eVswXStmYWRlX2NoYW5nZSkpO2Zsb2F0IHByb2plY3Rpb25fdHJhbnNpdGlvbl9mYWRlPTEuMDtcXG4jaWYgZGVmaW5lZChQUk9KRUNURURfUE9TX09OX1ZJRVdQT1JUKSAmJiBkZWZpbmVkKFBST0pFQ1RJT05fR0xPQkVfVklFVylcXG5wcm9qZWN0aW9uX3RyYW5zaXRpb25fZmFkZT0xLjAtc3RlcChFUFNJTE9OLHVfem9vbV90cmFuc2l0aW9uKTtcXG4jZW5kaWZcXG52X2RhdGEwLnh5PWFfdGV4L3VfdGV4c2l6ZTt2X2RhdGEwLnp3PWFfdGV4L3VfdGV4c2l6ZV9pY29uO3ZfZGF0YTE9dmVjNChnYW1tYV9zY2FsZSxzaXplLGludGVycG9sYXRlZF9mYWRlX29wYWNpdHkqcHJvamVjdGlvbl90cmFuc2l0aW9uX2ZhZGUsaXNfc2RmKTt9XCIpLHRlcnJhaW5SYXN0ZXI6cGkoXCJ1bmlmb3JtIHNhbXBsZXIyRCB1X2ltYWdlMDt2YXJ5aW5nIHZlYzIgdl9wb3MwO1xcbiNpZmRlZiBGT0dcXG52YXJ5aW5nIGZsb2F0IHZfZm9nX29wYWNpdHk7XFxuI2VuZGlmXFxuI2lmZGVmIFJFTkRFUl9TSEFET1dTXFxudmFyeWluZyB2ZWM0IHZfcG9zX2xpZ2h0X3ZpZXdfMDt2YXJ5aW5nIHZlYzQgdl9wb3NfbGlnaHRfdmlld18xO3ZhcnlpbmcgZmxvYXQgdl9kZXB0aDtcXG4jZW5kaWZcXG52b2lkIG1haW4oKSB7dmVjNCBjb2xvcj10ZXh0dXJlMkQodV9pbWFnZTAsdl9wb3MwKTtcXG4jaWZkZWYgUkVOREVSX1NIQURPV1NcXG5jb2xvci54eXo9c2hhZG93ZWRfY29sb3IoY29sb3IueHl6LHZfcG9zX2xpZ2h0X3ZpZXdfMCx2X3Bvc19saWdodF92aWV3XzEsdl9kZXB0aCk7XFxuI2VuZGlmXFxuI2lmZGVmIEZPR1xcbmNvbG9yPWZvZ19kaXRoZXIoZm9nX2FwcGx5X2Zyb21fdmVydChjb2xvcix2X2ZvZ19vcGFjaXR5KSk7XFxuI2VuZGlmXFxuZ2xfRnJhZ0NvbG9yPWNvbG9yO1xcbiNpZmRlZiBURVJSQUlOX1dJUkVGUkFNRVxcbmdsX0ZyYWdDb2xvcj12ZWM0KDEuMCwwLjAsMC4wLDAuOCk7XFxuI2VuZGlmXFxuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxcbmdsX0ZyYWdDb2xvcj12ZWM0KDEuMCk7XFxuI2VuZGlmXFxufVwiLFwidW5pZm9ybSBtYXQ0IHVfbWF0cml4O3VuaWZvcm0gZmxvYXQgdV9za2lydF9oZWlnaHQ7YXR0cmlidXRlIHZlYzIgYV9wb3M7YXR0cmlidXRlIHZlYzIgYV90ZXh0dXJlX3Bvczt2YXJ5aW5nIHZlYzIgdl9wb3MwO1xcbiNpZmRlZiBGT0dcXG52YXJ5aW5nIGZsb2F0IHZfZm9nX29wYWNpdHk7XFxuI2VuZGlmXFxuI2lmZGVmIFJFTkRFUl9TSEFET1dTXFxudW5pZm9ybSBtYXQ0IHVfbGlnaHRfbWF0cml4XzA7dW5pZm9ybSBtYXQ0IHVfbGlnaHRfbWF0cml4XzE7dmFyeWluZyB2ZWM0IHZfcG9zX2xpZ2h0X3ZpZXdfMDt2YXJ5aW5nIHZlYzQgdl9wb3NfbGlnaHRfdmlld18xO3ZhcnlpbmcgZmxvYXQgdl9kZXB0aDtcXG4jZW5kaWZcXG5jb25zdCBmbG9hdCBza2lydE9mZnNldD0yNDU3NS4wO2NvbnN0IGZsb2F0IHdpcmVmcmFtZU9mZnNldD0wLjAwMDE1O3ZvaWQgbWFpbigpIHt2X3BvczA9YV90ZXh0dXJlX3Bvcy84MTkyLjA7ZmxvYXQgc2tpcnQ9ZmxvYXQoYV9wb3MueCA+PXNraXJ0T2Zmc2V0KTtmbG9hdCBlbGV2YXRpb249ZWxldmF0aW9uKGFfdGV4dHVyZV9wb3MpLXNraXJ0KnVfc2tpcnRfaGVpZ2h0O1xcbiNpZmRlZiBURVJSQUlOX1dJUkVGUkFNRVxcbmVsZXZhdGlvbis9dV9za2lydF9oZWlnaHQqdV9za2lydF9oZWlnaHQqd2lyZWZyYW1lT2Zmc2V0O1xcbiNlbmRpZlxcbnZlYzIgZGVjb2RlZFBvcz1hX3Bvcy12ZWMyKHNraXJ0KnNraXJ0T2Zmc2V0LDAuMCk7Z2xfUG9zaXRpb249dV9tYXRyaXgqdmVjNChkZWNvZGVkUG9zLGVsZXZhdGlvbiwxLjApO1xcbiNpZmRlZiBGT0dcXG52X2ZvZ19vcGFjaXR5PWZvZyhmb2dfcG9zaXRpb24odmVjMyhkZWNvZGVkUG9zLGVsZXZhdGlvbikpKTtcXG4jZW5kaWZcXG4jaWZkZWYgUkVOREVSX1NIQURPV1NcXG52ZWMzIHBvcz12ZWMzKGRlY29kZWRQb3MsZWxldmF0aW9uKTt2X3Bvc19saWdodF92aWV3XzA9dV9saWdodF9tYXRyaXhfMCp2ZWM0KHBvcywxLik7dl9wb3NfbGlnaHRfdmlld18xPXVfbGlnaHRfbWF0cml4XzEqdmVjNChwb3MsMS4pO3ZfZGVwdGg9Z2xfUG9zaXRpb24udztcXG4jZW5kaWZcXG59XCIpLHRlcnJhaW5EZXB0aDpwaShcIiNpZmRlZiBHTF9FU1xcbnByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG4jZW5kaWZcXG52YXJ5aW5nIGZsb2F0IHZfZGVwdGg7dm9pZCBtYWluKCkge2dsX0ZyYWdDb2xvcj1wYWNrX2RlcHRoKHZfZGVwdGgpO31cIixcInVuaWZvcm0gbWF0NCB1X21hdHJpeDthdHRyaWJ1dGUgdmVjMiBhX3BvczthdHRyaWJ1dGUgdmVjMiBhX3RleHR1cmVfcG9zO3ZhcnlpbmcgZmxvYXQgdl9kZXB0aDt2b2lkIG1haW4oKSB7ZmxvYXQgZWxldmF0aW9uPWVsZXZhdGlvbihhX3RleHR1cmVfcG9zKTtnbF9Qb3NpdGlvbj11X21hdHJpeCp2ZWM0KGFfcG9zLGVsZXZhdGlvbiwxLjApO3ZfZGVwdGg9Z2xfUG9zaXRpb24uei9nbF9Qb3NpdGlvbi53O31cIiksc2t5Ym94OnBpKFwiXFxudmFyeWluZyBsb3dwIHZlYzMgdl91djt1bmlmb3JtIGxvd3Agc2FtcGxlckN1YmUgdV9jdWJlbWFwO3VuaWZvcm0gbG93cCBmbG9hdCB1X29wYWNpdHk7dW5pZm9ybSBoaWdocCBmbG9hdCB1X3RlbXBvcmFsX29mZnNldDt1bmlmb3JtIGhpZ2hwIHZlYzMgdV9zdW5fZGlyZWN0aW9uO2Zsb2F0IHN1bl9kaXNrKGhpZ2hwIHZlYzMgcmF5X2RpcmVjdGlvbixoaWdocCB2ZWMzIHN1bl9kaXJlY3Rpb24pIHtoaWdocCBmbG9hdCBjb3NfYW5nbGU9ZG90KG5vcm1hbGl6ZShyYXlfZGlyZWN0aW9uKSxzdW5fZGlyZWN0aW9uKTtjb25zdCBoaWdocCBmbG9hdCBjb3Nfc3VuX2FuZ3VsYXJfZGlhbWV0ZXI9MC45OTk5NjE5MjMwNjtjb25zdCBoaWdocCBmbG9hdCBzbW9vdGhzdGVwX2RlbHRhPTFlLTU7cmV0dXJuIHNtb290aHN0ZXAoXFxuY29zX3N1bl9hbmd1bGFyX2RpYW1ldGVyLXNtb290aHN0ZXBfZGVsdGEsY29zX3N1bl9hbmd1bGFyX2RpYW1ldGVyK3Ntb290aHN0ZXBfZGVsdGEsY29zX2FuZ2xlKTt9ZmxvYXQgbWFwKGZsb2F0IHZhbHVlLGZsb2F0IHN0YXJ0LGZsb2F0IGVuZCxmbG9hdCBuZXdfc3RhcnQsZmxvYXQgbmV3X2VuZCkge3JldHVybiAoKHZhbHVlLXN0YXJ0KSoobmV3X2VuZC1uZXdfc3RhcnQpKS8oZW5kLXN0YXJ0KStuZXdfc3RhcnQ7fXZvaWQgbWFpbigpIHt2ZWMzIHV2PXZfdXY7Y29uc3QgZmxvYXQgeV9iaWFzPTAuMDE1O3V2LnkrPXlfYmlhczt1di55PXBvdyhhYnModXYueSksMS4wLzUuMCk7dXYueT1tYXAodXYueSwwLjAsMS4wLC0xLjAsMS4wKTt2ZWMzIHNreV9jb2xvcj10ZXh0dXJlQ3ViZSh1X2N1YmVtYXAsdXYpLnJnYjtcXG4jaWZkZWYgRk9HXFxuc2t5X2NvbG9yPWZvZ19hcHBseV9za3lfZ3JhZGllbnQodl91di54enksc2t5X2NvbG9yKTtcXG4jZW5kaWZcXG5za3lfY29sb3IucmdiPWRpdGhlcihza3lfY29sb3IucmdiLGdsX0ZyYWdDb29yZC54eSt1X3RlbXBvcmFsX29mZnNldCk7c2t5X2NvbG9yKz0wLjEqc3VuX2Rpc2sodl91dix1X3N1bl9kaXJlY3Rpb24pO2dsX0ZyYWdDb2xvcj12ZWM0KHNreV9jb2xvcip1X29wYWNpdHksdV9vcGFjaXR5KTtcXG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXFxuZ2xfRnJhZ0NvbG9yPXZlYzQoMS4wKTtcXG4jZW5kaWZcXG59XCIsaWkpLHNreWJveEdyYWRpZW50OnBpKFwidmFyeWluZyBoaWdocCB2ZWMzIHZfdXY7dW5pZm9ybSBsb3dwIHNhbXBsZXIyRCB1X2NvbG9yX3JhbXA7dW5pZm9ybSBoaWdocCB2ZWMzIHVfY2VudGVyX2RpcmVjdGlvbjt1bmlmb3JtIGxvd3AgZmxvYXQgdV9yYWRpdXM7dW5pZm9ybSBsb3dwIGZsb2F0IHVfb3BhY2l0eTt1bmlmb3JtIGhpZ2hwIGZsb2F0IHVfdGVtcG9yYWxfb2Zmc2V0O3ZvaWQgbWFpbigpIHtmbG9hdCBwcm9ncmVzcz1hY29zKGRvdChub3JtYWxpemUodl91diksdV9jZW50ZXJfZGlyZWN0aW9uKSkvdV9yYWRpdXM7dmVjNCBjb2xvcj10ZXh0dXJlMkQodV9jb2xvcl9yYW1wLHZlYzIocHJvZ3Jlc3MsMC41KSk7XFxuI2lmZGVmIEZPR1xcbmNvbG9yLnJnYj1mb2dfYXBwbHlfc2t5X2dyYWRpZW50KHZfdXYueHp5LGNvbG9yLnJnYi9jb2xvci5hKSpjb2xvci5hO1xcbiNlbmRpZlxcbmNvbG9yKj11X29wYWNpdHk7Y29sb3IucmdiPWRpdGhlcihjb2xvci5yZ2IsZ2xfRnJhZ0Nvb3JkLnh5K3VfdGVtcG9yYWxfb2Zmc2V0KTtnbF9GcmFnQ29sb3I9Y29sb3I7XFxuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxcbmdsX0ZyYWdDb2xvcj12ZWM0KDEuMCk7XFxuI2VuZGlmXFxufVwiLGlpKSxza3lib3hDYXB0dXJlOnBpKFwiXFxudmFyeWluZyBoaWdocCB2ZWMzIHZfcG9zaXRpb247dW5pZm9ybSBoaWdocCBmbG9hdCB1X3N1bl9pbnRlbnNpdHk7dW5pZm9ybSBoaWdocCBmbG9hdCB1X2x1bWluYW5jZTt1bmlmb3JtIGxvd3AgdmVjMyB1X3N1bl9kaXJlY3Rpb247dW5pZm9ybSBoaWdocCB2ZWM0IHVfY29sb3JfdGludF9yO3VuaWZvcm0gaGlnaHAgdmVjNCB1X2NvbG9yX3RpbnRfbTtcXG4jaWZkZWYgR0xfRVNcXG5wcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuI2VuZGlmXFxuI2RlZmluZSBCRVRBX1IgICAgICAgICAgICAgICAgICB2ZWMzKDUuNWUtNiwxMy4wZS02LDIyLjRlLTYpXFxuI2RlZmluZSBCRVRBX00gICAgICAgICAgICAgICAgICB2ZWMzKDIxZS02LDIxZS02LDIxZS02KVxcbiNkZWZpbmUgTUlFX0cgICAgICAgICAgICAgICAgICAgMC43NlxcbiNkZWZpbmUgREVOU0lUWV9IRUlHSFRfU0NBTEVfUiAgODAwMC4wXFxuI2RlZmluZSBERU5TSVRZX0hFSUdIVF9TQ0FMRV9NICAxMjAwLjBcXG4jZGVmaW5lIFBMQU5FVF9SQURJVVMgICAgICAgICAgIDYzNjBlM1xcbiNkZWZpbmUgQVRNT1NQSEVSRV9SQURJVVMgICAgICAgNjQyMGUzXFxuI2RlZmluZSBTQU1QTEVfU1RFUFMgICAgICAgICAgICAxMFxcbiNkZWZpbmUgREVOU0lUWV9TVEVQUyAgICAgICAgICAgNFxcbmZsb2F0IHJheV9zcGhlcmVfZXhpdCh2ZWMzIG9yaWcsdmVjMyBkaXIsZmxvYXQgcmFkaXVzKSB7ZmxvYXQgYT1kb3QoZGlyLGRpcik7ZmxvYXQgYj0yLjAqZG90KGRpcixvcmlnKTtmbG9hdCBjPWRvdChvcmlnLG9yaWcpLXJhZGl1cypyYWRpdXM7ZmxvYXQgZD1zcXJ0KGIqYi00LjAqYSpjKTtyZXR1cm4gKC1iK2QpLygyLjAqYSk7fXZlYzMgZXh0aW5jdGlvbih2ZWMyIGRlbnNpdHkpIHtyZXR1cm4gZXhwKC12ZWMzKEJFVEFfUip1X2NvbG9yX3RpbnRfci5hKmRlbnNpdHkueCtCRVRBX00qdV9jb2xvcl90aW50X20uYSpkZW5zaXR5LnkpKTt9dmVjMiBsb2NhbF9kZW5zaXR5KHZlYzMgcG9pbnQpIHtmbG9hdCBoZWlnaHQ9bWF4KGxlbmd0aChwb2ludCktUExBTkVUX1JBRElVUywwLjApO2Zsb2F0IGV4cF9yPWV4cCgtaGVpZ2h0L0RFTlNJVFlfSEVJR0hUX1NDQUxFX1IpO2Zsb2F0IGV4cF9tPWV4cCgtaGVpZ2h0L0RFTlNJVFlfSEVJR0hUX1NDQUxFX00pO3JldHVybiB2ZWMyKGV4cF9yLGV4cF9tKTt9ZmxvYXQgcGhhc2VfcmF5KGZsb2F0IGNvc19hbmdsZSkge3JldHVybiAoMy4wLygxNi4wKlBJKSkqKDEuMCtjb3NfYW5nbGUqY29zX2FuZ2xlKTt9ZmxvYXQgcGhhc2VfbWllKGZsb2F0IGNvc19hbmdsZSkge3JldHVybiAoMy4wLyg4LjAqUEkpKSooKDEuMC1NSUVfRypNSUVfRykqKDEuMCtjb3NfYW5nbGUqY29zX2FuZ2xlKSkvKCgyLjArTUlFX0cqTUlFX0cpKnBvdygxLjArTUlFX0cqTUlFX0ctMi4wKk1JRV9HKmNvc19hbmdsZSwxLjUpKTt9dmVjMiBkZW5zaXR5X3RvX2F0bW9zcGhlcmUodmVjMyBwb2ludCx2ZWMzIGxpZ2h0X2Rpcikge2Zsb2F0IHJheV9sZW49cmF5X3NwaGVyZV9leGl0KHBvaW50LGxpZ2h0X2RpcixBVE1PU1BIRVJFX1JBRElVUyk7ZmxvYXQgc3RlcF9sZW49cmF5X2xlbi9mbG9hdChERU5TSVRZX1NURVBTKTt2ZWMyIGRlbnNpdHlfcG9pbnRfdG9fYXRtb3NwaGVyZT12ZWMyKDAuMCk7Zm9yIChpbnQgaT0wOyBpIDwgREVOU0lUWV9TVEVQUzsrK2kpIHt2ZWMzIHBvaW50X29uX3JheT1wb2ludCtsaWdodF9kaXIqKChmbG9hdChpKSswLjUpKnN0ZXBfbGVuKTtkZW5zaXR5X3BvaW50X3RvX2F0bW9zcGhlcmUrPWxvY2FsX2RlbnNpdHkocG9pbnRfb25fcmF5KSpzdGVwX2xlbjs7fXJldHVybiBkZW5zaXR5X3BvaW50X3RvX2F0bW9zcGhlcmU7fXZlYzMgYXRtb3NwaGVyZSh2ZWMzIHJheV9kaXIsdmVjMyBzdW5fZGlyZWN0aW9uLGZsb2F0IHN1bl9pbnRlbnNpdHkpIHt2ZWMyIGRlbnNpdHlfb3JpZ190b19wb2ludD12ZWMyKDAuMCk7dmVjMyBzY2F0dGVyX3I9dmVjMygwLjApO3ZlYzMgc2NhdHRlcl9tPXZlYzMoMC4wKTt2ZWMzIG9yaWdpbj12ZWMzKDAuMCxQTEFORVRfUkFESVVTLDAuMCk7ZmxvYXQgcmF5X2xlbj1yYXlfc3BoZXJlX2V4aXQob3JpZ2luLHJheV9kaXIsQVRNT1NQSEVSRV9SQURJVVMpO2Zsb2F0IHN0ZXBfbGVuPXJheV9sZW4vZmxvYXQoU0FNUExFX1NURVBTKTtmb3IgKGludCBpPTA7IGkgPCBTQU1QTEVfU1RFUFM7KytpKSB7dmVjMyBwb2ludF9vbl9yYXk9b3JpZ2luK3JheV9kaXIqKChmbG9hdChpKSswLjUpKnN0ZXBfbGVuKTt2ZWMyIGRlbnNpdHk9bG9jYWxfZGVuc2l0eShwb2ludF9vbl9yYXkpKnN0ZXBfbGVuO2RlbnNpdHlfb3JpZ190b19wb2ludCs9ZGVuc2l0eTt2ZWMyIGRlbnNpdHlfcG9pbnRfdG9fYXRtb3NwaGVyZT1kZW5zaXR5X3RvX2F0bW9zcGhlcmUocG9pbnRfb25fcmF5LHN1bl9kaXJlY3Rpb24pO3ZlYzIgZGVuc2l0eV9vcmlnX3RvX2F0bW9zcGhlcmU9ZGVuc2l0eV9vcmlnX3RvX3BvaW50K2RlbnNpdHlfcG9pbnRfdG9fYXRtb3NwaGVyZTt2ZWMzIGV4dGluY3Rpb249ZXh0aW5jdGlvbihkZW5zaXR5X29yaWdfdG9fYXRtb3NwaGVyZSk7c2NhdHRlcl9yKz1kZW5zaXR5LngqZXh0aW5jdGlvbjtzY2F0dGVyX20rPWRlbnNpdHkueSpleHRpbmN0aW9uO31mbG9hdCBjb3NfYW5nbGU9ZG90KHJheV9kaXIsc3VuX2RpcmVjdGlvbik7ZmxvYXQgcGhhc2Vfcj1waGFzZV9yYXkoY29zX2FuZ2xlKTtmbG9hdCBwaGFzZV9tPXBoYXNlX21pZShjb3NfYW5nbGUpO3ZlYzMgYmV0YV9yPUJFVEFfUip1X2NvbG9yX3RpbnRfci5yZ2IqdV9jb2xvcl90aW50X3IuYTt2ZWMzIGJldGFfbT1CRVRBX00qdV9jb2xvcl90aW50X20ucmdiKnVfY29sb3JfdGludF9tLmE7cmV0dXJuIChzY2F0dGVyX3IqcGhhc2VfcipiZXRhX3Irc2NhdHRlcl9tKnBoYXNlX20qYmV0YV9tKSpzdW5faW50ZW5zaXR5O31jb25zdCBmbG9hdCBBPTAuMTU7Y29uc3QgZmxvYXQgQj0wLjUwO2NvbnN0IGZsb2F0IEM9MC4xMDtjb25zdCBmbG9hdCBEPTAuMjA7Y29uc3QgZmxvYXQgRT0wLjAyO2NvbnN0IGZsb2F0IEY9MC4zMDt2ZWMzIHVuY2hhcnRlZDJfdG9uZW1hcCh2ZWMzIHgpIHtyZXR1cm4gKCh4KihBKngrQypCKStEKkUpLyh4KihBKngrQikrRCpGKSktRS9GO312b2lkIG1haW4oKSB7dmVjMyByYXlfZGlyZWN0aW9uPXZfcG9zaXRpb247cmF5X2RpcmVjdGlvbi55PXBvdyhyYXlfZGlyZWN0aW9uLnksNS4wKTtjb25zdCBmbG9hdCB5X2JpYXM9MC4wMTU7cmF5X2RpcmVjdGlvbi55Kz15X2JpYXM7dmVjMyBjb2xvcj1hdG1vc3BoZXJlKG5vcm1hbGl6ZShyYXlfZGlyZWN0aW9uKSx1X3N1bl9kaXJlY3Rpb24sdV9zdW5faW50ZW5zaXR5KTtmbG9hdCB3aGl0ZV9zY2FsZT0xLjA3NDg3MjQ2NzU2MzM4NTQ7Y29sb3I9dW5jaGFydGVkMl90b25lbWFwKChsb2cyKDIuMC9wb3codV9sdW1pbmFuY2UsNC4wKSkpKmNvbG9yKSp3aGl0ZV9zY2FsZTtnbF9GcmFnQ29sb3I9dmVjNChjb2xvciwxLjApO31cIixcImF0dHJpYnV0ZSBoaWdocCB2ZWMzIGFfcG9zXzNmO3VuaWZvcm0gbWF0MyB1X21hdHJpeF8zZjt2YXJ5aW5nIGhpZ2hwIHZlYzMgdl9wb3NpdGlvbjtmbG9hdCBtYXAoZmxvYXQgdmFsdWUsZmxvYXQgc3RhcnQsZmxvYXQgZW5kLGZsb2F0IG5ld19zdGFydCxmbG9hdCBuZXdfZW5kKSB7cmV0dXJuICgodmFsdWUtc3RhcnQpKihuZXdfZW5kLW5ld19zdGFydCkpLyhlbmQtc3RhcnQpK25ld19zdGFydDt9dm9pZCBtYWluKCkge3ZlYzQgcG9zPXZlYzQodV9tYXRyaXhfM2YqYV9wb3NfM2YsMS4wKTt2X3Bvc2l0aW9uPXBvcy54eXo7dl9wb3NpdGlvbi55Kj0tMS4wO3ZfcG9zaXRpb24ueT1tYXAodl9wb3NpdGlvbi55LC0xLjAsMS4wLDAuMCwxLjApO2dsX1Bvc2l0aW9uPXZlYzQoYV9wb3NfM2YueHksMC4wLDEuMCk7fVwiKSxnbG9iZVJhc3RlcjpwaShcInVuaWZvcm0gc2FtcGxlcjJEIHVfaW1hZ2UwO3ZhcnlpbmcgdmVjMiB2X3BvczA7XFxuI2lmbmRlZiBGT0dcXG51bmlmb3JtIGhpZ2hwIHZlYzMgdV9mcnVzdHVtX3RsO3VuaWZvcm0gaGlnaHAgdmVjMyB1X2ZydXN0dW1fdHI7dW5pZm9ybSBoaWdocCB2ZWMzIHVfZnJ1c3R1bV9icjt1bmlmb3JtIGhpZ2hwIHZlYzMgdV9mcnVzdHVtX2JsO3VuaWZvcm0gaGlnaHAgdmVjMyB1X2dsb2JlX3Bvczt1bmlmb3JtIGhpZ2hwIGZsb2F0IHVfZ2xvYmVfcmFkaXVzO3VuaWZvcm0gdmVjMiB1X3ZpZXdwb3J0O1xcbiNlbmRpZlxcbnZvaWQgbWFpbigpIHt2ZWM0IGNvbG9yO1xcbiNpZmRlZiBDVVNUT01fQU5USUFMSUFTSU5HXFxudmVjMiB1dj1nbF9GcmFnQ29vcmQueHkvdV92aWV3cG9ydDtoaWdocCB2ZWMzIHJheV9kaXI9bWl4KFxcbm1peCh1X2ZydXN0dW1fdGwsdV9mcnVzdHVtX3RyLHV2LngpLG1peCh1X2ZydXN0dW1fYmwsdV9mcnVzdHVtX2JyLHV2LngpLDEuMC11di55KTt2ZWMzIGRpcj1ub3JtYWxpemUocmF5X2Rpcik7dmVjMyBjbG9zZXN0X3BvaW50PWRvdCh1X2dsb2JlX3BvcyxkaXIpKmRpcjtmbG9hdCBub3JtX2Rpc3RfZnJvbV9jZW50ZXI9MS4wLWxlbmd0aChjbG9zZXN0X3BvaW50LXVfZ2xvYmVfcG9zKS91X2dsb2JlX3JhZGl1cztjb25zdCBmbG9hdCBhbnRpYWxpYXNfcGl4ZWw9Mi4wO2Zsb2F0IGFudGlhbGlhc19mYWN0b3I9YW50aWFsaWFzX3BpeGVsKmZ3aWR0aChub3JtX2Rpc3RfZnJvbV9jZW50ZXIpO2Zsb2F0IGFudGlhbGlhcz1zbW9vdGhzdGVwKDAuMCxhbnRpYWxpYXNfZmFjdG9yLG5vcm1fZGlzdF9mcm9tX2NlbnRlcik7dmVjNCByYXN0ZXI9dGV4dHVyZTJEKHVfaW1hZ2UwLHZfcG9zMCk7Y29sb3I9dmVjNChyYXN0ZXIucmdiKmFudGlhbGlhcyxyYXN0ZXIuYSphbnRpYWxpYXMpO1xcbiNlbHNlXFxuY29sb3I9dGV4dHVyZTJEKHVfaW1hZ2UwLHZfcG9zMCk7XFxuI2VuZGlmXFxuI2lmZGVmIEZPR1xcbmNvbG9yPWZvZ19kaXRoZXIoZm9nX2FwcGx5X3ByZW11bHRpcGxpZWQoY29sb3Isdl9mb2dfcG9zKSk7XFxuI2VuZGlmXFxuZ2xfRnJhZ0NvbG9yPWNvbG9yO1xcbiNpZmRlZiBURVJSQUlOX1dJUkVGUkFNRVxcbmdsX0ZyYWdDb2xvcj12ZWM0KDEuMCwwLjAsMC4wLDAuOCk7XFxuI2VuZGlmXFxuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxcbmdsX0ZyYWdDb2xvcj12ZWM0KDEuMCk7XFxuI2VuZGlmXFxufVwiLFwidW5pZm9ybSBtYXQ0IHVfcHJval9tYXRyaXg7dW5pZm9ybSBtYXQ0IHVfbm9ybWFsaXplX21hdHJpeDt1bmlmb3JtIG1hdDQgdV9nbG9iZV9tYXRyaXg7dW5pZm9ybSBtYXQ0IHVfbWVyY19tYXRyaXg7dW5pZm9ybSBmbG9hdCB1X3pvb21fdHJhbnNpdGlvbjt1bmlmb3JtIHZlYzIgdV9tZXJjX2NlbnRlcjt1bmlmb3JtIG1hdDMgdV9ncmlkX21hdHJpeDtcXG4jaWZkZWYgR0xPQkVfUE9MRVNcXG5hdHRyaWJ1dGUgdmVjMyBhX2dsb2JlX3BvczthdHRyaWJ1dGUgdmVjMiBhX3V2O1xcbiNlbHNlXFxuYXR0cmlidXRlIHZlYzIgYV9wb3M7XFxuI2VuZGlmXFxudmFyeWluZyB2ZWMyIHZfcG9zMDtjb25zdCBmbG9hdCB3aXJlZnJhbWVPZmZzZXQ9MWUzO2Zsb2F0IG1lcmNhdG9yWGZyb21MbmcoZmxvYXQgbG5nKSB7cmV0dXJuICgxODAuMCtsbmcpLzM2MC4wO31mbG9hdCBtZXJjYXRvcllmcm9tTGF0KGZsb2F0IGxhdCkge3JldHVybiAoMTgwLjAtKFJBRF9UT19ERUcqbG9nKHRhbihRVUFSVEVSX1BJK2xhdC8yLjAqREVHX1RPX1JBRCkpKSkvMzYwLjA7fXZlYzMgbGF0TG5nVG9FQ0VGKHZlYzIgbGF0TG5nKSB7bGF0TG5nPURFR19UT19SQUQqbGF0TG5nO2Zsb2F0IGNvc0xhdD1jb3MobGF0TG5nWzBdKTtmbG9hdCBzaW5MYXQ9c2luKGxhdExuZ1swXSk7ZmxvYXQgY29zTG5nPWNvcyhsYXRMbmdbMV0pO2Zsb2F0IHNpbkxuZz1zaW4obGF0TG5nWzFdKTtmbG9hdCBzeD1jb3NMYXQqc2luTG5nKkdMT0JFX1JBRElVUztmbG9hdCBzeT0tc2luTGF0KkdMT0JFX1JBRElVUztmbG9hdCBzej1jb3NMYXQqY29zTG5nKkdMT0JFX1JBRElVUztyZXR1cm4gdmVjMyhzeCxzeSxzeik7fXZvaWQgbWFpbigpIHtcXG4jaWZkZWYgR0xPQkVfUE9MRVNcXG52ZWMzIGdsb2JlX3Bvcz1hX2dsb2JlX3Bvczt2ZWMyIHV2PWFfdXY7XFxuI2Vsc2VcXG5mbG9hdCB0aWxlcz11X2dyaWRfbWF0cml4WzBdWzJdO2Zsb2F0IGlkeD11X2dyaWRfbWF0cml4WzFdWzJdO2Zsb2F0IGlkeT11X2dyaWRfbWF0cml4WzJdWzJdO3ZlYzMgbGF0TG5nPXVfZ3JpZF9tYXRyaXgqdmVjMyhhX3BvcywxLjApO2Zsb2F0IG1lcmNhdG9yWT1tZXJjYXRvcllmcm9tTGF0KGxhdExuZ1swXSk7ZmxvYXQgdXZZPW1lcmNhdG9yWSp0aWxlcy1pZHk7ZmxvYXQgbWVyY2F0b3JYPW1lcmNhdG9yWGZyb21MbmcobGF0TG5nWzFdKTtmbG9hdCB1dlg9bWVyY2F0b3JYKnRpbGVzLWlkeDt2ZWMzIGdsb2JlX3Bvcz1sYXRMbmdUb0VDRUYobGF0TG5nLnh5KTt2ZWMyIG1lcmNfcG9zPXZlYzIobWVyY2F0b3JYLG1lcmNhdG9yWSk7dmVjMiB1dj12ZWMyKHV2WCx1dlkpO1xcbiNlbmRpZlxcbnZfcG9zMD11djt2ZWMyIHRpbGVfcG9zPXV2KkVYVEVOVDtcXG4jaWZkZWYgR0xPQkVfUE9MRVNcXG52ZWMzIHVwX3ZlY3Rvcj1ub3JtYWxpemUoZ2xvYmVfcG9zKSp1X3RpbGVfdXBfc2NhbGU7XFxuI2Vsc2VcXG52ZWMzIHVwX3ZlY3Rvcj1lbGV2YXRpb25WZWN0b3IodGlsZV9wb3MpO1xcbiNlbmRpZlxcbmZsb2F0IGhlaWdodD1lbGV2YXRpb24odGlsZV9wb3MpO1xcbiNpZmRlZiBURVJSQUlOX1dJUkVGUkFNRVxcbmhlaWdodCs9d2lyZWZyYW1lT2Zmc2V0O1xcbiNlbmRpZlxcbmdsb2JlX3Bvcys9dXBfdmVjdG9yKmhlaWdodDtcXG4jaWZkZWYgR0xPQkVfUE9MRVNcXG52ZWM0IGludGVycG9sYXRlZF9wb3M9dV9nbG9iZV9tYXRyaXgqdmVjNChnbG9iZV9wb3MsMS4wKTtcXG4jZWxzZVxcbnZlYzQgZ2xvYmVfd29ybGRfcG9zPXVfZ2xvYmVfbWF0cml4KnZlYzQoZ2xvYmVfcG9zLDEuMCk7dmVjNCBtZXJjX3dvcmxkX3Bvcz12ZWM0KDAuMCk7aWYgKHVfem9vbV90cmFuc2l0aW9uID4gMC4wKSB7bWVyY193b3JsZF9wb3M9dmVjNChtZXJjX3BvcyxoZWlnaHQsMS4wKTttZXJjX3dvcmxkX3Bvcy54eS09dV9tZXJjX2NlbnRlcjttZXJjX3dvcmxkX3Bvcy54PXdyYXAobWVyY193b3JsZF9wb3MueCwtMC41LDAuNSk7bWVyY193b3JsZF9wb3M9dV9tZXJjX21hdHJpeCptZXJjX3dvcmxkX3Bvczt9dmVjNCBpbnRlcnBvbGF0ZWRfcG9zPXZlYzQobWl4KGdsb2JlX3dvcmxkX3Bvcy54eXosbWVyY193b3JsZF9wb3MueHl6LHVfem9vbV90cmFuc2l0aW9uKSwxLjApO1xcbiNlbmRpZlxcbmdsX1Bvc2l0aW9uPXVfcHJval9tYXRyaXgqaW50ZXJwb2xhdGVkX3BvcztcXG4jaWZkZWYgRk9HXFxudl9mb2dfcG9zPWZvZ19wb3NpdGlvbigodV9ub3JtYWxpemVfbWF0cml4KnZlYzQoZ2xvYmVfcG9zLDEuMCkpLnh5eik7XFxuI2VuZGlmXFxufVwiKSxnbG9iZUF0bW9zcGhlcmU6cGkoXCJ1bmlmb3JtIGZsb2F0IHVfdHJhbnNpdGlvbjt1bmlmb3JtIGhpZ2hwIGZsb2F0IHVfZmFkZW91dF9yYW5nZTt1bmlmb3JtIGhpZ2hwIGZsb2F0IHVfdGVtcG9yYWxfb2Zmc2V0O3VuaWZvcm0gdmVjMyB1X3N0YXJ0X2NvbG9yO3VuaWZvcm0gdmVjNCB1X2NvbG9yO3VuaWZvcm0gdmVjNCB1X3NwYWNlX2NvbG9yO3VuaWZvcm0gdmVjNCB1X2hpZ2hfY29sb3I7dW5pZm9ybSBmbG9hdCB1X3N0YXJfaW50ZW5zaXR5O3VuaWZvcm0gZmxvYXQgdV9zdGFyX3NpemU7dW5pZm9ybSBmbG9hdCB1X3N0YXJfZGVuc2l0eTt1bmlmb3JtIGZsb2F0IHVfaG9yaXpvbl9hbmdsZTt1bmlmb3JtIG1hdDQgdV9yb3RhdGlvbl9tYXRyaXg7dmFyeWluZyBoaWdocCB2ZWMzIHZfcmF5X2Rpcjt2YXJ5aW5nIGhpZ2hwIHZlYzMgdl9ob3Jpem9uX2RpcjtoaWdocCBmbG9hdCByYW5kb20oaGlnaHAgdmVjMyBwKSB7cD1mcmFjdChwKnZlYzMoMjMuMjM0Miw5Ny4xMjMxLDkxLjIzNDIpKTtwKz1kb3QocC56eHkscC55eHorMTIzLjEyMzQpO3JldHVybiBmcmFjdChwLngqcC55KTt9ZmxvYXQgc3RhcnModmVjMyBwLGZsb2F0IHNjYWxlLHZlYzIgb2Zmc2V0KSB7dmVjMiB1dl9zY2FsZT0odV92aWV3cG9ydC91X3N0YXJfc2l6ZSkqc2NhbGU7dmVjMyBwb3NpdGlvbj12ZWMzKHAueHkqdXZfc2NhbGUrb2Zmc2V0KnVfdmlld3BvcnQscC56KTt2ZWMzIHE9ZnJhY3QocG9zaXRpb24pLTAuNTt2ZWMzIGlkPWZsb29yKHBvc2l0aW9uKTtmbG9hdCByYW5kb21fdmlzaWJpbGl0eT1zdGVwKHJhbmRvbShpZCksdV9zdGFyX2RlbnNpdHkpO2Zsb2F0IGNpcmNsZT1zbW9vdGhzdGVwKDAuNSt1X3N0YXJfaW50ZW5zaXR5LDAuNSxsZW5ndGgocSkpO3JldHVybiBjaXJjbGUqcmFuZG9tX3Zpc2liaWxpdHk7fXZvaWQgbWFpbigpIHtoaWdocCB2ZWMzIGRpcj1ub3JtYWxpemUodl9yYXlfZGlyKTtmbG9hdCBnbG9iZV9wb3NfZG90X2RpcjtcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxuZ2xvYmVfcG9zX2RvdF9kaXI9ZG90KHVfZ2xvYmVfcG9zLGRpcik7aGlnaHAgdmVjMyBjbG9zZXN0X3BvaW50X2ZvcndhcmQ9YWJzKGdsb2JlX3Bvc19kb3RfZGlyKSpkaXI7ZmxvYXQgbm9ybV9kaXN0X2Zyb21fY2VudGVyPWxlbmd0aChjbG9zZXN0X3BvaW50X2ZvcndhcmQtdV9nbG9iZV9wb3MpL3VfZ2xvYmVfcmFkaXVzO2lmIChub3JtX2Rpc3RfZnJvbV9jZW50ZXIgPCAwLjk4KSB7ZGlzY2FyZDtyZXR1cm47fVxcbiNlbmRpZlxcbmhpZ2hwIHZlYzMgaG9yaXpvbl9kaXI9bm9ybWFsaXplKHZfaG9yaXpvbl9kaXIpO2Zsb2F0IGhvcml6b25fYW5nbGVfbWVyY2F0b3I9ZGlyLnkgPCBob3Jpem9uX2Rpci55ID9cXG4wLjAgOiBtYXgoYWNvcyhkb3QoZGlyLGhvcml6b25fZGlyKSksMC4wKTtmbG9hdCBob3Jpem9uX2FuZ2xlO1xcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG5oaWdocCB2ZWMzIGNsb3Nlc3RfcG9pbnQ9Z2xvYmVfcG9zX2RvdF9kaXIqZGlyO2Zsb2F0IGNsb3Nlc3RfcG9pbnRfdG9fY2VudGVyPWxlbmd0aChjbG9zZXN0X3BvaW50LXVfZ2xvYmVfcG9zKTtmbG9hdCB0aGV0YT1hc2luKGNsYW1wKGNsb3Nlc3RfcG9pbnRfdG9fY2VudGVyL2xlbmd0aCh1X2dsb2JlX3BvcyksLTEuMCwxLjApKTtob3Jpem9uX2FuZ2xlPWdsb2JlX3Bvc19kb3RfZGlyIDwgMC4wID9cXG5QSS10aGV0YS11X2hvcml6b25fYW5nbGUgOiB0aGV0YS11X2hvcml6b25fYW5nbGU7ZmxvYXQgYW5nbGVfdD1wb3codV90cmFuc2l0aW9uLDEwLjApO2hvcml6b25fYW5nbGU9bWl4KGhvcml6b25fYW5nbGUsaG9yaXpvbl9hbmdsZV9tZXJjYXRvcixhbmdsZV90KTtcXG4jZWxzZVxcbmhvcml6b25fYW5nbGU9aG9yaXpvbl9hbmdsZV9tZXJjYXRvcjtcXG4jZW5kaWZcXG5ob3Jpem9uX2FuZ2xlLz1QSTtmbG9hdCB0PWV4cCgtaG9yaXpvbl9hbmdsZS91X2ZhZGVvdXRfcmFuZ2UpO2Zsb2F0IGFscGhhXzA9dV9jb2xvci5hO2Zsb2F0IGFscGhhXzE9dV9oaWdoX2NvbG9yLmE7ZmxvYXQgYWxwaGFfMj11X3NwYWNlX2NvbG9yLmE7dmVjMyBjb2xvcl9zdG9wXzA9dV9jb2xvci5yZ2I7dmVjMyBjb2xvcl9zdG9wXzE9dV9oaWdoX2NvbG9yLnJnYjt2ZWMzIGNvbG9yX3N0b3BfMj11X3NwYWNlX2NvbG9yLnJnYjt2ZWMzIGMwPW1peChjb2xvcl9zdG9wXzIsY29sb3Jfc3RvcF8xLGFscGhhXzEpO3ZlYzMgYzE9bWl4KGMwLGNvbG9yX3N0b3BfMCxhbHBoYV8wKTt2ZWMzIGMyPW1peChjMCxjMSx0KTt2ZWMzIGMgPW1peChjb2xvcl9zdG9wXzIsYzIsdCk7ZmxvYXQgYTA9bWl4KGFscGhhXzIsMS4wLGFscGhhXzEpO2Zsb2F0IGExPW1peChhMCwxLjAsYWxwaGFfMCk7ZmxvYXQgYTI9bWl4KGEwLGExLHQpO2Zsb2F0IGEgPW1peChhbHBoYV8yLGEyLHQpO3ZlYzIgdXY9Z2xfRnJhZ0Nvb3JkLnh5L3Vfdmlld3BvcnQtMC41O2Zsb2F0IGFzcGVjdF9yYXRpbz11X3ZpZXdwb3J0LngvdV92aWV3cG9ydC55O3ZlYzQgdXZfZGlyPXZlYzQobm9ybWFsaXplKHZlYzModXYueCphc3BlY3RfcmF0aW8sdXYueSwxLjApKSwxLjApO3V2X2Rpcj11X3JvdGF0aW9uX21hdHJpeCp1dl9kaXI7dmVjMyBuPWFicyh1dl9kaXIueHl6KTt2ZWMyIHV2X3JlbWFwPShuLnggPiBuLnkgJiYgbi54ID4gbi56KSA/IHV2X2Rpci55ei91dl9kaXIueDpcXG4obi55ID4gbi54ICYmIG4ueSA+IG4ueikgPyB1dl9kaXIuengvdXZfZGlyLnk6XFxudXZfZGlyLnh5L3V2X2Rpci56O3V2X3JlbWFwLngvPWFzcGVjdF9yYXRpbzt2ZWMzIEQ9dmVjMyh1dl9yZW1hcCwxLjApO2hpZ2hwIGZsb2F0IHN0YXJfZmllbGQ9MC4wO2lmICh1X3N0YXJfaW50ZW5zaXR5ID4gMC4wKSB7c3Rhcl9maWVsZCs9c3RhcnMoRCwxLjIsdmVjMigwLjAsMC4wKSk7c3Rhcl9maWVsZCs9c3RhcnMoRCwxLjAsdmVjMigxLjAsMC4wKSk7c3Rhcl9maWVsZCs9c3RhcnMoRCwwLjgsdmVjMigwLjAsMS4wKSk7c3Rhcl9maWVsZCs9c3RhcnMoRCwwLjYsdmVjMigxLjAsMS4wKSk7c3Rhcl9maWVsZCo9KDEuMC1wb3codCwwLjI1KygxLjAtdV9oaWdoX2NvbG9yLmEpKjAuNzUpKTtjKz1zdGFyX2ZpZWxkKmFscGhhXzI7fWM9ZGl0aGVyKGMsZ2xfRnJhZ0Nvb3JkLnh5K3VfdGVtcG9yYWxfb2Zmc2V0KTtnbF9GcmFnQ29sb3I9dmVjNChjLGEpO31cIixcImF0dHJpYnV0ZSB2ZWMzIGFfcG9zO2F0dHJpYnV0ZSB2ZWMyIGFfdXY7dW5pZm9ybSB2ZWMzIHVfZnJ1c3R1bV90bDt1bmlmb3JtIHZlYzMgdV9mcnVzdHVtX3RyO3VuaWZvcm0gdmVjMyB1X2ZydXN0dW1fYnI7dW5pZm9ybSB2ZWMzIHVfZnJ1c3R1bV9ibDt1bmlmb3JtIGZsb2F0IHVfaG9yaXpvbjt2YXJ5aW5nIGhpZ2hwIHZlYzMgdl9yYXlfZGlyO3ZhcnlpbmcgaGlnaHAgdmVjMyB2X2hvcml6b25fZGlyO3ZvaWQgbWFpbigpIHt2X3JheV9kaXI9bWl4KFxcbm1peCh1X2ZydXN0dW1fdGwsdV9mcnVzdHVtX3RyLGFfdXYueCksbWl4KHVfZnJ1c3R1bV9ibCx1X2ZydXN0dW1fYnIsYV91di54KSxhX3V2LnkpO3ZfaG9yaXpvbl9kaXI9bWl4KFxcbm1peCh1X2ZydXN0dW1fdGwsdV9mcnVzdHVtX2JsLHVfaG9yaXpvbiksbWl4KHVfZnJ1c3R1bV90cix1X2ZydXN0dW1fYnIsdV9ob3Jpem9uKSxhX3V2LngpO2dsX1Bvc2l0aW9uPXZlYzQoYV9wb3MsMS4wKTt9XCIpfTtmdW5jdGlvbiBkaShlLHQpe2NvbnN0IGk9ZS5yZXBsYWNlKC9cXHMqXFwvXFwvW15cXG5dKlxcbi9nLFwiXFxuXCIpLnNwbGl0KFwiXFxuXCIpO2ZvcihsZXQgZSBvZiBpKWlmKGU9ZS50cmltKCksXCIjXCI9PT1lWzBdJiZlLmluY2x1ZGVzKFwiaWZcIikmJiFlLmluY2x1ZGVzKFwiZW5kaWZcIikpe2U9ZS5yZXBsYWNlKFwiI1wiLFwiXCIpLnJlcGxhY2UoL2lmZGVmfGlmbmRlZnxlbGlmfGlmL2csXCJcIikucmVwbGFjZSgvIXxkZWZpbmVkfFxcKHxcXCl8XFx8XFx8fCYmL2csXCJcIikucmVwbGFjZSgvXFxzKy9nLFwiIFwiKS50cmltKCk7Y29uc3QgaT1lLnNwbGl0KFwiIFwiKTtmb3IoY29uc3QgZSBvZiBpKXQuaW5jbHVkZXMoZSl8fHQucHVzaChlKTt9fWZ1bmN0aW9uIHBpKGUsdCl7Y29uc3QgaT0vI3ByYWdtYSBtYXBib3g6IChbXFx3XSspIChbXFx3XSspIChbXFx3XSspIChbXFx3XSspL2csbz10Lm1hdGNoKC9hdHRyaWJ1dGUgKGhpZ2hwIHxtZWRpdW1wIHxsb3dwICk/KFtcXHddKykgKFtcXHddKykvZykscj17fSxuPVsuLi5saV07cmV0dXJuIGRpKGUsbiksZGkodCxuKSx7ZnJhZ21lbnRTb3VyY2U6ZT1lLnJlcGxhY2UoaSwoKGUsdCxpLG8sbik9PihyW25dPSEwLFwiZGVmaW5lXCI9PT10P2BcXG4jaWZuZGVmIEhBU19VTklGT1JNX3VfJHtufVxcbnZhcnlpbmcgJHtpfSAke299ICR7bn07XFxuI2Vsc2VcXG51bmlmb3JtICR7aX0gJHtvfSB1XyR7bn07XFxuI2VuZGlmXFxuYDpgXFxuI2lmZGVmIEhBU19VTklGT1JNX3VfJHtufVxcbiAgICAke2l9ICR7b30gJHtufSA9IHVfJHtufTtcXG4jZW5kaWZcXG5gKSkpLHZlcnRleFNvdXJjZTp0PXQucmVwbGFjZShpLCgoZSx0LGksbyxuKT0+e2NvbnN0IGE9XCJmbG9hdFwiPT09bz9cInZlYzJcIjpcInZlYzRcIixzPW4ubWF0Y2goL2NvbG9yLyk/XCJjb2xvclwiOmE7cmV0dXJuIHJbbl0/XCJkZWZpbmVcIj09PXQ/YFxcbiNpZm5kZWYgSEFTX1VOSUZPUk1fdV8ke259XFxudW5pZm9ybSBsb3dwIGZsb2F0IHVfJHtufV90O1xcbmF0dHJpYnV0ZSAke2l9ICR7YX0gYV8ke259O1xcbnZhcnlpbmcgJHtpfSAke299ICR7bn07XFxuI2Vsc2VcXG51bmlmb3JtICR7aX0gJHtvfSB1XyR7bn07XFxuI2VuZGlmXFxuYDpcInZlYzRcIj09PXM/YFxcbiNpZm5kZWYgSEFTX1VOSUZPUk1fdV8ke259XFxuICAgICR7bn0gPSBhXyR7bn07XFxuI2Vsc2VcXG4gICAgJHtpfSAke299ICR7bn0gPSB1XyR7bn07XFxuI2VuZGlmXFxuYDpgXFxuI2lmbmRlZiBIQVNfVU5JRk9STV91XyR7bn1cXG4gICAgJHtufSA9IHVucGFja19taXhfJHtzfShhXyR7bn0sIHVfJHtufV90KTtcXG4jZWxzZVxcbiAgICAke2l9ICR7b30gJHtufSA9IHVfJHtufTtcXG4jZW5kaWZcXG5gOlwiZGVmaW5lXCI9PT10P2BcXG4jaWZuZGVmIEhBU19VTklGT1JNX3VfJHtufVxcbnVuaWZvcm0gbG93cCBmbG9hdCB1XyR7bn1fdDtcXG5hdHRyaWJ1dGUgJHtpfSAke2F9IGFfJHtufTtcXG4jZWxzZVxcbnVuaWZvcm0gJHtpfSAke299IHVfJHtufTtcXG4jZW5kaWZcXG5gOlwidmVjNFwiPT09cz9gXFxuI2lmbmRlZiBIQVNfVU5JRk9STV91XyR7bn1cXG4gICAgJHtpfSAke299ICR7bn0gPSBhXyR7bn07XFxuI2Vsc2VcXG4gICAgJHtpfSAke299ICR7bn0gPSB1XyR7bn07XFxuI2VuZGlmXFxuYDpgXFxuI2lmbmRlZiBIQVNfVU5JRk9STV91XyR7bn1cXG4gICAgJHtpfSAke299ICR7bn0gPSB1bnBhY2tfbWl4XyR7c30oYV8ke259LCB1XyR7bn1fdCk7XFxuI2Vsc2VcXG4gICAgJHtpfSAke299ICR7bn0gPSB1XyR7bn07XFxuI2VuZGlmXFxuYH0pKSxzdGF0aWNBdHRyaWJ1dGVzOm8sdXNlZERlZmluZXM6bn19Y2xhc3MgbWl7Y29uc3RydWN0b3IoKXt0aGlzLmJvdW5kUHJvZ3JhbT1udWxsLHRoaXMuYm91bmRMYXlvdXRWZXJ0ZXhCdWZmZXI9bnVsbCx0aGlzLmJvdW5kUGFpbnRWZXJ0ZXhCdWZmZXJzPVtdLHRoaXMuYm91bmRJbmRleEJ1ZmZlcj1udWxsLHRoaXMuYm91bmRWZXJ0ZXhPZmZzZXQ9bnVsbCx0aGlzLmJvdW5kRHluYW1pY1ZlcnRleEJ1ZmZlcnM9W10sdGhpcy52YW89bnVsbDt9YmluZChlLHQsaSxvLHIsbixhKXt0aGlzLmNvbnRleHQ9ZTtsZXQgcz10aGlzLmJvdW5kUGFpbnRWZXJ0ZXhCdWZmZXJzLmxlbmd0aCE9PW8ubGVuZ3RoO2ZvcihsZXQgZT0wOyFzJiZlPG8ubGVuZ3RoO2UrKyl0aGlzLmJvdW5kUGFpbnRWZXJ0ZXhCdWZmZXJzW2VdIT09b1tlXSYmKHM9ITApO2xldCBsPXRoaXMuYm91bmREeW5hbWljVmVydGV4QnVmZmVycy5sZW5ndGghPT1hLmxlbmd0aDtmb3IobGV0IGU9MDshbCYmZTxhLmxlbmd0aDtlKyspdGhpcy5ib3VuZER5bmFtaWNWZXJ0ZXhCdWZmZXJzW2VdIT09YVtlXSYmKGw9ITApO2lmKCFlLmV4dFZlcnRleEFycmF5T2JqZWN0fHwhdGhpcy52YW98fHRoaXMuYm91bmRQcm9ncmFtIT09dHx8dGhpcy5ib3VuZExheW91dFZlcnRleEJ1ZmZlciE9PWl8fHN8fGx8fHRoaXMuYm91bmRJbmRleEJ1ZmZlciE9PXJ8fHRoaXMuYm91bmRWZXJ0ZXhPZmZzZXQhPT1uKXRoaXMuZnJlc2hCaW5kKHQsaSxvLHIsbixhKTtlbHNlIHtlLmJpbmRWZXJ0ZXhBcnJheU9FUy5zZXQodGhpcy52YW8pO2Zvcihjb25zdCBlIG9mIGEpZSYmZS5iaW5kKCk7ciYmci5keW5hbWljRHJhdyYmci5iaW5kKCk7fX1mcmVzaEJpbmQoZSx0LGksbyxyLG4pe2xldCBhO2NvbnN0IHM9ZS5udW1BdHRyaWJ1dGVzLGw9dGhpcy5jb250ZXh0LGM9bC5nbDtpZihsLmV4dFZlcnRleEFycmF5T2JqZWN0KXRoaXMudmFvJiZ0aGlzLmRlc3Ryb3koKSx0aGlzLnZhbz1sLmV4dFZlcnRleEFycmF5T2JqZWN0LmNyZWF0ZVZlcnRleEFycmF5T0VTKCksbC5iaW5kVmVydGV4QXJyYXlPRVMuc2V0KHRoaXMudmFvKSxhPTAsdGhpcy5ib3VuZFByb2dyYW09ZSx0aGlzLmJvdW5kTGF5b3V0VmVydGV4QnVmZmVyPXQsdGhpcy5ib3VuZFBhaW50VmVydGV4QnVmZmVycz1pLHRoaXMuYm91bmRJbmRleEJ1ZmZlcj1vLHRoaXMuYm91bmRWZXJ0ZXhPZmZzZXQ9cix0aGlzLmJvdW5kRHluYW1pY1ZlcnRleEJ1ZmZlcnM9bjtlbHNlIHthPWwuY3VycmVudE51bUF0dHJpYnV0ZXN8fDA7Zm9yKGxldCBlPXM7ZTxhO2UrKyljLmRpc2FibGVWZXJ0ZXhBdHRyaWJBcnJheShlKTt9dC5lbmFibGVBdHRyaWJ1dGVzKGMsZSksdC5iaW5kKCksdC5zZXRWZXJ0ZXhBdHRyaWJQb2ludGVycyhjLGUscik7Zm9yKGNvbnN0IHQgb2YgaSl0LmVuYWJsZUF0dHJpYnV0ZXMoYyxlKSx0LmJpbmQoKSx0LnNldFZlcnRleEF0dHJpYlBvaW50ZXJzKGMsZSxyKTtmb3IoY29uc3QgdCBvZiBuKXQmJih0LmVuYWJsZUF0dHJpYnV0ZXMoYyxlKSx0LmJpbmQoKSx0LnNldFZlcnRleEF0dHJpYlBvaW50ZXJzKGMsZSxyKSk7byYmby5iaW5kKCksbC5jdXJyZW50TnVtQXR0cmlidXRlcz1zO31kZXN0cm95KCl7dGhpcy52YW8mJih0aGlzLmNvbnRleHQuZXh0VmVydGV4QXJyYXlPYmplY3QuZGVsZXRlVmVydGV4QXJyYXlPRVModGhpcy52YW8pLHRoaXMudmFvPW51bGwpO319ZnVuY3Rpb24gZmkodCxpKXtjb25zdCBvPU1hdGgucG93KDIsaS5jYW5vbmljYWwueikscj1pLmNhbm9uaWNhbC55O3JldHVybiBbbmV3IGUuTWVyY2F0b3JDb29yZGluYXRlKDAsci9vKS50b0xuZ0xhdCgpLmxhdCxuZXcgZS5NZXJjYXRvckNvb3JkaW5hdGUoMCwocisxKS9vKS50b0xuZ0xhdCgpLmxhdF19ZnVuY3Rpb24gZ2kodCxpLG8scixuLGEscyl7Y29uc3QgbD10LmNvbnRleHQsYz1sLmdsLGg9by5mYm87aWYoIWgpcmV0dXJuO3QucHJlcGFyZURyYXdUaWxlKCk7Y29uc3QgXz10LnVzZVByb2dyYW0oXCJoaWxsc2hhZGVcIik7bC5hY3RpdmVUZXh0dXJlLnNldChjLlRFWFRVUkUwKSxjLmJpbmRUZXh0dXJlKGMuVEVYVFVSRV8yRCxoLmNvbG9yQXR0YWNobWVudC5nZXQoKSk7Y29uc3QgdT0oKGUsdCxpLG8pPT57Y29uc3Qgcj1pLnBhaW50LmdldChcImhpbGxzaGFkZS1zaGFkb3ctY29sb3JcIiksbj1pLnBhaW50LmdldChcImhpbGxzaGFkZS1oaWdobGlnaHQtY29sb3JcIiksYT1pLnBhaW50LmdldChcImhpbGxzaGFkZS1hY2NlbnQtY29sb3JcIik7bGV0IHM9aS5wYWludC5nZXQoXCJoaWxsc2hhZGUtaWxsdW1pbmF0aW9uLWRpcmVjdGlvblwiKSooTWF0aC5QSS8xODApO1widmlld3BvcnRcIj09PWkucGFpbnQuZ2V0KFwiaGlsbHNoYWRlLWlsbHVtaW5hdGlvbi1hbmNob3JcIikmJihzLT1lLnRyYW5zZm9ybS5hbmdsZSk7Y29uc3QgbD0hZS5vcHRpb25zLm1vdmluZztyZXR1cm4ge3VfbWF0cml4Om98fGUudHJhbnNmb3JtLmNhbGN1bGF0ZVByb2pNYXRyaXgodC50aWxlSUQudG9VbndyYXBwZWQoKSxsKSx1X2ltYWdlOjAsdV9sYXRyYW5nZTpmaSgwLHQudGlsZUlEKSx1X2xpZ2h0OltpLnBhaW50LmdldChcImhpbGxzaGFkZS1leGFnZ2VyYXRpb25cIiksc10sdV9zaGFkb3c6cix1X2hpZ2hsaWdodDpuLHVfYWNjZW50OmF9fSkodCxvLHIsdC50ZXJyYWluP2kucHJvak1hdHJpeDpudWxsKTt0LnByZXBhcmVEcmF3UHJvZ3JhbShsLF8saS50b1Vud3JhcHBlZCgpKTtjb25zdHt0aWxlQm91bmRzQnVmZmVyOmQsdGlsZUJvdW5kc0luZGV4QnVmZmVyOnAsdGlsZUJvdW5kc1NlZ21lbnRzOm19PXQuZ2V0VGlsZUJvdW5kc0J1ZmZlcnMobyk7Xy5kcmF3KGwsYy5UUklBTkdMRVMsbixhLHMsZS5DdWxsRmFjZU1vZGUuZGlzYWJsZWQsdSxyLmlkLGQscCxtKTt9ZnVuY3Rpb24gdmkodCxpLG8pe2lmKCFpLm5lZWRzREVNVGV4dHVyZVVwbG9hZClyZXR1cm47Y29uc3Qgcj10LmNvbnRleHQsbj1yLmdsO3IucGl4ZWxTdG9yZVVucGFja1ByZW11bHRpcGx5QWxwaGEuc2V0KCExKSxpLmRlbVRleHR1cmU9aS5kZW1UZXh0dXJlfHx0LmdldFRpbGVUZXh0dXJlKG8uc3RyaWRlKTtjb25zdCBhPW8uZ2V0UGl4ZWxzKCk7aS5kZW1UZXh0dXJlP2kuZGVtVGV4dHVyZS51cGRhdGUoYSx7cHJlbXVsdGlwbHk6ITF9KTppLmRlbVRleHR1cmU9bmV3IGUuVGV4dHVyZShyLGEsbi5SR0JBLHtwcmVtdWx0aXBseTohMX0pLGkubmVlZHNERU1UZXh0dXJlVXBsb2FkPSExO31mdW5jdGlvbiB4aSh0LGksbyxyLG4sYSl7Y29uc3Qgcz10LmNvbnRleHQsbD1zLmdsO2lmKCFpLmRlbSlyZXR1cm47Y29uc3QgYz1pLmRlbTtpZihzLmFjdGl2ZVRleHR1cmUuc2V0KGwuVEVYVFVSRTEpLHZpKHQsaSxjKSwhaS5kZW1UZXh0dXJlKXJldHVybjtpLmRlbVRleHR1cmUuYmluZChsLk5FQVJFU1QsbC5DTEFNUF9UT19FREdFKTtjb25zdCBoPWMuZGltO3MuYWN0aXZlVGV4dHVyZS5zZXQobC5URVhUVVJFMCk7bGV0IF89aS5mYm87aWYoIV8pe2NvbnN0IHQ9bmV3IGUuVGV4dHVyZShzLHt3aWR0aDpoLGhlaWdodDpoLGRhdGE6bnVsbH0sbC5SR0JBKTt0LmJpbmQobC5MSU5FQVIsbC5DTEFNUF9UT19FREdFKSxfPWkuZmJvPXMuY3JlYXRlRnJhbWVidWZmZXIoaCxoLCEwKSxfLmNvbG9yQXR0YWNobWVudC5zZXQodC50ZXh0dXJlKTt9cy5iaW5kRnJhbWVidWZmZXIuc2V0KF8uZnJhbWVidWZmZXIpLHMudmlld3BvcnQuc2V0KFswLDAsaCxoXSk7Y29uc3R7dGlsZUJvdW5kc0J1ZmZlcjp1LHRpbGVCb3VuZHNJbmRleEJ1ZmZlcjpkLHRpbGVCb3VuZHNTZWdtZW50czpwfT10LmdldE1lcmNhdG9yVGlsZUJvdW5kc0J1ZmZlcnMoKTt0LnVzZVByb2dyYW0oXCJoaWxsc2hhZGVQcmVwYXJlXCIpLmRyYXcocyxsLlRSSUFOR0xFUyxyLG4sYSxlLkN1bGxGYWNlTW9kZS5kaXNhYmxlZCwoKHQsaSk9Pntjb25zdCBvPWkuc3RyaWRlLHI9ZS5jcmVhdGUoKTtyZXR1cm4gZS5vcnRobyhyLDAsZS5FWFRFTlQsLWUuRVhURU5ULDAsMCwxKSxlLnRyYW5zbGF0ZShyLHIsWzAsLWUuRVhURU5ULDBdKSx7dV9tYXRyaXg6cix1X2ltYWdlOjEsdV9kaW1lbnNpb246W28sb10sdV96b29tOnQub3ZlcnNjYWxlZFosdV91bnBhY2s6aS51bnBhY2tWZWN0b3J9fSkoaS50aWxlSUQsYyksby5pZCx1LGQscCksaS5uZWVkc0hpbGxzaGFkZVByZXBhcmU9ITE7fWNvbnN0IHlpPXQ9Pih7dV9tYXRyaXg6bmV3IGUuVW5pZm9ybU1hdHJpeDRmKHQpLHVfaW1hZ2UwOm5ldyBlLlVuaWZvcm0xaSh0KSx1X3NraXJ0X2hlaWdodDpuZXcgZS5Vbmlmb3JtMWYodCl9KSxiaT0oZSx0KT0+KHt1X21hdHJpeDplLHVfaW1hZ2UwOjAsdV9za2lydF9oZWlnaHQ6dH0pLHdpPShlLHQsaSxvLHIsbixhLHMsbCxjLGgsXyx1LGQpPT4oe3VfcHJval9tYXRyaXg6RmxvYXQzMkFycmF5LmZyb20oZSksdV9nbG9iZV9tYXRyaXg6dCx1X25vcm1hbGl6ZV9tYXRyaXg6RmxvYXQzMkFycmF5LmZyb20obyksdV9tZXJjX21hdHJpeDppLHVfem9vbV90cmFuc2l0aW9uOnIsdV9tZXJjX2NlbnRlcjpuLHVfaW1hZ2UwOjAsdV9mcnVzdHVtX3RsOmEsdV9mcnVzdHVtX3RyOnMsdV9mcnVzdHVtX2JyOmwsdV9mcnVzdHVtX2JsOmMsdV9nbG9iZV9wb3M6aCx1X2dsb2JlX3JhZGl1czpfLHVfdmlld3BvcnQ6dSx1X2dyaWRfbWF0cml4OmQ/RmxvYXQzMkFycmF5LmZyb20oZCk6bmV3IEZsb2F0MzJBcnJheSg5KX0pO2Z1bmN0aW9uIFRpKGUsdCl7cmV0dXJuIG51bGwhPWUmJm51bGwhPXQmJiEoIWUuaGFzRGF0YSgpfHwhdC5oYXNEYXRhKCkpJiZudWxsIT1lLmRlbVRleHR1cmUmJm51bGwhPXQuZGVtVGV4dHVyZSYmZS50aWxlSUQua2V5IT09dC50aWxlSUQua2V5fWNvbnN0IEVpPW5ldyBjbGFzc3tjb25zdHJ1Y3Rvcigpe3RoaXMub3BlcmF0aW9ucz17fTt9bmV3TW9ycGhpbmcoZSx0LGksbyxyKXtpZihlIGluIHRoaXMub3BlcmF0aW9ucyl7Y29uc3QgdD10aGlzLm9wZXJhdGlvbnNbZV07dC50by50aWxlSUQua2V5IT09aS50aWxlSUQua2V5JiYodC5xdWV1ZWQ9aSk7fWVsc2UgdGhpcy5vcGVyYXRpb25zW2VdPXtzdGFydFRpbWU6byxwaGFzZTowLGR1cmF0aW9uOnIsZnJvbTp0LHRvOmkscXVldWVkOm51bGx9O31nZXRNb3JwaFZhbHVlc0ZvclByb3h5KGUpe2lmKCEoZSBpbiB0aGlzLm9wZXJhdGlvbnMpKXJldHVybiBudWxsO2NvbnN0IHQ9dGhpcy5vcGVyYXRpb25zW2VdO3JldHVybiB7ZnJvbTp0LmZyb20sdG86dC50byxwaGFzZTp0LnBoYXNlfX11cGRhdGUoZSl7Zm9yKGNvbnN0IHQgaW4gdGhpcy5vcGVyYXRpb25zKXtjb25zdCBpPXRoaXMub3BlcmF0aW9uc1t0XTtmb3IoaS5waGFzZT0oZS1pLnN0YXJ0VGltZSkvaS5kdXJhdGlvbjtpLnBoYXNlPj0xfHwhdGhpcy5fdmFsaWRPcChpKTspaWYoIXRoaXMuX25leHRPcChpLGUpKXtkZWxldGUgdGhpcy5vcGVyYXRpb25zW3RdO2JyZWFrfX19X25leHRPcChlLHQpe3JldHVybiAhIWUucXVldWVkJiYoZS5mcm9tPWUudG8sZS50bz1lLnF1ZXVlZCxlLnF1ZXVlZD1udWxsLGUucGhhc2U9MCxlLnN0YXJ0VGltZT10LCEwKX1fdmFsaWRPcChlKXtyZXR1cm4gZS5mcm9tLmhhc0RhdGEoKSYmZS50by5oYXNEYXRhKCl9fSxDaT17MDpudWxsLDE6XCJURVJSQUlOX1ZFUlRFWF9NT1JQSElOR1wiLDI6XCJURVJSQUlOX1dJUkVGUkFNRVwifTtmdW5jdGlvbiBJaShlLHQpe2NvbnN0IGk9MTw8ZS56O3JldHVybiAhdCYmKDA9PT1lLnh8fGUueD09PWktMSl8fDA9PT1lLnl8fGUueT09PWktMX1jb25zdCBNaT1lPT4oe3VfbWF0cml4OmV9KTtmdW5jdGlvbiBTaSh0LGksbyxyLG4pe2lmKG4+MCl7Y29uc3QgYT1lLmV4cG9ydGVkLm5vdygpLHM9KGEtdC50aW1lQWRkZWQpL24sbD1pPyhhLWkudGltZUFkZGVkKS9uOi0xLGM9by5nZXRTb3VyY2UoKSxoPXIuY292ZXJpbmdab29tTGV2ZWwoe3RpbGVTaXplOmMudGlsZVNpemUscm91bmRab29tOmMucm91bmRab29tfSksXz0haXx8TWF0aC5hYnMoaS50aWxlSUQub3ZlcnNjYWxlZFotaCk+TWF0aC5hYnModC50aWxlSUQub3ZlcnNjYWxlZFotaCksdT1fJiZ0LnJlZnJlc2hlZFVwb25FeHBpcmF0aW9uPzE6ZS5jbGFtcChfP3M6MS1sLDAsMSk7cmV0dXJuIHQucmVmcmVzaGVkVXBvbkV4cGlyYXRpb24mJnM+PTEmJih0LnJlZnJlc2hlZFVwb25FeHBpcmF0aW9uPSExKSxpP3tvcGFjaXR5OjEsbWl4OjEtdX06e29wYWNpdHk6dSxtaXg6MH19cmV0dXJuIHtvcGFjaXR5OjEsbWl4OjB9fWNsYXNzIHppIGV4dGVuZHMgZS5Tb3VyY2VDYWNoZXtjb25zdHJ1Y3RvcihlKXtjb25zdCB0PXt0eXBlOlwicmFzdGVyLWRlbVwiLG1heHpvb206ZS50cmFuc2Zvcm0ubWF4Wm9vbX0saT1uZXcgUChHZSgpLG51bGwpLG89UGUoXCJtb2NrLWRlbVwiLHQsaSxlLnN0eWxlKTtzdXBlcihcIm1vY2stZGVtXCIsbywhMSksby5zZXRFdmVudGVkUGFyZW50KHRoaXMpLHRoaXMuX3NvdXJjZUxvYWRlZD0hMDt9X2xvYWRUaWxlKGUsdCl7ZS5zdGF0ZT1cImxvYWRlZFwiLHQobnVsbCk7fX1jbGFzcyBEaSBleHRlbmRzIGUuU291cmNlQ2FjaGV7Y29uc3RydWN0b3IoZSl7Y29uc3QgdD1QZShcInByb3h5XCIse3R5cGU6XCJnZW9qc29uXCIsbWF4em9vbTplLnRyYW5zZm9ybS5tYXhab29tfSxuZXcgUChHZSgpLG51bGwpLGUuc3R5bGUpO3N1cGVyKFwicHJveHlcIix0LCExKSx0LnNldEV2ZW50ZWRQYXJlbnQodGhpcyksdGhpcy5tYXA9dGhpcy5nZXRTb3VyY2UoKS5tYXA9ZSx0aGlzLnVzZWQ9dGhpcy5fc291cmNlTG9hZGVkPSEwLHRoaXMucmVuZGVyQ2FjaGU9W10sdGhpcy5yZW5kZXJDYWNoZVBvb2w9W10sdGhpcy5wcm94eUNhY2hlZEZCTz17fTt9dXBkYXRlKHQsaSxvKXtpZih0LmZyZWV6ZVRpbGVDb3ZlcmFnZSlyZXR1cm47dGhpcy50cmFuc2Zvcm09dDtjb25zdCByPXQuY292ZXJpbmdUaWxlcyh7dGlsZVNpemU6dGhpcy5fc291cmNlLnRpbGVTaXplLG1pbnpvb206dGhpcy5fc291cmNlLm1pbnpvb20sbWF4em9vbTp0aGlzLl9zb3VyY2UubWF4em9vbSxyb3VuZFpvb206dGhpcy5fc291cmNlLnJvdW5kWm9vbSxyZXBhcnNlT3ZlcnNjYWxlZDp0aGlzLl9zb3VyY2UucmVwYXJzZU92ZXJzY2FsZWR9KS5yZWR1Y2UoKChpLG8pPT57aWYoaVtvLmtleV09XCJcIiwhdGhpcy5fdGlsZXNbby5rZXldKXtjb25zdCBpPW5ldyBlLlRpbGUobyx0aGlzLl9zb3VyY2UudGlsZVNpemUqby5vdmVyc2NhbGVGYWN0b3IoKSx0LnRpbGVab29tKTtpLnN0YXRlPVwibG9hZGVkXCIsdGhpcy5fdGlsZXNbby5rZXldPWk7fXJldHVybiBpfSkse30pO2Zvcihjb25zdCBlIGluIHRoaXMuX3RpbGVzKWUgaW4gcnx8KHRoaXMuZnJlZUZCTyhlKSx0aGlzLl90aWxlc1tlXS51bmxvYWRWZWN0b3JEYXRhKCksZGVsZXRlIHRoaXMuX3RpbGVzW2VdKTt9ZnJlZUZCTyhlKXtjb25zdCB0PXRoaXMucHJveHlDYWNoZWRGQk9bZV07aWYodm9pZCAwIT09dCl7Y29uc3QgaT1PYmplY3QudmFsdWVzKHQpO3RoaXMucmVuZGVyQ2FjaGVQb29sLnB1c2goLi4uaSksZGVsZXRlIHRoaXMucHJveHlDYWNoZWRGQk9bZV07fX1kZWFsbG9jUmVuZGVyQ2FjaGUoKXt0aGlzLnJlbmRlckNhY2hlLmZvckVhY2goKGU9PmUuZmIuZGVzdHJveSgpKSksdGhpcy5yZW5kZXJDYWNoZT1bXSx0aGlzLnJlbmRlckNhY2hlUG9vbD1bXSx0aGlzLnByb3h5Q2FjaGVkRkJPPXt9O319Y2xhc3MgQWkgZXh0ZW5kcyBlLk92ZXJzY2FsZWRUaWxlSUR7Y29uc3RydWN0b3IoZSx0LGkpe3N1cGVyKGUub3ZlcnNjYWxlZFosZS53cmFwLGUuY2Fub25pY2FsLnosZS5jYW5vbmljYWwueCxlLmNhbm9uaWNhbC55KSx0aGlzLnByb3h5VGlsZUtleT10LHRoaXMucHJvak1hdHJpeD1pO319Y2xhc3MgUGkgZXh0ZW5kcyBlLkVsZXZhdGlvbntjb25zdHJ1Y3Rvcih0LGkpe3N1cGVyKCksdGhpcy5wYWludGVyPXQsdGhpcy50ZXJyYWluVGlsZUZvclRpbGU9e30sdGhpcy5wcmV2VGVycmFpblRpbGVGb3JUaWxlPXt9O2NvbnN0W28scixuXT1mdW5jdGlvbih0KXtjb25zdCBpPW5ldyBlLlN0cnVjdEFycmF5TGF5b3V0NGk4LG89bmV3IGUuU3RydWN0QXJyYXlMYXlvdXQzdWk2LHI9MTMxO2kucmVzZXJ2ZSgxNzE2MSksby5yZXNlcnZlKDMzODAwKTtjb25zdCBuPWUuRVhURU5ULzEyOCxhPWUuRVhURU5UK24vMixzPWErbjtmb3IobGV0IHQ9LW47dDxzO3QrPW4pZm9yKGxldCBvPS1uO288cztvKz1uKXtjb25zdCByPW88MHx8bz5hfHx0PDB8fHQ+YT8yNDU3NTowLG49ZS5jbGFtcChNYXRoLnJvdW5kKG8pLDAsZS5FWFRFTlQpLHM9ZS5jbGFtcChNYXRoLnJvdW5kKHQpLDAsZS5FWFRFTlQpO2kuZW1wbGFjZUJhY2sobityLHMsbixzKTt9Y29uc3QgbD0oZSx0KT0+e2NvbnN0IGk9dCpyK2U7by5lbXBsYWNlQmFjayhpKzEsaSxpK3IpLG8uZW1wbGFjZUJhY2soaStyLGkrcisxLGkrMSk7fTtmb3IobGV0IGU9MTtlPDEyOTtlKyspZm9yKGxldCB0PTE7dDwxMjk7dCsrKWwodCxlKTtyZXR1cm4gWzAsMTI5XS5mb3JFYWNoKChlPT57Zm9yKGxldCB0PTA7dDwxMzA7dCsrKWwodCxlKSxsKGUsdCk7fSkpLFtpLG8sMzI3NjhdfSgpLGE9dC5jb250ZXh0O3RoaXMuZ3JpZEJ1ZmZlcj1hLmNyZWF0ZVZlcnRleEJ1ZmZlcihvLGUuYm91bmRzQXR0cmlidXRlcy5tZW1iZXJzKSx0aGlzLmdyaWRJbmRleEJ1ZmZlcj1hLmNyZWF0ZUluZGV4QnVmZmVyKHIpLHRoaXMuZ3JpZFNlZ21lbnRzPWUuU2VnbWVudFZlY3Rvci5zaW1wbGVTZWdtZW50KDAsMCxvLmxlbmd0aCxyLmxlbmd0aCksdGhpcy5ncmlkTm9Ta2lydFNlZ21lbnRzPWUuU2VnbWVudFZlY3Rvci5zaW1wbGVTZWdtZW50KDAsMCxvLmxlbmd0aCxuKSx0aGlzLnByb3h5Q29vcmRzPVtdLHRoaXMucHJveGllZENvb3Jkcz17fSx0aGlzLl92aXNpYmxlRGVtVGlsZXM9W10sdGhpcy5fZHJhcGVkUmVuZGVyQmF0Y2hlcz1bXSx0aGlzLl9zb3VyY2VUaWxlc092ZXJsYXA9e30sdGhpcy5wcm94eVNvdXJjZUNhY2hlPW5ldyBEaShpLm1hcCksdGhpcy5vcnRob01hdHJpeD1lLmNyZWF0ZSgpLGUub3J0aG8odGhpcy5vcnRob01hdHJpeCxcImdsb2JlXCI9PT10aGlzLnBhaW50ZXIudHJhbnNmb3JtLnByb2plY3Rpb24ubmFtZT8uMDE1OjAsZS5FWFRFTlQsMCxlLkVYVEVOVCwwLDEpO2NvbnN0IHM9YS5nbDt0aGlzLl9vdmVybGFwU3RlbmNpbE1vZGU9bmV3IGUuU3RlbmNpbE1vZGUoe2Z1bmM6cy5HRVFVQUwsbWFzazoyNTV9LDAsMjU1LHMuS0VFUCxzLktFRVAscy5SRVBMQUNFKSx0aGlzLl9wcmV2aW91c1pvb209dC50cmFuc2Zvcm0uem9vbSx0aGlzLnBvb2w9W10sdGhpcy5fZmluZENvdmVyaW5nVGlsZUNhY2hlPXt9LHRoaXMuX3RpbGVzRGlydHk9e30sdGhpcy5zdHlsZT1pLHRoaXMuX3VzZVZlcnRleE1vcnBoaW5nPSEwLHRoaXMuX2V4YWdnZXJhdGlvbj0xLHRoaXMuX21vY2tTb3VyY2VDYWNoZT1uZXcgemkoaS5tYXApO31zZXQgc3R5bGUoZSl7ZS5vbihcImRhdGFcIix0aGlzLl9vblN0eWxlRGF0YUV2ZW50LmJpbmQodGhpcykpLGUub24oXCJuZXdvcmRlclwiLHRoaXMuX2NoZWNrUmVuZGVyQ2FjaGVFZmZpY2llbmN5LmJpbmQodGhpcykpLHRoaXMuX3N0eWxlPWUsdGhpcy5fY2hlY2tSZW5kZXJDYWNoZUVmZmljaWVuY3koKTt9dXBkYXRlKHQsaSxvKXtpZih0JiZ0LnRlcnJhaW4pe3RoaXMuX3N0eWxlIT09dCYmKHRoaXMuc3R5bGU9dCksdGhpcy5lbmFibGVkPSEwO2NvbnN0IHI9dC50ZXJyYWluLnByb3BlcnRpZXM7dGhpcy5zb3VyY2VDYWNoZT0wPT09dC50ZXJyYWluLmRyYXBlUmVuZGVyTW9kZT90aGlzLl9tb2NrU291cmNlQ2FjaGU6dC5fZ2V0U291cmNlQ2FjaGUoci5nZXQoXCJzb3VyY2VcIikpLHRoaXMuX2V4YWdnZXJhdGlvbj1yLmdldChcImV4YWdnZXJhdGlvblwiKTtjb25zdCBuPSgpPT57dGhpcy5zb3VyY2VDYWNoZS51c2VkJiZlLndhcm5PbmNlKGBSYXN0ZXIgREVNIHNvdXJjZSAnJHt0aGlzLnNvdXJjZUNhY2hlLmlkfScgaXMgdXNlZCBib3RoIGZvciB0ZXJyYWluIGFuZCBhcyBsYXllciBzb3VyY2UuXFxuVGhpcyBsZWFkcyB0byBsb3dlciByZXNvbHV0aW9uIG9mIGhpbGxzaGFkZS4gRm9yIGZ1bGwgaGlsbHNoYWRlIHJlc29sdXRpb24gYnV0IGhpZ2hlciBtZW1vcnkgY29uc3VtcHRpb24sIGRlZmluZSBhbm90aGVyIHJhc3RlciBERU0gc291cmNlLmApO2NvbnN0IHQ9dGhpcy5nZXRTY2FsZWREZW1UaWxlU2l6ZSgpO3RoaXMuc291cmNlQ2FjaGUudXBkYXRlKGksdCwhMCksdGhpcy5yZXNldFRpbGVMb29rdXBDYWNoZSh0aGlzLnNvdXJjZUNhY2hlLmlkKTt9O3RoaXMuc291cmNlQ2FjaGUudXNlZEZvclRlcnJhaW58fCh0aGlzLnJlc2V0VGlsZUxvb2t1cENhY2hlKHRoaXMuc291cmNlQ2FjaGUuaWQpLHRoaXMuc291cmNlQ2FjaGUudXNlZEZvclRlcnJhaW49ITAsbigpLHRoaXMuX2luaXRpYWxpemluZz0hMCksbigpLGkudXBkYXRlRWxldmF0aW9uKCFvKSx0aGlzLnJlc2V0VGlsZUxvb2t1cENhY2hlKHRoaXMucHJveHlTb3VyY2VDYWNoZS5pZCksdGhpcy5wcm94eVNvdXJjZUNhY2hlLnVwZGF0ZShpKSx0aGlzLl9lbXB0eURFTVRleHR1cmVEaXJ0eT0hMDt9ZWxzZSB0aGlzLl9kaXNhYmxlKCk7fXJlc2V0VGlsZUxvb2t1cENhY2hlKGUpe3RoaXMuX2ZpbmRDb3ZlcmluZ1RpbGVDYWNoZVtlXT17fTt9Z2V0U2NhbGVkRGVtVGlsZVNpemUoKXtyZXR1cm4gdGhpcy5zb3VyY2VDYWNoZS5nZXRTb3VyY2UoKS50aWxlU2l6ZS8xMjgqdGhpcy5wcm94eVNvdXJjZUNhY2hlLmdldFNvdXJjZSgpLnRpbGVTaXplfV9jaGVja1JlbmRlckNhY2hlRWZmaWNpZW5jeSgpe2NvbnN0IHQ9dGhpcy5yZW5kZXJDYWNoZUVmZmljaWVuY3kodGhpcy5fc3R5bGUpO3RoaXMuX3N0eWxlLm1hcC5fb3B0aW1pemVGb3JUZXJyYWlufHwxMDAhPT10LmVmZmljaWVuY3kmJmUud2Fybk9uY2UoYFRlcnJhaW4gcmVuZGVyIGNhY2hlIGVmZmljaWVuY3kgaXMgbm90IG9wdGltYWwgKCR7dC5lZmZpY2llbmN5fSUpIGFuZCBwZXJmb3JtYW5jZVxcbiAgICAgICAgICAgICAgICBtYXkgYmUgYWZmZWN0ZWQgbmVnYXRpdmVseSwgY29uc2lkZXIgcGxhY2luZyBhbGwgYmFja2dyb3VuZCwgZmlsbCBhbmQgbGluZSBsYXllcnMgYmVmb3JlIGxheWVyXFxuICAgICAgICAgICAgICAgIHdpdGggaWQgJyR7dC5maXJzdFVuZHJhcGVkTGF5ZXJ9JyBvciBjcmVhdGUgYSBtYXAgdXNpbmcgb3B0aW1pemVGb3JUZXJyYWluOiB0cnVlIG9wdGlvbi5gKTt9X29uU3R5bGVEYXRhRXZlbnQoZSl7ZS5jb29yZCYmXCJzb3VyY2VcIj09PWUuZGF0YVR5cGU/dGhpcy5fY2xlYXJSZW5kZXJDYWNoZUZvclRpbGUoZS5zb3VyY2VDYWNoZUlkLGUuY29vcmQpOlwic3R5bGVcIj09PWUuZGF0YVR5cGUmJih0aGlzLl9pbnZhbGlkYXRlUmVuZGVyQ2FjaGU9ITApO31fZGlzYWJsZSgpe2lmKHRoaXMuZW5hYmxlZCYmKHRoaXMuZW5hYmxlZD0hMSx0aGlzLl9zaGFyZWREZXB0aFN0ZW5jaWw9dm9pZCAwLHRoaXMucHJveHlTb3VyY2VDYWNoZS5kZWFsbG9jUmVuZGVyQ2FjaGUoKSx0aGlzLl9zdHlsZSkpZm9yKGNvbnN0IGUgaW4gdGhpcy5fc3R5bGUuX3NvdXJjZUNhY2hlcyl0aGlzLl9zdHlsZS5fc291cmNlQ2FjaGVzW2VdLnVzZWRGb3JUZXJyYWluPSExO31kZXN0cm95KCl7dGhpcy5fZGlzYWJsZSgpLHRoaXMuX2VtcHR5REVNVGV4dHVyZSYmdGhpcy5fZW1wdHlERU1UZXh0dXJlLmRlc3Ryb3koKSx0aGlzLl9lbXB0eURlcHRoQnVmZmVyVGV4dHVyZSYmdGhpcy5fZW1wdHlEZXB0aEJ1ZmZlclRleHR1cmUuZGVzdHJveSgpLHRoaXMucG9vbC5mb3JFYWNoKChlPT5lLmZiLmRlc3Ryb3koKSkpLHRoaXMucG9vbD1bXSx0aGlzLl9kZXB0aEZCTyYmKHRoaXMuX2RlcHRoRkJPLmRlc3Ryb3koKSx0aGlzLl9kZXB0aEZCTz12b2lkIDAsdGhpcy5fZGVwdGhUZXh0dXJlPXZvaWQgMCk7fV9zb3VyY2UoKXtyZXR1cm4gdGhpcy5lbmFibGVkP3RoaXMuc291cmNlQ2FjaGU6bnVsbH1pc1VzaW5nTW9ja1NvdXJjZSgpe3JldHVybiB0aGlzLnNvdXJjZUNhY2hlPT09dGhpcy5fbW9ja1NvdXJjZUNhY2hlfWV4YWdnZXJhdGlvbigpe3JldHVybiB0aGlzLl9leGFnZ2VyYXRpb259Z2V0IHZpc2libGVEZW1UaWxlcygpe3JldHVybiB0aGlzLl92aXNpYmxlRGVtVGlsZXN9Z2V0IGRyYXBlQnVmZmVyU2l6ZSgpe2NvbnN0IGU9Mip0aGlzLnByb3h5U291cmNlQ2FjaGUuZ2V0U291cmNlKCkudGlsZVNpemU7cmV0dXJuIFtlLGVdfXNldCB1c2VWZXJ0ZXhNb3JwaGluZyhlKXt0aGlzLl91c2VWZXJ0ZXhNb3JwaGluZz1lO311cGRhdGVUaWxlQmluZGluZyh0KXtpZighdGhpcy5lbmFibGVkKXJldHVybjt0aGlzLnByZXZUZXJyYWluVGlsZUZvclRpbGU9dGhpcy50ZXJyYWluVGlsZUZvclRpbGU7Y29uc3QgaT10aGlzLnByb3h5U291cmNlQ2FjaGUsbz10aGlzLnBhaW50ZXIudHJhbnNmb3JtO3RoaXMuX2luaXRpYWxpemluZyYmKHRoaXMuX2luaXRpYWxpemluZz0wPT09by5fY2VudGVyQWx0aXR1ZGUmJi0xPT09dGhpcy5nZXRBdFBvaW50T3JaZXJvKGUuTWVyY2F0b3JDb29yZGluYXRlLmZyb21MbmdMYXQoby5jZW50ZXIpLC0xKSx0aGlzLl9lbXB0eURFTVRleHR1cmVEaXJ0eT0hdGhpcy5faW5pdGlhbGl6aW5nKTtjb25zdCByPXRoaXMucHJveHlDb29yZHM9aS5nZXRJZHMoKS5tYXAoKGU9Pntjb25zdCB0PWkuZ2V0VGlsZUJ5SUQoZSkudGlsZUlEO3JldHVybiB0LnByb2pNYXRyaXg9by5jYWxjdWxhdGVQcm9qTWF0cml4KHQudG9VbndyYXBwZWQoKSksdH0pKTshZnVuY3Rpb24odCxpKXtjb25zdCBvPWkudHJhbnNmb3JtLnBvaW50Q29vcmRpbmF0ZShpLnRyYW5zZm9ybS5nZXRDYW1lcmFQb2ludCgpKSxyPW5ldyBlLnBvaW50R2VvbWV0cnkoby54LG8ueSk7dC5zb3J0KCgodCxpKT0+e2lmKGkub3ZlcnNjYWxlZFotdC5vdmVyc2NhbGVkWilyZXR1cm4gaS5vdmVyc2NhbGVkWi10Lm92ZXJzY2FsZWRaO2NvbnN0IG89bmV3IGUucG9pbnRHZW9tZXRyeSh0LmNhbm9uaWNhbC54KygxPDx0LmNhbm9uaWNhbC56KSp0LndyYXAsdC5jYW5vbmljYWwueSksbj1uZXcgZS5wb2ludEdlb21ldHJ5KGkuY2Fub25pY2FsLngrKDE8PGkuY2Fub25pY2FsLnopKmkud3JhcCxpLmNhbm9uaWNhbC55KSxhPXIubXVsdCgxPDx0LmNhbm9uaWNhbC56KTtyZXR1cm4gYS54LT0uNSxhLnktPS41LGEuZGlzdFNxcihvKS1hLmRpc3RTcXIobil9KSk7fShyLHRoaXMucGFpbnRlciksdGhpcy5fcHJldmlvdXNab29tPW8uem9vbTtjb25zdCBuPXRoaXMucHJveHlUb1NvdXJjZXx8e307dGhpcy5wcm94eVRvU291cmNlPXt9LHIuZm9yRWFjaCgoZT0+e3RoaXMucHJveHlUb1NvdXJjZVtlLmtleV09e307fSkpLHRoaXMudGVycmFpblRpbGVGb3JUaWxlPXt9O2NvbnN0IGE9dGhpcy5fc3R5bGUuX3NvdXJjZUNhY2hlcztmb3IoY29uc3QgZSBpbiBhKXtjb25zdCBpPWFbZV07aWYoIWkudXNlZCljb250aW51ZTtpZihpIT09dGhpcy5zb3VyY2VDYWNoZSYmdGhpcy5yZXNldFRpbGVMb29rdXBDYWNoZShpLmlkKSx0aGlzLl9zZXR1cFByb3hpZWRDb29yZHNGb3JPcnRobyhpLHRbZV0sbiksaS51c2VkRm9yVGVycmFpbiljb250aW51ZTtjb25zdCBvPXRbZV07aS5nZXRTb3VyY2UoKS5yZXBhcnNlT3ZlcnNjYWxlZCYmdGhpcy5fYXNzaWduVGVycmFpblRpbGVzKG8pO310aGlzLnByb3hpZWRDb29yZHNbaS5pZF09ci5tYXAoKGU9Pm5ldyBBaShlLGUua2V5LHRoaXMub3J0aG9NYXRyaXgpKSksdGhpcy5fYXNzaWduVGVycmFpblRpbGVzKHIpLHRoaXMuX3ByZXBhcmVERU1UZXh0dXJlcygpLHRoaXMuX3NldHVwRHJhcGVkUmVuZGVyQmF0Y2hlcygpLHRoaXMuX2luaXRGQk9Qb29sKCksdGhpcy5fc2V0dXBSZW5kZXJDYWNoZShuKSx0aGlzLnJlbmRlcmluZ1RvVGV4dHVyZT0hMSx0aGlzLl91cGRhdGVUaW1lc3RhbXA9ZS5leHBvcnRlZC5ub3coKTtjb25zdCBzPXt9O3RoaXMuX3Zpc2libGVEZW1UaWxlcz1bXTtmb3IoY29uc3QgZSBvZiB0aGlzLnByb3h5Q29vcmRzKXtjb25zdCB0PXRoaXMudGVycmFpblRpbGVGb3JUaWxlW2Uua2V5XTtpZighdCljb250aW51ZTtjb25zdCBpPXQudGlsZUlELmtleTtpIGluIHN8fCh0aGlzLl92aXNpYmxlRGVtVGlsZXMucHVzaCh0KSxzW2ldPWkpO319X2Fzc2lnblRlcnJhaW5UaWxlcyhlKXt0aGlzLl9pbml0aWFsaXppbmd8fGUuZm9yRWFjaCgoZT0+e2lmKHRoaXMudGVycmFpblRpbGVGb3JUaWxlW2Uua2V5XSlyZXR1cm47Y29uc3QgdD10aGlzLl9maW5kVGlsZUNvdmVyaW5nVGlsZUlEKGUsdGhpcy5zb3VyY2VDYWNoZSk7dCYmKHRoaXMudGVycmFpblRpbGVGb3JUaWxlW2Uua2V5XT10KTt9KSk7fV9wcmVwYXJlREVNVGV4dHVyZXMoKXtjb25zdCBlPXRoaXMucGFpbnRlci5jb250ZXh0LHQ9ZS5nbDtmb3IoY29uc3QgaSBpbiB0aGlzLnRlcnJhaW5UaWxlRm9yVGlsZSl7Y29uc3Qgbz10aGlzLnRlcnJhaW5UaWxlRm9yVGlsZVtpXSxyPW8uZGVtOyFyfHxvLmRlbVRleHR1cmUmJiFvLm5lZWRzREVNVGV4dHVyZVVwbG9hZHx8KGUuYWN0aXZlVGV4dHVyZS5zZXQodC5URVhUVVJFMSksdmkodGhpcy5wYWludGVyLG8scikpO319X3ByZXBhcmVEZW1UaWxlVW5pZm9ybXMoZSx0LGksbyl7aWYoIXR8fG51bGw9PXQuZGVtVGV4dHVyZSlyZXR1cm4gITE7Y29uc3Qgcj1lLnRpbGVJRC5jYW5vbmljYWwsbj1NYXRoLnBvdygyLHQudGlsZUlELmNhbm9uaWNhbC56LXIueiksYT1vfHxcIlwiO3JldHVybiBpW2B1X2RlbV90bCR7YX1gXT1bci54Km4lMSxyLnkqbiUxXSxpW2B1X2RlbV9zY2FsZSR7YX1gXT1uLCEwfWdldCBlbXB0eURFTVRleHR1cmUoKXtyZXR1cm4gIXRoaXMuX2VtcHR5REVNVGV4dHVyZURpcnR5JiZ0aGlzLl9lbXB0eURFTVRleHR1cmU/dGhpcy5fZW1wdHlERU1UZXh0dXJlOnRoaXMuX3VwZGF0ZUVtcHR5REVNVGV4dHVyZSgpfWdldCBlbXB0eURlcHRoQnVmZmVyVGV4dHVyZSgpe2NvbnN0IHQ9dGhpcy5wYWludGVyLmNvbnRleHQsaT10LmdsO2lmKCF0aGlzLl9lbXB0eURlcHRoQnVmZmVyVGV4dHVyZSl7Y29uc3Qgbz1uZXcgZS5SR0JBSW1hZ2Uoe3dpZHRoOjEsaGVpZ2h0OjF9LFVpbnQ4QXJyYXkub2YoMjU1LDI1NSwyNTUsMjU1KSk7dGhpcy5fZW1wdHlEZXB0aEJ1ZmZlclRleHR1cmU9bmV3IGUuVGV4dHVyZSh0LG8saS5SR0JBLHtwcmVtdWx0aXBseTohMX0pO31yZXR1cm4gdGhpcy5fZW1wdHlEZXB0aEJ1ZmZlclRleHR1cmV9X2dldExvYWRlZEFyZWFNaW5pbXVtKCl7bGV0IGU9MDtjb25zdCB0PXRoaXMuX3Zpc2libGVEZW1UaWxlcy5yZWR1Y2UoKCh0LGkpPT57aWYoIWkuZGVtKXJldHVybiB0O2NvbnN0IG89aS5kZW0udHJlZS5taW5pbXVtc1swXTtyZXR1cm4gbz4wJiZlKyssdCtvfSksMCk7cmV0dXJuIGU/dC9lOjB9X3VwZGF0ZUVtcHR5REVNVGV4dHVyZSgpe2NvbnN0IHQ9dGhpcy5wYWludGVyLmNvbnRleHQsaT10LmdsO3QuYWN0aXZlVGV4dHVyZS5zZXQoaS5URVhUVVJFMik7Y29uc3Qgbz10aGlzLl9nZXRMb2FkZWRBcmVhTWluaW11bSgpLHI9bmV3IGUuUkdCQUltYWdlKHt3aWR0aDoxLGhlaWdodDoxfSxuZXcgVWludDhBcnJheShlLkRFTURhdGEucGFjayhvLHRoaXMuc291cmNlQ2FjaGUuZ2V0U291cmNlKCkuZW5jb2RpbmcpKSk7dGhpcy5fZW1wdHlERU1UZXh0dXJlRGlydHk9ITE7bGV0IG49dGhpcy5fZW1wdHlERU1UZXh0dXJlO3JldHVybiBuP24udXBkYXRlKHIse3ByZW11bHRpcGx5OiExfSk6bj10aGlzLl9lbXB0eURFTVRleHR1cmU9bmV3IGUuVGV4dHVyZSh0LHIsaS5SR0JBLHtwcmVtdWx0aXBseTohMX0pLG59c2V0dXBFbGV2YXRpb25EcmF3KHQsaSxvKXtjb25zdCByPXRoaXMucGFpbnRlci5jb250ZXh0LG49ci5nbCxhPShzPXRoaXMuc291cmNlQ2FjaGUuZ2V0U291cmNlKCkuZW5jb2Rpbmcse3VfZGVtOjIsdV9kZW1fcHJldjo0LHVfZGVtX3VucGFjazplLkRFTURhdGEuZ2V0VW5wYWNrVmVjdG9yKHMpLHVfZGVtX3RsOlswLDBdLHVfZGVtX3RsX3ByZXY6WzAsMF0sdV9kZW1fc2NhbGU6MCx1X2RlbV9zY2FsZV9wcmV2OjAsdV9kZW1fc2l6ZTowLHVfZGVtX2xlcnA6MSx1X2RlcHRoOjMsdV9kZXB0aF9zaXplX2ludjpbMCwwXSx1X2V4YWdnZXJhdGlvbjowfSk7dmFyIHM7YS51X2RlbV9zaXplPXRoaXMuc291cmNlQ2FjaGUuZ2V0U291cmNlKCkudGlsZVNpemUsYS51X2V4YWdnZXJhdGlvbj10aGlzLmV4YWdnZXJhdGlvbigpO2xldCBsPW51bGwsYz1udWxsLGg9MTtpZihvJiZvLm1vcnBoaW5nJiZ0aGlzLl91c2VWZXJ0ZXhNb3JwaGluZyl7Y29uc3QgZT1vLm1vcnBoaW5nLnNyY0RlbVRpbGUsaT1vLm1vcnBoaW5nLmRzdERlbVRpbGU7aD1vLm1vcnBoaW5nLnBoYXNlLGUmJmkmJih0aGlzLl9wcmVwYXJlRGVtVGlsZVVuaWZvcm1zKHQsZSxhLFwiX3ByZXZcIikmJihjPWUpLHRoaXMuX3ByZXBhcmVEZW1UaWxlVW5pZm9ybXModCxpLGEpJiYobD1pKSk7fWlmKGMmJmw/KHIuYWN0aXZlVGV4dHVyZS5zZXQobi5URVhUVVJFMiksbC5kZW1UZXh0dXJlLmJpbmQobi5ORUFSRVNULG4uQ0xBTVBfVE9fRURHRSxuLk5FQVJFU1QpLHIuYWN0aXZlVGV4dHVyZS5zZXQobi5URVhUVVJFNCksYy5kZW1UZXh0dXJlLmJpbmQobi5ORUFSRVNULG4uQ0xBTVBfVE9fRURHRSxuLk5FQVJFU1QpLGEudV9kZW1fbGVycD1oKToobD10aGlzLnRlcnJhaW5UaWxlRm9yVGlsZVt0LnRpbGVJRC5rZXldLHIuYWN0aXZlVGV4dHVyZS5zZXQobi5URVhUVVJFMiksKHRoaXMuX3ByZXBhcmVEZW1UaWxlVW5pZm9ybXModCxsLGEpP2wuZGVtVGV4dHVyZTp0aGlzLmVtcHR5REVNVGV4dHVyZSkuYmluZChuLk5FQVJFU1Qsbi5DTEFNUF9UT19FREdFKSksci5hY3RpdmVUZXh0dXJlLnNldChuLlRFWFRVUkUzKSxvJiZvLnVzZURlcHRoRm9yT2NjbHVzaW9uPyh0aGlzLl9kZXB0aFRleHR1cmUmJnRoaXMuX2RlcHRoVGV4dHVyZS5iaW5kKG4uTkVBUkVTVCxuLkNMQU1QX1RPX0VER0UpLHRoaXMuX2RlcHRoRkJPJiYoYS51X2RlcHRoX3NpemVfaW52PVsxL3RoaXMuX2RlcHRoRkJPLndpZHRoLDEvdGhpcy5fZGVwdGhGQk8uaGVpZ2h0XSkpOih0aGlzLmVtcHR5RGVwdGhCdWZmZXJUZXh0dXJlLmJpbmQobi5ORUFSRVNULG4uQ0xBTVBfVE9fRURHRSksYS51X2RlcHRoX3NpemVfaW52PVsxLDFdKSxvJiZvLnVzZU1ldGVyVG9EZW0mJmwpe2NvbnN0IHQ9KDE8PGwudGlsZUlELmNhbm9uaWNhbC56KSplLm1lcmNhdG9yWmZyb21BbHRpdHVkZSgxLHRoaXMucGFpbnRlci50cmFuc2Zvcm0uY2VudGVyLmxhdCkqdGhpcy5zb3VyY2VDYWNoZS5nZXRTb3VyY2UoKS50aWxlU2l6ZTthLnVfbWV0ZXJfdG9fZGVtPXQ7fWlmKG8mJm8ubGFiZWxQbGFuZU1hdHJpeEludiYmKGEudV9sYWJlbF9wbGFuZV9tYXRyaXhfaW52PW8ubGFiZWxQbGFuZU1hdHJpeEludiksaS5zZXRUZXJyYWluVW5pZm9ybVZhbHVlcyhyLGEpLFwiZ2xvYmVcIj09PXRoaXMucGFpbnRlci50cmFuc2Zvcm0ucHJvamVjdGlvbi5uYW1lKXtjb25zdCBlPXRoaXMuZ2xvYmVVbmlmb3JtVmFsdWVzKHRoaXMucGFpbnRlci50cmFuc2Zvcm0sdC50aWxlSUQuY2Fub25pY2FsLG8mJm8udXNlRGVub3JtYWxpemVkVXBWZWN0b3JTY2FsZSk7aS5zZXRHbG9iZVVuaWZvcm1WYWx1ZXMocixlKTt9fWdsb2JlVW5pZm9ybVZhbHVlcyh0LGksbyl7Y29uc3Qgcj10LnByb2plY3Rpb247cmV0dXJuIHt1X3RpbGVfdGxfdXA6ci51cFZlY3RvcihpLDAsMCksdV90aWxlX3RyX3VwOnIudXBWZWN0b3IoaSxlLkVYVEVOVCwwKSx1X3RpbGVfYnJfdXA6ci51cFZlY3RvcihpLGUuRVhURU5ULGUuRVhURU5UKSx1X3RpbGVfYmxfdXA6ci51cFZlY3RvcihpLDAsZS5FWFRFTlQpLHVfdGlsZV91cF9zY2FsZTpvP2UuR0xPQkVfTUVURVJTX1RPX0VDRUY6ci51cFZlY3RvclNjYWxlKGksdC5jZW50ZXIubGF0LHQud29ybGRTaXplKS5tZXRlcnNUb1RpbGV9fXJlbmRlclRvQmFja0J1ZmZlcih0KXtjb25zdCBpPXRoaXMucGFpbnRlcixvPXRoaXMucGFpbnRlci5jb250ZXh0OzAhPT10Lmxlbmd0aCYmKG8uYmluZEZyYW1lYnVmZmVyLnNldChudWxsKSxvLnZpZXdwb3J0LnNldChbMCwwLGkud2lkdGgsaS5oZWlnaHRdKSxpLmdwdVRpbWluZ0RlZmVycmVkUmVuZGVyU3RhcnQoKSx0aGlzLnJlbmRlcmluZ1RvVGV4dHVyZT0hMSxmdW5jdGlvbih0LGksbyxyLG4pe2lmKFwiZ2xvYmVcIj09PXQudHJhbnNmb3JtLnByb2plY3Rpb24ubmFtZSkhZnVuY3Rpb24odCxpLG8scixuKXtjb25zdCBhPXQuY29udGV4dCxzPWEuZ2w7bGV0IGwsYztjb25zdCBoPXQub3B0aW9ucy5zaG93VGVycmFpbldpcmVmcmFtZT8yOjAsXz10LnRyYW5zZm9ybSx1PWUuZ2xvYmVVc2VDdXN0b21BbnRpQWxpYXNpbmcodCxhLF8pLGQ9KGUsaSk9PntpZihjPT09ZSlyZXR1cm47Y29uc3Qgbz1bQ2lbZV0sXCJQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcIl07dSYmby5wdXNoKFwiQ1VTVE9NX0FOVElBTElBU0lOR1wiKSxpJiZvLnB1c2goQ2lbaF0pLGw9dC51c2VQcm9ncmFtKFwiZ2xvYmVSYXN0ZXJcIixudWxsLG8pLGM9ZTt9LHA9dC5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCksbT1uZXcgZS5EZXB0aE1vZGUocy5MRVFVQUwsZS5EZXB0aE1vZGUuUmVhZFdyaXRlLHQuZGVwdGhSYW5nZUZvcjNEKTtFaS51cGRhdGUobik7Y29uc3QgZj1lLmNhbGN1bGF0ZUdsb2JlTWVyY2F0b3JNYXRyaXgoXyksZz1bZS5tZXJjYXRvclhmcm9tTG5nKF8uY2VudGVyLmxuZyksZS5tZXJjYXRvcllmcm9tTGF0KF8uY2VudGVyLmxhdCldLHY9aD9bITEsITBdOlshMV0seD10Lmdsb2JlU2hhcmVkQnVmZmVycyx5PVtfLndpZHRoKmUuZXhwb3J0ZWQuZGV2aWNlUGl4ZWxSYXRpbyxfLmhlaWdodCplLmV4cG9ydGVkLmRldmljZVBpeGVsUmF0aW9dLGI9RmxvYXQzMkFycmF5LmZyb20oXy5nbG9iZU1hdHJpeCksdz17dXNlRGVub3JtYWxpemVkVXBWZWN0b3JTY2FsZTohMH07aWYodi5mb3JFYWNoKChoPT57Yz0tMTtjb25zdCB1PWg/cy5MSU5FUzpzLlRSSUFOR0xFUztmb3IoY29uc3QgYyBvZiByKXtjb25zdCByPW8uZ2V0VGlsZShjKSx2PWUuU3RlbmNpbE1vZGUuZGlzYWJsZWQsVD1pLnByZXZUZXJyYWluVGlsZUZvclRpbGVbYy5rZXldLEU9aS50ZXJyYWluVGlsZUZvclRpbGVbYy5rZXldO1RpKFQsRSkmJkVpLm5ld01vcnBoaW5nKGMua2V5LFQsRSxuLDI1MCksYS5hY3RpdmVUZXh0dXJlLnNldChzLlRFWFRVUkUwKSxyLnRleHR1cmUuYmluZChzLkxJTkVBUixzLkNMQU1QX1RPX0VER0UpO2NvbnN0IEM9RWkuZ2V0TW9ycGhWYWx1ZXNGb3JQcm94eShjLmtleSksST1DPzE6MDtDJiZlLmV4dGVuZCQxKHcse21vcnBoaW5nOntzcmNEZW1UaWxlOkMuZnJvbSxkc3REZW1UaWxlOkMudG8scGhhc2U6ZS5lYXNlQ3ViaWNJbk91dChDLnBoYXNlKX19KTtjb25zdCBNPWUudGlsZUNvcm5lcnNUb0JvdW5kcyhjLmNhbm9uaWNhbCksUz1lLmdldExhdGl0dWRpbmFsTG9kKE0uZ2V0Q2VudGVyKCkubGF0KSx6PWUuZ2V0R3JpZE1hdHJpeChjLmNhbm9uaWNhbCxNLFMsXy53b3JsZFNpemUvXy5fcGl4ZWxzUGVyTWVyY2F0b3JQaXhlbCksRD1lLmdsb2JlTm9ybWFsaXplRUNFRihlLmdsb2JlVGlsZUJvdW5kcyhjLmNhbm9uaWNhbCkpLEE9d2koXy5wcm9qTWF0cml4LGIsZixELGUuZ2xvYmVUb01lcmNhdG9yVHJhbnNpdGlvbihfLnpvb20pLGcsXy5mcnVzdHVtQ29ybmVycy5UTCxfLmZydXN0dW1Db3JuZXJzLlRSLF8uZnJ1c3R1bUNvcm5lcnMuQlIsXy5mcnVzdHVtQ29ybmVycy5CTCxfLmdsb2JlQ2VudGVySW5WaWV3U3BhY2UsXy5nbG9iZVJhZGl1cyx5LHopO2lmKGQoSSxoKSxpLnNldHVwRWxldmF0aW9uRHJhdyhyLGwsdyksdC5wcmVwYXJlRHJhd1Byb2dyYW0oYSxsLGMudG9VbndyYXBwZWQoKSkseCl7Y29uc3RbaSxvLHJdPWg/eC5nZXRXaXJlZmFtZUJ1ZmZlcnModC5jb250ZXh0LFMpOnguZ2V0R3JpZEJ1ZmZlcnMoUyk7bC5kcmF3KGEsdSxtLHYscCxlLkN1bGxGYWNlTW9kZS5iYWNrQ0NXLEEsXCJnbG9iZV9yYXN0ZXJcIixpLG8scik7fX19KSkseCl7Y29uc3Qgbj1bXCJHTE9CRV9QT0xFU1wiLFwiUFJPSkVDVElPTl9HTE9CRV9WSUVXXCJdO3UmJm4ucHVzaChcIkNVU1RPTV9BTlRJQUxJQVNJTkdcIiksbD10LnVzZVByb2dyYW0oXCJnbG9iZVJhc3RlclwiLG51bGwsbik7Zm9yKGNvbnN0IG4gb2Ygcil7Y29uc3R7eDpyLHk6Yyx6Omh9PW4uY2Fub25pY2FsLHU9MD09PWMsZD1jPT09KDE8PGgpLTEsW2YsdixiLFRdPXguZ2V0UG9sZUJ1ZmZlcnMoaCk7aWYoVCYmKHV8fGQpKXtjb25zdCBjPW8uZ2V0VGlsZShuKTthLmFjdGl2ZVRleHR1cmUuc2V0KHMuVEVYVFVSRTApLGMudGV4dHVyZS5iaW5kKHMuTElORUFSLHMuQ0xBTVBfVE9fRURHRSk7bGV0IHg9ZS5nbG9iZVBvbGVNYXRyaXhGb3JUaWxlKGgscixfKTtjb25zdCBFPWUuZ2xvYmVOb3JtYWxpemVFQ0VGKGUuZ2xvYmVUaWxlQm91bmRzKG4uY2Fub25pY2FsKSksQz0odCxpKT0+dC5kcmF3KGEscy5UUklBTkdMRVMsbSxlLlN0ZW5jaWxNb2RlLmRpc2FibGVkLHAsZS5DdWxsRmFjZU1vZGUuZGlzYWJsZWQsd2koXy5wcm9qTWF0cml4LHgseCxFLDAsZyxfLmZydXN0dW1Db3JuZXJzLlRMLF8uZnJ1c3R1bUNvcm5lcnMuVFIsXy5mcnVzdHVtQ29ybmVycy5CUixfLmZydXN0dW1Db3JuZXJzLkJMLF8uZ2xvYmVDZW50ZXJJblZpZXdTcGFjZSxfLmdsb2JlUmFkaXVzLHkpLFwiZ2xvYmVfcG9sZV9yYXN0ZXJcIixpLGIsVCk7aS5zZXR1cEVsZXZhdGlvbkRyYXcoYyxsLHcpLHQucHJlcGFyZURyYXdQcm9ncmFtKGEsbCxuLnRvVW53cmFwcGVkKCkpLHUmJkMobCxmKSxkJiYoeD1lLnNjYWxlKGUuY3JlYXRlKCkseCxbMSwtMSwxXSksQyhsLHYpKTt9fX19KHQsaSxvLHIsbik7ZWxzZSB7Y29uc3QgYT10LmNvbnRleHQscz1hLmdsO2xldCBsLGM7Y29uc3QgaD10Lm9wdGlvbnMuc2hvd1RlcnJhaW5XaXJlZnJhbWU/MjowLF89KGUsaSk9PntpZihjPT09ZSlyZXR1cm47Y29uc3Qgbz1bQ2lbZV1dO2kmJm8ucHVzaChDaVtoXSksbD10LnVzZVByb2dyYW0oXCJ0ZXJyYWluUmFzdGVyXCIsbnVsbCxvKSxjPWU7fSx1PXQuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpLGQ9bmV3IGUuRGVwdGhNb2RlKHMuTEVRVUFMLGUuRGVwdGhNb2RlLlJlYWRXcml0ZSx0LmRlcHRoUmFuZ2VGb3IzRCk7RWkudXBkYXRlKG4pO2NvbnN0IHA9dC50cmFuc2Zvcm0sbT02Kk1hdGgucG93KDEuNSwyMi1wLnpvb20pKmkuZXhhZ2dlcmF0aW9uKCk7KGg/WyExLCEwXTpbITFdKS5mb3JFYWNoKChoPT57Yz0tMTtjb25zdCBmPWg/cy5MSU5FUzpzLlRSSUFOR0xFUyxbZyx2XT1oP2kuZ2V0V2lyZWZhbWVCdWZmZXIoKTpbaS5ncmlkSW5kZXhCdWZmZXIsaS5ncmlkU2VnbWVudHNdO2Zvcihjb25zdCBjIG9mIHIpe2NvbnN0IHI9by5nZXRUaWxlKGMpLHg9ZS5TdGVuY2lsTW9kZS5kaXNhYmxlZCx5PWkucHJldlRlcnJhaW5UaWxlRm9yVGlsZVtjLmtleV0sYj1pLnRlcnJhaW5UaWxlRm9yVGlsZVtjLmtleV07VGkoeSxiKSYmRWkubmV3TW9ycGhpbmcoYy5rZXkseSxiLG4sMjUwKSxhLmFjdGl2ZVRleHR1cmUuc2V0KHMuVEVYVFVSRTApLHIudGV4dHVyZS5iaW5kKHMuTElORUFSLHMuQ0xBTVBfVE9fRURHRSxzLkxJTkVBUl9NSVBNQVBfTkVBUkVTVCk7Y29uc3Qgdz1FaS5nZXRNb3JwaFZhbHVlc0ZvclByb3h5KGMua2V5KSxUPXc/MTowO2xldCBFO3cmJihFPXttb3JwaGluZzp7c3JjRGVtVGlsZTp3LmZyb20sZHN0RGVtVGlsZTp3LnRvLHBoYXNlOmUuZWFzZUN1YmljSW5PdXQody5waGFzZSl9fSk7Y29uc3QgQz1iaShjLnByb2pNYXRyaXgsSWkoYy5jYW5vbmljYWwscC5yZW5kZXJXb3JsZENvcGllcyk/bS8xMDptKTtfKFQsaCksaS5zZXR1cEVsZXZhdGlvbkRyYXcocixsLEUpLHQucHJlcGFyZURyYXdQcm9ncmFtKGEsbCxjLnRvVW53cmFwcGVkKCkpLGwuZHJhdyhhLGYsZCx4LHUsZS5DdWxsRmFjZU1vZGUuYmFja0NDVyxDLFwidGVycmFpbl9yYXN0ZXJcIixpLmdyaWRCdWZmZXIsZyx2KTt9fSkpO319KGksdGhpcyx0aGlzLnByb3h5U291cmNlQ2FjaGUsdCx0aGlzLl91cGRhdGVUaW1lc3RhbXApLHRoaXMucmVuZGVyaW5nVG9UZXh0dXJlPSEwLGkuZ3B1VGltaW5nRGVmZXJyZWRSZW5kZXJFbmQoKSx0LnNwbGljZSgwLHQubGVuZ3RoKSk7fXJlbmRlckJhdGNoKHQpe2lmKDA9PT10aGlzLl9kcmFwZWRSZW5kZXJCYXRjaGVzLmxlbmd0aClyZXR1cm4gdCsxO3RoaXMucmVuZGVyaW5nVG9UZXh0dXJlPSEwO2NvbnN0IGk9dGhpcy5wYWludGVyLG89dGhpcy5wYWludGVyLmNvbnRleHQscj10aGlzLnByb3h5U291cmNlQ2FjaGUsbj10aGlzLnByb3hpZWRDb29yZHNbci5pZF0sYT10aGlzLl9kcmFwZWRSZW5kZXJCYXRjaGVzLnNoaWZ0KCkscz1bXSxsPWkuc3R5bGUub3JkZXI7bGV0IGM9MDtmb3IoY29uc3QgaCBvZiBuKXtjb25zdCBuPXIuZ2V0VGlsZUJ5SUQoaC5wcm94eVRpbGVLZXkpLF89ci5wcm94eUNhY2hlZEZCT1toLmtleV0/ci5wcm94eUNhY2hlZEZCT1toLmtleV1bdF06dm9pZCAwLHU9dm9pZCAwIT09Xz9yLnJlbmRlckNhY2hlW19dOnRoaXMucG9vbFtjKytdLGQ9dm9pZCAwIT09XztpZihuLnRleHR1cmU9dS50ZXgsZCYmIXUuZGlydHkpe3MucHVzaChuLnRpbGVJRCk7Y29udGludWV9bGV0IHA7by5iaW5kRnJhbWVidWZmZXIuc2V0KHUuZmIuZnJhbWVidWZmZXIpLHRoaXMucmVuZGVyZWRUb1RpbGU9ITEsdS5kaXJ0eSYmKG8uY2xlYXIoe2NvbG9yOmUuQ29sb3IudHJhbnNwYXJlbnQsc3RlbmNpbDowfSksdS5kaXJ0eT0hMSk7Zm9yKGxldCBlPWEuc3RhcnQ7ZTw9YS5lbmQ7KytlKXtjb25zdCB0PWkuc3R5bGUuX2xheWVyc1tsW2VdXTtpZih0LmlzSGlkZGVuKGkudHJhbnNmb3JtLnpvb20pKWNvbnRpbnVlO2NvbnN0IHI9aS5zdHlsZS5fZ2V0TGF5ZXJTb3VyY2VDYWNoZSh0KSxuPXI/dGhpcy5wcm94eVRvU291cmNlW2gua2V5XVtyLmlkXTpbaF07aWYoIW4pY29udGludWU7Y29uc3QgYT1uO28udmlld3BvcnQuc2V0KFswLDAsdS5mYi53aWR0aCx1LmZiLmhlaWdodF0pLHAhPT0ocj9yLmlkOm51bGwpJiYodGhpcy5fc2V0dXBTdGVuY2lsKHUsbix0LHIpLHA9cj9yLmlkOm51bGwpLGkucmVuZGVyTGF5ZXIoaSxyLHQsYSk7fXRoaXMucmVuZGVyZWRUb1RpbGU/KHUuZGlydHk9ITAscy5wdXNoKG4udGlsZUlEKSk6ZHx8LS1jLDU9PT1jJiYoYz0wLHRoaXMucmVuZGVyVG9CYWNrQnVmZmVyKHMpKTt9cmV0dXJuIHRoaXMucmVuZGVyVG9CYWNrQnVmZmVyKHMpLHRoaXMucmVuZGVyaW5nVG9UZXh0dXJlPSExLG8uYmluZEZyYW1lYnVmZmVyLnNldChudWxsKSxvLnZpZXdwb3J0LnNldChbMCwwLGkud2lkdGgsaS5oZWlnaHRdKSxhLmVuZCsxfXBvc3RSZW5kZXIoKXt9cmVuZGVyQ2FjaGVFZmZpY2llbmN5KGUpe2NvbnN0IHQ9ZS5vcmRlci5sZW5ndGg7aWYoMD09PXQpcmV0dXJuIHtlZmZpY2llbmN5OjEwMH07bGV0IGksbz0wLHI9MCxuPSExO2ZvcihsZXQgYT0wO2E8dDsrK2Epe2NvbnN0IHQ9ZS5fbGF5ZXJzW2Uub3JkZXJbYV1dO3RoaXMuX3N0eWxlLmlzTGF5ZXJEcmFwZWQodCk/KG4mJisrbywrK3IpOm58fChuPSEwLGk9dC5pZCk7fXJldHVybiAwPT09cj97ZWZmaWNpZW5jeToxMDB9OntlZmZpY2llbmN5OjEwMCooMS1vL3IpLGZpcnN0VW5kcmFwZWRMYXllcjppfX1nZXRNaW5FbGV2YXRpb25CZWxvd01TTCgpe2xldCBlPTA7cmV0dXJuIHRoaXMuX3Zpc2libGVEZW1UaWxlcy5maWx0ZXIoKGU9PmUuZGVtKSkuZm9yRWFjaCgodD0+e2U9TWF0aC5taW4oZSx0LmRlbS50cmVlLm1pbmltdW1zWzBdKTt9KSksMD09PWU/ZTooZS0zMCkqdGhpcy5fZXhhZ2dlcmF0aW9ufXJheWNhc3QoZSx0LGkpe2lmKCF0aGlzLl92aXNpYmxlRGVtVGlsZXMpcmV0dXJuIG51bGw7Y29uc3Qgbz10aGlzLl92aXNpYmxlRGVtVGlsZXMuZmlsdGVyKChlPT5lLmRlbSkpLm1hcCgobz0+e2NvbnN0IHI9by50aWxlSUQsbj0xPDxyLm92ZXJzY2FsZWRaLHt4OmEseTpzfT1yLmNhbm9uaWNhbCxsPWEvbixjPShhKzEpL24saD1zL24sXz0ocysxKS9uO3JldHVybiB7bWlueDpsLG1pbnk6aCxtYXh4OmMsbWF4eTpfLHQ6by5kZW0udHJlZS5yYXljYXN0Um9vdChsLGgsYyxfLGUsdCxpKSx0aWxlOm99fSkpO28uc29ydCgoKGUsdCk9PihudWxsIT09ZS50P2UudDpOdW1iZXIuTUFYX1ZBTFVFKS0obnVsbCE9PXQudD90LnQ6TnVtYmVyLk1BWF9WQUxVRSkpKTtmb3IoY29uc3QgciBvZiBvKXtpZihudWxsPT1yLnQpcmV0dXJuIG51bGw7Y29uc3Qgbz1yLnRpbGUuZGVtLnRyZWUucmF5Y2FzdChyLm1pbngsci5taW55LHIubWF4eCxyLm1heHksZSx0LGkpO2lmKG51bGwhPW8pcmV0dXJuIG99cmV0dXJuIG51bGx9X2NyZWF0ZUZCTygpe2NvbnN0IHQ9dGhpcy5wYWludGVyLmNvbnRleHQsaT10LmdsLG89dGhpcy5kcmFwZUJ1ZmZlclNpemU7dC5hY3RpdmVUZXh0dXJlLnNldChpLlRFWFRVUkUwKTtjb25zdCByPW5ldyBlLlRleHR1cmUodCx7d2lkdGg6b1swXSxoZWlnaHQ6b1sxXSxkYXRhOm51bGx9LGkuUkdCQSk7ci5iaW5kKGkuTElORUFSLGkuQ0xBTVBfVE9fRURHRSk7Y29uc3Qgbj10LmNyZWF0ZUZyYW1lYnVmZmVyKG9bMF0sb1sxXSwhMSk7cmV0dXJuIG4uY29sb3JBdHRhY2htZW50LnNldChyLnRleHR1cmUpLG4uZGVwdGhBdHRhY2htZW50PW5ldyBFZSh0LG4uZnJhbWVidWZmZXIpLHZvaWQgMD09PXRoaXMuX3NoYXJlZERlcHRoU3RlbmNpbD8odGhpcy5fc2hhcmVkRGVwdGhTdGVuY2lsPXQuY3JlYXRlUmVuZGVyYnVmZmVyKHQuZ2wuREVQVEhfU1RFTkNJTCxvWzBdLG9bMV0pLHRoaXMuX3N0ZW5jaWxSZWY9MCxuLmRlcHRoQXR0YWNobWVudC5zZXQodGhpcy5fc2hhcmVkRGVwdGhTdGVuY2lsKSx0LmNsZWFyKHtzdGVuY2lsOjB9KSk6bi5kZXB0aEF0dGFjaG1lbnQuc2V0KHRoaXMuX3NoYXJlZERlcHRoU3RlbmNpbCksdC5leHRUZXh0dXJlRmlsdGVyQW5pc290cm9waWMmJiF0LmV4dFRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpY0ZvcmNlT2ZmJiZpLnRleFBhcmFtZXRlcmYoaS5URVhUVVJFXzJELHQuZXh0VGV4dHVyZUZpbHRlckFuaXNvdHJvcGljLlRFWFRVUkVfTUFYX0FOSVNPVFJPUFlfRVhULHQuZXh0VGV4dHVyZUZpbHRlckFuaXNvdHJvcGljTWF4KSx7ZmI6bix0ZXg6cixkaXJ0eTohMX19X2luaXRGQk9Qb29sKCl7Zm9yKDt0aGlzLnBvb2wubGVuZ3RoPE1hdGgubWluKDUsdGhpcy5wcm94eUNvb3Jkcy5sZW5ndGgpOyl0aGlzLnBvb2wucHVzaCh0aGlzLl9jcmVhdGVGQk8oKSk7fV9zaG91bGREaXNhYmxlUmVuZGVyQ2FjaGUoKXtpZih0aGlzLl9zdHlsZS5saWdodCYmdGhpcy5fc3R5bGUubGlnaHQuaGFzVHJhbnNpdGlvbigpKXJldHVybiAhMDtmb3IoY29uc3QgZSBpbiB0aGlzLl9zdHlsZS5fc291cmNlQ2FjaGVzKWlmKHRoaXMuX3N0eWxlLl9zb3VyY2VDYWNoZXNbZV0uaGFzVHJhbnNpdGlvbigpKXJldHVybiAhMDtyZXR1cm4gdGhpcy5fc3R5bGUub3JkZXIuc29tZSgoZT0+e2NvbnN0IHQ9dGhpcy5fc3R5bGUuX2xheWVyc1tlXSxpPXQuaXNIaWRkZW4odGhpcy5wYWludGVyLnRyYW5zZm9ybS56b29tKSxvPXQuZ2V0Q3Jvc3NmYWRlUGFyYW1ldGVycygpLHI9ISFvJiYxIT09by50LG49dC5oYXNUcmFuc2l0aW9uKCk7cmV0dXJuIFwiY3VzdG9tXCIhPT10LnR5cGUmJiFpJiYocnx8bil9KSl9X2NsZWFyUmFzdGVyRmFkZUZyb21SZW5kZXJDYWNoZSgpe2xldCBlPSExO2Zvcihjb25zdCB0IGluIHRoaXMuX3N0eWxlLl9zb3VyY2VDYWNoZXMpaWYodGhpcy5fc3R5bGUuX3NvdXJjZUNhY2hlc1t0XS5fc291cmNlIGluc3RhbmNlb2YgTWUpe2U9ITA7YnJlYWt9aWYoZSlmb3IobGV0IGU9MDtlPHRoaXMuX3N0eWxlLm9yZGVyLmxlbmd0aDsrK2Upe2NvbnN0IHQ9dGhpcy5fc3R5bGUuX2xheWVyc1t0aGlzLl9zdHlsZS5vcmRlcltlXV0saT10LmlzSGlkZGVuKHRoaXMucGFpbnRlci50cmFuc2Zvcm0uem9vbSksbz10aGlzLl9zdHlsZS5fZ2V0TGF5ZXJTb3VyY2VDYWNoZSh0KTtpZihcInJhc3RlclwiIT09dC50eXBlfHxpfHwhbyljb250aW51ZTtjb25zdCByPXQucGFpbnQuZ2V0KFwicmFzdGVyLWZhZGUtZHVyYXRpb25cIik7Zm9yKGNvbnN0IGUgb2YgdGhpcy5wcm94eUNvb3Jkcyl7Y29uc3QgdD10aGlzLnByb3h5VG9Tb3VyY2VbZS5rZXldW28uaWRdO2lmKHQpZm9yKGNvbnN0IGUgb2YgdCl7Y29uc3QgdD1TaShvLmdldFRpbGUoZSksby5maW5kTG9hZGVkUGFyZW50KGUsMCksbyx0aGlzLnBhaW50ZXIudHJhbnNmb3JtLHIpOygxIT09dC5vcGFjaXR5fHwwIT09dC5taXgpJiZ0aGlzLl9jbGVhclJlbmRlckNhY2hlRm9yVGlsZShvLmlkLGUpO319fX1fc2V0dXBEcmFwZWRSZW5kZXJCYXRjaGVzKCl7Y29uc3QgZT10aGlzLl9zdHlsZS5vcmRlcix0PWUubGVuZ3RoO2lmKDA9PT10KXJldHVybjtjb25zdCBpPVtdO2xldCBvLHI9MCxuPXRoaXMuX3N0eWxlLl9sYXllcnNbZVtyXV07Zm9yKDshdGhpcy5fc3R5bGUuaXNMYXllckRyYXBlZChuKSYmbi5pc0hpZGRlbih0aGlzLnBhaW50ZXIudHJhbnNmb3JtLnpvb20pJiYrK3I8dDspbj10aGlzLl9zdHlsZS5fbGF5ZXJzW2Vbcl1dO2Zvcig7cjx0Oysrcil7Y29uc3QgdD10aGlzLl9zdHlsZS5fbGF5ZXJzW2Vbcl1dO3QuaXNIaWRkZW4odGhpcy5wYWludGVyLnRyYW5zZm9ybS56b29tKXx8KHRoaXMuX3N0eWxlLmlzTGF5ZXJEcmFwZWQodCk/dm9pZCAwPT09byYmKG89cik6dm9pZCAwIT09byYmKGkucHVzaCh7c3RhcnQ6byxlbmQ6ci0xfSksbz12b2lkIDApKTt9dm9pZCAwIT09byYmaS5wdXNoKHtzdGFydDpvLGVuZDpyLTF9KSx0aGlzLl9kcmFwZWRSZW5kZXJCYXRjaGVzPWk7fV9zZXR1cFJlbmRlckNhY2hlKGUpe2NvbnN0IHQ9dGhpcy5wcm94eVNvdXJjZUNhY2hlO2lmKHRoaXMuX3Nob3VsZERpc2FibGVSZW5kZXJDYWNoZSgpfHx0aGlzLl9pbnZhbGlkYXRlUmVuZGVyQ2FjaGUpe2lmKHRoaXMuX2ludmFsaWRhdGVSZW5kZXJDYWNoZT0hMSx0LnJlbmRlckNhY2hlLmxlbmd0aD50LnJlbmRlckNhY2hlUG9vbC5sZW5ndGgpe2NvbnN0IGU9T2JqZWN0LnZhbHVlcyh0LnByb3h5Q2FjaGVkRkJPKTt0LnByb3h5Q2FjaGVkRkJPPXt9O2ZvcihsZXQgaT0wO2k8ZS5sZW5ndGg7KytpKXtjb25zdCBvPU9iamVjdC52YWx1ZXMoZVtpXSk7dC5yZW5kZXJDYWNoZVBvb2wucHVzaCguLi5vKTt9fXJldHVybn10aGlzLl9jbGVhclJhc3RlckZhZGVGcm9tUmVuZGVyQ2FjaGUoKTtjb25zdCBpPXRoaXMucHJveHlDb29yZHMsbz10aGlzLl90aWxlc0RpcnR5O2ZvcihsZXQgcj1pLmxlbmd0aC0xO3I+PTA7ci0tKXtjb25zdCBuPWlbcl07aWYodC5nZXRUaWxlQnlJRChuLmtleSksdm9pZCAwIT09dC5wcm94eUNhY2hlZEZCT1tuLmtleV0pe2NvbnN0IGk9ZVtuLmtleV0scj10aGlzLnByb3h5VG9Tb3VyY2Vbbi5rZXldO2xldCBhPTA7Zm9yKGNvbnN0IGUgaW4gcil7Y29uc3QgdD1yW2VdLG49aVtlXTtpZighbnx8bi5sZW5ndGghPT10Lmxlbmd0aHx8dC5zb21lKCgodCxpKT0+dCE9PW5baV18fG9bZV0mJm9bZV0uaGFzT3duUHJvcGVydHkodC5rZXkpKSkpe2E9LTE7YnJlYWt9KythO31mb3IoY29uc3QgZSBpbiB0LnByb3h5Q2FjaGVkRkJPW24ua2V5XSl0LnJlbmRlckNhY2hlW3QucHJveHlDYWNoZWRGQk9bbi5rZXldW2VdXS5kaXJ0eT1hPDB8fGEhPT1PYmplY3QudmFsdWVzKGkpLmxlbmd0aDt9fWNvbnN0IHI9Wy4uLnRoaXMuX2RyYXBlZFJlbmRlckJhdGNoZXNdO3Iuc29ydCgoKGUsdCk9PnQuZW5kLXQuc3RhcnQtKGUuZW5kLWUuc3RhcnQpKSk7Zm9yKGNvbnN0IGUgb2Ygcilmb3IoY29uc3QgbyBvZiBpKXtpZih0LnByb3h5Q2FjaGVkRkJPW28ua2V5XSljb250aW51ZTtsZXQgaT10LnJlbmRlckNhY2hlUG9vbC5wb3AoKTt2b2lkIDA9PT1pJiZ0LnJlbmRlckNhY2hlLmxlbmd0aDw1MCYmKGk9dC5yZW5kZXJDYWNoZS5sZW5ndGgsdC5yZW5kZXJDYWNoZS5wdXNoKHRoaXMuX2NyZWF0ZUZCTygpKSksdm9pZCAwIT09aSYmKHQucHJveHlDYWNoZWRGQk9bby5rZXldPXt9LHQucHJveHlDYWNoZWRGQk9bby5rZXldW2Uuc3RhcnRdPWksdC5yZW5kZXJDYWNoZVtpXS5kaXJ0eT0hMCk7fXRoaXMuX3RpbGVzRGlydHk9e307fV9zZXR1cFN0ZW5jaWwoZSx0LGksbyl7aWYoIW98fCF0aGlzLl9zb3VyY2VUaWxlc092ZXJsYXBbby5pZF0pcmV0dXJuIHZvaWQodGhpcy5fb3ZlcmxhcFN0ZW5jaWxUeXBlJiYodGhpcy5fb3ZlcmxhcFN0ZW5jaWxUeXBlPSExKSk7Y29uc3Qgcj10aGlzLnBhaW50ZXIuY29udGV4dCxuPXIuZ2w7aWYodC5sZW5ndGg8PTEpcmV0dXJuIHZvaWQodGhpcy5fb3ZlcmxhcFN0ZW5jaWxUeXBlPSExKTtsZXQgYTtpZihpLmlzVGlsZUNsaXBwZWQoKSlhPXQubGVuZ3RoLHRoaXMuX292ZXJsYXBTdGVuY2lsTW9kZS50ZXN0PXtmdW5jOm4uRVFVQUwsbWFzazoyNTV9LHRoaXMuX292ZXJsYXBTdGVuY2lsVHlwZT1cIkNsaXBcIjtlbHNlIHtpZighKHRbMF0ub3ZlcnNjYWxlZFo+dFt0Lmxlbmd0aC0xXS5vdmVyc2NhbGVkWikpcmV0dXJuIHZvaWQodGhpcy5fb3ZlcmxhcFN0ZW5jaWxUeXBlPSExKTthPTEsdGhpcy5fb3ZlcmxhcFN0ZW5jaWxNb2RlLnRlc3Q9e2Z1bmM6bi5HUkVBVEVSLG1hc2s6MjU1fSx0aGlzLl9vdmVybGFwU3RlbmNpbFR5cGU9XCJNYXNrXCI7fXRoaXMuX3N0ZW5jaWxSZWYrYT4yNTUmJihyLmNsZWFyKHtzdGVuY2lsOjB9KSx0aGlzLl9zdGVuY2lsUmVmPTApLHRoaXMuX3N0ZW5jaWxSZWYrPWEsdGhpcy5fb3ZlcmxhcFN0ZW5jaWxNb2RlLnJlZj10aGlzLl9zdGVuY2lsUmVmLGkuaXNUaWxlQ2xpcHBlZCgpJiZ0aGlzLl9yZW5kZXJUaWxlQ2xpcHBpbmdNYXNrcyh0LHRoaXMuX292ZXJsYXBTdGVuY2lsTW9kZS5yZWYpO31jbGlwT3JNYXNrT3ZlcmxhcFN0ZW5jaWxUeXBlKCl7cmV0dXJuIFwiQ2xpcFwiPT09dGhpcy5fb3ZlcmxhcFN0ZW5jaWxUeXBlfHxcIk1hc2tcIj09PXRoaXMuX292ZXJsYXBTdGVuY2lsVHlwZX1zdGVuY2lsTW9kZUZvclJUVE92ZXJsYXAodCl7cmV0dXJuIHRoaXMucmVuZGVyaW5nVG9UZXh0dXJlJiZ0aGlzLl9vdmVybGFwU3RlbmNpbFR5cGU/KFwiQ2xpcFwiPT09dGhpcy5fb3ZlcmxhcFN0ZW5jaWxUeXBlJiYodGhpcy5fb3ZlcmxhcFN0ZW5jaWxNb2RlLnJlZj10aGlzLnBhaW50ZXIuX3RpbGVDbGlwcGluZ01hc2tJRHNbdC5rZXldKSx0aGlzLl9vdmVybGFwU3RlbmNpbE1vZGUpOmUuU3RlbmNpbE1vZGUuZGlzYWJsZWR9X3JlbmRlclRpbGVDbGlwcGluZ01hc2tzKHQsaSl7Y29uc3Qgbz10aGlzLnBhaW50ZXIscj10aGlzLnBhaW50ZXIuY29udGV4dCxuPXIuZ2w7by5fdGlsZUNsaXBwaW5nTWFza0lEcz17fSxyLnNldENvbG9yTW9kZShlLkNvbG9yTW9kZS5kaXNhYmxlZCksci5zZXREZXB0aE1vZGUoZS5EZXB0aE1vZGUuZGlzYWJsZWQpO2NvbnN0IGE9by51c2VQcm9ncmFtKFwiY2xpcHBpbmdNYXNrXCIpO2Zvcihjb25zdCBzIG9mIHQpe2NvbnN0IHQ9by5fdGlsZUNsaXBwaW5nTWFza0lEc1tzLmtleV09LS1pO2EuZHJhdyhyLG4uVFJJQU5HTEVTLGUuRGVwdGhNb2RlLmRpc2FibGVkLG5ldyBlLlN0ZW5jaWxNb2RlKHtmdW5jOm4uQUxXQVlTLG1hc2s6MH0sdCwyNTUsbi5LRUVQLG4uS0VFUCxuLlJFUExBQ0UpLGUuQ29sb3JNb2RlLmRpc2FibGVkLGUuQ3VsbEZhY2VNb2RlLmRpc2FibGVkLE1pKHMucHJvak1hdHJpeCksXCIkY2xpcHBpbmdcIixvLnRpbGVFeHRlbnRCdWZmZXIsby5xdWFkVHJpYW5nbGVJbmRleEJ1ZmZlcixvLnRpbGVFeHRlbnRTZWdtZW50cyk7fX1wb2ludENvb3JkaW5hdGUodCl7Y29uc3QgaT10aGlzLnBhaW50ZXIudHJhbnNmb3JtO2lmKHQueDwwfHx0Lng+aS53aWR0aHx8dC55PDB8fHQueT5pLmhlaWdodClyZXR1cm4gbnVsbDtjb25zdCBvPVt0LngsdC55LDEsMV07ZS50cmFuc2Zvcm1NYXQ0JDEobyxvLGkucGl4ZWxNYXRyaXhJbnZlcnNlKSxlLnNjYWxlJDEobyxvLDEvb1szXSksb1swXS89aS53b3JsZFNpemUsb1sxXS89aS53b3JsZFNpemU7Y29uc3Qgcj1pLl9jYW1lcmEucG9zaXRpb24sbj1lLm1lcmNhdG9yWmZyb21BbHRpdHVkZSgxLGkuY2VudGVyLmxhdCksYT1bclswXSxyWzFdLHJbMl0vbiwwXSxzPWUuc3VidHJhY3QoW10sby5zbGljZSgwLDMpLGEpO2Uubm9ybWFsaXplKHMscyk7Y29uc3QgbD10aGlzLnJheWNhc3QoYSxzLHRoaXMuX2V4YWdnZXJhdGlvbik7cmV0dXJuIG51bGwhPT1sJiZsPyhlLnNjYWxlQW5kQWRkKGEsYSxzLGwpLGFbM109YVsyXSxhWzJdKj1uLGEpOm51bGx9ZHJhd0RlcHRoKCl7Y29uc3QgdD10aGlzLnBhaW50ZXIsaT10LmNvbnRleHQsbz10aGlzLnByb3h5U291cmNlQ2FjaGUscj1NYXRoLmNlaWwodC53aWR0aCksbj1NYXRoLmNlaWwodC5oZWlnaHQpO2lmKCF0aGlzLl9kZXB0aEZCT3x8dGhpcy5fZGVwdGhGQk8ud2lkdGg9PT1yJiZ0aGlzLl9kZXB0aEZCTy5oZWlnaHQ9PT1ufHwodGhpcy5fZGVwdGhGQk8uZGVzdHJveSgpLHRoaXMuX2RlcHRoRkJPPXZvaWQgMCx0aGlzLl9kZXB0aFRleHR1cmU9dm9pZCAwKSwhdGhpcy5fZGVwdGhGQk8pe2NvbnN0IHQ9aS5nbCxvPWkuY3JlYXRlRnJhbWVidWZmZXIocixuLCEwKTtpLmFjdGl2ZVRleHR1cmUuc2V0KHQuVEVYVFVSRTApO2NvbnN0IGE9bmV3IGUuVGV4dHVyZShpLHt3aWR0aDpyLGhlaWdodDpuLGRhdGE6bnVsbH0sdC5SR0JBKTthLmJpbmQodC5ORUFSRVNULHQuQ0xBTVBfVE9fRURHRSksby5jb2xvckF0dGFjaG1lbnQuc2V0KGEudGV4dHVyZSk7Y29uc3Qgcz1pLmNyZWF0ZVJlbmRlcmJ1ZmZlcihpLmdsLkRFUFRIX0NPTVBPTkVOVDE2LHIsbik7by5kZXB0aEF0dGFjaG1lbnQuc2V0KHMpLHRoaXMuX2RlcHRoRkJPPW8sdGhpcy5fZGVwdGhUZXh0dXJlPWE7fWkuYmluZEZyYW1lYnVmZmVyLnNldCh0aGlzLl9kZXB0aEZCTy5mcmFtZWJ1ZmZlciksaS52aWV3cG9ydC5zZXQoWzAsMCxyLG5dKSxmdW5jdGlvbih0LGksbyxyKXtpZihcImdsb2JlXCI9PT10LnRyYW5zZm9ybS5wcm9qZWN0aW9uLm5hbWUpcmV0dXJuO2NvbnN0IG49dC5jb250ZXh0LGE9bi5nbDtuLmNsZWFyKHtkZXB0aDoxfSk7Y29uc3Qgcz10LnVzZVByb2dyYW0oXCJ0ZXJyYWluRGVwdGhcIiksbD1uZXcgZS5EZXB0aE1vZGUoYS5MRVNTLGUuRGVwdGhNb2RlLlJlYWRXcml0ZSx0LmRlcHRoUmFuZ2VGb3IzRCk7Zm9yKGNvbnN0IHQgb2Ygcil7Y29uc3Qgcj1vLmdldFRpbGUodCksYz1iaSh0LnByb2pNYXRyaXgsMCk7aS5zZXR1cEVsZXZhdGlvbkRyYXcocixzKSxzLmRyYXcobixhLlRSSUFOR0xFUyxsLGUuU3RlbmNpbE1vZGUuZGlzYWJsZWQsZS5Db2xvck1vZGUudW5ibGVuZGVkLGUuQ3VsbEZhY2VNb2RlLmJhY2tDQ1csYyxcInRlcnJhaW5fZGVwdGhcIixpLmdyaWRCdWZmZXIsaS5ncmlkSW5kZXhCdWZmZXIsaS5ncmlkTm9Ta2lydFNlZ21lbnRzKTt9fSh0LHRoaXMsbyx0aGlzLnByb3h5Q29vcmRzKTt9X3NldHVwUHJveGllZENvb3Jkc0Zvck9ydGhvKGUsdCxpKXtpZihlLmdldFNvdXJjZSgpaW5zdGFuY2VvZiBEZSlyZXR1cm4gdGhpcy5fc2V0dXBQcm94aWVkQ29vcmRzRm9ySW1hZ2VTb3VyY2UoZSx0LGkpO3RoaXMuX2ZpbmRDb3ZlcmluZ1RpbGVDYWNoZVtlLmlkXT10aGlzLl9maW5kQ292ZXJpbmdUaWxlQ2FjaGVbZS5pZF18fHt9O2NvbnN0IG89dGhpcy5wcm94aWVkQ29vcmRzW2UuaWRdPVtdLHI9dGhpcy5wcm94eUNvb3Jkcztmb3IobGV0IHQ9MDt0PHIubGVuZ3RoO3QrKyl7Y29uc3Qgbj1yW3RdLGE9dGhpcy5fZmluZFRpbGVDb3ZlcmluZ1RpbGVJRChuLGUpO2lmKGEpe2NvbnN0IHQ9dGhpcy5fY3JlYXRlUHJveGllZElkKG4sYSxpW24ua2V5XSYmaVtuLmtleV1bZS5pZF0pO28ucHVzaCh0KSx0aGlzLnByb3h5VG9Tb3VyY2Vbbi5rZXldW2UuaWRdPVt0XTt9fWxldCBuPSExO2ZvcihsZXQgcj0wO3I8dC5sZW5ndGg7cisrKXtjb25zdCBhPWUuZ2V0VGlsZSh0W3JdKTtpZighYXx8IWEuaGFzRGF0YSgpKWNvbnRpbnVlO2NvbnN0IHM9dGhpcy5fZmluZFRpbGVDb3ZlcmluZ1RpbGVJRChhLnRpbGVJRCx0aGlzLnByb3h5U291cmNlQ2FjaGUpO2lmKHMmJnMudGlsZUlELmNhbm9uaWNhbC56IT09YS50aWxlSUQuY2Fub25pY2FsLnope2NvbnN0IHQ9dGhpcy5wcm94eVRvU291cmNlW3MudGlsZUlELmtleV1bZS5pZF0scj10aGlzLl9jcmVhdGVQcm94aWVkSWQocy50aWxlSUQsYSxpW3MudGlsZUlELmtleV0mJmlbcy50aWxlSUQua2V5XVtlLmlkXSk7dD90LnNwbGljZSh0Lmxlbmd0aC0xLDAscik6dGhpcy5wcm94eVRvU291cmNlW3MudGlsZUlELmtleV1bZS5pZF09W3JdLG8ucHVzaChyKSxuPSEwO319dGhpcy5fc291cmNlVGlsZXNPdmVybGFwW2UuaWRdPW47fV9zZXR1cFByb3hpZWRDb29yZHNGb3JJbWFnZVNvdXJjZSh0LGksbyl7aWYoIXQuZ2V0U291cmNlKCkubG9hZGVkKCkpcmV0dXJuO2NvbnN0IHI9dGhpcy5wcm94aWVkQ29vcmRzW3QuaWRdPVtdLG49dGhpcy5wcm94eUNvb3JkcyxhPXQuZ2V0U291cmNlKCkscz1uZXcgZS5wb2ludEdlb21ldHJ5KGEudGlsZUlELngsYS50aWxlSUQueSkuX2RpdigxPDxhLnRpbGVJRC56KSxsPWEuY29vcmRpbmF0ZXMubWFwKGUuTWVyY2F0b3JDb29yZGluYXRlLmZyb21MbmdMYXQpLnJlZHVjZSgoKGUsdCk9PihlLm1pbi54PU1hdGgubWluKGUubWluLngsdC54LXMueCksZS5taW4ueT1NYXRoLm1pbihlLm1pbi55LHQueS1zLnkpLGUubWF4Lng9TWF0aC5tYXgoZS5tYXgueCx0Lngtcy54KSxlLm1heC55PU1hdGgubWF4KGUubWF4LnksdC55LXMueSksZSkpLHttaW46bmV3IGUucG9pbnRHZW9tZXRyeShOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUpLG1heDpuZXcgZS5wb2ludEdlb21ldHJ5KC1OdW1iZXIuTUFYX1ZBTFVFLC1OdW1iZXIuTUFYX1ZBTFVFKX0pLGM9KHQsaSk9Pntjb25zdCBvPXQud3JhcCt0LmNhbm9uaWNhbC54LygxPDx0LmNhbm9uaWNhbC56KSxyPXQuY2Fub25pY2FsLnkvKDE8PHQuY2Fub25pY2FsLnopLG49ZS5FWFRFTlQvKDE8PHQuY2Fub25pY2FsLnopLGE9aS53cmFwK2kuY2Fub25pY2FsLngvKDE8PGkuY2Fub25pY2FsLnopLHM9aS5jYW5vbmljYWwueS8oMTw8aS5jYW5vbmljYWwueik7cmV0dXJuIG8rbjxhK2wubWluLnh8fG8+YStsLm1heC54fHxyK248cytsLm1pbi55fHxyPnMrbC5tYXgueX07Zm9yKGxldCBlPTA7ZTxuLmxlbmd0aDtlKyspe2NvbnN0IGE9bltlXTtmb3IobGV0IGU9MDtlPGkubGVuZ3RoO2UrKyl7Y29uc3Qgbj10LmdldFRpbGUoaVtlXSk7aWYoIW58fCFuLmhhc0RhdGEoKSljb250aW51ZTtpZihjKGEsbi50aWxlSUQpKWNvbnRpbnVlO2NvbnN0IHM9dGhpcy5fY3JlYXRlUHJveGllZElkKGEsbixvW2Eua2V5XSYmb1thLmtleV1bdC5pZF0pLGw9dGhpcy5wcm94eVRvU291cmNlW2Eua2V5XVt0LmlkXTtsP2wucHVzaChzKTp0aGlzLnByb3h5VG9Tb3VyY2VbYS5rZXldW3QuaWRdPVtzXSxyLnB1c2gocyk7fX19X2NyZWF0ZVByb3hpZWRJZCh0LGksbyl7bGV0IHI9dGhpcy5vcnRob01hdHJpeDtpZihvKXtjb25zdCBlPW8uZmluZCgoZT0+ZS5rZXk9PT1pLnRpbGVJRC5rZXkpKTtpZihlKXJldHVybiBlfWlmKGkudGlsZUlELmtleSE9PXQua2V5KXtjb25zdCBvPXQuY2Fub25pY2FsLnotaS50aWxlSUQuY2Fub25pY2FsLno7bGV0IG4sYSxzO3I9ZS5jcmVhdGUoKTtjb25zdCBsPWkudGlsZUlELndyYXAtdC53cmFwPDx0Lm92ZXJzY2FsZWRaO28+MD8obj1lLkVYVEVOVD4+byxhPW4qKChpLnRpbGVJRC5jYW5vbmljYWwueDw8byktdC5jYW5vbmljYWwueCtsKSxzPW4qKChpLnRpbGVJRC5jYW5vbmljYWwueTw8byktdC5jYW5vbmljYWwueSkpOihuPWUuRVhURU5UPDwtbyxhPWUuRVhURU5UKihpLnRpbGVJRC5jYW5vbmljYWwueC0odC5jYW5vbmljYWwueCtsPDwtbykpLHM9ZS5FWFRFTlQqKGkudGlsZUlELmNhbm9uaWNhbC55LSh0LmNhbm9uaWNhbC55PDwtbykpKSxlLm9ydGhvKHIsMCxuLDAsbiwwLDEpLGUudHJhbnNsYXRlKHIscixbYSxzLDBdKTt9cmV0dXJuIG5ldyBBaShpLnRpbGVJRCx0LmtleSxyKX1fZmluZFRpbGVDb3ZlcmluZ1RpbGVJRCh0LGkpe2xldCBvPWkuZ2V0VGlsZSh0KTtpZihvJiZvLmhhc0RhdGEoKSlyZXR1cm4gbztjb25zdCByPXRoaXMuX2ZpbmRDb3ZlcmluZ1RpbGVDYWNoZVtpLmlkXSxuPXJbdC5rZXldO2lmKG89bj9pLmdldFRpbGVCeUlEKG4pOm51bGwsbyYmby5oYXNEYXRhKCl8fG51bGw9PT1uKXJldHVybiBvO2xldCBhPW8/by50aWxlSUQ6dCxzPWEub3ZlcnNjYWxlZFo7Y29uc3QgbD1pLmdldFNvdXJjZSgpLm1pbnpvb20sYz1bXTtpZighbil7Y29uc3Qgcj1pLmdldFNvdXJjZSgpLm1heHpvb207aWYodC5jYW5vbmljYWwuej49cil7Y29uc3Qgbz10LmNhbm9uaWNhbC56LXI7aS5nZXRTb3VyY2UoKS5yZXBhcnNlT3ZlcnNjYWxlZD8ocz1NYXRoLm1heCh0LmNhbm9uaWNhbC56KzIsaS50cmFuc2Zvcm0udGlsZVpvb20pLGE9bmV3IGUuT3ZlcnNjYWxlZFRpbGVJRChzLHQud3JhcCxyLHQuY2Fub25pY2FsLng+Pm8sdC5jYW5vbmljYWwueT4+bykpOjAhPT1vJiYocz1yLGE9bmV3IGUuT3ZlcnNjYWxlZFRpbGVJRChzLHQud3JhcCxyLHQuY2Fub25pY2FsLng+Pm8sdC5jYW5vbmljYWwueT4+bykpO31hLmtleSE9PXQua2V5JiYoYy5wdXNoKGEua2V5KSxvPWkuZ2V0VGlsZShhKSk7fWNvbnN0IGg9ZT0+e2MuZm9yRWFjaCgodD0+e3JbdF09ZTt9KSksYy5sZW5ndGg9MDt9O2ZvcihzLT0xO3M+PWwmJighb3x8IW8uaGFzRGF0YSgpKTtzLS0pe28mJmgoby50aWxlSUQua2V5KTtjb25zdCBlPWEuY2FsY3VsYXRlU2NhbGVkS2V5KHMpO2lmKG89aS5nZXRUaWxlQnlJRChlKSxvJiZvLmhhc0RhdGEoKSlicmVhaztjb25zdCB0PXJbZV07aWYobnVsbD09PXQpYnJlYWs7dm9pZCAwPT09dD9jLnB1c2goZSk6bz1pLmdldFRpbGVCeUlEKHQpO31yZXR1cm4gaChvP28udGlsZUlELmtleTpudWxsKSxvJiZvLmhhc0RhdGEoKT9vOm51bGx9ZmluZERFTVRpbGVGb3IoZSl7cmV0dXJuIHRoaXMuZW5hYmxlZD90aGlzLl9maW5kVGlsZUNvdmVyaW5nVGlsZUlEKGUsdGhpcy5zb3VyY2VDYWNoZSk6bnVsbH1wcmVwYXJlRHJhd1RpbGUoKXt0aGlzLnJlbmRlcmVkVG9UaWxlPSEwO31fY2xlYXJSZW5kZXJDYWNoZUZvclRpbGUoZSx0KXtsZXQgaT10aGlzLl90aWxlc0RpcnR5W2VdO2l8fChpPXRoaXMuX3RpbGVzRGlydHlbZV09e30pLGlbdC5rZXldPSEwO31nZXRXaXJlZmFtZUJ1ZmZlcigpe2lmKCF0aGlzLndpcmVmcmFtZVNlZ21lbnRzKXtjb25zdCB0PWZ1bmN0aW9uKHQpe2xldCBpPTA7Y29uc3Qgbz1uZXcgZS5TdHJ1Y3RBcnJheUxheW91dDJ1aTQscj0xMzE7Zm9yKGxldCBlPTE7ZTwxMjk7ZSsrKXtmb3IobGV0IHQ9MTt0PDEyOTt0KyspaT1lKnIrdCxvLmVtcGxhY2VCYWNrKGksaSsxKSxvLmVtcGxhY2VCYWNrKGksaStyKSxvLmVtcGxhY2VCYWNrKGkrMSxpK3IpLDEyOD09PWUmJm8uZW1wbGFjZUJhY2soaStyLGkrcisxKTtvLmVtcGxhY2VCYWNrKGkrMSxpKzErcik7fXJldHVybiBvfSgpO3RoaXMud2lyZWZyYW1lSW5kZXhCdWZmZXI9dGhpcy5wYWludGVyLmNvbnRleHQuY3JlYXRlSW5kZXhCdWZmZXIodCksdGhpcy53aXJlZnJhbWVTZWdtZW50cz1lLlNlZ21lbnRWZWN0b3Iuc2ltcGxlU2VnbWVudCgwLDAsdGhpcy5ncmlkQnVmZmVyLmxlbmd0aCx0Lmxlbmd0aCk7fXJldHVybiBbdGhpcy53aXJlZnJhbWVJbmRleEJ1ZmZlcix0aGlzLndpcmVmcmFtZVNlZ21lbnRzXX19Y2xhc3MgTGl7c3RhdGljIGNhY2hlS2V5KGUsdCxpLG8pe2xldCByPWAke3R9JHtvP28uY2FjaGVLZXk6XCJcIn1gO2Zvcihjb25zdCB0IG9mIGkpZS51c2VkRGVmaW5lcy5pbmNsdWRlcyh0KSYmKHIrPWAvJHt0fWApO3JldHVybiByfWNvbnN0cnVjdG9yKHQsaSxvLHIsbixhKXtjb25zdCBzPXQuZ2w7dGhpcy5wcm9ncmFtPXMuY3JlYXRlUHJvZ3JhbSgpO2NvbnN0IGw9ZnVuY3Rpb24oZSl7Y29uc3QgdD1bXTtmb3IobGV0IGk9MDtpPGUubGVuZ3RoO2krKyl7aWYobnVsbD09PWVbaV0pY29udGludWU7Y29uc3Qgbz1lW2ldLnNwbGl0KFwiIFwiKTt0LnB1c2goby5wb3AoKSk7fXJldHVybiB0fShvLnN0YXRpY0F0dHJpYnV0ZXMpLGM9cj9yLmdldEJpbmRlckF0dHJpYnV0ZXMoKTpbXSxoPWwuY29uY2F0KGMpO2xldCBfPXI/ci5kZWZpbmVzKCk6W107Xz1fLmNvbmNhdChhLm1hcCgoZT0+YCNkZWZpbmUgJHtlfWApKSk7Y29uc3QgdT1fLmNvbmNhdCh0LmV4dFN0YW5kYXJkRGVyaXZhdGl2ZXM/XCIjZXh0ZW5zaW9uIEdMX09FU19zdGFuZGFyZF9kZXJpdmF0aXZlcyA6IGVuYWJsZVxcblwiLmNvbmNhdChfaSk6X2ksX2ksaGksY2kuZnJhZ21lbnRTb3VyY2Usc2kuZnJhZ21lbnRTb3VyY2Usby5mcmFnbWVudFNvdXJjZSkuam9pbihcIlxcblwiKSxkPV8uY29uY2F0KFwiXFxuI2lmZGVmIEdMX0VTXFxucHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbiNlbHNlXFxuXFxuI2lmICFkZWZpbmVkKGxvd3ApXFxuI2RlZmluZSBsb3dwXFxuI2VuZGlmXFxuXFxuI2lmICFkZWZpbmVkKG1lZGl1bXApXFxuI2RlZmluZSBtZWRpdW1wXFxuI2VuZGlmXFxuXFxuI2lmICFkZWZpbmVkKGhpZ2hwKVxcbiNkZWZpbmUgaGlnaHBcXG4jZW5kaWZcXG5cXG4jZW5kaWZcIixoaSxjaS52ZXJ0ZXhTb3VyY2Usc2kudmVydGV4U291cmNlLGFpLnZlcnRleFNvdXJjZSxvLnZlcnRleFNvdXJjZSkuam9pbihcIlxcblwiKSxwPXMuY3JlYXRlU2hhZGVyKHMuRlJBR01FTlRfU0hBREVSKTtpZihzLmlzQ29udGV4dExvc3QoKSlyZXR1cm4gdm9pZCh0aGlzLmZhaWxlZFRvQ3JlYXRlPSEwKTtzLnNoYWRlclNvdXJjZShwLHUpLHMuY29tcGlsZVNoYWRlcihwKSxzLmF0dGFjaFNoYWRlcih0aGlzLnByb2dyYW0scCk7Y29uc3QgbT1zLmNyZWF0ZVNoYWRlcihzLlZFUlRFWF9TSEFERVIpO2lmKHMuaXNDb250ZXh0TG9zdCgpKXRoaXMuZmFpbGVkVG9DcmVhdGU9ITA7ZWxzZSB7cy5zaGFkZXJTb3VyY2UobSxkKSxzLmNvbXBpbGVTaGFkZXIobSkscy5hdHRhY2hTaGFkZXIodGhpcy5wcm9ncmFtLG0pLHRoaXMuYXR0cmlidXRlcz17fSx0aGlzLm51bUF0dHJpYnV0ZXM9aC5sZW5ndGg7Zm9yKGxldCBlPTA7ZTx0aGlzLm51bUF0dHJpYnV0ZXM7ZSsrKWhbZV0mJihzLmJpbmRBdHRyaWJMb2NhdGlvbih0aGlzLnByb2dyYW0sZSxoW2VdKSx0aGlzLmF0dHJpYnV0ZXNbaFtlXV09ZSk7cy5saW5rUHJvZ3JhbSh0aGlzLnByb2dyYW0pLHMuZGVsZXRlU2hhZGVyKG0pLHMuZGVsZXRlU2hhZGVyKHApLHRoaXMuZml4ZWRVbmlmb3Jtcz1uKHQpLHRoaXMuYmluZGVyVW5pZm9ybXM9cj9yLmdldFVuaWZvcm1zKHQpOltdLGEuaW5jbHVkZXMoXCJURVJSQUlOXCIpJiYodGhpcy50ZXJyYWluVW5pZm9ybXM9KHQ9Pih7dV9kZW06bmV3IGUuVW5pZm9ybTFpKHQpLHVfZGVtX3ByZXY6bmV3IGUuVW5pZm9ybTFpKHQpLHVfZGVtX3VucGFjazpuZXcgZS5Vbmlmb3JtNGYodCksdV9kZW1fdGw6bmV3IGUuVW5pZm9ybTJmKHQpLHVfZGVtX3NjYWxlOm5ldyBlLlVuaWZvcm0xZih0KSx1X2RlbV90bF9wcmV2Om5ldyBlLlVuaWZvcm0yZih0KSx1X2RlbV9zY2FsZV9wcmV2Om5ldyBlLlVuaWZvcm0xZih0KSx1X2RlbV9zaXplOm5ldyBlLlVuaWZvcm0xZih0KSx1X2RlbV9sZXJwOm5ldyBlLlVuaWZvcm0xZih0KSx1X2V4YWdnZXJhdGlvbjpuZXcgZS5Vbmlmb3JtMWYodCksdV9kZXB0aDpuZXcgZS5Vbmlmb3JtMWkodCksdV9kZXB0aF9zaXplX2ludjpuZXcgZS5Vbmlmb3JtMmYodCksdV9tZXRlcl90b19kZW06bmV3IGUuVW5pZm9ybTFmKHQpLHVfbGFiZWxfcGxhbmVfbWF0cml4X2ludjpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCl9KSkodCkpLGEuaW5jbHVkZXMoXCJHTE9CRVwiKSYmKHRoaXMuZ2xvYmVVbmlmb3Jtcz0odD0+KHt1X3RpbGVfdGxfdXA6bmV3IGUuVW5pZm9ybTNmKHQpLHVfdGlsZV90cl91cDpuZXcgZS5Vbmlmb3JtM2YodCksdV90aWxlX2JyX3VwOm5ldyBlLlVuaWZvcm0zZih0KSx1X3RpbGVfYmxfdXA6bmV3IGUuVW5pZm9ybTNmKHQpLHVfdGlsZV91cF9zY2FsZTpuZXcgZS5Vbmlmb3JtMWYodCl9KSkodCkpLGEuaW5jbHVkZXMoXCJGT0dcIikmJih0aGlzLmZvZ1VuaWZvcm1zPSh0PT4oe3VfZm9nX21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV9mb2dfcmFuZ2U6bmV3IGUuVW5pZm9ybTJmKHQpLHVfZm9nX2NvbG9yOm5ldyBlLlVuaWZvcm00Zih0KSx1X2ZvZ19ob3Jpem9uX2JsZW5kOm5ldyBlLlVuaWZvcm0xZih0KSx1X2ZvZ190ZW1wb3JhbF9vZmZzZXQ6bmV3IGUuVW5pZm9ybTFmKHQpLHVfZnJ1c3R1bV90bDpuZXcgZS5Vbmlmb3JtM2YodCksdV9mcnVzdHVtX3RyOm5ldyBlLlVuaWZvcm0zZih0KSx1X2ZydXN0dW1fYnI6bmV3IGUuVW5pZm9ybTNmKHQpLHVfZnJ1c3R1bV9ibDpuZXcgZS5Vbmlmb3JtM2YodCksdV9nbG9iZV9wb3M6bmV3IGUuVW5pZm9ybTNmKHQpLHVfZ2xvYmVfcmFkaXVzOm5ldyBlLlVuaWZvcm0xZih0KSx1X2dsb2JlX3RyYW5zaXRpb246bmV3IGUuVW5pZm9ybTFmKHQpLHVfaXNfZ2xvYmU6bmV3IGUuVW5pZm9ybTFpKHQpLHVfdmlld3BvcnQ6bmV3IGUuVW5pZm9ybTJmKHQpfSkpKHQpKTt9fXNldFRlcnJhaW5Vbmlmb3JtVmFsdWVzKGUsdCl7aWYoIXRoaXMudGVycmFpblVuaWZvcm1zKXJldHVybjtjb25zdCBpPXRoaXMudGVycmFpblVuaWZvcm1zO2lmKCF0aGlzLmZhaWxlZFRvQ3JlYXRlKXtlLnByb2dyYW0uc2V0KHRoaXMucHJvZ3JhbSk7Zm9yKGNvbnN0IGUgaW4gdClpW2VdJiZpW2VdLnNldCh0aGlzLnByb2dyYW0sZSx0W2VdKTt9fXNldEdsb2JlVW5pZm9ybVZhbHVlcyhlLHQpe2lmKCF0aGlzLmdsb2JlVW5pZm9ybXMpcmV0dXJuO2NvbnN0IGk9dGhpcy5nbG9iZVVuaWZvcm1zO2lmKCF0aGlzLmZhaWxlZFRvQ3JlYXRlKXtlLnByb2dyYW0uc2V0KHRoaXMucHJvZ3JhbSk7Zm9yKGNvbnN0IGUgaW4gdClpW2VdJiZpW2VdLnNldCh0aGlzLnByb2dyYW0sZSx0W2VdKTt9fXNldEZvZ1VuaWZvcm1WYWx1ZXMoZSx0KXtpZighdGhpcy5mb2dVbmlmb3JtcylyZXR1cm47Y29uc3QgaT10aGlzLmZvZ1VuaWZvcm1zO2lmKCF0aGlzLmZhaWxlZFRvQ3JlYXRlKXtlLnByb2dyYW0uc2V0KHRoaXMucHJvZ3JhbSk7Zm9yKGNvbnN0IGUgaW4gdClpW2VdLnNldCh0aGlzLnByb2dyYW0sZSx0W2VdKTt9fWRyYXcoZSx0LGksbyxyLG4sYSxzLGwsYyxoLF8sdSxkLHApe2NvbnN0IG09ZS5nbDtpZih0aGlzLmZhaWxlZFRvQ3JlYXRlKXJldHVybjtlLnByb2dyYW0uc2V0KHRoaXMucHJvZ3JhbSksZS5zZXREZXB0aE1vZGUoaSksZS5zZXRTdGVuY2lsTW9kZShvKSxlLnNldENvbG9yTW9kZShyKSxlLnNldEN1bGxGYWNlKG4pO2Zvcihjb25zdCBlIG9mIE9iamVjdC5rZXlzKHRoaXMuZml4ZWRVbmlmb3JtcykpdGhpcy5maXhlZFVuaWZvcm1zW2VdLnNldCh0aGlzLnByb2dyYW0sZSxhW2VdKTtkJiZkLnNldFVuaWZvcm1zKHRoaXMucHJvZ3JhbSxlLHRoaXMuYmluZGVyVW5pZm9ybXMsXyx7em9vbTp1fSk7Y29uc3QgZj17W20uTElORVNdOjIsW20uVFJJQU5HTEVTXTozLFttLkxJTkVfU1RSSVBdOjF9W3RdO2Zvcihjb25zdCBpIG9mIGguZ2V0KCkpe2NvbnN0IG89aS52YW9zfHwoaS52YW9zPXt9KTsob1tzXXx8KG9bc109bmV3IG1pKSkuYmluZChlLHRoaXMsbCxkP2QuZ2V0UGFpbnRWZXJ0ZXhCdWZmZXJzKCk6W10sYyxpLnZlcnRleE9mZnNldCxwfHxbXSksbS5kcmF3RWxlbWVudHModCxpLnByaW1pdGl2ZUxlbmd0aCpmLG0uVU5TSUdORURfU0hPUlQsaS5wcmltaXRpdmVPZmZzZXQqZioyKTt9fX1mdW5jdGlvbiBSaShlLHQsaSl7Y29uc3Qgbz0xL0woaSwxLHQudHJhbnNmb3JtLnRpbGVab29tKSxyPU1hdGgucG93KDIsaS50aWxlSUQub3ZlcnNjYWxlZFopLG49aS50aWxlU2l6ZSpNYXRoLnBvdygyLHQudHJhbnNmb3JtLnRpbGVab29tKS9yLGE9biooaS50aWxlSUQuY2Fub25pY2FsLngraS50aWxlSUQud3JhcCpyKSxzPW4qaS50aWxlSUQuY2Fub25pY2FsLnk7cmV0dXJuIHt1X2ltYWdlOjAsdV90ZXhzaXplOmkuaW1hZ2VBdGxhc1RleHR1cmUuc2l6ZSx1X3NjYWxlOltvLGUuZnJvbVNjYWxlLGUudG9TY2FsZV0sdV9mYWRlOmUudCx1X3BpeGVsX2Nvb3JkX3VwcGVyOlthPj4xNixzPj4xNl0sdV9waXhlbF9jb29yZF9sb3dlcjpbNjU1MzUmYSw2NTUzNSZzXX19Y29uc3QgT2k9ZS5jcmVhdGUoKSxCaT0odCxpLG8scixuLGEscyxsLGMsaCxfKT0+e2NvbnN0IHU9aS5zdHlsZS5saWdodCxkPXUucHJvcGVydGllcy5nZXQoXCJwb3NpdGlvblwiKSxwPVtkLngsZC55LGQuel0sbT1lLmNyZWF0ZSQxKCk7XCJ2aWV3cG9ydFwiPT09dS5wcm9wZXJ0aWVzLmdldChcImFuY2hvclwiKSYmKGUuZnJvbVJvdGF0aW9uKG0sLWkudHJhbnNmb3JtLmFuZ2xlKSxlLnRyYW5zZm9ybU1hdDMocCxwLG0pKTtjb25zdCBmPXUucHJvcGVydGllcy5nZXQoXCJjb2xvclwiKSxnPWkudHJhbnNmb3JtLHY9e3VfbWF0cml4OnQsdV9saWdodHBvczpwLHVfbGlnaHRpbnRlbnNpdHk6dS5wcm9wZXJ0aWVzLmdldChcImludGVuc2l0eVwiKSx1X2xpZ2h0Y29sb3I6W2YucixmLmcsZi5iXSx1X3ZlcnRpY2FsX2dyYWRpZW50OitvLHVfb3BhY2l0eTpyLHVfdGlsZV9pZDpbMCwwLDBdLHVfem9vbV90cmFuc2l0aW9uOjAsdV9pbnZfcm90X21hdHJpeDpPaSx1X21lcmNfY2VudGVyOlswLDBdLHVfdXBfZGlyOlswLDAsMF0sdV9oZWlnaHRfbGlmdDowLHVfYW86bix1X2VkZ2VfcmFkaXVzOmF9O3JldHVybiBcImdsb2JlXCI9PT1nLnByb2plY3Rpb24ubmFtZSYmKHYudV90aWxlX2lkPVtzLmNhbm9uaWNhbC54LHMuY2Fub25pY2FsLnksMTw8cy5jYW5vbmljYWwuel0sdi51X3pvb21fdHJhbnNpdGlvbj1jLHYudV9pbnZfcm90X21hdHJpeD1fLHYudV9tZXJjX2NlbnRlcj1oLHYudV91cF9kaXI9Zy5wcm9qZWN0aW9uLnVwVmVjdG9yKG5ldyBlLkNhbm9uaWNhbFRpbGVJRCgwLDAsMCksaFswXSplLkVYVEVOVCxoWzFdKmUuRVhURU5UKSx2LnVfaGVpZ2h0X2xpZnQ9bCksdn0sa2k9KHQsaSxvLHIsbixhLHMsbCxjLGgsXyx1LGQpPT57Y29uc3QgcD1CaSh0LGksbyxyLG4sYSxzLGgsXyx1LGQpLG09e3VfaGVpZ2h0X2ZhY3RvcjotTWF0aC5wb3coMixzLm92ZXJzY2FsZWRaKS9jLnRpbGVTaXplLzh9O3JldHVybiBlLmV4dGVuZChwLFJpKGwsaSxjKSxtKX0sRmk9ZT0+KHt1X21hdHJpeDplfSksVWk9KHQsaSxvLHIpPT5lLmV4dGVuZChGaSh0KSxSaShvLGkscikpLE5pPShlLHQpPT4oe3VfbWF0cml4OmUsdV93b3JsZDp0fSksR2k9KHQsaSxvLHIsbik9PmUuZXh0ZW5kKFVpKHQsaSxvLHIpLHt1X3dvcmxkOm59KSxqaT1lLmNyZWF0ZSgpLFppPSh0LGksbyxyLG4sYSk9Pntjb25zdCBzPXQudHJhbnNmb3JtLGw9XCJnbG9iZVwiPT09cy5wcm9qZWN0aW9uLm5hbWU7bGV0IGM7aWYoXCJtYXBcIj09PWEucGFpbnQuZ2V0KFwiY2lyY2xlLXBpdGNoLWFsaWdubWVudFwiKSlpZihsKXtjb25zdCB0PWUuZ2xvYmVQaXhlbHNUb1RpbGVVbml0cyhzLnpvb20saS5jYW5vbmljYWwpKnMuX3BpeGVsc1Blck1lcmNhdG9yUGl4ZWw7Yz1GbG9hdDMyQXJyYXkuZnJvbShbdCwwLDAsdF0pO31lbHNlIGM9cy5jYWxjdWxhdGVQaXhlbHNUb1RpbGVVbml0c01hdHJpeChvKTtlbHNlIGM9bmV3IEZsb2F0MzJBcnJheShbcy5waXhlbHNUb0dMVW5pdHNbMF0sMCwwLHMucGl4ZWxzVG9HTFVuaXRzWzFdXSk7Y29uc3QgaD17dV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlOnMuY2FtZXJhVG9DZW50ZXJEaXN0YW5jZSx1X21hdHJpeDp0LnRyYW5zbGF0ZVBvc01hdHJpeChpLnByb2pNYXRyaXgsbyxhLnBhaW50LmdldChcImNpcmNsZS10cmFuc2xhdGVcIiksYS5wYWludC5nZXQoXCJjaXJjbGUtdHJhbnNsYXRlLWFuY2hvclwiKSksdV9kZXZpY2VfcGl4ZWxfcmF0aW86ZS5leHBvcnRlZC5kZXZpY2VQaXhlbFJhdGlvLHVfZXh0cnVkZV9zY2FsZTpjLHVfaW52X3JvdF9tYXRyaXg6amksdV9tZXJjX2NlbnRlcjpbMCwwXSx1X3RpbGVfaWQ6WzAsMCwwXSx1X3pvb21fdHJhbnNpdGlvbjowLHVfdXBfZGlyOlswLDAsMF19O2lmKGwpe2gudV9pbnZfcm90X21hdHJpeD1yLGgudV9tZXJjX2NlbnRlcj1uLGgudV90aWxlX2lkPVtpLmNhbm9uaWNhbC54LGkuY2Fub25pY2FsLnksMTw8aS5jYW5vbmljYWwuel0saC51X3pvb21fdHJhbnNpdGlvbj1lLmdsb2JlVG9NZXJjYXRvclRyYW5zaXRpb24ocy56b29tKTtjb25zdCB0PW5bMF0qZS5FWFRFTlQsbz1uWzFdKmUuRVhURU5UO2gudV91cF9kaXI9cy5wcm9qZWN0aW9uLnVwVmVjdG9yKG5ldyBlLkNhbm9uaWNhbFRpbGVJRCgwLDAsMCksdCxvKTt9cmV0dXJuIGh9LFZpPWU9Pntjb25zdCB0PVtdO3JldHVybiBcIm1hcFwiPT09ZS5wYWludC5nZXQoXCJjaXJjbGUtcGl0Y2gtYWxpZ25tZW50XCIpJiZ0LnB1c2goXCJQSVRDSF9XSVRIX01BUFwiKSxcIm1hcFwiPT09ZS5wYWludC5nZXQoXCJjaXJjbGUtcGl0Y2gtc2NhbGVcIikmJnQucHVzaChcIlNDQUxFX1dJVEhfTUFQXCIpLHR9LFdpPSh0LGksbyxyKT0+e2NvbnN0IG49ZS5FWFRFTlQvby50aWxlU2l6ZTtyZXR1cm4ge3VfbWF0cml4OnQsdV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlOmkuZ2V0Q2FtZXJhVG9DZW50ZXJEaXN0YW5jZShyKSx1X2V4dHJ1ZGVfc2NhbGU6W2kucGl4ZWxzVG9HTFVuaXRzWzBdL24saS5waXhlbHNUb0dMVW5pdHNbMV0vbl19fSxYaT0oZSx0LGk9MSk9Pih7dV9tYXRyaXg6ZSx1X2NvbG9yOnQsdV9vdmVybGF5OjAsdV9vdmVybGF5X3NjYWxlOml9KSxxaT1lLmNyZWF0ZSgpLCRpPSh0LGksbyxyLG4sYSxzKT0+e2NvbnN0IGw9dC50cmFuc2Zvcm0sYz1cImdsb2JlXCI9PT1sLnByb2plY3Rpb24ubmFtZSxoPWM/ZS5nbG9iZVBpeGVsc1RvVGlsZVVuaXRzKGwuem9vbSxpLmNhbm9uaWNhbCkqbC5fcGl4ZWxzUGVyTWVyY2F0b3JQaXhlbDpMKG8sMSxhKSxfPXt1X21hdHJpeDppLnByb2pNYXRyaXgsdV9leHRydWRlX3NjYWxlOmgsdV9pbnRlbnNpdHk6cyx1X2ludl9yb3RfbWF0cml4OnFpLHVfbWVyY19jZW50ZXI6WzAsMF0sdV90aWxlX2lkOlswLDAsMF0sdV96b29tX3RyYW5zaXRpb246MCx1X3VwX2RpcjpbMCwwLDBdfTtpZihjKXtfLnVfaW52X3JvdF9tYXRyaXg9cixfLnVfbWVyY19jZW50ZXI9bixfLnVfdGlsZV9pZD1baS5jYW5vbmljYWwueCxpLmNhbm9uaWNhbC55LDE8PGkuY2Fub25pY2FsLnpdLF8udV96b29tX3RyYW5zaXRpb249ZS5nbG9iZVRvTWVyY2F0b3JUcmFuc2l0aW9uKGwuem9vbSk7Y29uc3QgdD1uWzBdKmUuRVhURU5ULG89blsxXSplLkVYVEVOVDtfLnVfdXBfZGlyPWwucHJvamVjdGlvbi51cFZlY3RvcihuZXcgZS5DYW5vbmljYWxUaWxlSUQoMCwwLDApLHQsbyk7fXJldHVybiBffSxIaT0oZSx0LGksbyxyLG4sYSxzKT0+e2NvbnN0IGw9ZS50cmFuc2Zvcm0sYz1sLmNhbGN1bGF0ZVBpeGVsc1RvVGlsZVVuaXRzTWF0cml4KHQpLGg9e3VfbWF0cml4OkppKGUsdCxpLHIpLHVfcGl4ZWxzX3RvX3RpbGVfdW5pdHM6Yyx1X2RldmljZV9waXhlbF9yYXRpbzphLHVfdW5pdHNfdG9fcGl4ZWxzOlsxL2wucGl4ZWxzVG9HTFVuaXRzWzBdLDEvbC5waXhlbHNUb0dMVW5pdHNbMV1dLHVfZGFzaF9pbWFnZTowLHVfZ3JhZGllbnRfaW1hZ2U6MSx1X2ltYWdlX2hlaWdodDpuLHVfdGV4c2l6ZTpbMCwwXSx1X3NjYWxlOlswLDAsMF0sdV9taXg6MCx1X2FscGhhX2Rpc2NhcmRfdGhyZXNob2xkOjAsdV90cmltX29mZnNldDpzfTtpZihRaShpKSl7Y29uc3QgaT1LaSh0LGUudHJhbnNmb3JtKTtoLnVfdGV4c2l6ZT10LmxpbmVBdGxhc1RleHR1cmUuc2l6ZSxoLnVfc2NhbGU9W2ksby5mcm9tU2NhbGUsby50b1NjYWxlXSxoLnVfbWl4PW8udDt9cmV0dXJuIGh9LFlpPShlLHQsaSxvLHIsbik9Pntjb25zdCBhPWUudHJhbnNmb3JtLHM9S2kodCxhKTtyZXR1cm4ge3VfbWF0cml4OkppKGUsdCxpLHIpLHVfdGV4c2l6ZTp0LmltYWdlQXRsYXNUZXh0dXJlLnNpemUsdV9waXhlbHNfdG9fdGlsZV91bml0czphLmNhbGN1bGF0ZVBpeGVsc1RvVGlsZVVuaXRzTWF0cml4KHQpLHVfZGV2aWNlX3BpeGVsX3JhdGlvOm4sdV9pbWFnZTowLHVfc2NhbGU6W3Msby5mcm9tU2NhbGUsby50b1NjYWxlXSx1X2ZhZGU6by50LHVfdW5pdHNfdG9fcGl4ZWxzOlsxL2EucGl4ZWxzVG9HTFVuaXRzWzBdLDEvYS5waXhlbHNUb0dMVW5pdHNbMV1dLHVfYWxwaGFfZGlzY2FyZF90aHJlc2hvbGQ6MH19O2Z1bmN0aW9uIEtpKGUsdCl7cmV0dXJuIDEvTChlLDEsdC50aWxlWm9vbSl9ZnVuY3Rpb24gSmkoZSx0LGksbyl7cmV0dXJuIGUudHJhbnNsYXRlUG9zTWF0cml4KG98fHQudGlsZUlELnByb2pNYXRyaXgsdCxpLnBhaW50LmdldChcImxpbmUtdHJhbnNsYXRlXCIpLGkucGFpbnQuZ2V0KFwibGluZS10cmFuc2xhdGUtYW5jaG9yXCIpKX1mdW5jdGlvbiBRaShlKXtjb25zdCB0PWUucGFpbnQuZ2V0KFwibGluZS1kYXNoYXJyYXlcIikudmFsdWU7cmV0dXJuIHQudmFsdWV8fFwiY29uc3RhbnRcIiE9PXQua2luZH1jb25zdCBlbz0oZSx0LGksbyxyLG4pPT57cmV0dXJuIHt1X21hdHJpeDplLHVfdGxfcGFyZW50OnQsdV9zY2FsZV9wYXJlbnQ6aSx1X2ZhZGVfdDpvLm1peCx1X29wYWNpdHk6by5vcGFjaXR5KnIucGFpbnQuZ2V0KFwicmFzdGVyLW9wYWNpdHlcIiksdV9pbWFnZTA6MCx1X2ltYWdlMToxLHVfYnJpZ2h0bmVzc19sb3c6ci5wYWludC5nZXQoXCJyYXN0ZXItYnJpZ2h0bmVzcy1taW5cIiksdV9icmlnaHRuZXNzX2hpZ2g6ci5wYWludC5nZXQoXCJyYXN0ZXItYnJpZ2h0bmVzcy1tYXhcIiksdV9zYXR1cmF0aW9uX2ZhY3Rvcjoocz1yLnBhaW50LmdldChcInJhc3Rlci1zYXR1cmF0aW9uXCIpLHM+MD8xLTEvKDEuMDAxLXMpOi1zKSx1X2NvbnRyYXN0X2ZhY3RvcjooYT1yLnBhaW50LmdldChcInJhc3Rlci1jb250cmFzdFwiKSxhPjA/MS8oMS1hKToxK2EpLHVfc3Bpbl93ZWlnaHRzOnRvKHIucGFpbnQuZ2V0KFwicmFzdGVyLWh1ZS1yb3RhdGVcIikpLHVfcGVyc3BlY3RpdmVfdHJhbnNmb3JtOm59O3ZhciBhLHM7fTtmdW5jdGlvbiB0byhlKXtlKj1NYXRoLlBJLzE4MDtjb25zdCB0PU1hdGguc2luKGUpLGk9TWF0aC5jb3MoZSk7cmV0dXJuIFsoMippKzEpLzMsKC1NYXRoLnNxcnQoMykqdC1pKzEpLzMsKE1hdGguc3FydCgzKSp0LWkrMSkvM119Y29uc3QgaW89ZS5jcmVhdGUoKSxvbz0odCxpLG8scixuLGEscyxsLGMsaCxfLHUsZCxwLG0sZik9Pntjb25zdCBnPW4udHJhbnNmb3JtLHY9e3VfaXNfc2l6ZV96b29tX2NvbnN0YW50OisoXCJjb25zdGFudFwiPT09dHx8XCJzb3VyY2VcIj09PXQpLHVfaXNfc2l6ZV9mZWF0dXJlX2NvbnN0YW50OisoXCJjb25zdGFudFwiPT09dHx8XCJjYW1lcmFcIj09PXQpLHVfc2l6ZV90Omk/aS51U2l6ZVQ6MCx1X3NpemU6aT9pLnVTaXplOjAsdV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlOmcuY2FtZXJhVG9DZW50ZXJEaXN0YW5jZSx1X3JvdGF0ZV9zeW1ib2w6K28sdV9hc3BlY3RfcmF0aW86Zy53aWR0aC9nLmhlaWdodCx1X2ZhZGVfY2hhbmdlOm4ub3B0aW9ucy5mYWRlRHVyYXRpb24/bi5zeW1ib2xGYWRlQ2hhbmdlOjEsdV9tYXRyaXg6YSx1X2xhYmVsX3BsYW5lX21hdHJpeDpzLHVfY29vcmRfbWF0cml4OmwsdV9pc190ZXh0OitjLHVfcGl0Y2hfd2l0aF9tYXA6K3IsdV90ZXhzaXplOmgsdV90ZXh0dXJlOjAsdV90aWxlX2lkOlswLDAsMF0sdV96b29tX3RyYW5zaXRpb246MCx1X2ludl9yb3RfbWF0cml4OmlvLHVfbWVyY19jZW50ZXI6WzAsMF0sdV9jYW1lcmFfZm9yd2FyZDpbMCwwLDBdLHVfZWNlZl9vcmlnaW46WzAsMCwwXSx1X3RpbGVfbWF0cml4OmlvLHVfdXBfdmVjdG9yOlswLC0xLDBdfTtyZXR1cm4gXCJnbG9iZVwiPT09Zi5uYW1lJiYodi51X3RpbGVfaWQ9W18uY2Fub25pY2FsLngsXy5jYW5vbmljYWwueSwxPDxfLmNhbm9uaWNhbC56XSx2LnVfem9vbV90cmFuc2l0aW9uPXUsdi51X2ludl9yb3RfbWF0cml4PXAsdi51X21lcmNfY2VudGVyPWQsdi51X2NhbWVyYV9mb3J3YXJkPWcuX2NhbWVyYS5mb3J3YXJkKCksdi51X2VjZWZfb3JpZ2luPWUuZ2xvYmVFQ0VGT3JpZ2luKGcuZ2xvYmVNYXRyaXgsXy50b1Vud3JhcHBlZCgpKSx2LnVfdGlsZV9tYXRyaXg9RmxvYXQzMkFycmF5LmZyb20oZy5nbG9iZU1hdHJpeCksdi51X3VwX3ZlY3Rvcj1tKSx2fSxybz0odCxpLG8scixuLGEscyxsLGMsaCxfLHUsZCxwLG0sZixnKT0+ZS5leHRlbmQob28odCxpLG8scixuLGEscyxsLGMsaCx1LGQscCxtLGYsZykse3VfZ2FtbWFfc2NhbGU6cj9uLnRyYW5zZm9ybS5jYW1lcmFUb0NlbnRlckRpc3RhbmNlKk1hdGguY29zKG4udGVycmFpbj8wOm4udHJhbnNmb3JtLl9waXRjaCk6MSx1X2RldmljZV9waXhlbF9yYXRpbzplLmV4cG9ydGVkLmRldmljZVBpeGVsUmF0aW8sdV9pc19oYWxvOitffSksbm89KHQsaSxvLHIsbixhLHMsbCxjLGgsXyx1LGQscCxtLGYpPT5lLmV4dGVuZChybyh0LGksbyxyLG4sYSxzLGwsITAsYywhMCxfLHUsZCxwLG0sZikse3VfdGV4c2l6ZV9pY29uOmgsdV90ZXh0dXJlX2ljb246MX0pLGFvPShlLHQsaSk9Pih7dV9tYXRyaXg6ZSx1X29wYWNpdHk6dCx1X2NvbG9yOml9KSxzbz0odCxpLG8scixuLGEpPT5lLmV4dGVuZChmdW5jdGlvbihlLHQsaSxvKXtjb25zdCByPWkuaW1hZ2VNYW5hZ2VyLmdldFBhdHRlcm4oZS5mcm9tLnRvU3RyaW5nKCkpLG49aS5pbWFnZU1hbmFnZXIuZ2V0UGF0dGVybihlLnRvLnRvU3RyaW5nKCkpLHt3aWR0aDphLGhlaWdodDpzfT1pLmltYWdlTWFuYWdlci5nZXRQaXhlbFNpemUoKSxsPU1hdGgucG93KDIsby50aWxlSUQub3ZlcnNjYWxlZFopLGM9by50aWxlU2l6ZSpNYXRoLnBvdygyLGkudHJhbnNmb3JtLnRpbGVab29tKS9sLGg9Yyooby50aWxlSUQuY2Fub25pY2FsLngrby50aWxlSUQud3JhcCpsKSxfPWMqby50aWxlSUQuY2Fub25pY2FsLnk7cmV0dXJuIHt1X2ltYWdlOjAsdV9wYXR0ZXJuX3RsX2E6ci50bCx1X3BhdHRlcm5fYnJfYTpyLmJyLHVfcGF0dGVybl90bF9iOm4udGwsdV9wYXR0ZXJuX2JyX2I6bi5icix1X3RleHNpemU6W2Esc10sdV9taXg6dC50LHVfcGF0dGVybl9zaXplX2E6ci5kaXNwbGF5U2l6ZSx1X3BhdHRlcm5fc2l6ZV9iOm4uZGlzcGxheVNpemUsdV9zY2FsZV9hOnQuZnJvbVNjYWxlLHVfc2NhbGVfYjp0LnRvU2NhbGUsdV90aWxlX3VuaXRzX3RvX3BpeGVsczoxL0wobywxLGkudHJhbnNmb3JtLnRpbGVab29tKSx1X3BpeGVsX2Nvb3JkX3VwcGVyOltoPj4xNixfPj4xNl0sdV9waXhlbF9jb29yZF9sb3dlcjpbNjU1MzUmaCw2NTUzNSZfXX19KHIsYSxvLG4pLHt1X21hdHJpeDp0LHVfb3BhY2l0eTppfSksbG89e2ZpbGxFeHRydXNpb246dD0+KHt1X21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV9saWdodHBvczpuZXcgZS5Vbmlmb3JtM2YodCksdV9saWdodGludGVuc2l0eTpuZXcgZS5Vbmlmb3JtMWYodCksdV9saWdodGNvbG9yOm5ldyBlLlVuaWZvcm0zZih0KSx1X3ZlcnRpY2FsX2dyYWRpZW50Om5ldyBlLlVuaWZvcm0xZih0KSx1X29wYWNpdHk6bmV3IGUuVW5pZm9ybTFmKHQpLHVfZWRnZV9yYWRpdXM6bmV3IGUuVW5pZm9ybTFmKHQpLHVfYW86bmV3IGUuVW5pZm9ybTJmKHQpLHVfdGlsZV9pZDpuZXcgZS5Vbmlmb3JtM2YodCksdV96b29tX3RyYW5zaXRpb246bmV3IGUuVW5pZm9ybTFmKHQpLHVfaW52X3JvdF9tYXRyaXg6bmV3IGUuVW5pZm9ybU1hdHJpeDRmKHQpLHVfbWVyY19jZW50ZXI6bmV3IGUuVW5pZm9ybTJmKHQpLHVfdXBfZGlyOm5ldyBlLlVuaWZvcm0zZih0KSx1X2hlaWdodF9saWZ0Om5ldyBlLlVuaWZvcm0xZih0KX0pLGZpbGxFeHRydXNpb25QYXR0ZXJuOnQ9Pih7dV9tYXRyaXg6bmV3IGUuVW5pZm9ybU1hdHJpeDRmKHQpLHVfbGlnaHRwb3M6bmV3IGUuVW5pZm9ybTNmKHQpLHVfbGlnaHRpbnRlbnNpdHk6bmV3IGUuVW5pZm9ybTFmKHQpLHVfbGlnaHRjb2xvcjpuZXcgZS5Vbmlmb3JtM2YodCksdV92ZXJ0aWNhbF9ncmFkaWVudDpuZXcgZS5Vbmlmb3JtMWYodCksdV9oZWlnaHRfZmFjdG9yOm5ldyBlLlVuaWZvcm0xZih0KSx1X2VkZ2VfcmFkaXVzOm5ldyBlLlVuaWZvcm0xZih0KSx1X2FvOm5ldyBlLlVuaWZvcm0yZih0KSx1X3RpbGVfaWQ6bmV3IGUuVW5pZm9ybTNmKHQpLHVfem9vbV90cmFuc2l0aW9uOm5ldyBlLlVuaWZvcm0xZih0KSx1X2ludl9yb3RfbWF0cml4Om5ldyBlLlVuaWZvcm1NYXRyaXg0Zih0KSx1X21lcmNfY2VudGVyOm5ldyBlLlVuaWZvcm0yZih0KSx1X3VwX2RpcjpuZXcgZS5Vbmlmb3JtM2YodCksdV9oZWlnaHRfbGlmdDpuZXcgZS5Vbmlmb3JtMWYodCksdV9pbWFnZTpuZXcgZS5Vbmlmb3JtMWkodCksdV90ZXhzaXplOm5ldyBlLlVuaWZvcm0yZih0KSx1X3BpeGVsX2Nvb3JkX3VwcGVyOm5ldyBlLlVuaWZvcm0yZih0KSx1X3BpeGVsX2Nvb3JkX2xvd2VyOm5ldyBlLlVuaWZvcm0yZih0KSx1X3NjYWxlOm5ldyBlLlVuaWZvcm0zZih0KSx1X2ZhZGU6bmV3IGUuVW5pZm9ybTFmKHQpLHVfb3BhY2l0eTpuZXcgZS5Vbmlmb3JtMWYodCl9KSxmaWxsOnQ9Pih7dV9tYXRyaXg6bmV3IGUuVW5pZm9ybU1hdHJpeDRmKHQpfSksZmlsbFBhdHRlcm46dD0+KHt1X21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV9pbWFnZTpuZXcgZS5Vbmlmb3JtMWkodCksdV90ZXhzaXplOm5ldyBlLlVuaWZvcm0yZih0KSx1X3BpeGVsX2Nvb3JkX3VwcGVyOm5ldyBlLlVuaWZvcm0yZih0KSx1X3BpeGVsX2Nvb3JkX2xvd2VyOm5ldyBlLlVuaWZvcm0yZih0KSx1X3NjYWxlOm5ldyBlLlVuaWZvcm0zZih0KSx1X2ZhZGU6bmV3IGUuVW5pZm9ybTFmKHQpfSksZmlsbE91dGxpbmU6dD0+KHt1X21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV93b3JsZDpuZXcgZS5Vbmlmb3JtMmYodCl9KSxmaWxsT3V0bGluZVBhdHRlcm46dD0+KHt1X21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV93b3JsZDpuZXcgZS5Vbmlmb3JtMmYodCksdV9pbWFnZTpuZXcgZS5Vbmlmb3JtMWkodCksdV90ZXhzaXplOm5ldyBlLlVuaWZvcm0yZih0KSx1X3BpeGVsX2Nvb3JkX3VwcGVyOm5ldyBlLlVuaWZvcm0yZih0KSx1X3BpeGVsX2Nvb3JkX2xvd2VyOm5ldyBlLlVuaWZvcm0yZih0KSx1X3NjYWxlOm5ldyBlLlVuaWZvcm0zZih0KSx1X2ZhZGU6bmV3IGUuVW5pZm9ybTFmKHQpfSksY2lyY2xlOnQ9Pih7dV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlOm5ldyBlLlVuaWZvcm0xZih0KSx1X2V4dHJ1ZGVfc2NhbGU6bmV3IGUuVW5pZm9ybU1hdHJpeDJmKHQpLHVfZGV2aWNlX3BpeGVsX3JhdGlvOm5ldyBlLlVuaWZvcm0xZih0KSx1X21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV9pbnZfcm90X21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV9tZXJjX2NlbnRlcjpuZXcgZS5Vbmlmb3JtMmYodCksdV90aWxlX2lkOm5ldyBlLlVuaWZvcm0zZih0KSx1X3pvb21fdHJhbnNpdGlvbjpuZXcgZS5Vbmlmb3JtMWYodCksdV91cF9kaXI6bmV3IGUuVW5pZm9ybTNmKHQpfSksY29sbGlzaW9uQm94OnQ9Pih7dV9tYXRyaXg6bmV3IGUuVW5pZm9ybU1hdHJpeDRmKHQpLHVfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZTpuZXcgZS5Vbmlmb3JtMWYodCksdV9leHRydWRlX3NjYWxlOm5ldyBlLlVuaWZvcm0yZih0KX0pLGNvbGxpc2lvbkNpcmNsZTp0PT4oe3VfbWF0cml4Om5ldyBlLlVuaWZvcm1NYXRyaXg0Zih0KSx1X2ludl9tYXRyaXg6bmV3IGUuVW5pZm9ybU1hdHJpeDRmKHQpLHVfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZTpuZXcgZS5Vbmlmb3JtMWYodCksdV92aWV3cG9ydF9zaXplOm5ldyBlLlVuaWZvcm0yZih0KX0pLGRlYnVnOnQ9Pih7dV9jb2xvcjpuZXcgZS5Vbmlmb3JtQ29sb3IodCksdV9tYXRyaXg6bmV3IGUuVW5pZm9ybU1hdHJpeDRmKHQpLHVfb3ZlcmxheTpuZXcgZS5Vbmlmb3JtMWkodCksdV9vdmVybGF5X3NjYWxlOm5ldyBlLlVuaWZvcm0xZih0KX0pLGNsaXBwaW5nTWFzazp0PT4oe3VfbWF0cml4Om5ldyBlLlVuaWZvcm1NYXRyaXg0Zih0KX0pLGhlYXRtYXA6dD0+KHt1X2V4dHJ1ZGVfc2NhbGU6bmV3IGUuVW5pZm9ybTFmKHQpLHVfaW50ZW5zaXR5Om5ldyBlLlVuaWZvcm0xZih0KSx1X21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV9pbnZfcm90X21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV9tZXJjX2NlbnRlcjpuZXcgZS5Vbmlmb3JtMmYodCksdV90aWxlX2lkOm5ldyBlLlVuaWZvcm0zZih0KSx1X3pvb21fdHJhbnNpdGlvbjpuZXcgZS5Vbmlmb3JtMWYodCksdV91cF9kaXI6bmV3IGUuVW5pZm9ybTNmKHQpfSksaGVhdG1hcFRleHR1cmU6dD0+KHt1X2ltYWdlOm5ldyBlLlVuaWZvcm0xaSh0KSx1X2NvbG9yX3JhbXA6bmV3IGUuVW5pZm9ybTFpKHQpLHVfb3BhY2l0eTpuZXcgZS5Vbmlmb3JtMWYodCl9KSxoaWxsc2hhZGU6dD0+KHt1X21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV9pbWFnZTpuZXcgZS5Vbmlmb3JtMWkodCksdV9sYXRyYW5nZTpuZXcgZS5Vbmlmb3JtMmYodCksdV9saWdodDpuZXcgZS5Vbmlmb3JtMmYodCksdV9zaGFkb3c6bmV3IGUuVW5pZm9ybUNvbG9yKHQpLHVfaGlnaGxpZ2h0Om5ldyBlLlVuaWZvcm1Db2xvcih0KSx1X2FjY2VudDpuZXcgZS5Vbmlmb3JtQ29sb3IodCl9KSxoaWxsc2hhZGVQcmVwYXJlOnQ9Pih7dV9tYXRyaXg6bmV3IGUuVW5pZm9ybU1hdHJpeDRmKHQpLHVfaW1hZ2U6bmV3IGUuVW5pZm9ybTFpKHQpLHVfZGltZW5zaW9uOm5ldyBlLlVuaWZvcm0yZih0KSx1X3pvb206bmV3IGUuVW5pZm9ybTFmKHQpLHVfdW5wYWNrOm5ldyBlLlVuaWZvcm00Zih0KX0pLGxpbmU6dD0+KHt1X21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV9waXhlbHNfdG9fdGlsZV91bml0czpuZXcgZS5Vbmlmb3JtTWF0cml4MmYodCksdV9kZXZpY2VfcGl4ZWxfcmF0aW86bmV3IGUuVW5pZm9ybTFmKHQpLHVfdW5pdHNfdG9fcGl4ZWxzOm5ldyBlLlVuaWZvcm0yZih0KSx1X2Rhc2hfaW1hZ2U6bmV3IGUuVW5pZm9ybTFpKHQpLHVfZ3JhZGllbnRfaW1hZ2U6bmV3IGUuVW5pZm9ybTFpKHQpLHVfaW1hZ2VfaGVpZ2h0Om5ldyBlLlVuaWZvcm0xZih0KSx1X3RleHNpemU6bmV3IGUuVW5pZm9ybTJmKHQpLHVfc2NhbGU6bmV3IGUuVW5pZm9ybTNmKHQpLHVfbWl4Om5ldyBlLlVuaWZvcm0xZih0KSx1X2FscGhhX2Rpc2NhcmRfdGhyZXNob2xkOm5ldyBlLlVuaWZvcm0xZih0KSx1X3RyaW1fb2Zmc2V0Om5ldyBlLlVuaWZvcm0yZih0KX0pLGxpbmVQYXR0ZXJuOnQ9Pih7dV9tYXRyaXg6bmV3IGUuVW5pZm9ybU1hdHJpeDRmKHQpLHVfdGV4c2l6ZTpuZXcgZS5Vbmlmb3JtMmYodCksdV9waXhlbHNfdG9fdGlsZV91bml0czpuZXcgZS5Vbmlmb3JtTWF0cml4MmYodCksdV9kZXZpY2VfcGl4ZWxfcmF0aW86bmV3IGUuVW5pZm9ybTFmKHQpLHVfaW1hZ2U6bmV3IGUuVW5pZm9ybTFpKHQpLHVfdW5pdHNfdG9fcGl4ZWxzOm5ldyBlLlVuaWZvcm0yZih0KSx1X3NjYWxlOm5ldyBlLlVuaWZvcm0zZih0KSx1X2ZhZGU6bmV3IGUuVW5pZm9ybTFmKHQpLHVfYWxwaGFfZGlzY2FyZF90aHJlc2hvbGQ6bmV3IGUuVW5pZm9ybTFmKHQpfSkscmFzdGVyOnQ9Pih7dV9tYXRyaXg6bmV3IGUuVW5pZm9ybU1hdHJpeDRmKHQpLHVfdGxfcGFyZW50Om5ldyBlLlVuaWZvcm0yZih0KSx1X3NjYWxlX3BhcmVudDpuZXcgZS5Vbmlmb3JtMWYodCksdV9mYWRlX3Q6bmV3IGUuVW5pZm9ybTFmKHQpLHVfb3BhY2l0eTpuZXcgZS5Vbmlmb3JtMWYodCksdV9pbWFnZTA6bmV3IGUuVW5pZm9ybTFpKHQpLHVfaW1hZ2UxOm5ldyBlLlVuaWZvcm0xaSh0KSx1X2JyaWdodG5lc3NfbG93Om5ldyBlLlVuaWZvcm0xZih0KSx1X2JyaWdodG5lc3NfaGlnaDpuZXcgZS5Vbmlmb3JtMWYodCksdV9zYXR1cmF0aW9uX2ZhY3RvcjpuZXcgZS5Vbmlmb3JtMWYodCksdV9jb250cmFzdF9mYWN0b3I6bmV3IGUuVW5pZm9ybTFmKHQpLHVfc3Bpbl93ZWlnaHRzOm5ldyBlLlVuaWZvcm0zZih0KSx1X3BlcnNwZWN0aXZlX3RyYW5zZm9ybTpuZXcgZS5Vbmlmb3JtMmYodCl9KSxzeW1ib2xJY29uOnQ9Pih7dV9pc19zaXplX3pvb21fY29uc3RhbnQ6bmV3IGUuVW5pZm9ybTFpKHQpLHVfaXNfc2l6ZV9mZWF0dXJlX2NvbnN0YW50Om5ldyBlLlVuaWZvcm0xaSh0KSx1X3NpemVfdDpuZXcgZS5Vbmlmb3JtMWYodCksdV9zaXplOm5ldyBlLlVuaWZvcm0xZih0KSx1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2U6bmV3IGUuVW5pZm9ybTFmKHQpLHVfcm90YXRlX3N5bWJvbDpuZXcgZS5Vbmlmb3JtMWkodCksdV9hc3BlY3RfcmF0aW86bmV3IGUuVW5pZm9ybTFmKHQpLHVfZmFkZV9jaGFuZ2U6bmV3IGUuVW5pZm9ybTFmKHQpLHVfbWF0cml4Om5ldyBlLlVuaWZvcm1NYXRyaXg0Zih0KSx1X2xhYmVsX3BsYW5lX21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV9jb29yZF9tYXRyaXg6bmV3IGUuVW5pZm9ybU1hdHJpeDRmKHQpLHVfaXNfdGV4dDpuZXcgZS5Vbmlmb3JtMWkodCksdV9waXRjaF93aXRoX21hcDpuZXcgZS5Vbmlmb3JtMWkodCksdV90ZXhzaXplOm5ldyBlLlVuaWZvcm0yZih0KSx1X3RpbGVfaWQ6bmV3IGUuVW5pZm9ybTNmKHQpLHVfem9vbV90cmFuc2l0aW9uOm5ldyBlLlVuaWZvcm0xZih0KSx1X2ludl9yb3RfbWF0cml4Om5ldyBlLlVuaWZvcm1NYXRyaXg0Zih0KSx1X21lcmNfY2VudGVyOm5ldyBlLlVuaWZvcm0yZih0KSx1X2NhbWVyYV9mb3J3YXJkOm5ldyBlLlVuaWZvcm0zZih0KSx1X3RpbGVfbWF0cml4Om5ldyBlLlVuaWZvcm1NYXRyaXg0Zih0KSx1X3VwX3ZlY3RvcjpuZXcgZS5Vbmlmb3JtM2YodCksdV9lY2VmX29yaWdpbjpuZXcgZS5Vbmlmb3JtM2YodCksdV90ZXh0dXJlOm5ldyBlLlVuaWZvcm0xaSh0KX0pLHN5bWJvbFNERjp0PT4oe3VfaXNfc2l6ZV96b29tX2NvbnN0YW50Om5ldyBlLlVuaWZvcm0xaSh0KSx1X2lzX3NpemVfZmVhdHVyZV9jb25zdGFudDpuZXcgZS5Vbmlmb3JtMWkodCksdV9zaXplX3Q6bmV3IGUuVW5pZm9ybTFmKHQpLHVfc2l6ZTpuZXcgZS5Vbmlmb3JtMWYodCksdV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlOm5ldyBlLlVuaWZvcm0xZih0KSx1X3JvdGF0ZV9zeW1ib2w6bmV3IGUuVW5pZm9ybTFpKHQpLHVfYXNwZWN0X3JhdGlvOm5ldyBlLlVuaWZvcm0xZih0KSx1X2ZhZGVfY2hhbmdlOm5ldyBlLlVuaWZvcm0xZih0KSx1X21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV9sYWJlbF9wbGFuZV9tYXRyaXg6bmV3IGUuVW5pZm9ybU1hdHJpeDRmKHQpLHVfY29vcmRfbWF0cml4Om5ldyBlLlVuaWZvcm1NYXRyaXg0Zih0KSx1X2lzX3RleHQ6bmV3IGUuVW5pZm9ybTFpKHQpLHVfcGl0Y2hfd2l0aF9tYXA6bmV3IGUuVW5pZm9ybTFpKHQpLHVfdGV4c2l6ZTpuZXcgZS5Vbmlmb3JtMmYodCksdV90ZXh0dXJlOm5ldyBlLlVuaWZvcm0xaSh0KSx1X2dhbW1hX3NjYWxlOm5ldyBlLlVuaWZvcm0xZih0KSx1X2RldmljZV9waXhlbF9yYXRpbzpuZXcgZS5Vbmlmb3JtMWYodCksdV90aWxlX2lkOm5ldyBlLlVuaWZvcm0zZih0KSx1X3pvb21fdHJhbnNpdGlvbjpuZXcgZS5Vbmlmb3JtMWYodCksdV9pbnZfcm90X21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV9tZXJjX2NlbnRlcjpuZXcgZS5Vbmlmb3JtMmYodCksdV9jYW1lcmFfZm9yd2FyZDpuZXcgZS5Vbmlmb3JtM2YodCksdV90aWxlX21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV91cF92ZWN0b3I6bmV3IGUuVW5pZm9ybTNmKHQpLHVfZWNlZl9vcmlnaW46bmV3IGUuVW5pZm9ybTNmKHQpLHVfaXNfaGFsbzpuZXcgZS5Vbmlmb3JtMWkodCl9KSxzeW1ib2xUZXh0QW5kSWNvbjp0PT4oe3VfaXNfc2l6ZV96b29tX2NvbnN0YW50Om5ldyBlLlVuaWZvcm0xaSh0KSx1X2lzX3NpemVfZmVhdHVyZV9jb25zdGFudDpuZXcgZS5Vbmlmb3JtMWkodCksdV9zaXplX3Q6bmV3IGUuVW5pZm9ybTFmKHQpLHVfc2l6ZTpuZXcgZS5Vbmlmb3JtMWYodCksdV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlOm5ldyBlLlVuaWZvcm0xZih0KSx1X3JvdGF0ZV9zeW1ib2w6bmV3IGUuVW5pZm9ybTFpKHQpLHVfYXNwZWN0X3JhdGlvOm5ldyBlLlVuaWZvcm0xZih0KSx1X2ZhZGVfY2hhbmdlOm5ldyBlLlVuaWZvcm0xZih0KSx1X21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV9sYWJlbF9wbGFuZV9tYXRyaXg6bmV3IGUuVW5pZm9ybU1hdHJpeDRmKHQpLHVfY29vcmRfbWF0cml4Om5ldyBlLlVuaWZvcm1NYXRyaXg0Zih0KSx1X2lzX3RleHQ6bmV3IGUuVW5pZm9ybTFpKHQpLHVfcGl0Y2hfd2l0aF9tYXA6bmV3IGUuVW5pZm9ybTFpKHQpLHVfdGV4c2l6ZTpuZXcgZS5Vbmlmb3JtMmYodCksdV90ZXhzaXplX2ljb246bmV3IGUuVW5pZm9ybTJmKHQpLHVfdGV4dHVyZTpuZXcgZS5Vbmlmb3JtMWkodCksdV90ZXh0dXJlX2ljb246bmV3IGUuVW5pZm9ybTFpKHQpLHVfZ2FtbWFfc2NhbGU6bmV3IGUuVW5pZm9ybTFmKHQpLHVfZGV2aWNlX3BpeGVsX3JhdGlvOm5ldyBlLlVuaWZvcm0xZih0KSx1X2lzX2hhbG86bmV3IGUuVW5pZm9ybTFpKHQpfSksYmFja2dyb3VuZDp0PT4oe3VfbWF0cml4Om5ldyBlLlVuaWZvcm1NYXRyaXg0Zih0KSx1X29wYWNpdHk6bmV3IGUuVW5pZm9ybTFmKHQpLHVfY29sb3I6bmV3IGUuVW5pZm9ybUNvbG9yKHQpfSksYmFja2dyb3VuZFBhdHRlcm46dD0+KHt1X21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV9vcGFjaXR5Om5ldyBlLlVuaWZvcm0xZih0KSx1X2ltYWdlOm5ldyBlLlVuaWZvcm0xaSh0KSx1X3BhdHRlcm5fdGxfYTpuZXcgZS5Vbmlmb3JtMmYodCksdV9wYXR0ZXJuX2JyX2E6bmV3IGUuVW5pZm9ybTJmKHQpLHVfcGF0dGVybl90bF9iOm5ldyBlLlVuaWZvcm0yZih0KSx1X3BhdHRlcm5fYnJfYjpuZXcgZS5Vbmlmb3JtMmYodCksdV90ZXhzaXplOm5ldyBlLlVuaWZvcm0yZih0KSx1X21peDpuZXcgZS5Vbmlmb3JtMWYodCksdV9wYXR0ZXJuX3NpemVfYTpuZXcgZS5Vbmlmb3JtMmYodCksdV9wYXR0ZXJuX3NpemVfYjpuZXcgZS5Vbmlmb3JtMmYodCksdV9zY2FsZV9hOm5ldyBlLlVuaWZvcm0xZih0KSx1X3NjYWxlX2I6bmV3IGUuVW5pZm9ybTFmKHQpLHVfcGl4ZWxfY29vcmRfdXBwZXI6bmV3IGUuVW5pZm9ybTJmKHQpLHVfcGl4ZWxfY29vcmRfbG93ZXI6bmV3IGUuVW5pZm9ybTJmKHQpLHVfdGlsZV91bml0c190b19waXhlbHM6bmV3IGUuVW5pZm9ybTFmKHQpfSksdGVycmFpblJhc3Rlcjp5aSx0ZXJyYWluRGVwdGg6eWksc2t5Ym94OnQ9Pih7dV9tYXRyaXg6bmV3IGUuVW5pZm9ybU1hdHJpeDRmKHQpLHVfc3VuX2RpcmVjdGlvbjpuZXcgZS5Vbmlmb3JtM2YodCksdV9jdWJlbWFwOm5ldyBlLlVuaWZvcm0xaSh0KSx1X29wYWNpdHk6bmV3IGUuVW5pZm9ybTFmKHQpLHVfdGVtcG9yYWxfb2Zmc2V0Om5ldyBlLlVuaWZvcm0xZih0KX0pLHNreWJveEdyYWRpZW50OnQ9Pih7dV9tYXRyaXg6bmV3IGUuVW5pZm9ybU1hdHJpeDRmKHQpLHVfY29sb3JfcmFtcDpuZXcgZS5Vbmlmb3JtMWkodCksdV9jZW50ZXJfZGlyZWN0aW9uOm5ldyBlLlVuaWZvcm0zZih0KSx1X3JhZGl1czpuZXcgZS5Vbmlmb3JtMWYodCksdV9vcGFjaXR5Om5ldyBlLlVuaWZvcm0xZih0KSx1X3RlbXBvcmFsX29mZnNldDpuZXcgZS5Vbmlmb3JtMWYodCl9KSxza3lib3hDYXB0dXJlOnQ9Pih7dV9tYXRyaXhfM2Y6bmV3IGUuVW5pZm9ybU1hdHJpeDNmKHQpLHVfc3VuX2RpcmVjdGlvbjpuZXcgZS5Vbmlmb3JtM2YodCksdV9zdW5faW50ZW5zaXR5Om5ldyBlLlVuaWZvcm0xZih0KSx1X2NvbG9yX3RpbnRfcjpuZXcgZS5Vbmlmb3JtNGYodCksdV9jb2xvcl90aW50X206bmV3IGUuVW5pZm9ybTRmKHQpLHVfbHVtaW5hbmNlOm5ldyBlLlVuaWZvcm0xZih0KX0pLGdsb2JlUmFzdGVyOnQ9Pih7dV9wcm9qX21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV9nbG9iZV9tYXRyaXg6bmV3IGUuVW5pZm9ybU1hdHJpeDRmKHQpLHVfbm9ybWFsaXplX21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV9tZXJjX21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV96b29tX3RyYW5zaXRpb246bmV3IGUuVW5pZm9ybTFmKHQpLHVfbWVyY19jZW50ZXI6bmV3IGUuVW5pZm9ybTJmKHQpLHVfaW1hZ2UwOm5ldyBlLlVuaWZvcm0xaSh0KSx1X2dyaWRfbWF0cml4Om5ldyBlLlVuaWZvcm1NYXRyaXgzZih0KSx1X2ZydXN0dW1fdGw6bmV3IGUuVW5pZm9ybTNmKHQpLHVfZnJ1c3R1bV90cjpuZXcgZS5Vbmlmb3JtM2YodCksdV9mcnVzdHVtX2JyOm5ldyBlLlVuaWZvcm0zZih0KSx1X2ZydXN0dW1fYmw6bmV3IGUuVW5pZm9ybTNmKHQpLHVfZ2xvYmVfcG9zOm5ldyBlLlVuaWZvcm0zZih0KSx1X2dsb2JlX3JhZGl1czpuZXcgZS5Vbmlmb3JtMWYodCksdV92aWV3cG9ydDpuZXcgZS5Vbmlmb3JtMmYodCl9KSxnbG9iZUF0bW9zcGhlcmU6dD0+KHt1X2ZydXN0dW1fdGw6bmV3IGUuVW5pZm9ybTNmKHQpLHVfZnJ1c3R1bV90cjpuZXcgZS5Vbmlmb3JtM2YodCksdV9mcnVzdHVtX2JyOm5ldyBlLlVuaWZvcm0zZih0KSx1X2ZydXN0dW1fYmw6bmV3IGUuVW5pZm9ybTNmKHQpLHVfaG9yaXpvbjpuZXcgZS5Vbmlmb3JtMWYodCksdV90cmFuc2l0aW9uOm5ldyBlLlVuaWZvcm0xZih0KSx1X2ZhZGVvdXRfcmFuZ2U6bmV3IGUuVW5pZm9ybTFmKHQpLHVfY29sb3I6bmV3IGUuVW5pZm9ybTRmKHQpLHVfaGlnaF9jb2xvcjpuZXcgZS5Vbmlmb3JtNGYodCksdV9zcGFjZV9jb2xvcjpuZXcgZS5Vbmlmb3JtNGYodCksdV9zdGFyX2ludGVuc2l0eTpuZXcgZS5Vbmlmb3JtMWYodCksdV9zdGFyX2RlbnNpdHk6bmV3IGUuVW5pZm9ybTFmKHQpLHVfc3Rhcl9zaXplOm5ldyBlLlVuaWZvcm0xZih0KSx1X3RlbXBvcmFsX29mZnNldDpuZXcgZS5Vbmlmb3JtMWYodCksdV9ob3Jpem9uX2FuZ2xlOm5ldyBlLlVuaWZvcm0xZih0KSx1X3JvdGF0aW9uX21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCl9KX07bGV0IGNvO2Z1bmN0aW9uIGhvKHQsaSxvLHIsbixhLHMpe2NvbnN0IGw9dC5jb250ZXh0LGM9bC5nbCxoPXQudHJhbnNmb3JtLF89dC51c2VQcm9ncmFtKFwiY29sbGlzaW9uQm94XCIpLHU9W107bGV0IGQ9MCxwPTA7Zm9yKGxldCBtPTA7bTxyLmxlbmd0aDttKyspe2NvbnN0IGY9clttXSxnPWkuZ2V0VGlsZShmKSx2PWcuZ2V0QnVja2V0KG8pO2lmKCF2KWNvbnRpbnVlO2NvbnN0IHg9YnQoZix2LGgpO2xldCB5PXg7MD09PW5bMF0mJjA9PT1uWzFdfHwoeT10LnRyYW5zbGF0ZVBvc01hdHJpeCh4LGcsbixhKSk7Y29uc3QgYj1zP3YudGV4dENvbGxpc2lvbkJveDp2Lmljb25Db2xsaXNpb25Cb3gsdz12LmNvbGxpc2lvbkNpcmNsZUFycmF5O2lmKHcubGVuZ3RoPjApe2NvbnN0IHQ9ZS5jcmVhdGUoKSxpPXk7ZS5tdWwodCx2LnBsYWNlbWVudEludlByb2pNYXRyaXgsaC5nbENvb3JkTWF0cml4KSxlLm11bCh0LHQsdi5wbGFjZW1lbnRWaWV3cG9ydE1hdHJpeCksdS5wdXNoKHtjaXJjbGVBcnJheTp3LGNpcmNsZU9mZnNldDpwLHRyYW5zZm9ybTppLGludlRyYW5zZm9ybTp0LHByb2plY3Rpb246di5nZXRQcm9qZWN0aW9uKCl9KSxkKz13Lmxlbmd0aC80LHA9ZDt9YiYmKHQudGVycmFpbiYmdC50ZXJyYWluLnNldHVwRWxldmF0aW9uRHJhdyhnLF8pLF8uZHJhdyhsLGMuTElORVMsZS5EZXB0aE1vZGUuZGlzYWJsZWQsZS5TdGVuY2lsTW9kZS5kaXNhYmxlZCx0LmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKSxlLkN1bGxGYWNlTW9kZS5kaXNhYmxlZCxXaSh5LGgsZyx2LmdldFByb2plY3Rpb24oKSksby5pZCxiLmxheW91dFZlcnRleEJ1ZmZlcixiLmluZGV4QnVmZmVyLGIuc2VnbWVudHMsbnVsbCxoLnpvb20sbnVsbCxbYi5jb2xsaXNpb25WZXJ0ZXhCdWZmZXIsYi5jb2xsaXNpb25WZXJ0ZXhCdWZmZXJFeHRdKSk7fWlmKCFzfHwhdS5sZW5ndGgpcmV0dXJuO2NvbnN0IG09dC51c2VQcm9ncmFtKFwiY29sbGlzaW9uQ2lyY2xlXCIpLGY9bmV3IGUuU3RydWN0QXJyYXlMYXlvdXQyZjFmMmkxNjtmLnJlc2l6ZSg0KmQpLGYuX3RyaW0oKTtsZXQgZz0wO2Zvcihjb25zdCBlIG9mIHUpZm9yKGxldCB0PTA7dDxlLmNpcmNsZUFycmF5Lmxlbmd0aC80O3QrKyl7Y29uc3QgaT00KnQsbz1lLmNpcmNsZUFycmF5W2krMF0scj1lLmNpcmNsZUFycmF5W2krMV0sbj1lLmNpcmNsZUFycmF5W2krMl0sYT1lLmNpcmNsZUFycmF5W2krM107Zi5lbXBsYWNlKGcrKyxvLHIsbixhLDApLGYuZW1wbGFjZShnKyssbyxyLG4sYSwxKSxmLmVtcGxhY2UoZysrLG8scixuLGEsMiksZi5lbXBsYWNlKGcrKyxvLHIsbixhLDMpO30oIWNvfHxjby5sZW5ndGg8MipkKSYmKGNvPWZ1bmN0aW9uKHQpe2NvbnN0IGk9Mip0LG89bmV3IGUuU3RydWN0QXJyYXlMYXlvdXQzdWk2O28ucmVzaXplKGkpLG8uX3RyaW0oKTtmb3IobGV0IGU9MDtlPGk7ZSsrKXtjb25zdCB0PTYqZTtvLnVpbnQxNlt0KzBdPTQqZSswLG8udWludDE2W3QrMV09NCplKzEsby51aW50MTZbdCsyXT00KmUrMixvLnVpbnQxNlt0KzNdPTQqZSsyLG8udWludDE2W3QrNF09NCplKzMsby51aW50MTZbdCs1XT00KmUrMDt9cmV0dXJuIG99KGQpKTtjb25zdCB2PWwuY3JlYXRlSW5kZXhCdWZmZXIoY28sITApLHg9bC5jcmVhdGVWZXJ0ZXhCdWZmZXIoZixlLmNvbGxpc2lvbkNpcmNsZUxheW91dC5tZW1iZXJzLCEwKTtmb3IoY29uc3QgaSBvZiB1KXtjb25zdCByPXt1X21hdHJpeDppLnRyYW5zZm9ybSx1X2ludl9tYXRyaXg6aS5pbnZUcmFuc2Zvcm0sdV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlOih5PWgpLmdldENhbWVyYVRvQ2VudGVyRGlzdGFuY2UoaS5wcm9qZWN0aW9uKSx1X3ZpZXdwb3J0X3NpemU6W3kud2lkdGgseS5oZWlnaHRdfTttLmRyYXcobCxjLlRSSUFOR0xFUyxlLkRlcHRoTW9kZS5kaXNhYmxlZCxlLlN0ZW5jaWxNb2RlLmRpc2FibGVkLHQuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpLGUuQ3VsbEZhY2VNb2RlLmRpc2FibGVkLHIsby5pZCx4LHYsZS5TZWdtZW50VmVjdG9yLnNpbXBsZVNlZ21lbnQoMCwyKmkuY2lyY2xlT2Zmc2V0LGkuY2lyY2xlQXJyYXkubGVuZ3RoLGkuY2lyY2xlQXJyYXkubGVuZ3RoLzIpLG51bGwsaC56b29tKTt9dmFyIHk7eC5kZXN0cm95KCksdi5kZXN0cm95KCk7fWNvbnN0IF9vPWUuY3JlYXRlKCk7ZnVuY3Rpb24gdW8odCxpLG8scixuLGEpe2NvbnN0e2hvcml6b250YWxBbGlnbjpzLHZlcnRpY2FsQWxpZ246bH09ZS5nZXRBbmNob3JBbGlnbm1lbnQodCksYz0tKHMtLjUpKmksaD0tKGwtLjUpKm8sXz1lLmV2YWx1YXRlVmFyaWFibGVPZmZzZXQodCxyKTtyZXR1cm4gbmV3IGUucG9pbnRHZW9tZXRyeSgoYy9uK19bMF0pKmEsKGgvbitfWzFdKSphKX1mdW5jdGlvbiBwbyh0LGksbyxyLG4sYSxzLGwsYyxoLF8pe2NvbnN0IHU9dC50ZXh0LnBsYWNlZFN5bWJvbEFycmF5LGQ9dC50ZXh0LmR5bmFtaWNMYXlvdXRWZXJ0ZXhBcnJheSxwPXQuaWNvbi5keW5hbWljTGF5b3V0VmVydGV4QXJyYXksbT17fSxmPXd0KGwsdC5nZXRQcm9qZWN0aW9uKCksYSksZz1hLmVsZXZhdGlvbix2PXQuZ2V0UHJvamVjdGlvbigpLnVwVmVjdG9yU2NhbGUobC5jYW5vbmljYWwsYS5jZW50ZXIubGF0LGEud29ybGRTaXplKTtkLmNsZWFyKCk7Zm9yKGxldCBwPTA7cDx1Lmxlbmd0aDtwKyspe2NvbnN0IHg9dS5nZXQocCkseT10LmFsbG93VmVydGljYWxQbGFjZW1lbnQmJiF4LnBsYWNlZE9yaWVudGF0aW9uLGI9eC5oaWRkZW58fCF4LmNyb3NzVGlsZUlEfHx5P251bGw6clt4LmNyb3NzVGlsZUlEXTtpZihiKXtjb25zdCByPW5ldyBlLnBvaW50R2VvbWV0cnkoeC50aWxlQW5jaG9yWCx4LnRpbGVBbmNob3JZKSx1PXQuZ2V0UHJvamVjdGlvbigpLnVwVmVjdG9yKGwuY2Fub25pY2FsLHIueCxyLnkpLHA9Zz9nLmdldEF0VGlsZU9mZnNldChsLHIueCxyLnkpOjAseT1udChbeC5wcm9qZWN0ZWRBbmNob3JYK3AqdVswXSp2Lm1ldGVyc1RvVGlsZSx4LnByb2plY3RlZEFuY2hvclkrcCp1WzFdKnYubWV0ZXJzVG9UaWxlLHgucHJvamVjdGVkQW5jaG9yWitwKnVbMl0qdi5tZXRlcnNUb1RpbGVdLG8/ZjpzKSx3PWF0KGEuZ2V0Q2FtZXJhVG9DZW50ZXJEaXN0YW5jZSh0LmdldFByb2plY3Rpb24oKSkseS5zaWduZWREaXN0YW5jZUZyb21DYW1lcmEpO2xldCBUPW4uZXZhbHVhdGVTaXplRm9yRmVhdHVyZSh0LnRleHRTaXplRGF0YSxoLHgpKncvZS5PTkVfRU07byYmKFQqPXQudGlsZVBpeGVsUmF0aW8vYyk7Y29uc3R7d2lkdGg6RSxoZWlnaHQ6QyxhbmNob3I6SSx0ZXh0T2Zmc2V0Ok0sdGV4dFNjYWxlOlN9PWIsej11byhJLEUsQyxNLFMsVCk7bGV0IEQ7aWYobyl7Y29uc3QgZT1yLmFkZCh6KSx7eDppLHk6byx6Om59PXQuZ2V0UHJvamVjdGlvbigpLnByb2plY3RUaWxlUG9pbnQoZS54LGUueSxsLmNhbm9uaWNhbCk7RD1udChbaStwKnVbMF0qdi5tZXRlcnNUb1RpbGUsbytwKnVbMV0qdi5tZXRlcnNUb1RpbGUsbitwKnVbMl0qdi5tZXRlcnNUb1RpbGVdLHMpLnBvaW50O31lbHNlIHtjb25zdCBlPWk/ei5yb3RhdGUoLWEuYW5nbGUpOno7RD1beS5wb2ludFswXStlLngseS5wb2ludFsxXStlLnksMF07fWNvbnN0IEE9dC5hbGxvd1ZlcnRpY2FsUGxhY2VtZW50JiZ4LnBsYWNlZE9yaWVudGF0aW9uPT09ZS5Xcml0aW5nTW9kZS52ZXJ0aWNhbD9NYXRoLlBJLzI6MDtmb3IobGV0IHQ9MDt0PHgubnVtR2x5cGhzO3QrKyllLmFkZER5bmFtaWNBdHRyaWJ1dGVzKGQsRFswXSxEWzFdLERbMl0sQSk7XyYmeC5hc3NvY2lhdGVkSWNvbkluZGV4Pj0wJiYobVt4LmFzc29jaWF0ZWRJY29uSW5kZXhdPXtzaGlmdGVkQW5jaG9yOkQsYW5nbGU6QX0pO31lbHNlIGZ0KHgubnVtR2x5cGhzLGQpO31pZihfKXtwLmNsZWFyKCk7Y29uc3QgaT10Lmljb24ucGxhY2VkU3ltYm9sQXJyYXk7Zm9yKGxldCB0PTA7dDxpLmxlbmd0aDt0Kyspe2NvbnN0IG89aS5nZXQodCk7aWYoby5oaWRkZW4pZnQoby5udW1HbHlwaHMscCk7ZWxzZSB7Y29uc3QgaT1tW3RdO2lmKGkpZm9yKGxldCB0PTA7dDxvLm51bUdseXBoczt0KyspZS5hZGREeW5hbWljQXR0cmlidXRlcyhwLGkuc2hpZnRlZEFuY2hvclswXSxpLnNoaWZ0ZWRBbmNob3JbMV0saS5zaGlmdGVkQW5jaG9yWzJdLGkuYW5nbGUpO2Vsc2UgZnQoby5udW1HbHlwaHMscCk7fX10Lmljb24uZHluYW1pY0xheW91dFZlcnRleEJ1ZmZlci51cGRhdGVEYXRhKHApO310LnRleHQuZHluYW1pY0xheW91dFZlcnRleEJ1ZmZlci51cGRhdGVEYXRhKGQpO31mdW5jdGlvbiBtbyhlLHQsaSl7cmV0dXJuIGkuaWNvbnNJblRleHQmJnQ/XCJzeW1ib2xUZXh0QW5kSWNvblwiOmU/XCJzeW1ib2xTREZcIjpcInN5bWJvbEljb25cIn1mdW5jdGlvbiBmbyh0LGksbyxyLG4sYSxzLGwsYyxoLF8sdSl7Y29uc3QgZD10LmNvbnRleHQscD1kLmdsLG09dC50cmFuc2Zvcm0sZj1cIm1hcFwiPT09bCxnPVwibWFwXCI9PT1jLHY9ZiYmXCJwb2ludFwiIT09by5sYXlvdXQuZ2V0KFwic3ltYm9sLXBsYWNlbWVudFwiKSx4PWYmJiFnJiYhdix5PXZvaWQgMCE9PW8ubGF5b3V0LmdldChcInN5bWJvbC1zb3J0LWtleVwiKS5jb25zdGFudE9yKDEpO2xldCBiPSExO2NvbnN0IHc9dC5kZXB0aE1vZGVGb3JTdWJsYXllcigwLGUuRGVwdGhNb2RlLlJlYWRPbmx5KSxUPVtlLm1lcmNhdG9yWGZyb21MbmcobS5jZW50ZXIubG5nKSxlLm1lcmNhdG9yWWZyb21MYXQobS5jZW50ZXIubGF0KV0sRT1vLmxheW91dC5nZXQoXCJ0ZXh0LXZhcmlhYmxlLWFuY2hvclwiKSxDPVwiZ2xvYmVcIj09PW0ucHJvamVjdGlvbi5uYW1lLEk9W10sTT1bMCwtMSwwXTtsZXQgUz1NOyFDJiYhbS5tZXJjYXRvckZyb21UcmFuc2l0aW9ufHxmfHwoUz1mdW5jdGlvbih0KXtjb25zdCBpPXQuX2NhbWVyYS5nZXRXb3JsZFRvQ2FtZXJhKHQud29ybGRTaXplLDEpLG89ZS5tdWx0aXBseShbXSxpLHQuZ2xvYmVNYXRyaXgpO2UuaW52ZXJ0KG8sbyk7Y29uc3Qgcj1bMCwwLDBdLG49WzAsMSwwLDBdO3JldHVybiBlLnRyYW5zZm9ybU1hdDQkMShuLG4sbyksclswXT1uWzBdLHJbMV09blsxXSxyWzJdPW5bMl0sZS5ub3JtYWxpemUocixyKSxyfShtKSk7Zm9yKGNvbnN0IGwgb2Ygcil7Y29uc3Qgcj1pLmdldFRpbGUobCksYz1yLmdldEJ1Y2tldChvKTtpZighYyljb250aW51ZTtpZihcIm1lcmNhdG9yXCI9PT1jLnByb2plY3Rpb24ubmFtZSYmQyljb250aW51ZTtjb25zdCBfPW4/Yy50ZXh0OmMuaWNvbjtpZighX3x8Yy5mdWxseUNsaXBwZWR8fCFfLnNlZ21lbnRzLmdldCgpLmxlbmd0aCljb250aW51ZTtjb25zdCB1PV8ucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLmdldChvLmlkKSxkPW58fGMuc2RmSWNvbnMsdz1uP2MudGV4dFNpemVEYXRhOmMuaWNvblNpemVEYXRhLHo9Z3x8MCE9PW0ucGl0Y2gsRD1lLmV2YWx1YXRlU2l6ZUZvclpvb20odyxtLnpvb20pO2xldCBBLFAsTCxSLE89WzAsMF0sQj1udWxsO2lmKG4pe2lmKFA9ci5nbHlwaEF0bGFzVGV4dHVyZSxMPXAuTElORUFSLEE9ci5nbHlwaEF0bGFzVGV4dHVyZS5zaXplLGMuaWNvbnNJblRleHQpe089ci5pbWFnZUF0bGFzVGV4dHVyZS5zaXplLEI9ci5pbWFnZUF0bGFzVGV4dHVyZTtjb25zdCBlPVwiY29tcG9zaXRlXCI9PT13LmtpbmR8fFwiY2FtZXJhXCI9PT13LmtpbmQ7Uj16fHx0Lm9wdGlvbnMucm90YXRpbmd8fHQub3B0aW9ucy56b29taW5nfHxlP3AuTElORUFSOnAuTkVBUkVTVDt9fWVsc2Uge2NvbnN0IGU9MSE9PW8ubGF5b3V0LmdldChcImljb24tc2l6ZVwiKS5jb25zdGFudE9yKDApfHxjLmljb25zTmVlZExpbmVhcjtQPXIuaW1hZ2VBdGxhc1RleHR1cmUsTD1kfHx0Lm9wdGlvbnMucm90YXRpbmd8fHQub3B0aW9ucy56b29taW5nfHxlfHx6P3AuTElORUFSOnAuTkVBUkVTVCxBPXIuaW1hZ2VBdGxhc1RleHR1cmUuc2l6ZTt9Y29uc3Qgaz1cImdsb2JlXCI9PT1jLnByb2plY3Rpb24ubmFtZSxGPWs/UzpNLFU9az9lLmdsb2JlVG9NZXJjYXRvclRyYW5zaXRpb24obS56b29tKTowLE49d3QobCxjLmdldFByb2plY3Rpb24oKSxtKSxHPW0uY2FsY3VsYXRlUGl4ZWxzVG9UaWxlVW5pdHNNYXRyaXgociksaj10dChOLHIudGlsZUlELmNhbm9uaWNhbCxnLGYsbSxjLmdldFByb2plY3Rpb24oKSxHKSxaPXQudGVycmFpbiYmZyYmdj9lLmludmVydChlLmNyZWF0ZSgpLGopOl9vLFY9b3QoTixyLnRpbGVJRC5jYW5vbmljYWwsZyxmLG0sYy5nZXRQcm9qZWN0aW9uKCksRyksVz1FJiZjLmhhc1RleHREYXRhKCksWD1cIm5vbmVcIiE9PW8ubGF5b3V0LmdldChcImljb24tdGV4dC1maXRcIikmJlcmJmMuaGFzSWNvbkRhdGEoKTtpZih2KXtjb25zdCBlPW0uZWxldmF0aW9uLGk9ZT9lLmdldEF0VGlsZU9mZnNldEZ1bmMobCxtLmNlbnRlci5sYXQsbS53b3JsZFNpemUsYy5nZXRQcm9qZWN0aW9uKCkpOmU9PlswLDAsMF0sbz1pdChOLHIudGlsZUlELmNhbm9uaWNhbCxnLGYsbSxjLmdldFByb2plY3Rpb24oKSxHKTtsdChjLE4sdCxuLG8sVixnLGgsaSxsKTt9Y29uc3QgcT12fHxuJiZFfHxYLCQ9dC50cmFuc2xhdGVQb3NNYXRyaXgoTixyLGEscyksSD1xP19vOmosWT10LnRyYW5zbGF0ZVBvc01hdHJpeChWLHIsYSxzLCEwKSxLPWMuZ2V0UHJvamVjdGlvbigpLmNyZWF0ZUludmVyc2lvbk1hdHJpeChtLGwuY2Fub25pY2FsKSxKPVtdO3QudGVycmFpblJlbmRlck1vZGVFbGV2YXRlZCgpJiZnJiZKLnB1c2goXCJQSVRDSF9XSVRIX01BUF9URVJSQUlOXCIpLGsmJkoucHVzaChcIlBST0pFQ1RJT05fR0xPQkVfVklFV1wiKSxxJiZKLnB1c2goXCJQUk9KRUNURURfUE9TX09OX1ZJRVdQT1JUXCIpO2NvbnN0IFE9ZCYmMCE9PW8ucGFpbnQuZ2V0KG4/XCJ0ZXh0LWhhbG8td2lkdGhcIjpcImljb24taGFsby13aWR0aFwiKS5jb25zdGFudE9yKDEpO2xldCBlZTtlZT1kP2MuaWNvbnNJblRleHQ/bm8ody5raW5kLEQseCxnLHQsJCxILFksQSxPLGwsVSxULEssRixjLmdldFByb2plY3Rpb24oKSk6cm8ody5raW5kLEQseCxnLHQsJCxILFksbixBLCEwLGwsVSxULEssRixjLmdldFByb2plY3Rpb24oKSk6b28ody5raW5kLEQseCxnLHQsJCxILFksbixBLGwsVSxULEssRixjLmdldFByb2plY3Rpb24oKSk7Y29uc3QgdGU9e3Byb2dyYW06dC51c2VQcm9ncmFtKG1vKGQsbixjKSx1LEopLGJ1ZmZlcnM6Xyx1bmlmb3JtVmFsdWVzOmVlLGF0bGFzVGV4dHVyZTpQLGF0bGFzVGV4dHVyZUljb246QixhdGxhc0ludGVycG9sYXRpb246TCxhdGxhc0ludGVycG9sYXRpb25JY29uOlIsaXNTREY6ZCxoYXNIYWxvOlEsdGlsZTpyLGxhYmVsUGxhbmVNYXRyaXhJbnY6Wn07aWYoeSYmYy5jYW5PdmVybGFwKXtiPSEwO2NvbnN0IHQ9Xy5zZWdtZW50cy5nZXQoKTtmb3IoY29uc3QgaSBvZiB0KUkucHVzaCh7c2VnbWVudHM6bmV3IGUuU2VnbWVudFZlY3RvcihbaV0pLHNvcnRLZXk6aS5zb3J0S2V5LHN0YXRlOnRlfSk7fWVsc2UgSS5wdXNoKHtzZWdtZW50czpfLnNlZ21lbnRzLHNvcnRLZXk6MCxzdGF0ZTp0ZX0pO31iJiZJLnNvcnQoKChlLHQpPT5lLnNvcnRLZXktdC5zb3J0S2V5KSk7Zm9yKGNvbnN0IGUgb2YgSSl7Y29uc3QgaT1lLnN0YXRlO2lmKHQudGVycmFpbiYmdC50ZXJyYWluLnNldHVwRWxldmF0aW9uRHJhdyhpLnRpbGUsaS5wcm9ncmFtLHt1c2VEZXB0aEZvck9jY2x1c2lvbjohQyxsYWJlbFBsYW5lTWF0cml4SW52OmkubGFiZWxQbGFuZU1hdHJpeEludn0pLGQuYWN0aXZlVGV4dHVyZS5zZXQocC5URVhUVVJFMCksaS5hdGxhc1RleHR1cmUuYmluZChpLmF0bGFzSW50ZXJwb2xhdGlvbixwLkNMQU1QX1RPX0VER0UpLGkuYXRsYXNUZXh0dXJlSWNvbiYmKGQuYWN0aXZlVGV4dHVyZS5zZXQocC5URVhUVVJFMSksaS5hdGxhc1RleHR1cmVJY29uJiZpLmF0bGFzVGV4dHVyZUljb24uYmluZChpLmF0bGFzSW50ZXJwb2xhdGlvbkljb24scC5DTEFNUF9UT19FREdFKSksaS5pc1NERil7Y29uc3Qgcj1pLnVuaWZvcm1WYWx1ZXM7aS5oYXNIYWxvJiYoci51X2lzX2hhbG89MSxnbyhpLmJ1ZmZlcnMsZS5zZWdtZW50cyxvLHQsaS5wcm9ncmFtLHcsXyx1LHIpKSxyLnVfaXNfaGFsbz0wO31nbyhpLmJ1ZmZlcnMsZS5zZWdtZW50cyxvLHQsaS5wcm9ncmFtLHcsXyx1LGkudW5pZm9ybVZhbHVlcyk7fX1mdW5jdGlvbiBnbyh0LGksbyxyLG4sYSxzLGwsYyl7Y29uc3QgaD1yLmNvbnRleHQsXz1bdC5keW5hbWljTGF5b3V0VmVydGV4QnVmZmVyLHQub3BhY2l0eVZlcnRleEJ1ZmZlcix0Lmdsb2JlRXh0VmVydGV4QnVmZmVyXTtuLmRyYXcoaCxoLmdsLlRSSUFOR0xFUyxhLHMsbCxlLkN1bGxGYWNlTW9kZS5kaXNhYmxlZCxjLG8uaWQsdC5sYXlvdXRWZXJ0ZXhCdWZmZXIsdC5pbmRleEJ1ZmZlcixpLG8ucGFpbnQsci50cmFuc2Zvcm0uem9vbSx0LnByb2dyYW1Db25maWd1cmF0aW9ucy5nZXQoby5pZCksXyk7fWZ1bmN0aW9uIHZvKHQsaSxvLHIsbixhLHMpe2NvbnN0IGw9dC5jb250ZXh0LmdsLGM9by5wYWludC5nZXQoXCJmaWxsLXBhdHRlcm5cIiksaD1jJiZjLmNvbnN0YW50T3IoMSksXz1vLmdldENyb3NzZmFkZVBhcmFtZXRlcnMoKTtsZXQgdSxkLHAsbSxmO3M/KGQ9aCYmIW8uZ2V0UGFpbnRQcm9wZXJ0eShcImZpbGwtb3V0bGluZS1jb2xvclwiKT9cImZpbGxPdXRsaW5lUGF0dGVyblwiOlwiZmlsbE91dGxpbmVcIix1PWwuTElORVMpOihkPWg/XCJmaWxsUGF0dGVyblwiOlwiZmlsbFwiLHU9bC5UUklBTkdMRVMpO2Zvcihjb25zdCBnIG9mIHIpe2NvbnN0IHI9aS5nZXRUaWxlKGcpO2lmKGgmJiFyLnBhdHRlcm5zTG9hZGVkKCkpY29udGludWU7Y29uc3Qgdj1yLmdldEJ1Y2tldChvKTtpZighdiljb250aW51ZTt0LnByZXBhcmVEcmF3VGlsZSgpO2NvbnN0IHg9di5wcm9ncmFtQ29uZmlndXJhdGlvbnMuZ2V0KG8uaWQpLHk9dC51c2VQcm9ncmFtKGQseCk7aCYmKHQuY29udGV4dC5hY3RpdmVUZXh0dXJlLnNldChsLlRFWFRVUkUwKSxyLmltYWdlQXRsYXNUZXh0dXJlLmJpbmQobC5MSU5FQVIsbC5DTEFNUF9UT19FREdFKSx4LnVwZGF0ZVBhaW50QnVmZmVycyhfKSk7Y29uc3QgYj1jLmNvbnN0YW50T3IobnVsbCk7aWYoYiYmci5pbWFnZUF0bGFzKXtjb25zdCBlPXIuaW1hZ2VBdGxhcyx0PWUucGF0dGVyblBvc2l0aW9uc1tiLnRvLnRvU3RyaW5nKCldLGk9ZS5wYXR0ZXJuUG9zaXRpb25zW2IuZnJvbS50b1N0cmluZygpXTt0JiZpJiZ4LnNldENvbnN0YW50UGF0dGVyblBvc2l0aW9ucyh0LGkpO31jb25zdCB3PXQudHJhbnNsYXRlUG9zTWF0cml4KGcucHJvak1hdHJpeCxyLG8ucGFpbnQuZ2V0KFwiZmlsbC10cmFuc2xhdGVcIiksby5wYWludC5nZXQoXCJmaWxsLXRyYW5zbGF0ZS1hbmNob3JcIikpO2lmKHMpe209di5pbmRleEJ1ZmZlcjIsZj12LnNlZ21lbnRzMjtjb25zdCBlPXQudGVycmFpbiYmdC50ZXJyYWluLnJlbmRlcmluZ1RvVGV4dHVyZT90LnRlcnJhaW4uZHJhcGVCdWZmZXJTaXplOltsLmRyYXdpbmdCdWZmZXJXaWR0aCxsLmRyYXdpbmdCdWZmZXJIZWlnaHRdO3A9XCJmaWxsT3V0bGluZVBhdHRlcm5cIj09PWQmJmg/R2kodyx0LF8scixlKTpOaSh3LGUpO31lbHNlIG09di5pbmRleEJ1ZmZlcixmPXYuc2VnbWVudHMscD1oP1VpKHcsdCxfLHIpOkZpKHcpO3QucHJlcGFyZURyYXdQcm9ncmFtKHQuY29udGV4dCx5LGcudG9VbndyYXBwZWQoKSkseS5kcmF3KHQuY29udGV4dCx1LG4sdC5zdGVuY2lsTW9kZUZvckNsaXBwaW5nKGcpLGEsZS5DdWxsRmFjZU1vZGUuZGlzYWJsZWQscCxvLmlkLHYubGF5b3V0VmVydGV4QnVmZmVyLG0sZixvLnBhaW50LHQudHJhbnNmb3JtLnpvb20seCk7fX1mdW5jdGlvbiB4byh0LGksbyxyLG4sYSxzKXtjb25zdCBsPXQuY29udGV4dCxjPWwuZ2wsaD10LnRyYW5zZm9ybSxfPW8ucGFpbnQuZ2V0KFwiZmlsbC1leHRydXNpb24tcGF0dGVyblwiKSx1PV8uY29uc3RhbnRPcigxKSxkPW8uZ2V0Q3Jvc3NmYWRlUGFyYW1ldGVycygpLHA9by5wYWludC5nZXQoXCJmaWxsLWV4dHJ1c2lvbi1vcGFjaXR5XCIpLG09W28ucGFpbnQuZ2V0KFwiZmlsbC1leHRydXNpb24tYW1iaWVudC1vY2NsdXNpb24taW50ZW5zaXR5XCIpLG8ucGFpbnQuZ2V0KFwiZmlsbC1leHRydXNpb24tYW1iaWVudC1vY2NsdXNpb24tcmFkaXVzXCIpXSxmPW8ubGF5b3V0LmdldChcImZpbGwtZXh0cnVzaW9uLWVkZ2UtcmFkaXVzXCIpLGc9XCJnbG9iZVwiPT09aC5wcm9qZWN0aW9uLm5hbWU/ZS5maWxsRXh0cnVzaW9uSGVpZ2h0TGlmdCgpOjAsdj1cImdsb2JlXCI9PT1oLnByb2plY3Rpb24ubmFtZSx4PXY/ZS5nbG9iZVRvTWVyY2F0b3JUcmFuc2l0aW9uKGguem9vbSk6MCx5PVtlLm1lcmNhdG9yWGZyb21MbmcoaC5jZW50ZXIubG5nKSxlLm1lcmNhdG9yWWZyb21MYXQoaC5jZW50ZXIubGF0KV0sYj1bXTt2JiYoYi5wdXNoKFwiUFJPSkVDVElPTl9HTE9CRV9WSUVXXCIpLHQuc3R5bGUudGVycmFpblNldEZvckRyYXBpbmdPbmx5KCkmJmIucHVzaChcIlRFUlJBSU5cIikpLG1bMF0+MCYmYi5wdXNoKFwiRkFVWF9BT1wiKTtmb3IoY29uc3QgdyBvZiByKXtjb25zdCByPWkuZ2V0VGlsZSh3KSxUPXIuZ2V0QnVja2V0KG8pO2lmKCFUfHxULnByb2plY3Rpb24ubmFtZSE9PWgucHJvamVjdGlvbi5uYW1lKWNvbnRpbnVlO2NvbnN0IEU9VC5wcm9ncmFtQ29uZmlndXJhdGlvbnMuZ2V0KG8uaWQpLEM9dC51c2VQcm9ncmFtKHU/XCJmaWxsRXh0cnVzaW9uUGF0dGVyblwiOlwiZmlsbEV4dHJ1c2lvblwiLEUsYik7aWYodC50ZXJyYWluKXtjb25zdCBlPXQudGVycmFpbjtpZih0LnN0eWxlLnRlcnJhaW5TZXRGb3JEcmFwaW5nT25seSgpKWUuc2V0dXBFbGV2YXRpb25EcmF3KHIsQyx7dXNlTWV0ZXJUb0RlbTohMH0pO2Vsc2Uge2lmKCFULmVuYWJsZVRlcnJhaW4pY29udGludWU7aWYoZS5zZXR1cEVsZXZhdGlvbkRyYXcocixDLHt1c2VNZXRlclRvRGVtOiEwfSkseW8obCxpLHcsVCxvLGUpLCFULmNlbnRyb2lkVmVydGV4QnVmZmVyKXtjb25zdCBlPUMuYXR0cmlidXRlcy5hX2NlbnRyb2lkX3Bvczt2b2lkIDAhPT1lJiZjLnZlcnRleEF0dHJpYjJmKGUsMCwwKTt9fX11JiYodC5jb250ZXh0LmFjdGl2ZVRleHR1cmUuc2V0KGMuVEVYVFVSRTApLHIuaW1hZ2VBdGxhc1RleHR1cmUuYmluZChjLkxJTkVBUixjLkNMQU1QX1RPX0VER0UpLEUudXBkYXRlUGFpbnRCdWZmZXJzKGQpKTtjb25zdCBJPV8uY29uc3RhbnRPcihudWxsKTtpZihJJiZyLmltYWdlQXRsYXMpe2NvbnN0IGU9ci5pbWFnZUF0bGFzLHQ9ZS5wYXR0ZXJuUG9zaXRpb25zW0kudG8udG9TdHJpbmcoKV0saT1lLnBhdHRlcm5Qb3NpdGlvbnNbSS5mcm9tLnRvU3RyaW5nKCldO3QmJmkmJkUuc2V0Q29uc3RhbnRQYXR0ZXJuUG9zaXRpb25zKHQsaSk7fWNvbnN0IE09dC50cmFuc2xhdGVQb3NNYXRyaXgody5wcm9qTWF0cml4LHIsby5wYWludC5nZXQoXCJmaWxsLWV4dHJ1c2lvbi10cmFuc2xhdGVcIiksby5wYWludC5nZXQoXCJmaWxsLWV4dHJ1c2lvbi10cmFuc2xhdGUtYW5jaG9yXCIpKSxTPWgucHJvamVjdGlvbi5jcmVhdGVJbnZlcnNpb25NYXRyaXgoaCx3LmNhbm9uaWNhbCksej1vLnBhaW50LmdldChcImZpbGwtZXh0cnVzaW9uLXZlcnRpY2FsLWdyYWRpZW50XCIpLEQ9dT9raShNLHQseixwLG0sZix3LGQscixnLHgseSxTKTpCaShNLHQseixwLG0sZix3LGcseCx5LFMpO3QucHJlcGFyZURyYXdQcm9ncmFtKGwsQyx3LnRvVW53cmFwcGVkKCkpO2NvbnN0IEE9W107dC50ZXJyYWluJiZBLnB1c2goVC5jZW50cm9pZFZlcnRleEJ1ZmZlciksdiYmQS5wdXNoKFQubGF5b3V0VmVydGV4RXh0QnVmZmVyKSxDLmRyYXcobCxsLmdsLlRSSUFOR0xFUyxuLGEscyxlLkN1bGxGYWNlTW9kZS5iYWNrQ0NXLEQsby5pZCxULmxheW91dFZlcnRleEJ1ZmZlcixULmluZGV4QnVmZmVyLFQuc2VnbWVudHMsby5wYWludCx0LnRyYW5zZm9ybS56b29tLEUsQSk7fX1mdW5jdGlvbiB5byh0LGksbyxyLG4sYSl7Y29uc3Qgcz1bdD0+e2xldCBpPXQuY2Fub25pY2FsLngtMSxvPXQud3JhcDtyZXR1cm4gaTwwJiYoaT0oMTw8dC5jYW5vbmljYWwueiktMSxvLS0pLG5ldyBlLk92ZXJzY2FsZWRUaWxlSUQodC5vdmVyc2NhbGVkWixvLHQuY2Fub25pY2FsLnosaSx0LmNhbm9uaWNhbC55KX0sdD0+e2xldCBpPXQuY2Fub25pY2FsLngrMSxvPXQud3JhcDtyZXR1cm4gaT09PTE8PHQuY2Fub25pY2FsLnomJihpPTAsbysrKSxuZXcgZS5PdmVyc2NhbGVkVGlsZUlEKHQub3ZlcnNjYWxlZFosbyx0LmNhbm9uaWNhbC56LGksdC5jYW5vbmljYWwueSl9LHQ9Pm5ldyBlLk92ZXJzY2FsZWRUaWxlSUQodC5vdmVyc2NhbGVkWix0LndyYXAsdC5jYW5vbmljYWwueix0LmNhbm9uaWNhbC54LCgwPT09dC5jYW5vbmljYWwueT8xPDx0LmNhbm9uaWNhbC56OnQuY2Fub25pY2FsLnkpLTEpLHQ9Pm5ldyBlLk92ZXJzY2FsZWRUaWxlSUQodC5vdmVyc2NhbGVkWix0LndyYXAsdC5jYW5vbmljYWwueix0LmNhbm9uaWNhbC54LHQuY2Fub25pY2FsLnk9PT0oMTw8dC5jYW5vbmljYWwueiktMT8wOnQuY2Fub25pY2FsLnkrMSldLGw9ZT0+e2NvbnN0IHQ9aS5nZXRTb3VyY2UoKS5taW56b29tLG89ZT0+e2NvbnN0IHQ9aS5nZXRUaWxlQnlJRChlKTtpZih0JiZ0Lmhhc0RhdGEoKSlyZXR1cm4gdC5nZXRCdWNrZXQobil9LHI9WzAsLTEsMV07Zm9yKGNvbnN0IGkgb2Ygcil7aWYoZS5vdmVyc2NhbGVkWitpPHQpY29udGludWU7Y29uc3Qgcj1vKGUuY2FsY3VsYXRlU2NhbGVkS2V5KGUub3ZlcnNjYWxlZForaSkpO2lmKHIpcmV0dXJuIHJ9fSxjPVswLDAsMF0saD0odCxpKT0+KGNbMF09TWF0aC5taW4odC5taW4ueSxpLm1pbi55KSxjWzFdPU1hdGgubWF4KHQubWF4LnksaS5tYXgueSksY1syXT1lLkVYVEVOVC1pLm1pbi54PnQubWF4Lng/aS5taW4ueC1lLkVYVEVOVDp0Lm1heC54LGMpLF89KHQsaSk9PihjWzBdPU1hdGgubWluKHQubWluLngsaS5taW4ueCksY1sxXT1NYXRoLm1heCh0Lm1heC54LGkubWF4LngpLGNbMl09ZS5FWFRFTlQtaS5taW4ueT50Lm1heC55P2kubWluLnktZS5FWFRFTlQ6dC5tYXgueSxjKSx1PVsoZSx0KT0+aChlLHQpLChlLHQpPT5oKHQsZSksKGUsdCk9Pl8oZSx0KSwoZSx0KT0+Xyh0LGUpXSxkPW5ldyBlLnBvaW50R2VvbWV0cnkoMCwwKTtsZXQgcCxtLGY7Y29uc3QgZz0odCxpLHIsbixzKT0+e2NvbnN0IGw9W1tuP3I6dCxuP3Q6ciwwXSxbbj9yOmksbj9pOnIsMF1dLGM9czwwP2UuRVhURU5UK3M6cyxoPVtuP2M6KHQraSkvMixuPyh0K2kpLzI6YywwXTtyZXR1cm4gMD09PXImJnM8MHx8MCE9PXImJnM+MD9hLmdldEZvclRpbGVQb2ludHMoZixbaF0sITAsbSk6bC5wdXNoKGgpLGEuZ2V0Rm9yVGlsZVBvaW50cyhvLGwsITAscCksTWF0aC5tYXgobFswXVsyXSxsWzFdWzJdLGhbMl0pL2EuZXhhZ2dlcmF0aW9uKCl9O2ZvcihsZXQgdD0wO3Q8NDt0Kyspe2NvbnN0IGk9KHQ8Mj8xOjUpLXQsbj1yLmJvcmRlcnNbdF07aWYoMD09PW4ubGVuZ3RoKWNvbnRpbnVlO2NvbnN0IGM9Zj1zW3RdKG8pLGg9bChjKTtpZighKGgmJmggaW5zdGFuY2VvZiBlLkZpbGxFeHRydXNpb25CdWNrZXQmJmguZW5hYmxlVGVycmFpbikpY29udGludWU7aWYoci5ib3JkZXJEb25lV2l0aE5laWdoYm9yWlt0XT09PWguY2Fub25pY2FsLnomJmguYm9yZGVyRG9uZVdpdGhOZWlnaGJvclpbaV09PT1yLmNhbm9uaWNhbC56KWNvbnRpbnVlO2lmKG09YS5maW5kREVNVGlsZUZvcihjKSwhbXx8IW0uZGVtKWNvbnRpbnVlO2lmKCFwKXtjb25zdCBlPWEuZmluZERFTVRpbGVGb3Iobyk7aWYoIWV8fCFlLmRlbSlyZXR1cm47cD1lO31jb25zdCBfPWguYm9yZGVyc1tpXTtsZXQgdj0wO2NvbnN0IHg9aC5ib3JkZXJEb25lV2l0aE5laWdoYm9yWltpXSE9PXIuY2Fub25pY2FsLno7aWYoci5jYW5vbmljYWwuej09PWguY2Fub25pY2FsLnope2ZvcihsZXQgbz0wO288bi5sZW5ndGg7bysrKXtjb25zdCBhPXIuZmVhdHVyZXNPbkJvcmRlcltuW29dXSxzPWEuYm9yZGVyc1t0XTtsZXQgbDtmb3IoO3Y8Xy5sZW5ndGgmJihsPWguZmVhdHVyZXNPbkJvcmRlcltfW3ZdXSwhKGwuYm9yZGVyc1tpXVsxXT5zWzBdKzMpKTspeCYmaC5lbmNvZGVDZW50cm9pZCh2b2lkIDAsbCwhMSksdisrO2lmKGwmJnY8Xy5sZW5ndGgpe2NvbnN0IG89djtsZXQgbj0wO2Zvcig7IShsLmJvcmRlcnNbaV1bMF0+c1sxXS0zKSYmKG4rKywrK3YhPT1fLmxlbmd0aCk7KWw9aC5mZWF0dXJlc09uQm9yZGVyW19bdl1dO2lmKGw9aC5mZWF0dXJlc09uQm9yZGVyW19bb11dLGEuaW50ZXJzZWN0c0NvdW50KCk+MXx8bC5pbnRlcnNlY3RzQ291bnQoKT4xfHwxIT09bil7MSE9PW4mJih2PW8pLHIuZW5jb2RlQ2VudHJvaWQodm9pZCAwLGEsITEpLHgmJmguZW5jb2RlQ2VudHJvaWQodm9pZCAwLGwsITEpO2NvbnRpbnVlfWNvbnN0IGM9dVt0XShhLGwpLHA9dCUyP2UuRVhURU5ULTE6MDtkLng9ZyhjWzBdLE1hdGgubWluKGUuRVhURU5ULTEsY1sxXSkscCx0PDIsY1syXSksZC55PTAsci5lbmNvZGVDZW50cm9pZChkLGEsITEpLHgmJmguZW5jb2RlQ2VudHJvaWQoZCxsLCExKTt9ZWxzZSByLmVuY29kZUNlbnRyb2lkKHZvaWQgMCxhLCExKTt9ci5ib3JkZXJEb25lV2l0aE5laWdoYm9yWlt0XT1oLmNhbm9uaWNhbC56LHIubmVlZHNDZW50cm9pZFVwZGF0ZT0hMCx4JiYoaC5ib3JkZXJEb25lV2l0aE5laWdoYm9yWltpXT1yLmNhbm9uaWNhbC56LGgubmVlZHNDZW50cm9pZFVwZGF0ZT0hMCk7fWVsc2Uge2Zvcihjb25zdCBlIG9mIG4pci5lbmNvZGVDZW50cm9pZCh2b2lkIDAsci5mZWF0dXJlc09uQm9yZGVyW2VdLCExKTtpZih4KXtmb3IoY29uc3QgZSBvZiBfKWguZW5jb2RlQ2VudHJvaWQodm9pZCAwLGguZmVhdHVyZXNPbkJvcmRlcltlXSwhMSk7aC5ib3JkZXJEb25lV2l0aE5laWdoYm9yWltpXT1yLmNhbm9uaWNhbC56LGgubmVlZHNDZW50cm9pZFVwZGF0ZT0hMDt9ci5ib3JkZXJEb25lV2l0aE5laWdoYm9yWlt0XT1oLmNhbm9uaWNhbC56LHIubmVlZHNDZW50cm9pZFVwZGF0ZT0hMDt9fShyLm5lZWRzQ2VudHJvaWRVcGRhdGV8fCFyLmNlbnRyb2lkVmVydGV4QnVmZmVyJiYwIT09ci5jZW50cm9pZFZlcnRleEFycmF5Lmxlbmd0aCkmJnIudXBsb2FkQ2VudHJvaWQodCk7fWNvbnN0IGJvPW5ldyBlLkNvbG9yKDEsMCwwLDEpLHdvPW5ldyBlLkNvbG9yKDAsMSwwLDEpLFRvPW5ldyBlLkNvbG9yKDAsMCwxLDEpLEVvPW5ldyBlLkNvbG9yKDEsMCwxLDEpLENvPW5ldyBlLkNvbG9yKDAsMSwxLDEpO2Z1bmN0aW9uIElvKHQsaSxvKXtjb25zdCByPXQuY29udGV4dCxuPXQudHJhbnNmb3JtLGE9ci5nbCxzPVwiZ2xvYmVcIj09PW4ucHJvamVjdGlvbi5uYW1lLGw9cz9bXCJQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcIl06bnVsbDtsZXQgYz1vLnByb2pNYXRyaXg7aWYocyYmZS5nbG9iZVRvTWVyY2F0b3JUcmFuc2l0aW9uKG4uem9vbSk+MCl7Y29uc3QgdD1lLnRyYW5zaXRpb25UaWxlQUFCQmluRUNFRihvLmNhbm9uaWNhbCxuKSxpPWUuZ2xvYmVEZW5vcm1hbGl6ZUVDRUYodCk7Yz1lLm11bHRpcGx5KG5ldyBGbG9hdDMyQXJyYXkoMTYpLG4uZ2xvYmVNYXRyaXgsaSksZS5tdWx0aXBseShjLG4ucHJvak1hdHJpeCxjKTt9Y29uc3QgaD10LnVzZVByb2dyYW0oXCJkZWJ1Z1wiLG51bGwsbCksXz1pLmdldFRpbGVCeUlEKG8ua2V5KTt0LnRlcnJhaW4mJnQudGVycmFpbi5zZXR1cEVsZXZhdGlvbkRyYXcoXyxoKTtjb25zdCB1PWUuRGVwdGhNb2RlLmRpc2FibGVkLGQ9ZS5TdGVuY2lsTW9kZS5kaXNhYmxlZCxwPXQuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpLG09XCIkZGVidWdcIjtyLmFjdGl2ZVRleHR1cmUuc2V0KGEuVEVYVFVSRTApLHQuZW1wdHlUZXh0dXJlLmJpbmQoYS5MSU5FQVIsYS5DTEFNUF9UT19FREdFKSxzP18uX21ha2VHbG9iZVRpbGVEZWJ1Z0J1ZmZlcnModC5jb250ZXh0LG4pOl8uX21ha2VEZWJ1Z1RpbGVCb3VuZHNCdWZmZXJzKHQuY29udGV4dCxuLnByb2plY3Rpb24pO2NvbnN0IGY9Xy5fdGlsZURlYnVnQnVmZmVyfHx0LmRlYnVnQnVmZmVyLGc9Xy5fdGlsZURlYnVnSW5kZXhCdWZmZXJ8fHQuZGVidWdJbmRleEJ1ZmZlcix2PV8uX3RpbGVEZWJ1Z1NlZ21lbnRzfHx0LmRlYnVnU2VnbWVudHM7aC5kcmF3KHIsYS5MSU5FX1NUUklQLHUsZCxwLGUuQ3VsbEZhY2VNb2RlLmRpc2FibGVkLFhpKGMsZS5Db2xvci5yZWQpLG0sZixnLHYsbnVsbCxudWxsLG51bGwsW18uX2dsb2JlVGlsZURlYnVnQm9yZGVyQnVmZmVyXSk7Y29uc3QgeD1fLmxhdGVzdFJhd1RpbGVEYXRhLHk9TWF0aC5mbG9vcigoeCYmeC5ieXRlTGVuZ3RofHwwKS8xMDI0KSxiPWkuZ2V0VGlsZShvKS50aWxlU2l6ZSx3PTUxMi9NYXRoLm1pbihiLDUxMikqKG8ub3ZlcnNjYWxlZFovbi56b29tKSouNTtsZXQgVD1vLmNhbm9uaWNhbC50b1N0cmluZygpO28ub3ZlcnNjYWxlZFohPT1vLmNhbm9uaWNhbC56JiYoVCs9YCA9PiAke28ub3ZlcnNjYWxlZFp9YCksVCs9YCAke3l9a2JgLGZ1bmN0aW9uKGUsdCl7ZS5pbml0RGVidWdPdmVybGF5Q2FudmFzKCk7Y29uc3QgaT1lLmRlYnVnT3ZlcmxheUNhbnZhcyxvPWUuY29udGV4dC5nbCxyPWUuZGVidWdPdmVybGF5Q2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtyLmNsZWFyUmVjdCgwLDAsaS53aWR0aCxpLmhlaWdodCksci5zaGFkb3dDb2xvcj1cIndoaXRlXCIsci5zaGFkb3dCbHVyPTIsci5saW5lV2lkdGg9MS41LHIuc3Ryb2tlU3R5bGU9XCJ3aGl0ZVwiLHIudGV4dEJhc2VsaW5lPVwidG9wXCIsci5mb250PVwiYm9sZCAzNnB4IE9wZW4gU2Fucywgc2Fucy1zZXJpZlwiLHIuZmlsbFRleHQodCw1LDUpLHIuc3Ryb2tlVGV4dCh0LDUsNSksZS5kZWJ1Z092ZXJsYXlUZXh0dXJlLnVwZGF0ZShpKSxlLmRlYnVnT3ZlcmxheVRleHR1cmUuYmluZChvLkxJTkVBUixvLkNMQU1QX1RPX0VER0UpO30odCxUKTtjb25zdCBFPV8uX3RpbGVEZWJ1Z1RleHRCdWZmZXJ8fHQuZGVidWdCdWZmZXIsQz1fLl90aWxlRGVidWdUZXh0SW5kZXhCdWZmZXJ8fHQucXVhZFRyaWFuZ2xlSW5kZXhCdWZmZXIsST1fLl90aWxlRGVidWdUZXh0U2VnbWVudHN8fHQuZGVidWdTZWdtZW50cztoLmRyYXcocixhLlRSSUFOR0xFUyx1LGQsZS5Db2xvck1vZGUuYWxwaGFCbGVuZGVkLGUuQ3VsbEZhY2VNb2RlLmRpc2FibGVkLFhpKGMsZS5Db2xvci50cmFuc3BhcmVudCx3KSxtLEUsQyxJLG51bGwsbnVsbCxudWxsLFtfLl9nbG9iZVRpbGVEZWJ1Z1RleHRCdWZmZXJdKTt9ZnVuY3Rpb24gTW8oZSx0LGksbyl7em8oZSwwLHQraS8yLGUudHJhbnNmb3JtLndpZHRoLGksbyk7fWZ1bmN0aW9uIFNvKGUsdCxpLG8pe3pvKGUsdC1pLzIsMCxpLGUudHJhbnNmb3JtLmhlaWdodCxvKTt9ZnVuY3Rpb24gem8odCxpLG8scixuLGEpe2NvbnN0IHM9dC5jb250ZXh0LGw9cy5nbDtsLmVuYWJsZShsLlNDSVNTT1JfVEVTVCksbC5zY2lzc29yKGkqZS5leHBvcnRlZC5kZXZpY2VQaXhlbFJhdGlvLG8qZS5leHBvcnRlZC5kZXZpY2VQaXhlbFJhdGlvLHIqZS5leHBvcnRlZC5kZXZpY2VQaXhlbFJhdGlvLG4qZS5leHBvcnRlZC5kZXZpY2VQaXhlbFJhdGlvKSxzLmNsZWFyKHtjb2xvcjphfSksbC5kaXNhYmxlKGwuU0NJU1NPUl9URVNUKTt9Y29uc3QgRG89ZS5jcmVhdGVMYXlvdXQoW3tuYW1lOlwiYV9wb3NfM2ZcIixjb21wb25lbnRzOjMsdHlwZTpcIkZsb2F0MzJcIn1dKSx7bWVtYmVyczpBb309RG87ZnVuY3Rpb24gUG8oZSx0LGksbyl7ZS5lbXBsYWNlQmFjayh0LGksbyk7fWNsYXNzIExve2NvbnN0cnVjdG9yKHQpe3RoaXMudmVydGV4QXJyYXk9bmV3IGUuU3RydWN0QXJyYXlMYXlvdXQzZjEyLHRoaXMuaW5kaWNlcz1uZXcgZS5TdHJ1Y3RBcnJheUxheW91dDN1aTYsUG8odGhpcy52ZXJ0ZXhBcnJheSwtMSwtMSwxKSxQbyh0aGlzLnZlcnRleEFycmF5LDEsLTEsMSksUG8odGhpcy52ZXJ0ZXhBcnJheSwtMSwxLDEpLFBvKHRoaXMudmVydGV4QXJyYXksMSwxLDEpLFBvKHRoaXMudmVydGV4QXJyYXksLTEsLTEsLTEpLFBvKHRoaXMudmVydGV4QXJyYXksMSwtMSwtMSksUG8odGhpcy52ZXJ0ZXhBcnJheSwtMSwxLC0xKSxQbyh0aGlzLnZlcnRleEFycmF5LDEsMSwtMSksdGhpcy5pbmRpY2VzLmVtcGxhY2VCYWNrKDUsMSwzKSx0aGlzLmluZGljZXMuZW1wbGFjZUJhY2soMyw3LDUpLHRoaXMuaW5kaWNlcy5lbXBsYWNlQmFjayg2LDIsMCksdGhpcy5pbmRpY2VzLmVtcGxhY2VCYWNrKDAsNCw2KSx0aGlzLmluZGljZXMuZW1wbGFjZUJhY2soMiw2LDcpLHRoaXMuaW5kaWNlcy5lbXBsYWNlQmFjayg3LDMsMiksdGhpcy5pbmRpY2VzLmVtcGxhY2VCYWNrKDUsNCwwKSx0aGlzLmluZGljZXMuZW1wbGFjZUJhY2soMCwxLDUpLHRoaXMuaW5kaWNlcy5lbXBsYWNlQmFjaygwLDIsMyksdGhpcy5pbmRpY2VzLmVtcGxhY2VCYWNrKDMsMSwwKSx0aGlzLmluZGljZXMuZW1wbGFjZUJhY2soNyw2LDQpLHRoaXMuaW5kaWNlcy5lbXBsYWNlQmFjayg0LDUsNyksdGhpcy52ZXJ0ZXhCdWZmZXI9dC5jcmVhdGVWZXJ0ZXhCdWZmZXIodGhpcy52ZXJ0ZXhBcnJheSxBbyksdGhpcy5pbmRleEJ1ZmZlcj10LmNyZWF0ZUluZGV4QnVmZmVyKHRoaXMuaW5kaWNlcyksdGhpcy5zZWdtZW50PWUuU2VnbWVudFZlY3Rvci5zaW1wbGVTZWdtZW50KDAsMCwzNiwxMik7fX1mdW5jdGlvbiBSbyh0LGksbyxyLG4sYSl7Y29uc3Qgcz10LmdsLGw9aS5wYWludC5nZXQoXCJza3ktYXRtb3NwaGVyZS1jb2xvclwiKSxjPWkucGFpbnQuZ2V0KFwic2t5LWF0bW9zcGhlcmUtaGFsby1jb2xvclwiKSxoPWkucGFpbnQuZ2V0KFwic2t5LWF0bW9zcGhlcmUtc3VuLWludGVuc2l0eVwiKSxfPSgoZSx0LGksbyxyKT0+KHt1X21hdHJpeF8zZjplLHVfc3VuX2RpcmVjdGlvbjp0LHVfc3VuX2ludGVuc2l0eTppLHVfY29sb3JfdGludF9yOltvLnIsby5nLG8uYixvLmFdLHVfY29sb3JfdGludF9tOltyLnIsci5nLHIuYixyLmFdLHVfbHVtaW5hbmNlOjVlLTV9KSkoZS5mcm9tTWF0NChlLmNyZWF0ZSQxKCksciksbixoLGwsYyk7cy5mcmFtZWJ1ZmZlclRleHR1cmUyRChzLkZSQU1FQlVGRkVSLHMuQ09MT1JfQVRUQUNITUVOVDAscy5URVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1grYSxpLnNreWJveFRleHR1cmUsMCksby5kcmF3KHQscy5UUklBTkdMRVMsZS5EZXB0aE1vZGUuZGlzYWJsZWQsZS5TdGVuY2lsTW9kZS5kaXNhYmxlZCxlLkNvbG9yTW9kZS51bmJsZW5kZWQsZS5DdWxsRmFjZU1vZGUuZnJvbnRDVyxfLFwic2t5Ym94Q2FwdHVyZVwiLGkuc2t5Ym94R2VvbWV0cnkudmVydGV4QnVmZmVyLGkuc2t5Ym94R2VvbWV0cnkuaW5kZXhCdWZmZXIsaS5za3lib3hHZW9tZXRyeS5zZWdtZW50KTt9Y29uc3QgT289ZS5jcmVhdGVMYXlvdXQoW3t0eXBlOlwiRmxvYXQzMlwiLG5hbWU6XCJhX3Bvc1wiLGNvbXBvbmVudHM6M30se3R5cGU6XCJGbG9hdDMyXCIsbmFtZTpcImFfdXZcIixjb21wb25lbnRzOjJ9XSk7Y2xhc3MgQm97Y29uc3RydWN0b3IodCl7Y29uc3QgaT1uZXcgZS5TdHJ1Y3RBcnJheUxheW91dDVmMjA7aS5lbXBsYWNlQmFjaygtMSwxLDEsMCwwKSxpLmVtcGxhY2VCYWNrKDEsMSwxLDEsMCksaS5lbXBsYWNlQmFjaygxLC0xLDEsMSwxKSxpLmVtcGxhY2VCYWNrKC0xLC0xLDEsMCwxKTtjb25zdCBvPW5ldyBlLlN0cnVjdEFycmF5TGF5b3V0M3VpNjtvLmVtcGxhY2VCYWNrKDAsMSwyKSxvLmVtcGxhY2VCYWNrKDIsMywwKSx0aGlzLnZlcnRleEJ1ZmZlcj10LmNyZWF0ZVZlcnRleEJ1ZmZlcihpLE9vLm1lbWJlcnMpLHRoaXMuaW5kZXhCdWZmZXI9dC5jcmVhdGVJbmRleEJ1ZmZlcihvKSx0aGlzLnNlZ21lbnRzPWUuU2VnbWVudFZlY3Rvci5zaW1wbGVTZWdtZW50KDAsMCw0LDIpO31kZXN0cm95KCl7dGhpcy52ZXJ0ZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMuaW5kZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMuc2VnbWVudHMuZGVzdHJveSgpO319Y29uc3Qga289e3N5bWJvbDpmdW5jdGlvbih0LGksbyxyLG4pe2lmKFwidHJhbnNsdWNlbnRcIiE9PXQucmVuZGVyUGFzcylyZXR1cm47Y29uc3QgYT1lLlN0ZW5jaWxNb2RlLmRpc2FibGVkLHM9dC5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCk7by5sYXlvdXQuZ2V0KFwidGV4dC12YXJpYWJsZS1hbmNob3JcIikmJmZ1bmN0aW9uKHQsaSxvLHIsbixhLHMpe2NvbnN0IGw9aS50cmFuc2Zvcm0sYz1cIm1hcFwiPT09bixoPVwibWFwXCI9PT1hO2Zvcihjb25zdCBpIG9mIHQpe2NvbnN0IHQ9ci5nZXRUaWxlKGkpLG49dC5nZXRCdWNrZXQobyk7aWYoIW58fCFuLnRleHR8fCFuLnRleHQuc2VnbWVudHMuZ2V0KCkubGVuZ3RoKWNvbnRpbnVlO2NvbnN0IGE9ZS5ldmFsdWF0ZVNpemVGb3Jab29tKG4udGV4dFNpemVEYXRhLGwuem9vbSksXz13dChpLG4uZ2V0UHJvamVjdGlvbigpLGwpLHU9bC5jYWxjdWxhdGVQaXhlbHNUb1RpbGVVbml0c01hdHJpeCh0KSxkPXR0KF8sdC50aWxlSUQuY2Fub25pY2FsLGgsYyxsLG4uZ2V0UHJvamVjdGlvbigpLHUpLHA9XCJub25lXCIhPT1vLmxheW91dC5nZXQoXCJpY29uLXRleHQtZml0XCIpJiZuLmhhc0ljb25EYXRhKCk7aWYoYSl7Y29uc3Qgbz1NYXRoLnBvdygyLGwuem9vbS10LnRpbGVJRC5vdmVyc2NhbGVkWik7cG8obixjLGgscyxlLnN5bWJvbFNpemUsbCxkLGksbyxhLHApO319fShyLHQsbyxpLG8ubGF5b3V0LmdldChcInRleHQtcm90YXRpb24tYWxpZ25tZW50XCIpLG8ubGF5b3V0LmdldChcInRleHQtcGl0Y2gtYWxpZ25tZW50XCIpLG4pLDAhPT1vLnBhaW50LmdldChcImljb24tb3BhY2l0eVwiKS5jb25zdGFudE9yKDEpJiZmbyh0LGksbyxyLCExLG8ucGFpbnQuZ2V0KFwiaWNvbi10cmFuc2xhdGVcIiksby5wYWludC5nZXQoXCJpY29uLXRyYW5zbGF0ZS1hbmNob3JcIiksby5sYXlvdXQuZ2V0KFwiaWNvbi1yb3RhdGlvbi1hbGlnbm1lbnRcIiksby5sYXlvdXQuZ2V0KFwiaWNvbi1waXRjaC1hbGlnbm1lbnRcIiksby5sYXlvdXQuZ2V0KFwiaWNvbi1rZWVwLXVwcmlnaHRcIiksYSxzKSwwIT09by5wYWludC5nZXQoXCJ0ZXh0LW9wYWNpdHlcIikuY29uc3RhbnRPcigxKSYmZm8odCxpLG8sciwhMCxvLnBhaW50LmdldChcInRleHQtdHJhbnNsYXRlXCIpLG8ucGFpbnQuZ2V0KFwidGV4dC10cmFuc2xhdGUtYW5jaG9yXCIpLG8ubGF5b3V0LmdldChcInRleHQtcm90YXRpb24tYWxpZ25tZW50XCIpLG8ubGF5b3V0LmdldChcInRleHQtcGl0Y2gtYWxpZ25tZW50XCIpLG8ubGF5b3V0LmdldChcInRleHQta2VlcC11cHJpZ2h0XCIpLGEscyksaS5tYXAuc2hvd0NvbGxpc2lvbkJveGVzJiYoaG8odCxpLG8scixvLnBhaW50LmdldChcInRleHQtdHJhbnNsYXRlXCIpLG8ucGFpbnQuZ2V0KFwidGV4dC10cmFuc2xhdGUtYW5jaG9yXCIpLCEwKSxobyh0LGksbyxyLG8ucGFpbnQuZ2V0KFwiaWNvbi10cmFuc2xhdGVcIiksby5wYWludC5nZXQoXCJpY29uLXRyYW5zbGF0ZS1hbmNob3JcIiksITEpKTt9LGNpcmNsZTpmdW5jdGlvbih0LGksbyxyKXtpZihcInRyYW5zbHVjZW50XCIhPT10LnJlbmRlclBhc3MpcmV0dXJuO2NvbnN0IG49by5wYWludC5nZXQoXCJjaXJjbGUtb3BhY2l0eVwiKSxhPW8ucGFpbnQuZ2V0KFwiY2lyY2xlLXN0cm9rZS13aWR0aFwiKSxzPW8ucGFpbnQuZ2V0KFwiY2lyY2xlLXN0cm9rZS1vcGFjaXR5XCIpLGw9dm9pZCAwIT09by5sYXlvdXQuZ2V0KFwiY2lyY2xlLXNvcnQta2V5XCIpLmNvbnN0YW50T3IoMSk7aWYoMD09PW4uY29uc3RhbnRPcigxKSYmKDA9PT1hLmNvbnN0YW50T3IoMSl8fDA9PT1zLmNvbnN0YW50T3IoMSkpKXJldHVybjtjb25zdCBjPXQuY29udGV4dCxoPWMuZ2wsXz10LnRyYW5zZm9ybSx1PXQuZGVwdGhNb2RlRm9yU3VibGF5ZXIoMCxlLkRlcHRoTW9kZS5SZWFkT25seSksZD1lLlN0ZW5jaWxNb2RlLmRpc2FibGVkLHA9dC5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCksbT1cImdsb2JlXCI9PT1fLnByb2plY3Rpb24ubmFtZSxmPVtlLm1lcmNhdG9yWGZyb21MbmcoXy5jZW50ZXIubG5nKSxlLm1lcmNhdG9yWWZyb21MYXQoXy5jZW50ZXIubGF0KV0sZz1bXTtmb3IobGV0IG49MDtuPHIubGVuZ3RoO24rKyl7Y29uc3QgYT1yW25dLHM9aS5nZXRUaWxlKGEpLGM9cy5nZXRCdWNrZXQobyk7aWYoIWN8fGMucHJvamVjdGlvbi5uYW1lIT09Xy5wcm9qZWN0aW9uLm5hbWUpY29udGludWU7Y29uc3QgaD1jLnByb2dyYW1Db25maWd1cmF0aW9ucy5nZXQoby5pZCksdT1WaShvKTttJiZ1LnB1c2goXCJQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcIik7Y29uc3QgZD10LnVzZVByb2dyYW0oXCJjaXJjbGVcIixoLHUpLHA9Yy5sYXlvdXRWZXJ0ZXhCdWZmZXIsdj1jLmdsb2JlRXh0VmVydGV4QnVmZmVyLHg9Yy5pbmRleEJ1ZmZlcix5PV8ucHJvamVjdGlvbi5jcmVhdGVJbnZlcnNpb25NYXRyaXgoXyxhLmNhbm9uaWNhbCksYj17cHJvZ3JhbUNvbmZpZ3VyYXRpb246aCxwcm9ncmFtOmQsbGF5b3V0VmVydGV4QnVmZmVyOnAsZ2xvYmVFeHRWZXJ0ZXhCdWZmZXI6dixpbmRleEJ1ZmZlcjp4LHVuaWZvcm1WYWx1ZXM6WmkodCxhLHMseSxmLG8pLHRpbGU6c307aWYobCl7Y29uc3QgdD1jLnNlZ21lbnRzLmdldCgpO2Zvcihjb25zdCBpIG9mIHQpZy5wdXNoKHtzZWdtZW50czpuZXcgZS5TZWdtZW50VmVjdG9yKFtpXSksc29ydEtleTppLnNvcnRLZXksc3RhdGU6Yn0pO31lbHNlIGcucHVzaCh7c2VnbWVudHM6Yy5zZWdtZW50cyxzb3J0S2V5OjAsc3RhdGU6Yn0pO31sJiZnLnNvcnQoKChlLHQpPT5lLnNvcnRLZXktdC5zb3J0S2V5KSk7Y29uc3Qgdj17dXNlRGVwdGhGb3JPY2NsdXNpb246IW19O2Zvcihjb25zdCBpIG9mIGcpe2NvbnN0e3Byb2dyYW1Db25maWd1cmF0aW9uOnIscHJvZ3JhbTpuLGxheW91dFZlcnRleEJ1ZmZlcjphLGdsb2JlRXh0VmVydGV4QnVmZmVyOnMsaW5kZXhCdWZmZXI6bCx1bmlmb3JtVmFsdWVzOm0sdGlsZTpmfT1pLnN0YXRlLGc9aS5zZWdtZW50czt0LnRlcnJhaW4mJnQudGVycmFpbi5zZXR1cEVsZXZhdGlvbkRyYXcoZixuLHYpLHQucHJlcGFyZURyYXdQcm9ncmFtKGMsbixmLnRpbGVJRC50b1Vud3JhcHBlZCgpKSxuLmRyYXcoYyxoLlRSSUFOR0xFUyx1LGQscCxlLkN1bGxGYWNlTW9kZS5kaXNhYmxlZCxtLG8uaWQsYSxsLGcsby5wYWludCxfLnpvb20scixbc10pO319LGhlYXRtYXA6ZnVuY3Rpb24odCxpLG8scil7aWYoMCE9PW8ucGFpbnQuZ2V0KFwiaGVhdG1hcC1vcGFjaXR5XCIpKWlmKFwib2Zmc2NyZWVuXCI9PT10LnJlbmRlclBhc3Mpe2NvbnN0IG49dC5jb250ZXh0LGE9bi5nbCxzPWUuU3RlbmNpbE1vZGUuZGlzYWJsZWQsbD1uZXcgZS5Db2xvck1vZGUoW2EuT05FLGEuT05FXSxlLkNvbG9yLnRyYW5zcGFyZW50LFshMCwhMCwhMCwhMF0pOyFmdW5jdGlvbihlLHQsaSxvKXtjb25zdCByPWUuZ2wsbj10LndpZHRoKm8sYT10LmhlaWdodCpvO2UuYWN0aXZlVGV4dHVyZS5zZXQoci5URVhUVVJFMSksZS52aWV3cG9ydC5zZXQoWzAsMCxuLGFdKTtsZXQgcz1pLmhlYXRtYXBGYm87aWYoIXN8fHMmJihzLndpZHRoIT09bnx8cy5oZWlnaHQhPT1hKSl7cyYmcy5kZXN0cm95KCk7Y29uc3QgdD1yLmNyZWF0ZVRleHR1cmUoKTtyLmJpbmRUZXh0dXJlKHIuVEVYVFVSRV8yRCx0KSxyLnRleFBhcmFtZXRlcmkoci5URVhUVVJFXzJELHIuVEVYVFVSRV9XUkFQX1Msci5DTEFNUF9UT19FREdFKSxyLnRleFBhcmFtZXRlcmkoci5URVhUVVJFXzJELHIuVEVYVFVSRV9XUkFQX1Qsci5DTEFNUF9UT19FREdFKSxyLnRleFBhcmFtZXRlcmkoci5URVhUVVJFXzJELHIuVEVYVFVSRV9NSU5fRklMVEVSLHIuTElORUFSKSxyLnRleFBhcmFtZXRlcmkoci5URVhUVVJFXzJELHIuVEVYVFVSRV9NQUdfRklMVEVSLHIuTElORUFSKSxzPWkuaGVhdG1hcEZibz1lLmNyZWF0ZUZyYW1lYnVmZmVyKG4sYSwhMSksZnVuY3Rpb24oZSx0LGksbyxyLG4pe2NvbnN0IGE9ZS5nbDthLnRleEltYWdlMkQoYS5URVhUVVJFXzJELDAsYS5SR0JBLHIsbiwwLGEuUkdCQSxlLmV4dFJlbmRlclRvVGV4dHVyZUhhbGZGbG9hdD9lLmV4dFRleHR1cmVIYWxmRmxvYXQuSEFMRl9GTE9BVF9PRVM6YS5VTlNJR05FRF9CWVRFLG51bGwpLG8uY29sb3JBdHRhY2htZW50LnNldChpKTt9KGUsMCx0LHMsbixhKTt9ZWxzZSByLmJpbmRUZXh0dXJlKHIuVEVYVFVSRV8yRCxzLmNvbG9yQXR0YWNobWVudC5nZXQoKSksZS5iaW5kRnJhbWVidWZmZXIuc2V0KHMuZnJhbWVidWZmZXIpO30obix0LG8sXCJnbG9iZVwiPT09dC50cmFuc2Zvcm0ucHJvamVjdGlvbi5uYW1lPy41Oi4yNSksbi5jbGVhcih7Y29sb3I6ZS5Db2xvci50cmFuc3BhcmVudH0pO2NvbnN0IGM9dC50cmFuc2Zvcm0saD1cImdsb2JlXCI9PT1jLnByb2plY3Rpb24ubmFtZSxfPWg/W1wiUFJPSkVDVElPTl9HTE9CRV9WSUVXXCJdOm51bGwsdT1oP2UuQ3VsbEZhY2VNb2RlLmZyb250Q0NXOmUuQ3VsbEZhY2VNb2RlLmRpc2FibGVkLGQ9W2UubWVyY2F0b3JYZnJvbUxuZyhjLmNlbnRlci5sbmcpLGUubWVyY2F0b3JZZnJvbUxhdChjLmNlbnRlci5sYXQpXTtmb3IobGV0IHA9MDtwPHIubGVuZ3RoO3ArKyl7Y29uc3QgbT1yW3BdO2lmKGkuaGFzUmVuZGVyYWJsZVBhcmVudChtKSljb250aW51ZTtjb25zdCBmPWkuZ2V0VGlsZShtKSxnPWYuZ2V0QnVja2V0KG8pO2lmKCFnfHxnLnByb2plY3Rpb24ubmFtZSE9PWMucHJvamVjdGlvbi5uYW1lKWNvbnRpbnVlO2NvbnN0IHY9Zy5wcm9ncmFtQ29uZmlndXJhdGlvbnMuZ2V0KG8uaWQpLHg9dC51c2VQcm9ncmFtKFwiaGVhdG1hcFwiLHYsXykse3pvb206eX09dC50cmFuc2Zvcm07dC50ZXJyYWluJiZ0LnRlcnJhaW4uc2V0dXBFbGV2YXRpb25EcmF3KGYseCksdC5wcmVwYXJlRHJhd1Byb2dyYW0obix4LG0udG9VbndyYXBwZWQoKSk7Y29uc3QgYj1jLnByb2plY3Rpb24uY3JlYXRlSW52ZXJzaW9uTWF0cml4KGMsbS5jYW5vbmljYWwpO3guZHJhdyhuLGEuVFJJQU5HTEVTLGUuRGVwdGhNb2RlLmRpc2FibGVkLHMsbCx1LCRpKHQsbSxmLGIsZCx5LG8ucGFpbnQuZ2V0KFwiaGVhdG1hcC1pbnRlbnNpdHlcIikpLG8uaWQsZy5sYXlvdXRWZXJ0ZXhCdWZmZXIsZy5pbmRleEJ1ZmZlcixnLnNlZ21lbnRzLG8ucGFpbnQsdC50cmFuc2Zvcm0uem9vbSx2LGg/W2cuZ2xvYmVFeHRWZXJ0ZXhCdWZmZXJdOm51bGwpO31uLnZpZXdwb3J0LnNldChbMCwwLHQud2lkdGgsdC5oZWlnaHRdKTt9ZWxzZSBcInRyYW5zbHVjZW50XCI9PT10LnJlbmRlclBhc3MmJih0LmNvbnRleHQuc2V0Q29sb3JNb2RlKHQuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpKSxmdW5jdGlvbih0LGkpe2NvbnN0IG89dC5jb250ZXh0LHI9by5nbCxuPWkuaGVhdG1hcEZibztpZighbilyZXR1cm47by5hY3RpdmVUZXh0dXJlLnNldChyLlRFWFRVUkUwKSxyLmJpbmRUZXh0dXJlKHIuVEVYVFVSRV8yRCxuLmNvbG9yQXR0YWNobWVudC5nZXQoKSksby5hY3RpdmVUZXh0dXJlLnNldChyLlRFWFRVUkUxKTtsZXQgYT1pLmNvbG9yUmFtcFRleHR1cmU7YXx8KGE9aS5jb2xvclJhbXBUZXh0dXJlPW5ldyBlLlRleHR1cmUobyxpLmNvbG9yUmFtcCxyLlJHQkEpKSxhLmJpbmQoci5MSU5FQVIsci5DTEFNUF9UT19FREdFKSx0LnVzZVByb2dyYW0oXCJoZWF0bWFwVGV4dHVyZVwiKS5kcmF3KG8sci5UUklBTkdMRVMsZS5EZXB0aE1vZGUuZGlzYWJsZWQsZS5TdGVuY2lsTW9kZS5kaXNhYmxlZCx0LmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKSxlLkN1bGxGYWNlTW9kZS5kaXNhYmxlZCwoKGUsdCxpLG8pPT4oe3VfaW1hZ2U6MCx1X2NvbG9yX3JhbXA6MSx1X29wYWNpdHk6dC5wYWludC5nZXQoXCJoZWF0bWFwLW9wYWNpdHlcIil9KSkoMCxpKSxpLmlkLHQudmlld3BvcnRCdWZmZXIsdC5xdWFkVHJpYW5nbGVJbmRleEJ1ZmZlcix0LnZpZXdwb3J0U2VnbWVudHMsaS5wYWludCx0LnRyYW5zZm9ybS56b29tKTt9KHQsbykpO30sbGluZTpmdW5jdGlvbih0LGksbyxyKXtpZihcInRyYW5zbHVjZW50XCIhPT10LnJlbmRlclBhc3MpcmV0dXJuO2NvbnN0IG49by5wYWludC5nZXQoXCJsaW5lLW9wYWNpdHlcIiksYT1vLnBhaW50LmdldChcImxpbmUtd2lkdGhcIik7aWYoMD09PW4uY29uc3RhbnRPcigxKXx8MD09PWEuY29uc3RhbnRPcigxKSlyZXR1cm47Y29uc3Qgcz10LmRlcHRoTW9kZUZvclN1YmxheWVyKDAsZS5EZXB0aE1vZGUuUmVhZE9ubHkpLGw9dC5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCksYz10LnRlcnJhaW4mJnQudGVycmFpbi5yZW5kZXJpbmdUb1RleHR1cmU/MTplLmV4cG9ydGVkLmRldmljZVBpeGVsUmF0aW8saD1vLnBhaW50LmdldChcImxpbmUtZGFzaGFycmF5XCIpLF89aC5jb25zdGFudE9yKDEpLHU9by5sYXlvdXQuZ2V0KFwibGluZS1jYXBcIiksZD1vLnBhaW50LmdldChcImxpbmUtcGF0dGVyblwiKSxwPWQuY29uc3RhbnRPcigxKSxtPW8ucGFpbnQuZ2V0KFwibGluZS1ncmFkaWVudFwiKSxmPW8uZ2V0Q3Jvc3NmYWRlUGFyYW1ldGVycygpLGc9cD9cImxpbmVQYXR0ZXJuXCI6XCJsaW5lXCIsdj10LmNvbnRleHQseD12LmdsLHk9KGU9Pntjb25zdCB0PVtdO1FpKGUpJiZ0LnB1c2goXCJSRU5ERVJfTElORV9EQVNIXCIpLGUucGFpbnQuZ2V0KFwibGluZS1ncmFkaWVudFwiKSYmdC5wdXNoKFwiUkVOREVSX0xJTkVfR1JBRElFTlRcIik7Y29uc3QgaT1lLnBhaW50LmdldChcImxpbmUtdHJpbS1vZmZzZXRcIik7MD09PWlbMF0mJjA9PT1pWzFdfHx0LnB1c2goXCJSRU5ERVJfTElORV9UUklNX09GRlNFVFwiKTtjb25zdCBvPWUucGFpbnQuZ2V0KFwibGluZS1wYXR0ZXJuXCIpLmNvbnN0YW50T3IoMSkscj0xIT09ZS5wYWludC5nZXQoXCJsaW5lLW9wYWNpdHlcIikuY29uc3RhbnRPcigxKTtyZXR1cm4gIW8mJnImJnQucHVzaChcIlJFTkRFUl9MSU5FX0FMUEhBX0RJU0NBUkRcIiksdH0pKG8pO2xldCBiPXkuaW5jbHVkZXMoXCJSRU5ERVJfTElORV9BTFBIQV9ESVNDQVJEXCIpO3QudGVycmFpbiYmdC50ZXJyYWluLmNsaXBPck1hc2tPdmVybGFwU3RlbmNpbFR5cGUoKSYmKGI9ITEpO2Zvcihjb25zdCBuIG9mIHIpe2NvbnN0IHI9aS5nZXRUaWxlKG4pO2lmKHAmJiFyLnBhdHRlcm5zTG9hZGVkKCkpY29udGludWU7Y29uc3QgYT1yLmdldEJ1Y2tldChvKTtpZighYSljb250aW51ZTt0LnByZXBhcmVEcmF3VGlsZSgpO2NvbnN0IHc9YS5wcm9ncmFtQ29uZmlndXJhdGlvbnMuZ2V0KG8uaWQpLFQ9dC51c2VQcm9ncmFtKGcsdyx5KSxFPWQuY29uc3RhbnRPcihudWxsKTtpZihFJiZyLmltYWdlQXRsYXMpe2NvbnN0IGU9ci5pbWFnZUF0bGFzLHQ9ZS5wYXR0ZXJuUG9zaXRpb25zW0UudG8udG9TdHJpbmcoKV0saT1lLnBhdHRlcm5Qb3NpdGlvbnNbRS5mcm9tLnRvU3RyaW5nKCldO3QmJmkmJncuc2V0Q29uc3RhbnRQYXR0ZXJuUG9zaXRpb25zKHQsaSk7fWNvbnN0IEM9aC5jb25zdGFudE9yKG51bGwpLEk9dS5jb25zdGFudE9yKG51bGwpO2lmKCFwJiZDJiZJJiZyLmxpbmVBdGxhcyl7Y29uc3QgZT1yLmxpbmVBdGxhcyx0PWUuZ2V0RGFzaChDLnRvLEkpLGk9ZS5nZXREYXNoKEMuZnJvbSxJKTt0JiZpJiZ3LnNldENvbnN0YW50UGF0dGVyblBvc2l0aW9ucyh0LGkpO31sZXRbTSxTXT1vLnBhaW50LmdldChcImxpbmUtdHJpbS1vZmZzZXRcIik7aWYoXCJyb3VuZFwiPT09SXx8XCJzcXVhcmVcIj09PUkpe2NvbnN0IGU9MTtNIT09UyYmKDA9PT1NJiYoTS09ZSksMT09PVMmJihTKz1lKSk7fWNvbnN0IHo9dC50ZXJyYWluP24ucHJvak1hdHJpeDpudWxsLEQ9cD9ZaSh0LHIsbyxmLHosYyk6SGkodCxyLG8sZix6LGEubGluZUNsaXBzQXJyYXkubGVuZ3RoLGMsW00sU10pO2lmKG0pe2NvbnN0IHI9YS5ncmFkaWVudHNbby5pZF07bGV0IHM9ci50ZXh0dXJlO2lmKG8uZ3JhZGllbnRWZXJzaW9uIT09ci52ZXJzaW9uKXtsZXQgbD0yNTY7aWYoby5zdGVwSW50ZXJwb2xhbnQpe2NvbnN0IG89aS5nZXRTb3VyY2UoKS5tYXh6b29tLHI9bi5jYW5vbmljYWwuej09PW8/TWF0aC5jZWlsKDE8PHQudHJhbnNmb3JtLm1heFpvb20tbi5jYW5vbmljYWwueik6MTtsPWUuY2xhbXAoZS5uZXh0UG93ZXJPZlR3byhhLm1heExpbmVMZW5ndGgvZS5FWFRFTlQqMTAyNCpyKSwyNTYsdi5tYXhUZXh0dXJlU2l6ZSk7fXIuZ3JhZGllbnQ9ZS5yZW5kZXJDb2xvclJhbXAoe2V4cHJlc3Npb246by5ncmFkaWVudEV4cHJlc3Npb24oKSxldmFsdWF0aW9uS2V5OlwibGluZVByb2dyZXNzXCIscmVzb2x1dGlvbjpsLGltYWdlOnIuZ3JhZGllbnR8fHZvaWQgMCxjbGlwczphLmxpbmVDbGlwc0FycmF5fSksci50ZXh0dXJlP3IudGV4dHVyZS51cGRhdGUoci5ncmFkaWVudCk6ci50ZXh0dXJlPW5ldyBlLlRleHR1cmUodixyLmdyYWRpZW50LHguUkdCQSksci52ZXJzaW9uPW8uZ3JhZGllbnRWZXJzaW9uLHM9ci50ZXh0dXJlO312LmFjdGl2ZVRleHR1cmUuc2V0KHguVEVYVFVSRTEpLHMuYmluZChvLnN0ZXBJbnRlcnBvbGFudD94Lk5FQVJFU1Q6eC5MSU5FQVIseC5DTEFNUF9UT19FREdFKTt9XyYmKHYuYWN0aXZlVGV4dHVyZS5zZXQoeC5URVhUVVJFMCksci5saW5lQXRsYXNUZXh0dXJlLmJpbmQoeC5MSU5FQVIseC5SRVBFQVQpLHcudXBkYXRlUGFpbnRCdWZmZXJzKGYpKSxwJiYodi5hY3RpdmVUZXh0dXJlLnNldCh4LlRFWFRVUkUwKSxyLmltYWdlQXRsYXNUZXh0dXJlLmJpbmQoeC5MSU5FQVIseC5DTEFNUF9UT19FREdFKSx3LnVwZGF0ZVBhaW50QnVmZmVycyhmKSksdC5wcmVwYXJlRHJhd1Byb2dyYW0odixULG4udG9VbndyYXBwZWQoKSk7Y29uc3QgQT1pPT57VC5kcmF3KHYseC5UUklBTkdMRVMscyxpLGwsZS5DdWxsRmFjZU1vZGUuZGlzYWJsZWQsRCxvLmlkLGEubGF5b3V0VmVydGV4QnVmZmVyLGEuaW5kZXhCdWZmZXIsYS5zZWdtZW50cyxvLnBhaW50LHQudHJhbnNmb3JtLnpvb20sdyxbYS5sYXlvdXRWZXJ0ZXhCdWZmZXIyXSk7fTtpZihiKXtjb25zdCBpPXQuc3RlbmNpbE1vZGVGb3JDbGlwcGluZyhuKS5yZWY7MD09PWkmJnQudGVycmFpbiYmdi5jbGVhcih7c3RlbmNpbDowfSk7Y29uc3Qgbz17ZnVuYzp4LkVRVUFMLG1hc2s6MjU1fTtELnVfYWxwaGFfZGlzY2FyZF90aHJlc2hvbGQ9LjgsQShuZXcgZS5TdGVuY2lsTW9kZShvLGksMjU1LHguS0VFUCx4LktFRVAseC5JTlZFUlQpKSxELnVfYWxwaGFfZGlzY2FyZF90aHJlc2hvbGQ9MCxBKG5ldyBlLlN0ZW5jaWxNb2RlKG8saSwyNTUseC5LRUVQLHguS0VFUCx4LktFRVApKTt9ZWxzZSBBKHQuc3RlbmNpbE1vZGVGb3JDbGlwcGluZyhuKSk7fWImJih0LnJlc2V0U3RlbmNpbENsaXBwaW5nTWFza3MoKSx0LnRlcnJhaW4mJnYuY2xlYXIoe3N0ZW5jaWw6MH0pKTt9LGZpbGw6ZnVuY3Rpb24odCxpLG8scil7Y29uc3Qgbj1vLnBhaW50LmdldChcImZpbGwtY29sb3JcIiksYT1vLnBhaW50LmdldChcImZpbGwtb3BhY2l0eVwiKTtpZigwPT09YS5jb25zdGFudE9yKDEpKXJldHVybjtjb25zdCBzPXQuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpLGw9by5wYWludC5nZXQoXCJmaWxsLXBhdHRlcm5cIiksYz10Lm9wYXF1ZVBhc3NFbmFibGVkRm9yTGF5ZXIoKSYmIWwuY29uc3RhbnRPcigxKSYmMT09PW4uY29uc3RhbnRPcihlLkNvbG9yLnRyYW5zcGFyZW50KS5hJiYxPT09YS5jb25zdGFudE9yKDApP1wib3BhcXVlXCI6XCJ0cmFuc2x1Y2VudFwiO2lmKHQucmVuZGVyUGFzcz09PWMpe2NvbnN0IG49dC5kZXB0aE1vZGVGb3JTdWJsYXllcigxLFwib3BhcXVlXCI9PT10LnJlbmRlclBhc3M/ZS5EZXB0aE1vZGUuUmVhZFdyaXRlOmUuRGVwdGhNb2RlLlJlYWRPbmx5KTt2byh0LGksbyxyLG4scywhMSk7fWlmKFwidHJhbnNsdWNlbnRcIj09PXQucmVuZGVyUGFzcyYmby5wYWludC5nZXQoXCJmaWxsLWFudGlhbGlhc1wiKSl7Y29uc3Qgbj10LmRlcHRoTW9kZUZvclN1YmxheWVyKG8uZ2V0UGFpbnRQcm9wZXJ0eShcImZpbGwtb3V0bGluZS1jb2xvclwiKT8yOjAsZS5EZXB0aE1vZGUuUmVhZE9ubHkpO3ZvKHQsaSxvLHIsbixzLCEwKTt9fSxcImZpbGwtZXh0cnVzaW9uXCI6ZnVuY3Rpb24odCxpLG8scil7Y29uc3Qgbj1vLnBhaW50LmdldChcImZpbGwtZXh0cnVzaW9uLW9wYWNpdHlcIik7aWYoMCE9PW4mJlwidHJhbnNsdWNlbnRcIj09PXQucmVuZGVyUGFzcyl7Y29uc3QgYT1uZXcgZS5EZXB0aE1vZGUodC5jb250ZXh0LmdsLkxFUVVBTCxlLkRlcHRoTW9kZS5SZWFkV3JpdGUsdC5kZXB0aFJhbmdlRm9yM0QpO2lmKDEhPT1ufHxvLnBhaW50LmdldChcImZpbGwtZXh0cnVzaW9uLXBhdHRlcm5cIikuY29uc3RhbnRPcigxKSl4byh0LGksbyxyLGEsZS5TdGVuY2lsTW9kZS5kaXNhYmxlZCxlLkNvbG9yTW9kZS5kaXNhYmxlZCkseG8odCxpLG8scixhLHQuc3RlbmNpbE1vZGVGb3IzRCgpLHQuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpKSx0LnJlc2V0U3RlbmNpbENsaXBwaW5nTWFza3MoKTtlbHNlIHtjb25zdCBuPXQuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpO3hvKHQsaSxvLHIsYSxlLlN0ZW5jaWxNb2RlLmRpc2FibGVkLG4pO319fSxoaWxsc2hhZGU6ZnVuY3Rpb24odCxpLG8scil7aWYoXCJvZmZzY3JlZW5cIiE9PXQucmVuZGVyUGFzcyYmXCJ0cmFuc2x1Y2VudFwiIT09dC5yZW5kZXJQYXNzKXJldHVybjtjb25zdCBuPXQuY29udGV4dCxhPXQuZGVwdGhNb2RlRm9yU3VibGF5ZXIoMCxlLkRlcHRoTW9kZS5SZWFkT25seSkscz10LmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKSxsPXQudGVycmFpbiYmdC50ZXJyYWluLnJlbmRlcmluZ1RvVGV4dHVyZSxbYyxoXT1cInRyYW5zbHVjZW50XCIhPT10LnJlbmRlclBhc3N8fGw/W3t9LHJdOnQuc3RlbmNpbENvbmZpZ0Zvck92ZXJsYXAocik7Zm9yKGNvbnN0IHIgb2YgaCl7Y29uc3Qgbj1pLmdldFRpbGUocik7aWYobi5uZWVkc0hpbGxzaGFkZVByZXBhcmUmJlwib2Zmc2NyZWVuXCI9PT10LnJlbmRlclBhc3MpeGkodCxuLG8sYSxlLlN0ZW5jaWxNb2RlLmRpc2FibGVkLHMpO2Vsc2UgaWYoXCJ0cmFuc2x1Y2VudFwiPT09dC5yZW5kZXJQYXNzKXtjb25zdCBlPWwmJnQudGVycmFpbj90LnRlcnJhaW4uc3RlbmNpbE1vZGVGb3JSVFRPdmVybGFwKHIpOmNbci5vdmVyc2NhbGVkWl07Z2kodCxyLG4sbyxhLGUscyk7fX1uLnZpZXdwb3J0LnNldChbMCwwLHQud2lkdGgsdC5oZWlnaHRdKSx0LnJlc2V0U3RlbmNpbENsaXBwaW5nTWFza3MoKTt9LHJhc3RlcjpmdW5jdGlvbih0LGksbyxyLG4sYSl7aWYoXCJ0cmFuc2x1Y2VudFwiIT09dC5yZW5kZXJQYXNzKXJldHVybjtpZigwPT09by5wYWludC5nZXQoXCJyYXN0ZXItb3BhY2l0eVwiKSlyZXR1cm47aWYoIXIubGVuZ3RoKXJldHVybjtjb25zdCBzPXQuY29udGV4dCxsPXMuZ2wsYz1pLmdldFNvdXJjZSgpLGg9dC51c2VQcm9ncmFtKFwicmFzdGVyXCIpLF89dC5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCksdT10LnRlcnJhaW4mJnQudGVycmFpbi5yZW5kZXJpbmdUb1RleHR1cmUsW2QscF09YyBpbnN0YW5jZW9mIERlfHx1P1t7fSxyXTp0LnN0ZW5jaWxDb25maWdGb3JPdmVybGFwKHIpLG09cFtwLmxlbmd0aC0xXS5vdmVyc2NhbGVkWixmPSF0Lm9wdGlvbnMubW92aW5nO2Zvcihjb25zdCByIG9mIHApe2NvbnN0IG49dT9lLkRlcHRoTW9kZS5kaXNhYmxlZDp0LmRlcHRoTW9kZUZvclN1YmxheWVyKHIub3ZlcnNjYWxlZFotbSwxPT09by5wYWludC5nZXQoXCJyYXN0ZXItb3BhY2l0eVwiKT9lLkRlcHRoTW9kZS5SZWFkV3JpdGU6ZS5EZXB0aE1vZGUuUmVhZE9ubHksbC5MRVNTKSxwPXIudG9VbndyYXBwZWQoKSxnPWkuZ2V0VGlsZShyKTtpZih1JiYoIWd8fCFnLmhhc0RhdGEoKSkpY29udGludWU7Y29uc3Qgdj11P3IucHJvak1hdHJpeDp0LnRyYW5zZm9ybS5jYWxjdWxhdGVQcm9qTWF0cml4KHAsZikseD10LnRlcnJhaW4mJnU/dC50ZXJyYWluLnN0ZW5jaWxNb2RlRm9yUlRUT3ZlcmxhcChyKTpkW3Iub3ZlcnNjYWxlZFpdLHk9YT8wOm8ucGFpbnQuZ2V0KFwicmFzdGVyLWZhZGUtZHVyYXRpb25cIik7Zy5yZWdpc3RlckZhZGVEdXJhdGlvbih5KTtjb25zdCBiPWkuZmluZExvYWRlZFBhcmVudChyLDApLHc9U2koZyxiLGksdC50cmFuc2Zvcm0seSk7bGV0IFQsRTt0LnRlcnJhaW4mJnQudGVycmFpbi5wcmVwYXJlRHJhd1RpbGUoKTtjb25zdCBDPVwibmVhcmVzdFwiPT09by5wYWludC5nZXQoXCJyYXN0ZXItcmVzYW1wbGluZ1wiKT9sLk5FQVJFU1Q6bC5MSU5FQVI7cy5hY3RpdmVUZXh0dXJlLnNldChsLlRFWFRVUkUwKSxnLnRleHR1cmUuYmluZChDLGwuQ0xBTVBfVE9fRURHRSkscy5hY3RpdmVUZXh0dXJlLnNldChsLlRFWFRVUkUxKSxiPyhiLnRleHR1cmUuYmluZChDLGwuQ0xBTVBfVE9fRURHRSksVD1NYXRoLnBvdygyLGIudGlsZUlELm92ZXJzY2FsZWRaLWcudGlsZUlELm92ZXJzY2FsZWRaKSxFPVtnLnRpbGVJRC5jYW5vbmljYWwueCpUJTEsZy50aWxlSUQuY2Fub25pY2FsLnkqVCUxXSk6Zy50ZXh0dXJlLmJpbmQoQyxsLkNMQU1QX1RPX0VER0UpO2NvbnN0IEk9ZW8odixFfHxbMCwwXSxUfHwxLHcsbyxjIGluc3RhbmNlb2YgRGU/Yy5wZXJzcGVjdGl2ZVRyYW5zZm9ybTpbMCwwXSk7aWYodC5wcmVwYXJlRHJhd1Byb2dyYW0ocyxoLHApLGMgaW5zdGFuY2VvZiBEZSljLmJvdW5kc0J1ZmZlciYmYy5ib3VuZHNTZWdtZW50cyYmaC5kcmF3KHMsbC5UUklBTkdMRVMsbixlLlN0ZW5jaWxNb2RlLmRpc2FibGVkLF8sZS5DdWxsRmFjZU1vZGUuZGlzYWJsZWQsSSxvLmlkLGMuYm91bmRzQnVmZmVyLHQucXVhZFRyaWFuZ2xlSW5kZXhCdWZmZXIsYy5ib3VuZHNTZWdtZW50cyk7ZWxzZSB7Y29uc3R7dGlsZUJvdW5kc0J1ZmZlcjppLHRpbGVCb3VuZHNJbmRleEJ1ZmZlcjpyLHRpbGVCb3VuZHNTZWdtZW50czphfT10LmdldFRpbGVCb3VuZHNCdWZmZXJzKGcpO2guZHJhdyhzLGwuVFJJQU5HTEVTLG4seCxfLGUuQ3VsbEZhY2VNb2RlLmRpc2FibGVkLEksby5pZCxpLHIsYSk7fX10LnJlc2V0U3RlbmNpbENsaXBwaW5nTWFza3MoKTt9LGJhY2tncm91bmQ6ZnVuY3Rpb24odCxpLG8scil7Y29uc3Qgbj1vLnBhaW50LmdldChcImJhY2tncm91bmQtY29sb3JcIiksYT1vLnBhaW50LmdldChcImJhY2tncm91bmQtb3BhY2l0eVwiKTtpZigwPT09YSlyZXR1cm47Y29uc3Qgcz10LmNvbnRleHQsbD1zLmdsLGM9dC50cmFuc2Zvcm0saD1jLnRpbGVTaXplLF89by5wYWludC5nZXQoXCJiYWNrZ3JvdW5kLXBhdHRlcm5cIik7aWYodC5pc1BhdHRlcm5NaXNzaW5nKF8pKXJldHVybjtjb25zdCB1PSFfJiYxPT09bi5hJiYxPT09YSYmdC5vcGFxdWVQYXNzRW5hYmxlZEZvckxheWVyKCk/XCJvcGFxdWVcIjpcInRyYW5zbHVjZW50XCI7aWYodC5yZW5kZXJQYXNzIT09dSlyZXR1cm47Y29uc3QgZD1lLlN0ZW5jaWxNb2RlLmRpc2FibGVkLHA9dC5kZXB0aE1vZGVGb3JTdWJsYXllcigwLFwib3BhcXVlXCI9PT11P2UuRGVwdGhNb2RlLlJlYWRXcml0ZTplLkRlcHRoTW9kZS5SZWFkT25seSksbT10LmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKSxmPXQudXNlUHJvZ3JhbShfP1wiYmFja2dyb3VuZFBhdHRlcm5cIjpcImJhY2tncm91bmRcIik7bGV0IGcsdj1yO3Z8fChnPXQuZ2V0QmFja2dyb3VuZFRpbGVzKCksdj1PYmplY3QudmFsdWVzKGcpLm1hcCgoZT0+ZS50aWxlSUQpKSksXyYmKHMuYWN0aXZlVGV4dHVyZS5zZXQobC5URVhUVVJFMCksdC5pbWFnZU1hbmFnZXIuYmluZCh0LmNvbnRleHQpKTtjb25zdCB4PW8uZ2V0Q3Jvc3NmYWRlUGFyYW1ldGVycygpO2Zvcihjb25zdCB1IG9mIHYpe2NvbnN0IHY9dS50b1Vud3JhcHBlZCgpLHk9cj91LnByb2pNYXRyaXg6dC50cmFuc2Zvcm0uY2FsY3VsYXRlUHJvak1hdHJpeCh2KTt0LnByZXBhcmVEcmF3VGlsZSgpO2NvbnN0IGI9aT9pLmdldFRpbGUodSk6Zz9nW3Uua2V5XTpuZXcgZS5UaWxlKHUsaCxjLnpvb20sdCksdz1fP3NvKHksYSx0LF8se3RpbGVJRDp1LHRpbGVTaXplOmh9LHgpOmFvKHksYSxuKTt0LnByZXBhcmVEcmF3UHJvZ3JhbShzLGYsdik7Y29uc3R7dGlsZUJvdW5kc0J1ZmZlcjpULHRpbGVCb3VuZHNJbmRleEJ1ZmZlcjpFLHRpbGVCb3VuZHNTZWdtZW50czpDfT10LmdldFRpbGVCb3VuZHNCdWZmZXJzKGIpO2YuZHJhdyhzLGwuVFJJQU5HTEVTLHAsZCxtLGUuQ3VsbEZhY2VNb2RlLmRpc2FibGVkLHcsby5pZCxULEUsQyk7fX0sc2t5OmZ1bmN0aW9uKHQsaSxvKXtjb25zdCByPXQudHJhbnNmb3JtLG49XCJtZXJjYXRvclwiPT09ci5wcm9qZWN0aW9uLm5hbWV8fFwiZ2xvYmVcIj09PXIucHJvamVjdGlvbi5uYW1lPzE6ZS5zbW9vdGhzdGVwKDcsOCxyLnpvb20pLGE9by5wYWludC5nZXQoXCJza3ktb3BhY2l0eVwiKSpuO2lmKDA9PT1hKXJldHVybjtjb25zdCBzPXQuY29udGV4dCxsPW8ucGFpbnQuZ2V0KFwic2t5LXR5cGVcIiksYz1uZXcgZS5EZXB0aE1vZGUocy5nbC5MRVFVQUwsZS5EZXB0aE1vZGUuUmVhZE9ubHksWzAsMV0pLGg9dC5mcmFtZUNvdW50ZXIvMWUzJTE7XCJhdG1vc3BoZXJlXCI9PT1sP1wib2Zmc2NyZWVuXCI9PT10LnJlbmRlclBhc3M/by5uZWVkc1NreWJveENhcHR1cmUodCkmJihmdW5jdGlvbih0LGksbyxyKXtjb25zdCBuPXQuY29udGV4dCxhPW4uZ2w7bGV0IHM9aS5za3lib3hGYm87aWYoIXMpe3M9aS5za3lib3hGYm89bi5jcmVhdGVGcmFtZWJ1ZmZlcigzMiwzMiwhMSksaS5za3lib3hHZW9tZXRyeT1uZXcgTG8obiksaS5za3lib3hUZXh0dXJlPW4uZ2wuY3JlYXRlVGV4dHVyZSgpLGEuYmluZFRleHR1cmUoYS5URVhUVVJFX0NVQkVfTUFQLGkuc2t5Ym94VGV4dHVyZSksYS50ZXhQYXJhbWV0ZXJpKGEuVEVYVFVSRV9DVUJFX01BUCxhLlRFWFRVUkVfV1JBUF9TLGEuQ0xBTVBfVE9fRURHRSksYS50ZXhQYXJhbWV0ZXJpKGEuVEVYVFVSRV9DVUJFX01BUCxhLlRFWFRVUkVfV1JBUF9ULGEuQ0xBTVBfVE9fRURHRSksYS50ZXhQYXJhbWV0ZXJpKGEuVEVYVFVSRV9DVUJFX01BUCxhLlRFWFRVUkVfTUlOX0ZJTFRFUixhLkxJTkVBUiksYS50ZXhQYXJhbWV0ZXJpKGEuVEVYVFVSRV9DVUJFX01BUCxhLlRFWFRVUkVfTUFHX0ZJTFRFUixhLkxJTkVBUik7Zm9yKGxldCBlPTA7ZTw2OysrZSlhLnRleEltYWdlMkQoYS5URVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1grZSwwLGEuUkdCQSwzMiwzMiwwLGEuUkdCQSxhLlVOU0lHTkVEX0JZVEUsbnVsbCk7fW4uYmluZEZyYW1lYnVmZmVyLnNldChzLmZyYW1lYnVmZmVyKSxuLnZpZXdwb3J0LnNldChbMCwwLDMyLDMyXSk7Y29uc3QgbD1pLmdldENlbnRlcih0LCEwKSxjPXQudXNlUHJvZ3JhbShcInNreWJveENhcHR1cmVcIiksaD1uZXcgRmxvYXQ2NEFycmF5KDE2KTtlLmlkZW50aXR5KGgpLGUucm90YXRlWShoLGgsLjUqLU1hdGguUEkpLFJvKG4saSxjLGgsbCwwKSxlLmlkZW50aXR5KGgpLGUucm90YXRlWShoLGgsLjUqTWF0aC5QSSksUm8obixpLGMsaCxsLDEpLGUuaWRlbnRpdHkoaCksZS5yb3RhdGVYKGgsaCwuNSotTWF0aC5QSSksUm8obixpLGMsaCxsLDIpLGUuaWRlbnRpdHkoaCksZS5yb3RhdGVYKGgsaCwuNSpNYXRoLlBJKSxSbyhuLGksYyxoLGwsMyksZS5pZGVudGl0eShoKSxSbyhuLGksYyxoLGwsNCksZS5pZGVudGl0eShoKSxlLnJvdGF0ZVkoaCxoLE1hdGguUEkpLFJvKG4saSxjLGgsbCw1KSxuLnZpZXdwb3J0LnNldChbMCwwLHQud2lkdGgsdC5oZWlnaHRdKTt9KHQsbyksby5tYXJrU2t5Ym94VmFsaWQodCkpOlwic2t5XCI9PT10LnJlbmRlclBhc3MmJmZ1bmN0aW9uKHQsaSxvLHIsbil7Y29uc3QgYT10LmNvbnRleHQscz1hLmdsLGw9dC50cmFuc2Zvcm0sYz10LnVzZVByb2dyYW0oXCJza3lib3hcIik7YS5hY3RpdmVUZXh0dXJlLnNldChzLlRFWFRVUkUwKSxzLmJpbmRUZXh0dXJlKHMuVEVYVFVSRV9DVUJFX01BUCxpLnNreWJveFRleHR1cmUpO2NvbnN0IGg9KChlLHQsaSxvLHIpPT4oe3VfbWF0cml4OmUsdV9zdW5fZGlyZWN0aW9uOnQsdV9jdWJlbWFwOjAsdV9vcGFjaXR5Om8sdV90ZW1wb3JhbF9vZmZzZXQ6cn0pKShsLnNreWJveE1hdHJpeCxpLmdldENlbnRlcih0LCExKSwwLHIsbik7dC5wcmVwYXJlRHJhd1Byb2dyYW0oYSxjKSxjLmRyYXcoYSxzLlRSSUFOR0xFUyxvLGUuU3RlbmNpbE1vZGUuZGlzYWJsZWQsdC5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCksZS5DdWxsRmFjZU1vZGUuYmFja0NXLGgsXCJza3lib3hcIixpLnNreWJveEdlb21ldHJ5LnZlcnRleEJ1ZmZlcixpLnNreWJveEdlb21ldHJ5LmluZGV4QnVmZmVyLGkuc2t5Ym94R2VvbWV0cnkuc2VnbWVudCk7fSh0LG8sYyxhLGgpOlwiZ3JhZGllbnRcIj09PWwmJlwic2t5XCI9PT10LnJlbmRlclBhc3MmJmZ1bmN0aW9uKHQsaSxvLHIsbil7Y29uc3QgYT10LmNvbnRleHQscz1hLmdsLGw9dC50cmFuc2Zvcm0sYz10LnVzZVByb2dyYW0oXCJza3lib3hHcmFkaWVudFwiKTtpLnNreWJveEdlb21ldHJ5fHwoaS5za3lib3hHZW9tZXRyeT1uZXcgTG8oYSkpLGEuYWN0aXZlVGV4dHVyZS5zZXQocy5URVhUVVJFMCk7bGV0IGg9aS5jb2xvclJhbXBUZXh0dXJlO2h8fChoPWkuY29sb3JSYW1wVGV4dHVyZT1uZXcgZS5UZXh0dXJlKGEsaS5jb2xvclJhbXAscy5SR0JBKSksaC5iaW5kKHMuTElORUFSLHMuQ0xBTVBfVE9fRURHRSk7Y29uc3QgXz0oKHQsaSxvLHIsbik9Pih7dV9tYXRyaXg6dCx1X2NvbG9yX3JhbXA6MCx1X2NlbnRlcl9kaXJlY3Rpb246aSx1X3JhZGl1czplLmRlZ1RvUmFkKG8pLHVfb3BhY2l0eTpyLHVfdGVtcG9yYWxfb2Zmc2V0Om59KSkobC5za3lib3hNYXRyaXgsaS5nZXRDZW50ZXIodCwhMSksaS5wYWludC5nZXQoXCJza3ktZ3JhZGllbnQtcmFkaXVzXCIpLHIsbik7dC5wcmVwYXJlRHJhd1Byb2dyYW0oYSxjKSxjLmRyYXcoYSxzLlRSSUFOR0xFUyxvLGUuU3RlbmNpbE1vZGUuZGlzYWJsZWQsdC5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCksZS5DdWxsRmFjZU1vZGUuYmFja0NXLF8sXCJza3lib3hHcmFkaWVudFwiLGkuc2t5Ym94R2VvbWV0cnkudmVydGV4QnVmZmVyLGkuc2t5Ym94R2VvbWV0cnkuaW5kZXhCdWZmZXIsaS5za3lib3hHZW9tZXRyeS5zZWdtZW50KTt9KHQsbyxjLGEsaCk7fSxkZWJ1ZzpmdW5jdGlvbihlLHQsaSl7Zm9yKGxldCBvPTA7bzxpLmxlbmd0aDtvKyspSW8oZSx0LGlbb10pO30sY3VzdG9tOmZ1bmN0aW9uKHQsaSxvKXtjb25zdCByPXQuY29udGV4dCxuPW8uaW1wbGVtZW50YXRpb247aWYodC50cmFuc2Zvcm0ucHJvamVjdGlvbi51bnN1cHBvcnRlZExheWVycyYmdC50cmFuc2Zvcm0ucHJvamVjdGlvbi51bnN1cHBvcnRlZExheWVycy5pbmNsdWRlcyhcImN1c3RvbVwiKSllLndhcm5PbmNlKFwiQ3VzdG9tIGxheWVycyBhcmUgbm90IHlldCBzdXBwb3J0ZWQgd2l0aCBub24tbWVyY2F0b3IgcHJvamVjdGlvbnMuIFVzZSBtZXJjYXRvciB0byBlbmFibGUgY3VzdG9tIGxheWVycy5cIik7ZWxzZSBpZihcIm9mZnNjcmVlblwiPT09dC5yZW5kZXJQYXNzKXtjb25zdCBlPW4ucHJlcmVuZGVyO2UmJih0LnNldEN1c3RvbUxheWVyRGVmYXVsdHMoKSxyLnNldENvbG9yTW9kZSh0LmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKSksZS5jYWxsKG4sci5nbCx0LnRyYW5zZm9ybS5jdXN0b21MYXllck1hdHJpeCgpKSxyLnNldERpcnR5KCksdC5zZXRCYXNlU3RhdGUoKSk7fWVsc2UgaWYoXCJ0cmFuc2x1Y2VudFwiPT09dC5yZW5kZXJQYXNzKXt0LnNldEN1c3RvbUxheWVyRGVmYXVsdHMoKSxyLnNldENvbG9yTW9kZSh0LmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKSksci5zZXRTdGVuY2lsTW9kZShlLlN0ZW5jaWxNb2RlLmRpc2FibGVkKTtjb25zdCBpPVwiM2RcIj09PW4ucmVuZGVyaW5nTW9kZT9uZXcgZS5EZXB0aE1vZGUodC5jb250ZXh0LmdsLkxFUVVBTCxlLkRlcHRoTW9kZS5SZWFkV3JpdGUsdC5kZXB0aFJhbmdlRm9yM0QpOnQuZGVwdGhNb2RlRm9yU3VibGF5ZXIoMCxlLkRlcHRoTW9kZS5SZWFkT25seSk7ci5zZXREZXB0aE1vZGUoaSksbi5yZW5kZXIoci5nbCx0LnRyYW5zZm9ybS5jdXN0b21MYXllck1hdHJpeCgpKSxyLnNldERpcnR5KCksdC5zZXRCYXNlU3RhdGUoKSxyLmJpbmRGcmFtZWJ1ZmZlci5zZXQobnVsbCk7fX19O2NsYXNzIEZve2NvbnN0cnVjdG9yKHQsaSl7dGhpcy5jb250ZXh0PW5ldyBJZSh0KSx0aGlzLnRyYW5zZm9ybT1pLHRoaXMuX3RpbGVUZXh0dXJlcz17fSx0aGlzLmZyYW1lQ29waWVzPVtdLHRoaXMubG9hZFRpbWVTdGFtcHM9W10sdGhpcy5zZXR1cCgpLHRoaXMubnVtU3VibGF5ZXJzPWUuU291cmNlQ2FjaGUubWF4VW5kZXJ6b29taW5nK2UuU291cmNlQ2FjaGUubWF4T3Zlcnpvb21pbmcrMSx0aGlzLmRlcHRoRXBzaWxvbj0xL01hdGgucG93KDIsMTYpLHRoaXMuY3Jvc3NUaWxlU3ltYm9sSW5kZXg9bmV3ICR0LHRoaXMuZGVmZXJyZWRSZW5kZXJHcHVUaW1lUXVlcmllcz1bXSx0aGlzLmdwdVRpbWVycz17fSx0aGlzLmZyYW1lQ291bnRlcj0wLHRoaXMuX2JhY2tncm91bmRUaWxlcz17fTt9dXBkYXRlVGVycmFpbihlLHQpe2NvbnN0IGk9ISFlJiYhIWUudGVycmFpbiYmdGhpcy50cmFuc2Zvcm0ucHJvamVjdGlvbi5zdXBwb3J0c1RlcnJhaW47aWYoIShpfHx0aGlzLl90ZXJyYWluJiZ0aGlzLl90ZXJyYWluLmVuYWJsZWQpKXJldHVybjt0aGlzLl90ZXJyYWlufHwodGhpcy5fdGVycmFpbj1uZXcgUGkodGhpcyxlKSk7Y29uc3Qgbz10aGlzLl90ZXJyYWluO3RoaXMudHJhbnNmb3JtLmVsZXZhdGlvbj1pP286bnVsbCxvLnVwZGF0ZShlLHRoaXMudHJhbnNmb3JtLHQpO31fdXBkYXRlRm9nKGUpe2NvbnN0IHQ9ZS5mb2c7aWYoIXR8fFwiZ2xvYmVcIj09PXRoaXMudHJhbnNmb3JtLnByb2plY3Rpb24ubmFtZXx8dC5nZXRPcGFjaXR5KHRoaXMudHJhbnNmb3JtLnBpdGNoKTwxfHx0LnByb3BlcnRpZXMuZ2V0KFwiaG9yaXpvbi1ibGVuZFwiKTwuMDMpcmV0dXJuIHZvaWQodGhpcy50cmFuc2Zvcm0uZm9nQ3VsbERpc3RTcT1udWxsKTtjb25zdFtpLG9dPXQuZ2V0Rm92QWRqdXN0ZWRSYW5nZSh0aGlzLnRyYW5zZm9ybS5fZm92KTtpZihpPm8pcmV0dXJuIHZvaWQodGhpcy50cmFuc2Zvcm0uZm9nQ3VsbERpc3RTcT1udWxsKTtjb25zdCByPWkrLjc4KihvLWkpO3RoaXMudHJhbnNmb3JtLmZvZ0N1bGxEaXN0U3E9cipyO31nZXQgdGVycmFpbigpe3JldHVybiB0aGlzLnRyYW5zZm9ybS5fdGVycmFpbkVuYWJsZWQoKSYmdGhpcy5fdGVycmFpbiYmdGhpcy5fdGVycmFpbi5lbmFibGVkP3RoaXMuX3RlcnJhaW46bnVsbH1yZXNpemUodCxpKXtpZih0aGlzLndpZHRoPXQqZS5leHBvcnRlZC5kZXZpY2VQaXhlbFJhdGlvLHRoaXMuaGVpZ2h0PWkqZS5leHBvcnRlZC5kZXZpY2VQaXhlbFJhdGlvLHRoaXMuY29udGV4dC52aWV3cG9ydC5zZXQoWzAsMCx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0XSksdGhpcy5zdHlsZSlmb3IoY29uc3QgZSBvZiB0aGlzLnN0eWxlLm9yZGVyKXRoaXMuc3R5bGUuX2xheWVyc1tlXS5yZXNpemUoKTt9c2V0dXAoKXtjb25zdCB0PXRoaXMuY29udGV4dCxpPW5ldyBlLlN0cnVjdEFycmF5TGF5b3V0Mmk0O2kuZW1wbGFjZUJhY2soMCwwKSxpLmVtcGxhY2VCYWNrKGUuRVhURU5ULDApLGkuZW1wbGFjZUJhY2soMCxlLkVYVEVOVCksaS5lbXBsYWNlQmFjayhlLkVYVEVOVCxlLkVYVEVOVCksdGhpcy50aWxlRXh0ZW50QnVmZmVyPXQuY3JlYXRlVmVydGV4QnVmZmVyKGksZS5wb3NBdHRyaWJ1dGVzLm1lbWJlcnMpLHRoaXMudGlsZUV4dGVudFNlZ21lbnRzPWUuU2VnbWVudFZlY3Rvci5zaW1wbGVTZWdtZW50KDAsMCw0LDIpO2NvbnN0IG89bmV3IGUuU3RydWN0QXJyYXlMYXlvdXQyaTQ7by5lbXBsYWNlQmFjaygwLDApLG8uZW1wbGFjZUJhY2soZS5FWFRFTlQsMCksby5lbXBsYWNlQmFjaygwLGUuRVhURU5UKSxvLmVtcGxhY2VCYWNrKGUuRVhURU5ULGUuRVhURU5UKSx0aGlzLmRlYnVnQnVmZmVyPXQuY3JlYXRlVmVydGV4QnVmZmVyKG8sZS5wb3NBdHRyaWJ1dGVzLm1lbWJlcnMpLHRoaXMuZGVidWdTZWdtZW50cz1lLlNlZ21lbnRWZWN0b3Iuc2ltcGxlU2VnbWVudCgwLDAsNCw1KTtjb25zdCByPW5ldyBlLlN0cnVjdEFycmF5TGF5b3V0Mmk0O3IuZW1wbGFjZUJhY2soLTEsLTEpLHIuZW1wbGFjZUJhY2soMSwtMSksci5lbXBsYWNlQmFjaygtMSwxKSxyLmVtcGxhY2VCYWNrKDEsMSksdGhpcy52aWV3cG9ydEJ1ZmZlcj10LmNyZWF0ZVZlcnRleEJ1ZmZlcihyLGUucG9zQXR0cmlidXRlcy5tZW1iZXJzKSx0aGlzLnZpZXdwb3J0U2VnbWVudHM9ZS5TZWdtZW50VmVjdG9yLnNpbXBsZVNlZ21lbnQoMCwwLDQsMik7Y29uc3Qgbj1uZXcgZS5TdHJ1Y3RBcnJheUxheW91dDRpODtuLmVtcGxhY2VCYWNrKDAsMCwwLDApLG4uZW1wbGFjZUJhY2soZS5FWFRFTlQsMCxlLkVYVEVOVCwwKSxuLmVtcGxhY2VCYWNrKDAsZS5FWFRFTlQsMCxlLkVYVEVOVCksbi5lbXBsYWNlQmFjayhlLkVYVEVOVCxlLkVYVEVOVCxlLkVYVEVOVCxlLkVYVEVOVCksdGhpcy5tZXJjYXRvckJvdW5kc0J1ZmZlcj10LmNyZWF0ZVZlcnRleEJ1ZmZlcihuLGUuYm91bmRzQXR0cmlidXRlcy5tZW1iZXJzKSx0aGlzLm1lcmNhdG9yQm91bmRzU2VnbWVudHM9ZS5TZWdtZW50VmVjdG9yLnNpbXBsZVNlZ21lbnQoMCwwLDQsMik7Y29uc3QgYT1uZXcgZS5TdHJ1Y3RBcnJheUxheW91dDN1aTY7YS5lbXBsYWNlQmFjaygwLDEsMiksYS5lbXBsYWNlQmFjaygyLDEsMyksdGhpcy5xdWFkVHJpYW5nbGVJbmRleEJ1ZmZlcj10LmNyZWF0ZUluZGV4QnVmZmVyKGEpO2NvbnN0IHM9bmV3IGUuU3RydWN0QXJyYXlMYXlvdXQxdWkyO2Zvcihjb25zdCBlIG9mIFswLDEsMywyLDBdKXMuZW1wbGFjZUJhY2soZSk7dGhpcy5kZWJ1Z0luZGV4QnVmZmVyPXQuY3JlYXRlSW5kZXhCdWZmZXIocyksdGhpcy5lbXB0eVRleHR1cmU9bmV3IGUuVGV4dHVyZSh0LG5ldyBlLlJHQkFJbWFnZSh7d2lkdGg6MSxoZWlnaHQ6MX0sVWludDhBcnJheS5vZigwLDAsMCwwKSksdC5nbC5SR0JBKSx0aGlzLmlkZW50aXR5TWF0PWUuY3JlYXRlKCk7Y29uc3QgbD10aGlzLmNvbnRleHQuZ2w7dGhpcy5zdGVuY2lsQ2xlYXJNb2RlPW5ldyBlLlN0ZW5jaWxNb2RlKHtmdW5jOmwuQUxXQVlTLG1hc2s6MH0sMCwyNTUsbC5aRVJPLGwuWkVSTyxsLlpFUk8pLHRoaXMubG9hZFRpbWVTdGFtcHMucHVzaChlLndpbmRvdy5wZXJmb3JtYW5jZS5ub3coKSksdGhpcy5hdG1vc3BoZXJlQnVmZmVyPW5ldyBCbyh0aGlzLmNvbnRleHQpO31nZXRNZXJjYXRvclRpbGVCb3VuZHNCdWZmZXJzKCl7cmV0dXJuIHt0aWxlQm91bmRzQnVmZmVyOnRoaXMubWVyY2F0b3JCb3VuZHNCdWZmZXIsdGlsZUJvdW5kc0luZGV4QnVmZmVyOnRoaXMucXVhZFRyaWFuZ2xlSW5kZXhCdWZmZXIsdGlsZUJvdW5kc1NlZ21lbnRzOnRoaXMubWVyY2F0b3JCb3VuZHNTZWdtZW50c319Z2V0VGlsZUJvdW5kc0J1ZmZlcnMoZSl7cmV0dXJuIGUuX21ha2VUaWxlQm91bmRzQnVmZmVycyh0aGlzLmNvbnRleHQsdGhpcy50cmFuc2Zvcm0ucHJvamVjdGlvbiksZS5fdGlsZUJvdW5kc0J1ZmZlcj97dGlsZUJvdW5kc0J1ZmZlcjplLl90aWxlQm91bmRzQnVmZmVyLHRpbGVCb3VuZHNJbmRleEJ1ZmZlcjplLl90aWxlQm91bmRzSW5kZXhCdWZmZXIsdGlsZUJvdW5kc1NlZ21lbnRzOmUuX3RpbGVCb3VuZHNTZWdtZW50c306dGhpcy5nZXRNZXJjYXRvclRpbGVCb3VuZHNCdWZmZXJzKCl9Y2xlYXJTdGVuY2lsKCl7Y29uc3QgdD10aGlzLmNvbnRleHQsaT10LmdsO3RoaXMubmV4dFN0ZW5jaWxJRD0xLHRoaXMuY3VycmVudFN0ZW5jaWxTb3VyY2U9dm9pZCAwLHRoaXMuX3RpbGVDbGlwcGluZ01hc2tJRHM9e30sdGhpcy51c2VQcm9ncmFtKFwiY2xpcHBpbmdNYXNrXCIpLmRyYXcodCxpLlRSSUFOR0xFUyxlLkRlcHRoTW9kZS5kaXNhYmxlZCx0aGlzLnN0ZW5jaWxDbGVhck1vZGUsZS5Db2xvck1vZGUuZGlzYWJsZWQsZS5DdWxsRmFjZU1vZGUuZGlzYWJsZWQsTWkodGhpcy5pZGVudGl0eU1hdCksXCIkY2xpcHBpbmdcIix0aGlzLnZpZXdwb3J0QnVmZmVyLHRoaXMucXVhZFRyaWFuZ2xlSW5kZXhCdWZmZXIsdGhpcy52aWV3cG9ydFNlZ21lbnRzKTt9cmVzZXRTdGVuY2lsQ2xpcHBpbmdNYXNrcygpe3RoaXMudGVycmFpbnx8KHRoaXMuY3VycmVudFN0ZW5jaWxTb3VyY2U9dm9pZCAwLHRoaXMuX3RpbGVDbGlwcGluZ01hc2tJRHM9e30pO31fcmVuZGVyVGlsZUNsaXBwaW5nTWFza3ModCxpLG8pe2lmKCFpfHx0aGlzLmN1cnJlbnRTdGVuY2lsU291cmNlPT09aS5pZHx8IXQuaXNUaWxlQ2xpcHBlZCgpfHwhb3x8MD09PW8ubGVuZ3RoKXJldHVybjtpZih0aGlzLl90aWxlQ2xpcHBpbmdNYXNrSURzJiYhdGhpcy50ZXJyYWluKXtsZXQgZT0hMTtmb3IoY29uc3QgdCBvZiBvKWlmKHZvaWQgMD09PXRoaXMuX3RpbGVDbGlwcGluZ01hc2tJRHNbdC5rZXldKXtlPSEwO2JyZWFrfWlmKCFlKXJldHVybn10aGlzLmN1cnJlbnRTdGVuY2lsU291cmNlPWkuaWQ7Y29uc3Qgcj10aGlzLmNvbnRleHQsbj1yLmdsO3RoaXMubmV4dFN0ZW5jaWxJRCtvLmxlbmd0aD4yNTYmJnRoaXMuY2xlYXJTdGVuY2lsKCksci5zZXRDb2xvck1vZGUoZS5Db2xvck1vZGUuZGlzYWJsZWQpLHIuc2V0RGVwdGhNb2RlKGUuRGVwdGhNb2RlLmRpc2FibGVkKTtjb25zdCBhPXRoaXMudXNlUHJvZ3JhbShcImNsaXBwaW5nTWFza1wiKTt0aGlzLl90aWxlQ2xpcHBpbmdNYXNrSURzPXt9O2Zvcihjb25zdCB0IG9mIG8pe2NvbnN0IG89aS5nZXRUaWxlKHQpLHM9dGhpcy5fdGlsZUNsaXBwaW5nTWFza0lEc1t0LmtleV09dGhpcy5uZXh0U3RlbmNpbElEKysse3RpbGVCb3VuZHNCdWZmZXI6bCx0aWxlQm91bmRzSW5kZXhCdWZmZXI6Yyx0aWxlQm91bmRzU2VnbWVudHM6aH09dGhpcy5nZXRUaWxlQm91bmRzQnVmZmVycyhvKTthLmRyYXcocixuLlRSSUFOR0xFUyxlLkRlcHRoTW9kZS5kaXNhYmxlZCxuZXcgZS5TdGVuY2lsTW9kZSh7ZnVuYzpuLkFMV0FZUyxtYXNrOjB9LHMsMjU1LG4uS0VFUCxuLktFRVAsbi5SRVBMQUNFKSxlLkNvbG9yTW9kZS5kaXNhYmxlZCxlLkN1bGxGYWNlTW9kZS5kaXNhYmxlZCxNaSh0LnByb2pNYXRyaXgpLFwiJGNsaXBwaW5nXCIsbCxjLGgpO319c3RlbmNpbE1vZGVGb3IzRCgpe3RoaXMuY3VycmVudFN0ZW5jaWxTb3VyY2U9dm9pZCAwLHRoaXMubmV4dFN0ZW5jaWxJRCsxPjI1NiYmdGhpcy5jbGVhclN0ZW5jaWwoKTtjb25zdCB0PXRoaXMubmV4dFN0ZW5jaWxJRCsrLGk9dGhpcy5jb250ZXh0LmdsO3JldHVybiBuZXcgZS5TdGVuY2lsTW9kZSh7ZnVuYzppLk5PVEVRVUFMLG1hc2s6MjU1fSx0LDI1NSxpLktFRVAsaS5LRUVQLGkuUkVQTEFDRSl9c3RlbmNpbE1vZGVGb3JDbGlwcGluZyh0KXtpZih0aGlzLnRlcnJhaW4pcmV0dXJuIHRoaXMudGVycmFpbi5zdGVuY2lsTW9kZUZvclJUVE92ZXJsYXAodCk7Y29uc3QgaT10aGlzLmNvbnRleHQuZ2w7cmV0dXJuIG5ldyBlLlN0ZW5jaWxNb2RlKHtmdW5jOmkuRVFVQUwsbWFzazoyNTV9LHRoaXMuX3RpbGVDbGlwcGluZ01hc2tJRHNbdC5rZXldLDAsaS5LRUVQLGkuS0VFUCxpLlJFUExBQ0UpfXN0ZW5jaWxDb25maWdGb3JPdmVybGFwKHQpe2NvbnN0IGk9dGhpcy5jb250ZXh0LmdsLG89dC5zb3J0KCgoZSx0KT0+dC5vdmVyc2NhbGVkWi1lLm92ZXJzY2FsZWRaKSkscj1vW28ubGVuZ3RoLTFdLm92ZXJzY2FsZWRaLG49b1swXS5vdmVyc2NhbGVkWi1yKzE7aWYobj4xKXt0aGlzLmN1cnJlbnRTdGVuY2lsU291cmNlPXZvaWQgMCx0aGlzLm5leHRTdGVuY2lsSUQrbj4yNTYmJnRoaXMuY2xlYXJTdGVuY2lsKCk7Y29uc3QgdD17fTtmb3IobGV0IG89MDtvPG47bysrKXRbbytyXT1uZXcgZS5TdGVuY2lsTW9kZSh7ZnVuYzppLkdFUVVBTCxtYXNrOjI1NX0sbyt0aGlzLm5leHRTdGVuY2lsSUQsMjU1LGkuS0VFUCxpLktFRVAsaS5SRVBMQUNFKTtyZXR1cm4gdGhpcy5uZXh0U3RlbmNpbElEKz1uLFt0LG9dfXJldHVybiBbe1tyXTplLlN0ZW5jaWxNb2RlLmRpc2FibGVkfSxvXX1jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCl7Y29uc3QgdD10aGlzLmNvbnRleHQuZ2w7aWYodGhpcy5fc2hvd092ZXJkcmF3SW5zcGVjdG9yKXtjb25zdCBpPTEvODtyZXR1cm4gbmV3IGUuQ29sb3JNb2RlKFt0LkNPTlNUQU5UX0NPTE9SLHQuT05FXSxuZXcgZS5Db2xvcihpLGksaSwwKSxbITAsITAsITAsITBdKX1yZXR1cm4gXCJvcGFxdWVcIj09PXRoaXMucmVuZGVyUGFzcz9lLkNvbG9yTW9kZS51bmJsZW5kZWQ6ZS5Db2xvck1vZGUuYWxwaGFCbGVuZGVkfWRlcHRoTW9kZUZvclN1YmxheWVyKHQsaSxvKXtpZighdGhpcy5vcGFxdWVQYXNzRW5hYmxlZEZvckxheWVyKCkpcmV0dXJuIGUuRGVwdGhNb2RlLmRpc2FibGVkO2NvbnN0IHI9MS0oKDErdGhpcy5jdXJyZW50TGF5ZXIpKnRoaXMubnVtU3VibGF5ZXJzK3QpKnRoaXMuZGVwdGhFcHNpbG9uO3JldHVybiBuZXcgZS5EZXB0aE1vZGUob3x8dGhpcy5jb250ZXh0LmdsLkxFUVVBTCxpLFtyLHJdKX1vcGFxdWVQYXNzRW5hYmxlZEZvckxheWVyKCl7cmV0dXJuIHRoaXMuY3VycmVudExheWVyPHRoaXMub3BhcXVlUGFzc0N1dG9mZn1yZW5kZXIodCxpKXt0aGlzLnN0eWxlPXQsdGhpcy5vcHRpb25zPWksdGhpcy5pbWFnZU1hbmFnZXI9dC5pbWFnZU1hbmFnZXIsdGhpcy5nbHlwaE1hbmFnZXI9dC5nbHlwaE1hbmFnZXIsdGhpcy5zeW1ib2xGYWRlQ2hhbmdlPXQucGxhY2VtZW50LnN5bWJvbEZhZGVDaGFuZ2UoZS5leHBvcnRlZC5ub3coKSksdGhpcy5pbWFnZU1hbmFnZXIuYmVnaW5GcmFtZSgpO2NvbnN0IG89dGhpcy5zdHlsZS5vcmRlcixyPXRoaXMuc3R5bGUuX3NvdXJjZUNhY2hlcztmb3IoY29uc3QgZSBpbiByKXtjb25zdCB0PXJbZV07dC51c2VkJiZ0LnByZXBhcmUodGhpcy5jb250ZXh0KTt9Y29uc3Qgbj17fSxhPXt9LHM9e307Zm9yKGNvbnN0IGUgaW4gcil7Y29uc3QgdD1yW2VdO25bZV09dC5nZXRWaXNpYmxlQ29vcmRpbmF0ZXMoKSxhW2VdPW5bZV0uc2xpY2UoKS5yZXZlcnNlKCksc1tlXT10LmdldFZpc2libGVDb29yZGluYXRlcyghMCkucmV2ZXJzZSgpO310aGlzLm9wYXF1ZVBhc3NDdXRvZmY9MS8wO2ZvcihsZXQgZT0wO2U8by5sZW5ndGg7ZSsrKWlmKHRoaXMuc3R5bGUuX2xheWVyc1tvW2VdXS5pczNEKCkpe3RoaXMub3BhcXVlUGFzc0N1dG9mZj1lO2JyZWFrfWlmKHRoaXMudGVycmFpbiYmKHRoaXMudGVycmFpbi51cGRhdGVUaWxlQmluZGluZyhzKSx0aGlzLm9wYXF1ZVBhc3NDdXRvZmY9MCksXCJnbG9iZVwiIT09dGhpcy50cmFuc2Zvcm0ucHJvamVjdGlvbi5uYW1lfHx0aGlzLmdsb2JlU2hhcmVkQnVmZmVyc3x8KHRoaXMuZ2xvYmVTaGFyZWRCdWZmZXJzPW5ldyBlLkdsb2JlU2hhcmVkQnVmZmVycyh0aGlzLmNvbnRleHQpKSxlLmlzTWFwQXV0aGVudGljYXRlZCh0aGlzLmNvbnRleHQuZ2wpKXt0aGlzLnJlbmRlclBhc3M9XCJvZmZzY3JlZW5cIjtmb3IoY29uc3QgZSBvZiBvKXtjb25zdCBpPXRoaXMuc3R5bGUuX2xheWVyc1tlXSxvPXQuX2dldExheWVyU291cmNlQ2FjaGUoaSk7aWYoIWkuaGFzT2Zmc2NyZWVuUGFzcygpfHxpLmlzSGlkZGVuKHRoaXMudHJhbnNmb3JtLnpvb20pKWNvbnRpbnVlO2NvbnN0IHI9bz9hW28uaWRdOnZvaWQgMDsoXCJjdXN0b21cIj09PWkudHlwZXx8aS5pc1NreSgpfHxyJiZyLmxlbmd0aCkmJnRoaXMucmVuZGVyTGF5ZXIodGhpcyxvLGkscik7fWlmKHRoaXMuZGVwdGhSYW5nZUZvcjNEPVswLDEtKHQub3JkZXIubGVuZ3RoKzIpKnRoaXMubnVtU3VibGF5ZXJzKnRoaXMuZGVwdGhFcHNpbG9uXSx0aGlzLnRlcnJhaW4mJih0aGlzLnN0eWxlLmhhc1N5bWJvbExheWVycygpfHx0aGlzLnN0eWxlLmhhc0NpcmNsZUxheWVycygpKSYmdGhpcy50ZXJyYWluLmRyYXdEZXB0aCgpLHRoaXMuY29udGV4dC5iaW5kRnJhbWVidWZmZXIuc2V0KG51bGwpLHRoaXMuY29udGV4dC52aWV3cG9ydC5zZXQoWzAsMCx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0XSksdGhpcy5jb250ZXh0LmNsZWFyKHtjb2xvcjppLnNob3dPdmVyZHJhd0luc3BlY3Rvcj9lLkNvbG9yLmJsYWNrOmUuQ29sb3IudHJhbnNwYXJlbnQsZGVwdGg6MX0pLHRoaXMuY2xlYXJTdGVuY2lsKCksdGhpcy5fc2hvd092ZXJkcmF3SW5zcGVjdG9yPWkuc2hvd092ZXJkcmF3SW5zcGVjdG9yLHRoaXMucmVuZGVyUGFzcz1cIm9wYXF1ZVwiLCF0aGlzLnRlcnJhaW4pZm9yKHRoaXMuY3VycmVudExheWVyPW8ubGVuZ3RoLTE7dGhpcy5jdXJyZW50TGF5ZXI+PTA7dGhpcy5jdXJyZW50TGF5ZXItLSl7Y29uc3QgZT10aGlzLnN0eWxlLl9sYXllcnNbb1t0aGlzLmN1cnJlbnRMYXllcl1dLGk9dC5fZ2V0TGF5ZXJTb3VyY2VDYWNoZShlKTtpZihlLmlzU2t5KCkpY29udGludWU7Y29uc3Qgcj1pP2FbaS5pZF06dm9pZCAwO3RoaXMuX3JlbmRlclRpbGVDbGlwcGluZ01hc2tzKGUsaSxyKSx0aGlzLnJlbmRlckxheWVyKHRoaXMsaSxlLHIpO31pZih0aGlzLnN0eWxlLmZvZyYmdGhpcy50cmFuc2Zvcm0ucHJvamVjdGlvbi5zdXBwb3J0c0ZvZyYmZnVuY3Rpb24odCxpKXtjb25zdCBvPXQuY29udGV4dCxyPW8uZ2wsbj10LnRyYW5zZm9ybSxhPW5ldyBlLkRlcHRoTW9kZShyLkxFUVVBTCxlLkRlcHRoTW9kZS5SZWFkT25seSxbMCwxXSkscz10LnVzZVByb2dyYW0oXCJnbG9iZUF0bW9zcGhlcmVcIixudWxsLFwiZ2xvYmVcIj09PW4ucHJvamVjdGlvbi5uYW1lP1tcIlBST0pFQ1RJT05fR0xPQkVfVklFV1wiLFwiRk9HXCJdOltcIkZPR1wiXSksbD1lLmdsb2JlVG9NZXJjYXRvclRyYW5zaXRpb24obi56b29tKSxjPWkucHJvcGVydGllcy5nZXQoXCJjb2xvclwiKS50b0FycmF5MDEoKSxoPWkucHJvcGVydGllcy5nZXQoXCJoaWdoLWNvbG9yXCIpLnRvQXJyYXkwMSgpLF89aS5wcm9wZXJ0aWVzLmdldChcInNwYWNlLWNvbG9yXCIpLnRvQXJyYXkwMVByZW11bHRpcGxpZWRBbHBoYSgpLHU9ZS5pZGVudGl0eSQxKFtdKTtlLnJvdGF0ZVkkMSh1LHUsLWUuZGVnVG9SYWQobi5fY2VudGVyLmxuZykpLGUucm90YXRlWCQxKHUsdSxlLmRlZ1RvUmFkKG4uX2NlbnRlci5sYXQpKSxlLnJvdGF0ZVokMSh1LHUsbi5hbmdsZSksZS5yb3RhdGVYJDEodSx1LC1uLl9waXRjaCk7Y29uc3QgZD1lLmZyb21RdWF0KG5ldyBGbG9hdDMyQXJyYXkoMTYpLHUpLHA9ZS5tYXBWYWx1ZShpLnByb3BlcnRpZXMuZ2V0KFwic3Rhci1pbnRlbnNpdHlcIiksMCwxLDAsLjI1KSxtPTVlLTQsZj1lLm1hcFZhbHVlKGkucHJvcGVydGllcy5nZXQoXCJob3Jpem9uLWJsZW5kXCIpLDAsMSxtLC4yNSksZz1lLmdsb2JlVXNlQ3VzdG9tQW50aUFsaWFzaW5nKHQsbyxuKSYmZj09PW0/bi53b3JsZFNpemUvKDIqTWF0aC5QSSoxLjAyNSktMTpuLmdsb2JlUmFkaXVzLHY9dC5mcmFtZUNvdW50ZXIvMWUzJTEseD1lLmxlbmd0aChuLmdsb2JlQ2VudGVySW5WaWV3U3BhY2UpLHk9TWF0aC5zcXJ0KE1hdGgucG93KHgsMiktTWF0aC5wb3coZywyKSksYj1NYXRoLmFjb3MoeS94KSx3PSgodCxpLG8scixuLGEscyxsLGMsaCxfLHUsZCxwKT0+KHt1X2ZydXN0dW1fdGw6dCx1X2ZydXN0dW1fdHI6aSx1X2ZydXN0dW1fYnI6byx1X2ZydXN0dW1fYmw6cix1X2hvcml6b246bix1X3RyYW5zaXRpb246YSx1X2ZhZGVvdXRfcmFuZ2U6cyx1X2NvbG9yOmwsdV9oaWdoX2NvbG9yOmMsdV9zcGFjZV9jb2xvcjpoLHVfc3Rhcl9pbnRlbnNpdHk6Xyx1X3N0YXJfc2l6ZTo1KmUuZXhwb3J0ZWQuZGV2aWNlUGl4ZWxSYXRpbyx1X3N0YXJfZGVuc2l0eTowLHVfdGVtcG9yYWxfb2Zmc2V0OnUsdV9ob3Jpem9uX2FuZ2xlOmQsdV9yb3RhdGlvbl9tYXRyaXg6cH0pKShuLmZydXN0dW1Db3JuZXJzLlRMLG4uZnJ1c3R1bUNvcm5lcnMuVFIsbi5mcnVzdHVtQ29ybmVycy5CUixuLmZydXN0dW1Db3JuZXJzLkJMLG4uZnJ1c3R1bUNvcm5lcnMuaG9yaXpvbixsLGYsYyxoLF8scCx2LGIsZCk7dC5wcmVwYXJlRHJhd1Byb2dyYW0obyxzKTtjb25zdCBUPXQuYXRtb3NwaGVyZUJ1ZmZlcjtUJiZzLmRyYXcobyxyLlRSSUFOR0xFUyxhLGUuU3RlbmNpbE1vZGUuZGlzYWJsZWQsZS5Db2xvck1vZGUuYWxwaGFCbGVuZGVkLGUuQ3VsbEZhY2VNb2RlLmJhY2tDVyx3LFwic2t5Ym94XCIsVC52ZXJ0ZXhCdWZmZXIsVC5pbmRleEJ1ZmZlcixULnNlZ21lbnRzKTt9KHRoaXMsdGhpcy5zdHlsZS5mb2cpLHRoaXMucmVuZGVyUGFzcz1cInNreVwiLChlLmdsb2JlVG9NZXJjYXRvclRyYW5zaXRpb24odGhpcy50cmFuc2Zvcm0uem9vbSk+MHx8XCJnbG9iZVwiIT09dGhpcy50cmFuc2Zvcm0ucHJvamVjdGlvbi5uYW1lKSYmdGhpcy50cmFuc2Zvcm0uaXNIb3Jpem9uVmlzaWJsZSgpKWZvcih0aGlzLmN1cnJlbnRMYXllcj0wO3RoaXMuY3VycmVudExheWVyPG8ubGVuZ3RoO3RoaXMuY3VycmVudExheWVyKyspe2NvbnN0IGU9dGhpcy5zdHlsZS5fbGF5ZXJzW29bdGhpcy5jdXJyZW50TGF5ZXJdXSxpPXQuX2dldExheWVyU291cmNlQ2FjaGUoZSk7ZS5pc1NreSgpJiZ0aGlzLnJlbmRlckxheWVyKHRoaXMsaSxlLGk/YVtpLmlkXTp2b2lkIDApO31mb3IodGhpcy5yZW5kZXJQYXNzPVwidHJhbnNsdWNlbnRcIix0aGlzLmN1cnJlbnRMYXllcj0wO3RoaXMuY3VycmVudExheWVyPG8ubGVuZ3RoOyl7Y29uc3QgZT10aGlzLnN0eWxlLl9sYXllcnNbb1t0aGlzLmN1cnJlbnRMYXllcl1dLGk9dC5fZ2V0TGF5ZXJTb3VyY2VDYWNoZShlKTtpZihlLmlzU2t5KCkpeysrdGhpcy5jdXJyZW50TGF5ZXI7Y29udGludWV9aWYodGhpcy50ZXJyYWluJiZ0aGlzLnN0eWxlLmlzTGF5ZXJEcmFwZWQoZSkpe2lmKGUuaXNIaWRkZW4odGhpcy50cmFuc2Zvcm0uem9vbSkpeysrdGhpcy5jdXJyZW50TGF5ZXI7Y29udGludWV9dGhpcy5jdXJyZW50TGF5ZXI9dGhpcy50ZXJyYWluLnJlbmRlckJhdGNoKHRoaXMuY3VycmVudExheWVyKTtjb250aW51ZX1jb25zdCByPWk/KFwic3ltYm9sXCI9PT1lLnR5cGU/czphKVtpLmlkXTp2b2lkIDA7dGhpcy5fcmVuZGVyVGlsZUNsaXBwaW5nTWFza3MoZSxpLGk/bltpLmlkXTp2b2lkIDApLHRoaXMucmVuZGVyTGF5ZXIodGhpcyxpLGUsciksKyt0aGlzLmN1cnJlbnRMYXllcjt9aWYodGhpcy50ZXJyYWluJiZ0aGlzLnRlcnJhaW4ucG9zdFJlbmRlcigpLHRoaXMub3B0aW9ucy5zaG93VGlsZUJvdW5kYXJpZXN8fHRoaXMub3B0aW9ucy5zaG93UXVlcnlHZW9tZXRyeXx8dGhpcy5vcHRpb25zLnNob3dUaWxlQUFCQnMpe2xldCBpPW51bGw7ZS52YWx1ZXModGhpcy5zdHlsZS5fbGF5ZXJzKS5mb3JFYWNoKChlPT57Y29uc3Qgbz10Ll9nZXRMYXllclNvdXJjZUNhY2hlKGUpO28mJiFlLmlzSGlkZGVuKHRoaXMudHJhbnNmb3JtLnpvb20pJiYoIWl8fGkuZ2V0U291cmNlKCkubWF4em9vbTxvLmdldFNvdXJjZSgpLm1heHpvb20pJiYoaT1vKTt9KSksaSYmdGhpcy5vcHRpb25zLnNob3dUaWxlQm91bmRhcmllcyYma28uZGVidWcodGhpcyxpLGkuZ2V0VmlzaWJsZUNvb3JkaW5hdGVzKCkpO310aGlzLm9wdGlvbnMuc2hvd1BhZGRpbmcmJmZ1bmN0aW9uKGUpe2NvbnN0IHQ9ZS50cmFuc2Zvcm0ucGFkZGluZztNbyhlLGUudHJhbnNmb3JtLmhlaWdodC0odC50b3B8fDApLDMsYm8pLE1vKGUsdC5ib3R0b218fDAsMyx3byksU28oZSx0LmxlZnR8fDAsMyxUbyksU28oZSxlLnRyYW5zZm9ybS53aWR0aC0odC5yaWdodHx8MCksMyxFbyk7Y29uc3QgaT1lLnRyYW5zZm9ybS5jZW50ZXJQb2ludDshZnVuY3Rpb24oZSx0LGksbyl7em8oZSx0LTEsaS0xMCwyLDIwLG8pLHpvKGUsdC0xMCxpLTEsMjAsMixvKTt9KGUsaS54LGUudHJhbnNmb3JtLmhlaWdodC1pLnksQ28pO30odGhpcyksdGhpcy5jb250ZXh0LnNldERlZmF1bHQoKSx0aGlzLmZyYW1lQ291bnRlcj0odGhpcy5mcmFtZUNvdW50ZXIrMSklTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIsdGhpcy50aWxlTG9hZGVkJiZ0aGlzLm9wdGlvbnMuc3BlZWRJbmRleFRpbWluZyYmKHRoaXMubG9hZFRpbWVTdGFtcHMucHVzaChlLndpbmRvdy5wZXJmb3JtYW5jZS5ub3coKSksdGhpcy5zYXZlQ2FudmFzQ29weSgpKTt9fXJlbmRlckxheWVyKGUsdCxpLG8pe2kuaXNIaWRkZW4odGhpcy50cmFuc2Zvcm0uem9vbSl8fChcImJhY2tncm91bmRcIj09PWkudHlwZXx8XCJza3lcIj09PWkudHlwZXx8XCJjdXN0b21cIj09PWkudHlwZXx8byYmby5sZW5ndGgpJiYodGhpcy5pZD1pLmlkLHRoaXMuZ3B1VGltaW5nU3RhcnQoaSksZS50cmFuc2Zvcm0ucHJvamVjdGlvbi51bnN1cHBvcnRlZExheWVycyYmZS50cmFuc2Zvcm0ucHJvamVjdGlvbi51bnN1cHBvcnRlZExheWVycy5pbmNsdWRlcyhpLnR5cGUpfHxrb1tpLnR5cGVdKGUsdCxpLG8sdGhpcy5zdHlsZS5wbGFjZW1lbnQudmFyaWFibGVPZmZzZXRzLHRoaXMub3B0aW9ucy5pc0luaXRpYWxMb2FkKSx0aGlzLmdwdVRpbWluZ0VuZCgpKTt9Z3B1VGltaW5nU3RhcnQoZSl7aWYoIXRoaXMub3B0aW9ucy5ncHVUaW1pbmcpcmV0dXJuO2NvbnN0IHQ9dGhpcy5jb250ZXh0LmV4dFRpbWVyUXVlcnk7bGV0IGk9dGhpcy5ncHVUaW1lcnNbZS5pZF07aXx8KGk9dGhpcy5ncHVUaW1lcnNbZS5pZF09e2NhbGxzOjAsY3B1VGltZTowLHF1ZXJ5OnQuY3JlYXRlUXVlcnlFWFQoKX0pLGkuY2FsbHMrKyx0LmJlZ2luUXVlcnlFWFQodC5USU1FX0VMQVBTRURfRVhULGkucXVlcnkpO31ncHVUaW1pbmdEZWZlcnJlZFJlbmRlclN0YXJ0KCl7aWYodGhpcy5vcHRpb25zLmdwdVRpbWluZ0RlZmVycmVkUmVuZGVyKXtjb25zdCBlPXRoaXMuY29udGV4dC5leHRUaW1lclF1ZXJ5LHQ9ZS5jcmVhdGVRdWVyeUVYVCgpO3RoaXMuZGVmZXJyZWRSZW5kZXJHcHVUaW1lUXVlcmllcy5wdXNoKHQpLGUuYmVnaW5RdWVyeUVYVChlLlRJTUVfRUxBUFNFRF9FWFQsdCk7fX1ncHVUaW1pbmdEZWZlcnJlZFJlbmRlckVuZCgpe2lmKCF0aGlzLm9wdGlvbnMuZ3B1VGltaW5nRGVmZXJyZWRSZW5kZXIpcmV0dXJuO2NvbnN0IGU9dGhpcy5jb250ZXh0LmV4dFRpbWVyUXVlcnk7ZS5lbmRRdWVyeUVYVChlLlRJTUVfRUxBUFNFRF9FWFQpO31ncHVUaW1pbmdFbmQoKXtpZighdGhpcy5vcHRpb25zLmdwdVRpbWluZylyZXR1cm47Y29uc3QgZT10aGlzLmNvbnRleHQuZXh0VGltZXJRdWVyeTtlLmVuZFF1ZXJ5RVhUKGUuVElNRV9FTEFQU0VEX0VYVCk7fWNvbGxlY3RHcHVUaW1lcnMoKXtjb25zdCBlPXRoaXMuZ3B1VGltZXJzO3JldHVybiB0aGlzLmdwdVRpbWVycz17fSxlfWNvbGxlY3REZWZlcnJlZFJlbmRlckdwdVF1ZXJpZXMoKXtjb25zdCBlPXRoaXMuZGVmZXJyZWRSZW5kZXJHcHVUaW1lUXVlcmllcztyZXR1cm4gdGhpcy5kZWZlcnJlZFJlbmRlckdwdVRpbWVRdWVyaWVzPVtdLGV9cXVlcnlHcHVUaW1lcnMoZSl7Y29uc3QgdD17fTtmb3IoY29uc3QgaSBpbiBlKXtjb25zdCBvPWVbaV0scj10aGlzLmNvbnRleHQuZXh0VGltZXJRdWVyeSxuPXIuZ2V0UXVlcnlPYmplY3RFWFQoby5xdWVyeSxyLlFVRVJZX1JFU1VMVF9FWFQpLzFlNjtyLmRlbGV0ZVF1ZXJ5RVhUKG8ucXVlcnkpLHRbaV09bjt9cmV0dXJuIHR9cXVlcnlHcHVUaW1lRGVmZXJyZWRSZW5kZXIoZSl7aWYoIXRoaXMub3B0aW9ucy5ncHVUaW1pbmdEZWZlcnJlZFJlbmRlcilyZXR1cm4gMDtjb25zdCB0PXRoaXMuY29udGV4dC5leHRUaW1lclF1ZXJ5O2xldCBpPTA7Zm9yKGNvbnN0IG8gb2YgZSlpKz10LmdldFF1ZXJ5T2JqZWN0RVhUKG8sdC5RVUVSWV9SRVNVTFRfRVhUKS8xZTYsdC5kZWxldGVRdWVyeUVYVChvKTtyZXR1cm4gaX10cmFuc2xhdGVQb3NNYXRyaXgodCxpLG8scixuKXtpZighb1swXSYmIW9bMV0pcmV0dXJuIHQ7Y29uc3QgYT1uP1wibWFwXCI9PT1yP3RoaXMudHJhbnNmb3JtLmFuZ2xlOjA6XCJ2aWV3cG9ydFwiPT09cj8tdGhpcy50cmFuc2Zvcm0uYW5nbGU6MDtpZihhKXtjb25zdCBlPU1hdGguc2luKGEpLHQ9TWF0aC5jb3MoYSk7bz1bb1swXSp0LW9bMV0qZSxvWzBdKmUrb1sxXSp0XTt9Y29uc3Qgcz1bbj9vWzBdOkwoaSxvWzBdLHRoaXMudHJhbnNmb3JtLnpvb20pLG4/b1sxXTpMKGksb1sxXSx0aGlzLnRyYW5zZm9ybS56b29tKSwwXSxsPW5ldyBGbG9hdDMyQXJyYXkoMTYpO3JldHVybiBlLnRyYW5zbGF0ZShsLHQscyksbH1zYXZlVGlsZVRleHR1cmUoZSl7Y29uc3QgdD10aGlzLl90aWxlVGV4dHVyZXNbZS5zaXplWzBdXTt0P3QucHVzaChlKTp0aGlzLl90aWxlVGV4dHVyZXNbZS5zaXplWzBdXT1bZV07fWdldFRpbGVUZXh0dXJlKGUpe2NvbnN0IHQ9dGhpcy5fdGlsZVRleHR1cmVzW2VdO3JldHVybiB0JiZ0Lmxlbmd0aD4wP3QucG9wKCk6bnVsbH1pc1BhdHRlcm5NaXNzaW5nKGUpe2lmKCFlKXJldHVybiAhMTtpZighZS5mcm9tfHwhZS50bylyZXR1cm4gITA7Y29uc3QgdD10aGlzLmltYWdlTWFuYWdlci5nZXRQYXR0ZXJuKGUuZnJvbS50b1N0cmluZygpKSxpPXRoaXMuaW1hZ2VNYW5hZ2VyLmdldFBhdHRlcm4oZS50by50b1N0cmluZygpKTtyZXR1cm4gIXR8fCFpfXRlcnJhaW5SZW5kZXJNb2RlRWxldmF0ZWQoKXtyZXR1cm4gdGhpcy5zdHlsZSYmISF0aGlzLnN0eWxlLmdldFRlcnJhaW4oKSYmISF0aGlzLnRlcnJhaW4mJiF0aGlzLnRlcnJhaW4ucmVuZGVyaW5nVG9UZXh0dXJlfWN1cnJlbnRHbG9iYWxEZWZpbmVzKCl7Y29uc3QgZT10aGlzLnRlcnJhaW4mJnRoaXMudGVycmFpbi5yZW5kZXJpbmdUb1RleHR1cmUsdD10aGlzLnN0eWxlJiZ0aGlzLnN0eWxlLmZvZyxpPVtdO3JldHVybiB0aGlzLnRlcnJhaW5SZW5kZXJNb2RlRWxldmF0ZWQoKSYmaS5wdXNoKFwiVEVSUkFJTlwiKSxcImdsb2JlXCI9PT10aGlzLnRyYW5zZm9ybS5wcm9qZWN0aW9uLm5hbWUmJmkucHVzaChcIkdMT0JFXCIpLHQmJiFlJiYwIT09dC5nZXRPcGFjaXR5KHRoaXMudHJhbnNmb3JtLnBpdGNoKSYmaS5wdXNoKFwiRk9HXCIpLGUmJmkucHVzaChcIlJFTkRFUl9UT19URVhUVVJFXCIpLHRoaXMuX3Nob3dPdmVyZHJhd0luc3BlY3RvciYmaS5wdXNoKFwiT1ZFUkRSQVdfSU5TUEVDVE9SXCIpLGl9dXNlUHJvZ3JhbShlLHQsaSl7dGhpcy5jYWNoZT10aGlzLmNhY2hlfHx7fTtjb25zdCBvPWl8fFtdLHI9dGhpcy5jdXJyZW50R2xvYmFsRGVmaW5lcygpLmNvbmNhdChvKSxuPUxpLmNhY2hlS2V5KHVpW2VdLGUscix0KTtyZXR1cm4gdGhpcy5jYWNoZVtuXXx8KHRoaXMuY2FjaGVbbl09bmV3IExpKHRoaXMuY29udGV4dCxlLHVpW2VdLHQsbG9bZV0scikpLHRoaXMuY2FjaGVbbl19c2V0Q3VzdG9tTGF5ZXJEZWZhdWx0cygpe3RoaXMuY29udGV4dC51bmJpbmRWQU8oKSx0aGlzLmNvbnRleHQuY3VsbEZhY2Uuc2V0RGVmYXVsdCgpLHRoaXMuY29udGV4dC5mcm9udEZhY2Uuc2V0RGVmYXVsdCgpLHRoaXMuY29udGV4dC5jdWxsRmFjZVNpZGUuc2V0RGVmYXVsdCgpLHRoaXMuY29udGV4dC5hY3RpdmVUZXh0dXJlLnNldERlZmF1bHQoKSx0aGlzLmNvbnRleHQucGl4ZWxTdG9yZVVucGFjay5zZXREZWZhdWx0KCksdGhpcy5jb250ZXh0LnBpeGVsU3RvcmVVbnBhY2tQcmVtdWx0aXBseUFscGhhLnNldERlZmF1bHQoKSx0aGlzLmNvbnRleHQucGl4ZWxTdG9yZVVucGFja0ZsaXBZLnNldERlZmF1bHQoKTt9c2V0QmFzZVN0YXRlKCl7Y29uc3QgZT10aGlzLmNvbnRleHQuZ2w7dGhpcy5jb250ZXh0LmN1bGxGYWNlLnNldCghMSksdGhpcy5jb250ZXh0LnZpZXdwb3J0LnNldChbMCwwLHRoaXMud2lkdGgsdGhpcy5oZWlnaHRdKSx0aGlzLmNvbnRleHQuYmxlbmRFcXVhdGlvbi5zZXQoZS5GVU5DX0FERCk7fWluaXREZWJ1Z092ZXJsYXlDYW52YXMoKXtudWxsPT10aGlzLmRlYnVnT3ZlcmxheUNhbnZhcyYmKHRoaXMuZGVidWdPdmVybGF5Q2FudmFzPWUud2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIiksdGhpcy5kZWJ1Z092ZXJsYXlDYW52YXMud2lkdGg9NTEyLHRoaXMuZGVidWdPdmVybGF5Q2FudmFzLmhlaWdodD01MTIsdGhpcy5kZWJ1Z092ZXJsYXlUZXh0dXJlPW5ldyBlLlRleHR1cmUodGhpcy5jb250ZXh0LHRoaXMuZGVidWdPdmVybGF5Q2FudmFzLHRoaXMuY29udGV4dC5nbC5SR0JBKSk7fWRlc3Ryb3koKXt0aGlzLl90ZXJyYWluJiZ0aGlzLl90ZXJyYWluLmRlc3Ryb3koKSx0aGlzLmdsb2JlU2hhcmVkQnVmZmVycyYmdGhpcy5nbG9iZVNoYXJlZEJ1ZmZlcnMuZGVzdHJveSgpLHRoaXMuZW1wdHlUZXh0dXJlLmRlc3Ryb3koKSx0aGlzLmRlYnVnT3ZlcmxheVRleHR1cmUmJnRoaXMuZGVidWdPdmVybGF5VGV4dHVyZS5kZXN0cm95KCksdGhpcy5hdG1vc3BoZXJlQnVmZmVyJiZ0aGlzLmF0bW9zcGhlcmVCdWZmZXIuZGVzdHJveSgpO31wcmVwYXJlRHJhd1RpbGUoKXt0aGlzLnRlcnJhaW4mJnRoaXMudGVycmFpbi5wcmVwYXJlRHJhd1RpbGUoKTt9cHJlcGFyZURyYXdQcm9ncmFtKHQsaSxvKXtpZih0aGlzLnRlcnJhaW4mJnRoaXMudGVycmFpbi5yZW5kZXJpbmdUb1RleHR1cmUpcmV0dXJuO2NvbnN0IHI9dGhpcy5zdHlsZS5mb2c7aWYocil7Y29uc3Qgbj1yLmdldE9wYWNpdHkodGhpcy50cmFuc2Zvcm0ucGl0Y2gpLGE9KCh0LGksbyxyLG4sYSxzLGwsYyxoLF8pPT57Y29uc3QgdT10LnRyYW5zZm9ybSxkPWkucHJvcGVydGllcy5nZXQoXCJjb2xvclwiKS50b0FycmF5MDEoKTtkWzNdPXI7Y29uc3QgcD10LmZyYW1lQ291bnRlci8xZTMlMTtyZXR1cm4ge3VfZm9nX21hdHJpeDpvP3UuY2FsY3VsYXRlRm9nVGlsZU1hdHJpeChvKTp0LmlkZW50aXR5TWF0LHVfZm9nX3JhbmdlOmkuZ2V0Rm92QWRqdXN0ZWRSYW5nZSh1Ll9mb3YpLHVfZm9nX2NvbG9yOmQsdV9mb2dfaG9yaXpvbl9ibGVuZDppLnByb3BlcnRpZXMuZ2V0KFwiaG9yaXpvbi1ibGVuZFwiKSx1X2ZvZ190ZW1wb3JhbF9vZmZzZXQ6cCx1X2ZydXN0dW1fdGw6bix1X2ZydXN0dW1fdHI6YSx1X2ZydXN0dW1fYnI6cyx1X2ZydXN0dW1fYmw6bCx1X2dsb2JlX3BvczpjLHVfZ2xvYmVfcmFkaXVzOmgsdV92aWV3cG9ydDpfLHVfZ2xvYmVfdHJhbnNpdGlvbjplLmdsb2JlVG9NZXJjYXRvclRyYW5zaXRpb24odS56b29tKSx1X2lzX2dsb2JlOisoXCJnbG9iZVwiPT09dS5wcm9qZWN0aW9uLm5hbWUpfX0pKHRoaXMscixvLG4sdGhpcy50cmFuc2Zvcm0uZnJ1c3R1bUNvcm5lcnMuVEwsdGhpcy50cmFuc2Zvcm0uZnJ1c3R1bUNvcm5lcnMuVFIsdGhpcy50cmFuc2Zvcm0uZnJ1c3R1bUNvcm5lcnMuQlIsdGhpcy50cmFuc2Zvcm0uZnJ1c3R1bUNvcm5lcnMuQkwsdGhpcy50cmFuc2Zvcm0uZ2xvYmVDZW50ZXJJblZpZXdTcGFjZSx0aGlzLnRyYW5zZm9ybS5nbG9iZVJhZGl1cyxbdGhpcy50cmFuc2Zvcm0ud2lkdGgqZS5leHBvcnRlZC5kZXZpY2VQaXhlbFJhdGlvLHRoaXMudHJhbnNmb3JtLmhlaWdodCplLmV4cG9ydGVkLmRldmljZVBpeGVsUmF0aW9dKTtpLnNldEZvZ1VuaWZvcm1WYWx1ZXModCxhKTt9fXNldFRpbGVMb2FkZWRGbGFnKGUpe3RoaXMudGlsZUxvYWRlZD1lO31zYXZlQ2FudmFzQ29weSgpe3RoaXMuZnJhbWVDb3BpZXMucHVzaCh0aGlzLmNhbnZhc0NvcHkoKSksdGhpcy50aWxlTG9hZGVkPSExO31jYW52YXNDb3B5KCl7Y29uc3QgZT10aGlzLmNvbnRleHQuZ2wsdD1lLmNyZWF0ZVRleHR1cmUoKTtyZXR1cm4gZS5iaW5kVGV4dHVyZShlLlRFWFRVUkVfMkQsdCksZS5jb3B5VGV4SW1hZ2UyRChlLlRFWFRVUkVfMkQsMCxlLlJHQkEsMCwwLGUuZHJhd2luZ0J1ZmZlcldpZHRoLGUuZHJhd2luZ0J1ZmZlckhlaWdodCwwKSx0fWdldENhbnZhc0NvcGllc0FuZFRpbWVzdGFtcHMoKXtyZXR1cm4ge2NhbnZhc0NvcGllczp0aGlzLmZyYW1lQ29waWVzLHRpbWVTdGFtcHM6dGhpcy5sb2FkVGltZVN0YW1wc319YXZlcmFnZUVsZXZhdGlvbk5lZWRzRWFzaW5nKCl7aWYoIXRoaXMudHJhbnNmb3JtLl9lbGV2YXRpb24pcmV0dXJuICExO2NvbnN0IGU9dGhpcy5zdHlsZSYmdGhpcy5zdHlsZS5mb2c7cmV0dXJuICEhZSYmMCE9PWUuZ2V0T3BhY2l0eSh0aGlzLnRyYW5zZm9ybS5waXRjaCl9Z2V0QmFja2dyb3VuZFRpbGVzKCl7Y29uc3QgdD10aGlzLl9iYWNrZ3JvdW5kVGlsZXMsaT10aGlzLl9iYWNrZ3JvdW5kVGlsZXM9e30sbz10aGlzLnRyYW5zZm9ybS5jb3ZlcmluZ1RpbGVzKHt0aWxlU2l6ZTo1MTJ9KTtmb3IoY29uc3QgciBvZiBvKWlbci5rZXldPXRbci5rZXldfHxuZXcgZS5UaWxlKHIsNTEyLHRoaXMudHJhbnNmb3JtLnRpbGVab29tLHRoaXMpO3JldHVybiBpfWNsZWFyQmFja2dyb3VuZFRpbGVzKCl7dGhpcy5fYmFja2dyb3VuZFRpbGVzPXt9O319Y2xhc3MgVW97Y29uc3RydWN0b3IoZT0wLHQ9MCxpPTAsbz0wKXtpZihpc05hTihlKXx8ZTwwfHxpc05hTih0KXx8dDwwfHxpc05hTihpKXx8aTwwfHxpc05hTihvKXx8bzwwKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgdmFsdWUgZm9yIGVkZ2UtaW5zZXRzLCB0b3AsIGJvdHRvbSwgbGVmdCBhbmQgcmlnaHQgbXVzdCBhbGwgYmUgbnVtYmVyc1wiKTt0aGlzLnRvcD1lLHRoaXMuYm90dG9tPXQsdGhpcy5sZWZ0PWksdGhpcy5yaWdodD1vO31pbnRlcnBvbGF0ZSh0LGksbyl7cmV0dXJuIG51bGwhPWkudG9wJiZudWxsIT10LnRvcCYmKHRoaXMudG9wPWUubnVtYmVyKHQudG9wLGkudG9wLG8pKSxudWxsIT1pLmJvdHRvbSYmbnVsbCE9dC5ib3R0b20mJih0aGlzLmJvdHRvbT1lLm51bWJlcih0LmJvdHRvbSxpLmJvdHRvbSxvKSksbnVsbCE9aS5sZWZ0JiZudWxsIT10LmxlZnQmJih0aGlzLmxlZnQ9ZS5udW1iZXIodC5sZWZ0LGkubGVmdCxvKSksbnVsbCE9aS5yaWdodCYmbnVsbCE9dC5yaWdodCYmKHRoaXMucmlnaHQ9ZS5udW1iZXIodC5yaWdodCxpLnJpZ2h0LG8pKSx0aGlzfWdldENlbnRlcih0LGkpe2NvbnN0IG89ZS5jbGFtcCgodGhpcy5sZWZ0K3QtdGhpcy5yaWdodCkvMiwwLHQpLHI9ZS5jbGFtcCgodGhpcy50b3AraS10aGlzLmJvdHRvbSkvMiwwLGkpO3JldHVybiBuZXcgZS5wb2ludEdlb21ldHJ5KG8scil9ZXF1YWxzKGUpe3JldHVybiB0aGlzLnRvcD09PWUudG9wJiZ0aGlzLmJvdHRvbT09PWUuYm90dG9tJiZ0aGlzLmxlZnQ9PT1lLmxlZnQmJnRoaXMucmlnaHQ9PT1lLnJpZ2h0fWNsb25lKCl7cmV0dXJuIG5ldyBVbyh0aGlzLnRvcCx0aGlzLmJvdHRvbSx0aGlzLmxlZnQsdGhpcy5yaWdodCl9dG9KU09OKCl7cmV0dXJuIHt0b3A6dGhpcy50b3AsYm90dG9tOnRoaXMuYm90dG9tLGxlZnQ6dGhpcy5sZWZ0LHJpZ2h0OnRoaXMucmlnaHR9fX1mdW5jdGlvbiBObyh0LGkpe2NvbnN0IG89ZS5nZXRDb2x1bW4odCwzKTtlLmZyb21RdWF0KHQsaSksZS5zZXRDb2x1bW4odCwzLG8pO31mdW5jdGlvbiBHbyh0LGkpe2NvbnN0IG89ZS5pZGVudGl0eSQxKFtdKTtyZXR1cm4gZS5yb3RhdGVaJDEobyxvLC1pKSxlLnJvdGF0ZVgkMShvLG8sLXQpLG99ZnVuY3Rpb24gam8odCxpKXtjb25zdCBvPVt0WzBdLHRbMV0sMF0scj1baVswXSxpWzFdLDBdO2lmKGUubGVuZ3RoKG8pPj0xZS0xNSl7Y29uc3QgdD1lLm5vcm1hbGl6ZShbXSxvKTtlLnNjYWxlJDIocix0LGUuZG90KHIsdCkpLGlbMF09clswXSxpWzFdPXJbMV07fWNvbnN0IG49ZS5jcm9zcyhbXSxpLHQpO2lmKGUubGVuKG4pPDFlLTE1KXJldHVybiBudWxsO2NvbnN0IGE9TWF0aC5hdGFuMigtblsxXSxuWzBdKTtyZXR1cm4gR28oTWF0aC5hdGFuMihNYXRoLnNxcnQodFswXSp0WzBdK3RbMV0qdFsxXSksLXRbMl0pLGEpfWNsYXNzIFpve2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5wb3NpdGlvbj1lLHRoaXMub3JpZW50YXRpb249dDt9Z2V0IHBvc2l0aW9uKCl7cmV0dXJuIHRoaXMuX3Bvc2l0aW9ufXNldCBwb3NpdGlvbih0KXtpZih0KXtjb25zdCBpPXQgaW5zdGFuY2VvZiBlLk1lcmNhdG9yQ29vcmRpbmF0ZT90Om5ldyBlLk1lcmNhdG9yQ29vcmRpbmF0ZSh0WzBdLHRbMV0sdFsyXSk7dGhpcy5fcmVuZGVyV29ybGRDb3BpZXMmJihpLng9ZS53cmFwKGkueCwwLDEpKSx0aGlzLl9wb3NpdGlvbj1pO31lbHNlIHRoaXMuX3Bvc2l0aW9uPW51bGw7fWxvb2tBdFBvaW50KHQsaSl7aWYodGhpcy5vcmllbnRhdGlvbj1udWxsLCF0aGlzLnBvc2l0aW9uKXJldHVybjtjb25zdCBvPXRoaXMuX2VsZXZhdGlvbj90aGlzLl9lbGV2YXRpb24uZ2V0QXRQb2ludE9yWmVybyhlLk1lcmNhdG9yQ29vcmRpbmF0ZS5mcm9tTG5nTGF0KHQpKTowLHI9dGhpcy5wb3NpdGlvbixuPWUuTWVyY2F0b3JDb29yZGluYXRlLmZyb21MbmdMYXQodCxvKSxhPVtuLngtci54LG4ueS1yLnksbi56LXIuel07aXx8KGk9WzAsMCwxXSksaVsyXT1NYXRoLmFicyhpWzJdKSx0aGlzLm9yaWVudGF0aW9uPWpvKGEsaSk7fXNldFBpdGNoQmVhcmluZyh0LGkpe3RoaXMub3JpZW50YXRpb249R28oZS5kZWdUb1JhZCh0KSxlLmRlZ1RvUmFkKC1pKSk7fX1jbGFzcyBWb3tjb25zdHJ1Y3Rvcih0LGkpe3RoaXMuX3RyYW5zZm9ybT1lLmlkZW50aXR5KFtdKSx0aGlzLm9yaWVudGF0aW9uPWksdGhpcy5wb3NpdGlvbj10O31nZXQgbWVyY2F0b3JQb3NpdGlvbigpe2NvbnN0IHQ9dGhpcy5wb3NpdGlvbjtyZXR1cm4gbmV3IGUuTWVyY2F0b3JDb29yZGluYXRlKHRbMF0sdFsxXSx0WzJdKX1nZXQgcG9zaXRpb24oKXtjb25zdCB0PWUuZ2V0Q29sdW1uKHRoaXMuX3RyYW5zZm9ybSwzKTtyZXR1cm4gW3RbMF0sdFsxXSx0WzJdXX1zZXQgcG9zaXRpb24odCl7dmFyIGk7dCYmZS5zZXRDb2x1bW4odGhpcy5fdHJhbnNmb3JtLDMsWyhpPXQpWzBdLGlbMV0saVsyXSwxXSk7fWdldCBvcmllbnRhdGlvbigpe3JldHVybiB0aGlzLl9vcmllbnRhdGlvbn1zZXQgb3JpZW50YXRpb24odCl7dGhpcy5fb3JpZW50YXRpb249dHx8ZS5pZGVudGl0eSQxKFtdKSx0JiZObyh0aGlzLl90cmFuc2Zvcm0sdGhpcy5fb3JpZW50YXRpb24pO31nZXRQaXRjaEJlYXJpbmcoKXtjb25zdCBlPXRoaXMuZm9yd2FyZCgpLHQ9dGhpcy5yaWdodCgpO3JldHVybiB7YmVhcmluZzpNYXRoLmF0YW4yKC10WzFdLHRbMF0pLHBpdGNoOk1hdGguYXRhbjIoTWF0aC5zcXJ0KGVbMF0qZVswXStlWzFdKmVbMV0pLC1lWzJdKX19c2V0UGl0Y2hCZWFyaW5nKGUsdCl7dGhpcy5fb3JpZW50YXRpb249R28oZSx0KSxObyh0aGlzLl90cmFuc2Zvcm0sdGhpcy5fb3JpZW50YXRpb24pO31mb3J3YXJkKCl7Y29uc3QgdD1lLmdldENvbHVtbih0aGlzLl90cmFuc2Zvcm0sMik7cmV0dXJuIFstdFswXSwtdFsxXSwtdFsyXV19dXAoKXtjb25zdCB0PWUuZ2V0Q29sdW1uKHRoaXMuX3RyYW5zZm9ybSwxKTtyZXR1cm4gWy10WzBdLC10WzFdLC10WzJdXX1yaWdodCgpe2NvbnN0IHQ9ZS5nZXRDb2x1bW4odGhpcy5fdHJhbnNmb3JtLDApO3JldHVybiBbdFswXSx0WzFdLHRbMl1dfWdldENhbWVyYVRvV29ybGQodCxpKXtjb25zdCBvPW5ldyBGbG9hdDY0QXJyYXkoMTYpO3JldHVybiBlLmludmVydChvLHRoaXMuZ2V0V29ybGRUb0NhbWVyYSh0LGkpKSxvfWdldFdvcmxkVG9DYW1lcmFQb3NpdGlvbih0LGksbyl7Y29uc3Qgcj10aGlzLnBvc2l0aW9uO2Uuc2NhbGUkMihyLHIsLXQpO2NvbnN0IG49bmV3IEZsb2F0NjRBcnJheSgxNik7cmV0dXJuIGUuZnJvbVNjYWxpbmcobixbbyxvLG9dKSxlLnRyYW5zbGF0ZShuLG4sciksblsxMF0qPWksbn1nZXRXb3JsZFRvQ2FtZXJhKHQsaSl7Y29uc3Qgbz1uZXcgRmxvYXQ2NEFycmF5KDE2KSxyPW5ldyBGbG9hdDY0QXJyYXkoNCksbj10aGlzLnBvc2l0aW9uO3JldHVybiBlLmNvbmp1Z2F0ZShyLHRoaXMuX29yaWVudGF0aW9uKSxlLnNjYWxlJDIobixuLC10KSxlLmZyb21RdWF0KG8sciksZS50cmFuc2xhdGUobyxvLG4pLG9bMV0qPS0xLG9bNV0qPS0xLG9bOV0qPS0xLG9bMTNdKj0tMSxvWzhdKj1pLG9bOV0qPWksb1sxMF0qPWksb1sxMV0qPWksb31nZXRDYW1lcmFUb0NsaXBQZXJzcGVjdGl2ZSh0LGksbyxyKXtjb25zdCBuPW5ldyBGbG9hdDY0QXJyYXkoMTYpO3JldHVybiBlLnBlcnNwZWN0aXZlKG4sdCxpLG8sciksbn1nZXREaXN0YW5jZVRvRWxldmF0aW9uKHQpe2NvbnN0IGk9MD09PXQ/MDplLm1lcmNhdG9yWmZyb21BbHRpdHVkZSh0LHRoaXMucG9zaXRpb25bMV0pLG89dGhpcy5mb3J3YXJkKCk7cmV0dXJuIChpLXRoaXMucG9zaXRpb25bMl0pL29bMl19Y2xvbmUoKXtyZXR1cm4gbmV3IFZvKFsuLi50aGlzLnBvc2l0aW9uXSxbLi4udGhpcy5vcmllbnRhdGlvbl0pfX1mdW5jdGlvbiBXbyh0LGkpe2NvbnN0IG89cW8odC5wcm9qZWN0aW9uLHQuem9vbSx0LndpZHRoLHQuaGVpZ2h0KSxyPWZ1bmN0aW9uKHQsaSxvLHIsbil7Y29uc3QgYT1uZXcgZS5MbmdMYXQoby5sbmctMTgwKiRvLG8ubGF0KSxzPW5ldyBlLkxuZ0xhdChvLmxuZysxODAqJG8sby5sYXQpLGw9dC5wcm9qZWN0KGEubG5nLGEubGF0KSxjPXQucHJvamVjdChzLmxuZyxzLmxhdCksaD0tTWF0aC5hdGFuMihjLnktbC55LGMueC1sLngpLF89ZS5NZXJjYXRvckNvb3JkaW5hdGUuZnJvbUxuZ0xhdChvKTtfLnk9ZS5jbGFtcChfLnksLS45OTk5NzUsLjk5OTk3NSk7Y29uc3QgdT1fLnRvTG5nTGF0KCksZD10LnByb2plY3QodS5sbmcsdS5sYXQpLHA9ZS5NZXJjYXRvckNvb3JkaW5hdGUuZnJvbUxuZ0xhdCh1KTtwLngrPSRvO2NvbnN0IG09cC50b0xuZ0xhdCgpLGY9dC5wcm9qZWN0KG0ubG5nLG0ubGF0KSxnPVlvKGYueC1kLngsZi55LWQueSxoKSx2PWUuTWVyY2F0b3JDb29yZGluYXRlLmZyb21MbmdMYXQodSk7di55Kz0kbztjb25zdCB4PXYudG9MbmdMYXQoKSx5PXQucHJvamVjdCh4LmxuZyx4LmxhdCksYj1Zbyh5LngtZC54LHkueS1kLnksaCksdz1NYXRoLmFicyhnLngpL01hdGguYWJzKGIueSksVD1lLmlkZW50aXR5KFtdKTtlLnJvdGF0ZVooVCxULC1oKigxLShuPzA6cikpKTtjb25zdCBFPWUuaWRlbnRpdHkoW10pO3JldHVybiBlLnNjYWxlKEUsRSxbMSwxLSgxLXcpKnIsMV0pLEVbNF09LWIueC9iLnkqcixlLnJvdGF0ZVooRSxFLGgpLGUubXVsdGlwbHkoRSxULEUpLEV9KHQucHJvamVjdGlvbiwwLHQuY2VudGVyLG8saSksbj1Ybyh0KTtyZXR1cm4gZS5zY2FsZShyLHIsW24sbiwxXSkscn1mdW5jdGlvbiBYbyh0KXtjb25zdCBpPXQucHJvamVjdGlvbixvPXFvKHQucHJvamVjdGlvbix0Lnpvb20sdC53aWR0aCx0LmhlaWdodCkscj1IbyhpLHQuY2VudGVyKSxuPUhvKGksZS5MbmdMYXQuY29udmVydChpLmNlbnRlcikpO3JldHVybiBNYXRoLnBvdygyLHIqbysoMS1vKSpuKX1mdW5jdGlvbiBxbyh0LGksbyxyLG49MS8wKXtjb25zdCBhPXQucmFuZ2U7aWYoIWEpcmV0dXJuIDA7Y29uc3Qgcz1NYXRoLm1pbihuLE1hdGgubWF4KG8scikpLGw9TWF0aC5sb2cocy8xMDI0KS9NYXRoLkxOMjtyZXR1cm4gZS5zbW9vdGhzdGVwKGFbMF0rbCxhWzFdK2wsaSl9Y29uc3QgJG89MS80ZTQ7ZnVuY3Rpb24gSG8odCxpKXtjb25zdCBvPWUuY2xhbXAoaS5sYXQsLWUuTUFYX01FUkNBVE9SX0xBVElUVURFLGUuTUFYX01FUkNBVE9SX0xBVElUVURFKSxyPW5ldyBlLkxuZ0xhdChpLmxuZy0xODAqJG8sbyksbj1uZXcgZS5MbmdMYXQoaS5sbmcrMTgwKiRvLG8pLGE9dC5wcm9qZWN0KHIubG5nLG8pLHM9dC5wcm9qZWN0KG4ubG5nLG8pLGw9ZS5NZXJjYXRvckNvb3JkaW5hdGUuZnJvbUxuZ0xhdChyKSxjPWUuTWVyY2F0b3JDb29yZGluYXRlLmZyb21MbmdMYXQobiksaD1zLngtYS54LF89cy55LWEueSx1PWMueC1sLngsZD1jLnktbC55LHA9TWF0aC5zcXJ0KCh1KnUrZCpkKS8oaCpoK18qXykpO3JldHVybiBNYXRoLmxvZyhwKS9NYXRoLkxOMn1mdW5jdGlvbiBZbyhlLHQsaSl7Y29uc3Qgbz1NYXRoLmNvcyhpKSxyPU1hdGguc2luKGkpO3JldHVybiB7eDplKm8tdCpyLHk6ZSpyK3Qqb319Y2xhc3MgS297Y29uc3RydWN0b3IodCxpLG8scixuLGEscyl7dGhpcy50aWxlU2l6ZT01MTIsdGhpcy5fcmVuZGVyV29ybGRDb3BpZXM9dm9pZCAwPT09bnx8bix0aGlzLl9taW5ab29tPXR8fDAsdGhpcy5fbWF4Wm9vbT1pfHwyMix0aGlzLl9taW5QaXRjaD1udWxsPT1vPzA6byx0aGlzLl9tYXhQaXRjaD1udWxsPT1yPzYwOnIsdGhpcy5zZXRQcm9qZWN0aW9uKGEpLHRoaXMuc2V0TWF4Qm91bmRzKHMpLHRoaXMud2lkdGg9MCx0aGlzLmhlaWdodD0wLHRoaXMuX2NlbnRlcj1uZXcgZS5MbmdMYXQoMCwwKSx0aGlzLnpvb209MCx0aGlzLmFuZ2xlPTAsdGhpcy5fZm92PS42NDM1MDExMDg3OTMyODQ0LHRoaXMuX3BpdGNoPTAsdGhpcy5fbmVhclo9MCx0aGlzLl9mYXJaPTAsdGhpcy5fdW5tb2RpZmllZD0hMCx0aGlzLl9lZGdlSW5zZXRzPW5ldyBVbyx0aGlzLl9wcm9qTWF0cml4Q2FjaGU9e30sdGhpcy5fYWxpZ25lZFByb2pNYXRyaXhDYWNoZT17fSx0aGlzLl9mb2dUaWxlTWF0cml4Q2FjaGU9e30sdGhpcy5fZGlzdGFuY2VUaWxlRGF0YUNhY2hlPXt9LHRoaXMuX2NhbWVyYT1uZXcgVm8sdGhpcy5fY2VudGVyQWx0aXR1ZGU9MCx0aGlzLl9hdmVyYWdlRWxldmF0aW9uPTAsdGhpcy5jYW1lcmFFbGV2YXRpb25SZWZlcmVuY2U9XCJncm91bmRcIix0aGlzLl9waXhlbHNQZXJNZXJjYXRvclBpeGVsPTEsdGhpcy5nbG9iZVJhZGl1cz0wLHRoaXMuZ2xvYmVDZW50ZXJJblZpZXdTcGFjZT1bMCwwLDBdLHRoaXMuX2hvcml6b25TaGlmdD0uMTt9Y2xvbmUoKXtjb25zdCBlPW5ldyBLbyh0aGlzLl9taW5ab29tLHRoaXMuX21heFpvb20sdGhpcy5fbWluUGl0Y2gsdGhpcy5tYXhQaXRjaCx0aGlzLl9yZW5kZXJXb3JsZENvcGllcyx0aGlzLmdldFByb2plY3Rpb24oKSk7cmV0dXJuIGUuX2VsZXZhdGlvbj10aGlzLl9lbGV2YXRpb24sZS5fY2VudGVyQWx0aXR1ZGU9dGhpcy5fY2VudGVyQWx0aXR1ZGUsZS5fY2VudGVyQWx0aXR1ZGVWYWxpZEZvckV4YWdnZXJhdGlvbj10aGlzLl9jZW50ZXJBbHRpdHVkZVZhbGlkRm9yRXhhZ2dlcmF0aW9uLGUudGlsZVNpemU9dGhpcy50aWxlU2l6ZSxlLm1lcmNhdG9yRnJvbVRyYW5zaXRpb249dGhpcy5tZXJjYXRvckZyb21UcmFuc2l0aW9uLGUud2lkdGg9dGhpcy53aWR0aCxlLmhlaWdodD10aGlzLmhlaWdodCxlLmNhbWVyYUVsZXZhdGlvblJlZmVyZW5jZT10aGlzLmNhbWVyYUVsZXZhdGlvblJlZmVyZW5jZSxlLl9jZW50ZXI9dGhpcy5fY2VudGVyLGUuX3NldFpvb20odGhpcy56b29tKSxlLl9zZWFMZXZlbFpvb209dGhpcy5fc2VhTGV2ZWxab29tLGUuYW5nbGU9dGhpcy5hbmdsZSxlLl9mb3Y9dGhpcy5fZm92LGUuX3BpdGNoPXRoaXMuX3BpdGNoLGUuX25lYXJaPXRoaXMuX25lYXJaLGUuX2Zhclo9dGhpcy5fZmFyWixlLl9hdmVyYWdlRWxldmF0aW9uPXRoaXMuX2F2ZXJhZ2VFbGV2YXRpb24sZS5fdW5tb2RpZmllZD10aGlzLl91bm1vZGlmaWVkLGUuX2VkZ2VJbnNldHM9dGhpcy5fZWRnZUluc2V0cy5jbG9uZSgpLGUuX2NhbWVyYT10aGlzLl9jYW1lcmEuY2xvbmUoKSxlLl9jYWxjTWF0cmljZXMoKSxlLmZyZWV6ZVRpbGVDb3ZlcmFnZT10aGlzLmZyZWV6ZVRpbGVDb3ZlcmFnZSxlLmZydXN0dW1Db3JuZXJzPXRoaXMuZnJ1c3R1bUNvcm5lcnMsZX1nZXQgZWxldmF0aW9uKCl7cmV0dXJuIHRoaXMuX2VsZXZhdGlvbn1zZXQgZWxldmF0aW9uKGUpe3RoaXMuX2VsZXZhdGlvbiE9PWUmJih0aGlzLl9lbGV2YXRpb249ZSx0aGlzLl91cGRhdGVDYW1lcmFPblRlcnJhaW4oKSx0aGlzLl9jYWxjTWF0cmljZXMoKSk7fXVwZGF0ZUVsZXZhdGlvbihlKXtjb25zdCB0PXRoaXMuX2VsZXZhdGlvbiYmdGhpcy5fZWxldmF0aW9uLmV4YWdnZXJhdGlvbigpIT09dGhpcy5fY2VudGVyQWx0aXR1ZGVWYWxpZEZvckV4YWdnZXJhdGlvbjsobnVsbD09dGhpcy5fc2VhTGV2ZWxab29tfHx0KSYmdGhpcy5fdXBkYXRlQ2FtZXJhT25UZXJyYWluKCksKGV8fHQpJiZ0aGlzLl9jb25zdHJhaW5DYW1lcmFBbHRpdHVkZSgpLHRoaXMuX2NhbGNNYXRyaWNlcygpO31nZXRQcm9qZWN0aW9uKCl7cmV0dXJuIGUucGljayh0aGlzLnByb2plY3Rpb24sW1wibmFtZVwiLFwiY2VudGVyXCIsXCJwYXJhbGxlbHNcIl0pfXNldFByb2plY3Rpb24oaSl7dGhpcy5wcm9qZWN0aW9uT3B0aW9ucz1pfHx7bmFtZTpcIm1lcmNhdG9yXCJ9O2NvbnN0IG89dGhpcy5wcm9qZWN0aW9uP3RoaXMuZ2V0UHJvamVjdGlvbigpOnZvaWQgMDt0aGlzLnByb2plY3Rpb249ZS5nZXRQcm9qZWN0aW9uKHRoaXMucHJvamVjdGlvbk9wdGlvbnMpO2NvbnN0IHI9IXQobyx0aGlzLmdldFByb2plY3Rpb24oKSk7cmV0dXJuIHImJnRoaXMuX2NhbGNNYXRyaWNlcygpLHRoaXMubWVyY2F0b3JGcm9tVHJhbnNpdGlvbj0hMSxyfXNldE1lcmNhdG9yRnJvbVRyYW5zaXRpb24oKXtjb25zdCB0PXRoaXMucHJvamVjdGlvbi5uYW1lO3RoaXMubWVyY2F0b3JGcm9tVHJhbnNpdGlvbj0hMCx0aGlzLnByb2plY3Rpb25PcHRpb25zPXtuYW1lOlwibWVyY2F0b3JcIn0sdGhpcy5wcm9qZWN0aW9uPWUuZ2V0UHJvamVjdGlvbih7bmFtZTpcIm1lcmNhdG9yXCJ9KTtjb25zdCBpPXQhPT10aGlzLnByb2plY3Rpb24ubmFtZTtyZXR1cm4gaSYmdGhpcy5fY2FsY01hdHJpY2VzKCksaX1nZXQgbWluWm9vbSgpe3JldHVybiB0aGlzLl9taW5ab29tfXNldCBtaW5ab29tKGUpe3RoaXMuX21pblpvb20hPT1lJiYodGhpcy5fbWluWm9vbT1lLHRoaXMuem9vbT1NYXRoLm1heCh0aGlzLnpvb20sZSkpO31nZXQgbWF4Wm9vbSgpe3JldHVybiB0aGlzLl9tYXhab29tfXNldCBtYXhab29tKGUpe3RoaXMuX21heFpvb20hPT1lJiYodGhpcy5fbWF4Wm9vbT1lLHRoaXMuem9vbT1NYXRoLm1pbih0aGlzLnpvb20sZSkpO31nZXQgbWluUGl0Y2goKXtyZXR1cm4gdGhpcy5fbWluUGl0Y2h9c2V0IG1pblBpdGNoKGUpe3RoaXMuX21pblBpdGNoIT09ZSYmKHRoaXMuX21pblBpdGNoPWUsdGhpcy5waXRjaD1NYXRoLm1heCh0aGlzLnBpdGNoLGUpKTt9Z2V0IG1heFBpdGNoKCl7cmV0dXJuIHRoaXMuX21heFBpdGNofXNldCBtYXhQaXRjaChlKXt0aGlzLl9tYXhQaXRjaCE9PWUmJih0aGlzLl9tYXhQaXRjaD1lLHRoaXMucGl0Y2g9TWF0aC5taW4odGhpcy5waXRjaCxlKSk7fWdldCByZW5kZXJXb3JsZENvcGllcygpe3JldHVybiB0aGlzLl9yZW5kZXJXb3JsZENvcGllcyYmITA9PT10aGlzLnByb2plY3Rpb24uc3VwcG9ydHNXb3JsZENvcGllc31zZXQgcmVuZGVyV29ybGRDb3BpZXMoZSl7dm9pZCAwPT09ZT9lPSEwOm51bGw9PT1lJiYoZT0hMSksdGhpcy5fcmVuZGVyV29ybGRDb3BpZXM9ZTt9Z2V0IHdvcmxkU2l6ZSgpe3JldHVybiB0aGlzLnRpbGVTaXplKnRoaXMuc2NhbGV9Z2V0IGNhbWVyYVdvcmxkU2l6ZSgpe2NvbnN0IGU9TWF0aC5tYXgodGhpcy5fY2FtZXJhLmdldERpc3RhbmNlVG9FbGV2YXRpb24odGhpcy5fYXZlcmFnZUVsZXZhdGlvbiksTnVtYmVyLkVQU0lMT04pO3JldHVybiB0aGlzLl93b3JsZFNpemVGcm9tWm9vbSh0aGlzLl96b29tRnJvbU1lcmNhdG9yWihlKSl9Z2V0IHBpeGVsc1Blck1ldGVyKCl7cmV0dXJuIHRoaXMucHJvamVjdGlvbi5waXhlbHNQZXJNZXRlcih0aGlzLmNlbnRlci5sYXQsdGhpcy53b3JsZFNpemUpfWdldCBjYW1lcmFQaXhlbHNQZXJNZXRlcigpe3JldHVybiBlLm1lcmNhdG9yWmZyb21BbHRpdHVkZSh0aGlzLmNlbnRlci5sYXQsdGhpcy5jYW1lcmFXb3JsZFNpemUpfWdldCBjZW50ZXJPZmZzZXQoKXtyZXR1cm4gdGhpcy5jZW50ZXJQb2ludC5fc3ViKHRoaXMuc2l6ZS5fZGl2KDIpKX1nZXQgc2l6ZSgpe3JldHVybiBuZXcgZS5wb2ludEdlb21ldHJ5KHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpfWdldCBiZWFyaW5nKCl7cmV0dXJuIGUud3JhcCh0aGlzLnJvdGF0aW9uLC0xODAsMTgwKX1zZXQgYmVhcmluZyhlKXt0aGlzLnJvdGF0aW9uPWU7fWdldCByb3RhdGlvbigpe3JldHVybiAtdGhpcy5hbmdsZS9NYXRoLlBJKjE4MH1zZXQgcm90YXRpb24odCl7Y29uc3QgaT0tdCpNYXRoLlBJLzE4MDt2YXIgbzt0aGlzLmFuZ2xlIT09aSYmKHRoaXMuX3VubW9kaWZpZWQ9ITEsdGhpcy5hbmdsZT1pLHRoaXMuX2NhbGNNYXRyaWNlcygpLHRoaXMucm90YXRpb25NYXRyaXg9KG89bmV3IGUuQVJSQVlfVFlQRSg0KSxlLkFSUkFZX1RZUEUhPUZsb2F0MzJBcnJheSYmKG9bMV09MCxvWzJdPTApLG9bMF09MSxvWzNdPTEsbyksZnVuY3Rpb24oZSx0LGkpe3ZhciBvPXRbMF0scj10WzFdLG49dFsyXSxhPXRbM10scz1NYXRoLnNpbihpKSxsPU1hdGguY29zKGkpO2VbMF09bypsK24qcyxlWzFdPXIqbCthKnMsZVsyXT1vKi1zK24qbCxlWzNdPXIqLXMrYSpsO30odGhpcy5yb3RhdGlvbk1hdHJpeCx0aGlzLnJvdGF0aW9uTWF0cml4LHRoaXMuYW5nbGUpKTt9Z2V0IHBpdGNoKCl7cmV0dXJuIHRoaXMuX3BpdGNoL01hdGguUEkqMTgwfXNldCBwaXRjaCh0KXtjb25zdCBpPWUuY2xhbXAodCx0aGlzLm1pblBpdGNoLHRoaXMubWF4UGl0Y2gpLzE4MCpNYXRoLlBJO3RoaXMuX3BpdGNoIT09aSYmKHRoaXMuX3VubW9kaWZpZWQ9ITEsdGhpcy5fcGl0Y2g9aSx0aGlzLl9jYWxjTWF0cmljZXMoKSk7fWdldCBhc3BlY3QoKXtyZXR1cm4gdGhpcy53aWR0aC90aGlzLmhlaWdodH1nZXQgZm92WCgpe3JldHVybiB0aGlzLl9mb3Z9Z2V0IGZvdlkoKXtjb25zdCBlPTEvTWF0aC50YW4oLjUqdGhpcy5mb3ZYKTtyZXR1cm4gMipNYXRoLmF0YW4oMS90aGlzLmFzcGVjdC9lKX1zZXQgZm92KHQpe3Q9TWF0aC5tYXgoLjAxLE1hdGgubWluKDYwLHQpKSx0aGlzLl9mb3YhPT10JiYodGhpcy5fdW5tb2RpZmllZD0hMSx0aGlzLl9mb3Y9ZS5kZWdUb1JhZCh0KSx0aGlzLl9jYWxjTWF0cmljZXMoKSk7fWdldCBhdmVyYWdlRWxldmF0aW9uKCl7cmV0dXJuIHRoaXMuX2F2ZXJhZ2VFbGV2YXRpb259c2V0IGF2ZXJhZ2VFbGV2YXRpb24oZSl7dGhpcy5fYXZlcmFnZUVsZXZhdGlvbj1lLHRoaXMuX2NhbGNGb2dNYXRyaWNlcygpLHRoaXMuX2Rpc3RhbmNlVGlsZURhdGFDYWNoZT17fTt9Z2V0IHpvb20oKXtyZXR1cm4gdGhpcy5fem9vbX1zZXQgem9vbShlKXtjb25zdCB0PU1hdGgubWluKE1hdGgubWF4KGUsdGhpcy5taW5ab29tKSx0aGlzLm1heFpvb20pO3RoaXMuX3pvb20hPT10JiYodGhpcy5fdW5tb2RpZmllZD0hMSx0aGlzLl9zZXRab29tKHQpLHRoaXMuX3VwZGF0ZVNlYUxldmVsWm9vbSgpLHRoaXMuX2NvbnN0cmFpbigpLHRoaXMuX2NhbGNNYXRyaWNlcygpKTt9X3NldFpvb20oZSl7dGhpcy5fem9vbT1lLHRoaXMuc2NhbGU9dGhpcy56b29tU2NhbGUoZSksdGhpcy50aWxlWm9vbT1NYXRoLmZsb29yKGUpLHRoaXMuem9vbUZyYWN0aW9uPWUtdGhpcy50aWxlWm9vbTt9X3VwZGF0ZUNhbWVyYU9uVGVycmFpbigpe2lmKCF0aGlzLl9lbGV2YXRpb258fCF0aGlzLl9lbGV2YXRpb24uaXNEYXRhQXZhaWxhYmxlQXRQb2ludCh0aGlzLmxvY2F0aW9uQ29vcmRpbmF0ZSh0aGlzLmNlbnRlcikpKXJldHVybiB0aGlzLl9jZW50ZXJBbHRpdHVkZT0wLHRoaXMuX3NlYUxldmVsWm9vbT1udWxsLHZvaWQodGhpcy5fY2VudGVyQWx0aXR1ZGVWYWxpZEZvckV4YWdnZXJhdGlvbj12b2lkIDApO2NvbnN0IGU9dGhpcy5fZWxldmF0aW9uO3RoaXMuX2NlbnRlckFsdGl0dWRlPWUuZ2V0QXRQb2ludE9yWmVybyh0aGlzLmxvY2F0aW9uQ29vcmRpbmF0ZSh0aGlzLmNlbnRlcikpLHRoaXMuX2NlbnRlckFsdGl0dWRlVmFsaWRGb3JFeGFnZ2VyYXRpb249ZS5leGFnZ2VyYXRpb24oKSx0aGlzLl91cGRhdGVTZWFMZXZlbFpvb20oKTt9X3VwZGF0ZVNlYUxldmVsWm9vbSgpe3ZvaWQgMCE9PXRoaXMuX2NlbnRlckFsdGl0dWRlVmFsaWRGb3JFeGFnZ2VyYXRpb24mJih0aGlzLl9zZWFMZXZlbFpvb209dGhpcy5fem9vbUZyb21NZXJjYXRvclooKHRoaXMucGl4ZWxzUGVyTWV0ZXIqdGhpcy5fY2VudGVyQWx0aXR1ZGUrdGhpcy5jYW1lcmFUb0NlbnRlckRpc3RhbmNlKS90aGlzLndvcmxkU2l6ZSkpO31zYW1wbGVBdmVyYWdlRWxldmF0aW9uKCl7aWYoIXRoaXMuX2VsZXZhdGlvbilyZXR1cm4gMDtjb25zdCB0PXRoaXMuX2VsZXZhdGlvbixpPVtbLjUsLjJdLFsuMywuNV0sWy41LC41XSxbLjcsLjVdLFsuNSwuOF1dLG89dGhpcy5ob3Jpem9uTGluZUZyb21Ub3AoKTtsZXQgcj0wLG49MDtmb3IobGV0IGE9MDthPGkubGVuZ3RoO2ErKyl7Y29uc3Qgcz1uZXcgZS5wb2ludEdlb21ldHJ5KGlbYV1bMF0qdGhpcy53aWR0aCxvK2lbYV1bMV0qKHRoaXMuaGVpZ2h0LW8pKSxsPXQucG9pbnRDb29yZGluYXRlKHMpO2lmKCFsKWNvbnRpbnVlO2NvbnN0IGM9MS9NYXRoLmh5cG90KGxbMF0tdGhpcy5fY2FtZXJhLnBvc2l0aW9uWzBdLGxbMV0tdGhpcy5fY2FtZXJhLnBvc2l0aW9uWzFdKTtyKz1sWzNdKmMsbis9Yzt9cmV0dXJuIDA9PT1uP05hTjpyL259Z2V0IGNlbnRlcigpe3JldHVybiB0aGlzLl9jZW50ZXJ9c2V0IGNlbnRlcihlKXtlLmxhdD09PXRoaXMuX2NlbnRlci5sYXQmJmUubG5nPT09dGhpcy5fY2VudGVyLmxuZ3x8KHRoaXMuX3VubW9kaWZpZWQ9ITEsdGhpcy5fY2VudGVyPWUsdGhpcy5fdGVycmFpbkVuYWJsZWQoKSYmKFwiZ3JvdW5kXCI9PT10aGlzLmNhbWVyYUVsZXZhdGlvblJlZmVyZW5jZT90aGlzLl91cGRhdGVDYW1lcmFPblRlcnJhaW4oKTp0aGlzLl91cGRhdGVab29tRnJvbUVsZXZhdGlvbigpKSx0aGlzLl9jb25zdHJhaW4oKSx0aGlzLl9jYWxjTWF0cmljZXMoKSk7fV91cGRhdGVab29tRnJvbUVsZXZhdGlvbigpe2lmKG51bGw9PXRoaXMuX3NlYUxldmVsWm9vbXx8IXRoaXMuX2VsZXZhdGlvbilyZXR1cm47Y29uc3QgZT10aGlzLl9zZWFMZXZlbFpvb20sdD10aGlzLl9lbGV2YXRpb24uZ2V0QXRQb2ludE9yWmVybyh0aGlzLmxvY2F0aW9uQ29vcmRpbmF0ZSh0aGlzLmNlbnRlcikpLGk9dGhpcy5waXhlbHNQZXJNZXRlci90aGlzLndvcmxkU2l6ZSp0LG89dGhpcy5fbWVyY2F0b3JaZnJvbVpvb20oZSkscj10aGlzLl9tZXJjYXRvclpmcm9tWm9vbSh0aGlzLl9tYXhab29tKSxuPU1hdGgubWF4KG8taSxyKTt0aGlzLl9zZXRab29tKHRoaXMuX3pvb21Gcm9tTWVyY2F0b3JaKG4pKTt9Z2V0IHBhZGRpbmcoKXtyZXR1cm4gdGhpcy5fZWRnZUluc2V0cy50b0pTT04oKX1zZXQgcGFkZGluZyhlKXt0aGlzLl9lZGdlSW5zZXRzLmVxdWFscyhlKXx8KHRoaXMuX3VubW9kaWZpZWQ9ITEsdGhpcy5fZWRnZUluc2V0cy5pbnRlcnBvbGF0ZSh0aGlzLl9lZGdlSW5zZXRzLGUsMSksdGhpcy5fY2FsY01hdHJpY2VzKCkpO31jb21wdXRlWm9vbVJlbGF0aXZlVG8odCl7Y29uc3QgaT10aGlzLnJheUludGVyc2VjdGlvbkNvb3JkaW5hdGUodGhpcy5wb2ludFJheUludGVyc2VjdGlvbih0aGlzLmNlbnRlclBvaW50LHQudG9BbHRpdHVkZSgpKSk7bGV0IG87bz10Lno8dGhpcy5fY2FtZXJhLnBvc2l0aW9uWzJdP1tpLngsaS55LGkuel06W3QueCx0LnksdC56XTtjb25zdCByPWUubGVuZ3RoKGUuc3ViKFtdLHRoaXMuX2NhbWVyYS5wb3NpdGlvbixvKSk7cmV0dXJuIGUuY2xhbXAodGhpcy5fem9vbUZyb21NZXJjYXRvcloociksdGhpcy5fbWluWm9vbSx0aGlzLl9tYXhab29tKX1zZXRGcmVlQ2FtZXJhT3B0aW9ucyh0KXtpZighdGhpcy5oZWlnaHQpcmV0dXJuO2lmKCF0LnBvc2l0aW9uJiYhdC5vcmllbnRhdGlvbilyZXR1cm47dGhpcy5fdXBkYXRlQ2FtZXJhU3RhdGUoKTtsZXQgaT0hMTtpZih0Lm9yaWVudGF0aW9uJiYhZS5leGFjdEVxdWFscyh0Lm9yaWVudGF0aW9uLHRoaXMuX2NhbWVyYS5vcmllbnRhdGlvbikmJihpPXRoaXMuX3NldENhbWVyYU9yaWVudGF0aW9uKHQub3JpZW50YXRpb24pKSx0LnBvc2l0aW9uKXtjb25zdCBvPVt0LnBvc2l0aW9uLngsdC5wb3NpdGlvbi55LHQucG9zaXRpb24uel07ZS5leGFjdEVxdWFscyQxKG8sdGhpcy5fY2FtZXJhLnBvc2l0aW9uKXx8KHRoaXMuX3NldENhbWVyYVBvc2l0aW9uKG8pLGk9ITApO31pJiYodGhpcy5fdXBkYXRlU3RhdGVGcm9tQ2FtZXJhKCksdGhpcy5yZWNlbnRlck9uVGVycmFpbigpKTt9Z2V0RnJlZUNhbWVyYU9wdGlvbnMoKXt0aGlzLl91cGRhdGVDYW1lcmFTdGF0ZSgpO2NvbnN0IHQ9dGhpcy5fY2FtZXJhLnBvc2l0aW9uLGk9bmV3IFpvO3JldHVybiBpLnBvc2l0aW9uPW5ldyBlLk1lcmNhdG9yQ29vcmRpbmF0ZSh0WzBdLHRbMV0sdFsyXSksaS5vcmllbnRhdGlvbj10aGlzLl9jYW1lcmEub3JpZW50YXRpb24saS5fZWxldmF0aW9uPXRoaXMuZWxldmF0aW9uLGkuX3JlbmRlcldvcmxkQ29waWVzPXRoaXMucmVuZGVyV29ybGRDb3BpZXMsaX1fc2V0Q2FtZXJhT3JpZW50YXRpb24odCl7aWYoIWUubGVuZ3RoJDEodCkpcmV0dXJuICExO2Uubm9ybWFsaXplJDEodCx0KTtjb25zdCBpPWUudHJhbnNmb3JtUXVhdChbXSxbMCwwLC0xXSx0KSxvPWUudHJhbnNmb3JtUXVhdChbXSxbMCwtMSwwXSx0KTtpZihvWzJdPDApcmV0dXJuICExO2NvbnN0IHI9am8oaSxvKTtyZXR1cm4gISFyJiYodGhpcy5fY2FtZXJhLm9yaWVudGF0aW9uPXIsITApfV9zZXRDYW1lcmFQb3NpdGlvbih0KXtjb25zdCBpPXRoaXMuem9vbVNjYWxlKHRoaXMubWluWm9vbSkqdGhpcy50aWxlU2l6ZSxvPXRoaXMuem9vbVNjYWxlKHRoaXMubWF4Wm9vbSkqdGhpcy50aWxlU2l6ZSxyPXRoaXMuY2FtZXJhVG9DZW50ZXJEaXN0YW5jZTt0WzJdPWUuY2xhbXAodFsyXSxyL28sci9pKSx0aGlzLl9jYW1lcmEucG9zaXRpb249dDt9Z2V0IGNlbnRlclBvaW50KCl7cmV0dXJuIHRoaXMuX2VkZ2VJbnNldHMuZ2V0Q2VudGVyKHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpfWdldCBmb3ZBYm92ZUNlbnRlcigpe3JldHVybiB0aGlzLl9mb3YqKC41K3RoaXMuY2VudGVyT2Zmc2V0LnkvdGhpcy5oZWlnaHQpfWlzUGFkZGluZ0VxdWFsKGUpe3JldHVybiB0aGlzLl9lZGdlSW5zZXRzLmVxdWFscyhlKX1pbnRlcnBvbGF0ZVBhZGRpbmcoZSx0LGkpe3RoaXMuX3VubW9kaWZpZWQ9ITEsdGhpcy5fZWRnZUluc2V0cy5pbnRlcnBvbGF0ZShlLHQsaSksdGhpcy5fY29uc3RyYWluKCksdGhpcy5fY2FsY01hdHJpY2VzKCk7fWNvdmVyaW5nWm9vbUxldmVsKGUpe2NvbnN0IHQ9KGUucm91bmRab29tP01hdGgucm91bmQ6TWF0aC5mbG9vcikodGhpcy56b29tK3RoaXMuc2NhbGVab29tKHRoaXMudGlsZVNpemUvZS50aWxlU2l6ZSkpO3JldHVybiBNYXRoLm1heCgwLHQpfWdldFZpc2libGVVbndyYXBwZWRDb29yZGluYXRlcyh0KXtjb25zdCBpPVtuZXcgZS5VbndyYXBwZWRUaWxlSUQoMCx0KV07aWYodGhpcy5yZW5kZXJXb3JsZENvcGllcyl7Y29uc3Qgbz10aGlzLnBvaW50Q29vcmRpbmF0ZShuZXcgZS5wb2ludEdlb21ldHJ5KDAsMCkpLHI9dGhpcy5wb2ludENvb3JkaW5hdGUobmV3IGUucG9pbnRHZW9tZXRyeSh0aGlzLndpZHRoLDApKSxuPXRoaXMucG9pbnRDb29yZGluYXRlKG5ldyBlLnBvaW50R2VvbWV0cnkodGhpcy53aWR0aCx0aGlzLmhlaWdodCkpLGE9dGhpcy5wb2ludENvb3JkaW5hdGUobmV3IGUucG9pbnRHZW9tZXRyeSgwLHRoaXMuaGVpZ2h0KSkscz1NYXRoLmZsb29yKE1hdGgubWluKG8ueCxyLngsbi54LGEueCkpLGw9TWF0aC5mbG9vcihNYXRoLm1heChvLngsci54LG4ueCxhLngpKSxjPTE7Zm9yKGxldCBvPXMtYztvPD1sK2M7bysrKTAhPT1vJiZpLnB1c2gobmV3IGUuVW53cmFwcGVkVGlsZUlEKG8sdCkpO31yZXR1cm4gaX1jb3ZlcmluZ1RpbGVzKHQpe2xldCBpPXRoaXMuY292ZXJpbmdab29tTGV2ZWwodCk7Y29uc3Qgbz1pLHI9dGhpcy5lbGV2YXRpb24mJiF0LmlzVGVycmFpbkRFTSxuPVwibWVyY2F0b3JcIj09PXRoaXMucHJvamVjdGlvbi5uYW1lO2lmKHZvaWQgMCE9PXQubWluem9vbSYmaTx0Lm1pbnpvb20pcmV0dXJuIFtdO3ZvaWQgMCE9PXQubWF4em9vbSYmaT50Lm1heHpvb20mJihpPXQubWF4em9vbSk7Y29uc3QgYT10aGlzLmxvY2F0aW9uQ29vcmRpbmF0ZSh0aGlzLmNlbnRlcikscz10aGlzLmNlbnRlci5sYXQsbD0xPDxpLGM9W2wqYS54LGwqYS55LDBdLGg9XCJnbG9iZVwiPT09dGhpcy5wcm9qZWN0aW9uLm5hbWUsXz0haCx1PWUuRnJ1c3R1bS5mcm9tSW52UHJvamVjdGlvbk1hdHJpeCh0aGlzLmludlByb2pNYXRyaXgsdGhpcy53b3JsZFNpemUsaSxfKSxkPWg/dGhpcy5fY2FtZXJhLm1lcmNhdG9yUG9zaXRpb246dGhpcy5wb2ludENvb3JkaW5hdGUodGhpcy5nZXRDYW1lcmFQb2ludCgpKSxwPWwqZS5tZXJjYXRvclpmcm9tQWx0aXR1ZGUoMSx0aGlzLmNlbnRlci5sYXQpLG09dGhpcy5fY2FtZXJhLnBvc2l0aW9uWzJdL2UubWVyY2F0b3JaZnJvbUFsdGl0dWRlKDEsdGhpcy5jZW50ZXIubGF0KSxmPVtsKmQueCxsKmQueSxtKihfPzE6cCldLGc9dGhpcy5jYW1lcmFUb0NlbnRlckRpc3RhbmNlL3QudGlsZVNpemUqKHQucm91bmRab29tPzE6LjUwMiksdj10aGlzLnBpdGNoPD02MCYmdGhpcy5fZWRnZUluc2V0cy50b3A8PXRoaXMuX2VkZ2VJbnNldHMuYm90dG9tJiYhdGhpcy5fZWxldmF0aW9uJiYhdGhpcy5wcm9qZWN0aW9uLmlzUmVwcm9qZWN0ZWRJblRpbGVTcGFjZT9pOjAseD10LmlzVGVycmFpbkRFTSYmdGhpcy5fZWxldmF0aW9uPzFlNCp0aGlzLl9lbGV2YXRpb24uZXhhZ2dlcmF0aW9uKCk6dGhpcy5fY2VudGVyQWx0aXR1ZGUseT10LmlzVGVycmFpbkRFTT8teDp0aGlzLl9lbGV2YXRpb24/dGhpcy5fZWxldmF0aW9uLmdldE1pbkVsZXZhdGlvbkJlbG93TVNMKCk6MCxiPXRoaXMucHJvamVjdGlvbi5pc1JlcHJvamVjdGVkSW5UaWxlU3BhY2U/WG8odGhpcyk6MSx3PXQ9Pntjb25zdCBpPTEvNGU0LG89bmV3IGUuTWVyY2F0b3JDb29yZGluYXRlKHQueCtpLHQueSx0LnopLHI9bmV3IGUuTWVyY2F0b3JDb29yZGluYXRlKHQueCx0LnkraSx0LnopLG49dC50b0xuZ0xhdCgpLGE9by50b0xuZ0xhdCgpLHM9ci50b0xuZ0xhdCgpLGw9dGhpcy5sb2NhdGlvbkNvb3JkaW5hdGUobiksYz10aGlzLmxvY2F0aW9uQ29vcmRpbmF0ZShhKSxoPXRoaXMubG9jYXRpb25Db29yZGluYXRlKHMpLF89TWF0aC5oeXBvdChjLngtbC54LGMueS1sLnkpLHU9TWF0aC5oeXBvdChoLngtbC54LGgueS1sLnkpO3JldHVybiBNYXRoLnNxcnQoXyp1KSpiL2l9LFQ9dD0+e2NvbnN0IGk9eCxvPXk7cmV0dXJuIHthYWJiOmUudGlsZUFBQkIodGhpcyxsLDAsMCwwLHQsbyxpLHRoaXMucHJvamVjdGlvbiksem9vbTowLHg6MCx5OjAsbWluWjpvLG1heFo6aSx3cmFwOnQsZnVsbHlWaXNpYmxlOiExfX0sRT1bXTtsZXQgQz1bXTtjb25zdCBJPWksTT10LnJlcGFyc2VPdmVyc2NhbGVkP286aSxTPWU9PmUqZSx6PVMoKG0tdGhpcy5fY2VudGVyQWx0aXR1ZGUpKnApLEQ9ZT0+e2lmKCF0aGlzLl9lbGV2YXRpb258fCFlLnRpbGVJRHx8IW4pcmV0dXJuO2NvbnN0IHQ9dGhpcy5fZWxldmF0aW9uLmdldE1pbk1heEZvclRpbGUoZS50aWxlSUQpLGk9ZS5hYWJiO3Q/KGkubWluWzJdPXQubWluLGkubWF4WzJdPXQubWF4LGkuY2VudGVyWzJdPShpLm1pblsyXStpLm1heFsyXSkvMik6KGUuc2hvdWxkU3BsaXQ9QShlKSxlLnNob3VsZFNwbGl0fHwoaS5taW5bMl09aS5tYXhbMl09aS5jZW50ZXJbMl09dGhpcy5fY2VudGVyQWx0aXR1ZGUpKTt9LEE9dD0+e2lmKHQuem9vbTx2KXJldHVybiAhMDtpZih0Lnpvb209PT1JKXJldHVybiAhMTtpZihudWxsIT10LnNob3VsZFNwbGl0KXJldHVybiB0LnNob3VsZFNwbGl0O2NvbnN0IGk9dC5hYWJiLmRpc3RhbmNlWChmKSxuPXQuYWFiYi5kaXN0YW5jZVkoZik7bGV0IGE9eixsPTE7aWYoaCl7YT1TKHQuYWFiYi5kaXN0YW5jZVooZikpO2NvbnN0IGk9TWF0aC5wb3coMix0Lnpvb20pLG89ZS5sYXRGcm9tTWVyY2F0b3JZKCh0LnkrMSkvaSkscj1lLmxhdEZyb21NZXJjYXRvclkodC55L2kpLG49TWF0aC5taW4oTWF0aC5tYXgocyxvKSxyKSxjPWUuY2lyY3VtZmVyZW5jZUF0TGF0aXR1ZGUobikvZS5jaXJjdW1mZXJlbmNlQXRMYXRpdHVkZShzKTtpZihsPW49PT1zPzEvTWF0aC5tYXgoMSx0aGlzLl9tZXJjYXRvclNjYWxlUmF0aW8tLjMpOk1hdGgubWluKDEsYy90aGlzLl9tZXJjYXRvclNjYWxlUmF0aW8pLHRoaXMuem9vbTw9ZS5HTE9CRV9aT09NX1RIUkVTSE9MRF9NSU4mJnQuem9vbT09PUktMSYmYz49LjkpcmV0dXJuICEwfWVsc2UgaWYociYmKGE9Uyh0LmFhYmIuZGlzdGFuY2VaKGYpKnApKSx0aGlzLnByb2plY3Rpb24uaXNSZXByb2plY3RlZEluVGlsZVNwYWNlJiZvPD01KXtjb25zdCBpPU1hdGgucG93KDIsdC56b29tKSxvPXcobmV3IGUuTWVyY2F0b3JDb29yZGluYXRlKCh0LngrLjUpL2ksKHQueSsuNSkvaSkpO2w9bz4uODU/MTpvO31jb25zdCBjPWkqaStuKm4rYSxfPVMoKDE8PEktdC56b29tKSpnKmwqKChlLHQpPT57aWYodCpTKC43MDcpPGUpcmV0dXJuIDE7Y29uc3QgaT1NYXRoLnNxcnQodC9lKTtyZXR1cm4gaS8oMS40MTQ0MjcxNTcwMDE0MTQ0KyhNYXRoLnBvdygxLjEsaS0xLjQxNDQyNzE1NzAwMTQxNDQrMSktMSkvKDEuMS0xKS0xKX0pKE1hdGgubWF4KGEseiksYykpO3JldHVybiBjPF99O2lmKHRoaXMucmVuZGVyV29ybGRDb3BpZXMpZm9yKGxldCBlPTE7ZTw9MztlKyspRS5wdXNoKFQoLWUpKSxFLnB1c2goVChlKSk7Zm9yKEUucHVzaChUKDApKTtFLmxlbmd0aD4wOyl7Y29uc3Qgbz1FLnBvcCgpLGE9by54LHM9by55O2xldCBfPW8uZnVsbHlWaXNpYmxlO2lmKCFfKXtjb25zdCBlPW8uYWFiYi5pbnRlcnNlY3RzKHUpO2lmKDA9PT1lKWNvbnRpbnVlO189Mj09PWU7fWlmKG8uem9vbSE9PUkmJkEobykpZm9yKGxldCB0PTA7dDw0O3QrKyl7Y29uc3QgaT0oYTw8MSkrdCUyLGM9KHM8PDEpKyh0Pj4xKSx1PXthYWJiOm4/by5hYWJiLnF1YWRyYW50KHQpOmUudGlsZUFBQkIodGhpcyxsLG8uem9vbSsxLGksYyxvLndyYXAsby5taW5aLG8ubWF4Wix0aGlzLnByb2plY3Rpb24pLHpvb206by56b29tKzEseDppLHk6Yyx3cmFwOm8ud3JhcCxmdWxseVZpc2libGU6Xyx0aWxlSUQ6dm9pZCAwLHNob3VsZFNwbGl0OnZvaWQgMCxtaW5aOm8ubWluWixtYXhaOm8ubWF4Wn07ciYmIWgmJih1LnRpbGVJRD1uZXcgZS5PdmVyc2NhbGVkVGlsZUlEKG8uem9vbSsxPT09ST9NOm8uem9vbSsxLG8ud3JhcCxvLnpvb20rMSxpLGMpLEQodSkpLEUucHVzaCh1KTt9ZWxzZSB7Y29uc3Qgcj1vLnpvb209PT1JP006by56b29tO2lmKHQubWluem9vbSYmdC5taW56b29tPnIpY29udGludWU7Y29uc3Qgbj1jWzBdLSguNSthKyhvLndyYXA8PG8uem9vbSkpKigxPDxpLW8uem9vbSksbD1jWzFdLS41LXMsaD1vLnRpbGVJRD9vLnRpbGVJRDpuZXcgZS5PdmVyc2NhbGVkVGlsZUlEKHIsby53cmFwLG8uem9vbSxhLHMpO0MucHVzaCh7dGlsZUlEOmgsZGlzdGFuY2VTcTpuKm4rbCpsfSk7fX1pZih0aGlzLmZvZ0N1bGxEaXN0U3Epe2NvbnN0IGk9dGhpcy5mb2dDdWxsRGlzdFNxLG89dGhpcy5ob3Jpem9uTGluZUZyb21Ub3AoKTtDPUMuZmlsdGVyKChyPT57Y29uc3Qgbj1bMCwwLDAsMV0sYT1bZS5FWFRFTlQsZS5FWFRFTlQsMCwxXSxzPXRoaXMuY2FsY3VsYXRlRm9nVGlsZU1hdHJpeChyLnRpbGVJRC50b1Vud3JhcHBlZCgpKTtlLnRyYW5zZm9ybU1hdDQkMShuLG4scyksZS50cmFuc2Zvcm1NYXQ0JDEoYSxhLHMpO2NvbnN0IGw9ZS5nZXRBQUJCUG9pbnRTcXVhcmVEaXN0KG4sYSk7aWYoMD09PWwpcmV0dXJuICEwO2xldCBjPSExO2NvbnN0IGg9dGhpcy5fZWxldmF0aW9uO2lmKGgmJmw+aSYmMCE9PW8pe2NvbnN0IGk9dGhpcy5jYWxjdWxhdGVQcm9qTWF0cml4KHIudGlsZUlELnRvVW53cmFwcGVkKCkpO2xldCBuO3QuaXNUZXJyYWluREVNfHwobj1oLmdldE1pbk1heEZvclRpbGUoci50aWxlSUQpKSxufHwobj17bWluOnksbWF4Onh9KTtjb25zdCBhPWUuZnVydGhlc3RUaWxlQ29ybmVyKHRoaXMucm90YXRpb24pLHM9W2FbMF0qZS5FWFRFTlQsYVsxXSplLkVYVEVOVCxuLm1heF07ZS50cmFuc2Zvcm1NYXQ0KHMscyxpKSxjPSgxLXNbMV0pKnRoaXMuaGVpZ2h0Ki41PG87fXJldHVybiBsPGl8fGN9KSk7fXJldHVybiBDLnNvcnQoKChlLHQpPT5lLmRpc3RhbmNlU3EtdC5kaXN0YW5jZVNxKSkubWFwKChlPT5lLnRpbGVJRCkpfXJlc2l6ZShlLHQpe3RoaXMud2lkdGg9ZSx0aGlzLmhlaWdodD10LHRoaXMucGl4ZWxzVG9HTFVuaXRzPVsyL2UsLTIvdF0sdGhpcy5fY29uc3RyYWluKCksdGhpcy5fY2FsY01hdHJpY2VzKCk7fWdldCB1bm1vZGlmaWVkKCl7cmV0dXJuIHRoaXMuX3VubW9kaWZpZWR9em9vbVNjYWxlKGUpe3JldHVybiBNYXRoLnBvdygyLGUpfXNjYWxlWm9vbShlKXtyZXR1cm4gTWF0aC5sb2coZSkvTWF0aC5MTjJ9cHJvamVjdCh0KXtjb25zdCBpPWUuY2xhbXAodC5sYXQsLWUuTUFYX01FUkNBVE9SX0xBVElUVURFLGUuTUFYX01FUkNBVE9SX0xBVElUVURFKSxvPXRoaXMucHJvamVjdGlvbi5wcm9qZWN0KHQubG5nLGkpO3JldHVybiBuZXcgZS5wb2ludEdlb21ldHJ5KG8ueCp0aGlzLndvcmxkU2l6ZSxvLnkqdGhpcy53b3JsZFNpemUpfXVucHJvamVjdChlKXtyZXR1cm4gdGhpcy5wcm9qZWN0aW9uLnVucHJvamVjdChlLngvdGhpcy53b3JsZFNpemUsZS55L3RoaXMud29ybGRTaXplKX1nZXQgcG9pbnQoKXtyZXR1cm4gdGhpcy5wcm9qZWN0KHRoaXMuY2VudGVyKX1zZXRMb2NhdGlvbkF0UG9pbnQodCxpKXtsZXQgbyxyO2NvbnN0IG49dGhpcy5jZW50ZXJQb2ludDtpZihcImdsb2JlXCI9PT10aGlzLnByb2plY3Rpb24ubmFtZSl7Y29uc3QgZT10aGlzLndvcmxkU2l6ZTtvPShpLngtbi54KS9lLHI9KGkueS1uLnkpL2U7fWVsc2Uge2NvbnN0IGU9dGhpcy5wb2ludENvb3JkaW5hdGUoaSksdD10aGlzLnBvaW50Q29vcmRpbmF0ZShuKTtvPWUueC10Lngscj1lLnktdC55O31jb25zdCBhPXRoaXMubG9jYXRpb25Db29yZGluYXRlKHQpO3RoaXMuc2V0TG9jYXRpb24obmV3IGUuTWVyY2F0b3JDb29yZGluYXRlKGEueC1vLGEueS1yKSk7fXNldExvY2F0aW9uKGUpe3RoaXMuY2VudGVyPXRoaXMuY29vcmRpbmF0ZUxvY2F0aW9uKGUpLHRoaXMucHJvamVjdGlvbi53cmFwJiYodGhpcy5jZW50ZXI9dGhpcy5jZW50ZXIud3JhcCgpKTt9bG9jYXRpb25Qb2ludChlKXtyZXR1cm4gdGhpcy5wcm9qZWN0aW9uLmxvY2F0aW9uUG9pbnQodGhpcyxlKX1sb2NhdGlvblBvaW50M0QoZSl7cmV0dXJuIHRoaXMucHJvamVjdGlvbi5sb2NhdGlvblBvaW50KHRoaXMsZSwhMCl9cG9pbnRMb2NhdGlvbihlKXtyZXR1cm4gdGhpcy5jb29yZGluYXRlTG9jYXRpb24odGhpcy5wb2ludENvb3JkaW5hdGUoZSkpfXBvaW50TG9jYXRpb24zRChlKXtyZXR1cm4gdGhpcy5jb29yZGluYXRlTG9jYXRpb24odGhpcy5wb2ludENvb3JkaW5hdGUzRChlKSl9bG9jYXRpb25Db29yZGluYXRlKHQsaSl7Y29uc3Qgbz1pP2UubWVyY2F0b3JaZnJvbUFsdGl0dWRlKGksdC5sYXQpOnZvaWQgMCxyPXRoaXMucHJvamVjdGlvbi5wcm9qZWN0KHQubG5nLHQubGF0KTtyZXR1cm4gbmV3IGUuTWVyY2F0b3JDb29yZGluYXRlKHIueCxyLnksbyl9Y29vcmRpbmF0ZUxvY2F0aW9uKGUpe3JldHVybiB0aGlzLnByb2plY3Rpb24udW5wcm9qZWN0KGUueCxlLnkpfXBvaW50UmF5SW50ZXJzZWN0aW9uKHQsaSl7Y29uc3Qgbz1udWxsIT1pP2k6dGhpcy5fY2VudGVyQWx0aXR1ZGUscj1bdC54LHQueSwwLDFdLG49W3QueCx0LnksMSwxXTtlLnRyYW5zZm9ybU1hdDQkMShyLHIsdGhpcy5waXhlbE1hdHJpeEludmVyc2UpLGUudHJhbnNmb3JtTWF0NCQxKG4sbix0aGlzLnBpeGVsTWF0cml4SW52ZXJzZSk7Y29uc3QgYT1uWzNdO2Uuc2NhbGUkMShyLHIsMS9yWzNdKSxlLnNjYWxlJDEobixuLDEvYSk7Y29uc3Qgcz1yWzJdLGw9blsyXTtyZXR1cm4ge3AwOnIscDE6bix0OnM9PT1sPzA6KG8tcykvKGwtcyl9fXNjcmVlblBvaW50VG9NZXJjYXRvclJheSh0KXtjb25zdCBpPVt0LngsdC55LDAsMV0sbz1bdC54LHQueSwxLDFdO3JldHVybiBlLnRyYW5zZm9ybU1hdDQkMShpLGksdGhpcy5waXhlbE1hdHJpeEludmVyc2UpLGUudHJhbnNmb3JtTWF0NCQxKG8sbyx0aGlzLnBpeGVsTWF0cml4SW52ZXJzZSksZS5zY2FsZSQxKGksaSwxL2lbM10pLGUuc2NhbGUkMShvLG8sMS9vWzNdKSxpWzJdPWUubWVyY2F0b3JaZnJvbUFsdGl0dWRlKGlbMl0sdGhpcy5fY2VudGVyLmxhdCkqdGhpcy53b3JsZFNpemUsb1syXT1lLm1lcmNhdG9yWmZyb21BbHRpdHVkZShvWzJdLHRoaXMuX2NlbnRlci5sYXQpKnRoaXMud29ybGRTaXplLGUuc2NhbGUkMShpLGksMS90aGlzLndvcmxkU2l6ZSksZS5zY2FsZSQxKG8sbywxL3RoaXMud29ybGRTaXplKSxuZXcgZS5SYXkoW2lbMF0saVsxXSxpWzJdXSxlLm5vcm1hbGl6ZShbXSxlLnN1YihbXSxvLGkpKSl9cmF5SW50ZXJzZWN0aW9uQ29vcmRpbmF0ZSh0KXtjb25zdHtwMDppLHAxOm8sdDpyfT10LG49ZS5tZXJjYXRvclpmcm9tQWx0aXR1ZGUoaVsyXSx0aGlzLl9jZW50ZXIubGF0KSxhPWUubWVyY2F0b3JaZnJvbUFsdGl0dWRlKG9bMl0sdGhpcy5fY2VudGVyLmxhdCk7cmV0dXJuIG5ldyBlLk1lcmNhdG9yQ29vcmRpbmF0ZShlLm51bWJlcihpWzBdLG9bMF0scikvdGhpcy53b3JsZFNpemUsZS5udW1iZXIoaVsxXSxvWzFdLHIpL3RoaXMud29ybGRTaXplLGUubnVtYmVyKG4sYSxyKSl9cG9pbnRDb29yZGluYXRlKGUsdD10aGlzLl9jZW50ZXJBbHRpdHVkZSl7cmV0dXJuIHRoaXMucHJvamVjdGlvbi5wb2ludENvb3JkaW5hdGUodGhpcyxlLngsZS55LHQpfXBvaW50Q29vcmRpbmF0ZTNEKHQpe2lmKCF0aGlzLmVsZXZhdGlvbilyZXR1cm4gdGhpcy5wb2ludENvb3JkaW5hdGUodCk7bGV0IGk9dGhpcy5wcm9qZWN0aW9uLnBvaW50Q29vcmRpbmF0ZTNEKHRoaXMsdC54LHQueSk7aWYoaSlyZXR1cm4gbmV3IGUuTWVyY2F0b3JDb29yZGluYXRlKGlbMF0saVsxXSxpWzJdKTtsZXQgbz0wLHI9dGhpcy5ob3Jpem9uTGluZUZyb21Ub3AoKTtpZih0Lnk+cilyZXR1cm4gdGhpcy5wb2ludENvb3JkaW5hdGUodCk7Y29uc3Qgbj0uMDIqcixhPXQuY2xvbmUoKTtmb3IobGV0IHQ9MDt0PDEwJiZyLW8+bjt0Kyspe2EueT1lLm51bWJlcihvLHIsLjY2KTtjb25zdCB0PXRoaXMucHJvamVjdGlvbi5wb2ludENvb3JkaW5hdGUzRCh0aGlzLGEueCxhLnkpO3Q/KHI9YS55LGk9dCk6bz1hLnk7fXJldHVybiBpP25ldyBlLk1lcmNhdG9yQ29vcmRpbmF0ZShpWzBdLGlbMV0saVsyXSk6dGhpcy5wb2ludENvb3JkaW5hdGUodCl9aXNQb2ludEFib3ZlSG9yaXpvbihlKXtyZXR1cm4gdGhpcy5wcm9qZWN0aW9uLmlzUG9pbnRBYm92ZUhvcml6b24odGhpcyxlKX1fY29vcmRpbmF0ZVBvaW50KHQsaSl7Y29uc3Qgbz1pJiZ0aGlzLmVsZXZhdGlvbj90aGlzLmVsZXZhdGlvbi5nZXRBdFBvaW50T3JaZXJvKHQsdGhpcy5fY2VudGVyQWx0aXR1ZGUpOnRoaXMuX2NlbnRlckFsdGl0dWRlLHI9W3QueCp0aGlzLndvcmxkU2l6ZSx0LnkqdGhpcy53b3JsZFNpemUsbyt0LnRvQWx0aXR1ZGUoKSwxXTtyZXR1cm4gZS50cmFuc2Zvcm1NYXQ0JDEocixyLHRoaXMucGl4ZWxNYXRyaXgpLHJbM10+MD9uZXcgZS5wb2ludEdlb21ldHJ5KHJbMF0vclszXSxyWzFdL3JbM10pOm5ldyBlLnBvaW50R2VvbWV0cnkoTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFKX1fZ2V0R2xvYmVCb3VuZHMoKXtjb25zdHt0b3A6dCxsZWZ0Oml9PXRoaXMuX2VkZ2VJbnNldHMsbz10aGlzLmhlaWdodC10aGlzLl9lZGdlSW5zZXRzLmJvdHRvbSxyPXRoaXMud2lkdGgtdGhpcy5fZWRnZUluc2V0cy5yaWdodCxuPXRoaXMucG9pbnRDb29yZGluYXRlM0QobmV3IGUucG9pbnRHZW9tZXRyeShpLHQpKSxhPXRoaXMucG9pbnRDb29yZGluYXRlM0QobmV3IGUucG9pbnRHZW9tZXRyeShyLHQpKSxzPXRoaXMucG9pbnRDb29yZGluYXRlM0QobmV3IGUucG9pbnRHZW9tZXRyeShyLG8pKSxsPXRoaXMucG9pbnRDb29yZGluYXRlM0QobmV3IGUucG9pbnRHZW9tZXRyeShpLG8pKTtsZXQgYz1NYXRoLm1pbihuLngsbC54KSxoPU1hdGgubWF4KGEueCxzLngpLF89TWF0aC5taW4obi55LGEueSksdT1NYXRoLm1heChsLnkscy55KTtjb25zdCBkPU1hdGgucG93KDIsLXRoaXMuem9vbSkvMTYscD0odCxpLG8scik9Pntjb25zdCBuPSh0K28pLzIsYT0oaStyKS8yLHM9bmV3IGUucG9pbnRHZW9tZXRyeShuLGEpLGw9dGhpcy5wb2ludENvb3JkaW5hdGUzRChzKSxtPU1hdGgubWF4KDAsYy1sLngsXy1sLnksbC54LWgsbC55LXUpO2M9TWF0aC5taW4oYyxsLngpLGg9TWF0aC5tYXgoaCxsLngpLF89TWF0aC5taW4oXyxsLnkpLHU9TWF0aC5tYXgodSxsLnkpLG0+ZCYmKHAodCxpLG4sYSkscChuLGEsbyxyKSk7fTtwKGksdCxyLHQpLHAocix0LHIsbykscChyLG8saSxvKSxwKGksbyxpLHQpO2NvbnN0IG09bmV3IGUuTG5nTGF0KGUubG5nRnJvbU1lcmNhdG9yWChoKSxlLmxhdEZyb21NZXJjYXRvclkoXykpLGY9bmV3IGUuTG5nTGF0KGUubG5nRnJvbU1lcmNhdG9yWChjKSxlLmxhdEZyb21NZXJjYXRvclkodSkpO3JldHVybiBuZXcgZS5MbmdMYXRCb3VuZHMoZixtKX1fZ2V0Qm91bmRzKHQsaSl7aWYoXCJnbG9iZVwiPT09dGhpcy5wcm9qZWN0aW9uLm5hbWUpcmV0dXJuIHRoaXMuX2dldEdsb2JlQm91bmRzKCk7Y29uc3Qgbz1uZXcgZS5wb2ludEdlb21ldHJ5KHRoaXMuX2VkZ2VJbnNldHMubGVmdCx0aGlzLl9lZGdlSW5zZXRzLnRvcCkscj1uZXcgZS5wb2ludEdlb21ldHJ5KHRoaXMud2lkdGgtdGhpcy5fZWRnZUluc2V0cy5yaWdodCx0aGlzLl9lZGdlSW5zZXRzLnRvcCksbj1uZXcgZS5wb2ludEdlb21ldHJ5KHRoaXMud2lkdGgtdGhpcy5fZWRnZUluc2V0cy5yaWdodCx0aGlzLmhlaWdodC10aGlzLl9lZGdlSW5zZXRzLmJvdHRvbSksYT1uZXcgZS5wb2ludEdlb21ldHJ5KHRoaXMuX2VkZ2VJbnNldHMubGVmdCx0aGlzLmhlaWdodC10aGlzLl9lZGdlSW5zZXRzLmJvdHRvbSk7bGV0IHM9dGhpcy5wb2ludENvb3JkaW5hdGUobyx0KSxsPXRoaXMucG9pbnRDb29yZGluYXRlKHIsdCk7Y29uc3QgYz10aGlzLnBvaW50Q29vcmRpbmF0ZShuLGkpLGg9dGhpcy5wb2ludENvb3JkaW5hdGUoYSxpKSxfPShlLHQpPT4odC55LWUueSkvKHQueC1lLngpO3JldHVybiBzLnk+MSYmbC55Pj0wP3M9bmV3IGUuTWVyY2F0b3JDb29yZGluYXRlKCgxLWgueSkvXyhoLHMpK2gueCwxKTpzLnk8MCYmbC55PD0xJiYocz1uZXcgZS5NZXJjYXRvckNvb3JkaW5hdGUoLWgueS9fKGgscykraC54LDApKSxsLnk+MSYmcy55Pj0wP2w9bmV3IGUuTWVyY2F0b3JDb29yZGluYXRlKCgxLWMueSkvXyhjLGwpK2MueCwxKTpsLnk8MCYmcy55PD0xJiYobD1uZXcgZS5NZXJjYXRvckNvb3JkaW5hdGUoLWMueS9fKGMsbCkrYy54LDApKSwobmV3IGUuTG5nTGF0Qm91bmRzKS5leHRlbmQodGhpcy5jb29yZGluYXRlTG9jYXRpb24ocykpLmV4dGVuZCh0aGlzLmNvb3JkaW5hdGVMb2NhdGlvbihsKSkuZXh0ZW5kKHRoaXMuY29vcmRpbmF0ZUxvY2F0aW9uKGgpKS5leHRlbmQodGhpcy5jb29yZGluYXRlTG9jYXRpb24oYykpfV9nZXRCb3VuZHMzRCgpe2NvbnN0IGU9dGhpcy5lbGV2YXRpb247aWYoIWUudmlzaWJsZURlbVRpbGVzLmxlbmd0aHx8ZS5pc1VzaW5nTW9ja1NvdXJjZSgpKXJldHVybiB0aGlzLl9nZXRCb3VuZHMoMCwwKTtjb25zdCB0PWUudmlzaWJsZURlbVRpbGVzLnJlZHVjZSgoKGUsdCk9PntpZih0LmRlbSl7Y29uc3QgaT10LmRlbS50cmVlO2UubWluPU1hdGgubWluKGUubWluLGkubWluaW11bXNbMF0pLGUubWF4PU1hdGgubWF4KGUubWF4LGkubWF4aW11bXNbMF0pO31yZXR1cm4gZX0pLHttaW46TnVtYmVyLk1BWF9WQUxVRSxtYXg6MH0pO3JldHVybiB0aGlzLl9nZXRCb3VuZHModC5taW4qZS5leGFnZ2VyYXRpb24oKSx0Lm1heCplLmV4YWdnZXJhdGlvbigpKX1nZXRCb3VuZHMoKXtyZXR1cm4gdGhpcy5fdGVycmFpbkVuYWJsZWQoKT90aGlzLl9nZXRCb3VuZHMzRCgpOnRoaXMuX2dldEJvdW5kcygwLDApfWhvcml6b25MaW5lRnJvbVRvcChlPSEwKXtjb25zdCB0PXRoaXMuaGVpZ2h0LzIvTWF0aC50YW4odGhpcy5fZm92LzIpL01hdGgudGFuKE1hdGgubWF4KHRoaXMuX3BpdGNoLC4xKSkrdGhpcy5jZW50ZXJPZmZzZXQueSxpPXRoaXMuaGVpZ2h0LzItdCooMS10aGlzLl9ob3Jpem9uU2hpZnQpO3JldHVybiBlP01hdGgubWF4KDAsaSk6aX1nZXRNYXhCb3VuZHMoKXtyZXR1cm4gdGhpcy5tYXhCb3VuZHN9c2V0TWF4Qm91bmRzKHQpe3RoaXMubWF4Qm91bmRzPXQsdGhpcy5taW5MYXQ9LWUuTUFYX01FUkNBVE9SX0xBVElUVURFLHRoaXMubWF4TGF0PWUuTUFYX01FUkNBVE9SX0xBVElUVURFLHRoaXMubWluTG5nPS0xODAsdGhpcy5tYXhMbmc9MTgwLHQmJih0aGlzLm1pbkxhdD10LmdldFNvdXRoKCksdGhpcy5tYXhMYXQ9dC5nZXROb3J0aCgpLHRoaXMubWluTG5nPXQuZ2V0V2VzdCgpLHRoaXMubWF4TG5nPXQuZ2V0RWFzdCgpLHRoaXMubWF4TG5nPHRoaXMubWluTG5nJiYodGhpcy5tYXhMbmcrPTM2MCkpLHRoaXMud29ybGRNaW5YPWUubWVyY2F0b3JYZnJvbUxuZyh0aGlzLm1pbkxuZykqdGhpcy50aWxlU2l6ZSx0aGlzLndvcmxkTWF4WD1lLm1lcmNhdG9yWGZyb21MbmcodGhpcy5tYXhMbmcpKnRoaXMudGlsZVNpemUsdGhpcy53b3JsZE1pblk9ZS5tZXJjYXRvcllmcm9tTGF0KHRoaXMubWF4TGF0KSp0aGlzLnRpbGVTaXplLHRoaXMud29ybGRNYXhZPWUubWVyY2F0b3JZZnJvbUxhdCh0aGlzLm1pbkxhdCkqdGhpcy50aWxlU2l6ZSx0aGlzLl9jb25zdHJhaW4oKTt9Y2FsY3VsYXRlUG9zTWF0cml4KGUsdCl7cmV0dXJuIHRoaXMucHJvamVjdGlvbi5jcmVhdGVUaWxlTWF0cml4KHRoaXMsdCxlKX1jYWxjdWxhdGVEaXN0YW5jZVRpbGVEYXRhKHQpe2NvbnN0IGk9dC5rZXksbz10aGlzLl9kaXN0YW5jZVRpbGVEYXRhQ2FjaGU7aWYob1tpXSlyZXR1cm4gb1tpXTtjb25zdCByPXQuY2Fub25pY2FsLG49MS90aGlzLmhlaWdodCxhPXRoaXMuY2FtZXJhV29ybGRTaXplL3RoaXMuem9vbVNjYWxlKHIueikscz0oci54K01hdGgucG93KDIsci56KSp0LndyYXApKmEsbD1yLnkqYSxjPXRoaXMucG9pbnQsaD10aGlzLmFuZ2xlLF89TWF0aC5zaW4oLWgpLHU9LU1hdGguY29zKC1oKTtyZXR1cm4gb1tpXT17YmVhcmluZzpbXyx1XSxjZW50ZXI6WyhjLngtcykqbiwoYy55LWwpKm5dLHNjYWxlOmEvZS5FWFRFTlQqbn0sb1tpXX1jYWxjdWxhdGVGb2dUaWxlTWF0cml4KHQpe2NvbnN0IGk9dC5rZXksbz10aGlzLl9mb2dUaWxlTWF0cml4Q2FjaGU7aWYob1tpXSlyZXR1cm4gb1tpXTtjb25zdCByPXRoaXMucHJvamVjdGlvbi5jcmVhdGVUaWxlTWF0cml4KHRoaXMsdGhpcy5jYW1lcmFXb3JsZFNpemUsdCk7cmV0dXJuIGUubXVsdGlwbHkocix0aGlzLndvcmxkVG9Gb2dNYXRyaXgsciksb1tpXT1uZXcgRmxvYXQzMkFycmF5KHIpLG9baV19Y2FsY3VsYXRlUHJvak1hdHJpeCh0LGk9ITEpe2NvbnN0IG89dC5rZXkscj1pP3RoaXMuX2FsaWduZWRQcm9qTWF0cml4Q2FjaGU6dGhpcy5fcHJvak1hdHJpeENhY2hlO2lmKHJbb10pcmV0dXJuIHJbb107Y29uc3Qgbj10aGlzLmNhbGN1bGF0ZVBvc01hdHJpeCh0LHRoaXMud29ybGRTaXplKTtyZXR1cm4gZS5tdWx0aXBseShuLHRoaXMucHJvamVjdGlvbi5pc1JlcHJvamVjdGVkSW5UaWxlU3BhY2U/dGhpcy5tZXJjYXRvck1hdHJpeDppP3RoaXMuYWxpZ25lZFByb2pNYXRyaXg6dGhpcy5wcm9qTWF0cml4LG4pLHJbb109bmV3IEZsb2F0MzJBcnJheShuKSxyW29dfWNhbGN1bGF0ZVBpeGVsc1RvVGlsZVVuaXRzTWF0cml4KHQpe2NvbnN0IGk9dC50aWxlSUQua2V5LG89dGhpcy5fcGl4ZWxzVG9UaWxlVW5pdHNDYWNoZTtpZihvW2ldKXJldHVybiBvW2ldO2NvbnN0IHI9ZnVuY3Rpb24odCxpKXtjb25zdHtzY2FsZTpvfT10LnRpbGVUcmFuc2Zvcm0scj1vKmUuRVhURU5ULyh0LnRpbGVTaXplKk1hdGgucG93KDIsaS56b29tLXQudGlsZUlELm92ZXJzY2FsZWRaK3QudGlsZUlELmNhbm9uaWNhbC56KSk7cmV0dXJuIG49bmV3IEZsb2F0MzJBcnJheSg0KSxsPShhPWkuaW52ZXJzZUFkanVzdG1lbnRNYXRyaXgpWzFdLGM9YVsyXSxoPWFbM10sdT0ocz1bcixyXSlbMV0sblswXT1hWzBdKihfPXNbMF0pLG5bMV09bCpfLG5bMl09Yyp1LG5bM109aCp1LG47dmFyIG4sYSxzLGwsYyxoLF8sdTt9KHQsdGhpcyk7cmV0dXJuIG9baV09cixvW2ldfWN1c3RvbUxheWVyTWF0cml4KCl7cmV0dXJuIHRoaXMubWVyY2F0b3JNYXRyaXguc2xpY2UoKX1yZWNlbnRlck9uVGVycmFpbigpe2lmKCF0aGlzLl9lbGV2YXRpb258fFwiZ2xvYmVcIj09PXRoaXMucHJvamVjdGlvbi5uYW1lKXJldHVybjtjb25zdCB0PXRoaXMuX2VsZXZhdGlvbjt0aGlzLl91cGRhdGVDYW1lcmFTdGF0ZSgpO2NvbnN0IGk9ZS5tZXJjYXRvclpmcm9tQWx0aXR1ZGUoMSx0aGlzLl9jZW50ZXIubGF0KSp0aGlzLndvcmxkU2l6ZSxvPXRoaXMuX2NvbXB1dGVDYW1lcmFQb3NpdGlvbihpKSxyPXRoaXMuX2NhbWVyYS5mb3J3YXJkKCksbj1lLm1lcmNhdG9yWmZyb21BbHRpdHVkZSgxLHRoaXMuX2NlbnRlci5sYXQpO29bMl0vPW4sclsyXS89bixlLm5vcm1hbGl6ZShyLHIpO2NvbnN0IGE9dC5yYXljYXN0KG8scix0LmV4YWdnZXJhdGlvbigpKTtpZihhKXtjb25zdCB0PWUuc2NhbGVBbmRBZGQoW10sbyxyLGEpLGk9bmV3IGUuTWVyY2F0b3JDb29yZGluYXRlKHRbMF0sdFsxXSxlLm1lcmNhdG9yWmZyb21BbHRpdHVkZSh0WzJdLGUubGF0RnJvbU1lcmNhdG9yWSh0WzFdKSkpLHM9KGkueitlLmxlbmd0aChbaS54LW9bMF0saS55LW9bMV0saS56LW9bMl0qbl0pKSp0aGlzLl9waXhlbHNQZXJNZXJjYXRvclBpeGVsO3RoaXMuX3NlYUxldmVsWm9vbT10aGlzLl96b29tRnJvbU1lcmNhdG9yWihzKSx0aGlzLl9jZW50ZXJBbHRpdHVkZT1pLnRvQWx0aXR1ZGUoKSx0aGlzLl9jZW50ZXI9dGhpcy5jb29yZGluYXRlTG9jYXRpb24oaSksdGhpcy5fdXBkYXRlWm9vbUZyb21FbGV2YXRpb24oKSx0aGlzLl9jb25zdHJhaW4oKSx0aGlzLl9jYWxjTWF0cmljZXMoKTt9fV9jb25zdHJhaW5DYW1lcmFBbHRpdHVkZSgpe2lmKCF0aGlzLl9lbGV2YXRpb24pcmV0dXJuO2NvbnN0IHQ9dGhpcy5fZWxldmF0aW9uO3RoaXMuX3VwZGF0ZUNhbWVyYVN0YXRlKCk7Y29uc3QgaT1lLm1lcmNhdG9yWmZyb21BbHRpdHVkZSgxLHRoaXMuX2NlbnRlci5sYXQpKnRoaXMud29ybGRTaXplLG89dGhpcy5fY29tcHV0ZUNhbWVyYVBvc2l0aW9uKGkpLHI9dC5nZXRBdFBvaW50T3JaZXJvKG5ldyBlLk1lcmNhdG9yQ29vcmRpbmF0ZSguLi5vKSksbj10aGlzLl9taW5pbXVtSGVpZ2h0T3ZlclRlcnJhaW4oKSpNYXRoLmNvcyhlLmRlZ1RvUmFkKHRoaXMuX21heFBpdGNoKSksYT10aGlzLl9jYW1lcmEucG9zaXRpb25bMl0tdGhpcy5waXhlbHNQZXJNZXRlci90aGlzLndvcmxkU2l6ZSpyO2lmKGE8bil7Y29uc3QgdD10aGlzLmxvY2F0aW9uQ29vcmRpbmF0ZSh0aGlzLl9jZW50ZXIsdGhpcy5fY2VudGVyQWx0aXR1ZGUpLGk9W3QueC1vWzBdLHQueS1vWzFdLHQuei1vWzJdXSxyPWUubGVuZ3RoKGkpO2lbMl0tPShuLWEpL3RoaXMuX3BpeGVsc1Blck1lcmNhdG9yUGl4ZWw7Y29uc3Qgcz1lLmxlbmd0aChpKTtpZigwPT09cylyZXR1cm47ZS5zY2FsZSQyKGksaSxyL3MqdGhpcy5fcGl4ZWxzUGVyTWVyY2F0b3JQaXhlbCksdGhpcy5fY2FtZXJhLnBvc2l0aW9uPVt0LngtaVswXSx0LnktaVsxXSx0LnoqdGhpcy5fcGl4ZWxzUGVyTWVyY2F0b3JQaXhlbC1pWzJdXSx0aGlzLl9jYW1lcmEub3JpZW50YXRpb249am8oaSx0aGlzLl9jYW1lcmEudXAoKSksdGhpcy5fdXBkYXRlU3RhdGVGcm9tQ2FtZXJhKCk7fX1fY29uc3RyYWluKCl7aWYoIXRoaXMuY2VudGVyfHwhdGhpcy53aWR0aHx8IXRoaXMuaGVpZ2h0fHx0aGlzLl9jb25zdHJhaW5pbmcpcmV0dXJuO3RoaXMuX2NvbnN0cmFpbmluZz0hMDtjb25zdCB0PVwiZ2xvYmVcIj09PXRoaXMucHJvamVjdGlvbi5uYW1lfHx0aGlzLm1lcmNhdG9yRnJvbVRyYW5zaXRpb247aWYodGhpcy5wcm9qZWN0aW9uLmlzUmVwcm9qZWN0ZWRJblRpbGVTcGFjZXx8dCl7Y29uc3QgaT10aGlzLmNlbnRlcjtyZXR1cm4gaS5sYXQ9ZS5jbGFtcChpLmxhdCx0aGlzLm1pbkxhdCx0aGlzLm1heExhdCksKHRoaXMubWF4Qm91bmRzfHwhdGhpcy5yZW5kZXJXb3JsZENvcGllcyYmIXQpJiYoaS5sbmc9ZS5jbGFtcChpLmxuZyx0aGlzLm1pbkxuZyx0aGlzLm1heExuZykpLHRoaXMuY2VudGVyPWksdm9pZCh0aGlzLl9jb25zdHJhaW5pbmc9ITEpfWNvbnN0IGk9dGhpcy5fdW5tb2RpZmllZCx7eDpvLHk6cn09dGhpcy5wb2ludDtsZXQgbj0wLGE9byxzPXI7Y29uc3QgbD10aGlzLndpZHRoLzIsYz10aGlzLmhlaWdodC8yLGg9dGhpcy53b3JsZE1pblkqdGhpcy5zY2FsZSxfPXRoaXMud29ybGRNYXhZKnRoaXMuc2NhbGU7aWYoci1jPGgmJihzPWgrYykscitjPl8mJihzPV8tYyksXy1oPHRoaXMuaGVpZ2h0JiYobj1NYXRoLm1heChuLHRoaXMuaGVpZ2h0LyhfLWgpKSxzPShfK2gpLzIpLHRoaXMubWF4Qm91bmRzfHwhdGhpcy5fcmVuZGVyV29ybGRDb3BpZXN8fCF0aGlzLnByb2plY3Rpb24ud3JhcCl7Y29uc3QgZT10aGlzLndvcmxkTWluWCp0aGlzLnNjYWxlLHQ9dGhpcy53b3JsZE1heFgqdGhpcy5zY2FsZSxpPXRoaXMud29ybGRTaXplLzItKGUrdCkvMjthPShvK2krdGhpcy53b3JsZFNpemUpJXRoaXMud29ybGRTaXplLWksYS1sPGUmJihhPWUrbCksYStsPnQmJihhPXQtbCksdC1lPHRoaXMud2lkdGgmJihuPU1hdGgubWF4KG4sdGhpcy53aWR0aC8odC1lKSksYT0odCtlKS8yKTt9YT09PW8mJnM9PT1yfHwodGhpcy5jZW50ZXI9dGhpcy51bnByb2plY3QobmV3IGUucG9pbnRHZW9tZXRyeShhLHMpKSksbiYmKHRoaXMuem9vbSs9dGhpcy5zY2FsZVpvb20obikpLHRoaXMuX2NvbnN0cmFpbkNhbWVyYUFsdGl0dWRlKCksdGhpcy5fdW5tb2RpZmllZD1pLHRoaXMuX2NvbnN0cmFpbmluZz0hMTt9X21pblpvb21Gb3JCb3VuZHMoKXtsZXQgZT1NYXRoLm1heCgwLHRoaXMuc2NhbGVab29tKHRoaXMuaGVpZ2h0Lyh0aGlzLndvcmxkTWF4WS10aGlzLndvcmxkTWluWSkpKTtyZXR1cm4gdGhpcy5tYXhCb3VuZHMmJihlPU1hdGgubWF4KGUsdGhpcy5zY2FsZVpvb20odGhpcy53aWR0aC8odGhpcy53b3JsZE1heFgtdGhpcy53b3JsZE1pblgpKSkpLGV9X21heENhbWVyYUJvdW5kc0Rpc3RhbmNlKCl7cmV0dXJuIHRoaXMuX21lcmNhdG9yWmZyb21ab29tKHRoaXMuX21pblpvb21Gb3JCb3VuZHMoKSl9X2NhbGNNYXRyaWNlcygpe2lmKCF0aGlzLmhlaWdodClyZXR1cm47Y29uc3QgdD10aGlzLmNlbnRlck9mZnNldCxpPXRoaXMucGl4ZWxzUGVyTWV0ZXI7XCJnbG9iZVwiPT09dGhpcy5wcm9qZWN0aW9uLm5hbWUmJih0aGlzLl9tZXJjYXRvclNjYWxlUmF0aW89ZS5tZXJjYXRvclpmcm9tQWx0aXR1ZGUoMSx0aGlzLmNlbnRlci5sYXQpL2UubWVyY2F0b3JaZnJvbUFsdGl0dWRlKDEsZS5HTE9CRV9TQ0FMRV9NQVRDSF9MQVRJVFVERSkpO2NvbnN0IG89cW8odGhpcy5wcm9qZWN0aW9uLHRoaXMuem9vbSx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0LDEwMjQpO3RoaXMuX3BpeGVsc1Blck1lcmNhdG9yUGl4ZWw9dGhpcy5wcm9qZWN0aW9uLnBpeGVsU3BhY2VDb252ZXJzaW9uKHRoaXMuY2VudGVyLmxhdCx0aGlzLndvcmxkU2l6ZSxvKSx0aGlzLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2U9LjUvTWF0aC50YW4oLjUqdGhpcy5fZm92KSp0aGlzLmhlaWdodCp0aGlzLl9waXhlbHNQZXJNZXJjYXRvclBpeGVsLHRoaXMuX3VwZGF0ZUNhbWVyYVN0YXRlKCksdGhpcy5fZmFyWj10aGlzLnByb2plY3Rpb24uZmFydGhlc3RQaXhlbERpc3RhbmNlKHRoaXMpLHRoaXMuX25lYXJaPXRoaXMuaGVpZ2h0LzUwO2NvbnN0IHI9dGhpcy5fY2FtZXJhLmdldFdvcmxkVG9DYW1lcmEodGhpcy53b3JsZFNpemUsXCJtZXRlcnNcIj09PXRoaXMucHJvamVjdGlvbi56QXhpc1VuaXQ/aToxKSxuPXRoaXMuX2NhbWVyYS5nZXRDYW1lcmFUb0NsaXBQZXJzcGVjdGl2ZSh0aGlzLl9mb3YsdGhpcy53aWR0aC90aGlzLmhlaWdodCx0aGlzLl9uZWFyWix0aGlzLl9mYXJaKTtuWzhdPTIqLXQueC90aGlzLndpZHRoLG5bOV09Mip0LnkvdGhpcy5oZWlnaHQ7bGV0IGE9ZS5tdWwoW10sbixyKTtpZih0aGlzLnByb2plY3Rpb24uaXNSZXByb2plY3RlZEluVGlsZVNwYWNlKXtjb25zdCB0PXRoaXMubG9jYXRpb25Db29yZGluYXRlKHRoaXMuY2VudGVyKSxpPWUuaWRlbnRpdHkoW10pO2UudHJhbnNsYXRlKGksaSxbdC54KnRoaXMud29ybGRTaXplLHQueSp0aGlzLndvcmxkU2l6ZSwwXSksZS5tdWx0aXBseShpLGksV28odGhpcykpLGUudHJhbnNsYXRlKGksaSxbLXQueCp0aGlzLndvcmxkU2l6ZSwtdC55KnRoaXMud29ybGRTaXplLDBdKSxlLm11bHRpcGx5KGEsYSxpKSx0aGlzLmludmVyc2VBZGp1c3RtZW50TWF0cml4PWZ1bmN0aW9uKGUpe2NvbnN0IHQ9V28oZSwhMCk7cmV0dXJuIHYoW10sW3RbMF0sdFsxXSx0WzRdLHRbNV1dKX0odGhpcyk7fWVsc2UgdGhpcy5pbnZlcnNlQWRqdXN0bWVudE1hdHJpeD1bMSwwLDAsMV07dGhpcy5tZXJjYXRvck1hdHJpeD1lLnNjYWxlKFtdLGEsW3RoaXMud29ybGRTaXplLHRoaXMud29ybGRTaXplLHRoaXMud29ybGRTaXplL2ksMV0pLHRoaXMucHJvak1hdHJpeD1hLHRoaXMuaW52UHJvak1hdHJpeD1lLmludmVydChuZXcgRmxvYXQ2NEFycmF5KDE2KSx0aGlzLnByb2pNYXRyaXgpO2NvbnN0IHM9ZS5pbnZlcnQoW10sbik7dGhpcy5mcnVzdHVtQ29ybmVycz1lLkZydXN0dW1Db3JuZXJzLmZyb21JbnZQcm9qZWN0aW9uTWF0cml4KHMsdGhpcy5ob3Jpem9uTGluZUZyb21Ub3AoKSx0aGlzLmhlaWdodCk7Y29uc3QgbD1uZXcgRmxvYXQzMkFycmF5KDE2KTtlLmlkZW50aXR5KGwpLGUuc2NhbGUobCxsLFsxLC0xLDFdKSxlLnJvdGF0ZVgobCxsLHRoaXMuX3BpdGNoKSxlLnJvdGF0ZVoobCxsLHRoaXMuYW5nbGUpO2NvbnN0IGM9ZS5wZXJzcGVjdGl2ZShuZXcgRmxvYXQzMkFycmF5KDE2KSx0aGlzLl9mb3YsdGhpcy53aWR0aC90aGlzLmhlaWdodCx0aGlzLl9uZWFyWix0aGlzLl9mYXJaKSxoPShNYXRoLlBJLzItdGhpcy5fcGl0Y2gpKih0aGlzLmhlaWdodC90aGlzLl9mb3YpKnRoaXMuX2hvcml6b25TaGlmdDtjWzhdPTIqLXQueC90aGlzLndpZHRoLGNbOV09MioodC55K2gpL3RoaXMuaGVpZ2h0LHRoaXMuc2t5Ym94TWF0cml4PWUubXVsdGlwbHkobCxjLGwpO2NvbnN0IF89dGhpcy5wb2ludCx1PV8ueCxkPV8ueSxwPXRoaXMud2lkdGglMi8yLG09dGhpcy5oZWlnaHQlMi8yLGY9TWF0aC5jb3ModGhpcy5hbmdsZSksZz1NYXRoLnNpbih0aGlzLmFuZ2xlKSx4PXUtTWF0aC5yb3VuZCh1KStmKnArZyptLHk9ZC1NYXRoLnJvdW5kKGQpK2YqbStnKnAsYj1uZXcgRmxvYXQ2NEFycmF5KGEpO2lmKGUudHJhbnNsYXRlKGIsYixbeD4uNT94LTE6eCx5Pi41P3ktMTp5LDBdKSx0aGlzLmFsaWduZWRQcm9qTWF0cml4PWIsYT1lLmNyZWF0ZSgpLGUuc2NhbGUoYSxhLFt0aGlzLndpZHRoLzIsLXRoaXMuaGVpZ2h0LzIsMV0pLGUudHJhbnNsYXRlKGEsYSxbMSwtMSwwXSksdGhpcy5sYWJlbFBsYW5lTWF0cml4PWEsYT1lLmNyZWF0ZSgpLGUuc2NhbGUoYSxhLFsxLC0xLDFdKSxlLnRyYW5zbGF0ZShhLGEsWy0xLC0xLDBdKSxlLnNjYWxlKGEsYSxbMi90aGlzLndpZHRoLDIvdGhpcy5oZWlnaHQsMV0pLHRoaXMuZ2xDb29yZE1hdHJpeD1hLHRoaXMucGl4ZWxNYXRyaXg9ZS5tdWx0aXBseShuZXcgRmxvYXQ2NEFycmF5KDE2KSx0aGlzLmxhYmVsUGxhbmVNYXRyaXgsdGhpcy5wcm9qTWF0cml4KSx0aGlzLl9jYWxjRm9nTWF0cmljZXMoKSx0aGlzLl9kaXN0YW5jZVRpbGVEYXRhQ2FjaGU9e30sYT1lLmludmVydChuZXcgRmxvYXQ2NEFycmF5KDE2KSx0aGlzLnBpeGVsTWF0cml4KSwhYSl0aHJvdyBuZXcgRXJyb3IoXCJmYWlsZWQgdG8gaW52ZXJ0IG1hdHJpeFwiKTtpZih0aGlzLnBpeGVsTWF0cml4SW52ZXJzZT1hLFwiZ2xvYmVcIj09PXRoaXMucHJvamVjdGlvbi5uYW1lfHx0aGlzLm1lcmNhdG9yRnJvbVRyYW5zaXRpb24pe3RoaXMuZ2xvYmVNYXRyaXg9ZS5jYWxjdWxhdGVHbG9iZU1hdHJpeCh0aGlzKTtjb25zdCB0PVt0aGlzLmdsb2JlTWF0cml4WzEyXSx0aGlzLmdsb2JlTWF0cml4WzEzXSx0aGlzLmdsb2JlTWF0cml4WzE0XV07dGhpcy5nbG9iZUNlbnRlckluVmlld1NwYWNlPWUudHJhbnNmb3JtTWF0NCh0LHQsciksdGhpcy5nbG9iZVJhZGl1cz10aGlzLndvcmxkU2l6ZS8yL01hdGguUEktMTt9ZWxzZSB0aGlzLmdsb2JlTWF0cml4PWE7dGhpcy5fcHJvak1hdHJpeENhY2hlPXt9LHRoaXMuX2FsaWduZWRQcm9qTWF0cml4Q2FjaGU9e30sdGhpcy5fcGl4ZWxzVG9UaWxlVW5pdHNDYWNoZT17fTt9X2NhbGNGb2dNYXRyaWNlcygpe3RoaXMuX2ZvZ1RpbGVNYXRyaXhDYWNoZT17fTtjb25zdCB0PXRoaXMuY2FtZXJhV29ybGRTaXplLGk9dGhpcy5jYW1lcmFQaXhlbHNQZXJNZXRlcixvPXRoaXMuX2NhbWVyYS5wb3NpdGlvbixyPTEvdGhpcy5oZWlnaHQvdGhpcy5fcGl4ZWxzUGVyTWVyY2F0b3JQaXhlbCxuPVt0LHQsaV07ZS5zY2FsZSQyKG4sbixyKSxlLnNjYWxlJDIobyxvLC0xKSxlLm11bHRpcGx5JDIobyxvLG4pO2NvbnN0IGE9ZS5jcmVhdGUoKTtlLnRyYW5zbGF0ZShhLGEsbyksZS5zY2FsZShhLGEsbiksdGhpcy5tZXJjYXRvckZvZ01hdHJpeD1hLHRoaXMud29ybGRUb0ZvZ01hdHJpeD10aGlzLl9jYW1lcmEuZ2V0V29ybGRUb0NhbWVyYVBvc2l0aW9uKHQsaSxyKTt9X2NvbXB1dGVDYW1lcmFQb3NpdGlvbihlKXtjb25zdCB0PShlPWV8fHRoaXMucGl4ZWxzUGVyTWV0ZXIpL3RoaXMucGl4ZWxzUGVyTWV0ZXIsaT10aGlzLl9jYW1lcmEuZm9yd2FyZCgpLG89dGhpcy5wb2ludCxyPXRoaXMuX21lcmNhdG9yWmZyb21ab29tKHRoaXMuX3NlYUxldmVsWm9vbT90aGlzLl9zZWFMZXZlbFpvb206dGhpcy5fem9vbSkqdC1lL3RoaXMud29ybGRTaXplKnRoaXMuX2NlbnRlckFsdGl0dWRlO3JldHVybiBbby54L3RoaXMud29ybGRTaXplLWlbMF0qcixvLnkvdGhpcy53b3JsZFNpemUtaVsxXSpyLGUvdGhpcy53b3JsZFNpemUqdGhpcy5fY2VudGVyQWx0aXR1ZGUtaVsyXSpyXX1fdXBkYXRlQ2FtZXJhU3RhdGUoKXt0aGlzLmhlaWdodCYmKHRoaXMuX2NhbWVyYS5zZXRQaXRjaEJlYXJpbmcodGhpcy5fcGl0Y2gsdGhpcy5hbmdsZSksdGhpcy5fY2FtZXJhLnBvc2l0aW9uPXRoaXMuX2NvbXB1dGVDYW1lcmFQb3NpdGlvbigpKTt9X3RyYW5zbGF0ZUNhbWVyYUNvbnN0cmFpbmVkKHQpe2NvbnN0IGk9dGhpcy5fbWF4Q2FtZXJhQm91bmRzRGlzdGFuY2UoKSpNYXRoLmNvcyh0aGlzLl9waXRjaCksbz10aGlzLl9jYW1lcmEucG9zaXRpb25bMl0scj10WzJdO2xldCBuPTE7dGhpcy5wcm9qZWN0aW9uLndyYXAmJih0aGlzLmNlbnRlcj10aGlzLmNlbnRlci53cmFwKCkpLHI+MCYmKG49TWF0aC5taW4oKGktbykvciwxKSksdGhpcy5fY2FtZXJhLnBvc2l0aW9uPWUuc2NhbGVBbmRBZGQoW10sdGhpcy5fY2FtZXJhLnBvc2l0aW9uLHQsbiksdGhpcy5fdXBkYXRlU3RhdGVGcm9tQ2FtZXJhKCk7fV91cGRhdGVTdGF0ZUZyb21DYW1lcmEoKXtjb25zdCB0PXRoaXMuX2NhbWVyYS5wb3NpdGlvbixpPXRoaXMuX2NhbWVyYS5mb3J3YXJkKCkse3BpdGNoOm8sYmVhcmluZzpyfT10aGlzLl9jYW1lcmEuZ2V0UGl0Y2hCZWFyaW5nKCksbj1lLm1lcmNhdG9yWmZyb21BbHRpdHVkZSh0aGlzLl9jZW50ZXJBbHRpdHVkZSx0aGlzLmNlbnRlci5sYXQpKnRoaXMuX3BpeGVsc1Blck1lcmNhdG9yUGl4ZWwsYT10aGlzLl9tZXJjYXRvclpmcm9tWm9vbSh0aGlzLl9tYXhab29tKSpNYXRoLmNvcyhlLmRlZ1RvUmFkKHRoaXMuX21heFBpdGNoKSkscz1NYXRoLm1heCgodFsyXS1uKS9NYXRoLmNvcyhvKSxhKSxsPXRoaXMuX3pvb21Gcm9tTWVyY2F0b3JaKHMpO2Uuc2NhbGVBbmRBZGQodCx0LGkscyksdGhpcy5fcGl0Y2g9ZS5jbGFtcChvLGUuZGVnVG9SYWQodGhpcy5taW5QaXRjaCksZS5kZWdUb1JhZCh0aGlzLm1heFBpdGNoKSksdGhpcy5hbmdsZT1lLndyYXAociwtTWF0aC5QSSxNYXRoLlBJKSx0aGlzLl9zZXRab29tKGUuY2xhbXAobCx0aGlzLl9taW5ab29tLHRoaXMuX21heFpvb20pKSx0aGlzLl91cGRhdGVTZWFMZXZlbFpvb20oKSx0aGlzLl9jZW50ZXI9dGhpcy5jb29yZGluYXRlTG9jYXRpb24obmV3IGUuTWVyY2F0b3JDb29yZGluYXRlKHRbMF0sdFsxXSx0WzJdKSksdGhpcy5fdW5tb2RpZmllZD0hMSx0aGlzLl9jb25zdHJhaW4oKSx0aGlzLl9jYWxjTWF0cmljZXMoKTt9X3dvcmxkU2l6ZUZyb21ab29tKGUpe3JldHVybiBNYXRoLnBvdygyLGUpKnRoaXMudGlsZVNpemV9X21lcmNhdG9yWmZyb21ab29tKGUpe3JldHVybiB0aGlzLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2UvdGhpcy5fd29ybGRTaXplRnJvbVpvb20oZSl9X21pbmltdW1IZWlnaHRPdmVyVGVycmFpbigpe2NvbnN0IGU9TWF0aC5taW4oKG51bGwhPXRoaXMuX3NlYUxldmVsWm9vbT90aGlzLl9zZWFMZXZlbFpvb206dGhpcy5fem9vbSkrMix0aGlzLl9tYXhab29tKTtyZXR1cm4gdGhpcy5fbWVyY2F0b3JaZnJvbVpvb20oZSl9X3pvb21Gcm9tTWVyY2F0b3JaKGUpe3JldHVybiB0aGlzLnNjYWxlWm9vbSh0aGlzLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2UvKGUqdGhpcy50aWxlU2l6ZSkpfXpvb21Gcm9tTWVyY2F0b3JaQWRqdXN0ZWQoZSl7Y29uc3QgdD10PT57Y29uc3QgaT10aGlzLmdldENhbWVyYVRvQ2VudGVyRGlzdGFuY2UodGhpcy5wcm9qZWN0aW9uLHQpO3JldHVybiB0aGlzLnNjYWxlWm9vbShpLyhlKnRoaXMudGlsZVNpemUpKX07bGV0IGksbz10KHRoaXMuem9vbSkscj1NYXRoLmFicyhvLXQobykpO2Zvcig7aSE9PXI7KW89dChvKSxpPXIscj1NYXRoLmFicyhvLXQobykpO3JldHVybiBvfV90ZXJyYWluRW5hYmxlZCgpe3JldHVybiAhKCF0aGlzLl9lbGV2YXRpb258fCF0aGlzLnByb2plY3Rpb24uc3VwcG9ydHNUZXJyYWluJiYoZS53YXJuT25jZShcIlRlcnJhaW4gaXMgbm90IHlldCBzdXBwb3J0ZWQgd2l0aCBhbHRlcm5hdGUgcHJvamVjdGlvbnMuIFVzZSBtZXJjYXRvciBvciBnbG9iZSB0byBlbmFibGUgdGVycmFpbi5cIiksMSkpfWFueUNvcm5lck9mZkVkZ2UodCxpKXtjb25zdCBvPU1hdGgubWluKHQueCxpLngpLHI9TWF0aC5tYXgodC54LGkueCksbj1NYXRoLm1pbih0LnksaS55KSxhPU1hdGgubWF4KHQueSxpLnkpO2lmKG48dGhpcy5ob3Jpem9uTGluZUZyb21Ub3AoITEpKXJldHVybiAhMDtpZihcIm1lcmNhdG9yXCIhPT10aGlzLnByb2plY3Rpb24ubmFtZSlyZXR1cm4gITE7Y29uc3Qgcz1bbmV3IGUucG9pbnRHZW9tZXRyeShvLG4pLG5ldyBlLnBvaW50R2VvbWV0cnkocixhKSxuZXcgZS5wb2ludEdlb21ldHJ5KG8sYSksbmV3IGUucG9pbnRHZW9tZXRyeShyLG4pXSxsPXRoaXMucmVuZGVyV29ybGRDb3BpZXM/LTM6MCxjPXRoaXMucmVuZGVyV29ybGRDb3BpZXM/NDoxO2Zvcihjb25zdCBlIG9mIHMpe2NvbnN0IHQ9dGhpcy5wb2ludFJheUludGVyc2VjdGlvbihlKTtpZih0LnQ8MClyZXR1cm4gITA7Y29uc3QgaT10aGlzLnJheUludGVyc2VjdGlvbkNvb3JkaW5hdGUodCk7aWYoaS54PGx8fGkueTwwfHxpLng+Y3x8aS55PjEpcmV0dXJuICEwfXJldHVybiAhMX1pc0hvcml6b25WaXNpYmxlKCl7cmV0dXJuIHRoaXMucGl0Y2grZS5yYWRUb0RlZyh0aGlzLmZvdkFib3ZlQ2VudGVyKT44OHx8dGhpcy5hbnlDb3JuZXJPZmZFZGdlKG5ldyBlLnBvaW50R2VvbWV0cnkoMCwwKSxuZXcgZS5wb2ludEdlb21ldHJ5KHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpKX16b29tRGVsdGFUb01vdmVtZW50KHQsaSl7Y29uc3Qgbz1lLmxlbmd0aChlLnN1YihbXSx0aGlzLl9jYW1lcmEucG9zaXRpb24sdCkpLHI9dGhpcy5fem9vbUZyb21NZXJjYXRvcloobykraTtyZXR1cm4gby10aGlzLl9tZXJjYXRvclpmcm9tWm9vbShyKX1nZXRDYW1lcmFQb2ludCgpe2lmKFwiZ2xvYmVcIj09PXRoaXMucHJvamVjdGlvbi5uYW1lKXtjb25zdCB0PWZ1bmN0aW9uKHQsaSl7Y29uc3Qgbz1bdFswXSx0WzFdLHRbMl0sMV07ZS50cmFuc2Zvcm1NYXQ0JDEobyxvLGkpO2NvbnN0IHI9TWF0aC5tYXgob1szXSwxZS02KTtyZXR1cm4gW29bMF0vcixvWzFdL3Isb1syXS9yLHJdfShbdGhpcy5nbG9iZU1hdHJpeFsxMl0sdGhpcy5nbG9iZU1hdHJpeFsxM10sdGhpcy5nbG9iZU1hdHJpeFsxNF1dLHRoaXMucGl4ZWxNYXRyaXgpO3JldHVybiBuZXcgZS5wb2ludEdlb21ldHJ5KHRbMF0sdFsxXSl9e2NvbnN0IHQ9TWF0aC50YW4odGhpcy5fcGl0Y2gpKih0aGlzLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2V8fDEpO3JldHVybiB0aGlzLmNlbnRlclBvaW50LmFkZChuZXcgZS5wb2ludEdlb21ldHJ5KDAsdCkpfX1nZXRDYW1lcmFUb0NlbnRlckRpc3RhbmNlKGUsdD10aGlzLnpvb20pe2NvbnN0IGk9cW8oZSx0LHRoaXMud2lkdGgsdGhpcy5oZWlnaHQsMTAyNCksbz1lLnBpeGVsU3BhY2VDb252ZXJzaW9uKHRoaXMuY2VudGVyLmxhdCx0aGlzLndvcmxkU2l6ZSxpKTtyZXR1cm4gLjUvTWF0aC50YW4oLjUqdGhpcy5fZm92KSp0aGlzLmhlaWdodCpvfWdldFdvcmxkVG9DYW1lcmFNYXRyaXgoKXtjb25zdCB0PXRoaXMuX2NhbWVyYS5nZXRXb3JsZFRvQ2FtZXJhKHRoaXMud29ybGRTaXplLFwibWV0ZXJzXCI9PT10aGlzLnByb2plY3Rpb24uekF4aXNVbml0P3RoaXMucGl4ZWxzUGVyTWV0ZXI6MSk7cmV0dXJuIFwiZ2xvYmVcIj09PXRoaXMucHJvamVjdGlvbi5uYW1lJiZlLm11bHRpcGx5KHQsdCx0aGlzLmdsb2JlTWF0cml4KSx0fX1mdW5jdGlvbiBKbyhlLHQpe2xldCBpPSExLG89bnVsbDtjb25zdCByPSgpPT57bz1udWxsLGkmJihlKCksbz1zZXRUaW1lb3V0KHIsdCksaT0hMSk7fTtyZXR1cm4gKCk9PihpPSEwLG98fHIoKSxvKX1jbGFzcyBRb3tjb25zdHJ1Y3Rvcih0KXt0aGlzLl9oYXNoTmFtZT10JiZlbmNvZGVVUklDb21wb25lbnQodCksZS5iaW5kQWxsKFtcIl9nZXRDdXJyZW50SGFzaFwiLFwiX29uSGFzaENoYW5nZVwiLFwiX3VwZGF0ZUhhc2hcIl0sdGhpcyksdGhpcy5fdXBkYXRlSGFzaD1Kbyh0aGlzLl91cGRhdGVIYXNoVW50aHJvdHRsZWQuYmluZCh0aGlzKSwzMDApO31hZGRUbyh0KXtyZXR1cm4gdGhpcy5fbWFwPXQsZS53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImhhc2hjaGFuZ2VcIix0aGlzLl9vbkhhc2hDaGFuZ2UsITEpLHQub24oXCJtb3ZlZW5kXCIsdGhpcy5fdXBkYXRlSGFzaCksdGhpc31yZW1vdmUoKXtyZXR1cm4gdGhpcy5fbWFwPyh0aGlzLl9tYXAub2ZmKFwibW92ZWVuZFwiLHRoaXMuX3VwZGF0ZUhhc2gpLGUud2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJoYXNoY2hhbmdlXCIsdGhpcy5fb25IYXNoQ2hhbmdlLCExKSxjbGVhclRpbWVvdXQodGhpcy5fdXBkYXRlSGFzaCgpKSx0aGlzLl9tYXA9dm9pZCAwLHRoaXMpOnRoaXN9Z2V0SGFzaFN0cmluZygpe2NvbnN0IHQ9dGhpcy5fbWFwO2lmKCF0KXJldHVybiBcIlwiO2NvbnN0IGk9ZXIodCk7aWYodGhpcy5faGFzaE5hbWUpe2NvbnN0IHQ9dGhpcy5faGFzaE5hbWU7bGV0IG89ITE7Y29uc3Qgcj1lLndpbmRvdy5sb2NhdGlvbi5oYXNoLnNsaWNlKDEpLnNwbGl0KFwiJlwiKS5tYXAoKGU9Pntjb25zdCByPWUuc3BsaXQoXCI9XCIpWzBdO3JldHVybiByPT09dD8obz0hMCxgJHtyfT0ke2l9YCk6ZX0pKS5maWx0ZXIoKGU9PmUpKTtyZXR1cm4gb3x8ci5wdXNoKGAke3R9PSR7aX1gKSxgIyR7ci5qb2luKFwiJlwiKX1gfXJldHVybiBgIyR7aX1gfV9nZXRDdXJyZW50SGFzaCgpe2NvbnN0IHQ9ZS53aW5kb3cubG9jYXRpb24uaGFzaC5yZXBsYWNlKFwiI1wiLFwiXCIpO2lmKHRoaXMuX2hhc2hOYW1lKXtsZXQgZTtyZXR1cm4gdC5zcGxpdChcIiZcIikubWFwKChlPT5lLnNwbGl0KFwiPVwiKSkpLmZvckVhY2goKHQ9Pnt0WzBdPT09dGhpcy5faGFzaE5hbWUmJihlPXQpO30pKSwoZSYmZVsxXXx8XCJcIikuc3BsaXQoXCIvXCIpfXJldHVybiB0LnNwbGl0KFwiL1wiKX1fb25IYXNoQ2hhbmdlKCl7Y29uc3QgZT10aGlzLl9tYXA7aWYoIWUpcmV0dXJuICExO2NvbnN0IHQ9dGhpcy5fZ2V0Q3VycmVudEhhc2goKTtpZih0Lmxlbmd0aD49MyYmIXQuc29tZSgoZT0+aXNOYU4oZSkpKSl7Y29uc3QgaT1lLmRyYWdSb3RhdGUuaXNFbmFibGVkKCkmJmUudG91Y2hab29tUm90YXRlLmlzRW5hYmxlZCgpPysodFszXXx8MCk6ZS5nZXRCZWFyaW5nKCk7cmV0dXJuIGUuanVtcFRvKHtjZW50ZXI6Wyt0WzJdLCt0WzFdXSx6b29tOit0WzBdLGJlYXJpbmc6aSxwaXRjaDorKHRbNF18fDApfSksITB9cmV0dXJuICExfV91cGRhdGVIYXNoVW50aHJvdHRsZWQoKXtjb25zdCB0PWUud2luZG93LmxvY2F0aW9uLmhyZWYucmVwbGFjZSgvKCMuKyk/JC8sdGhpcy5nZXRIYXNoU3RyaW5nKCkpO2Uud2luZG93Lmhpc3RvcnkucmVwbGFjZVN0YXRlKGUud2luZG93Lmhpc3Rvcnkuc3RhdGUsbnVsbCx0KTt9fWZ1bmN0aW9uIGVyKGUsdCl7Y29uc3QgaT1lLmdldENlbnRlcigpLG89TWF0aC5yb3VuZCgxMDAqZS5nZXRab29tKCkpLzEwMCxyPU1hdGguY2VpbCgobypNYXRoLkxOMitNYXRoLmxvZyg1MTIvMzYwLy41KSkvTWF0aC5MTjEwKSxuPU1hdGgucG93KDEwLHIpLGE9TWF0aC5yb3VuZChpLmxuZypuKS9uLHM9TWF0aC5yb3VuZChpLmxhdCpuKS9uLGw9ZS5nZXRCZWFyaW5nKCksYz1lLmdldFBpdGNoKCk7bGV0IGg9dD9gLyR7YX0vJHtzfS8ke299YDpgJHtvfS8ke3N9LyR7YX1gO3JldHVybiAobHx8YykmJihoKz1cIi9cIitNYXRoLnJvdW5kKDEwKmwpLzEwKSxjJiYoaCs9YC8ke01hdGgucm91bmQoYyl9YCksaH1jb25zdCB0cj17bGluZWFyaXR5Oi4zLGVhc2luZzplLmJlemllcigwLDAsLjMsMSl9LGlyPWUuZXh0ZW5kKHtkZWNlbGVyYXRpb246MjUwMCxtYXhTcGVlZDoxNDAwfSx0ciksb3I9ZS5leHRlbmQoe2RlY2VsZXJhdGlvbjoyMCxtYXhTcGVlZDoxNDAwfSx0cikscnI9ZS5leHRlbmQoe2RlY2VsZXJhdGlvbjoxZTMsbWF4U3BlZWQ6MzYwfSx0ciksbnI9ZS5leHRlbmQoe2RlY2VsZXJhdGlvbjoxZTMsbWF4U3BlZWQ6OTB9LHRyKTtjbGFzcyBhcntjb25zdHJ1Y3RvcihlKXt0aGlzLl9tYXA9ZSx0aGlzLmNsZWFyKCk7fWNsZWFyKCl7dGhpcy5faW5lcnRpYUJ1ZmZlcj1bXTt9cmVjb3JkKHQpe3RoaXMuX2RyYWluSW5lcnRpYUJ1ZmZlcigpLHRoaXMuX2luZXJ0aWFCdWZmZXIucHVzaCh7dGltZTplLmV4cG9ydGVkLm5vdygpLHNldHRpbmdzOnR9KTt9X2RyYWluSW5lcnRpYUJ1ZmZlcigpe2NvbnN0IHQ9dGhpcy5faW5lcnRpYUJ1ZmZlcixpPWUuZXhwb3J0ZWQubm93KCk7Zm9yKDt0Lmxlbmd0aD4wJiZpLXRbMF0udGltZT4xNjA7KXQuc2hpZnQoKTt9X29uTW92ZUVuZCh0KXtpZih0aGlzLl9kcmFpbkluZXJ0aWFCdWZmZXIoKSx0aGlzLl9pbmVydGlhQnVmZmVyLmxlbmd0aDwyKXJldHVybjtjb25zdCBpPXt6b29tOjAsYmVhcmluZzowLHBpdGNoOjAscGFuOm5ldyBlLnBvaW50R2VvbWV0cnkoMCwwKSxwaW5jaEFyb3VuZDp2b2lkIDAsYXJvdW5kOnZvaWQgMH07Zm9yKGNvbnN0e3NldHRpbmdzOmV9b2YgdGhpcy5faW5lcnRpYUJ1ZmZlcilpLnpvb20rPWUuem9vbURlbHRhfHwwLGkuYmVhcmluZys9ZS5iZWFyaW5nRGVsdGF8fDAsaS5waXRjaCs9ZS5waXRjaERlbHRhfHwwLGUucGFuRGVsdGEmJmkucGFuLl9hZGQoZS5wYW5EZWx0YSksZS5hcm91bmQmJihpLmFyb3VuZD1lLmFyb3VuZCksZS5waW5jaEFyb3VuZCYmKGkucGluY2hBcm91bmQ9ZS5waW5jaEFyb3VuZCk7Y29uc3Qgbz10aGlzLl9pbmVydGlhQnVmZmVyW3RoaXMuX2luZXJ0aWFCdWZmZXIubGVuZ3RoLTFdLnRpbWUtdGhpcy5faW5lcnRpYUJ1ZmZlclswXS50aW1lLHI9e307aWYoaS5wYW4ubWFnKCkpe2NvbnN0IG49bHIoaS5wYW4ubWFnKCksbyxlLmV4dGVuZCh7fSxpcix0fHx7fSkpO3Iub2Zmc2V0PWkucGFuLm11bHQobi5hbW91bnQvaS5wYW4ubWFnKCkpLHIuY2VudGVyPXRoaXMuX21hcC50cmFuc2Zvcm0uY2VudGVyLHNyKHIsbik7fWlmKGkuem9vbSl7Y29uc3QgZT1scihpLnpvb20sbyxvcik7ci56b29tPXRoaXMuX21hcC50cmFuc2Zvcm0uem9vbStlLmFtb3VudCxzcihyLGUpO31pZihpLmJlYXJpbmcpe2NvbnN0IHQ9bHIoaS5iZWFyaW5nLG8scnIpO3IuYmVhcmluZz10aGlzLl9tYXAudHJhbnNmb3JtLmJlYXJpbmcrZS5jbGFtcCh0LmFtb3VudCwtMTc5LDE3OSksc3Iocix0KTt9aWYoaS5waXRjaCl7Y29uc3QgZT1scihpLnBpdGNoLG8sbnIpO3IucGl0Y2g9dGhpcy5fbWFwLnRyYW5zZm9ybS5waXRjaCtlLmFtb3VudCxzcihyLGUpO31pZihyLnpvb218fHIuYmVhcmluZyl7Y29uc3QgZT12b2lkIDA9PT1pLnBpbmNoQXJvdW5kP2kuYXJvdW5kOmkucGluY2hBcm91bmQ7ci5hcm91bmQ9ZT90aGlzLl9tYXAudW5wcm9qZWN0KGUpOnRoaXMuX21hcC5nZXRDZW50ZXIoKTt9cmV0dXJuIHRoaXMuY2xlYXIoKSxyLm5vTW92ZVN0YXJ0PSEwLHJ9fWZ1bmN0aW9uIHNyKGUsdCl7KCFlLmR1cmF0aW9ufHxlLmR1cmF0aW9uPHQuZHVyYXRpb24pJiYoZS5kdXJhdGlvbj10LmR1cmF0aW9uLGUuZWFzaW5nPXQuZWFzaW5nKTt9ZnVuY3Rpb24gbHIodCxpLG8pe2NvbnN0e21heFNwZWVkOnIsbGluZWFyaXR5Om4sZGVjZWxlcmF0aW9uOmF9PW8scz1lLmNsYW1wKHQqbi8oaS8xZTMpLC1yLHIpLGw9TWF0aC5hYnMocykvKGEqbik7cmV0dXJuIHtlYXNpbmc6by5lYXNpbmcsZHVyYXRpb246MWUzKmwsYW1vdW50OnMqKGwvMil9fWNsYXNzIGNyIGV4dGVuZHMgZS5FdmVudHtwcmV2ZW50RGVmYXVsdCgpe3RoaXMuX2RlZmF1bHRQcmV2ZW50ZWQ9ITA7fWdldCBkZWZhdWx0UHJldmVudGVkKCl7cmV0dXJuIHRoaXMuX2RlZmF1bHRQcmV2ZW50ZWR9Y29uc3RydWN0b3IodCxpLG8scj17fSl7Y29uc3Qgbj1wKGkuZ2V0Q2FudmFzQ29udGFpbmVyKCksbyksYT1pLnVucHJvamVjdChuKTtzdXBlcih0LGUuZXh0ZW5kKHtwb2ludDpuLGxuZ0xhdDphLG9yaWdpbmFsRXZlbnQ6b30scikpLHRoaXMuX2RlZmF1bHRQcmV2ZW50ZWQ9ITEsdGhpcy50YXJnZXQ9aTt9fWNsYXNzIGhyIGV4dGVuZHMgZS5FdmVudHtwcmV2ZW50RGVmYXVsdCgpe3RoaXMuX2RlZmF1bHRQcmV2ZW50ZWQ9ITA7fWdldCBkZWZhdWx0UHJldmVudGVkKCl7cmV0dXJuIHRoaXMuX2RlZmF1bHRQcmV2ZW50ZWR9Y29uc3RydWN0b3IodCxpLG8pe2NvbnN0IHI9XCJ0b3VjaGVuZFwiPT09dD9vLmNoYW5nZWRUb3VjaGVzOm8udG91Y2hlcyxuPW0oaS5nZXRDYW52YXNDb250YWluZXIoKSxyKSxhPW4ubWFwKChlPT5pLnVucHJvamVjdChlKSkpLHM9bi5yZWR1Y2UoKChlLHQsaSxvKT0+ZS5hZGQodC5kaXYoby5sZW5ndGgpKSksbmV3IGUucG9pbnRHZW9tZXRyeSgwLDApKTtzdXBlcih0LHtwb2ludHM6bixwb2ludDpzLGxuZ0xhdHM6YSxsbmdMYXQ6aS51bnByb2plY3Qocyksb3JpZ2luYWxFdmVudDpvfSksdGhpcy5fZGVmYXVsdFByZXZlbnRlZD0hMTt9fWNsYXNzIF9yIGV4dGVuZHMgZS5FdmVudHtwcmV2ZW50RGVmYXVsdCgpe3RoaXMuX2RlZmF1bHRQcmV2ZW50ZWQ9ITA7fWdldCBkZWZhdWx0UHJldmVudGVkKCl7cmV0dXJuIHRoaXMuX2RlZmF1bHRQcmV2ZW50ZWR9Y29uc3RydWN0b3IoZSx0LGkpe3N1cGVyKGUse29yaWdpbmFsRXZlbnQ6aX0pLHRoaXMuX2RlZmF1bHRQcmV2ZW50ZWQ9ITE7fX1jbGFzcyB1cntjb25zdHJ1Y3RvcihlLHQpe3RoaXMuX21hcD1lLHRoaXMuX2NsaWNrVG9sZXJhbmNlPXQuY2xpY2tUb2xlcmFuY2U7fXJlc2V0KCl7dGhpcy5fbW91c2Vkb3duUG9zPXZvaWQgMDt9d2hlZWwoZSl7cmV0dXJuIHRoaXMuX2ZpcmVQcmV2ZW50YWJsZShuZXcgX3IoZS50eXBlLHRoaXMuX21hcCxlKSl9bW91c2Vkb3duKGUsdCl7cmV0dXJuIHRoaXMuX21vdXNlZG93blBvcz10LHRoaXMuX2ZpcmVQcmV2ZW50YWJsZShuZXcgY3IoZS50eXBlLHRoaXMuX21hcCxlKSl9bW91c2V1cChlKXt0aGlzLl9tYXAuZmlyZShuZXcgY3IoZS50eXBlLHRoaXMuX21hcCxlKSk7fXByZWNsaWNrKHQpe2NvbnN0IGk9ZS5leHRlbmQoe30sdCk7aS50eXBlPVwicHJlY2xpY2tcIix0aGlzLl9tYXAuZmlyZShuZXcgY3IoaS50eXBlLHRoaXMuX21hcCxpKSk7fWNsaWNrKGUsdCl7dGhpcy5fbW91c2Vkb3duUG9zJiZ0aGlzLl9tb3VzZWRvd25Qb3MuZGlzdCh0KT49dGhpcy5fY2xpY2tUb2xlcmFuY2V8fCh0aGlzLnByZWNsaWNrKGUpLHRoaXMuX21hcC5maXJlKG5ldyBjcihlLnR5cGUsdGhpcy5fbWFwLGUpKSk7fWRibGNsaWNrKGUpe3JldHVybiB0aGlzLl9maXJlUHJldmVudGFibGUobmV3IGNyKGUudHlwZSx0aGlzLl9tYXAsZSkpfW1vdXNlb3ZlcihlKXt0aGlzLl9tYXAuZmlyZShuZXcgY3IoZS50eXBlLHRoaXMuX21hcCxlKSk7fW1vdXNlb3V0KGUpe3RoaXMuX21hcC5maXJlKG5ldyBjcihlLnR5cGUsdGhpcy5fbWFwLGUpKTt9dG91Y2hzdGFydChlKXtyZXR1cm4gdGhpcy5fZmlyZVByZXZlbnRhYmxlKG5ldyBocihlLnR5cGUsdGhpcy5fbWFwLGUpKX10b3VjaG1vdmUoZSl7dGhpcy5fbWFwLmZpcmUobmV3IGhyKGUudHlwZSx0aGlzLl9tYXAsZSkpO310b3VjaGVuZChlKXt0aGlzLl9tYXAuZmlyZShuZXcgaHIoZS50eXBlLHRoaXMuX21hcCxlKSk7fXRvdWNoY2FuY2VsKGUpe3RoaXMuX21hcC5maXJlKG5ldyBocihlLnR5cGUsdGhpcy5fbWFwLGUpKTt9X2ZpcmVQcmV2ZW50YWJsZShlKXtpZih0aGlzLl9tYXAuZmlyZShlKSxlLmRlZmF1bHRQcmV2ZW50ZWQpcmV0dXJuIHt9fWlzRW5hYmxlZCgpe3JldHVybiAhMH1pc0FjdGl2ZSgpe3JldHVybiAhMX1lbmFibGUoKXt9ZGlzYWJsZSgpe319Y2xhc3MgZHJ7Y29uc3RydWN0b3IoZSl7dGhpcy5fbWFwPWU7fXJlc2V0KCl7dGhpcy5fZGVsYXlDb250ZXh0TWVudT0hMSx0aGlzLl9jb250ZXh0TWVudUV2ZW50PXZvaWQgMDt9bW91c2Vtb3ZlKGUpe3RoaXMuX21hcC5maXJlKG5ldyBjcihlLnR5cGUsdGhpcy5fbWFwLGUpKTt9bW91c2Vkb3duKCl7dGhpcy5fZGVsYXlDb250ZXh0TWVudT0hMDt9bW91c2V1cCgpe3RoaXMuX2RlbGF5Q29udGV4dE1lbnU9ITEsdGhpcy5fY29udGV4dE1lbnVFdmVudCYmKHRoaXMuX21hcC5maXJlKG5ldyBjcihcImNvbnRleHRtZW51XCIsdGhpcy5fbWFwLHRoaXMuX2NvbnRleHRNZW51RXZlbnQpKSxkZWxldGUgdGhpcy5fY29udGV4dE1lbnVFdmVudCk7fWNvbnRleHRtZW51KGUpe3RoaXMuX2RlbGF5Q29udGV4dE1lbnU/dGhpcy5fY29udGV4dE1lbnVFdmVudD1lOnRoaXMuX21hcC5maXJlKG5ldyBjcihlLnR5cGUsdGhpcy5fbWFwLGUpKSx0aGlzLl9tYXAubGlzdGVucyhcImNvbnRleHRtZW51XCIpJiZlLnByZXZlbnREZWZhdWx0KCk7fWlzRW5hYmxlZCgpe3JldHVybiAhMH1pc0FjdGl2ZSgpe3JldHVybiAhMX1lbmFibGUoKXt9ZGlzYWJsZSgpe319Y2xhc3MgcHJ7Y29uc3RydWN0b3IoZSx0KXt0aGlzLl9tYXA9ZSx0aGlzLl9lbD1lLmdldENhbnZhc0NvbnRhaW5lcigpLHRoaXMuX2NvbnRhaW5lcj1lLmdldENvbnRhaW5lcigpLHRoaXMuX2NsaWNrVG9sZXJhbmNlPXQuY2xpY2tUb2xlcmFuY2V8fDE7fWlzRW5hYmxlZCgpe3JldHVybiAhIXRoaXMuX2VuYWJsZWR9aXNBY3RpdmUoKXtyZXR1cm4gISF0aGlzLl9hY3RpdmV9ZW5hYmxlKCl7dGhpcy5pc0VuYWJsZWQoKXx8KHRoaXMuX2VuYWJsZWQ9ITApO31kaXNhYmxlKCl7dGhpcy5pc0VuYWJsZWQoKSYmKHRoaXMuX2VuYWJsZWQ9ITEpO31tb3VzZWRvd24oZSx0KXt0aGlzLmlzRW5hYmxlZCgpJiZlLnNoaWZ0S2V5JiYwPT09ZS5idXR0b24mJihoKCksdGhpcy5fc3RhcnRQb3M9dGhpcy5fbGFzdFBvcz10LHRoaXMuX2FjdGl2ZT0hMCk7fW1vdXNlbW92ZVdpbmRvdyhlLHQpe2lmKCF0aGlzLl9hY3RpdmUpcmV0dXJuO2NvbnN0IGk9dCxvPXRoaXMuX3N0YXJ0UG9zLHI9dGhpcy5fbGFzdFBvcztpZighb3x8IXJ8fHIuZXF1YWxzKGkpfHwhdGhpcy5fYm94JiZpLmRpc3Qobyk8dGhpcy5fY2xpY2tUb2xlcmFuY2UpcmV0dXJuO3RoaXMuX2xhc3RQb3M9aSx0aGlzLl9ib3h8fCh0aGlzLl9ib3g9bihcImRpdlwiLFwibWFwYm94Z2wtYm94em9vbVwiLHRoaXMuX2NvbnRhaW5lciksdGhpcy5fY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC1jcm9zc2hhaXJcIiksdGhpcy5fZmlyZUV2ZW50KFwiYm94em9vbXN0YXJ0XCIsZSkpO2NvbnN0IGE9TWF0aC5taW4oby54LGkueCkscz1NYXRoLm1heChvLngsaS54KSxsPU1hdGgubWluKG8ueSxpLnkpLGM9TWF0aC5tYXgoby55LGkueSk7dGhpcy5fbWFwLl9yZXF1ZXN0RG9tVGFzaygoKCk9Pnt0aGlzLl9ib3gmJih0aGlzLl9ib3guc3R5bGUudHJhbnNmb3JtPWB0cmFuc2xhdGUoJHthfXB4LCR7bH1weClgLHRoaXMuX2JveC5zdHlsZS53aWR0aD1zLWErXCJweFwiLHRoaXMuX2JveC5zdHlsZS5oZWlnaHQ9Yy1sK1wicHhcIik7fSkpO31tb3VzZXVwV2luZG93KHQsaSl7aWYoIXRoaXMuX2FjdGl2ZSlyZXR1cm47Y29uc3Qgbz10aGlzLl9zdGFydFBvcyxyPWk7aWYobyYmMD09PXQuYnV0dG9uKXtpZih0aGlzLnJlc2V0KCksZCgpLG8ueCE9PXIueHx8by55IT09ci55KXJldHVybiB0aGlzLl9tYXAuZmlyZShuZXcgZS5FdmVudChcImJveHpvb21lbmRcIix7b3JpZ2luYWxFdmVudDp0fSkpLHtjYW1lcmFBbmltYXRpb246ZT0+ZS5maXRTY3JlZW5Db29yZGluYXRlcyhvLHIsdGhpcy5fbWFwLmdldEJlYXJpbmcoKSx7bGluZWFyOiExfSl9O3RoaXMuX2ZpcmVFdmVudChcImJveHpvb21jYW5jZWxcIix0KTt9fWtleWRvd24oZSl7dGhpcy5fYWN0aXZlJiYyNz09PWUua2V5Q29kZSYmKHRoaXMucmVzZXQoKSx0aGlzLl9maXJlRXZlbnQoXCJib3h6b29tY2FuY2VsXCIsZSkpO31ibHVyKCl7dGhpcy5yZXNldCgpO31yZXNldCgpe3RoaXMuX2FjdGl2ZT0hMSx0aGlzLl9jb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWNyb3NzaGFpclwiKSx0aGlzLl9ib3gmJih0aGlzLl9ib3gucmVtb3ZlKCksdGhpcy5fYm94PW51bGwpLF8oKSxkZWxldGUgdGhpcy5fc3RhcnRQb3MsZGVsZXRlIHRoaXMuX2xhc3RQb3M7fV9maXJlRXZlbnQodCxpKXtyZXR1cm4gdGhpcy5fbWFwLmZpcmUobmV3IGUuRXZlbnQodCx7b3JpZ2luYWxFdmVudDppfSkpfX1mdW5jdGlvbiBtcihlLHQpe2NvbnN0IGk9e307Zm9yKGxldCBvPTA7bzxlLmxlbmd0aDtvKyspaVtlW29dLmlkZW50aWZpZXJdPXRbb107cmV0dXJuIGl9Y2xhc3MgZnJ7Y29uc3RydWN0b3IoZSl7dGhpcy5yZXNldCgpLHRoaXMubnVtVG91Y2hlcz1lLm51bVRvdWNoZXM7fXJlc2V0KCl7dGhpcy5jZW50cm9pZD12b2lkIDAsdGhpcy5zdGFydFRpbWU9MCx0aGlzLnRvdWNoZXM9e30sdGhpcy5hYm9ydGVkPSExO310b3VjaHN0YXJ0KHQsaSxvKXsodGhpcy5jZW50cm9pZHx8by5sZW5ndGg+dGhpcy5udW1Ub3VjaGVzKSYmKHRoaXMuYWJvcnRlZD0hMCksdGhpcy5hYm9ydGVkfHwoMD09PXRoaXMuc3RhcnRUaW1lJiYodGhpcy5zdGFydFRpbWU9dC50aW1lU3RhbXApLG8ubGVuZ3RoPT09dGhpcy5udW1Ub3VjaGVzJiYodGhpcy5jZW50cm9pZD1mdW5jdGlvbih0KXtjb25zdCBpPW5ldyBlLnBvaW50R2VvbWV0cnkoMCwwKTtmb3IoY29uc3QgZSBvZiB0KWkuX2FkZChlKTtyZXR1cm4gaS5kaXYodC5sZW5ndGgpfShpKSx0aGlzLnRvdWNoZXM9bXIobyxpKSkpO310b3VjaG1vdmUoZSx0LGkpe2lmKHRoaXMuYWJvcnRlZHx8IXRoaXMuY2VudHJvaWQpcmV0dXJuO2NvbnN0IG89bXIoaSx0KTtmb3IoY29uc3QgZSBpbiB0aGlzLnRvdWNoZXMpe2NvbnN0IHQ9dGhpcy50b3VjaGVzW2VdLGk9b1tlXTsoIWl8fGkuZGlzdCh0KT4zMCkmJih0aGlzLmFib3J0ZWQ9ITApO319dG91Y2hlbmQoZSx0LGkpe2lmKCghdGhpcy5jZW50cm9pZHx8ZS50aW1lU3RhbXAtdGhpcy5zdGFydFRpbWU+NTAwKSYmKHRoaXMuYWJvcnRlZD0hMCksMD09PWkubGVuZ3RoKXtjb25zdCBlPSF0aGlzLmFib3J0ZWQmJnRoaXMuY2VudHJvaWQ7aWYodGhpcy5yZXNldCgpLGUpcmV0dXJuIGV9fX1jbGFzcyBncntjb25zdHJ1Y3RvcihlKXt0aGlzLnNpbmdsZVRhcD1uZXcgZnIoZSksdGhpcy5udW1UYXBzPWUubnVtVGFwcyx0aGlzLnJlc2V0KCk7fXJlc2V0KCl7dGhpcy5sYXN0VGltZT0xLzAsdGhpcy5sYXN0VGFwPXZvaWQgMCx0aGlzLmNvdW50PTAsdGhpcy5zaW5nbGVUYXAucmVzZXQoKTt9dG91Y2hzdGFydChlLHQsaSl7dGhpcy5zaW5nbGVUYXAudG91Y2hzdGFydChlLHQsaSk7fXRvdWNobW92ZShlLHQsaSl7dGhpcy5zaW5nbGVUYXAudG91Y2htb3ZlKGUsdCxpKTt9dG91Y2hlbmQoZSx0LGkpe2NvbnN0IG89dGhpcy5zaW5nbGVUYXAudG91Y2hlbmQoZSx0LGkpO2lmKG8pe2NvbnN0IHQ9ZS50aW1lU3RhbXAtdGhpcy5sYXN0VGltZTw1MDAsaT0hdGhpcy5sYXN0VGFwfHx0aGlzLmxhc3RUYXAuZGlzdChvKTwzMDtpZih0JiZpfHx0aGlzLnJlc2V0KCksdGhpcy5jb3VudCsrLHRoaXMubGFzdFRpbWU9ZS50aW1lU3RhbXAsdGhpcy5sYXN0VGFwPW8sdGhpcy5jb3VudD09PXRoaXMubnVtVGFwcylyZXR1cm4gdGhpcy5yZXNldCgpLG99fX1jbGFzcyB2cntjb25zdHJ1Y3Rvcigpe3RoaXMuX3pvb21Jbj1uZXcgZ3Ioe251bVRvdWNoZXM6MSxudW1UYXBzOjJ9KSx0aGlzLl96b29tT3V0PW5ldyBncih7bnVtVG91Y2hlczoyLG51bVRhcHM6MX0pLHRoaXMucmVzZXQoKTt9cmVzZXQoKXt0aGlzLl9hY3RpdmU9ITEsdGhpcy5fem9vbUluLnJlc2V0KCksdGhpcy5fem9vbU91dC5yZXNldCgpO310b3VjaHN0YXJ0KGUsdCxpKXt0aGlzLl96b29tSW4udG91Y2hzdGFydChlLHQsaSksdGhpcy5fem9vbU91dC50b3VjaHN0YXJ0KGUsdCxpKTt9dG91Y2htb3ZlKGUsdCxpKXt0aGlzLl96b29tSW4udG91Y2htb3ZlKGUsdCxpKSx0aGlzLl96b29tT3V0LnRvdWNobW92ZShlLHQsaSk7fXRvdWNoZW5kKGUsdCxpKXtjb25zdCBvPXRoaXMuX3pvb21Jbi50b3VjaGVuZChlLHQsaSkscj10aGlzLl96b29tT3V0LnRvdWNoZW5kKGUsdCxpKTtyZXR1cm4gbz8odGhpcy5fYWN0aXZlPSEwLGUucHJldmVudERlZmF1bHQoKSxzZXRUaW1lb3V0KCgoKT0+dGhpcy5yZXNldCgpKSwwKSx7Y2FtZXJhQW5pbWF0aW9uOnQ9PnQuZWFzZVRvKHtkdXJhdGlvbjozMDAsem9vbTp0LmdldFpvb20oKSsxLGFyb3VuZDp0LnVucHJvamVjdChvKX0se29yaWdpbmFsRXZlbnQ6ZX0pfSk6cj8odGhpcy5fYWN0aXZlPSEwLGUucHJldmVudERlZmF1bHQoKSxzZXRUaW1lb3V0KCgoKT0+dGhpcy5yZXNldCgpKSwwKSx7Y2FtZXJhQW5pbWF0aW9uOnQ9PnQuZWFzZVRvKHtkdXJhdGlvbjozMDAsem9vbTp0LmdldFpvb20oKS0xLGFyb3VuZDp0LnVucHJvamVjdChyKX0se29yaWdpbmFsRXZlbnQ6ZX0pfSk6dm9pZCAwfXRvdWNoY2FuY2VsKCl7dGhpcy5yZXNldCgpO31lbmFibGUoKXt0aGlzLl9lbmFibGVkPSEwO31kaXNhYmxlKCl7dGhpcy5fZW5hYmxlZD0hMSx0aGlzLnJlc2V0KCk7fWlzRW5hYmxlZCgpe3JldHVybiB0aGlzLl9lbmFibGVkfWlzQWN0aXZlKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZX19Y29uc3QgeHI9ezA6MSwyOjJ9O2NsYXNzIHlye2NvbnN0cnVjdG9yKGUpe3RoaXMucmVzZXQoKSx0aGlzLl9jbGlja1RvbGVyYW5jZT1lLmNsaWNrVG9sZXJhbmNlfHwxO31ibHVyKCl7dGhpcy5yZXNldCgpO31yZXNldCgpe3RoaXMuX2FjdGl2ZT0hMSx0aGlzLl9tb3ZlZD0hMSx0aGlzLl9sYXN0UG9pbnQ9dm9pZCAwLHRoaXMuX2V2ZW50QnV0dG9uPXZvaWQgMDt9X2NvcnJlY3RCdXR0b24oZSx0KXtyZXR1cm4gITF9X21vdmUoZSx0KXtyZXR1cm4ge319bW91c2Vkb3duKGUsdCl7aWYodGhpcy5fbGFzdFBvaW50KXJldHVybjtjb25zdCBpPWYoZSk7dGhpcy5fY29ycmVjdEJ1dHRvbihlLGkpJiYodGhpcy5fbGFzdFBvaW50PXQsdGhpcy5fZXZlbnRCdXR0b249aSk7fW1vdXNlbW92ZVdpbmRvdyhlLHQpe2NvbnN0IGk9dGhpcy5fbGFzdFBvaW50O2lmKGkpaWYoZS5wcmV2ZW50RGVmYXVsdCgpLG51bGwhPXRoaXMuX2V2ZW50QnV0dG9uJiZmdW5jdGlvbihlLHQpe2NvbnN0IGk9eHJbdF07cmV0dXJuIHZvaWQgMD09PWUuYnV0dG9uc3x8KGUuYnV0dG9ucyZpKSE9PWl9KGUsdGhpcy5fZXZlbnRCdXR0b24pKXRoaXMucmVzZXQoKTtlbHNlIGlmKHRoaXMuX21vdmVkfHwhKHQuZGlzdChpKTx0aGlzLl9jbGlja1RvbGVyYW5jZSkpcmV0dXJuIHRoaXMuX21vdmVkPSEwLHRoaXMuX2xhc3RQb2ludD10LHRoaXMuX21vdmUoaSx0KX1tb3VzZXVwV2luZG93KGUpe3RoaXMuX2xhc3RQb2ludCYmZihlKT09PXRoaXMuX2V2ZW50QnV0dG9uJiYodGhpcy5fbW92ZWQmJmQoKSx0aGlzLnJlc2V0KCkpO31lbmFibGUoKXt0aGlzLl9lbmFibGVkPSEwO31kaXNhYmxlKCl7dGhpcy5fZW5hYmxlZD0hMSx0aGlzLnJlc2V0KCk7fWlzRW5hYmxlZCgpe3JldHVybiB0aGlzLl9lbmFibGVkfWlzQWN0aXZlKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZX19Y2xhc3MgYnIgZXh0ZW5kcyB5cnttb3VzZWRvd24oZSx0KXtzdXBlci5tb3VzZWRvd24oZSx0KSx0aGlzLl9sYXN0UG9pbnQmJih0aGlzLl9hY3RpdmU9ITApO31fY29ycmVjdEJ1dHRvbihlLHQpe3JldHVybiAwPT09dCYmIWUuY3RybEtleX1fbW92ZShlLHQpe3JldHVybiB7YXJvdW5kOnQscGFuRGVsdGE6dC5zdWIoZSl9fX1jbGFzcyB3ciBleHRlbmRzIHlye19jb3JyZWN0QnV0dG9uKGUsdCl7cmV0dXJuIDA9PT10JiZlLmN0cmxLZXl8fDI9PT10fV9tb3ZlKGUsdCl7Y29uc3QgaT0uOCoodC54LWUueCk7aWYoaSlyZXR1cm4gdGhpcy5fYWN0aXZlPSEwLHtiZWFyaW5nRGVsdGE6aX19Y29udGV4dG1lbnUoZSl7ZS5wcmV2ZW50RGVmYXVsdCgpO319Y2xhc3MgVHIgZXh0ZW5kcyB5cntfY29ycmVjdEJ1dHRvbihlLHQpe3JldHVybiAwPT09dCYmZS5jdHJsS2V5fHwyPT09dH1fbW92ZShlLHQpe2NvbnN0IGk9LS41Kih0LnktZS55KTtpZihpKXJldHVybiB0aGlzLl9hY3RpdmU9ITAse3BpdGNoRGVsdGE6aX19Y29udGV4dG1lbnUoZSl7ZS5wcmV2ZW50RGVmYXVsdCgpO319Y2xhc3MgRXJ7Y29uc3RydWN0b3IodCxpKXt0aGlzLl9tYXA9dCx0aGlzLl9lbD10LmdldENhbnZhc0NvbnRhaW5lcigpLHRoaXMuX21pblRvdWNoZXM9MSx0aGlzLl9jbGlja1RvbGVyYW5jZT1pLmNsaWNrVG9sZXJhbmNlfHwxLHRoaXMucmVzZXQoKSxlLmJpbmRBbGwoW1wiX2FkZFRvdWNoUGFuQmxvY2tlclwiLFwiX3Nob3dUb3VjaFBhbkJsb2NrZXJBbGVydFwiXSx0aGlzKTt9cmVzZXQoKXt0aGlzLl9hY3RpdmU9ITEsdGhpcy5fdG91Y2hlcz17fSx0aGlzLl9zdW09bmV3IGUucG9pbnRHZW9tZXRyeSgwLDApO310b3VjaHN0YXJ0KGUsdCxpKXtyZXR1cm4gdGhpcy5fY2FsY3VsYXRlVHJhbnNmb3JtKGUsdCxpKX10b3VjaG1vdmUodCxpLG8pe2lmKHRoaXMuX2FjdGl2ZSYmIShvLmxlbmd0aDx0aGlzLl9taW5Ub3VjaGVzKSl7aWYodGhpcy5fbWFwLl9jb29wZXJhdGl2ZUdlc3R1cmVzJiYhdGhpcy5fbWFwLmlzTW92aW5nKCkpe2lmKDE9PT1vLmxlbmd0aCYmIWUuaXNGdWxsc2NyZWVuKCkpcmV0dXJuIHZvaWQgdGhpcy5fc2hvd1RvdWNoUGFuQmxvY2tlckFsZXJ0KCk7XCJoaWRkZW5cIiE9PXRoaXMuX2FsZXJ0Q29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHkmJih0aGlzLl9hbGVydENvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5PVwiaGlkZGVuXCIsY2xlYXJUaW1lb3V0KHRoaXMuX2FsZXJ0VGltZXIpKTt9cmV0dXJuIHQuY2FuY2VsYWJsZSYmdC5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuX2NhbGN1bGF0ZVRyYW5zZm9ybSh0LGksbyl9fXRvdWNoZW5kKGUsdCxpKXt0aGlzLl9jYWxjdWxhdGVUcmFuc2Zvcm0oZSx0LGkpLHRoaXMuX2FjdGl2ZSYmaS5sZW5ndGg8dGhpcy5fbWluVG91Y2hlcyYmdGhpcy5yZXNldCgpO310b3VjaGNhbmNlbCgpe3RoaXMucmVzZXQoKTt9X2NhbGN1bGF0ZVRyYW5zZm9ybSh0LGksbyl7by5sZW5ndGg+MCYmKHRoaXMuX2FjdGl2ZT0hMCk7Y29uc3Qgcj1tcihvLGkpLG49bmV3IGUucG9pbnRHZW9tZXRyeSgwLDApLGE9bmV3IGUucG9pbnRHZW9tZXRyeSgwLDApO2xldCBzPTA7Zm9yKGNvbnN0IGUgaW4gcil7Y29uc3QgdD1yW2VdLGk9dGhpcy5fdG91Y2hlc1tlXTtpJiYobi5fYWRkKHQpLGEuX2FkZCh0LnN1YihpKSkscysrLHJbZV09dCk7fWlmKHRoaXMuX3RvdWNoZXM9cixzPHRoaXMuX21pblRvdWNoZXN8fCFhLm1hZygpKXJldHVybjtjb25zdCBsPWEuZGl2KHMpO3JldHVybiB0aGlzLl9zdW0uX2FkZChsKSx0aGlzLl9zdW0ubWFnKCk8dGhpcy5fY2xpY2tUb2xlcmFuY2U/dm9pZCAwOnthcm91bmQ6bi5kaXYocykscGFuRGVsdGE6bH19ZW5hYmxlKCl7dGhpcy5fZW5hYmxlZD0hMCx0aGlzLl9tYXAuX2Nvb3BlcmF0aXZlR2VzdHVyZXMmJih0aGlzLl9hZGRUb3VjaFBhbkJsb2NrZXIoKSx0aGlzLl9lbC5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtdG91Y2gtcGFuLWJsb2NrZXItb3ZlcnJpZGVcIixcIm1hcGJveGdsLXNjcm9sbGFibGUtcGFnZVwiKSk7fWRpc2FibGUoKXt0aGlzLl9lbmFibGVkPSExLHRoaXMuX21hcC5fY29vcGVyYXRpdmVHZXN0dXJlcyYmKGNsZWFyVGltZW91dCh0aGlzLl9hbGVydFRpbWVyKSx0aGlzLl9hbGVydENvbnRhaW5lci5yZW1vdmUoKSx0aGlzLl9lbC5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtdG91Y2gtcGFuLWJsb2NrZXItb3ZlcnJpZGVcIixcIm1hcGJveGdsLXNjcm9sbGFibGUtcGFnZVwiKSksdGhpcy5yZXNldCgpO31pc0VuYWJsZWQoKXtyZXR1cm4gISF0aGlzLl9lbmFibGVkfWlzQWN0aXZlKCl7cmV0dXJuICEhdGhpcy5fYWN0aXZlfV9hZGRUb3VjaFBhbkJsb2NrZXIoKXt0aGlzLl9tYXAmJiF0aGlzLl9hbGVydENvbnRhaW5lciYmKHRoaXMuX2FsZXJ0Q29udGFpbmVyPW4oXCJkaXZcIixcIm1hcGJveGdsLXRvdWNoLXBhbi1ibG9ja2VyXCIsdGhpcy5fbWFwLl9jb250YWluZXIpLHRoaXMuX2FsZXJ0Q29udGFpbmVyLnRleHRDb250ZW50PXRoaXMuX21hcC5fZ2V0VUlTdHJpbmcoXCJUb3VjaFBhbkJsb2NrZXIuTWVzc2FnZVwiKSx0aGlzLl9hbGVydENvbnRhaW5lci5zdHlsZS5mb250U2l6ZT1gJHtNYXRoLm1heCgxMCxNYXRoLm1pbigyNCxNYXRoLmZsb29yKC4wNSp0aGlzLl9lbC5jbGllbnRXaWR0aCkpKX1weGApO31fc2hvd1RvdWNoUGFuQmxvY2tlckFsZXJ0KCl7dGhpcy5fYWxlcnRDb250YWluZXIuc3R5bGUudmlzaWJpbGl0eT1cInZpc2libGVcIix0aGlzLl9hbGVydENvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtdG91Y2gtcGFuLWJsb2NrZXItc2hvd1wiKSx0aGlzLl9hbGVydENvbnRhaW5lci5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsXCJhbGVydFwiKSxjbGVhclRpbWVvdXQodGhpcy5fYWxlcnRUaW1lciksdGhpcy5fYWxlcnRUaW1lcj1zZXRUaW1lb3V0KCgoKT0+e3RoaXMuX2FsZXJ0Q29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC10b3VjaC1wYW4tYmxvY2tlci1zaG93XCIpLHRoaXMuX2FsZXJ0Q29udGFpbmVyLnNldEF0dHJpYnV0ZShcInJvbGVcIixcIm51bGxcIik7fSksNTAwKTt9fWNsYXNzIENye2NvbnN0cnVjdG9yKCl7dGhpcy5yZXNldCgpO31yZXNldCgpe3RoaXMuX2FjdGl2ZT0hMSx0aGlzLl9maXJzdFR3b1RvdWNoZXM9dm9pZCAwO31fc3RhcnQoZSl7fV9tb3ZlKGUsdCxpKXtyZXR1cm4ge319dG91Y2hzdGFydChlLHQsaSl7dGhpcy5fZmlyc3RUd29Ub3VjaGVzfHxpLmxlbmd0aDwyfHwodGhpcy5fZmlyc3RUd29Ub3VjaGVzPVtpWzBdLmlkZW50aWZpZXIsaVsxXS5pZGVudGlmaWVyXSx0aGlzLl9zdGFydChbdFswXSx0WzFdXSkpO310b3VjaG1vdmUoZSx0LGkpe2NvbnN0IG89dGhpcy5fZmlyc3RUd29Ub3VjaGVzO2lmKCFvKXJldHVybjtlLnByZXZlbnREZWZhdWx0KCk7Y29uc3RbcixuXT1vLGE9SXIoaSx0LHIpLHM9SXIoaSx0LG4pO2lmKCFhfHwhcylyZXR1cm47Y29uc3QgbD10aGlzLl9hcm91bmRDZW50ZXI/bnVsbDphLmFkZChzKS5kaXYoMik7cmV0dXJuIHRoaXMuX21vdmUoW2Esc10sbCxlKX10b3VjaGVuZChlLHQsaSl7aWYoIXRoaXMuX2ZpcnN0VHdvVG91Y2hlcylyZXR1cm47Y29uc3RbbyxyXT10aGlzLl9maXJzdFR3b1RvdWNoZXMsbj1JcihpLHQsbyksYT1JcihpLHQscik7biYmYXx8KHRoaXMuX2FjdGl2ZSYmZCgpLHRoaXMucmVzZXQoKSk7fXRvdWNoY2FuY2VsKCl7dGhpcy5yZXNldCgpO31lbmFibGUoZSl7dGhpcy5fZW5hYmxlZD0hMCx0aGlzLl9hcm91bmRDZW50ZXI9ISFlJiZcImNlbnRlclwiPT09ZS5hcm91bmQ7fWRpc2FibGUoKXt0aGlzLl9lbmFibGVkPSExLHRoaXMucmVzZXQoKTt9aXNFbmFibGVkKCl7cmV0dXJuIHRoaXMuX2VuYWJsZWR9aXNBY3RpdmUoKXtyZXR1cm4gdGhpcy5fYWN0aXZlfX1mdW5jdGlvbiBJcihlLHQsaSl7Zm9yKGxldCBvPTA7bzxlLmxlbmd0aDtvKyspaWYoZVtvXS5pZGVudGlmaWVyPT09aSlyZXR1cm4gdFtvXX1mdW5jdGlvbiBNcihlLHQpe3JldHVybiBNYXRoLmxvZyhlL3QpL01hdGguTE4yfWNsYXNzIFNyIGV4dGVuZHMgQ3J7cmVzZXQoKXtzdXBlci5yZXNldCgpLHRoaXMuX2Rpc3RhbmNlPTAsdGhpcy5fc3RhcnREaXN0YW5jZT0wO31fc3RhcnQoZSl7dGhpcy5fc3RhcnREaXN0YW5jZT10aGlzLl9kaXN0YW5jZT1lWzBdLmRpc3QoZVsxXSk7fV9tb3ZlKGUsdCl7Y29uc3QgaT10aGlzLl9kaXN0YW5jZTtpZih0aGlzLl9kaXN0YW5jZT1lWzBdLmRpc3QoZVsxXSksdGhpcy5fYWN0aXZlfHwhKE1hdGguYWJzKE1yKHRoaXMuX2Rpc3RhbmNlLHRoaXMuX3N0YXJ0RGlzdGFuY2UpKTwuMSkpcmV0dXJuIHRoaXMuX2FjdGl2ZT0hMCx7em9vbURlbHRhOk1yKHRoaXMuX2Rpc3RhbmNlLGkpLHBpbmNoQXJvdW5kOnR9fX1mdW5jdGlvbiB6cihlLHQpe3JldHVybiAxODAqZS5hbmdsZVdpdGgodCkvTWF0aC5QSX1jbGFzcyBEciBleHRlbmRzIENye3Jlc2V0KCl7c3VwZXIucmVzZXQoKSx0aGlzLl9taW5EaWFtZXRlcj0wLHRoaXMuX3N0YXJ0VmVjdG9yPXZvaWQgMCx0aGlzLl92ZWN0b3I9dm9pZCAwO31fc3RhcnQoZSl7dGhpcy5fc3RhcnRWZWN0b3I9dGhpcy5fdmVjdG9yPWVbMF0uc3ViKGVbMV0pLHRoaXMuX21pbkRpYW1ldGVyPWVbMF0uZGlzdChlWzFdKTt9X21vdmUoZSx0KXtjb25zdCBpPXRoaXMuX3ZlY3RvcjtpZih0aGlzLl92ZWN0b3I9ZVswXS5zdWIoZVsxXSksaSYmKHRoaXMuX2FjdGl2ZXx8IXRoaXMuX2lzQmVsb3dUaHJlc2hvbGQodGhpcy5fdmVjdG9yKSkpcmV0dXJuIHRoaXMuX2FjdGl2ZT0hMCx7YmVhcmluZ0RlbHRhOnpyKHRoaXMuX3ZlY3RvcixpKSxwaW5jaEFyb3VuZDp0fX1faXNCZWxvd1RocmVzaG9sZChlKXt0aGlzLl9taW5EaWFtZXRlcj1NYXRoLm1pbih0aGlzLl9taW5EaWFtZXRlcixlLm1hZygpKTtjb25zdCB0PTI1LyhNYXRoLlBJKnRoaXMuX21pbkRpYW1ldGVyKSozNjAsaT10aGlzLl9zdGFydFZlY3RvcjtpZighaSlyZXR1cm4gITE7Y29uc3Qgbz16cihlLGkpO3JldHVybiBNYXRoLmFicyhvKTx0fX1mdW5jdGlvbiBBcihlKXtyZXR1cm4gTWF0aC5hYnMoZS55KT5NYXRoLmFicyhlLngpfWNsYXNzIFByIGV4dGVuZHMgQ3J7Y29uc3RydWN0b3IoZSl7c3VwZXIoKSx0aGlzLl9tYXA9ZTt9cmVzZXQoKXtzdXBlci5yZXNldCgpLHRoaXMuX3ZhbGlkPXZvaWQgMCx0aGlzLl9maXJzdE1vdmU9dm9pZCAwLHRoaXMuX2xhc3RQb2ludHM9dm9pZCAwO31fc3RhcnQoZSl7dGhpcy5fbGFzdFBvaW50cz1lLEFyKGVbMF0uc3ViKGVbMV0pKSYmKHRoaXMuX3ZhbGlkPSExKTt9X21vdmUodCxpLG8pe2NvbnN0IHI9dGhpcy5fbGFzdFBvaW50cztpZighcilyZXR1cm47Y29uc3Qgbj10WzBdLnN1YihyWzBdKSxhPXRbMV0uc3ViKHJbMV0pO3JldHVybiB0aGlzLl9tYXAuX2Nvb3BlcmF0aXZlR2VzdHVyZXMmJiFlLmlzRnVsbHNjcmVlbigpJiZvLnRvdWNoZXMubGVuZ3RoPDN8fCh0aGlzLl92YWxpZD10aGlzLmdlc3R1cmVCZWdpbnNWZXJ0aWNhbGx5KG4sYSxvLnRpbWVTdGFtcCksIXRoaXMuX3ZhbGlkKT92b2lkIDA6KHRoaXMuX2xhc3RQb2ludHM9dCx0aGlzLl9hY3RpdmU9ITAse3BpdGNoRGVsdGE6KG4ueSthLnkpLzIqLS41fSl9Z2VzdHVyZUJlZ2luc1ZlcnRpY2FsbHkoZSx0LGkpe2lmKHZvaWQgMCE9PXRoaXMuX3ZhbGlkKXJldHVybiB0aGlzLl92YWxpZDtjb25zdCBvPWUubWFnKCk+PTIscj10Lm1hZygpPj0yO2lmKCFvJiYhcilyZXR1cm47aWYoIW98fCFyKXJldHVybiBudWxsPT10aGlzLl9maXJzdE1vdmUmJih0aGlzLl9maXJzdE1vdmU9aSksaS10aGlzLl9maXJzdE1vdmU8MTAwJiZ2b2lkIDA7Y29uc3Qgbj1lLnk+MD09dC55PjA7cmV0dXJuIEFyKGUpJiZBcih0KSYmbn19Y29uc3QgTHI9e3BhblN0ZXA6MTAwLGJlYXJpbmdTdGVwOjE1LHBpdGNoU3RlcDoxMH07Y2xhc3MgUnJ7Y29uc3RydWN0b3IoKXtjb25zdCBlPUxyO3RoaXMuX3BhblN0ZXA9ZS5wYW5TdGVwLHRoaXMuX2JlYXJpbmdTdGVwPWUuYmVhcmluZ1N0ZXAsdGhpcy5fcGl0Y2hTdGVwPWUucGl0Y2hTdGVwLHRoaXMuX3JvdGF0aW9uRGlzYWJsZWQ9ITE7fWJsdXIoKXt0aGlzLnJlc2V0KCk7fXJlc2V0KCl7dGhpcy5fYWN0aXZlPSExO31rZXlkb3duKGUpe2lmKGUuYWx0S2V5fHxlLmN0cmxLZXl8fGUubWV0YUtleSlyZXR1cm47bGV0IHQ9MCxpPTAsbz0wLHI9MCxuPTA7c3dpdGNoKGUua2V5Q29kZSl7Y2FzZSA2MTpjYXNlIDEwNzpjYXNlIDE3MTpjYXNlIDE4Nzp0PTE7YnJlYWs7Y2FzZSAxODk6Y2FzZSAxMDk6Y2FzZSAxNzM6dD0tMTticmVhaztjYXNlIDM3OmUuc2hpZnRLZXk/aT0tMTooZS5wcmV2ZW50RGVmYXVsdCgpLHI9LTEpO2JyZWFrO2Nhc2UgMzk6ZS5zaGlmdEtleT9pPTE6KGUucHJldmVudERlZmF1bHQoKSxyPTEpO2JyZWFrO2Nhc2UgMzg6ZS5zaGlmdEtleT9vPTE6KGUucHJldmVudERlZmF1bHQoKSxuPS0xKTticmVhaztjYXNlIDQwOmUuc2hpZnRLZXk/bz0tMTooZS5wcmV2ZW50RGVmYXVsdCgpLG49MSk7YnJlYWs7ZGVmYXVsdDpyZXR1cm59cmV0dXJuIHRoaXMuX3JvdGF0aW9uRGlzYWJsZWQmJihpPTAsbz0wKSx7Y2FtZXJhQW5pbWF0aW9uOmE9Pntjb25zdCBzPWEuZ2V0Wm9vbSgpO2EuZWFzZVRvKHtkdXJhdGlvbjozMDAsZWFzZUlkOlwia2V5Ym9hcmRIYW5kbGVyXCIsZWFzaW5nOk9yLHpvb206dD9NYXRoLnJvdW5kKHMpK3QqKGUuc2hpZnRLZXk/MjoxKTpzLGJlYXJpbmc6YS5nZXRCZWFyaW5nKCkraSp0aGlzLl9iZWFyaW5nU3RlcCxwaXRjaDphLmdldFBpdGNoKCkrbyp0aGlzLl9waXRjaFN0ZXAsb2Zmc2V0Olstcip0aGlzLl9wYW5TdGVwLC1uKnRoaXMuX3BhblN0ZXBdLGNlbnRlcjphLmdldENlbnRlcigpfSx7b3JpZ2luYWxFdmVudDplfSk7fX19ZW5hYmxlKCl7dGhpcy5fZW5hYmxlZD0hMDt9ZGlzYWJsZSgpe3RoaXMuX2VuYWJsZWQ9ITEsdGhpcy5yZXNldCgpO31pc0VuYWJsZWQoKXtyZXR1cm4gdGhpcy5fZW5hYmxlZH1pc0FjdGl2ZSgpe3JldHVybiB0aGlzLl9hY3RpdmV9ZGlzYWJsZVJvdGF0aW9uKCl7dGhpcy5fcm90YXRpb25EaXNhYmxlZD0hMDt9ZW5hYmxlUm90YXRpb24oKXt0aGlzLl9yb3RhdGlvbkRpc2FibGVkPSExO319ZnVuY3Rpb24gT3IoZSl7cmV0dXJuIGUqKDItZSl9Y29uc3QgQnI9NC4wMDAyNDQxNDA2MjU7Y2xhc3Mga3J7Y29uc3RydWN0b3IodCxpKXt0aGlzLl9tYXA9dCx0aGlzLl9lbD10LmdldENhbnZhc0NvbnRhaW5lcigpLHRoaXMuX2hhbmRsZXI9aSx0aGlzLl9kZWx0YT0wLHRoaXMuX2RlZmF1bHRab29tUmF0ZT0uMDEsdGhpcy5fd2hlZWxab29tUmF0ZT0uMDAyMjIyMjIyMjIyMjIyMjIyMixlLmJpbmRBbGwoW1wiX29uVGltZW91dFwiLFwiX2FkZFNjcm9sbFpvb21CbG9ja2VyXCIsXCJfc2hvd0Jsb2NrZXJBbGVydFwiXSx0aGlzKTt9c2V0Wm9vbVJhdGUoZSl7dGhpcy5fZGVmYXVsdFpvb21SYXRlPWU7fXNldFdoZWVsWm9vbVJhdGUoZSl7dGhpcy5fd2hlZWxab29tUmF0ZT1lO31pc0VuYWJsZWQoKXtyZXR1cm4gISF0aGlzLl9lbmFibGVkfWlzQWN0aXZlKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZXx8dm9pZCAwIT09dGhpcy5fZmluaXNoVGltZW91dH1pc1pvb21pbmcoKXtyZXR1cm4gISF0aGlzLl96b29taW5nfWVuYWJsZShlKXt0aGlzLmlzRW5hYmxlZCgpfHwodGhpcy5fZW5hYmxlZD0hMCx0aGlzLl9hcm91bmRDZW50ZXI9ISFlJiZcImNlbnRlclwiPT09ZS5hcm91bmQsdGhpcy5fbWFwLl9jb29wZXJhdGl2ZUdlc3R1cmVzJiZ0aGlzLl9hZGRTY3JvbGxab29tQmxvY2tlcigpKTt9ZGlzYWJsZSgpe3RoaXMuaXNFbmFibGVkKCkmJih0aGlzLl9lbmFibGVkPSExLHRoaXMuX21hcC5fY29vcGVyYXRpdmVHZXN0dXJlcyYmKGNsZWFyVGltZW91dCh0aGlzLl9hbGVydFRpbWVyKSx0aGlzLl9hbGVydENvbnRhaW5lci5yZW1vdmUoKSkpO313aGVlbCh0KXtpZighdGhpcy5pc0VuYWJsZWQoKSlyZXR1cm47aWYodGhpcy5fbWFwLl9jb29wZXJhdGl2ZUdlc3R1cmVzKXtpZighKHQuY3RybEtleXx8dC5tZXRhS2V5fHx0aGlzLmlzWm9vbWluZygpfHxlLmlzRnVsbHNjcmVlbigpKSlyZXR1cm4gdm9pZCB0aGlzLl9zaG93QmxvY2tlckFsZXJ0KCk7XCJoaWRkZW5cIiE9PXRoaXMuX2FsZXJ0Q29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHkmJih0aGlzLl9hbGVydENvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5PVwiaGlkZGVuXCIsY2xlYXJUaW1lb3V0KHRoaXMuX2FsZXJ0VGltZXIpKTt9bGV0IGk9dC5kZWx0YU1vZGU9PT1lLndpbmRvdy5XaGVlbEV2ZW50LkRPTV9ERUxUQV9MSU5FPzQwKnQuZGVsdGFZOnQuZGVsdGFZO2NvbnN0IG89ZS5leHBvcnRlZC5ub3coKSxyPW8tKHRoaXMuX2xhc3RXaGVlbEV2ZW50VGltZXx8MCk7dGhpcy5fbGFzdFdoZWVsRXZlbnRUaW1lPW8sMCE9PWkmJmklQnI9PTA/dGhpcy5fdHlwZT1cIndoZWVsXCI6MCE9PWkmJk1hdGguYWJzKGkpPDQ/dGhpcy5fdHlwZT1cInRyYWNrcGFkXCI6cj40MDA/KHRoaXMuX3R5cGU9bnVsbCx0aGlzLl9sYXN0VmFsdWU9aSx0aGlzLl90aW1lb3V0PXNldFRpbWVvdXQodGhpcy5fb25UaW1lb3V0LDQwLHQpKTp0aGlzLl90eXBlfHwodGhpcy5fdHlwZT1NYXRoLmFicyhyKmkpPDIwMD9cInRyYWNrcGFkXCI6XCJ3aGVlbFwiLHRoaXMuX3RpbWVvdXQmJihjbGVhclRpbWVvdXQodGhpcy5fdGltZW91dCksdGhpcy5fdGltZW91dD1udWxsLGkrPXRoaXMuX2xhc3RWYWx1ZSkpLHQuc2hpZnRLZXkmJmkmJihpLz00KSx0aGlzLl90eXBlJiYodGhpcy5fbGFzdFdoZWVsRXZlbnQ9dCx0aGlzLl9kZWx0YS09aSx0aGlzLl9hY3RpdmV8fHRoaXMuX3N0YXJ0KHQpKSx0LnByZXZlbnREZWZhdWx0KCk7fV9vblRpbWVvdXQoZSl7dGhpcy5fdHlwZT1cIndoZWVsXCIsdGhpcy5fZGVsdGEtPXRoaXMuX2xhc3RWYWx1ZSx0aGlzLl9hY3RpdmV8fHRoaXMuX3N0YXJ0KGUpO31fc3RhcnQoZSl7aWYoIXRoaXMuX2RlbHRhKXJldHVybjt0aGlzLl9mcmFtZUlkJiYodGhpcy5fZnJhbWVJZD1udWxsKSx0aGlzLl9hY3RpdmU9ITAsdGhpcy5pc1pvb21pbmcoKXx8KHRoaXMuX3pvb21pbmc9ITApLHRoaXMuX2ZpbmlzaFRpbWVvdXQmJihjbGVhclRpbWVvdXQodGhpcy5fZmluaXNoVGltZW91dCksZGVsZXRlIHRoaXMuX2ZpbmlzaFRpbWVvdXQpO2NvbnN0IHQ9cCh0aGlzLl9lbCxlKTt0aGlzLl9hcm91bmRQb2ludD10aGlzLl9hcm91bmRDZW50ZXI/dGhpcy5fbWFwLnRyYW5zZm9ybS5jZW50ZXJQb2ludDp0LHRoaXMuX2Fyb3VuZENvb3JkPXRoaXMuX21hcC50cmFuc2Zvcm0ucG9pbnRDb29yZGluYXRlM0QodGhpcy5fYXJvdW5kUG9pbnQpLHRoaXMuX3RhcmdldFpvb209dm9pZCAwLHRoaXMuX2ZyYW1lSWR8fCh0aGlzLl9mcmFtZUlkPSEwLHRoaXMuX2hhbmRsZXIuX3RyaWdnZXJSZW5kZXJGcmFtZSgpKTt9cmVuZGVyRnJhbWUoKXtpZighdGhpcy5fZnJhbWVJZClyZXR1cm47aWYodGhpcy5fZnJhbWVJZD1udWxsLCF0aGlzLmlzQWN0aXZlKCkpcmV0dXJuO2NvbnN0IHQ9dGhpcy5fbWFwLnRyYW5zZm9ybTtcIndoZWVsXCI9PT10aGlzLl90eXBlJiZ0LnByb2plY3Rpb24ud3JhcCYmKHQuX2NlbnRlci5sbmc+PTE4MHx8dC5fY2VudGVyLmxuZzw9LTE4MCkmJih0aGlzLl9wcmV2RWFzZT1udWxsLHRoaXMuX2Vhc2luZz1udWxsLHRoaXMuX2xhc3RXaGVlbEV2ZW50PW51bGwsdGhpcy5fbGFzdFdoZWVsRXZlbnRUaW1lPTApO2NvbnN0IGk9KCk9PnQuX3RlcnJhaW5FbmFibGVkKCkmJnRoaXMuX2Fyb3VuZENvb3JkP3QuY29tcHV0ZVpvb21SZWxhdGl2ZVRvKHRoaXMuX2Fyb3VuZENvb3JkKTp0Lnpvb207aWYoMCE9PXRoaXMuX2RlbHRhKXtjb25zdCBlPVwid2hlZWxcIj09PXRoaXMuX3R5cGUmJk1hdGguYWJzKHRoaXMuX2RlbHRhKT5Ccj90aGlzLl93aGVlbFpvb21SYXRlOnRoaXMuX2RlZmF1bHRab29tUmF0ZTtsZXQgbz0yLygxK01hdGguZXhwKC1NYXRoLmFicyh0aGlzLl9kZWx0YSplKSkpO3RoaXMuX2RlbHRhPDAmJjAhPT1vJiYobz0xL28pO2NvbnN0IHI9aSgpLG49TWF0aC5wb3coMixyKSxhPVwibnVtYmVyXCI9PXR5cGVvZiB0aGlzLl90YXJnZXRab29tP3Quem9vbVNjYWxlKHRoaXMuX3RhcmdldFpvb20pOm47dGhpcy5fdGFyZ2V0Wm9vbT1NYXRoLm1pbih0Lm1heFpvb20sTWF0aC5tYXgodC5taW5ab29tLHQuc2NhbGVab29tKGEqbykpKSxcIndoZWVsXCI9PT10aGlzLl90eXBlJiYodGhpcy5fc3RhcnRab29tPXIsdGhpcy5fZWFzaW5nPXRoaXMuX3Ntb290aE91dEVhc2luZygyMDApKSx0aGlzLl9kZWx0YT0wO31jb25zdCBvPVwibnVtYmVyXCI9PXR5cGVvZiB0aGlzLl90YXJnZXRab29tP3RoaXMuX3RhcmdldFpvb206aSgpLHI9dGhpcy5fc3RhcnRab29tLG49dGhpcy5fZWFzaW5nO2xldCBhLHM9ITE7aWYoXCJ3aGVlbFwiPT09dGhpcy5fdHlwZSYmciYmbil7Y29uc3QgdD1NYXRoLm1pbigoZS5leHBvcnRlZC5ub3coKS10aGlzLl9sYXN0V2hlZWxFdmVudFRpbWUpLzIwMCwxKSxpPW4odCk7YT1lLm51bWJlcihyLG8saSksdDwxP3RoaXMuX2ZyYW1lSWR8fCh0aGlzLl9mcmFtZUlkPSEwKTpzPSEwO31lbHNlIGE9byxzPSEwO3JldHVybiB0aGlzLl9hY3RpdmU9ITAscyYmKHRoaXMuX2FjdGl2ZT0hMSx0aGlzLl9maW5pc2hUaW1lb3V0PXNldFRpbWVvdXQoKCgpPT57dGhpcy5fem9vbWluZz0hMSx0aGlzLl9oYW5kbGVyLl90cmlnZ2VyUmVuZGVyRnJhbWUoKSxkZWxldGUgdGhpcy5fdGFyZ2V0Wm9vbSxkZWxldGUgdGhpcy5fZmluaXNoVGltZW91dDt9KSwyMDApKSx7bm9JbmVydGlhOiEwLG5lZWRzUmVuZGVyRnJhbWU6IXMsem9vbURlbHRhOmEtaSgpLGFyb3VuZDp0aGlzLl9hcm91bmRQb2ludCxhcm91bmRDb29yZDp0aGlzLl9hcm91bmRDb29yZCxvcmlnaW5hbEV2ZW50OnRoaXMuX2xhc3RXaGVlbEV2ZW50fX1fc21vb3RoT3V0RWFzaW5nKHQpe2xldCBpPWUuZWFzZTtpZih0aGlzLl9wcmV2RWFzZSl7Y29uc3QgdD10aGlzLl9wcmV2RWFzZSxvPShlLmV4cG9ydGVkLm5vdygpLXQuc3RhcnQpL3QuZHVyYXRpb24scj10LmVhc2luZyhvKy4wMSktdC5lYXNpbmcobyksbj0uMjcvTWF0aC5zcXJ0KHIqcisxZS00KSouMDEsYT1NYXRoLnNxcnQoLjA3MjktbipuKTtpPWUuYmV6aWVyKG4sYSwuMjUsMSk7fXJldHVybiB0aGlzLl9wcmV2RWFzZT17c3RhcnQ6ZS5leHBvcnRlZC5ub3coKSxkdXJhdGlvbjp0LGVhc2luZzppfSxpfWJsdXIoKXt0aGlzLnJlc2V0KCk7fXJlc2V0KCl7dGhpcy5fYWN0aXZlPSExO31fYWRkU2Nyb2xsWm9vbUJsb2NrZXIoKXt0aGlzLl9tYXAmJiF0aGlzLl9hbGVydENvbnRhaW5lciYmKHRoaXMuX2FsZXJ0Q29udGFpbmVyPW4oXCJkaXZcIixcIm1hcGJveGdsLXNjcm9sbC16b29tLWJsb2NrZXJcIix0aGlzLl9tYXAuX2NvbnRhaW5lciksdGhpcy5fYWxlcnRDb250YWluZXIudGV4dENvbnRlbnQ9LyhNYWN8aVBhZCkvaS50ZXN0KGUud2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQpP3RoaXMuX21hcC5fZ2V0VUlTdHJpbmcoXCJTY3JvbGxab29tQmxvY2tlci5DbWRNZXNzYWdlXCIpOnRoaXMuX21hcC5fZ2V0VUlTdHJpbmcoXCJTY3JvbGxab29tQmxvY2tlci5DdHJsTWVzc2FnZVwiKSx0aGlzLl9hbGVydENvbnRhaW5lci5zdHlsZS5mb250U2l6ZT1gJHtNYXRoLm1heCgxMCxNYXRoLm1pbigyNCxNYXRoLmZsb29yKC4wNSp0aGlzLl9lbC5jbGllbnRXaWR0aCkpKX1weGApO31fc2hvd0Jsb2NrZXJBbGVydCgpe3RoaXMuX2FsZXJ0Q29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHk9XCJ2aXNpYmxlXCIsdGhpcy5fYWxlcnRDb250YWluZXIuY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLXNjcm9sbC16b29tLWJsb2NrZXItc2hvd1wiKSx0aGlzLl9hbGVydENvbnRhaW5lci5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsXCJhbGVydFwiKSxjbGVhclRpbWVvdXQodGhpcy5fYWxlcnRUaW1lciksdGhpcy5fYWxlcnRUaW1lcj1zZXRUaW1lb3V0KCgoKT0+e3RoaXMuX2FsZXJ0Q29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC1zY3JvbGwtem9vbS1ibG9ja2VyLXNob3dcIiksdGhpcy5fYWxlcnRDb250YWluZXIuc2V0QXR0cmlidXRlKFwicm9sZVwiLFwibnVsbFwiKTt9KSwyMDApO319Y2xhc3MgRnJ7Y29uc3RydWN0b3IoZSx0KXt0aGlzLl9jbGlja1pvb209ZSx0aGlzLl90YXBab29tPXQ7fWVuYWJsZSgpe3RoaXMuX2NsaWNrWm9vbS5lbmFibGUoKSx0aGlzLl90YXBab29tLmVuYWJsZSgpO31kaXNhYmxlKCl7dGhpcy5fY2xpY2tab29tLmRpc2FibGUoKSx0aGlzLl90YXBab29tLmRpc2FibGUoKTt9aXNFbmFibGVkKCl7cmV0dXJuIHRoaXMuX2NsaWNrWm9vbS5pc0VuYWJsZWQoKSYmdGhpcy5fdGFwWm9vbS5pc0VuYWJsZWQoKX1pc0FjdGl2ZSgpe3JldHVybiB0aGlzLl9jbGlja1pvb20uaXNBY3RpdmUoKXx8dGhpcy5fdGFwWm9vbS5pc0FjdGl2ZSgpfX1jbGFzcyBVcntjb25zdHJ1Y3Rvcigpe3RoaXMucmVzZXQoKTt9cmVzZXQoKXt0aGlzLl9hY3RpdmU9ITE7fWJsdXIoKXt0aGlzLnJlc2V0KCk7fWRibGNsaWNrKGUsdCl7cmV0dXJuIGUucHJldmVudERlZmF1bHQoKSx7Y2FtZXJhQW5pbWF0aW9uOmk9PntpLmVhc2VUbyh7ZHVyYXRpb246MzAwLHpvb206aS5nZXRab29tKCkrKGUuc2hpZnRLZXk/LTE6MSksYXJvdW5kOmkudW5wcm9qZWN0KHQpfSx7b3JpZ2luYWxFdmVudDplfSk7fX19ZW5hYmxlKCl7dGhpcy5fZW5hYmxlZD0hMDt9ZGlzYWJsZSgpe3RoaXMuX2VuYWJsZWQ9ITEsdGhpcy5yZXNldCgpO31pc0VuYWJsZWQoKXtyZXR1cm4gdGhpcy5fZW5hYmxlZH1pc0FjdGl2ZSgpe3JldHVybiB0aGlzLl9hY3RpdmV9fWNsYXNzIE5ye2NvbnN0cnVjdG9yKCl7dGhpcy5fdGFwPW5ldyBncih7bnVtVG91Y2hlczoxLG51bVRhcHM6MX0pLHRoaXMucmVzZXQoKTt9cmVzZXQoKXt0aGlzLl9hY3RpdmU9ITEsdGhpcy5fc3dpcGVQb2ludD12b2lkIDAsdGhpcy5fc3dpcGVUb3VjaD0wLHRoaXMuX3RhcFRpbWU9MCx0aGlzLl90YXAucmVzZXQoKTt9dG91Y2hzdGFydChlLHQsaSl7dGhpcy5fc3dpcGVQb2ludHx8KHRoaXMuX3RhcFRpbWUmJmUudGltZVN0YW1wLXRoaXMuX3RhcFRpbWU+NTAwJiZ0aGlzLnJlc2V0KCksdGhpcy5fdGFwVGltZT9pLmxlbmd0aD4wJiYodGhpcy5fc3dpcGVQb2ludD10WzBdLHRoaXMuX3N3aXBlVG91Y2g9aVswXS5pZGVudGlmaWVyKTp0aGlzLl90YXAudG91Y2hzdGFydChlLHQsaSkpO310b3VjaG1vdmUoZSx0LGkpe2lmKHRoaXMuX3RhcFRpbWUpe2lmKHRoaXMuX3N3aXBlUG9pbnQpe2lmKGlbMF0uaWRlbnRpZmllciE9PXRoaXMuX3N3aXBlVG91Y2gpcmV0dXJuO2NvbnN0IG89dFswXSxyPW8ueS10aGlzLl9zd2lwZVBvaW50Lnk7cmV0dXJuIHRoaXMuX3N3aXBlUG9pbnQ9byxlLnByZXZlbnREZWZhdWx0KCksdGhpcy5fYWN0aXZlPSEwLHt6b29tRGVsdGE6ci8xMjh9fX1lbHNlIHRoaXMuX3RhcC50b3VjaG1vdmUoZSx0LGkpO310b3VjaGVuZChlLHQsaSl7dGhpcy5fdGFwVGltZT90aGlzLl9zd2lwZVBvaW50JiYwPT09aS5sZW5ndGgmJnRoaXMucmVzZXQoKTp0aGlzLl90YXAudG91Y2hlbmQoZSx0LGkpJiYodGhpcy5fdGFwVGltZT1lLnRpbWVTdGFtcCk7fXRvdWNoY2FuY2VsKCl7dGhpcy5yZXNldCgpO31lbmFibGUoKXt0aGlzLl9lbmFibGVkPSEwO31kaXNhYmxlKCl7dGhpcy5fZW5hYmxlZD0hMSx0aGlzLnJlc2V0KCk7fWlzRW5hYmxlZCgpe3JldHVybiB0aGlzLl9lbmFibGVkfWlzQWN0aXZlKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZX19Y2xhc3MgR3J7Y29uc3RydWN0b3IoZSx0LGkpe3RoaXMuX2VsPWUsdGhpcy5fbW91c2VQYW49dCx0aGlzLl90b3VjaFBhbj1pO31lbmFibGUoZSl7dGhpcy5faW5lcnRpYU9wdGlvbnM9ZXx8e30sdGhpcy5fbW91c2VQYW4uZW5hYmxlKCksdGhpcy5fdG91Y2hQYW4uZW5hYmxlKCksdGhpcy5fZWwuY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLXRvdWNoLWRyYWctcGFuXCIpO31kaXNhYmxlKCl7dGhpcy5fbW91c2VQYW4uZGlzYWJsZSgpLHRoaXMuX3RvdWNoUGFuLmRpc2FibGUoKSx0aGlzLl9lbC5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtdG91Y2gtZHJhZy1wYW5cIik7fWlzRW5hYmxlZCgpe3JldHVybiB0aGlzLl9tb3VzZVBhbi5pc0VuYWJsZWQoKSYmdGhpcy5fdG91Y2hQYW4uaXNFbmFibGVkKCl9aXNBY3RpdmUoKXtyZXR1cm4gdGhpcy5fbW91c2VQYW4uaXNBY3RpdmUoKXx8dGhpcy5fdG91Y2hQYW4uaXNBY3RpdmUoKX19Y2xhc3MganJ7Y29uc3RydWN0b3IoZSx0LGkpe3RoaXMuX3BpdGNoV2l0aFJvdGF0ZT1lLnBpdGNoV2l0aFJvdGF0ZSx0aGlzLl9tb3VzZVJvdGF0ZT10LHRoaXMuX21vdXNlUGl0Y2g9aTt9ZW5hYmxlKCl7dGhpcy5fbW91c2VSb3RhdGUuZW5hYmxlKCksdGhpcy5fcGl0Y2hXaXRoUm90YXRlJiZ0aGlzLl9tb3VzZVBpdGNoLmVuYWJsZSgpO31kaXNhYmxlKCl7dGhpcy5fbW91c2VSb3RhdGUuZGlzYWJsZSgpLHRoaXMuX21vdXNlUGl0Y2guZGlzYWJsZSgpO31pc0VuYWJsZWQoKXtyZXR1cm4gdGhpcy5fbW91c2VSb3RhdGUuaXNFbmFibGVkKCkmJighdGhpcy5fcGl0Y2hXaXRoUm90YXRlfHx0aGlzLl9tb3VzZVBpdGNoLmlzRW5hYmxlZCgpKX1pc0FjdGl2ZSgpe3JldHVybiB0aGlzLl9tb3VzZVJvdGF0ZS5pc0FjdGl2ZSgpfHx0aGlzLl9tb3VzZVBpdGNoLmlzQWN0aXZlKCl9fWNsYXNzIFpye2NvbnN0cnVjdG9yKGUsdCxpLG8pe3RoaXMuX2VsPWUsdGhpcy5fdG91Y2hab29tPXQsdGhpcy5fdG91Y2hSb3RhdGU9aSx0aGlzLl90YXBEcmFnWm9vbT1vLHRoaXMuX3JvdGF0aW9uRGlzYWJsZWQ9ITEsdGhpcy5fZW5hYmxlZD0hMDt9ZW5hYmxlKGUpe3RoaXMuX3RvdWNoWm9vbS5lbmFibGUoZSksdGhpcy5fcm90YXRpb25EaXNhYmxlZHx8dGhpcy5fdG91Y2hSb3RhdGUuZW5hYmxlKGUpLHRoaXMuX3RhcERyYWdab29tLmVuYWJsZSgpLHRoaXMuX2VsLmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC10b3VjaC16b29tLXJvdGF0ZVwiKTt9ZGlzYWJsZSgpe3RoaXMuX3RvdWNoWm9vbS5kaXNhYmxlKCksdGhpcy5fdG91Y2hSb3RhdGUuZGlzYWJsZSgpLHRoaXMuX3RhcERyYWdab29tLmRpc2FibGUoKSx0aGlzLl9lbC5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtdG91Y2gtem9vbS1yb3RhdGVcIik7fWlzRW5hYmxlZCgpe3JldHVybiB0aGlzLl90b3VjaFpvb20uaXNFbmFibGVkKCkmJih0aGlzLl9yb3RhdGlvbkRpc2FibGVkfHx0aGlzLl90b3VjaFJvdGF0ZS5pc0VuYWJsZWQoKSkmJnRoaXMuX3RhcERyYWdab29tLmlzRW5hYmxlZCgpfWlzQWN0aXZlKCl7cmV0dXJuIHRoaXMuX3RvdWNoWm9vbS5pc0FjdGl2ZSgpfHx0aGlzLl90b3VjaFJvdGF0ZS5pc0FjdGl2ZSgpfHx0aGlzLl90YXBEcmFnWm9vbS5pc0FjdGl2ZSgpfWRpc2FibGVSb3RhdGlvbigpe3RoaXMuX3JvdGF0aW9uRGlzYWJsZWQ9ITAsdGhpcy5fdG91Y2hSb3RhdGUuZGlzYWJsZSgpO31lbmFibGVSb3RhdGlvbigpe3RoaXMuX3JvdGF0aW9uRGlzYWJsZWQ9ITEsdGhpcy5fdG91Y2hab29tLmlzRW5hYmxlZCgpJiZ0aGlzLl90b3VjaFJvdGF0ZS5lbmFibGUoKTt9fWNvbnN0IFZyPWU9PmUuem9vbXx8ZS5kcmFnfHxlLnBpdGNofHxlLnJvdGF0ZTtjbGFzcyBXciBleHRlbmRzIGUuRXZlbnR7fWNsYXNzIFhye2NvbnN0cnVjdG9yKCl7dGhpcy5jb25zdGFudHM9WzEsMSwuMDFdLHRoaXMucmFkaXVzPTA7fXNldHVwKHQsaSl7Y29uc3Qgbz1lLnN1YihbXSxpLHQpO3RoaXMucmFkaXVzPWUubGVuZ3RoKG9bMl08MD9lLmRpdihbXSxvLHRoaXMuY29uc3RhbnRzKTpbb1swXSxvWzFdLDBdKTt9cHJvamVjdFJheSh0KXtlLmRpdih0LHQsdGhpcy5jb25zdGFudHMpLGUubm9ybWFsaXplKHQsdCksZS5tdWwkMSh0LHQsdGhpcy5jb25zdGFudHMpO2NvbnN0IGk9ZS5zY2FsZSQyKFtdLHQsdGhpcy5yYWRpdXMpO2lmKGlbMl0+MCl7Y29uc3QgdD1lLnNjYWxlJDIoW10sWzAsMCwxXSxlLmRvdChpLFswLDAsMV0pKSxvPWUuc2NhbGUkMihbXSxlLm5vcm1hbGl6ZShbXSxbaVswXSxpWzFdLDBdKSx0aGlzLnJhZGl1cykscj1lLmFkZChbXSxpLGUuc2NhbGUkMihbXSxlLnN1YihbXSxlLmFkZChbXSxvLHQpLGkpLDIpKTtpWzBdPXJbMF0saVsxXT1yWzFdO31yZXR1cm4gaX19ZnVuY3Rpb24gcXIoZSl7cmV0dXJuIGUucGFuRGVsdGEmJmUucGFuRGVsdGEubWFnKCl8fGUuem9vbURlbHRhfHxlLmJlYXJpbmdEZWx0YXx8ZS5waXRjaERlbHRhfWNsYXNzICRye2NvbnN0cnVjdG9yKHQsaSl7dGhpcy5fbWFwPXQsdGhpcy5fZWw9dGhpcy5fbWFwLmdldENhbnZhc0NvbnRhaW5lcigpLHRoaXMuX2hhbmRsZXJzPVtdLHRoaXMuX2hhbmRsZXJzQnlJZD17fSx0aGlzLl9jaGFuZ2VzPVtdLHRoaXMuX2luZXJ0aWE9bmV3IGFyKHQpLHRoaXMuX2JlYXJpbmdTbmFwPWkuYmVhcmluZ1NuYXAsdGhpcy5fcHJldmlvdXNBY3RpdmVIYW5kbGVycz17fSx0aGlzLl90cmFja2luZ0VsbGlwc29pZD1uZXcgWHIsdGhpcy5fZHJhZ09yaWdpbj1udWxsLHRoaXMuX2V2ZW50c0luUHJvZ3Jlc3M9e30sdGhpcy5fYWRkRGVmYXVsdEhhbmRsZXJzKGkpLGUuYmluZEFsbChbXCJoYW5kbGVFdmVudFwiLFwiaGFuZGxlV2luZG93RXZlbnRcIl0sdGhpcyk7Y29uc3Qgbz10aGlzLl9lbDt0aGlzLl9saXN0ZW5lcnM9W1tvLFwidG91Y2hzdGFydFwiLHtwYXNzaXZlOiEwfV0sW28sXCJ0b3VjaG1vdmVcIix7cGFzc2l2ZTohMX1dLFtvLFwidG91Y2hlbmRcIix2b2lkIDBdLFtvLFwidG91Y2hjYW5jZWxcIix2b2lkIDBdLFtvLFwibW91c2Vkb3duXCIsdm9pZCAwXSxbbyxcIm1vdXNlbW92ZVwiLHZvaWQgMF0sW28sXCJtb3VzZXVwXCIsdm9pZCAwXSxbZS53aW5kb3cuZG9jdW1lbnQsXCJtb3VzZW1vdmVcIix7Y2FwdHVyZTohMH1dLFtlLndpbmRvdy5kb2N1bWVudCxcIm1vdXNldXBcIix2b2lkIDBdLFtvLFwibW91c2VvdmVyXCIsdm9pZCAwXSxbbyxcIm1vdXNlb3V0XCIsdm9pZCAwXSxbbyxcImRibGNsaWNrXCIsdm9pZCAwXSxbbyxcImNsaWNrXCIsdm9pZCAwXSxbbyxcImtleWRvd25cIix7Y2FwdHVyZTohMX1dLFtvLFwia2V5dXBcIix2b2lkIDBdLFtvLFwid2hlZWxcIix7cGFzc2l2ZTohMX1dLFtvLFwiY29udGV4dG1lbnVcIix2b2lkIDBdLFtlLndpbmRvdyxcImJsdXJcIix2b2lkIDBdXTtmb3IoY29uc3RbdCxpLG9db2YgdGhpcy5fbGlzdGVuZXJzKXQuYWRkRXZlbnRMaXN0ZW5lcihpLHQ9PT1lLndpbmRvdy5kb2N1bWVudD90aGlzLmhhbmRsZVdpbmRvd0V2ZW50OnRoaXMuaGFuZGxlRXZlbnQsbyk7fWRlc3Ryb3koKXtmb3IoY29uc3RbdCxpLG9db2YgdGhpcy5fbGlzdGVuZXJzKXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihpLHQ9PT1lLndpbmRvdy5kb2N1bWVudD90aGlzLmhhbmRsZVdpbmRvd0V2ZW50OnRoaXMuaGFuZGxlRXZlbnQsbyk7fV9hZGREZWZhdWx0SGFuZGxlcnMoZSl7Y29uc3QgdD10aGlzLl9tYXAsaT10LmdldENhbnZhc0NvbnRhaW5lcigpO3RoaXMuX2FkZChcIm1hcEV2ZW50XCIsbmV3IHVyKHQsZSkpO2NvbnN0IG89dC5ib3hab29tPW5ldyBwcih0LGUpO3RoaXMuX2FkZChcImJveFpvb21cIixvKTtjb25zdCByPW5ldyB2cixuPW5ldyBVcjt0LmRvdWJsZUNsaWNrWm9vbT1uZXcgRnIobixyKSx0aGlzLl9hZGQoXCJ0YXBab29tXCIsciksdGhpcy5fYWRkKFwiY2xpY2tab29tXCIsbik7Y29uc3QgYT1uZXcgTnI7dGhpcy5fYWRkKFwidGFwRHJhZ1pvb21cIixhKTtjb25zdCBzPXQudG91Y2hQaXRjaD1uZXcgUHIodCk7dGhpcy5fYWRkKFwidG91Y2hQaXRjaFwiLHMpO2NvbnN0IGw9bmV3IHdyKGUpLGM9bmV3IFRyKGUpO3QuZHJhZ1JvdGF0ZT1uZXcganIoZSxsLGMpLHRoaXMuX2FkZChcIm1vdXNlUm90YXRlXCIsbCxbXCJtb3VzZVBpdGNoXCJdKSx0aGlzLl9hZGQoXCJtb3VzZVBpdGNoXCIsYyxbXCJtb3VzZVJvdGF0ZVwiXSk7Y29uc3QgaD1uZXcgYnIoZSksXz1uZXcgRXIodCxlKTt0LmRyYWdQYW49bmV3IEdyKGksaCxfKSx0aGlzLl9hZGQoXCJtb3VzZVBhblwiLGgpLHRoaXMuX2FkZChcInRvdWNoUGFuXCIsXyxbXCJ0b3VjaFpvb21cIixcInRvdWNoUm90YXRlXCJdKTtjb25zdCB1PW5ldyBEcixkPW5ldyBTcjt0LnRvdWNoWm9vbVJvdGF0ZT1uZXcgWnIoaSxkLHUsYSksdGhpcy5fYWRkKFwidG91Y2hSb3RhdGVcIix1LFtcInRvdWNoUGFuXCIsXCJ0b3VjaFpvb21cIl0pLHRoaXMuX2FkZChcInRvdWNoWm9vbVwiLGQsW1widG91Y2hQYW5cIixcInRvdWNoUm90YXRlXCJdKSx0aGlzLl9hZGQoXCJibG9ja2FibGVNYXBFdmVudFwiLG5ldyBkcih0KSk7Y29uc3QgcD10LnNjcm9sbFpvb209bmV3IGtyKHQsdGhpcyk7dGhpcy5fYWRkKFwic2Nyb2xsWm9vbVwiLHAsW1wibW91c2VQYW5cIl0pO2NvbnN0IG09dC5rZXlib2FyZD1uZXcgUnI7dGhpcy5fYWRkKFwia2V5Ym9hcmRcIixtKTtmb3IoY29uc3QgaSBvZiBbXCJib3hab29tXCIsXCJkb3VibGVDbGlja1pvb21cIixcInRhcERyYWdab29tXCIsXCJ0b3VjaFBpdGNoXCIsXCJkcmFnUm90YXRlXCIsXCJkcmFnUGFuXCIsXCJ0b3VjaFpvb21Sb3RhdGVcIixcInNjcm9sbFpvb21cIixcImtleWJvYXJkXCJdKWUuaW50ZXJhY3RpdmUmJmVbaV0mJnRbaV0uZW5hYmxlKGVbaV0pO31fYWRkKGUsdCxpKXt0aGlzLl9oYW5kbGVycy5wdXNoKHtoYW5kbGVyTmFtZTplLGhhbmRsZXI6dCxhbGxvd2VkOml9KSx0aGlzLl9oYW5kbGVyc0J5SWRbZV09dDt9c3RvcChlKXtpZighdGhpcy5fdXBkYXRpbmdDYW1lcmEpe2Zvcihjb25zdHtoYW5kbGVyOmV9b2YgdGhpcy5faGFuZGxlcnMpZS5yZXNldCgpO3RoaXMuX2luZXJ0aWEuY2xlYXIoKSx0aGlzLl9maXJlRXZlbnRzKHt9LHt9LGUpLHRoaXMuX2NoYW5nZXM9W107fX1pc0FjdGl2ZSgpe2Zvcihjb25zdHtoYW5kbGVyOmV9b2YgdGhpcy5faGFuZGxlcnMpaWYoZS5pc0FjdGl2ZSgpKXJldHVybiAhMDtyZXR1cm4gITF9aXNab29taW5nKCl7cmV0dXJuICEhdGhpcy5fZXZlbnRzSW5Qcm9ncmVzcy56b29tfHx0aGlzLl9tYXAuc2Nyb2xsWm9vbS5pc1pvb21pbmcoKX1pc1JvdGF0aW5nKCl7cmV0dXJuICEhdGhpcy5fZXZlbnRzSW5Qcm9ncmVzcy5yb3RhdGV9aXNNb3ZpbmcoKXtyZXR1cm4gISFWcih0aGlzLl9ldmVudHNJblByb2dyZXNzKXx8dGhpcy5pc1pvb21pbmcoKX1fYmxvY2tlZEJ5QWN0aXZlKGUsdCxpKXtmb3IoY29uc3QgbyBpbiBlKWlmKG8hPT1pJiYoIXR8fHQuaW5kZXhPZihvKTwwKSlyZXR1cm4gITA7cmV0dXJuICExfWhhbmRsZVdpbmRvd0V2ZW50KGUpe3RoaXMuaGFuZGxlRXZlbnQoZSxgJHtlLnR5cGV9V2luZG93YCk7fV9nZXRNYXBUb3VjaGVzKGUpe2NvbnN0IHQ9W107Zm9yKGNvbnN0IGkgb2YgZSl0aGlzLl9lbC5jb250YWlucyhpLnRhcmdldCkmJnQucHVzaChpKTtyZXR1cm4gdH1oYW5kbGVFdmVudChlLHQpe3RoaXMuX3VwZGF0aW5nQ2FtZXJhPSEwO2NvbnN0IGk9XCJyZW5kZXJGcmFtZVwiPT09ZS50eXBlLG89aT92b2lkIDA6ZSxyPXtuZWVkc1JlbmRlckZyYW1lOiExfSxuPXt9LGE9e30scz1lLnRvdWNoZXM/dGhpcy5fZ2V0TWFwVG91Y2hlcyhlLnRvdWNoZXMpOnZvaWQgMCxsPXM/bSh0aGlzLl9lbCxzKTppP3ZvaWQgMDpwKHRoaXMuX2VsLGUpO2Zvcihjb25zdHtoYW5kbGVyTmFtZTppLGhhbmRsZXI6YyxhbGxvd2VkOmh9b2YgdGhpcy5faGFuZGxlcnMpe2lmKCFjLmlzRW5hYmxlZCgpKWNvbnRpbnVlO2xldCBfO3RoaXMuX2Jsb2NrZWRCeUFjdGl2ZShhLGgsaSk/Yy5yZXNldCgpOmNbdHx8ZS50eXBlXSYmKF89Y1t0fHxlLnR5cGVdKGUsbCxzKSx0aGlzLm1lcmdlSGFuZGxlclJlc3VsdChyLG4sXyxpLG8pLF8mJl8ubmVlZHNSZW5kZXJGcmFtZSYmdGhpcy5fdHJpZ2dlclJlbmRlckZyYW1lKCkpLChffHxjLmlzQWN0aXZlKCkpJiYoYVtpXT1jKTt9Y29uc3QgYz17fTtmb3IoY29uc3QgZSBpbiB0aGlzLl9wcmV2aW91c0FjdGl2ZUhhbmRsZXJzKWFbZV18fChjW2VdPW8pO3RoaXMuX3ByZXZpb3VzQWN0aXZlSGFuZGxlcnM9YSwoT2JqZWN0LmtleXMoYykubGVuZ3RofHxxcihyKSkmJih0aGlzLl9jaGFuZ2VzLnB1c2goW3IsbixjXSksdGhpcy5fdHJpZ2dlclJlbmRlckZyYW1lKCkpLChPYmplY3Qua2V5cyhhKS5sZW5ndGh8fHFyKHIpKSYmdGhpcy5fbWFwLl9zdG9wKCEwKSx0aGlzLl91cGRhdGluZ0NhbWVyYT0hMTtjb25zdHtjYW1lcmFBbmltYXRpb246aH09cjtoJiYodGhpcy5faW5lcnRpYS5jbGVhcigpLHRoaXMuX2ZpcmVFdmVudHMoe30se30sITApLHRoaXMuX2NoYW5nZXM9W10saCh0aGlzLl9tYXApKTt9bWVyZ2VIYW5kbGVyUmVzdWx0KHQsaSxvLHIsbil7aWYoIW8pcmV0dXJuO2UuZXh0ZW5kKHQsbyk7Y29uc3QgYT17aGFuZGxlck5hbWU6cixvcmlnaW5hbEV2ZW50Om8ub3JpZ2luYWxFdmVudHx8bn07dm9pZCAwIT09by56b29tRGVsdGEmJihpLnpvb209YSksdm9pZCAwIT09by5wYW5EZWx0YSYmKGkuZHJhZz1hKSx2b2lkIDAhPT1vLnBpdGNoRGVsdGEmJihpLnBpdGNoPWEpLHZvaWQgMCE9PW8uYmVhcmluZ0RlbHRhJiYoaS5yb3RhdGU9YSk7fV9hcHBseUNoYW5nZXMoKXtjb25zdCB0PXt9LGk9e30sbz17fTtmb3IoY29uc3RbcixuLGFdb2YgdGhpcy5fY2hhbmdlcylyLnBhbkRlbHRhJiYodC5wYW5EZWx0YT0odC5wYW5EZWx0YXx8bmV3IGUucG9pbnRHZW9tZXRyeSgwLDApKS5fYWRkKHIucGFuRGVsdGEpKSxyLnpvb21EZWx0YSYmKHQuem9vbURlbHRhPSh0Lnpvb21EZWx0YXx8MCkrci56b29tRGVsdGEpLHIuYmVhcmluZ0RlbHRhJiYodC5iZWFyaW5nRGVsdGE9KHQuYmVhcmluZ0RlbHRhfHwwKStyLmJlYXJpbmdEZWx0YSksci5waXRjaERlbHRhJiYodC5waXRjaERlbHRhPSh0LnBpdGNoRGVsdGF8fDApK3IucGl0Y2hEZWx0YSksdm9pZCAwIT09ci5hcm91bmQmJih0LmFyb3VuZD1yLmFyb3VuZCksdm9pZCAwIT09ci5hcm91bmRDb29yZCYmKHQuYXJvdW5kQ29vcmQ9ci5hcm91bmRDb29yZCksdm9pZCAwIT09ci5waW5jaEFyb3VuZCYmKHQucGluY2hBcm91bmQ9ci5waW5jaEFyb3VuZCksci5ub0luZXJ0aWEmJih0Lm5vSW5lcnRpYT1yLm5vSW5lcnRpYSksZS5leHRlbmQoaSxuKSxlLmV4dGVuZChvLGEpO3RoaXMuX3VwZGF0ZU1hcFRyYW5zZm9ybSh0LGksbyksdGhpcy5fY2hhbmdlcz1bXTt9X3VwZGF0ZU1hcFRyYW5zZm9ybSh0LGksbyl7Y29uc3Qgcj10aGlzLl9tYXAsbj1yLnRyYW5zZm9ybSxhPWU9PltlLngsZS55LGUuel07aWYoKGU9Pntjb25zdCB0PXRoaXMuX2V2ZW50c0luUHJvZ3Jlc3MuZHJhZztyZXR1cm4gdCYmIXRoaXMuX2hhbmRsZXJzQnlJZFt0LmhhbmRsZXJOYW1lXS5pc0FjdGl2ZSgpfSkoKSYmIXFyKHQpKXtjb25zdCBlPW4uem9vbTtuLmNhbWVyYUVsZXZhdGlvblJlZmVyZW5jZT1cInNlYVwiLG4ucmVjZW50ZXJPblRlcnJhaW4oKSxuLmNhbWVyYUVsZXZhdGlvblJlZmVyZW5jZT1cImdyb3VuZFwiLGUhPT1uLnpvb20mJnRoaXMuX21hcC5fdXBkYXRlKCEwKTt9aWYoIXFyKHQpKXJldHVybiB2b2lkIHRoaXMuX2ZpcmVFdmVudHMoaSxvLCEwKTtsZXR7cGFuRGVsdGE6cyx6b29tRGVsdGE6bCxiZWFyaW5nRGVsdGE6YyxwaXRjaERlbHRhOmgsYXJvdW5kOl8sYXJvdW5kQ29vcmQ6dSxwaW5jaEFyb3VuZDpkfT10O3ZvaWQgMCE9PWQmJihfPWQpLChlPT5pLmRyYWcmJiF0aGlzLl9ldmVudHNJblByb2dyZXNzLmRyYWcpKCkmJl8mJih0aGlzLl9kcmFnT3JpZ2luPWEobi5wb2ludENvb3JkaW5hdGUzRChfKSksdGhpcy5fdHJhY2tpbmdFbGxpcHNvaWQuc2V0dXAobi5fY2FtZXJhLnBvc2l0aW9uLHRoaXMuX2RyYWdPcmlnaW4pKSxuLmNhbWVyYUVsZXZhdGlvblJlZmVyZW5jZT1cInNlYVwiLHIuX3N0b3AoITApLF89X3x8ci50cmFuc2Zvcm0uY2VudGVyUG9pbnQsYyYmKG4uYmVhcmluZys9YyksaCYmKG4ucGl0Y2grPWgpLG4uX3VwZGF0ZUNhbWVyYVN0YXRlKCk7Y29uc3QgcD1bMCwwLDBdO2lmKHMpaWYoXCJtZXJjYXRvclwiPT09bi5wcm9qZWN0aW9uLm5hbWUpe2NvbnN0IGU9dGhpcy5fdHJhY2tpbmdFbGxpcHNvaWQucHJvamVjdFJheShuLnNjcmVlblBvaW50VG9NZXJjYXRvclJheShfKS5kaXIpLHQ9dGhpcy5fdHJhY2tpbmdFbGxpcHNvaWQucHJvamVjdFJheShuLnNjcmVlblBvaW50VG9NZXJjYXRvclJheShfLnN1YihzKSkuZGlyKTtwWzBdPXRbMF0tZVswXSxwWzFdPXRbMV0tZVsxXTt9ZWxzZSB7Y29uc3QgdD1uLnBvaW50Q29vcmRpbmF0ZShfKTtpZihcImdsb2JlXCI9PT1uLnByb2plY3Rpb24ubmFtZSl7cz1zLnJvdGF0ZSgtbi5hbmdsZSk7Y29uc3QgaT1uLl9waXhlbHNQZXJNZXJjYXRvclBpeGVsL24ud29ybGRTaXplO3BbMF09LXMueCplLm1lcmNhdG9yU2NhbGUoZS5sYXRGcm9tTWVyY2F0b3JZKHQueSkpKmkscFsxXT0tcy55KmUubWVyY2F0b3JTY2FsZShuLmNlbnRlci5sYXQpKmk7fWVsc2Uge2NvbnN0IGU9bi5wb2ludENvb3JkaW5hdGUoXy5zdWIocykpO3QmJmUmJihwWzBdPWUueC10LngscFsxXT1lLnktdC55KTt9fWNvbnN0IG09bi56b29tLGY9WzAsMCwwXTtpZihsKXtjb25zdCB0PWEodXx8bi5wb2ludENvb3JkaW5hdGUzRChfKSksaT17ZGlyOmUubm9ybWFsaXplKFtdLGUuc3ViKFtdLHQsbi5fY2FtZXJhLnBvc2l0aW9uKSl9O2lmKGkuZGlyWzJdPDApe2NvbnN0IG89bi56b29tRGVsdGFUb01vdmVtZW50KHQsbCk7ZS5zY2FsZSQyKGYsaS5kaXIsbyk7fX1jb25zdCBnPWUuYWRkKHAscCxmKTtuLl90cmFuc2xhdGVDYW1lcmFDb25zdHJhaW5lZChnKSxsJiZNYXRoLmFicyhuLnpvb20tbSk+MWUtNCYmbi5yZWNlbnRlck9uVGVycmFpbigpLG4uY2FtZXJhRWxldmF0aW9uUmVmZXJlbmNlPVwiZ3JvdW5kXCIsdGhpcy5fbWFwLl91cGRhdGUoKSx0Lm5vSW5lcnRpYXx8dGhpcy5faW5lcnRpYS5yZWNvcmQodCksdGhpcy5fZmlyZUV2ZW50cyhpLG8sITApO31fZmlyZUV2ZW50cyh0LGksbyl7Y29uc3Qgcj1Wcih0aGlzLl9ldmVudHNJblByb2dyZXNzKSxuPVZyKHQpLGE9e307Zm9yKGNvbnN0IGUgaW4gdCl7Y29uc3R7b3JpZ2luYWxFdmVudDppfT10W2VdO3RoaXMuX2V2ZW50c0luUHJvZ3Jlc3NbZV18fChhW2Ake2V9c3RhcnRgXT1pKSx0aGlzLl9ldmVudHNJblByb2dyZXNzW2VdPXRbZV07fSFyJiZuJiZ0aGlzLl9maXJlRXZlbnQoXCJtb3Zlc3RhcnRcIixuLm9yaWdpbmFsRXZlbnQpO2Zvcihjb25zdCBlIGluIGEpdGhpcy5fZmlyZUV2ZW50KGUsYVtlXSk7biYmdGhpcy5fZmlyZUV2ZW50KFwibW92ZVwiLG4ub3JpZ2luYWxFdmVudCk7Zm9yKGNvbnN0IGUgaW4gdCl7Y29uc3R7b3JpZ2luYWxFdmVudDppfT10W2VdO3RoaXMuX2ZpcmVFdmVudChlLGkpO31jb25zdCBzPXt9O2xldCBsO2Zvcihjb25zdCBlIGluIHRoaXMuX2V2ZW50c0luUHJvZ3Jlc3Mpe2NvbnN0e2hhbmRsZXJOYW1lOnQsb3JpZ2luYWxFdmVudDpvfT10aGlzLl9ldmVudHNJblByb2dyZXNzW2VdO3RoaXMuX2hhbmRsZXJzQnlJZFt0XS5pc0FjdGl2ZSgpfHwoZGVsZXRlIHRoaXMuX2V2ZW50c0luUHJvZ3Jlc3NbZV0sbD1pW3RdfHxvLHNbYCR7ZX1lbmRgXT1sKTt9Zm9yKGNvbnN0IGUgaW4gcyl0aGlzLl9maXJlRXZlbnQoZSxzW2VdKTtjb25zdCBjPVZyKHRoaXMuX2V2ZW50c0luUHJvZ3Jlc3MpO2lmKG8mJihyfHxuKSYmIWMpe3RoaXMuX3VwZGF0aW5nQ2FtZXJhPSEwO2NvbnN0IHQ9dGhpcy5faW5lcnRpYS5fb25Nb3ZlRW5kKHRoaXMuX21hcC5kcmFnUGFuLl9pbmVydGlhT3B0aW9ucyksaT1lPT4wIT09ZSYmLXRoaXMuX2JlYXJpbmdTbmFwPGUmJmU8dGhpcy5fYmVhcmluZ1NuYXA7dD8oaSh0LmJlYXJpbmd8fHRoaXMuX21hcC5nZXRCZWFyaW5nKCkpJiYodC5iZWFyaW5nPTApLHRoaXMuX21hcC5lYXNlVG8odCx7b3JpZ2luYWxFdmVudDpsfSkpOih0aGlzLl9tYXAuZmlyZShuZXcgZS5FdmVudChcIm1vdmVlbmRcIix7b3JpZ2luYWxFdmVudDpsfSkpLGkodGhpcy5fbWFwLmdldEJlYXJpbmcoKSkmJnRoaXMuX21hcC5yZXNldE5vcnRoKCkpLHRoaXMuX3VwZGF0aW5nQ2FtZXJhPSExO319X2ZpcmVFdmVudCh0LGkpe3RoaXMuX21hcC5maXJlKG5ldyBlLkV2ZW50KHQsaT97b3JpZ2luYWxFdmVudDppfTp7fSkpO31fcmVxdWVzdEZyYW1lKCl7cmV0dXJuIHRoaXMuX21hcC50cmlnZ2VyUmVwYWludCgpLHRoaXMuX21hcC5fcmVuZGVyVGFza1F1ZXVlLmFkZCgoZT0+e3RoaXMuX2ZyYW1lSWQ9dm9pZCAwLHRoaXMuaGFuZGxlRXZlbnQobmV3IFdyKFwicmVuZGVyRnJhbWVcIix7dGltZVN0YW1wOmV9KSksdGhpcy5fYXBwbHlDaGFuZ2VzKCk7fSkpfV90cmlnZ2VyUmVuZGVyRnJhbWUoKXt2b2lkIDA9PT10aGlzLl9mcmFtZUlkJiYodGhpcy5fZnJhbWVJZD10aGlzLl9yZXF1ZXN0RnJhbWUoKSk7fX1jb25zdCBIcj1cIm1hcC5zZXRGcmVlQ2FtZXJhT3B0aW9ucyguLi4pIGFuZCBtYXAuZ2V0RnJlZUNhbWVyYU9wdGlvbnMoKSBhcmUgbm90IHlldCBzdXBwb3J0ZWQgZm9yIG5vbi1tZXJjYXRvciBwcm9qZWN0aW9ucy5cIjtjbGFzcyBZciBleHRlbmRzIGUuRXZlbnRlZHtjb25zdHJ1Y3Rvcih0LGkpe3N1cGVyKCksdGhpcy5fbW92aW5nPSExLHRoaXMuX3pvb21pbmc9ITEsdGhpcy50cmFuc2Zvcm09dCx0aGlzLl9iZWFyaW5nU25hcD1pLmJlYXJpbmdTbmFwLGUuYmluZEFsbChbXCJfcmVuZGVyRnJhbWVDYWxsYmFja1wiXSx0aGlzKTt9Z2V0Q2VudGVyKCl7cmV0dXJuIG5ldyBlLkxuZ0xhdCh0aGlzLnRyYW5zZm9ybS5jZW50ZXIubG5nLHRoaXMudHJhbnNmb3JtLmNlbnRlci5sYXQpfXNldENlbnRlcihlLHQpe3JldHVybiB0aGlzLmp1bXBUbyh7Y2VudGVyOmV9LHQpfXBhbkJ5KHQsaSxvKXtyZXR1cm4gdD1lLnBvaW50R2VvbWV0cnkuY29udmVydCh0KS5tdWx0KC0xKSx0aGlzLnBhblRvKHRoaXMudHJhbnNmb3JtLmNlbnRlcixlLmV4dGVuZCh7b2Zmc2V0OnR9LGkpLG8pfXBhblRvKHQsaSxvKXtyZXR1cm4gdGhpcy5lYXNlVG8oZS5leHRlbmQoe2NlbnRlcjp0fSxpKSxvKX1nZXRab29tKCl7cmV0dXJuIHRoaXMudHJhbnNmb3JtLnpvb219c2V0Wm9vbShlLHQpe3JldHVybiB0aGlzLmp1bXBUbyh7em9vbTplfSx0KSx0aGlzfXpvb21Ubyh0LGksbyl7cmV0dXJuIHRoaXMuZWFzZVRvKGUuZXh0ZW5kKHt6b29tOnR9LGkpLG8pfXpvb21JbihlLHQpe3JldHVybiB0aGlzLnpvb21Ubyh0aGlzLmdldFpvb20oKSsxLGUsdCksdGhpc316b29tT3V0KGUsdCl7cmV0dXJuIHRoaXMuem9vbVRvKHRoaXMuZ2V0Wm9vbSgpLTEsZSx0KSx0aGlzfWdldEJlYXJpbmcoKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0uYmVhcmluZ31zZXRCZWFyaW5nKGUsdCl7cmV0dXJuIHRoaXMuanVtcFRvKHtiZWFyaW5nOmV9LHQpLHRoaXN9Z2V0UGFkZGluZygpe3JldHVybiB0aGlzLnRyYW5zZm9ybS5wYWRkaW5nfXNldFBhZGRpbmcoZSx0KXtyZXR1cm4gdGhpcy5qdW1wVG8oe3BhZGRpbmc6ZX0sdCksdGhpc31yb3RhdGVUbyh0LGksbyl7cmV0dXJuIHRoaXMuZWFzZVRvKGUuZXh0ZW5kKHtiZWFyaW5nOnR9LGkpLG8pfXJlc2V0Tm9ydGgodCxpKXtyZXR1cm4gdGhpcy5yb3RhdGVUbygwLGUuZXh0ZW5kKHtkdXJhdGlvbjoxZTN9LHQpLGkpLHRoaXN9cmVzZXROb3J0aFBpdGNoKHQsaSl7cmV0dXJuIHRoaXMuZWFzZVRvKGUuZXh0ZW5kKHtiZWFyaW5nOjAscGl0Y2g6MCxkdXJhdGlvbjoxZTN9LHQpLGkpLHRoaXN9c25hcFRvTm9ydGgoZSx0KXtyZXR1cm4gTWF0aC5hYnModGhpcy5nZXRCZWFyaW5nKCkpPHRoaXMuX2JlYXJpbmdTbmFwP3RoaXMucmVzZXROb3J0aChlLHQpOnRoaXN9Z2V0UGl0Y2goKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0ucGl0Y2h9c2V0UGl0Y2goZSx0KXtyZXR1cm4gdGhpcy5qdW1wVG8oe3BpdGNoOmV9LHQpLHRoaXN9Y2FtZXJhRm9yQm91bmRzKHQsaSl7dD1lLkxuZ0xhdEJvdW5kcy5jb252ZXJ0KHQpO2NvbnN0IG89aSYmaS5iZWFyaW5nfHwwLHI9dC5nZXROb3J0aFdlc3QoKSxuPXQuZ2V0U291dGhFYXN0KCk7cmV0dXJuIHRoaXMuX2NhbWVyYUZvckJvdW5kcyh0aGlzLnRyYW5zZm9ybSxyLG4sbyxpKX1fZXh0ZW5kQ2FtZXJhT3B0aW9ucyh0KXtjb25zdCBpPXt0b3A6MCxib3R0b206MCxyaWdodDowLGxlZnQ6MH07aWYoXCJudW1iZXJcIj09dHlwZW9mKHQ9ZS5leHRlbmQoe3BhZGRpbmc6aSxvZmZzZXQ6WzAsMF0sbWF4Wm9vbTp0aGlzLnRyYW5zZm9ybS5tYXhab29tfSx0KSkucGFkZGluZyl7Y29uc3QgZT10LnBhZGRpbmc7dC5wYWRkaW5nPXt0b3A6ZSxib3R0b206ZSxyaWdodDplLGxlZnQ6ZX07fXJldHVybiB0LnBhZGRpbmc9ZS5leHRlbmQoaSx0LnBhZGRpbmcpLHR9X21pbmltdW1BQUJCRnJ1c3R1bURpc3RhbmNlKGUsdCl7Y29uc3QgaT10Lm1heFswXS10Lm1pblswXSxvPXQubWF4WzFdLXQubWluWzFdO3JldHVybiBpL28+ZS5hc3BlY3Q/aS8oMipNYXRoLnRhbiguNSplLmZvdlgpKmUuYXNwZWN0KTpvLygyKk1hdGgudGFuKC41KmUuZm92WSkqZS5hc3BlY3QpfV9jYW1lcmFGb3JCb3VuZHNPbkdsb2JlKHQsaSxvLHIsbil7Y29uc3QgYT10LmNsb25lKCkscz10aGlzLl9leHRlbmRDYW1lcmFPcHRpb25zKG4pO2EuYmVhcmluZz1yO2NvbnN0IGw9ZS5MbmdMYXQuY29udmVydChpKSxjPWUuTG5nTGF0LmNvbnZlcnQobyksaD0uNSoobC5sYXQrYy5sYXQpLF89LjUqKGwubG5nK2MubG5nKSx1PWUubGF0TG5nVG9FQ0VGKGgsXyksZD1lLm5vcm1hbGl6ZShbXSx1KSxwPWUubm9ybWFsaXplKFtdLGUuY3Jvc3MoW10sZCxbMCwxLDBdKSksbT1lLmNyb3NzKFtdLHAsZCksZj1bcFswXSxwWzFdLHBbMl0sMCxtWzBdLG1bMV0sbVsyXSwwLGRbMF0sZFsxXSxkWzJdLDAsMCwwLDAsMV0sZz1bdSxlLmxhdExuZ1RvRUNFRihsLmxhdCxsLmxuZyksZS5sYXRMbmdUb0VDRUYoYy5sYXQsbC5sbmcpLGUubGF0TG5nVG9FQ0VGKGMubGF0LGMubG5nKSxlLmxhdExuZ1RvRUNFRihsLmxhdCxjLmxuZyksZS5sYXRMbmdUb0VDRUYoaCxsLmxuZyksZS5sYXRMbmdUb0VDRUYoaCxjLmxuZyksZS5sYXRMbmdUb0VDRUYobC5sYXQsXyksZS5sYXRMbmdUb0VDRUYoYy5sYXQsXyldO2xldCB2PWUuQWFiYi5mcm9tUG9pbnRzKGcubWFwKCh0PT5bZS5kb3QocCx0KSxlLmRvdChtLHQpLGUuZG90KGQsdCldKSkpO2NvbnN0IHg9ZS50cmFuc2Zvcm1NYXQ0KFtdLHYuY2VudGVyLGYpOzA9PT1lLnNxdWFyZWRMZW5ndGgoeCkmJmUuc2V0KHgsMCwwLDEpLGUubm9ybWFsaXplKHgseCksZS5zY2FsZSQyKHgseCxlLkdMT0JFX1JBRElVUyksYS5jZW50ZXI9ZS5lY2VmVG9MYXRMbmcoeCk7Y29uc3QgeT1hLmdldFdvcmxkVG9DYW1lcmFNYXRyaXgoKSxiPWUuaW52ZXJ0KG5ldyBGbG9hdDY0QXJyYXkoMTYpLHkpO3Y9ZS5BYWJiLmFwcGx5VHJhbnNmb3JtKHYsZS5tdWx0aXBseShbXSx5LGYpKSxlLnRyYW5zZm9ybU1hdDQoeCx4LHkpO2NvbnN0IHc9LjUqKHYubWF4WzJdLXYubWluWzJdKSxUPXRoaXMuX21pbmltdW1BQUJCRnJ1c3R1bURpc3RhbmNlKGEsdiksRT1lLnNjYWxlJDIoW10sWzAsMCwxXSx3KSxDPWUuYWRkKEUseCxFKSxJPVQrKDA9PT1hLnBpdGNoPzA6ZS5kaXN0YW5jZSh4LEMpKSxNPWEuZ2xvYmVDZW50ZXJJblZpZXdTcGFjZSxTPWUuc3ViKFtdLHgsW01bMF0sTVsxXSxNWzJdXSk7ZS5ub3JtYWxpemUoUyxTKSxlLnNjYWxlJDIoUyxTLEkpO2NvbnN0IHo9ZS5hZGQoW10seCxTKTtlLnRyYW5zZm9ybU1hdDQoeix6LGIpO2NvbnN0IEQ9ZS5lYXJ0aFJhZGl1cy9lLkdMT0JFX1JBRElVUyxBPWUubGVuZ3RoKHopLFA9ZS5tZXJjYXRvclpmcm9tQWx0aXR1ZGUoQSpELWUuZWFydGhSYWRpdXMsMCksTD1NYXRoLm1pbihhLnpvb21Gcm9tTWVyY2F0b3JaQWRqdXN0ZWQoUCkscy5tYXhab29tKTtyZXR1cm4gTD4uNSooZS5HTE9CRV9aT09NX1RIUkVTSE9MRF9NSU4rZS5HTE9CRV9aT09NX1RIUkVTSE9MRF9NQVgpPyhhLnNldFByb2plY3Rpb24oe25hbWU6XCJtZXJjYXRvclwifSksYS56b29tPUwsdGhpcy5fY2FtZXJhRm9yQm91bmRzKGEsaSxvLHIsbikpOntjZW50ZXI6YS5jZW50ZXIsem9vbTpMLGJlYXJpbmc6cn19cXVlcnlUZXJyYWluRWxldmF0aW9uKHQsaSl7Y29uc3Qgbz10aGlzLnRyYW5zZm9ybS5lbGV2YXRpb247cmV0dXJuIG8/KGk9ZS5leHRlbmQoe30se2V4YWdnZXJhdGVkOiEwfSxpKSxvLmdldEF0UG9pbnQoZS5NZXJjYXRvckNvb3JkaW5hdGUuZnJvbUxuZ0xhdCh0KSxudWxsLGkuZXhhZ2dlcmF0ZWQpKTpudWxsfV9jYW1lcmFGb3JCb3VuZHModCxpLG8scixuKXtpZihcImdsb2JlXCI9PT10LnByb2plY3Rpb24ubmFtZSlyZXR1cm4gdGhpcy5fY2FtZXJhRm9yQm91bmRzT25HbG9iZSh0LGksbyxyLG4pO2NvbnN0IGE9dC5jbG9uZSgpLHM9dGhpcy5fZXh0ZW5kQ2FtZXJhT3B0aW9ucyhuKSxsPWEucGFkZGluZzthLmJlYXJpbmc9cjtjb25zdCBjPWUuTG5nTGF0LmNvbnZlcnQoaSksaD1lLkxuZ0xhdC5jb252ZXJ0KG8pLF89bmV3IGUuTG5nTGF0KGMubG5nLGgubGF0KSx1PW5ldyBlLkxuZ0xhdChoLmxuZyxjLmxhdCksZD1hLnByb2plY3QoYykscD1hLnByb2plY3QoaCksbT10aGlzLnF1ZXJ5VGVycmFpbkVsZXZhdGlvbihjKSxmPXRoaXMucXVlcnlUZXJyYWluRWxldmF0aW9uKGgpLGc9dGhpcy5xdWVyeVRlcnJhaW5FbGV2YXRpb24oXyksdj10aGlzLnF1ZXJ5VGVycmFpbkVsZXZhdGlvbih1KSx4PVtbZC54LGQueSxNYXRoLm1pbihtfHwwLGZ8fDAsZ3x8MCx2fHwwKV0sW3AueCxwLnksTWF0aC5tYXgobXx8MCxmfHwwLGd8fDAsdnx8MCldXTtsZXQgeT1lLkFhYmIuZnJvbVBvaW50cyh4KTtjb25zdCBiPWEuZ2V0V29ybGRUb0NhbWVyYU1hdHJpeCgpLHc9ZS5pbnZlcnQobmV3IEZsb2F0NjRBcnJheSgxNiksYik7eT1lLkFhYmIuYXBwbHlUcmFuc2Zvcm0oeSxiKTtjb25zdCBUPWUuc3ViKFtdLHkubWF4LHkubWluKSxFPWwubGVmdHx8MCxDPWwucmlnaHR8fDAsST1sLmJvdHRvbXx8MCxNPWwudG9wfHwwLHtsZWZ0OlMscmlnaHQ6eix0b3A6RCxib3R0b206QX09cy5wYWRkaW5nLFA9LjUqKEUrQyksTD0uNSooTStJKSxSPU1hdGgubWluKGEuc2NhbGVab29tKGEuc2NhbGUqTWF0aC5taW4oKGEud2lkdGgtKEUrQytTK3opKS9UWzBdLChhLmhlaWdodC0oSStNK0ErRCkpL1RbMV0pKSxzLm1heFpvb20pLE89YS5zY2FsZS9hLnpvb21TY2FsZShSKTt5PW5ldyBlLkFhYmIoW3kubWluWzBdLShTK1ApKk8seS5taW5bMV0tKEErTCkqTyx5Lm1pblsyXV0sW3kubWF4WzBdKyh6K1ApKk8seS5tYXhbMV0rKEQrTCkqTyx5Lm1heFsyXV0pO2NvbnN0IEI9LjUqVFsyXSxrPXRoaXMuX21pbmltdW1BQUJCRnJ1c3R1bURpc3RhbmNlKGEseSksRj1bMCwwLDEsMF07ZS50cmFuc2Zvcm1NYXQ0JDEoRixGLGIpLGUubm9ybWFsaXplJDIoRixGKTtjb25zdCBVPWUuc2NhbGUkMihbXSxGLGsrQiksTj1lLmFkZChbXSx5LmNlbnRlcixVKSxHPShcIm51bWJlclwiPT10eXBlb2Ygcy5vZmZzZXQueCYmXCJudW1iZXJcIj09dHlwZW9mIHMub2Zmc2V0Lnk/bmV3IGUucG9pbnRHZW9tZXRyeShzLm9mZnNldC54LHMub2Zmc2V0LnkpOmUucG9pbnRHZW9tZXRyeS5jb252ZXJ0KHMub2Zmc2V0KSkucm90YXRlKC1lLmRlZ1RvUmFkKHIpKTt5LmNlbnRlclswXS09Ry54Kk8seS5jZW50ZXJbMV0rPUcueSpPLGUudHJhbnNmb3JtTWF0NCh5LmNlbnRlcix5LmNlbnRlcix3KSxlLnRyYW5zZm9ybU1hdDQoTixOLHcpO2NvbnN0IGo9W3kuY2VudGVyWzBdLHkuY2VudGVyWzFdLE5bMl0qYS5waXhlbHNQZXJNZXRlcl07ZS5zY2FsZSQyKGosaiwxL2Eud29ybGRTaXplKTtjb25zdCBaPWUubG5nRnJvbU1lcmNhdG9yWChqWzBdKSxWPWUubGF0RnJvbU1lcmNhdG9yWShqWzFdKSxXPU1hdGgubWluKGEuX3pvb21Gcm9tTWVyY2F0b3JaKGpbMl0pLHMubWF4Wm9vbSksWD1uZXcgZS5MbmdMYXQoWixWKTtyZXR1cm4gYS5tZXJjYXRvckZyb21UcmFuc2l0aW9uJiZXPC41KihlLkdMT0JFX1pPT01fVEhSRVNIT0xEX01JTitlLkdMT0JFX1pPT01fVEhSRVNIT0xEX01BWCk/KGEuc2V0UHJvamVjdGlvbih7bmFtZTpcImdsb2JlXCJ9KSxhLnpvb209Vyx0aGlzLl9jYW1lcmFGb3JCb3VuZHMoYSxpLG8scixuKSk6e2NlbnRlcjpYLHpvb206VyxiZWFyaW5nOnJ9fWZpdEJvdW5kcyhlLHQsaSl7Y29uc3Qgbz10aGlzLmNhbWVyYUZvckJvdW5kcyhlLHQpO3JldHVybiB0aGlzLl9maXRJbnRlcm5hbChvLHQsaSl9Zml0U2NyZWVuQ29vcmRpbmF0ZXModCxpLG8scixuKXtjb25zdCBhPWUucG9pbnRHZW9tZXRyeS5jb252ZXJ0KHQpLHM9ZS5wb2ludEdlb21ldHJ5LmNvbnZlcnQoaSksbD1uZXcgZS5wb2ludEdlb21ldHJ5KE1hdGgubWluKGEueCxzLngpLE1hdGgubWluKGEueSxzLnkpKSxjPW5ldyBlLnBvaW50R2VvbWV0cnkoTWF0aC5tYXgoYS54LHMueCksTWF0aC5tYXgoYS55LHMueSkpO2lmKFwibWVyY2F0b3JcIj09PXRoaXMudHJhbnNmb3JtLnByb2plY3Rpb24ubmFtZSYmdGhpcy50cmFuc2Zvcm0uYW55Q29ybmVyT2ZmRWRnZShhLHMpKXJldHVybiB0aGlzO2NvbnN0IGg9dGhpcy50cmFuc2Zvcm0ucG9pbnRMb2NhdGlvbjNEKGwpLF89dGhpcy50cmFuc2Zvcm0ucG9pbnRMb2NhdGlvbjNEKGMpLHU9dGhpcy50cmFuc2Zvcm0ucG9pbnRMb2NhdGlvbjNEKG5ldyBlLnBvaW50R2VvbWV0cnkobC54LGMueSkpLGQ9dGhpcy50cmFuc2Zvcm0ucG9pbnRMb2NhdGlvbjNEKG5ldyBlLnBvaW50R2VvbWV0cnkoYy54LGwueSkpLHA9W01hdGgubWluKGgubG5nLF8ubG5nLHUubG5nLGQubG5nKSxNYXRoLm1pbihoLmxhdCxfLmxhdCx1LmxhdCxkLmxhdCldLG09W01hdGgubWF4KGgubG5nLF8ubG5nLHUubG5nLGQubG5nKSxNYXRoLm1heChoLmxhdCxfLmxhdCx1LmxhdCxkLmxhdCldLGY9dGhpcy5fY2FtZXJhRm9yQm91bmRzKHRoaXMudHJhbnNmb3JtLHAsbSxvLHIpO3JldHVybiB0aGlzLl9maXRJbnRlcm5hbChmLHIsbil9X2ZpdEludGVybmFsKHQsaSxvKXtyZXR1cm4gdD8oZGVsZXRlKGk9ZS5leHRlbmQodCxpKSkucGFkZGluZyxpLmxpbmVhcj90aGlzLmVhc2VUbyhpLG8pOnRoaXMuZmx5VG8oaSxvKSk6dGhpc31qdW1wVG8odCxpKXt0aGlzLnN0b3AoKTtjb25zdCBvPXQucHJlbG9hZE9ubHk/dGhpcy50cmFuc2Zvcm0uY2xvbmUoKTp0aGlzLnRyYW5zZm9ybTtsZXQgcj0hMSxuPSExLGE9ITE7cmV0dXJuIFwiem9vbVwiaW4gdCYmby56b29tIT09K3Quem9vbSYmKHI9ITAsby56b29tPSt0Lnpvb20pLHZvaWQgMCE9PXQuY2VudGVyJiYoby5jZW50ZXI9ZS5MbmdMYXQuY29udmVydCh0LmNlbnRlcikpLFwiYmVhcmluZ1wiaW4gdCYmby5iZWFyaW5nIT09K3QuYmVhcmluZyYmKG49ITAsby5iZWFyaW5nPSt0LmJlYXJpbmcpLFwicGl0Y2hcImluIHQmJm8ucGl0Y2ghPT0rdC5waXRjaCYmKGE9ITAsby5waXRjaD0rdC5waXRjaCksbnVsbD09dC5wYWRkaW5nfHxvLmlzUGFkZGluZ0VxdWFsKHQucGFkZGluZyl8fChvLnBhZGRpbmc9dC5wYWRkaW5nKSx0LnByZWxvYWRPbmx5Pyh0aGlzLl9wcmVsb2FkVGlsZXMobyksdGhpcyk6KHRoaXMuZmlyZShuZXcgZS5FdmVudChcIm1vdmVzdGFydFwiLGkpKS5maXJlKG5ldyBlLkV2ZW50KFwibW92ZVwiLGkpKSxyJiZ0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJ6b29tc3RhcnRcIixpKSkuZmlyZShuZXcgZS5FdmVudChcInpvb21cIixpKSkuZmlyZShuZXcgZS5FdmVudChcInpvb21lbmRcIixpKSksbiYmdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwicm90YXRlc3RhcnRcIixpKSkuZmlyZShuZXcgZS5FdmVudChcInJvdGF0ZVwiLGkpKS5maXJlKG5ldyBlLkV2ZW50KFwicm90YXRlZW5kXCIsaSkpLGEmJnRoaXMuZmlyZShuZXcgZS5FdmVudChcInBpdGNoc3RhcnRcIixpKSkuZmlyZShuZXcgZS5FdmVudChcInBpdGNoXCIsaSkpLmZpcmUobmV3IGUuRXZlbnQoXCJwaXRjaGVuZFwiLGkpKSx0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJtb3ZlZW5kXCIsaSkpKX1nZXRGcmVlQ2FtZXJhT3B0aW9ucygpe3JldHVybiB0aGlzLnRyYW5zZm9ybS5wcm9qZWN0aW9uLnN1cHBvcnRzRnJlZUNhbWVyYXx8ZS53YXJuT25jZShIciksdGhpcy50cmFuc2Zvcm0uZ2V0RnJlZUNhbWVyYU9wdGlvbnMoKX1zZXRGcmVlQ2FtZXJhT3B0aW9ucyh0LGkpe2NvbnN0IG89dGhpcy50cmFuc2Zvcm07aWYoIW8ucHJvamVjdGlvbi5zdXBwb3J0c0ZyZWVDYW1lcmEpcmV0dXJuIGUud2Fybk9uY2UoSHIpLHRoaXM7dGhpcy5zdG9wKCk7Y29uc3Qgcj1vLnpvb20sbj1vLnBpdGNoLGE9by5iZWFyaW5nO28uc2V0RnJlZUNhbWVyYU9wdGlvbnModCk7Y29uc3Qgcz1yIT09by56b29tLGw9biE9PW8ucGl0Y2gsYz1hIT09by5iZWFyaW5nO3JldHVybiB0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJtb3Zlc3RhcnRcIixpKSkuZmlyZShuZXcgZS5FdmVudChcIm1vdmVcIixpKSkscyYmdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwiem9vbXN0YXJ0XCIsaSkpLmZpcmUobmV3IGUuRXZlbnQoXCJ6b29tXCIsaSkpLmZpcmUobmV3IGUuRXZlbnQoXCJ6b29tZW5kXCIsaSkpLGMmJnRoaXMuZmlyZShuZXcgZS5FdmVudChcInJvdGF0ZXN0YXJ0XCIsaSkpLmZpcmUobmV3IGUuRXZlbnQoXCJyb3RhdGVcIixpKSkuZmlyZShuZXcgZS5FdmVudChcInJvdGF0ZWVuZFwiLGkpKSxsJiZ0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJwaXRjaHN0YXJ0XCIsaSkpLmZpcmUobmV3IGUuRXZlbnQoXCJwaXRjaFwiLGkpKS5maXJlKG5ldyBlLkV2ZW50KFwicGl0Y2hlbmRcIixpKSksdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwibW92ZWVuZFwiLGkpKSx0aGlzfWVhc2VUbyh0LGkpe3RoaXMuX3N0b3AoITEsdC5lYXNlSWQpLCghMT09PSh0PWUuZXh0ZW5kKHtvZmZzZXQ6WzAsMF0sZHVyYXRpb246NTAwLGVhc2luZzplLmVhc2V9LHQpKS5hbmltYXRlfHwhdC5lc3NlbnRpYWwmJmUuZXhwb3J0ZWQucHJlZmVyc1JlZHVjZWRNb3Rpb24pJiYodC5kdXJhdGlvbj0wKTtjb25zdCBvPXRoaXMudHJhbnNmb3JtLHI9dGhpcy5nZXRab29tKCksbj10aGlzLmdldEJlYXJpbmcoKSxhPXRoaXMuZ2V0UGl0Y2goKSxzPXRoaXMuZ2V0UGFkZGluZygpLGw9XCJ6b29tXCJpbiB0Pyt0Lnpvb206cixjPVwiYmVhcmluZ1wiaW4gdD90aGlzLl9ub3JtYWxpemVCZWFyaW5nKHQuYmVhcmluZyxuKTpuLGg9XCJwaXRjaFwiaW4gdD8rdC5waXRjaDphLF89XCJwYWRkaW5nXCJpbiB0P3QucGFkZGluZzpvLnBhZGRpbmcsdT1lLnBvaW50R2VvbWV0cnkuY29udmVydCh0Lm9mZnNldCk7bGV0IGQscCxtO2lmKFwiZ2xvYmVcIj09PW8ucHJvamVjdGlvbi5uYW1lKXtjb25zdCBpPWUuTWVyY2F0b3JDb29yZGluYXRlLmZyb21MbmdMYXQoby5jZW50ZXIpLHI9dS5yb3RhdGUoLW8uYW5nbGUpO2kueCs9ci54L28ud29ybGRTaXplLGkueSs9ci55L28ud29ybGRTaXplO2NvbnN0IG49aS50b0xuZ0xhdCgpLGE9ZS5MbmdMYXQuY29udmVydCh0LmNlbnRlcnx8bik7dGhpcy5fbm9ybWFsaXplQ2VudGVyKGEpLGQ9by5jZW50ZXJQb2ludC5hZGQocikscD1uZXcgZS5wb2ludEdlb21ldHJ5KGkueCxpLnkpLm11bHQoby53b3JsZFNpemUpLG09bmV3IGUucG9pbnRHZW9tZXRyeShlLm1lcmNhdG9yWGZyb21MbmcoYS5sbmcpLGUubWVyY2F0b3JZZnJvbUxhdChhLmxhdCkpLm11bHQoby53b3JsZFNpemUpLnN1YihwKTt9ZWxzZSB7ZD1vLmNlbnRlclBvaW50LmFkZCh1KTtjb25zdCBpPW8ucG9pbnRMb2NhdGlvbihkKSxyPWUuTG5nTGF0LmNvbnZlcnQodC5jZW50ZXJ8fGkpO3RoaXMuX25vcm1hbGl6ZUNlbnRlcihyKSxwPW8ucHJvamVjdChpKSxtPW8ucHJvamVjdChyKS5zdWIocCk7fWNvbnN0IGY9by56b29tU2NhbGUobC1yKTtsZXQgZyx2O3QuYXJvdW5kJiYoZz1lLkxuZ0xhdC5jb252ZXJ0KHQuYXJvdW5kKSx2PW8ubG9jYXRpb25Qb2ludChnKSk7Y29uc3QgeD10aGlzLl96b29taW5nfHxsIT09cix5PXRoaXMuX3JvdGF0aW5nfHxuIT09YyxiPXRoaXMuX3BpdGNoaW5nfHxoIT09YSx3PSFvLmlzUGFkZGluZ0VxdWFsKF8pLFQ9bz0+VD0+e2lmKHgmJihvLnpvb209ZS5udW1iZXIocixsLFQpKSx5JiYoby5iZWFyaW5nPWUubnVtYmVyKG4sYyxUKSksYiYmKG8ucGl0Y2g9ZS5udW1iZXIoYSxoLFQpKSx3JiYoby5pbnRlcnBvbGF0ZVBhZGRpbmcocyxfLFQpLGQ9by5jZW50ZXJQb2ludC5hZGQodSkpLGcpby5zZXRMb2NhdGlvbkF0UG9pbnQoZyx2KTtlbHNlIHtjb25zdCBlPW8uem9vbVNjYWxlKG8uem9vbS1yKSx0PWw+cj9NYXRoLm1pbigyLGYpOk1hdGgubWF4KC41LGYpLGk9TWF0aC5wb3codCwxLVQpLG49by51bnByb2plY3QocC5hZGQobS5tdWx0KFQqaSkpLm11bHQoZSkpO28uc2V0TG9jYXRpb25BdFBvaW50KG8ucmVuZGVyV29ybGRDb3BpZXM/bi53cmFwKCk6bixkKTt9cmV0dXJuIHQucHJlbG9hZE9ubHl8fHRoaXMuX2ZpcmVNb3ZlRXZlbnRzKGkpLG99O2lmKHQucHJlbG9hZE9ubHkpe2NvbnN0IGU9dGhpcy5fZW11bGF0ZShULHQuZHVyYXRpb24sbyk7cmV0dXJuIHRoaXMuX3ByZWxvYWRUaWxlcyhlKSx0aGlzfWNvbnN0IEU9e21vdmluZzp0aGlzLl9tb3Zpbmcsem9vbWluZzp0aGlzLl96b29taW5nLHJvdGF0aW5nOnRoaXMuX3JvdGF0aW5nLHBpdGNoaW5nOnRoaXMuX3BpdGNoaW5nfTtyZXR1cm4gdGhpcy5fem9vbWluZz14LHRoaXMuX3JvdGF0aW5nPXksdGhpcy5fcGl0Y2hpbmc9Yix0aGlzLl9wYWRkaW5nPXcsdGhpcy5fZWFzZUlkPXQuZWFzZUlkLHRoaXMuX3ByZXBhcmVFYXNlKGksdC5ub01vdmVTdGFydCxFKSx0aGlzLl9lYXNlKFQobyksKGU9PntvLnJlY2VudGVyT25UZXJyYWluKCksdGhpcy5fYWZ0ZXJFYXNlKGksZSk7fSksdCksdGhpc31fcHJlcGFyZUVhc2UodCxpLG89e30pe3RoaXMuX21vdmluZz0hMCx0aGlzLnRyYW5zZm9ybS5jYW1lcmFFbGV2YXRpb25SZWZlcmVuY2U9XCJzZWFcIixpfHxvLm1vdmluZ3x8dGhpcy5maXJlKG5ldyBlLkV2ZW50KFwibW92ZXN0YXJ0XCIsdCkpLHRoaXMuX3pvb21pbmcmJiFvLnpvb21pbmcmJnRoaXMuZmlyZShuZXcgZS5FdmVudChcInpvb21zdGFydFwiLHQpKSx0aGlzLl9yb3RhdGluZyYmIW8ucm90YXRpbmcmJnRoaXMuZmlyZShuZXcgZS5FdmVudChcInJvdGF0ZXN0YXJ0XCIsdCkpLHRoaXMuX3BpdGNoaW5nJiYhby5waXRjaGluZyYmdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwicGl0Y2hzdGFydFwiLHQpKTt9X2ZpcmVNb3ZlRXZlbnRzKHQpe3RoaXMuZmlyZShuZXcgZS5FdmVudChcIm1vdmVcIix0KSksdGhpcy5fem9vbWluZyYmdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwiem9vbVwiLHQpKSx0aGlzLl9yb3RhdGluZyYmdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwicm90YXRlXCIsdCkpLHRoaXMuX3BpdGNoaW5nJiZ0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJwaXRjaFwiLHQpKTt9X2FmdGVyRWFzZSh0LGkpe2lmKHRoaXMuX2Vhc2VJZCYmaSYmdGhpcy5fZWFzZUlkPT09aSlyZXR1cm47dGhpcy5fZWFzZUlkPXZvaWQgMCx0aGlzLnRyYW5zZm9ybS5jYW1lcmFFbGV2YXRpb25SZWZlcmVuY2U9XCJncm91bmRcIjtjb25zdCBvPXRoaXMuX3pvb21pbmcscj10aGlzLl9yb3RhdGluZyxuPXRoaXMuX3BpdGNoaW5nO3RoaXMuX21vdmluZz0hMSx0aGlzLl96b29taW5nPSExLHRoaXMuX3JvdGF0aW5nPSExLHRoaXMuX3BpdGNoaW5nPSExLHRoaXMuX3BhZGRpbmc9ITEsbyYmdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwiem9vbWVuZFwiLHQpKSxyJiZ0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJyb3RhdGVlbmRcIix0KSksbiYmdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwicGl0Y2hlbmRcIix0KSksdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwibW92ZWVuZFwiLHQpKTt9Zmx5VG8odCxpKXtpZighdC5lc3NlbnRpYWwmJmUuZXhwb3J0ZWQucHJlZmVyc1JlZHVjZWRNb3Rpb24pe2NvbnN0IG89ZS5waWNrKHQsW1wiY2VudGVyXCIsXCJ6b29tXCIsXCJiZWFyaW5nXCIsXCJwaXRjaFwiLFwiYXJvdW5kXCJdKTtyZXR1cm4gdGhpcy5qdW1wVG8obyxpKX10aGlzLnN0b3AoKSx0PWUuZXh0ZW5kKHtvZmZzZXQ6WzAsMF0sc3BlZWQ6MS4yLGN1cnZlOjEuNDIsZWFzaW5nOmUuZWFzZX0sdCk7Y29uc3Qgbz10aGlzLnRyYW5zZm9ybSxyPXRoaXMuZ2V0Wm9vbSgpLG49dGhpcy5nZXRCZWFyaW5nKCksYT10aGlzLmdldFBpdGNoKCkscz10aGlzLmdldFBhZGRpbmcoKSxsPVwiem9vbVwiaW4gdD9lLmNsYW1wKCt0Lnpvb20sby5taW5ab29tLG8ubWF4Wm9vbSk6cixjPVwiYmVhcmluZ1wiaW4gdD90aGlzLl9ub3JtYWxpemVCZWFyaW5nKHQuYmVhcmluZyxuKTpuLGg9XCJwaXRjaFwiaW4gdD8rdC5waXRjaDphLF89XCJwYWRkaW5nXCJpbiB0P3QucGFkZGluZzpvLnBhZGRpbmcsdT1vLnpvb21TY2FsZShsLXIpLGQ9ZS5wb2ludEdlb21ldHJ5LmNvbnZlcnQodC5vZmZzZXQpO2xldCBwPW8uY2VudGVyUG9pbnQuYWRkKGQpO2NvbnN0IG09by5wb2ludExvY2F0aW9uKHApLGY9ZS5MbmdMYXQuY29udmVydCh0LmNlbnRlcnx8bSk7dGhpcy5fbm9ybWFsaXplQ2VudGVyKGYpO2NvbnN0IGc9by5wcm9qZWN0KG0pLHY9by5wcm9qZWN0KGYpLnN1YihnKTtsZXQgeD10LmN1cnZlO2NvbnN0IHk9TWF0aC5tYXgoby53aWR0aCxvLmhlaWdodCksYj15L3Usdz12Lm1hZygpO2lmKFwibWluWm9vbVwiaW4gdCl7Y29uc3QgaT1lLmNsYW1wKE1hdGgubWluKHQubWluWm9vbSxyLGwpLG8ubWluWm9vbSxvLm1heFpvb20pLG49eS9vLnpvb21TY2FsZShpLXIpO3g9TWF0aC5zcXJ0KG4vdyoyKTt9Y29uc3QgVD14Kng7ZnVuY3Rpb24gRShlKXtjb25zdCB0PShiKmIteSp5KyhlPy0xOjEpKlQqVCp3KncpLygyKihlP2I6eSkqVCp3KTtyZXR1cm4gTWF0aC5sb2coTWF0aC5zcXJ0KHQqdCsxKS10KX1mdW5jdGlvbiBDKGUpe3JldHVybiAoTWF0aC5leHAoZSktTWF0aC5leHAoLWUpKS8yfWZ1bmN0aW9uIEkoZSl7cmV0dXJuIChNYXRoLmV4cChlKStNYXRoLmV4cCgtZSkpLzJ9Y29uc3QgTT1FKDApO2xldCBTPWZ1bmN0aW9uKGUpe3JldHVybiBJKE0pL0koTSt4KmUpfSx6PWZ1bmN0aW9uKGUpe3JldHVybiB5KigoSShNKSooQyh0PU0reCplKS9JKHQpKS1DKE0pKS9UKS93O3ZhciB0O30sRD0oRSgxKS1NKS94O2lmKE1hdGguYWJzKHcpPDFlLTZ8fCFpc0Zpbml0ZShEKSl7aWYoTWF0aC5hYnMoeS1iKTwxZS02KXJldHVybiB0aGlzLmVhc2VUbyh0LGkpO2NvbnN0IGU9Yjx5Py0xOjE7RD1NYXRoLmFicyhNYXRoLmxvZyhiL3kpKS94LHo9ZnVuY3Rpb24oKXtyZXR1cm4gMH0sUz1mdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5leHAoZSp4KnQpfTt9dC5kdXJhdGlvbj1cImR1cmF0aW9uXCJpbiB0Pyt0LmR1cmF0aW9uOjFlMypELyhcInNjcmVlblNwZWVkXCJpbiB0Pyt0LnNjcmVlblNwZWVkL3g6K3Quc3BlZWQpLHQubWF4RHVyYXRpb24mJnQuZHVyYXRpb24+dC5tYXhEdXJhdGlvbiYmKHQuZHVyYXRpb249MCk7Y29uc3QgQT1uIT09YyxQPWghPT1hLEw9IW8uaXNQYWRkaW5nRXF1YWwoXyksUj1vPT51PT57Y29uc3QgbT11KkQseD0xL1MobSk7by56b29tPTE9PT11P2w6citvLnNjYWxlWm9vbSh4KSxBJiYoby5iZWFyaW5nPWUubnVtYmVyKG4sYyx1KSksUCYmKG8ucGl0Y2g9ZS5udW1iZXIoYSxoLHUpKSxMJiYoby5pbnRlcnBvbGF0ZVBhZGRpbmcocyxfLHUpLHA9by5jZW50ZXJQb2ludC5hZGQoZCkpO2NvbnN0IHk9MT09PXU/ZjpvLnVucHJvamVjdChnLmFkZCh2Lm11bHQoeihtKSkpLm11bHQoeCkpO3JldHVybiBvLnNldExvY2F0aW9uQXRQb2ludChvLnJlbmRlcldvcmxkQ29waWVzP3kud3JhcCgpOnkscCksby5fdXBkYXRlQ2FtZXJhT25UZXJyYWluKCksdC5wcmVsb2FkT25seXx8dGhpcy5fZmlyZU1vdmVFdmVudHMoaSksb307aWYodC5wcmVsb2FkT25seSl7Y29uc3QgZT10aGlzLl9lbXVsYXRlKFIsdC5kdXJhdGlvbixvKTtyZXR1cm4gdGhpcy5fcHJlbG9hZFRpbGVzKGUpLHRoaXN9cmV0dXJuIHRoaXMuX3pvb21pbmc9ITAsdGhpcy5fcm90YXRpbmc9QSx0aGlzLl9waXRjaGluZz1QLHRoaXMuX3BhZGRpbmc9TCx0aGlzLl9wcmVwYXJlRWFzZShpLCExKSx0aGlzLl9lYXNlKFIobyksKCgpPT50aGlzLl9hZnRlckVhc2UoaSkpLHQpLHRoaXN9aXNFYXNpbmcoKXtyZXR1cm4gISF0aGlzLl9lYXNlRnJhbWVJZH1zdG9wKCl7cmV0dXJuIHRoaXMuX3N0b3AoKX1fc3RvcChlLHQpe2lmKHRoaXMuX2Vhc2VGcmFtZUlkJiYodGhpcy5fY2FuY2VsUmVuZGVyRnJhbWUodGhpcy5fZWFzZUZyYW1lSWQpLHRoaXMuX2Vhc2VGcmFtZUlkPXZvaWQgMCx0aGlzLl9vbkVhc2VGcmFtZT12b2lkIDApLHRoaXMuX29uRWFzZUVuZCl7Y29uc3QgZT10aGlzLl9vbkVhc2VFbmQ7dGhpcy5fb25FYXNlRW5kPXZvaWQgMCxlLmNhbGwodGhpcyx0KTt9aWYoIWUpe2NvbnN0IGU9dGhpcy5oYW5kbGVycztlJiZlLnN0b3AoITEpO31yZXR1cm4gdGhpc31fZWFzZSh0LGksbyl7ITE9PT1vLmFuaW1hdGV8fDA9PT1vLmR1cmF0aW9uPyh0KDEpLGkoKSk6KHRoaXMuX2Vhc2VTdGFydD1lLmV4cG9ydGVkLm5vdygpLHRoaXMuX2Vhc2VPcHRpb25zPW8sdGhpcy5fb25FYXNlRnJhbWU9dCx0aGlzLl9vbkVhc2VFbmQ9aSx0aGlzLl9lYXNlRnJhbWVJZD10aGlzLl9yZXF1ZXN0UmVuZGVyRnJhbWUodGhpcy5fcmVuZGVyRnJhbWVDYWxsYmFjaykpO31fcmVuZGVyRnJhbWVDYWxsYmFjaygpe2NvbnN0IHQ9TWF0aC5taW4oKGUuZXhwb3J0ZWQubm93KCktdGhpcy5fZWFzZVN0YXJ0KS90aGlzLl9lYXNlT3B0aW9ucy5kdXJhdGlvbiwxKSxpPXRoaXMuX29uRWFzZUZyYW1lO2kmJmkodGhpcy5fZWFzZU9wdGlvbnMuZWFzaW5nKHQpKSx0PDE/dGhpcy5fZWFzZUZyYW1lSWQ9dGhpcy5fcmVxdWVzdFJlbmRlckZyYW1lKHRoaXMuX3JlbmRlckZyYW1lQ2FsbGJhY2spOnRoaXMuc3RvcCgpO31fbm9ybWFsaXplQmVhcmluZyh0LGkpe3Q9ZS53cmFwKHQsLTE4MCwxODApO2NvbnN0IG89TWF0aC5hYnModC1pKTtyZXR1cm4gTWF0aC5hYnModC0zNjAtaSk8byYmKHQtPTM2MCksTWF0aC5hYnModCszNjAtaSk8byYmKHQrPTM2MCksdH1fbm9ybWFsaXplQ2VudGVyKGUpe2NvbnN0IHQ9dGhpcy50cmFuc2Zvcm07aWYoIXQucmVuZGVyV29ybGRDb3BpZXN8fHQubWF4Qm91bmRzKXJldHVybjtjb25zdCBpPWUubG5nLXQuY2VudGVyLmxuZztlLmxuZys9aT4xODA/LTM2MDppPC0xODA/MzYwOjA7fV9lbXVsYXRlKGUsdCxpKXtjb25zdCBvPU1hdGguY2VpbCgxNSp0LzFlMykscj1bXSxuPWUoaS5jbG9uZSgpKTtmb3IobGV0IGU9MDtlPD1vO2UrKyl7Y29uc3QgdD1uKGUvbyk7ci5wdXNoKHQuY2xvbmUoKSk7fXJldHVybiByfX1jbGFzcyBLcntjb25zdHJ1Y3Rvcih0PXt9KXt0aGlzLm9wdGlvbnM9dCxlLmJpbmRBbGwoW1wiX3RvZ2dsZUF0dHJpYnV0aW9uXCIsXCJfdXBkYXRlRWRpdExpbmtcIixcIl91cGRhdGVEYXRhXCIsXCJfdXBkYXRlQ29tcGFjdFwiXSx0aGlzKTt9Z2V0RGVmYXVsdFBvc2l0aW9uKCl7cmV0dXJuIFwiYm90dG9tLXJpZ2h0XCJ9b25BZGQoZSl7Y29uc3QgdD10aGlzLm9wdGlvbnMmJnRoaXMub3B0aW9ucy5jb21wYWN0O3JldHVybiB0aGlzLl9tYXA9ZSx0aGlzLl9jb250YWluZXI9bihcImRpdlwiLFwibWFwYm94Z2wtY3RybCBtYXBib3hnbC1jdHJsLWF0dHJpYlwiKSx0aGlzLl9jb21wYWN0QnV0dG9uPW4oXCJidXR0b25cIixcIm1hcGJveGdsLWN0cmwtYXR0cmliLWJ1dHRvblwiLHRoaXMuX2NvbnRhaW5lciksbihcInNwYW5cIixcIm1hcGJveGdsLWN0cmwtaWNvblwiLHRoaXMuX2NvbXBhY3RCdXR0b24pLnNldEF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIsXCJ0cnVlXCIpLHRoaXMuX2NvbXBhY3RCdXR0b24udHlwZT1cImJ1dHRvblwiLHRoaXMuX2NvbXBhY3RCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsdGhpcy5fdG9nZ2xlQXR0cmlidXRpb24pLHRoaXMuX3NldEVsZW1lbnRUaXRsZSh0aGlzLl9jb21wYWN0QnV0dG9uLFwiVG9nZ2xlQXR0cmlidXRpb25cIiksdGhpcy5faW5uZXJDb250YWluZXI9bihcImRpdlwiLFwibWFwYm94Z2wtY3RybC1hdHRyaWItaW5uZXJcIix0aGlzLl9jb250YWluZXIpLHRoaXMuX2lubmVyQ29udGFpbmVyLnNldEF0dHJpYnV0ZShcInJvbGVcIixcImxpc3RcIiksdCYmdGhpcy5fY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC1jb21wYWN0XCIpLHRoaXMuX3VwZGF0ZUF0dHJpYnV0aW9ucygpLHRoaXMuX3VwZGF0ZUVkaXRMaW5rKCksdGhpcy5fbWFwLm9uKFwic3R5bGVkYXRhXCIsdGhpcy5fdXBkYXRlRGF0YSksdGhpcy5fbWFwLm9uKFwic291cmNlZGF0YVwiLHRoaXMuX3VwZGF0ZURhdGEpLHRoaXMuX21hcC5vbihcIm1vdmVlbmRcIix0aGlzLl91cGRhdGVFZGl0TGluayksdm9pZCAwPT09dCYmKHRoaXMuX21hcC5vbihcInJlc2l6ZVwiLHRoaXMuX3VwZGF0ZUNvbXBhY3QpLHRoaXMuX3VwZGF0ZUNvbXBhY3QoKSksdGhpcy5fY29udGFpbmVyfW9uUmVtb3ZlKCl7dGhpcy5fY29udGFpbmVyLnJlbW92ZSgpLHRoaXMuX21hcC5vZmYoXCJzdHlsZWRhdGFcIix0aGlzLl91cGRhdGVEYXRhKSx0aGlzLl9tYXAub2ZmKFwic291cmNlZGF0YVwiLHRoaXMuX3VwZGF0ZURhdGEpLHRoaXMuX21hcC5vZmYoXCJtb3ZlZW5kXCIsdGhpcy5fdXBkYXRlRWRpdExpbmspLHRoaXMuX21hcC5vZmYoXCJyZXNpemVcIix0aGlzLl91cGRhdGVDb21wYWN0KSx0aGlzLl9tYXA9dm9pZCAwLHRoaXMuX2F0dHJpYkhUTUw9dm9pZCAwO31fc2V0RWxlbWVudFRpdGxlKGUsdCl7Y29uc3QgaT10aGlzLl9tYXAuX2dldFVJU3RyaW5nKGBBdHRyaWJ1dGlvbkNvbnRyb2wuJHt0fWApO2Uuc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLGkpLGUucmVtb3ZlQXR0cmlidXRlKFwidGl0bGVcIiksZS5maXJzdEVsZW1lbnRDaGlsZCYmZS5maXJzdEVsZW1lbnRDaGlsZC5zZXRBdHRyaWJ1dGUoXCJ0aXRsZVwiLGkpO31fdG9nZ2xlQXR0cmlidXRpb24oKXt0aGlzLl9jb250YWluZXIuY2xhc3NMaXN0LmNvbnRhaW5zKFwibWFwYm94Z2wtY29tcGFjdC1zaG93XCIpPyh0aGlzLl9jb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWNvbXBhY3Qtc2hvd1wiKSx0aGlzLl9jb21wYWN0QnV0dG9uLnNldEF0dHJpYnV0ZShcImFyaWEtZXhwYW5kZWRcIixcImZhbHNlXCIpKToodGhpcy5fY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC1jb21wYWN0LXNob3dcIiksdGhpcy5fY29tcGFjdEJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWV4cGFuZGVkXCIsXCJ0cnVlXCIpKTt9X3VwZGF0ZUVkaXRMaW5rKCl7bGV0IHQ9dGhpcy5fZWRpdExpbms7dHx8KHQ9dGhpcy5fZWRpdExpbms9dGhpcy5fY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIubWFwYm94LWltcHJvdmUtbWFwXCIpKTtjb25zdCBpPVt7a2V5Olwib3duZXJcIix2YWx1ZTp0aGlzLnN0eWxlT3duZXJ9LHtrZXk6XCJpZFwiLHZhbHVlOnRoaXMuc3R5bGVJZH0se2tleTpcImFjY2Vzc190b2tlblwiLHZhbHVlOnRoaXMuX21hcC5fcmVxdWVzdE1hbmFnZXIuX2N1c3RvbUFjY2Vzc1Rva2VufHxlLmNvbmZpZy5BQ0NFU1NfVE9LRU59XTtpZih0KXtjb25zdCBvPWkucmVkdWNlKCgoZSx0LG8pPT4odC52YWx1ZSYmKGUrPWAke3Qua2V5fT0ke3QudmFsdWV9JHtvPGkubGVuZ3RoLTE/XCImXCI6XCJcIn1gKSxlKSksXCI/XCIpO3QuaHJlZj1gJHtlLmNvbmZpZy5GRUVEQkFDS19VUkx9LyR7b30jJHtlcih0aGlzLl9tYXAsITApfWAsdC5yZWw9XCJub29wZW5lciBub2ZvbGxvd1wiLHRoaXMuX3NldEVsZW1lbnRUaXRsZSh0LFwiTWFwRmVlZGJhY2tcIik7fX1fdXBkYXRlRGF0YShlKXshZXx8XCJtZXRhZGF0YVwiIT09ZS5zb3VyY2VEYXRhVHlwZSYmXCJ2aXNpYmlsaXR5XCIhPT1lLnNvdXJjZURhdGFUeXBlJiZcInN0eWxlXCIhPT1lLmRhdGFUeXBlfHwodGhpcy5fdXBkYXRlQXR0cmlidXRpb25zKCksdGhpcy5fdXBkYXRlRWRpdExpbmsoKSk7fV91cGRhdGVBdHRyaWJ1dGlvbnMoKXtpZighdGhpcy5fbWFwLnN0eWxlKXJldHVybjtsZXQgZT1bXTtpZih0aGlzLl9tYXAuc3R5bGUuc3R5bGVzaGVldCl7Y29uc3QgZT10aGlzLl9tYXAuc3R5bGUuc3R5bGVzaGVldDt0aGlzLnN0eWxlT3duZXI9ZS5vd25lcix0aGlzLnN0eWxlSWQ9ZS5pZDt9Y29uc3QgdD10aGlzLl9tYXAuc3R5bGUuX3NvdXJjZUNhY2hlcztmb3IoY29uc3QgaSBpbiB0KXtjb25zdCBvPXRbaV07aWYoby51c2VkKXtjb25zdCB0PW8uZ2V0U291cmNlKCk7dC5hdHRyaWJ1dGlvbiYmZS5pbmRleE9mKHQuYXR0cmlidXRpb24pPDAmJmUucHVzaCh0LmF0dHJpYnV0aW9uKTt9fWUuc29ydCgoKGUsdCk9PmUubGVuZ3RoLXQubGVuZ3RoKSksZT1lLmZpbHRlcigoKHQsaSk9Pntmb3IobGV0IG89aSsxO288ZS5sZW5ndGg7bysrKWlmKGVbb10uaW5kZXhPZih0KT49MClyZXR1cm4gITE7cmV0dXJuICEwfSkpLHRoaXMub3B0aW9ucy5jdXN0b21BdHRyaWJ1dGlvbiYmKEFycmF5LmlzQXJyYXkodGhpcy5vcHRpb25zLmN1c3RvbUF0dHJpYnV0aW9uKT9lPVsuLi50aGlzLm9wdGlvbnMuY3VzdG9tQXR0cmlidXRpb24sLi4uZV06ZS51bnNoaWZ0KHRoaXMub3B0aW9ucy5jdXN0b21BdHRyaWJ1dGlvbikpO2NvbnN0IGk9ZS5qb2luKFwiIHwgXCIpO2khPT10aGlzLl9hdHRyaWJIVE1MJiYodGhpcy5fYXR0cmliSFRNTD1pLGUubGVuZ3RoPyh0aGlzLl9pbm5lckNvbnRhaW5lci5pbm5lckhUTUw9aSx0aGlzLl9jb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWF0dHJpYi1lbXB0eVwiKSk6dGhpcy5fY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC1hdHRyaWItZW1wdHlcIiksdGhpcy5fZWRpdExpbms9bnVsbCk7fV91cGRhdGVDb21wYWN0KCl7dGhpcy5fbWFwLmdldENhbnZhc0NvbnRhaW5lcigpLm9mZnNldFdpZHRoPD02NDA/dGhpcy5fY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC1jb21wYWN0XCIpOnRoaXMuX2NvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtY29tcGFjdFwiLFwibWFwYm94Z2wtY29tcGFjdC1zaG93XCIpO319Y2xhc3MgSnJ7Y29uc3RydWN0b3IoKXtlLmJpbmRBbGwoW1wiX3VwZGF0ZUxvZ29cIixcIl91cGRhdGVDb21wYWN0XCJdLHRoaXMpO31vbkFkZChlKXt0aGlzLl9tYXA9ZSx0aGlzLl9jb250YWluZXI9bihcImRpdlwiLFwibWFwYm94Z2wtY3RybFwiKTtjb25zdCB0PW4oXCJhXCIsXCJtYXBib3hnbC1jdHJsLWxvZ29cIik7cmV0dXJuIHQudGFyZ2V0PVwiX2JsYW5rXCIsdC5yZWw9XCJub29wZW5lciBub2ZvbGxvd1wiLHQuaHJlZj1cImh0dHBzOi8vd3d3Lm1hcGJveC5jb20vXCIsdC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsdGhpcy5fbWFwLl9nZXRVSVN0cmluZyhcIkxvZ29Db250cm9sLlRpdGxlXCIpKSx0LnNldEF0dHJpYnV0ZShcInJlbFwiLFwibm9vcGVuZXIgbm9mb2xsb3dcIiksdGhpcy5fY29udGFpbmVyLmFwcGVuZENoaWxkKHQpLHRoaXMuX2NvbnRhaW5lci5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLHRoaXMuX21hcC5vbihcInNvdXJjZWRhdGFcIix0aGlzLl91cGRhdGVMb2dvKSx0aGlzLl91cGRhdGVMb2dvKCksdGhpcy5fbWFwLm9uKFwicmVzaXplXCIsdGhpcy5fdXBkYXRlQ29tcGFjdCksdGhpcy5fdXBkYXRlQ29tcGFjdCgpLHRoaXMuX2NvbnRhaW5lcn1vblJlbW92ZSgpe3RoaXMuX2NvbnRhaW5lci5yZW1vdmUoKSx0aGlzLl9tYXAub2ZmKFwic291cmNlZGF0YVwiLHRoaXMuX3VwZGF0ZUxvZ28pLHRoaXMuX21hcC5vZmYoXCJyZXNpemVcIix0aGlzLl91cGRhdGVDb21wYWN0KTt9Z2V0RGVmYXVsdFBvc2l0aW9uKCl7cmV0dXJuIFwiYm90dG9tLWxlZnRcIn1fdXBkYXRlTG9nbyhlKXtlJiZcIm1ldGFkYXRhXCIhPT1lLnNvdXJjZURhdGFUeXBlfHwodGhpcy5fY29udGFpbmVyLnN0eWxlLmRpc3BsYXk9dGhpcy5fbG9nb1JlcXVpcmVkKCk/XCJibG9ja1wiOlwibm9uZVwiKTt9X2xvZ29SZXF1aXJlZCgpe2lmKCF0aGlzLl9tYXAuc3R5bGUpcmV0dXJuICEwO2NvbnN0IGU9dGhpcy5fbWFwLnN0eWxlLl9zb3VyY2VDYWNoZXM7aWYoMD09PU9iamVjdC5lbnRyaWVzKGUpLmxlbmd0aClyZXR1cm4gITA7Zm9yKGNvbnN0IHQgaW4gZSl7Y29uc3QgaT1lW3RdLmdldFNvdXJjZSgpO2lmKGkuaGFzT3duUHJvcGVydHkoXCJtYXBib3hfbG9nb1wiKSYmIWkubWFwYm94X2xvZ28pcmV0dXJuICExfXJldHVybiAhMH1fdXBkYXRlQ29tcGFjdCgpe2NvbnN0IGU9dGhpcy5fY29udGFpbmVyLmNoaWxkcmVuO2lmKGUubGVuZ3RoKXtjb25zdCB0PWVbMF07dGhpcy5fbWFwLmdldENhbnZhc0NvbnRhaW5lcigpLm9mZnNldFdpZHRoPDI1MD90LmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC1jb21wYWN0XCIpOnQuY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWNvbXBhY3RcIik7fX19Y2xhc3MgUXJ7Y29uc3RydWN0b3IoKXt0aGlzLl9xdWV1ZT1bXSx0aGlzLl9pZD0wLHRoaXMuX2NsZWFyZWQ9ITEsdGhpcy5fY3VycmVudGx5UnVubmluZz0hMTt9YWRkKGUpe2NvbnN0IHQ9Kyt0aGlzLl9pZDtyZXR1cm4gdGhpcy5fcXVldWUucHVzaCh7Y2FsbGJhY2s6ZSxpZDp0LGNhbmNlbGxlZDohMX0pLHR9cmVtb3ZlKGUpe2NvbnN0IHQ9dGhpcy5fY3VycmVudGx5UnVubmluZyxpPXQ/dGhpcy5fcXVldWUuY29uY2F0KHQpOnRoaXMuX3F1ZXVlO2Zvcihjb25zdCB0IG9mIGkpaWYodC5pZD09PWUpcmV0dXJuIHZvaWQodC5jYW5jZWxsZWQ9ITApfXJ1bihlPTApe2NvbnN0IHQ9dGhpcy5fY3VycmVudGx5UnVubmluZz10aGlzLl9xdWV1ZTt0aGlzLl9xdWV1ZT1bXTtmb3IoY29uc3QgaSBvZiB0KWlmKCFpLmNhbmNlbGxlZCYmKGkuY2FsbGJhY2soZSksdGhpcy5fY2xlYXJlZCkpYnJlYWs7dGhpcy5fY2xlYXJlZD0hMSx0aGlzLl9jdXJyZW50bHlSdW5uaW5nPSExO31jbGVhcigpe3RoaXMuX2N1cnJlbnRseVJ1bm5pbmcmJih0aGlzLl9jbGVhcmVkPSEwKSx0aGlzLl9xdWV1ZT1bXTt9fWZ1bmN0aW9uIGVuKHQsaSxvKXtpZih0PW5ldyBlLkxuZ0xhdCh0LmxuZyx0LmxhdCksaSl7Y29uc3Qgcj1uZXcgZS5MbmdMYXQodC5sbmctMzYwLHQubGF0KSxuPW5ldyBlLkxuZ0xhdCh0LmxuZyszNjAsdC5sYXQpLGE9MzYwKk1hdGguY2VpbChNYXRoLmFicyh0LmxuZy1vLmNlbnRlci5sbmcpLzM2MCkscz1vLmxvY2F0aW9uUG9pbnQodCkuZGlzdFNxcihpKSxsPWkueDwwfHxpLnk8MHx8aS54Pm8ud2lkdGh8fGkueT5vLmhlaWdodDtvLmxvY2F0aW9uUG9pbnQocikuZGlzdFNxcihpKTxzJiYobHx8TWF0aC5hYnMoci5sbmctby5jZW50ZXIubG5nKTxhKT90PXI6by5sb2NhdGlvblBvaW50KG4pLmRpc3RTcXIoaSk8cyYmKGx8fE1hdGguYWJzKG4ubG5nLW8uY2VudGVyLmxuZyk8YSkmJih0PW4pO31mb3IoO01hdGguYWJzKHQubG5nLW8uY2VudGVyLmxuZyk+MTgwOyl7Y29uc3QgZT1vLmxvY2F0aW9uUG9pbnQodCk7aWYoZS54Pj0wJiZlLnk+PTAmJmUueDw9by53aWR0aCYmZS55PD1vLmhlaWdodClicmVhazt0LmxuZz5vLmNlbnRlci5sbmc/dC5sbmctPTM2MDp0LmxuZys9MzYwO31yZXR1cm4gdH1jb25zdCB0bj17Y2VudGVyOlwidHJhbnNsYXRlKC01MCUsLTUwJSlcIix0b3A6XCJ0cmFuc2xhdGUoLTUwJSwwKVwiLFwidG9wLWxlZnRcIjpcInRyYW5zbGF0ZSgwLDApXCIsXCJ0b3AtcmlnaHRcIjpcInRyYW5zbGF0ZSgtMTAwJSwwKVwiLGJvdHRvbTpcInRyYW5zbGF0ZSgtNTAlLC0xMDAlKVwiLFwiYm90dG9tLWxlZnRcIjpcInRyYW5zbGF0ZSgwLC0xMDAlKVwiLFwiYm90dG9tLXJpZ2h0XCI6XCJ0cmFuc2xhdGUoLTEwMCUsLTEwMCUpXCIsbGVmdDpcInRyYW5zbGF0ZSgwLC01MCUpXCIscmlnaHQ6XCJ0cmFuc2xhdGUoLTEwMCUsLTUwJSlcIn07Y2xhc3Mgb24gZXh0ZW5kcyBlLkV2ZW50ZWR7Y29uc3RydWN0b3IodCxpKXtpZihzdXBlcigpLCh0IGluc3RhbmNlb2YgZS53aW5kb3cuSFRNTEVsZW1lbnR8fGkpJiYodD1lLmV4dGVuZCh7ZWxlbWVudDp0fSxpKSksZS5iaW5kQWxsKFtcIl91cGRhdGVcIixcIl9vbk1vdmVcIixcIl9vblVwXCIsXCJfYWRkRHJhZ0hhbmRsZXJcIixcIl9vbk1hcENsaWNrXCIsXCJfb25LZXlQcmVzc1wiLFwiX2NsZWFyRmFkZVRpbWVyXCJdLHRoaXMpLHRoaXMuX2FuY2hvcj10JiZ0LmFuY2hvcnx8XCJjZW50ZXJcIix0aGlzLl9jb2xvcj10JiZ0LmNvbG9yfHxcIiMzRkIxQ0VcIix0aGlzLl9zY2FsZT10JiZ0LnNjYWxlfHwxLHRoaXMuX2RyYWdnYWJsZT10JiZ0LmRyYWdnYWJsZXx8ITEsdGhpcy5fY2xpY2tUb2xlcmFuY2U9dCYmdC5jbGlja1RvbGVyYW5jZXx8MCx0aGlzLl9pc0RyYWdnaW5nPSExLHRoaXMuX3N0YXRlPVwiaW5hY3RpdmVcIix0aGlzLl9yb3RhdGlvbj10JiZ0LnJvdGF0aW9ufHwwLHRoaXMuX3JvdGF0aW9uQWxpZ25tZW50PXQmJnQucm90YXRpb25BbGlnbm1lbnR8fFwiYXV0b1wiLHRoaXMuX3BpdGNoQWxpZ25tZW50PXQmJnQucGl0Y2hBbGlnbm1lbnQmJnQucGl0Y2hBbGlnbm1lbnR8fFwiYXV0b1wiLHRoaXMuX3VwZGF0ZU1vdmluZz0oKT0+dGhpcy5fdXBkYXRlKCEwKSx0aGlzLl9vY2NsdWRlZE9wYWNpdHk9dCYmdC5vY2NsdWRlZE9wYWNpdHl8fC4yLHQmJnQuZWxlbWVudCl0aGlzLl9lbGVtZW50PXQuZWxlbWVudCx0aGlzLl9vZmZzZXQ9ZS5wb2ludEdlb21ldHJ5LmNvbnZlcnQodCYmdC5vZmZzZXR8fFswLDBdKTtlbHNlIHt0aGlzLl9kZWZhdWx0TWFya2VyPSEwLHRoaXMuX2VsZW1lbnQ9bihcImRpdlwiKTtjb25zdCBpPTQxLG89Mjcscj1hKFwic3ZnXCIse2Rpc3BsYXk6XCJibG9ja1wiLGhlaWdodDppKnRoaXMuX3NjYWxlK1wicHhcIix3aWR0aDpvKnRoaXMuX3NjYWxlK1wicHhcIix2aWV3Qm94OmAwIDAgJHtvfSAke2l9YH0sdGhpcy5fZWxlbWVudCkscz1hKFwicmFkaWFsR3JhZGllbnRcIix7aWQ6XCJzaGFkb3dHcmFkaWVudFwifSxhKFwiZGVmc1wiLHt9LHIpKTthKFwic3RvcFwiLHtvZmZzZXQ6XCIxMCVcIixcInN0b3Atb3BhY2l0eVwiOi40fSxzKSxhKFwic3RvcFwiLHtvZmZzZXQ6XCIxMDAlXCIsXCJzdG9wLW9wYWNpdHlcIjouMDV9LHMpLGEoXCJlbGxpcHNlXCIse2N4OjEzLjUsY3k6MzQuOCxyeDoxMC41LHJ5OjUuMjUsZmlsbDpcInVybCgjc2hhZG93R3JhZGllbnQpXCJ9LHIpLGEoXCJwYXRoXCIse2ZpbGw6dGhpcy5fY29sb3IsZDpcIk0yNywxMy41QzI3LDE5LjA3IDIwLjI1LDI3IDE0Ljc1LDM0LjVDMTQuMDIsMzUuNSAxMi45OCwzNS41IDEyLjI1LDM0LjVDNi43NSwyNyAwLDE5LjIyIDAsMTMuNUMwLDYuMDQgNi4wNCwwIDEzLjUsMEMyMC45NiwwIDI3LDYuMDQgMjcsMTMuNVpcIn0sciksYShcInBhdGhcIix7b3BhY2l0eTouMjUsZDpcIk0xMy41LDBDNi4wNCwwIDAsNi4wNCAwLDEzLjVDMCwxOS4yMiA2Ljc1LDI3IDEyLjI1LDM0LjVDMTMsMzUuNTIgMTQuMDIsMzUuNSAxNC43NSwzNC41QzIwLjI1LDI3IDI3LDE5LjA3IDI3LDEzLjVDMjcsNi4wNCAyMC45NiwwIDEzLjUsMFpNMTMuNSwxQzIwLjQyLDEgMjYsNi41OCAyNiwxMy41QzI2LDE1LjkgMjQuNSwxOS4xOCAyMi4yMiwyMi43NEMxOS45NSwyNi4zIDE2LjcxLDMwLjE0IDEzLjk0LDMzLjkxQzEzLjc0LDM0LjE4IDEzLjYxLDM0LjMyIDEzLjUsMzQuNDRDMTMuMzksMzQuMzIgMTMuMjYsMzQuMTggMTMuMDYsMzMuOTFDMTAuMjgsMzAuMTMgNy40MSwyNi4zMSA1LjAyLDIyLjc3QzIuNjIsMTkuMjMgMSwxNS45NSAxLDEzLjVDMSw2LjU4IDYuNTgsMSAxMy41LDFaXCJ9LHIpLGEoXCJjaXJjbGVcIix7ZmlsbDpcIndoaXRlXCIsY3g6MTMuNSxjeToxMy41LHI6NS41fSxyKSx0aGlzLl9vZmZzZXQ9ZS5wb2ludEdlb21ldHJ5LmNvbnZlcnQodCYmdC5vZmZzZXR8fFswLC0xNF0pO310aGlzLl9lbGVtZW50Lmhhc0F0dHJpYnV0ZShcImFyaWEtbGFiZWxcIil8fHRoaXMuX2VsZW1lbnQuc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLFwiTWFwIG1hcmtlclwiKSx0aGlzLl9lbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC1tYXJrZXJcIiksdGhpcy5fZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiZHJhZ3N0YXJ0XCIsKGU9PntlLnByZXZlbnREZWZhdWx0KCk7fSkpLHRoaXMuX2VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLChlPT57ZS5wcmV2ZW50RGVmYXVsdCgpO30pKTtjb25zdCBvPXRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0O2Zvcihjb25zdCBlIGluIHRuKW8ucmVtb3ZlKGBtYXBib3hnbC1tYXJrZXItYW5jaG9yLSR7ZX1gKTtvLmFkZChgbWFwYm94Z2wtbWFya2VyLWFuY2hvci0ke3RoaXMuX2FuY2hvcn1gKSx0aGlzLl9wb3B1cD1udWxsO31hZGRUbyhlKXtyZXR1cm4gZT09PXRoaXMuX21hcHx8KHRoaXMucmVtb3ZlKCksdGhpcy5fbWFwPWUsZS5nZXRDYW52YXNDb250YWluZXIoKS5hcHBlbmRDaGlsZCh0aGlzLl9lbGVtZW50KSxlLm9uKFwibW92ZVwiLHRoaXMuX3VwZGF0ZU1vdmluZyksZS5vbihcIm1vdmVlbmRcIix0aGlzLl91cGRhdGUpLGUub24oXCJyZW1vdmVcIix0aGlzLl9jbGVhckZhZGVUaW1lciksZS5fYWRkTWFya2VyKHRoaXMpLHRoaXMuc2V0RHJhZ2dhYmxlKHRoaXMuX2RyYWdnYWJsZSksdGhpcy5fdXBkYXRlKCksZS5vbihcImNsaWNrXCIsdGhpcy5fb25NYXBDbGljaykpLHRoaXN9cmVtb3ZlKCl7Y29uc3QgZT10aGlzLl9tYXA7cmV0dXJuIGUmJihlLm9mZihcImNsaWNrXCIsdGhpcy5fb25NYXBDbGljayksZS5vZmYoXCJtb3ZlXCIsdGhpcy5fdXBkYXRlTW92aW5nKSxlLm9mZihcIm1vdmVlbmRcIix0aGlzLl91cGRhdGUpLGUub2ZmKFwibW91c2Vkb3duXCIsdGhpcy5fYWRkRHJhZ0hhbmRsZXIpLGUub2ZmKFwidG91Y2hzdGFydFwiLHRoaXMuX2FkZERyYWdIYW5kbGVyKSxlLm9mZihcIm1vdXNldXBcIix0aGlzLl9vblVwKSxlLm9mZihcInRvdWNoZW5kXCIsdGhpcy5fb25VcCksZS5vZmYoXCJtb3VzZW1vdmVcIix0aGlzLl9vbk1vdmUpLGUub2ZmKFwidG91Y2htb3ZlXCIsdGhpcy5fb25Nb3ZlKSxlLm9mZihcInJlbW92ZVwiLHRoaXMuX2NsZWFyRmFkZVRpbWVyKSxlLl9yZW1vdmVNYXJrZXIodGhpcyksdGhpcy5fbWFwPXZvaWQgMCksdGhpcy5fY2xlYXJGYWRlVGltZXIoKSx0aGlzLl9lbGVtZW50LnJlbW92ZSgpLHRoaXMuX3BvcHVwJiZ0aGlzLl9wb3B1cC5yZW1vdmUoKSx0aGlzfWdldExuZ0xhdCgpe3JldHVybiB0aGlzLl9sbmdMYXR9c2V0TG5nTGF0KHQpe3JldHVybiB0aGlzLl9sbmdMYXQ9ZS5MbmdMYXQuY29udmVydCh0KSx0aGlzLl9wb3M9bnVsbCx0aGlzLl9wb3B1cCYmdGhpcy5fcG9wdXAuc2V0TG5nTGF0KHRoaXMuX2xuZ0xhdCksdGhpcy5fdXBkYXRlKCEwKSx0aGlzfWdldEVsZW1lbnQoKXtyZXR1cm4gdGhpcy5fZWxlbWVudH1zZXRQb3B1cChlKXtpZih0aGlzLl9wb3B1cCYmKHRoaXMuX3BvcHVwLnJlbW92ZSgpLHRoaXMuX3BvcHVwPW51bGwsdGhpcy5fZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoXCJyb2xlXCIpLHRoaXMuX2VsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleXByZXNzXCIsdGhpcy5fb25LZXlQcmVzcyksdGhpcy5fb3JpZ2luYWxUYWJJbmRleHx8dGhpcy5fZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoXCJ0YWJpbmRleFwiKSksZSl7aWYoIShcIm9mZnNldFwiaW4gZS5vcHRpb25zKSl7Y29uc3QgdD0zOC4xLGk9MTMuNSxvPU1hdGguc3FydChNYXRoLnBvdyhpLDIpLzIpO2Uub3B0aW9ucy5vZmZzZXQ9dGhpcy5fZGVmYXVsdE1hcmtlcj97dG9wOlswLDBdLFwidG9wLWxlZnRcIjpbMCwwXSxcInRvcC1yaWdodFwiOlswLDBdLGJvdHRvbTpbMCwtdF0sXCJib3R0b20tbGVmdFwiOltvLC0xKih0LWkrbyldLFwiYm90dG9tLXJpZ2h0XCI6Wy1vLC0xKih0LWkrbyldLGxlZnQ6W2ksLTEqKHQtaSldLHJpZ2h0OlstaSwtMSoodC1pKV19OnRoaXMuX29mZnNldDt9dGhpcy5fcG9wdXA9ZSxlLl9tYXJrZXI9dGhpcyx0aGlzLl9sbmdMYXQmJnRoaXMuX3BvcHVwLnNldExuZ0xhdCh0aGlzLl9sbmdMYXQpLHRoaXMuX2VsZW1lbnQuc2V0QXR0cmlidXRlKFwicm9sZVwiLFwiYnV0dG9uXCIpLHRoaXMuX29yaWdpbmFsVGFiSW5kZXg9dGhpcy5fZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJ0YWJpbmRleFwiKSx0aGlzLl9vcmlnaW5hbFRhYkluZGV4fHx0aGlzLl9lbGVtZW50LnNldEF0dHJpYnV0ZShcInRhYmluZGV4XCIsXCIwXCIpLHRoaXMuX2VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleXByZXNzXCIsdGhpcy5fb25LZXlQcmVzcyksdGhpcy5fZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWV4cGFuZGVkXCIsXCJmYWxzZVwiKTt9cmV0dXJuIHRoaXN9X29uS2V5UHJlc3MoZSl7Y29uc3QgdD1lLmNvZGUsaT1lLmNoYXJDb2RlfHxlLmtleUNvZGU7XCJTcGFjZVwiIT09dCYmXCJFbnRlclwiIT09dCYmMzIhPT1pJiYxMyE9PWl8fHRoaXMudG9nZ2xlUG9wdXAoKTt9X29uTWFwQ2xpY2soZSl7Y29uc3QgdD1lLm9yaWdpbmFsRXZlbnQudGFyZ2V0LGk9dGhpcy5fZWxlbWVudDt0aGlzLl9wb3B1cCYmKHQ9PT1pfHxpLmNvbnRhaW5zKHQpKSYmdGhpcy50b2dnbGVQb3B1cCgpO31nZXRQb3B1cCgpe3JldHVybiB0aGlzLl9wb3B1cH10b2dnbGVQb3B1cCgpe2NvbnN0IGU9dGhpcy5fcG9wdXA7cmV0dXJuIGU/KGUuaXNPcGVuKCk/KGUucmVtb3ZlKCksdGhpcy5fZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWV4cGFuZGVkXCIsXCJmYWxzZVwiKSk6dGhpcy5fbWFwJiYoZS5hZGRUbyh0aGlzLl9tYXApLHRoaXMuX2VsZW1lbnQuc2V0QXR0cmlidXRlKFwiYXJpYS1leHBhbmRlZFwiLFwidHJ1ZVwiKSksdGhpcyk6dGhpc31fYmVoaW5kVGVycmFpbigpe2NvbnN0IGU9dGhpcy5fbWFwLHQ9dGhpcy5fcG9zO2lmKCFlfHwhdClyZXR1cm4gITE7Y29uc3QgaT1lLnVucHJvamVjdCh0KSxvPWUuZ2V0RnJlZUNhbWVyYU9wdGlvbnMoKTtpZighby5wb3NpdGlvbilyZXR1cm4gITE7Y29uc3Qgcj1vLnBvc2l0aW9uLnRvTG5nTGF0KCk7cmV0dXJuIHIuZGlzdGFuY2VUbyhpKTwuOSpyLmRpc3RhbmNlVG8odGhpcy5fbG5nTGF0KX1fZXZhbHVhdGVPcGFjaXR5KCl7Y29uc3QgdD10aGlzLl9tYXA7aWYoIXQpcmV0dXJuO2NvbnN0IGk9dGhpcy5fcG9zO2lmKCFpfHxpLng8MHx8aS54PnQudHJhbnNmb3JtLndpZHRofHxpLnk8MHx8aS55PnQudHJhbnNmb3JtLmhlaWdodClyZXR1cm4gdm9pZCB0aGlzLl9jbGVhckZhZGVUaW1lcigpO2NvbnN0IG89dC51bnByb2plY3QoaSk7bGV0IHI7dC5fc2hvd2luZ0dsb2JlKCkmJmUuaXNMbmdMYXRCZWhpbmRHbG9iZSh0LnRyYW5zZm9ybSx0aGlzLl9sbmdMYXQpP3I9MDoocj0xLXQuX3F1ZXJ5Rm9nT3BhY2l0eShvKSx0LnRyYW5zZm9ybS5fdGVycmFpbkVuYWJsZWQoKSYmdC5nZXRUZXJyYWluKCkmJnRoaXMuX2JlaGluZFRlcnJhaW4oKSYmKHIqPXRoaXMuX29jY2x1ZGVkT3BhY2l0eSkpLHRoaXMuX2VsZW1lbnQuc3R5bGUub3BhY2l0eT1gJHtyfWAsdGhpcy5fZWxlbWVudC5zdHlsZS5wb2ludGVyRXZlbnRzPXI+MD9cImF1dG9cIjpcIm5vbmVcIix0aGlzLl9wb3B1cCYmdGhpcy5fcG9wdXAuX3NldE9wYWNpdHkociksdGhpcy5fZmFkZVRpbWVyPW51bGw7fV9jbGVhckZhZGVUaW1lcigpe3RoaXMuX2ZhZGVUaW1lciYmKGNsZWFyVGltZW91dCh0aGlzLl9mYWRlVGltZXIpLHRoaXMuX2ZhZGVUaW1lcj1udWxsKTt9X3VwZGF0ZURPTSgpe2NvbnN0IGU9dGhpcy5fcG9zO2lmKCFlfHwhdGhpcy5fbWFwKXJldHVybjtjb25zdCB0PXRoaXMuX29mZnNldC5tdWx0KHRoaXMuX3NjYWxlKTt0aGlzLl9lbGVtZW50LnN0eWxlLnRyYW5zZm9ybT1gXFxuICAgICAgICAgICAgdHJhbnNsYXRlKCR7ZS54fXB4LCR7ZS55fXB4KVxcbiAgICAgICAgICAgICR7dG5bdGhpcy5fYW5jaG9yXX1cXG4gICAgICAgICAgICAke3RoaXMuX2NhbGN1bGF0ZVhZVHJhbnNmb3JtKCl9ICR7dGhpcy5fY2FsY3VsYXRlWlRyYW5zZm9ybSgpfVxcbiAgICAgICAgICAgIHRyYW5zbGF0ZSgke3QueH1weCwke3QueX1weClcXG4gICAgICAgIGA7fV9jYWxjdWxhdGVYWVRyYW5zZm9ybSgpe2NvbnN0IHQ9dGhpcy5fcG9zLGk9dGhpcy5fbWFwLG89dGhpcy5nZXRQaXRjaEFsaWdubWVudCgpO2lmKCFpfHwhdHx8XCJtYXBcIiE9PW8pcmV0dXJuIFwiXCI7aWYoIWkuX3Nob3dpbmdHbG9iZSgpKXtjb25zdCBlPWkuZ2V0UGl0Y2goKTtyZXR1cm4gZT9gcm90YXRlWCgke2V9ZGVnKWA6XCJcIn1jb25zdCByPWUucmFkVG9EZWcoZS5nbG9iZVRpbHRBdExuZ0xhdChpLnRyYW5zZm9ybSx0aGlzLl9sbmdMYXQpKSxuPXQuc3ViKGUuZ2xvYmVDZW50ZXJUb1NjcmVlblBvaW50KGkudHJhbnNmb3JtKSksYT1NYXRoLmFicyhuLngpK01hdGguYWJzKG4ueSk7aWYoMD09PWEpcmV0dXJuIFwiXCI7Y29uc3Qgcz1yL2E7cmV0dXJuIGByb3RhdGVYKCR7LW4ueSpzfWRlZykgcm90YXRlWSgke24ueCpzfWRlZylgfV9jYWxjdWxhdGVaVHJhbnNmb3JtKCl7Y29uc3QgdD10aGlzLl9wb3MsaT10aGlzLl9tYXA7aWYoIWl8fCF0KXJldHVybiBcIlwiO2xldCBvPTA7Y29uc3Qgcj10aGlzLmdldFJvdGF0aW9uQWxpZ25tZW50KCk7aWYoXCJtYXBcIj09PXIpaWYoaS5fc2hvd2luZ0dsb2JlKCkpe2NvbnN0IHQ9aS5wcm9qZWN0KG5ldyBlLkxuZ0xhdCh0aGlzLl9sbmdMYXQubG5nLHRoaXMuX2xuZ0xhdC5sYXQrLjAwMSkpLHI9aS5wcm9qZWN0KG5ldyBlLkxuZ0xhdCh0aGlzLl9sbmdMYXQubG5nLHRoaXMuX2xuZ0xhdC5sYXQtLjAwMSkpLnN1Yih0KTtvPWUucmFkVG9EZWcoTWF0aC5hdGFuMihyLnksci54KSktOTA7fWVsc2Ugbz0taS5nZXRCZWFyaW5nKCk7ZWxzZSBpZihcImhvcml6b25cIj09PXIpe2NvbnN0IHI9ZS5zbW9vdGhzdGVwKDQsNixpLmdldFpvb20oKSksbj1lLmdsb2JlQ2VudGVyVG9TY3JlZW5Qb2ludChpLnRyYW5zZm9ybSk7bi55Kz1yKmkudHJhbnNmb3JtLmhlaWdodDtjb25zdCBhPXQuc3ViKG4pLHM9ZS5yYWRUb0RlZyhNYXRoLmF0YW4yKGEueSxhLngpKTtvPShzPjkwP3MtMjcwOnMrOTApKigxLXIpO31yZXR1cm4gbys9dGhpcy5fcm90YXRpb24sbz9gcm90YXRlWigke299ZGVnKWA6XCJcIn1fdXBkYXRlKHQpe2Uud2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMuX3VwZGF0ZUZyYW1lSWQpO2NvbnN0IGk9dGhpcy5fbWFwO2kmJihpLnRyYW5zZm9ybS5yZW5kZXJXb3JsZENvcGllcyYmKHRoaXMuX2xuZ0xhdD1lbih0aGlzLl9sbmdMYXQsdGhpcy5fcG9zLGkudHJhbnNmb3JtKSksdGhpcy5fcG9zPWkucHJvamVjdCh0aGlzLl9sbmdMYXQpLCEwPT09dD90aGlzLl91cGRhdGVGcmFtZUlkPWUud2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKCk9Pnt0aGlzLl9lbGVtZW50JiZ0aGlzLl9wb3MmJnRoaXMuX2FuY2hvciYmKHRoaXMuX3Bvcz10aGlzLl9wb3Mucm91bmQoKSx0aGlzLl91cGRhdGVET00oKSk7fSkpOnRoaXMuX3Bvcz10aGlzLl9wb3Mucm91bmQoKSxpLl9yZXF1ZXN0RG9tVGFzaygoKCk9Pnt0aGlzLl9tYXAmJih0aGlzLl9lbGVtZW50JiZ0aGlzLl9wb3MmJnRoaXMuX2FuY2hvciYmdGhpcy5fdXBkYXRlRE9NKCksKGkuX3Nob3dpbmdHbG9iZSgpfHxpLmdldFRlcnJhaW4oKXx8aS5nZXRGb2coKSkmJiF0aGlzLl9mYWRlVGltZXImJih0aGlzLl9mYWRlVGltZXI9c2V0VGltZW91dCh0aGlzLl9ldmFsdWF0ZU9wYWNpdHkuYmluZCh0aGlzKSw2MCkpKTt9KSkpO31nZXRPZmZzZXQoKXtyZXR1cm4gdGhpcy5fb2Zmc2V0fXNldE9mZnNldCh0KXtyZXR1cm4gdGhpcy5fb2Zmc2V0PWUucG9pbnRHZW9tZXRyeS5jb252ZXJ0KHQpLHRoaXMuX3VwZGF0ZSgpLHRoaXN9X29uTW92ZSh0KXtjb25zdCBpPXRoaXMuX21hcDtpZighaSlyZXR1cm47Y29uc3Qgbz10aGlzLl9wb2ludGVyZG93blBvcyxyPXRoaXMuX3Bvc2l0aW9uRGVsdGE7aWYobyYmcil7aWYoIXRoaXMuX2lzRHJhZ2dpbmcpe2NvbnN0IGU9dGhpcy5fY2xpY2tUb2xlcmFuY2V8fGkuX2NsaWNrVG9sZXJhbmNlO2lmKHQucG9pbnQuZGlzdChvKTxlKXJldHVybjt0aGlzLl9pc0RyYWdnaW5nPSEwO310aGlzLl9wb3M9dC5wb2ludC5zdWIociksdGhpcy5fbG5nTGF0PWkudW5wcm9qZWN0KHRoaXMuX3BvcyksdGhpcy5zZXRMbmdMYXQodGhpcy5fbG5nTGF0KSx0aGlzLl9lbGVtZW50LnN0eWxlLnBvaW50ZXJFdmVudHM9XCJub25lXCIsXCJwZW5kaW5nXCI9PT10aGlzLl9zdGF0ZSYmKHRoaXMuX3N0YXRlPVwiYWN0aXZlXCIsdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwiZHJhZ3N0YXJ0XCIpKSksdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwiZHJhZ1wiKSk7fX1fb25VcCgpe3RoaXMuX2VsZW1lbnQuc3R5bGUucG9pbnRlckV2ZW50cz1cImF1dG9cIix0aGlzLl9wb3NpdGlvbkRlbHRhPW51bGwsdGhpcy5fcG9pbnRlcmRvd25Qb3M9bnVsbCx0aGlzLl9pc0RyYWdnaW5nPSExO2NvbnN0IHQ9dGhpcy5fbWFwO3QmJih0Lm9mZihcIm1vdXNlbW92ZVwiLHRoaXMuX29uTW92ZSksdC5vZmYoXCJ0b3VjaG1vdmVcIix0aGlzLl9vbk1vdmUpKSxcImFjdGl2ZVwiPT09dGhpcy5fc3RhdGUmJnRoaXMuZmlyZShuZXcgZS5FdmVudChcImRyYWdlbmRcIikpLHRoaXMuX3N0YXRlPVwiaW5hY3RpdmVcIjt9X2FkZERyYWdIYW5kbGVyKGUpe2NvbnN0IHQ9dGhpcy5fbWFwLGk9dGhpcy5fcG9zO3QmJmkmJnRoaXMuX2VsZW1lbnQuY29udGFpbnMoZS5vcmlnaW5hbEV2ZW50LnRhcmdldCkmJihlLnByZXZlbnREZWZhdWx0KCksdGhpcy5fcG9zaXRpb25EZWx0YT1lLnBvaW50LnN1YihpKSx0aGlzLl9wb2ludGVyZG93blBvcz1lLnBvaW50LHRoaXMuX3N0YXRlPVwicGVuZGluZ1wiLHQub24oXCJtb3VzZW1vdmVcIix0aGlzLl9vbk1vdmUpLHQub24oXCJ0b3VjaG1vdmVcIix0aGlzLl9vbk1vdmUpLHQub25jZShcIm1vdXNldXBcIix0aGlzLl9vblVwKSx0Lm9uY2UoXCJ0b3VjaGVuZFwiLHRoaXMuX29uVXApKTt9c2V0RHJhZ2dhYmxlKGUpe3RoaXMuX2RyYWdnYWJsZT0hIWU7Y29uc3QgdD10aGlzLl9tYXA7cmV0dXJuIHQmJihlPyh0Lm9uKFwibW91c2Vkb3duXCIsdGhpcy5fYWRkRHJhZ0hhbmRsZXIpLHQub24oXCJ0b3VjaHN0YXJ0XCIsdGhpcy5fYWRkRHJhZ0hhbmRsZXIpKToodC5vZmYoXCJtb3VzZWRvd25cIix0aGlzLl9hZGREcmFnSGFuZGxlciksdC5vZmYoXCJ0b3VjaHN0YXJ0XCIsdGhpcy5fYWRkRHJhZ0hhbmRsZXIpKSksdGhpc31pc0RyYWdnYWJsZSgpe3JldHVybiB0aGlzLl9kcmFnZ2FibGV9c2V0Um90YXRpb24oZSl7cmV0dXJuIHRoaXMuX3JvdGF0aW9uPWV8fDAsdGhpcy5fdXBkYXRlKCksdGhpc31nZXRSb3RhdGlvbigpe3JldHVybiB0aGlzLl9yb3RhdGlvbn1zZXRSb3RhdGlvbkFsaWdubWVudChlKXtyZXR1cm4gdGhpcy5fcm90YXRpb25BbGlnbm1lbnQ9ZXx8XCJhdXRvXCIsdGhpcy5fdXBkYXRlKCksdGhpc31nZXRSb3RhdGlvbkFsaWdubWVudCgpe3JldHVybiBcImF1dG9cIj09PXRoaXMuX3JvdGF0aW9uQWxpZ25tZW50fHxcImhvcml6b25cIj09PXRoaXMuX3JvdGF0aW9uQWxpZ25tZW50JiZ0aGlzLl9tYXAmJiF0aGlzLl9tYXAuX3Nob3dpbmdHbG9iZSgpP1widmlld3BvcnRcIjp0aGlzLl9yb3RhdGlvbkFsaWdubWVudH1zZXRQaXRjaEFsaWdubWVudChlKXtyZXR1cm4gdGhpcy5fcGl0Y2hBbGlnbm1lbnQ9ZXx8XCJhdXRvXCIsdGhpcy5fdXBkYXRlKCksdGhpc31nZXRQaXRjaEFsaWdubWVudCgpe3JldHVybiBcImF1dG9cIj09PXRoaXMuX3BpdGNoQWxpZ25tZW50P3RoaXMuZ2V0Um90YXRpb25BbGlnbm1lbnQoKTp0aGlzLl9waXRjaEFsaWdubWVudH1zZXRPY2NsdWRlZE9wYWNpdHkoZSl7cmV0dXJuIHRoaXMuX29jY2x1ZGVkT3BhY2l0eT1lfHwuMix0aGlzLl91cGRhdGUoKSx0aGlzfWdldE9jY2x1ZGVkT3BhY2l0eSgpe3JldHVybiB0aGlzLl9vY2NsdWRlZE9wYWNpdHl9fWNvbnN0IHJuPXtjbG9zZUJ1dHRvbjohMCxjbG9zZU9uQ2xpY2s6ITAsZm9jdXNBZnRlck9wZW46ITAsY2xhc3NOYW1lOlwiXCIsbWF4V2lkdGg6XCIyNDBweFwifSxubj1bXCJhW2hyZWZdXCIsXCJbdGFiaW5kZXhdOm5vdChbdGFiaW5kZXg9Jy0xJ10pXCIsXCJbY29udGVudGVkaXRhYmxlXTpub3QoW2NvbnRlbnRlZGl0YWJsZT0nZmFsc2UnXSlcIixcImJ1dHRvbjpub3QoW2Rpc2FibGVkXSlcIixcImlucHV0Om5vdChbZGlzYWJsZWRdKVwiLFwic2VsZWN0Om5vdChbZGlzYWJsZWRdKVwiLFwidGV4dGFyZWE6bm90KFtkaXNhYmxlZF0pXCJdLmpvaW4oXCIsIFwiKTtmdW5jdGlvbiBhbih0PW5ldyBlLnBvaW50R2VvbWV0cnkoMCwwKSxpPVwiYm90dG9tXCIpe2lmKFwibnVtYmVyXCI9PXR5cGVvZiB0KXtjb25zdCBvPU1hdGgucm91bmQoTWF0aC5zcXJ0KC41Kk1hdGgucG93KHQsMikpKTtzd2l0Y2goaSl7Y2FzZVwidG9wXCI6cmV0dXJuIG5ldyBlLnBvaW50R2VvbWV0cnkoMCx0KTtjYXNlXCJ0b3AtbGVmdFwiOnJldHVybiBuZXcgZS5wb2ludEdlb21ldHJ5KG8sbyk7Y2FzZVwidG9wLXJpZ2h0XCI6cmV0dXJuIG5ldyBlLnBvaW50R2VvbWV0cnkoLW8sbyk7Y2FzZVwiYm90dG9tXCI6cmV0dXJuIG5ldyBlLnBvaW50R2VvbWV0cnkoMCwtdCk7Y2FzZVwiYm90dG9tLWxlZnRcIjpyZXR1cm4gbmV3IGUucG9pbnRHZW9tZXRyeShvLC1vKTtjYXNlXCJib3R0b20tcmlnaHRcIjpyZXR1cm4gbmV3IGUucG9pbnRHZW9tZXRyeSgtbywtbyk7Y2FzZVwibGVmdFwiOnJldHVybiBuZXcgZS5wb2ludEdlb21ldHJ5KHQsMCk7Y2FzZVwicmlnaHRcIjpyZXR1cm4gbmV3IGUucG9pbnRHZW9tZXRyeSgtdCwwKX1yZXR1cm4gbmV3IGUucG9pbnRHZW9tZXRyeSgwLDApfXJldHVybiB0IGluc3RhbmNlb2YgZS5wb2ludEdlb21ldHJ5fHxBcnJheS5pc0FycmF5KHQpP2UucG9pbnRHZW9tZXRyeS5jb252ZXJ0KHQpOmUucG9pbnRHZW9tZXRyeS5jb252ZXJ0KHRbaV18fFswLDBdKX1jbGFzcyBzbntjb25zdHJ1Y3RvcihlKXt0aGlzLmp1bXBUbyhlKTt9Z2V0VmFsdWUodCl7aWYodDw9dGhpcy5fc3RhcnRUaW1lKXJldHVybiB0aGlzLl9zdGFydDtpZih0Pj10aGlzLl9lbmRUaW1lKXJldHVybiB0aGlzLl9lbmQ7Y29uc3QgaT1lLmVhc2VDdWJpY0luT3V0KCh0LXRoaXMuX3N0YXJ0VGltZSkvKHRoaXMuX2VuZFRpbWUtdGhpcy5fc3RhcnRUaW1lKSk7cmV0dXJuIHRoaXMuX3N0YXJ0KigxLWkpK3RoaXMuX2VuZCppfWlzRWFzaW5nKGUpe3JldHVybiBlPj10aGlzLl9zdGFydFRpbWUmJmU8PXRoaXMuX2VuZFRpbWV9anVtcFRvKGUpe3RoaXMuX3N0YXJ0VGltZT0tMS8wLHRoaXMuX2VuZFRpbWU9LTEvMCx0aGlzLl9zdGFydD1lLHRoaXMuX2VuZD1lO31lYXNlVG8oZSx0LGkpe3RoaXMuX3N0YXJ0PXRoaXMuZ2V0VmFsdWUodCksdGhpcy5fZW5kPWUsdGhpcy5fc3RhcnRUaW1lPXQsdGhpcy5fZW5kVGltZT10K2k7fX1jb25zdCBsbj17XCJBdHRyaWJ1dGlvbkNvbnRyb2wuVG9nZ2xlQXR0cmlidXRpb25cIjpcIlRvZ2dsZSBhdHRyaWJ1dGlvblwiLFwiQXR0cmlidXRpb25Db250cm9sLk1hcEZlZWRiYWNrXCI6XCJNYXAgZmVlZGJhY2tcIixcIkZ1bGxzY3JlZW5Db250cm9sLkVudGVyXCI6XCJFbnRlciBmdWxsc2NyZWVuXCIsXCJGdWxsc2NyZWVuQ29udHJvbC5FeGl0XCI6XCJFeGl0IGZ1bGxzY3JlZW5cIixcIkdlb2xvY2F0ZUNvbnRyb2wuRmluZE15TG9jYXRpb25cIjpcIkZpbmQgbXkgbG9jYXRpb25cIixcIkdlb2xvY2F0ZUNvbnRyb2wuTG9jYXRpb25Ob3RBdmFpbGFibGVcIjpcIkxvY2F0aW9uIG5vdCBhdmFpbGFibGVcIixcIkxvZ29Db250cm9sLlRpdGxlXCI6XCJNYXBib3ggbG9nb1wiLFwiTWFwLlRpdGxlXCI6XCJNYXBcIixcIk5hdmlnYXRpb25Db250cm9sLlJlc2V0QmVhcmluZ1wiOlwiUmVzZXQgYmVhcmluZyB0byBub3J0aFwiLFwiTmF2aWdhdGlvbkNvbnRyb2wuWm9vbUluXCI6XCJab29tIGluXCIsXCJOYXZpZ2F0aW9uQ29udHJvbC5ab29tT3V0XCI6XCJab29tIG91dFwiLFwiU2Nyb2xsWm9vbUJsb2NrZXIuQ3RybE1lc3NhZ2VcIjpcIlVzZSBjdHJsICsgc2Nyb2xsIHRvIHpvb20gdGhlIG1hcFwiLFwiU2Nyb2xsWm9vbUJsb2NrZXIuQ21kTWVzc2FnZVwiOlwiVXNlIOKMmCArIHNjcm9sbCB0byB6b29tIHRoZSBtYXBcIixcIlRvdWNoUGFuQmxvY2tlci5NZXNzYWdlXCI6XCJVc2UgdHdvIGZpbmdlcnMgdG8gbW92ZSB0aGUgbWFwXCJ9LGNuPXtjZW50ZXI6WzAsMF0sem9vbTowLGJlYXJpbmc6MCxwaXRjaDowLG1pblpvb206LTIsbWF4Wm9vbToyMixtaW5QaXRjaDowLG1heFBpdGNoOjg1LGludGVyYWN0aXZlOiEwLHNjcm9sbFpvb206ITAsYm94Wm9vbTohMCxkcmFnUm90YXRlOiEwLGRyYWdQYW46ITAsa2V5Ym9hcmQ6ITAsZG91YmxlQ2xpY2tab29tOiEwLHRvdWNoWm9vbVJvdGF0ZTohMCx0b3VjaFBpdGNoOiEwLGNvb3BlcmF0aXZlR2VzdHVyZXM6ITEscGVyZm9ybWFuY2VNZXRyaWNzQ29sbGVjdGlvbjohMCxiZWFyaW5nU25hcDo3LGNsaWNrVG9sZXJhbmNlOjMscGl0Y2hXaXRoUm90YXRlOiEwLGhhc2g6ITEsYXR0cmlidXRpb25Db250cm9sOiEwLGZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQ6ITEscHJlc2VydmVEcmF3aW5nQnVmZmVyOiExLHRyYWNrUmVzaXplOiEwLG9wdGltaXplRm9yVGVycmFpbjohMCxyZW5kZXJXb3JsZENvcGllczohMCxyZWZyZXNoRXhwaXJlZFRpbGVzOiEwLG1pblRpbGVDYWNoZVNpemU6bnVsbCxtYXhUaWxlQ2FjaGVTaXplOm51bGwsbG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5Olwic2Fucy1zZXJpZlwiLGxvY2FsRm9udEZhbWlseTpudWxsLHRyYW5zZm9ybVJlcXVlc3Q6bnVsbCxhY2Nlc3NUb2tlbjpudWxsLGZhZGVEdXJhdGlvbjozMDAsY3Jvc3NTb3VyY2VDb2xsaXNpb25zOiEwfTtmdW5jdGlvbiBobihlKXtlLnBhcmVudE5vZGUmJmUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlKTt9Y29uc3QgX249e3Nob3dDb21wYXNzOiEwLHNob3dab29tOiEwLHZpc3VhbGl6ZVBpdGNoOiExfTtjbGFzcyB1bntjb25zdHJ1Y3Rvcih0LGksbz0hMSl7dGhpcy5fY2xpY2tUb2xlcmFuY2U9MTAsdGhpcy5lbGVtZW50PWksdGhpcy5tb3VzZVJvdGF0ZT1uZXcgd3Ioe2NsaWNrVG9sZXJhbmNlOnQuZHJhZ1JvdGF0ZS5fbW91c2VSb3RhdGUuX2NsaWNrVG9sZXJhbmNlfSksdGhpcy5tYXA9dCxvJiYodGhpcy5tb3VzZVBpdGNoPW5ldyBUcih7Y2xpY2tUb2xlcmFuY2U6dC5kcmFnUm90YXRlLl9tb3VzZVBpdGNoLl9jbGlja1RvbGVyYW5jZX0pKSxlLmJpbmRBbGwoW1wibW91c2Vkb3duXCIsXCJtb3VzZW1vdmVcIixcIm1vdXNldXBcIixcInRvdWNoc3RhcnRcIixcInRvdWNobW92ZVwiLFwidG91Y2hlbmRcIixcInJlc2V0XCJdLHRoaXMpLGkuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLHRoaXMubW91c2Vkb3duKSxpLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsdGhpcy50b3VjaHN0YXJ0LHtwYXNzaXZlOiExfSksaS5hZGRFdmVudExpc3RlbmVyKFwidG91Y2htb3ZlXCIsdGhpcy50b3VjaG1vdmUpLGkuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsdGhpcy50b3VjaGVuZCksaS5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hjYW5jZWxcIix0aGlzLnJlc2V0KTt9ZG93bihlLHQpe3RoaXMubW91c2VSb3RhdGUubW91c2Vkb3duKGUsdCksdGhpcy5tb3VzZVBpdGNoJiZ0aGlzLm1vdXNlUGl0Y2gubW91c2Vkb3duKGUsdCksaCgpO31tb3ZlKGUsdCl7Y29uc3QgaT10aGlzLm1hcCxvPXRoaXMubW91c2VSb3RhdGUubW91c2Vtb3ZlV2luZG93KGUsdCkscj1vJiZvLmJlYXJpbmdEZWx0YTtpZihyJiZpLnNldEJlYXJpbmcoaS5nZXRCZWFyaW5nKCkrciksdGhpcy5tb3VzZVBpdGNoKXtjb25zdCBvPXRoaXMubW91c2VQaXRjaC5tb3VzZW1vdmVXaW5kb3coZSx0KSxyPW8mJm8ucGl0Y2hEZWx0YTtyJiZpLnNldFBpdGNoKGkuZ2V0UGl0Y2goKStyKTt9fW9mZigpe2NvbnN0IGU9dGhpcy5lbGVtZW50O2UucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLHRoaXMubW91c2Vkb3duKSxlLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsdGhpcy50b3VjaHN0YXJ0LHtwYXNzaXZlOiExfSksZS5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2htb3ZlXCIsdGhpcy50b3VjaG1vdmUpLGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsdGhpcy50b3VjaGVuZCksZS5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2hjYW5jZWxcIix0aGlzLnJlc2V0KSx0aGlzLm9mZlRlbXAoKTt9b2ZmVGVtcCgpe18oKSxlLndpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsdGhpcy5tb3VzZW1vdmUpLGUud2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsdGhpcy5tb3VzZXVwKTt9bW91c2Vkb3duKHQpe3RoaXMuZG93bihlLmV4dGVuZCh7fSx0LHtjdHJsS2V5OiEwLHByZXZlbnREZWZhdWx0OigpPT50LnByZXZlbnREZWZhdWx0KCl9KSxwKHRoaXMuZWxlbWVudCx0KSksZS53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLHRoaXMubW91c2Vtb3ZlKSxlLndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLHRoaXMubW91c2V1cCk7fW1vdXNlbW92ZShlKXt0aGlzLm1vdmUoZSxwKHRoaXMuZWxlbWVudCxlKSk7fW1vdXNldXAoZSl7dGhpcy5tb3VzZVJvdGF0ZS5tb3VzZXVwV2luZG93KGUpLHRoaXMubW91c2VQaXRjaCYmdGhpcy5tb3VzZVBpdGNoLm1vdXNldXBXaW5kb3coZSksdGhpcy5vZmZUZW1wKCk7fXRvdWNoc3RhcnQoZSl7MSE9PWUudGFyZ2V0VG91Y2hlcy5sZW5ndGg/dGhpcy5yZXNldCgpOih0aGlzLl9zdGFydFBvcz10aGlzLl9sYXN0UG9zPW0odGhpcy5lbGVtZW50LGUudGFyZ2V0VG91Y2hlcylbMF0sdGhpcy5kb3duKHt0eXBlOlwibW91c2Vkb3duXCIsYnV0dG9uOjAsY3RybEtleTohMCxwcmV2ZW50RGVmYXVsdDooKT0+ZS5wcmV2ZW50RGVmYXVsdCgpfSx0aGlzLl9zdGFydFBvcykpO310b3VjaG1vdmUoZSl7MSE9PWUudGFyZ2V0VG91Y2hlcy5sZW5ndGg/dGhpcy5yZXNldCgpOih0aGlzLl9sYXN0UG9zPW0odGhpcy5lbGVtZW50LGUudGFyZ2V0VG91Y2hlcylbMF0sdGhpcy5tb3ZlKHtwcmV2ZW50RGVmYXVsdDooKT0+ZS5wcmV2ZW50RGVmYXVsdCgpfSx0aGlzLl9sYXN0UG9zKSk7fXRvdWNoZW5kKGUpezA9PT1lLnRhcmdldFRvdWNoZXMubGVuZ3RoJiZ0aGlzLl9zdGFydFBvcyYmdGhpcy5fbGFzdFBvcyYmdGhpcy5fc3RhcnRQb3MuZGlzdCh0aGlzLl9sYXN0UG9zKTx0aGlzLl9jbGlja1RvbGVyYW5jZSYmdGhpcy5lbGVtZW50LmNsaWNrKCksdGhpcy5yZXNldCgpO31yZXNldCgpe3RoaXMubW91c2VSb3RhdGUucmVzZXQoKSx0aGlzLm1vdXNlUGl0Y2gmJnRoaXMubW91c2VQaXRjaC5yZXNldCgpLGRlbGV0ZSB0aGlzLl9zdGFydFBvcyxkZWxldGUgdGhpcy5fbGFzdFBvcyx0aGlzLm9mZlRlbXAoKTt9fWNvbnN0IGRuPXtwb3NpdGlvbk9wdGlvbnM6e2VuYWJsZUhpZ2hBY2N1cmFjeTohMSxtYXhpbXVtQWdlOjAsdGltZW91dDo2ZTN9LGZpdEJvdW5kc09wdGlvbnM6e21heFpvb206MTV9LHRyYWNrVXNlckxvY2F0aW9uOiExLHNob3dBY2N1cmFjeUNpcmNsZTohMCxzaG93VXNlckxvY2F0aW9uOiEwLHNob3dVc2VySGVhZGluZzohMX0scG49e21heFdpZHRoOjEwMCx1bml0OlwibWV0cmljXCJ9O2Z1bmN0aW9uIG1uKGUsdCxpKXtjb25zdCBvPWZuKHQpLHI9by90LG49e2tpbG9tZXRlcjpcImttXCIsbWV0ZXI6XCJtXCIsbWlsZTpcIm1pXCIsZm9vdDpcImZ0XCIsXCJuYXV0aWNhbC1taWxlXCI6XCJubVwifVtpXTt0aGlzLl9tYXAuX3JlcXVlc3REb21UYXNrKCgoKT0+e3RoaXMuX2NvbnRhaW5lci5zdHlsZS53aWR0aD1lKnIrXCJweFwiLHRoaXMuX2NvbnRhaW5lci5pbm5lckhUTUw9YCR7b30mbmJzcDske259YDt9KSk7fWZ1bmN0aW9uIGZuKGUpe2NvbnN0IHQ9TWF0aC5wb3coMTAsYCR7TWF0aC5mbG9vcihlKX1gLmxlbmd0aC0xKTtsZXQgaT1lL3Q7cmV0dXJuIGk9aT49MTA/MTA6aT49NT81Omk+PTM/MzppPj0yPzI6aT49MT8xOmZ1bmN0aW9uKGUpe2NvbnN0IHQ9TWF0aC5wb3coMTAsTWF0aC5jZWlsKC1NYXRoLmxvZyhlKS9NYXRoLkxOMTApKTtyZXR1cm4gTWF0aC5yb3VuZChlKnQpL3R9KGkpLHQqaX1jb25zdCBnbj17dmVyc2lvbjplLnZlcnNpb24sc3VwcG9ydGVkOmksc2V0UlRMVGV4dFBsdWdpbjplLnNldFJUTFRleHRQbHVnaW4sZ2V0UlRMVGV4dFBsdWdpblN0YXR1czplLmdldFJUTFRleHRQbHVnaW5TdGF0dXMsTWFwOmNsYXNzIGV4dGVuZHMgWXJ7Y29uc3RydWN0b3IodCl7aWYoZS5MaXZlUGVyZm9ybWFuY2VVdGlscy5tYXJrKGUuUGVyZm9ybWFuY2VNYXJrZXJzLmNyZWF0ZSksbnVsbCE9KHQ9ZS5leHRlbmQoe30sY24sdCkpLm1pblpvb20mJm51bGwhPXQubWF4Wm9vbSYmdC5taW5ab29tPnQubWF4Wm9vbSl0aHJvdyBuZXcgRXJyb3IoXCJtYXhab29tIG11c3QgYmUgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIG1pblpvb21cIik7aWYobnVsbCE9dC5taW5QaXRjaCYmbnVsbCE9dC5tYXhQaXRjaCYmdC5taW5QaXRjaD50Lm1heFBpdGNoKXRocm93IG5ldyBFcnJvcihcIm1heFBpdGNoIG11c3QgYmUgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIG1pblBpdGNoXCIpO2lmKG51bGwhPXQubWluUGl0Y2gmJnQubWluUGl0Y2g8MCl0aHJvdyBuZXcgRXJyb3IoXCJtaW5QaXRjaCBtdXN0IGJlIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byAwXCIpO2lmKG51bGwhPXQubWF4UGl0Y2gmJnQubWF4UGl0Y2g+ODUpdGhyb3cgbmV3IEVycm9yKFwibWF4UGl0Y2ggbXVzdCBiZSBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gODVcIik7aWYodC5hbnRpYWxpYXMmJmUuaXNTYWZhcmlXaXRoQW50aWFsaWFzaW5nQnVnKGUud2luZG93KSYmKHQuYW50aWFsaWFzPSExLGUud2Fybk9uY2UoXCJBbnRpYWxpYXNpbmcgaXMgZGlzYWJsZWQgZm9yIHRoaXMgV2ViR0wgY29udGV4dCB0byBhdm9pZCBicm93c2VyIGJ1ZzogaHR0cHM6Ly9naXRodWIuY29tL21hcGJveC9tYXBib3gtZ2wtanMvaXNzdWVzLzExNjA5XCIpKSxzdXBlcihuZXcgS28odC5taW5ab29tLHQubWF4Wm9vbSx0Lm1pblBpdGNoLHQubWF4UGl0Y2gsdC5yZW5kZXJXb3JsZENvcGllcyksdCksdGhpcy5faW50ZXJhY3RpdmU9dC5pbnRlcmFjdGl2ZSx0aGlzLl9taW5UaWxlQ2FjaGVTaXplPXQubWluVGlsZUNhY2hlU2l6ZSx0aGlzLl9tYXhUaWxlQ2FjaGVTaXplPXQubWF4VGlsZUNhY2hlU2l6ZSx0aGlzLl9mYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0PXQuZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdCx0aGlzLl9wcmVzZXJ2ZURyYXdpbmdCdWZmZXI9dC5wcmVzZXJ2ZURyYXdpbmdCdWZmZXIsdGhpcy5fYW50aWFsaWFzPXQuYW50aWFsaWFzLHRoaXMuX3RyYWNrUmVzaXplPXQudHJhY2tSZXNpemUsdGhpcy5fYmVhcmluZ1NuYXA9dC5iZWFyaW5nU25hcCx0aGlzLl9yZWZyZXNoRXhwaXJlZFRpbGVzPXQucmVmcmVzaEV4cGlyZWRUaWxlcyx0aGlzLl9mYWRlRHVyYXRpb249dC5mYWRlRHVyYXRpb24sdGhpcy5faXNJbml0aWFsTG9hZD0hMCx0aGlzLl9jcm9zc1NvdXJjZUNvbGxpc2lvbnM9dC5jcm9zc1NvdXJjZUNvbGxpc2lvbnMsdGhpcy5fY3Jvc3NGYWRpbmdGYWN0b3I9MSx0aGlzLl9jb2xsZWN0UmVzb3VyY2VUaW1pbmc9dC5jb2xsZWN0UmVzb3VyY2VUaW1pbmcsdGhpcy5fb3B0aW1pemVGb3JUZXJyYWluPXQub3B0aW1pemVGb3JUZXJyYWluLHRoaXMuX2xhbmd1YWdlPXRoaXMuX3BhcnNlTGFuZ3VhZ2UodC5sYW5ndWFnZSksdGhpcy5fd29ybGR2aWV3PXQud29ybGR2aWV3LHRoaXMuX3JlbmRlclRhc2tRdWV1ZT1uZXcgUXIsdGhpcy5fZG9tUmVuZGVyVGFza1F1ZXVlPW5ldyBRcix0aGlzLl9jb250cm9scz1bXSx0aGlzLl9tYXJrZXJzPVtdLHRoaXMuX3BvcHVwcz1bXSx0aGlzLl9tYXBJZD1lLnVuaXF1ZUlkKCksdGhpcy5fbG9jYWxlPWUuZXh0ZW5kKHt9LGxuLHQubG9jYWxlKSx0aGlzLl9jbGlja1RvbGVyYW5jZT10LmNsaWNrVG9sZXJhbmNlLHRoaXMuX2Nvb3BlcmF0aXZlR2VzdHVyZXM9dC5jb29wZXJhdGl2ZUdlc3R1cmVzLHRoaXMuX3BlcmZvcm1hbmNlTWV0cmljc0NvbGxlY3Rpb249dC5wZXJmb3JtYW5jZU1ldHJpY3NDb2xsZWN0aW9uLHRoaXMuX2NvbnRhaW5lcldpZHRoPTAsdGhpcy5fY29udGFpbmVySGVpZ2h0PTAsdGhpcy5fYXZlcmFnZUVsZXZhdGlvbkxhc3RTYW1wbGVkQXQ9LTEvMCx0aGlzLl9hdmVyYWdlRWxldmF0aW9uRXhhZ2dlcmF0aW9uPTAsdGhpcy5fYXZlcmFnZUVsZXZhdGlvbj1uZXcgc24oMCksdGhpcy5faW50ZXJhY3Rpb25SYW5nZT1bMS8wLC0xLzBdLHRoaXMuX3VzZUV4cGxpY2l0UHJvamVjdGlvbj0hMSx0aGlzLl9yZXF1ZXN0TWFuYWdlcj1uZXcgZS5SZXF1ZXN0TWFuYWdlcih0LnRyYW5zZm9ybVJlcXVlc3QsdC5hY2Nlc3NUb2tlbix0LnRlc3RNb2RlKSx0aGlzLl9zaWxlbmNlQXV0aEVycm9ycz0hIXQudGVzdE1vZGUsXCJzdHJpbmdcIj09dHlwZW9mIHQuY29udGFpbmVyKXtpZih0aGlzLl9jb250YWluZXI9ZS53aW5kb3cuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodC5jb250YWluZXIpLCF0aGlzLl9jb250YWluZXIpdGhyb3cgbmV3IEVycm9yKGBDb250YWluZXIgJyR7dC5jb250YWluZXJ9JyBub3QgZm91bmQuYCl9ZWxzZSB7aWYoISh0LmNvbnRhaW5lciBpbnN0YW5jZW9mIGUud2luZG93LkhUTUxFbGVtZW50KSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHR5cGU6ICdjb250YWluZXInIG11c3QgYmUgYSBTdHJpbmcgb3IgSFRNTEVsZW1lbnQuXCIpO3RoaXMuX2NvbnRhaW5lcj10LmNvbnRhaW5lcjt9aWYodGhpcy5fY29udGFpbmVyLmNoaWxkTm9kZXMubGVuZ3RoPjAmJmUud2Fybk9uY2UoXCJUaGUgbWFwIGNvbnRhaW5lciBlbGVtZW50IHNob3VsZCBiZSBlbXB0eSwgb3RoZXJ3aXNlIHRoZSBtYXAncyBpbnRlcmFjdGl2aXR5IHdpbGwgYmUgbmVnYXRpdmVseSBpbXBhY3RlZC4gSWYgeW91IHdhbnQgdG8gZGlzcGxheSBhIG1lc3NhZ2Ugd2hlbiBXZWJHTCBpcyBub3Qgc3VwcG9ydGVkLCB1c2UgdGhlIE1hcGJveCBHTCBTdXBwb3J0ZWQgcGx1Z2luIGluc3RlYWQuXCIpLHQubWF4Qm91bmRzJiZ0aGlzLnNldE1heEJvdW5kcyh0Lm1heEJvdW5kcyksZS5iaW5kQWxsKFtcIl9vbldpbmRvd09ubGluZVwiLFwiX29uV2luZG93UmVzaXplXCIsXCJfb25NYXBTY3JvbGxcIixcIl9jb250ZXh0TG9zdFwiLFwiX2NvbnRleHRSZXN0b3JlZFwiXSx0aGlzKSx0aGlzLl9zZXR1cENvbnRhaW5lcigpLHRoaXMuX3NldHVwUGFpbnRlcigpLHZvaWQgMD09PXRoaXMucGFpbnRlcil0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gaW5pdGlhbGl6ZSBXZWJHTC5cIik7dGhpcy5vbihcIm1vdmVcIiwoKCk9PnRoaXMuX3VwZGF0ZSghMSkpKSx0aGlzLm9uKFwibW92ZWVuZFwiLCgoKT0+dGhpcy5fdXBkYXRlKCExKSkpLHRoaXMub24oXCJ6b29tXCIsKCgpPT50aGlzLl91cGRhdGUoITApKSksdm9pZCAwIT09ZS53aW5kb3cmJihlLndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwib25saW5lXCIsdGhpcy5fb25XaW5kb3dPbmxpbmUsITEpLGUud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIix0aGlzLl9vbldpbmRvd1Jlc2l6ZSwhMSksZS53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm9yaWVudGF0aW9uY2hhbmdlXCIsdGhpcy5fb25XaW5kb3dSZXNpemUsITEpLGUud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJ3ZWJraXRmdWxsc2NyZWVuY2hhbmdlXCIsdGhpcy5fb25XaW5kb3dSZXNpemUsITEpKSx0aGlzLmhhbmRsZXJzPW5ldyAkcih0aGlzLHQpLHRoaXMuX2xvY2FsRm9udEZhbWlseT10LmxvY2FsRm9udEZhbWlseSx0aGlzLl9sb2NhbElkZW9ncmFwaEZvbnRGYW1pbHk9dC5sb2NhbElkZW9ncmFwaEZvbnRGYW1pbHksdC5zdHlsZSYmdGhpcy5zZXRTdHlsZSh0LnN0eWxlLHtsb2NhbEZvbnRGYW1pbHk6dGhpcy5fbG9jYWxGb250RmFtaWx5LGxvY2FsSWRlb2dyYXBoRm9udEZhbWlseTp0aGlzLl9sb2NhbElkZW9ncmFwaEZvbnRGYW1pbHl9KSx0LnByb2plY3Rpb24mJnRoaXMuc2V0UHJvamVjdGlvbih0LnByb2plY3Rpb24pLHRoaXMuX2hhc2g9dC5oYXNoJiZuZXcgUW8oXCJzdHJpbmdcIj09dHlwZW9mIHQuaGFzaCYmdC5oYXNofHx2b2lkIDApLmFkZFRvKHRoaXMpLHRoaXMuX2hhc2gmJnRoaXMuX2hhc2guX29uSGFzaENoYW5nZSgpfHwodGhpcy5qdW1wVG8oe2NlbnRlcjp0LmNlbnRlcix6b29tOnQuem9vbSxiZWFyaW5nOnQuYmVhcmluZyxwaXRjaDp0LnBpdGNofSksdC5ib3VuZHMmJih0aGlzLnJlc2l6ZSgpLHRoaXMuZml0Qm91bmRzKHQuYm91bmRzLGUuZXh0ZW5kKHt9LHQuZml0Qm91bmRzT3B0aW9ucyx7ZHVyYXRpb246MH0pKSkpLHRoaXMucmVzaXplKCksdC5hdHRyaWJ1dGlvbkNvbnRyb2wmJnRoaXMuYWRkQ29udHJvbChuZXcgS3Ioe2N1c3RvbUF0dHJpYnV0aW9uOnQuY3VzdG9tQXR0cmlidXRpb259KSksdGhpcy5fbG9nb0NvbnRyb2w9bmV3IEpyLHRoaXMuYWRkQ29udHJvbCh0aGlzLl9sb2dvQ29udHJvbCx0LmxvZ29Qb3NpdGlvbiksdGhpcy5vbihcInN0eWxlLmxvYWRcIiwoKCk9Pnt0aGlzLnRyYW5zZm9ybS51bm1vZGlmaWVkJiZ0aGlzLmp1bXBUbyh0aGlzLnN0eWxlLnN0eWxlc2hlZXQpO30pKSx0aGlzLm9uKFwiZGF0YVwiLCh0PT57dGhpcy5fdXBkYXRlKFwic3R5bGVcIj09PXQuZGF0YVR5cGUpLHRoaXMuZmlyZShuZXcgZS5FdmVudChgJHt0LmRhdGFUeXBlfWRhdGFgLHQpKTt9KSksdGhpcy5vbihcImRhdGFsb2FkaW5nXCIsKHQ9Pnt0aGlzLmZpcmUobmV3IGUuRXZlbnQoYCR7dC5kYXRhVHlwZX1kYXRhbG9hZGluZ2AsdCkpO30pKTt9X2dldE1hcElkKCl7cmV0dXJuIHRoaXMuX21hcElkfWFkZENvbnRyb2wodCxpKXtpZih2b2lkIDA9PT1pJiYoaT10LmdldERlZmF1bHRQb3NpdGlvbj90LmdldERlZmF1bHRQb3NpdGlvbigpOlwidG9wLXJpZ2h0XCIpLCF0fHwhdC5vbkFkZClyZXR1cm4gdGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQobmV3IEVycm9yKFwiSW52YWxpZCBhcmd1bWVudCB0byBtYXAuYWRkQ29udHJvbCgpLiBBcmd1bWVudCBtdXN0IGJlIGEgY29udHJvbCB3aXRoIG9uQWRkIGFuZCBvblJlbW92ZSBtZXRob2RzLlwiKSkpO2NvbnN0IG89dC5vbkFkZCh0aGlzKTt0aGlzLl9jb250cm9scy5wdXNoKHQpO2NvbnN0IHI9dGhpcy5fY29udHJvbFBvc2l0aW9uc1tpXTtyZXR1cm4gLTEhPT1pLmluZGV4T2YoXCJib3R0b21cIik/ci5pbnNlcnRCZWZvcmUobyxyLmZpcnN0Q2hpbGQpOnIuYXBwZW5kQ2hpbGQobyksdGhpc31yZW1vdmVDb250cm9sKHQpe2lmKCF0fHwhdC5vblJlbW92ZSlyZXR1cm4gdGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQobmV3IEVycm9yKFwiSW52YWxpZCBhcmd1bWVudCB0byBtYXAucmVtb3ZlQ29udHJvbCgpLiBBcmd1bWVudCBtdXN0IGJlIGEgY29udHJvbCB3aXRoIG9uQWRkIGFuZCBvblJlbW92ZSBtZXRob2RzLlwiKSkpO2NvbnN0IGk9dGhpcy5fY29udHJvbHMuaW5kZXhPZih0KTtyZXR1cm4gaT4tMSYmdGhpcy5fY29udHJvbHMuc3BsaWNlKGksMSksdC5vblJlbW92ZSh0aGlzKSx0aGlzfWhhc0NvbnRyb2woZSl7cmV0dXJuIHRoaXMuX2NvbnRyb2xzLmluZGV4T2YoZSk+LTF9Z2V0Q29udGFpbmVyKCl7cmV0dXJuIHRoaXMuX2NvbnRhaW5lcn1nZXRDYW52YXNDb250YWluZXIoKXtyZXR1cm4gdGhpcy5fY2FudmFzQ29udGFpbmVyfWdldENhbnZhcygpe3JldHVybiB0aGlzLl9jYW52YXN9cmVzaXplKHQpe2lmKHRoaXMuX3VwZGF0ZUNvbnRhaW5lckRpbWVuc2lvbnMoKSx0aGlzLl9jb250YWluZXJXaWR0aD09PXRoaXMudHJhbnNmb3JtLndpZHRoJiZ0aGlzLl9jb250YWluZXJIZWlnaHQ9PT10aGlzLnRyYW5zZm9ybS5oZWlnaHQpcmV0dXJuIHRoaXM7dGhpcy5fcmVzaXplQ2FudmFzKHRoaXMuX2NvbnRhaW5lcldpZHRoLHRoaXMuX2NvbnRhaW5lckhlaWdodCksdGhpcy50cmFuc2Zvcm0ucmVzaXplKHRoaXMuX2NvbnRhaW5lcldpZHRoLHRoaXMuX2NvbnRhaW5lckhlaWdodCksdGhpcy5wYWludGVyLnJlc2l6ZShNYXRoLmNlaWwodGhpcy5fY29udGFpbmVyV2lkdGgpLE1hdGguY2VpbCh0aGlzLl9jb250YWluZXJIZWlnaHQpKTtjb25zdCBpPSF0aGlzLl9tb3Zpbmc7cmV0dXJuIGkmJnRoaXMuZmlyZShuZXcgZS5FdmVudChcIm1vdmVzdGFydFwiLHQpKS5maXJlKG5ldyBlLkV2ZW50KFwibW92ZVwiLHQpKSx0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJyZXNpemVcIix0KSksaSYmdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwibW92ZWVuZFwiLHQpKSx0aGlzfWdldEJvdW5kcygpe3JldHVybiBcImdsb2JlXCI9PT10aGlzLnRyYW5zZm9ybS5wcm9qZWN0aW9uLm5hbWUmJmUud2Fybk9uY2UoJ0dsb2JlIHByb2plY3Rpb24gZG9lcyBub3Qgc3VwcG9ydCBnZXRCb3VuZHMgQVBJLCB0aGlzIEFQSSBtYXkgYmVoYXZlIHVuZXhwZWN0ZWRseSB3aGVuIHZpZXdpbmcgdGhlIHBvbGVzLlwiJyksdGhpcy50cmFuc2Zvcm0uZ2V0Qm91bmRzKCl9Z2V0TWF4Qm91bmRzKCl7cmV0dXJuIHRoaXMudHJhbnNmb3JtLmdldE1heEJvdW5kcygpfHxudWxsfXNldE1heEJvdW5kcyh0KXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0uc2V0TWF4Qm91bmRzKGUuTG5nTGF0Qm91bmRzLmNvbnZlcnQodCkpLHRoaXMuX3VwZGF0ZSgpfXNldE1pblpvb20odCl7aWYoKHQ9bnVsbD09dD8tMjp0KT49LTImJnQ8PXRoaXMudHJhbnNmb3JtLm1heFpvb20pcmV0dXJuIHRoaXMudHJhbnNmb3JtLm1pblpvb209dCx0aGlzLl91cGRhdGUoKSx0aGlzLmdldFpvb20oKTx0P3RoaXMuc2V0Wm9vbSh0KTp0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJ6b29tc3RhcnRcIikpLmZpcmUobmV3IGUuRXZlbnQoXCJ6b29tXCIpKS5maXJlKG5ldyBlLkV2ZW50KFwiem9vbWVuZFwiKSksdGhpczt0aHJvdyBuZXcgRXJyb3IoXCJtaW5ab29tIG11c3QgYmUgYmV0d2VlbiAtMiBhbmQgdGhlIGN1cnJlbnQgbWF4Wm9vbSwgaW5jbHVzaXZlXCIpfWdldE1pblpvb20oKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0ubWluWm9vbX1zZXRNYXhab29tKHQpe2lmKCh0PW51bGw9PXQ/MjI6dCk+PXRoaXMudHJhbnNmb3JtLm1pblpvb20pcmV0dXJuIHRoaXMudHJhbnNmb3JtLm1heFpvb209dCx0aGlzLl91cGRhdGUoKSx0aGlzLmdldFpvb20oKT50P3RoaXMuc2V0Wm9vbSh0KTp0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJ6b29tc3RhcnRcIikpLmZpcmUobmV3IGUuRXZlbnQoXCJ6b29tXCIpKS5maXJlKG5ldyBlLkV2ZW50KFwiem9vbWVuZFwiKSksdGhpczt0aHJvdyBuZXcgRXJyb3IoXCJtYXhab29tIG11c3QgYmUgZ3JlYXRlciB0aGFuIHRoZSBjdXJyZW50IG1pblpvb21cIil9Z2V0TWF4Wm9vbSgpe3JldHVybiB0aGlzLnRyYW5zZm9ybS5tYXhab29tfXNldE1pblBpdGNoKHQpe2lmKCh0PW51bGw9PXQ/MDp0KTwwKXRocm93IG5ldyBFcnJvcihcIm1pblBpdGNoIG11c3QgYmUgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIDBcIik7aWYodD49MCYmdDw9dGhpcy50cmFuc2Zvcm0ubWF4UGl0Y2gpcmV0dXJuIHRoaXMudHJhbnNmb3JtLm1pblBpdGNoPXQsdGhpcy5fdXBkYXRlKCksdGhpcy5nZXRQaXRjaCgpPHQ/dGhpcy5zZXRQaXRjaCh0KTp0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJwaXRjaHN0YXJ0XCIpKS5maXJlKG5ldyBlLkV2ZW50KFwicGl0Y2hcIikpLmZpcmUobmV3IGUuRXZlbnQoXCJwaXRjaGVuZFwiKSksdGhpczt0aHJvdyBuZXcgRXJyb3IoXCJtaW5QaXRjaCBtdXN0IGJlIGJldHdlZW4gMCBhbmQgdGhlIGN1cnJlbnQgbWF4UGl0Y2gsIGluY2x1c2l2ZVwiKX1nZXRNaW5QaXRjaCgpe3JldHVybiB0aGlzLnRyYW5zZm9ybS5taW5QaXRjaH1zZXRNYXhQaXRjaCh0KXtpZigodD1udWxsPT10Pzg1OnQpPjg1KXRocm93IG5ldyBFcnJvcihcIm1heFBpdGNoIG11c3QgYmUgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIDg1XCIpO2lmKHQ+PXRoaXMudHJhbnNmb3JtLm1pblBpdGNoKXJldHVybiB0aGlzLnRyYW5zZm9ybS5tYXhQaXRjaD10LHRoaXMuX3VwZGF0ZSgpLHRoaXMuZ2V0UGl0Y2goKT50P3RoaXMuc2V0UGl0Y2godCk6dGhpcy5maXJlKG5ldyBlLkV2ZW50KFwicGl0Y2hzdGFydFwiKSkuZmlyZShuZXcgZS5FdmVudChcInBpdGNoXCIpKS5maXJlKG5ldyBlLkV2ZW50KFwicGl0Y2hlbmRcIikpLHRoaXM7dGhyb3cgbmV3IEVycm9yKFwibWF4UGl0Y2ggbXVzdCBiZSBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gbWluUGl0Y2hcIil9Z2V0TWF4UGl0Y2goKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0ubWF4UGl0Y2h9Z2V0UmVuZGVyV29ybGRDb3BpZXMoKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0ucmVuZGVyV29ybGRDb3BpZXN9c2V0UmVuZGVyV29ybGRDb3BpZXMoZSl7cmV0dXJuIHRoaXMudHJhbnNmb3JtLnJlbmRlcldvcmxkQ29waWVzPWUsdGhpcy50cmFuc2Zvcm0ucmVuZGVyV29ybGRDb3BpZXN8fHRoaXMuX2ZvcmNlTWFya2VyQW5kUG9wdXBVcGRhdGUoITApLHRoaXMuX3VwZGF0ZSgpfWdldExhbmd1YWdlKCl7cmV0dXJuIHRoaXMuX2xhbmd1YWdlfV9wYXJzZUxhbmd1YWdlKHQpe3JldHVybiBcImF1dG9cIj09PXQ/ZS53aW5kb3cubmF2aWdhdG9yLmxhbmd1YWdlOkFycmF5LmlzQXJyYXkodCk/MD09PXQubGVuZ3RoP3ZvaWQgMDp0Lm1hcCgodD0+XCJhdXRvXCI9PT10P2Uud2luZG93Lm5hdmlnYXRvci5sYW5ndWFnZTp0KSk6dH1zZXRMYW5ndWFnZShlKXtjb25zdCB0PXRoaXMuX3BhcnNlTGFuZ3VhZ2UoZSk7aWYoIXRoaXMuc3R5bGV8fHQ9PT10aGlzLl9sYW5ndWFnZSlyZXR1cm4gdGhpczt0aGlzLl9sYW5ndWFnZT10LHRoaXMuc3R5bGUuX3JlbG9hZFNvdXJjZXMoKTtmb3IoY29uc3QgZSBvZiB0aGlzLl9jb250cm9scyllLl9zZXRMYW5ndWFnZSYmZS5fc2V0TGFuZ3VhZ2UodGhpcy5fbGFuZ3VhZ2UpO3JldHVybiB0aGlzfWdldFdvcmxkdmlldygpe3JldHVybiB0aGlzLl93b3JsZHZpZXd9c2V0V29ybGR2aWV3KGUpe3JldHVybiB0aGlzLnN0eWxlJiZlIT09dGhpcy5fd29ybGR2aWV3Pyh0aGlzLl93b3JsZHZpZXc9ZSx0aGlzLnN0eWxlLl9yZWxvYWRTb3VyY2VzKCksdGhpcyk6dGhpc31nZXRQcm9qZWN0aW9uKCl7cmV0dXJuIHRoaXMudHJhbnNmb3JtLm1lcmNhdG9yRnJvbVRyYW5zaXRpb24/e25hbWU6XCJnbG9iZVwiLGNlbnRlcjpbMCwwXX06dGhpcy50cmFuc2Zvcm0uZ2V0UHJvamVjdGlvbigpfV9zaG93aW5nR2xvYmUoKXtyZXR1cm4gXCJnbG9iZVwiPT09dGhpcy50cmFuc2Zvcm0ucHJvamVjdGlvbi5uYW1lfXNldFByb2plY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2xhenlJbml0RW1wdHlTdHlsZSgpLGU/XCJzdHJpbmdcIj09dHlwZW9mIGUmJihlPXtuYW1lOmV9KTplPW51bGwsdGhpcy5fdXNlRXhwbGljaXRQcm9qZWN0aW9uPSEhZSx0aGlzLl9wcmlvcml0aXplQW5kVXBkYXRlUHJvamVjdGlvbihlLHRoaXMuc3R5bGUuc3R5bGVzaGVldD90aGlzLnN0eWxlLnN0eWxlc2hlZXQucHJvamVjdGlvbjpudWxsKX1fdXBkYXRlUHJvamVjdGlvblRyYW5zaXRpb24oKXtpZihcImdsb2JlXCIhPT10aGlzLmdldFByb2plY3Rpb24oKS5uYW1lKXJldHVybjtjb25zdCB0PXRoaXMudHJhbnNmb3JtLGk9dC5wcm9qZWN0aW9uLm5hbWU7bGV0IG87XCJnbG9iZVwiPT09aSYmdC56b29tPj1lLkdMT0JFX1pPT01fVEhSRVNIT0xEX01BWD8odC5zZXRNZXJjYXRvckZyb21UcmFuc2l0aW9uKCksbz0hMCk6XCJtZXJjYXRvclwiPT09aSYmdC56b29tPGUuR0xPQkVfWk9PTV9USFJFU0hPTERfTUFYJiYodC5zZXRQcm9qZWN0aW9uKHtuYW1lOlwiZ2xvYmVcIn0pLG89ITApLG8mJih0aGlzLnN0eWxlLmFwcGx5UHJvamVjdGlvblVwZGF0ZSgpLHRoaXMuc3R5bGUuX2ZvcmNlU3ltYm9sTGF5ZXJVcGRhdGUoKSk7fV9wcmlvcml0aXplQW5kVXBkYXRlUHJvamVjdGlvbihlLHQpe3JldHVybiB0aGlzLl91cGRhdGVQcm9qZWN0aW9uKGV8fHR8fHtuYW1lOlwibWVyY2F0b3JcIn0pfV91cGRhdGVQcm9qZWN0aW9uKHQpe2xldCBpO2lmKGk9XCJnbG9iZVwiPT09dC5uYW1lJiZ0aGlzLnRyYW5zZm9ybS56b29tPj1lLkdMT0JFX1pPT01fVEhSRVNIT0xEX01BWD90aGlzLnRyYW5zZm9ybS5zZXRNZXJjYXRvckZyb21UcmFuc2l0aW9uKCk6dGhpcy50cmFuc2Zvcm0uc2V0UHJvamVjdGlvbih0KSx0aGlzLnN0eWxlLmFwcGx5UHJvamVjdGlvblVwZGF0ZSgpLGkpe3RoaXMucGFpbnRlci5jbGVhckJhY2tncm91bmRUaWxlcygpO2Zvcihjb25zdCBlIGluIHRoaXMuc3R5bGUuX3NvdXJjZUNhY2hlcyl0aGlzLnN0eWxlLl9zb3VyY2VDYWNoZXNbZV0uY2xlYXJUaWxlcygpO3RoaXMuX3VwZGF0ZSghMCksdGhpcy5fZm9yY2VNYXJrZXJBbmRQb3B1cFVwZGF0ZSghMCk7fXJldHVybiB0aGlzfXByb2plY3QodCl7cmV0dXJuIHRoaXMudHJhbnNmb3JtLmxvY2F0aW9uUG9pbnQzRChlLkxuZ0xhdC5jb252ZXJ0KHQpKX11bnByb2plY3QodCl7cmV0dXJuIHRoaXMudHJhbnNmb3JtLnBvaW50TG9jYXRpb24zRChlLnBvaW50R2VvbWV0cnkuY29udmVydCh0KSl9aXNNb3ZpbmcoKXtyZXR1cm4gdGhpcy5fbW92aW5nfHx0aGlzLmhhbmRsZXJzJiZ0aGlzLmhhbmRsZXJzLmlzTW92aW5nKCl8fCExfWlzWm9vbWluZygpe3JldHVybiB0aGlzLl96b29taW5nfHx0aGlzLmhhbmRsZXJzJiZ0aGlzLmhhbmRsZXJzLmlzWm9vbWluZygpfHwhMX1pc1JvdGF0aW5nKCl7cmV0dXJuIHRoaXMuX3JvdGF0aW5nfHx0aGlzLmhhbmRsZXJzJiZ0aGlzLmhhbmRsZXJzLmlzUm90YXRpbmcoKXx8ITF9X2NyZWF0ZURlbGVnYXRlZExpc3RlbmVyKGUsdCxpKXtpZihcIm1vdXNlZW50ZXJcIj09PWV8fFwibW91c2VvdmVyXCI9PT1lKXtsZXQgbz0hMTtjb25zdCByPXI9Pntjb25zdCBuPXQuZmlsdGVyKChlPT50aGlzLmdldExheWVyKGUpKSksYT1uLmxlbmd0aD90aGlzLnF1ZXJ5UmVuZGVyZWRGZWF0dXJlcyhyLnBvaW50LHtsYXllcnM6bn0pOltdO2EubGVuZ3RoP298fChvPSEwLGkuY2FsbCh0aGlzLG5ldyBjcihlLHRoaXMsci5vcmlnaW5hbEV2ZW50LHtmZWF0dXJlczphfSkpKTpvPSExO30sbj0oKT0+e289ITE7fTtyZXR1cm4ge2xheWVyczpuZXcgU2V0KHQpLGxpc3RlbmVyOmksZGVsZWdhdGVzOnttb3VzZW1vdmU6cixtb3VzZW91dDpufX19aWYoXCJtb3VzZWxlYXZlXCI9PT1lfHxcIm1vdXNlb3V0XCI9PT1lKXtsZXQgbz0hMTtjb25zdCByPXI9Pntjb25zdCBuPXQuZmlsdGVyKChlPT50aGlzLmdldExheWVyKGUpKSk7KG4ubGVuZ3RoP3RoaXMucXVlcnlSZW5kZXJlZEZlYXR1cmVzKHIucG9pbnQse2xheWVyczpufSk6W10pLmxlbmd0aD9vPSEwOm8mJihvPSExLGkuY2FsbCh0aGlzLG5ldyBjcihlLHRoaXMsci5vcmlnaW5hbEV2ZW50KSkpO30sbj10PT57byYmKG89ITEsaS5jYWxsKHRoaXMsbmV3IGNyKGUsdGhpcyx0Lm9yaWdpbmFsRXZlbnQpKSk7fTtyZXR1cm4ge2xheWVyczpuZXcgU2V0KHQpLGxpc3RlbmVyOmksZGVsZWdhdGVzOnttb3VzZW1vdmU6cixtb3VzZW91dDpufX19e2NvbnN0IG89ZT0+e2NvbnN0IG89dC5maWx0ZXIoKGU9PnRoaXMuZ2V0TGF5ZXIoZSkpKSxyPW8ubGVuZ3RoP3RoaXMucXVlcnlSZW5kZXJlZEZlYXR1cmVzKGUucG9pbnQse2xheWVyczpvfSk6W107ci5sZW5ndGgmJihlLmZlYXR1cmVzPXIsaS5jYWxsKHRoaXMsZSksZGVsZXRlIGUuZmVhdHVyZXMpO307cmV0dXJuIHtsYXllcnM6bmV3IFNldCh0KSxsaXN0ZW5lcjppLGRlbGVnYXRlczp7W2VdOm99fX19b24oZSx0LGkpe2lmKHZvaWQgMD09PWkpcmV0dXJuIHN1cGVyLm9uKGUsdCk7QXJyYXkuaXNBcnJheSh0KXx8KHQ9W3RdKTtjb25zdCBvPXRoaXMuX2NyZWF0ZURlbGVnYXRlZExpc3RlbmVyKGUsdCxpKTt0aGlzLl9kZWxlZ2F0ZWRMaXN0ZW5lcnM9dGhpcy5fZGVsZWdhdGVkTGlzdGVuZXJzfHx7fSx0aGlzLl9kZWxlZ2F0ZWRMaXN0ZW5lcnNbZV09dGhpcy5fZGVsZWdhdGVkTGlzdGVuZXJzW2VdfHxbXSx0aGlzLl9kZWxlZ2F0ZWRMaXN0ZW5lcnNbZV0ucHVzaChvKTtmb3IoY29uc3QgZSBpbiBvLmRlbGVnYXRlcyl0aGlzLm9uKGUsby5kZWxlZ2F0ZXNbZV0pO3JldHVybiB0aGlzfW9uY2UoZSx0LGkpe2lmKHZvaWQgMD09PWkpcmV0dXJuIHN1cGVyLm9uY2UoZSx0KTtBcnJheS5pc0FycmF5KHQpfHwodD1bdF0pO2NvbnN0IG89dGhpcy5fY3JlYXRlRGVsZWdhdGVkTGlzdGVuZXIoZSx0LGkpO2Zvcihjb25zdCBlIGluIG8uZGVsZWdhdGVzKXRoaXMub25jZShlLG8uZGVsZWdhdGVzW2VdKTtyZXR1cm4gdGhpc31vZmYoZSx0LGkpe2lmKHZvaWQgMD09PWkpcmV0dXJuIHN1cGVyLm9mZihlLHQpO3Q9bmV3IFNldChBcnJheS5pc0FycmF5KHQpP3Q6W3RdKTtjb25zdCBvPShlLHQpPT57aWYoZS5zaXplIT09dC5zaXplKXJldHVybiAhMTtmb3IoY29uc3QgaSBvZiBlKWlmKCF0LmhhcyhpKSlyZXR1cm4gITE7cmV0dXJuICEwfSxyPXRoaXMuX2RlbGVnYXRlZExpc3RlbmVycz90aGlzLl9kZWxlZ2F0ZWRMaXN0ZW5lcnNbZV06dm9pZCAwO3JldHVybiByJiYoZT0+e2ZvcihsZXQgcj0wO3I8ZS5sZW5ndGg7cisrKXtjb25zdCBuPWVbcl07aWYobi5saXN0ZW5lcj09PWkmJm8obi5sYXllcnMsdCkpe2Zvcihjb25zdCBlIGluIG4uZGVsZWdhdGVzKXRoaXMub2ZmKGUsbi5kZWxlZ2F0ZXNbZV0pO3JldHVybiBlLnNwbGljZShyLDEpLHRoaXN9fX0pKHIpLHRoaXN9cXVlcnlSZW5kZXJlZEZlYXR1cmVzKHQsaSl7cmV0dXJuIHRoaXMuc3R5bGU/KHZvaWQgMCE9PWl8fHZvaWQgMD09PXR8fHQgaW5zdGFuY2VvZiBlLnBvaW50R2VvbWV0cnl8fEFycmF5LmlzQXJyYXkodCl8fChpPXQsdD12b2lkIDApLHRoaXMuc3R5bGUucXVlcnlSZW5kZXJlZEZlYXR1cmVzKHQ9dHx8W1swLDBdLFt0aGlzLnRyYW5zZm9ybS53aWR0aCx0aGlzLnRyYW5zZm9ybS5oZWlnaHRdXSxpPWl8fHt9LHRoaXMudHJhbnNmb3JtKSk6W119cXVlcnlTb3VyY2VGZWF0dXJlcyhlLHQpe3JldHVybiB0aGlzLnN0eWxlLnF1ZXJ5U291cmNlRmVhdHVyZXMoZSx0KX1zZXRTdHlsZSh0LGkpe3JldHVybiAhMSE9PShpPWUuZXh0ZW5kKHt9LHtsb2NhbElkZW9ncmFwaEZvbnRGYW1pbHk6dGhpcy5fbG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5LGxvY2FsRm9udEZhbWlseTp0aGlzLl9sb2NhbEZvbnRGYW1pbHl9LGkpKS5kaWZmJiZpLmxvY2FsSWRlb2dyYXBoRm9udEZhbWlseT09PXRoaXMuX2xvY2FsSWRlb2dyYXBoRm9udEZhbWlseSYmaS5sb2NhbEZvbnRGYW1pbHk9PT10aGlzLl9sb2NhbEZvbnRGYW1pbHkmJnRoaXMuc3R5bGUmJnQ/KHRoaXMuX2RpZmZTdHlsZSh0LGkpLHRoaXMpOih0aGlzLl9sb2NhbElkZW9ncmFwaEZvbnRGYW1pbHk9aS5sb2NhbElkZW9ncmFwaEZvbnRGYW1pbHksdGhpcy5fbG9jYWxGb250RmFtaWx5PWkubG9jYWxGb250RmFtaWx5LHRoaXMuX3VwZGF0ZVN0eWxlKHQsaSkpfV9nZXRVSVN0cmluZyhlKXtjb25zdCB0PXRoaXMuX2xvY2FsZVtlXTtpZihudWxsPT10KXRocm93IG5ldyBFcnJvcihgTWlzc2luZyBVSSBzdHJpbmcgJyR7ZX0nYCk7cmV0dXJuIHR9X3VwZGF0ZVN0eWxlKGUsdCl7cmV0dXJuIHRoaXMuc3R5bGUmJih0aGlzLnN0eWxlLnNldEV2ZW50ZWRQYXJlbnQobnVsbCksdGhpcy5zdHlsZS5fcmVtb3ZlKCksdGhpcy5zdHlsZT12b2lkIDApLGUmJih0aGlzLnN0eWxlPW5ldyBlaSh0aGlzLHR8fHt9KSx0aGlzLnN0eWxlLnNldEV2ZW50ZWRQYXJlbnQodGhpcyx7c3R5bGU6dGhpcy5zdHlsZX0pLFwic3RyaW5nXCI9PXR5cGVvZiBlP3RoaXMuc3R5bGUubG9hZFVSTChlKTp0aGlzLnN0eWxlLmxvYWRKU09OKGUpKSx0aGlzLl91cGRhdGVUZXJyYWluKCksdGhpc31fbGF6eUluaXRFbXB0eVN0eWxlKCl7dGhpcy5zdHlsZXx8KHRoaXMuc3R5bGU9bmV3IGVpKHRoaXMse30pLHRoaXMuc3R5bGUuc2V0RXZlbnRlZFBhcmVudCh0aGlzLHtzdHlsZTp0aGlzLnN0eWxlfSksdGhpcy5zdHlsZS5sb2FkRW1wdHkoKSk7fV9kaWZmU3R5bGUodCxpKXtpZihcInN0cmluZ1wiPT10eXBlb2YgdCl7Y29uc3Qgbz10aGlzLl9yZXF1ZXN0TWFuYWdlci5ub3JtYWxpemVTdHlsZVVSTCh0KSxyPXRoaXMuX3JlcXVlc3RNYW5hZ2VyLnRyYW5zZm9ybVJlcXVlc3QobyxlLlJlc291cmNlVHlwZS5TdHlsZSk7ZS5nZXRKU09OKHIsKCh0LG8pPT57dD90aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudCh0KSk6byYmdGhpcy5fdXBkYXRlRGlmZihvLGkpO30pKTt9ZWxzZSBcIm9iamVjdFwiPT10eXBlb2YgdCYmdGhpcy5fdXBkYXRlRGlmZih0LGkpO31fdXBkYXRlRGlmZih0LGkpe3RyeXt0aGlzLnN0eWxlLnNldFN0YXRlKHQpJiZ0aGlzLl91cGRhdGUoITApO31jYXRjaChvKXtlLndhcm5PbmNlKGBVbmFibGUgdG8gcGVyZm9ybSBzdHlsZSBkaWZmOiAke28ubWVzc2FnZXx8by5lcnJvcnx8b30uICBSZWJ1aWxkaW5nIHRoZSBzdHlsZSBmcm9tIHNjcmF0Y2guYCksdGhpcy5fdXBkYXRlU3R5bGUodCxpKTt9fWdldFN0eWxlKCl7aWYodGhpcy5zdHlsZSlyZXR1cm4gdGhpcy5zdHlsZS5zZXJpYWxpemUoKX1pc1N0eWxlTG9hZGVkKCl7cmV0dXJuIHRoaXMuc3R5bGU/dGhpcy5zdHlsZS5sb2FkZWQoKTooZS53YXJuT25jZShcIlRoZXJlIGlzIG5vIHN0eWxlIGFkZGVkIHRvIHRoZSBtYXAuXCIpLCExKX1hZGRTb3VyY2UoZSx0KXtyZXR1cm4gdGhpcy5fbGF6eUluaXRFbXB0eVN0eWxlKCksdGhpcy5zdHlsZS5hZGRTb3VyY2UoZSx0KSx0aGlzLl91cGRhdGUoITApfWlzU291cmNlTG9hZGVkKGUpe3JldHVybiAhIXRoaXMuc3R5bGUmJnRoaXMuc3R5bGUuX2lzU291cmNlQ2FjaGVMb2FkZWQoZSl9YXJlVGlsZXNMb2FkZWQoKXtjb25zdCBlPXRoaXMuc3R5bGUmJnRoaXMuc3R5bGUuX3NvdXJjZUNhY2hlcztmb3IoY29uc3QgdCBpbiBlKXtjb25zdCBpPWVbdF0uX3RpbGVzO2Zvcihjb25zdCBlIGluIGkpe2NvbnN0IHQ9aVtlXTtpZihcImxvYWRlZFwiIT09dC5zdGF0ZSYmXCJlcnJvcmVkXCIhPT10LnN0YXRlKXJldHVybiAhMX19cmV0dXJuICEwfWFkZFNvdXJjZVR5cGUoZSx0LGkpe3RoaXMuX2xhenlJbml0RW1wdHlTdHlsZSgpLHRoaXMuc3R5bGUuYWRkU291cmNlVHlwZShlLHQsaSk7fXJlbW92ZVNvdXJjZShlKXtyZXR1cm4gdGhpcy5zdHlsZS5yZW1vdmVTb3VyY2UoZSksdGhpcy5fdXBkYXRlVGVycmFpbigpLHRoaXMuX3VwZGF0ZSghMCl9Z2V0U291cmNlKGUpe3JldHVybiB0aGlzLnN0eWxlLmdldFNvdXJjZShlKX1hZGRJbWFnZSh0LGkse3BpeGVsUmF0aW86bz0xLHNkZjpyPSExLHN0cmV0Y2hYOm4sc3RyZXRjaFk6YSxjb250ZW50OnN9PXt9KXtpZih0aGlzLl9sYXp5SW5pdEVtcHR5U3R5bGUoKSxpIGluc3RhbmNlb2YgZS53aW5kb3cuSFRNTEltYWdlRWxlbWVudHx8ZS53aW5kb3cuSW1hZ2VCaXRtYXAmJmkgaW5zdGFuY2VvZiBlLndpbmRvdy5JbWFnZUJpdG1hcCl7Y29uc3R7d2lkdGg6bCxoZWlnaHQ6YyxkYXRhOmh9PWUuZXhwb3J0ZWQuZ2V0SW1hZ2VEYXRhKGkpO3RoaXMuc3R5bGUuYWRkSW1hZ2UodCx7ZGF0YTpuZXcgZS5SR0JBSW1hZ2Uoe3dpZHRoOmwsaGVpZ2h0OmN9LGgpLHBpeGVsUmF0aW86byxzdHJldGNoWDpuLHN0cmV0Y2hZOmEsY29udGVudDpzLHNkZjpyLHZlcnNpb246MH0pO31lbHNlIGlmKHZvaWQgMD09PWkud2lkdGh8fHZvaWQgMD09PWkuaGVpZ2h0KXRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihcIkludmFsaWQgYXJndW1lbnRzIHRvIG1hcC5hZGRJbWFnZSgpLiBUaGUgc2Vjb25kIGFyZ3VtZW50IG11c3QgYmUgYW4gYEhUTUxJbWFnZUVsZW1lbnRgLCBgSW1hZ2VEYXRhYCwgYEltYWdlQml0bWFwYCwgb3Igb2JqZWN0IHdpdGggYHdpZHRoYCwgYGhlaWdodGAsIGFuZCBgZGF0YWAgcHJvcGVydGllcyB3aXRoIHRoZSBzYW1lIGZvcm1hdCBhcyBgSW1hZ2VEYXRhYFwiKSkpO2Vsc2Uge2NvbnN0e3dpZHRoOmwsaGVpZ2h0OmN9PWksaD1pO3RoaXMuc3R5bGUuYWRkSW1hZ2UodCx7ZGF0YTpuZXcgZS5SR0JBSW1hZ2Uoe3dpZHRoOmwsaGVpZ2h0OmN9LG5ldyBVaW50OEFycmF5KGguZGF0YSkpLHBpeGVsUmF0aW86byxzdHJldGNoWDpuLHN0cmV0Y2hZOmEsY29udGVudDpzLHNkZjpyLHZlcnNpb246MCx1c2VySW1hZ2U6aH0pLGgub25BZGQmJmgub25BZGQodGhpcyx0KTt9fXVwZGF0ZUltYWdlKHQsaSl7Y29uc3Qgbz10aGlzLnN0eWxlLmdldEltYWdlKHQpO2lmKCFvKXJldHVybiB2b2lkIHRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihcIlRoZSBtYXAgaGFzIG5vIGltYWdlIHdpdGggdGhhdCBpZC4gSWYgeW91IGFyZSBhZGRpbmcgYSBuZXcgaW1hZ2UgdXNlIGBtYXAuYWRkSW1hZ2UoLi4uKWAgaW5zdGVhZC5cIikpKTtjb25zdCByPWkgaW5zdGFuY2VvZiBlLndpbmRvdy5IVE1MSW1hZ2VFbGVtZW50fHxlLndpbmRvdy5JbWFnZUJpdG1hcCYmaSBpbnN0YW5jZW9mIGUud2luZG93LkltYWdlQml0bWFwP2UuZXhwb3J0ZWQuZ2V0SW1hZ2VEYXRhKGkpOmkse3dpZHRoOm4saGVpZ2h0OmF9PXI7dm9pZCAwIT09biYmdm9pZCAwIT09YT9uPT09by5kYXRhLndpZHRoJiZhPT09by5kYXRhLmhlaWdodD8oby5kYXRhLnJlcGxhY2Uoci5kYXRhLCEoaSBpbnN0YW5jZW9mIGUud2luZG93LkhUTUxJbWFnZUVsZW1lbnR8fGUud2luZG93LkltYWdlQml0bWFwJiZpIGluc3RhbmNlb2YgZS53aW5kb3cuSW1hZ2VCaXRtYXApKSx0aGlzLnN0eWxlLnVwZGF0ZUltYWdlKHQsbykpOnRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihgVGhlIHdpZHRoIGFuZCBoZWlnaHQgb2YgdGhlIHVwZGF0ZWQgaW1hZ2UgKCR7bn0sICR7YX0pXFxuICAgICAgICAgICAgICAgIG11c3QgYmUgdGhhdCBzYW1lIGFzIHRoZSBwcmV2aW91cyB2ZXJzaW9uIG9mIHRoZSBpbWFnZVxcbiAgICAgICAgICAgICAgICAoJHtvLmRhdGEud2lkdGh9LCAke28uZGF0YS5oZWlnaHR9KWApKSk6dGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQobmV3IEVycm9yKFwiSW52YWxpZCBhcmd1bWVudHMgdG8gbWFwLnVwZGF0ZUltYWdlKCkuIFRoZSBzZWNvbmQgYXJndW1lbnQgbXVzdCBiZSBhbiBgSFRNTEltYWdlRWxlbWVudGAsIGBJbWFnZURhdGFgLCBgSW1hZ2VCaXRtYXBgLCBvciBvYmplY3Qgd2l0aCBgd2lkdGhgLCBgaGVpZ2h0YCwgYW5kIGBkYXRhYCBwcm9wZXJ0aWVzIHdpdGggdGhlIHNhbWUgZm9ybWF0IGFzIGBJbWFnZURhdGFgXCIpKSk7fWhhc0ltYWdlKHQpe3JldHVybiB0PyEhdGhpcy5zdHlsZS5nZXRJbWFnZSh0KToodGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQobmV3IEVycm9yKFwiTWlzc2luZyByZXF1aXJlZCBpbWFnZSBpZFwiKSkpLCExKX1yZW1vdmVJbWFnZShlKXt0aGlzLnN0eWxlLnJlbW92ZUltYWdlKGUpO31sb2FkSW1hZ2UodCxpKXtlLmdldEltYWdlKHRoaXMuX3JlcXVlc3RNYW5hZ2VyLnRyYW5zZm9ybVJlcXVlc3QodCxlLlJlc291cmNlVHlwZS5JbWFnZSksKCh0LG8pPT57aSh0LG8gaW5zdGFuY2VvZiBlLndpbmRvdy5IVE1MSW1hZ2VFbGVtZW50P2UuZXhwb3J0ZWQuZ2V0SW1hZ2VEYXRhKG8pOm8pO30pKTt9bGlzdEltYWdlcygpe3JldHVybiB0aGlzLnN0eWxlLmxpc3RJbWFnZXMoKX1hZGRMYXllcihlLHQpe3JldHVybiB0aGlzLl9sYXp5SW5pdEVtcHR5U3R5bGUoKSx0aGlzLnN0eWxlLmFkZExheWVyKGUsdCksdGhpcy5fdXBkYXRlKCEwKX1tb3ZlTGF5ZXIoZSx0KXtyZXR1cm4gdGhpcy5zdHlsZS5tb3ZlTGF5ZXIoZSx0KSx0aGlzLl91cGRhdGUoITApfXJlbW92ZUxheWVyKGUpe3JldHVybiB0aGlzLnN0eWxlLnJlbW92ZUxheWVyKGUpLHRoaXMuX3VwZGF0ZSghMCl9Z2V0TGF5ZXIoZSl7cmV0dXJuIHRoaXMuc3R5bGUuZ2V0TGF5ZXIoZSl9c2V0TGF5ZXJab29tUmFuZ2UoZSx0LGkpe3JldHVybiB0aGlzLnN0eWxlLnNldExheWVyWm9vbVJhbmdlKGUsdCxpKSx0aGlzLl91cGRhdGUoITApfXNldEZpbHRlcihlLHQsaT17fSl7cmV0dXJuIHRoaXMuc3R5bGUuc2V0RmlsdGVyKGUsdCxpKSx0aGlzLl91cGRhdGUoITApfWdldEZpbHRlcihlKXtyZXR1cm4gdGhpcy5zdHlsZS5nZXRGaWx0ZXIoZSl9c2V0UGFpbnRQcm9wZXJ0eShlLHQsaSxvPXt9KXtyZXR1cm4gdGhpcy5zdHlsZS5zZXRQYWludFByb3BlcnR5KGUsdCxpLG8pLHRoaXMuX3VwZGF0ZSghMCl9Z2V0UGFpbnRQcm9wZXJ0eShlLHQpe3JldHVybiB0aGlzLnN0eWxlLmdldFBhaW50UHJvcGVydHkoZSx0KX1zZXRMYXlvdXRQcm9wZXJ0eShlLHQsaSxvPXt9KXtyZXR1cm4gdGhpcy5zdHlsZS5zZXRMYXlvdXRQcm9wZXJ0eShlLHQsaSxvKSx0aGlzLl91cGRhdGUoITApfWdldExheW91dFByb3BlcnR5KGUsdCl7cmV0dXJuIHRoaXMuc3R5bGUuZ2V0TGF5b3V0UHJvcGVydHkoZSx0KX1zZXRMaWdodChlLHQ9e30pe3JldHVybiB0aGlzLl9sYXp5SW5pdEVtcHR5U3R5bGUoKSx0aGlzLnN0eWxlLnNldExpZ2h0KGUsdCksdGhpcy5fdXBkYXRlKCEwKX1nZXRMaWdodCgpe3JldHVybiB0aGlzLnN0eWxlLmdldExpZ2h0KCl9c2V0VGVycmFpbihlKXtyZXR1cm4gdGhpcy5fbGF6eUluaXRFbXB0eVN0eWxlKCksIWUmJnRoaXMudHJhbnNmb3JtLnByb2plY3Rpb24ucmVxdWlyZXNEcmFwaW5nP3RoaXMuc3R5bGUuc2V0VGVycmFpbkZvckRyYXBpbmcoKTp0aGlzLnN0eWxlLnNldFRlcnJhaW4oZSksdGhpcy5fYXZlcmFnZUVsZXZhdGlvbkxhc3RTYW1wbGVkQXQ9LTEvMCx0aGlzLl91cGRhdGUoITApfWdldFRlcnJhaW4oKXtyZXR1cm4gdGhpcy5zdHlsZT90aGlzLnN0eWxlLmdldFRlcnJhaW4oKTpudWxsfXNldEZvZyhlKXtyZXR1cm4gdGhpcy5fbGF6eUluaXRFbXB0eVN0eWxlKCksdGhpcy5zdHlsZS5zZXRGb2coZSksdGhpcy5fdXBkYXRlKCEwKX1nZXRGb2coKXtyZXR1cm4gdGhpcy5zdHlsZT90aGlzLnN0eWxlLmdldEZvZygpOm51bGx9X3F1ZXJ5Rm9nT3BhY2l0eSh0KXtyZXR1cm4gdGhpcy5zdHlsZSYmdGhpcy5zdHlsZS5mb2c/dGhpcy5zdHlsZS5mb2cuZ2V0T3BhY2l0eUF0TGF0TG5nKGUuTG5nTGF0LmNvbnZlcnQodCksdGhpcy50cmFuc2Zvcm0pOjB9c2V0RmVhdHVyZVN0YXRlKGUsdCl7cmV0dXJuIHRoaXMuc3R5bGUuc2V0RmVhdHVyZVN0YXRlKGUsdCksdGhpcy5fdXBkYXRlKCl9cmVtb3ZlRmVhdHVyZVN0YXRlKGUsdCl7cmV0dXJuIHRoaXMuc3R5bGUucmVtb3ZlRmVhdHVyZVN0YXRlKGUsdCksdGhpcy5fdXBkYXRlKCl9Z2V0RmVhdHVyZVN0YXRlKGUpe3JldHVybiB0aGlzLnN0eWxlLmdldEZlYXR1cmVTdGF0ZShlKX1fdXBkYXRlQ29udGFpbmVyRGltZW5zaW9ucygpe2lmKCF0aGlzLl9jb250YWluZXIpcmV0dXJuO2NvbnN0IHQ9dGhpcy5fY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRofHw0MDAsaT10aGlzLl9jb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0fHwzMDA7bGV0IG8scixuLGE9dGhpcy5fY29udGFpbmVyO2Zvcig7YSYmKCFyfHwhbik7KXtjb25zdCB0PWUud2luZG93LmdldENvbXB1dGVkU3R5bGUoYSkudHJhbnNmb3JtO3QmJlwibm9uZVwiIT09dCYmKG89dC5tYXRjaCgvbWF0cml4LipcXCgoLispXFwpLylbMV0uc3BsaXQoXCIsIFwiKSxvWzBdJiZcIjBcIiE9PW9bMF0mJlwiMVwiIT09b1swXSYmKHI9b1swXSksb1szXSYmXCIwXCIhPT1vWzNdJiZcIjFcIiE9PW9bM10mJihuPW9bM10pKSxhPWEucGFyZW50RWxlbWVudDt9dGhpcy5fY29udGFpbmVyV2lkdGg9cj9NYXRoLmFicyh0L3IpOnQsdGhpcy5fY29udGFpbmVySGVpZ2h0PW4/TWF0aC5hYnMoaS9uKTppO31fZGV0ZWN0TWlzc2luZ0NTUygpe1wicmdiKDI1MCwgMTI4LCAxMTQpXCIhPT1lLndpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRoaXMuX21pc3NpbmdDU1NDYW5hcnkpLmdldFByb3BlcnR5VmFsdWUoXCJiYWNrZ3JvdW5kLWNvbG9yXCIpJiZlLndhcm5PbmNlKFwiVGhpcyBwYWdlIGFwcGVhcnMgdG8gYmUgbWlzc2luZyBDU1MgZGVjbGFyYXRpb25zIGZvciBNYXBib3ggR0wgSlMsIHdoaWNoIG1heSBjYXVzZSB0aGUgbWFwIHRvIGRpc3BsYXkgaW5jb3JyZWN0bHkuIFBsZWFzZSBlbnN1cmUgeW91ciBwYWdlIGluY2x1ZGVzIG1hcGJveC1nbC5jc3MsIGFzIGRlc2NyaWJlZCBpbiBodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9hcGkvLlwiKTt9X3NldHVwQ29udGFpbmVyKCl7Y29uc3QgZT10aGlzLl9jb250YWluZXI7ZS5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtbWFwXCIpLCh0aGlzLl9taXNzaW5nQ1NTQ2FuYXJ5PW4oXCJkaXZcIixcIm1hcGJveGdsLWNhbmFyeVwiLGUpKS5zdHlsZS52aXNpYmlsaXR5PVwiaGlkZGVuXCIsdGhpcy5fZGV0ZWN0TWlzc2luZ0NTUygpO2NvbnN0IHQ9dGhpcy5fY2FudmFzQ29udGFpbmVyPW4oXCJkaXZcIixcIm1hcGJveGdsLWNhbnZhcy1jb250YWluZXJcIixlKTt0aGlzLl9pbnRlcmFjdGl2ZSYmdC5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtaW50ZXJhY3RpdmVcIiksdGhpcy5fY2FudmFzPW4oXCJjYW52YXNcIixcIm1hcGJveGdsLWNhbnZhc1wiLHQpLHRoaXMuX2NhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwid2ViZ2xjb250ZXh0bG9zdFwiLHRoaXMuX2NvbnRleHRMb3N0LCExKSx0aGlzLl9jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcIndlYmdsY29udGV4dHJlc3RvcmVkXCIsdGhpcy5fY29udGV4dFJlc3RvcmVkLCExKSx0aGlzLl9jYW52YXMuc2V0QXR0cmlidXRlKFwidGFiaW5kZXhcIixcIjBcIiksdGhpcy5fY2FudmFzLnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIix0aGlzLl9nZXRVSVN0cmluZyhcIk1hcC5UaXRsZVwiKSksdGhpcy5fY2FudmFzLnNldEF0dHJpYnV0ZShcInJvbGVcIixcInJlZ2lvblwiKSx0aGlzLl91cGRhdGVDb250YWluZXJEaW1lbnNpb25zKCksdGhpcy5fcmVzaXplQ2FudmFzKHRoaXMuX2NvbnRhaW5lcldpZHRoLHRoaXMuX2NvbnRhaW5lckhlaWdodCk7Y29uc3QgaT10aGlzLl9jb250cm9sQ29udGFpbmVyPW4oXCJkaXZcIixcIm1hcGJveGdsLWNvbnRyb2wtY29udGFpbmVyXCIsZSksbz10aGlzLl9jb250cm9sUG9zaXRpb25zPXt9O1tcInRvcC1sZWZ0XCIsXCJ0b3AtcmlnaHRcIixcImJvdHRvbS1sZWZ0XCIsXCJib3R0b20tcmlnaHRcIl0uZm9yRWFjaCgoZT0+e29bZV09bihcImRpdlwiLGBtYXBib3hnbC1jdHJsLSR7ZX1gLGkpO30pKSx0aGlzLl9jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLHRoaXMuX29uTWFwU2Nyb2xsLCExKTt9X3Jlc2l6ZUNhbnZhcyh0LGkpe2NvbnN0IG89ZS5leHBvcnRlZC5kZXZpY2VQaXhlbFJhdGlvfHwxO3RoaXMuX2NhbnZhcy53aWR0aD1vKk1hdGguY2VpbCh0KSx0aGlzLl9jYW52YXMuaGVpZ2h0PW8qTWF0aC5jZWlsKGkpLHRoaXMuX2NhbnZhcy5zdHlsZS53aWR0aD1gJHt0fXB4YCx0aGlzLl9jYW52YXMuc3R5bGUuaGVpZ2h0PWAke2l9cHhgO31fYWRkTWFya2VyKGUpe3RoaXMuX21hcmtlcnMucHVzaChlKTt9X3JlbW92ZU1hcmtlcihlKXtjb25zdCB0PXRoaXMuX21hcmtlcnMuaW5kZXhPZihlKTstMSE9PXQmJnRoaXMuX21hcmtlcnMuc3BsaWNlKHQsMSk7fV9hZGRQb3B1cChlKXt0aGlzLl9wb3B1cHMucHVzaChlKTt9X3JlbW92ZVBvcHVwKGUpe2NvbnN0IHQ9dGhpcy5fcG9wdXBzLmluZGV4T2YoZSk7LTEhPT10JiZ0aGlzLl9wb3B1cHMuc3BsaWNlKHQsMSk7fV9zZXR1cFBhaW50ZXIoKXtjb25zdCB0PWUuZXh0ZW5kKHt9LGkud2ViR0xDb250ZXh0QXR0cmlidXRlcyx7ZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdDp0aGlzLl9mYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0LHByZXNlcnZlRHJhd2luZ0J1ZmZlcjp0aGlzLl9wcmVzZXJ2ZURyYXdpbmdCdWZmZXIsYW50aWFsaWFzOnRoaXMuX2FudGlhbGlhc3x8ITF9KSxvPXRoaXMuX2NhbnZhcy5nZXRDb250ZXh0KFwid2ViZ2xcIix0KXx8dGhpcy5fY2FudmFzLmdldENvbnRleHQoXCJleHBlcmltZW50YWwtd2ViZ2xcIix0KTtvPyhlLnN0b3JlQXV0aFN0YXRlKG8sITApLHRoaXMucGFpbnRlcj1uZXcgRm8obyx0aGlzLnRyYW5zZm9ybSksdGhpcy5vbihcImRhdGFcIiwoZT0+e1wic291cmNlXCI9PT1lLmRhdGFUeXBlJiZ0aGlzLnBhaW50ZXIuc2V0VGlsZUxvYWRlZEZsYWcoITApO30pKSxlLmV4cG9ydGVkJDEudGVzdFN1cHBvcnQobykpOnRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihcIkZhaWxlZCB0byBpbml0aWFsaXplIFdlYkdMXCIpKSk7fV9jb250ZXh0TG9zdCh0KXt0LnByZXZlbnREZWZhdWx0KCksdGhpcy5fZnJhbWUmJih0aGlzLl9mcmFtZS5jYW5jZWwoKSx0aGlzLl9mcmFtZT1udWxsKSx0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJ3ZWJnbGNvbnRleHRsb3N0XCIse29yaWdpbmFsRXZlbnQ6dH0pKTt9X2NvbnRleHRSZXN0b3JlZCh0KXt0aGlzLl9zZXR1cFBhaW50ZXIoKSx0aGlzLnJlc2l6ZSgpLHRoaXMuX3VwZGF0ZSgpLHRoaXMuZmlyZShuZXcgZS5FdmVudChcIndlYmdsY29udGV4dHJlc3RvcmVkXCIse29yaWdpbmFsRXZlbnQ6dH0pKTt9X29uTWFwU2Nyb2xsKGUpe2lmKGUudGFyZ2V0PT09dGhpcy5fY29udGFpbmVyKXJldHVybiB0aGlzLl9jb250YWluZXIuc2Nyb2xsVG9wPTAsdGhpcy5fY29udGFpbmVyLnNjcm9sbExlZnQ9MCwhMX1sb2FkZWQoKXtyZXR1cm4gIXRoaXMuX3N0eWxlRGlydHkmJiF0aGlzLl9zb3VyY2VzRGlydHkmJiEhdGhpcy5zdHlsZSYmdGhpcy5zdHlsZS5sb2FkZWQoKX1fdXBkYXRlKGUpe3JldHVybiB0aGlzLnN0eWxlPyh0aGlzLl9zdHlsZURpcnR5PXRoaXMuX3N0eWxlRGlydHl8fGUsdGhpcy5fc291cmNlc0RpcnR5PSEwLHRoaXMudHJpZ2dlclJlcGFpbnQoKSx0aGlzKTp0aGlzfV9yZXF1ZXN0UmVuZGVyRnJhbWUoZSl7cmV0dXJuIHRoaXMuX3VwZGF0ZSgpLHRoaXMuX3JlbmRlclRhc2tRdWV1ZS5hZGQoZSl9X2NhbmNlbFJlbmRlckZyYW1lKGUpe3RoaXMuX3JlbmRlclRhc2tRdWV1ZS5yZW1vdmUoZSk7fV9yZXF1ZXN0RG9tVGFzayhlKXshdGhpcy5sb2FkZWQoKXx8dGhpcy5sb2FkZWQoKSYmIXRoaXMuaXNNb3ZpbmcoKT9lKCk6dGhpcy5fZG9tUmVuZGVyVGFza1F1ZXVlLmFkZChlKTt9X3JlbmRlcih0KXtsZXQgaTtjb25zdCBvPXRoaXMucGFpbnRlci5jb250ZXh0LmV4dFRpbWVyUXVlcnkscj1lLmV4cG9ydGVkLm5vdygpO2lmKHRoaXMubGlzdGVucyhcImdwdS10aW1pbmctZnJhbWVcIikmJihpPW8uY3JlYXRlUXVlcnlFWFQoKSxvLmJlZ2luUXVlcnlFWFQoby5USU1FX0VMQVBTRURfRVhULGkpKSx0aGlzLnBhaW50ZXIuY29udGV4dC5zZXREaXJ0eSgpLHRoaXMucGFpbnRlci5zZXRCYXNlU3RhdGUoKSwodGhpcy5pc01vdmluZygpfHx0aGlzLmlzUm90YXRpbmcoKXx8dGhpcy5pc1pvb21pbmcoKSkmJih0aGlzLl9pbnRlcmFjdGlvblJhbmdlWzBdPU1hdGgubWluKHRoaXMuX2ludGVyYWN0aW9uUmFuZ2VbMF0sZS53aW5kb3cucGVyZm9ybWFuY2Uubm93KCkpLHRoaXMuX2ludGVyYWN0aW9uUmFuZ2VbMV09TWF0aC5tYXgodGhpcy5faW50ZXJhY3Rpb25SYW5nZVsxXSxlLndpbmRvdy5wZXJmb3JtYW5jZS5ub3coKSkpLHRoaXMuX3JlbmRlclRhc2tRdWV1ZS5ydW4odCksdGhpcy5fZG9tUmVuZGVyVGFza1F1ZXVlLnJ1bih0KSx0aGlzLl9yZW1vdmVkKXJldHVybjt0aGlzLl91cGRhdGVQcm9qZWN0aW9uVHJhbnNpdGlvbigpO2xldCBuPSExO2NvbnN0IGE9dGhpcy5faXNJbml0aWFsTG9hZD8wOnRoaXMuX2ZhZGVEdXJhdGlvbjtpZih0aGlzLnN0eWxlJiZ0aGlzLl9zdHlsZURpcnR5KXt0aGlzLl9zdHlsZURpcnR5PSExO2NvbnN0IHQ9dGhpcy50cmFuc2Zvcm0uem9vbSxpPXRoaXMudHJhbnNmb3JtLnBpdGNoLG89ZS5leHBvcnRlZC5ub3coKTt0aGlzLnN0eWxlLnpvb21IaXN0b3J5LnVwZGF0ZSh0LG8pO2NvbnN0IHI9bmV3IGUuRXZhbHVhdGlvblBhcmFtZXRlcnModCx7bm93Om8sZmFkZUR1cmF0aW9uOmEscGl0Y2g6aSx6b29tSGlzdG9yeTp0aGlzLnN0eWxlLnpvb21IaXN0b3J5LHRyYW5zaXRpb246dGhpcy5zdHlsZS5nZXRUcmFuc2l0aW9uKCl9KSxzPXIuY3Jvc3NGYWRpbmdGYWN0b3IoKTsxPT09cyYmcz09PXRoaXMuX2Nyb3NzRmFkaW5nRmFjdG9yfHwobj0hMCx0aGlzLl9jcm9zc0ZhZGluZ0ZhY3Rvcj1zKSx0aGlzLnN0eWxlLnVwZGF0ZShyKTt9dGhpcy5zdHlsZSYmdGhpcy5zdHlsZS5mb2cmJnRoaXMuc3R5bGUuZm9nLmhhc1RyYW5zaXRpb24oKSYmKHRoaXMuc3R5bGUuX21hcmtlcnNOZWVkVXBkYXRlPSEwLHRoaXMuX3NvdXJjZXNEaXJ0eT0hMCk7bGV0IHM9ITE7aWYodGhpcy5zdHlsZSYmdGhpcy5fc291cmNlc0RpcnR5Pyh0aGlzLl9zb3VyY2VzRGlydHk9ITEsdGhpcy5wYWludGVyLl91cGRhdGVGb2codGhpcy5zdHlsZSksdGhpcy5fdXBkYXRlVGVycmFpbigpLHM9dGhpcy5fdXBkYXRlQXZlcmFnZUVsZXZhdGlvbihyKSx0aGlzLnN0eWxlLl91cGRhdGVTb3VyY2VzKHRoaXMudHJhbnNmb3JtKSx0aGlzLl9mb3JjZU1hcmtlckFuZFBvcHVwVXBkYXRlKCkpOnM9dGhpcy5fdXBkYXRlQXZlcmFnZUVsZXZhdGlvbihyKSx0aGlzLl9wbGFjZW1lbnREaXJ0eT10aGlzLnN0eWxlJiZ0aGlzLnN0eWxlLl91cGRhdGVQbGFjZW1lbnQodGhpcy5wYWludGVyLnRyYW5zZm9ybSx0aGlzLnNob3dDb2xsaXNpb25Cb3hlcyxhLHRoaXMuX2Nyb3NzU291cmNlQ29sbGlzaW9ucyksdGhpcy5zdHlsZSYmdGhpcy5wYWludGVyLnJlbmRlcih0aGlzLnN0eWxlLHtzaG93VGlsZUJvdW5kYXJpZXM6dGhpcy5zaG93VGlsZUJvdW5kYXJpZXMsc2hvd1RlcnJhaW5XaXJlZnJhbWU6dGhpcy5zaG93VGVycmFpbldpcmVmcmFtZSxzaG93T3ZlcmRyYXdJbnNwZWN0b3I6dGhpcy5fc2hvd092ZXJkcmF3SW5zcGVjdG9yLHNob3dRdWVyeUdlb21ldHJ5OiEhdGhpcy5fc2hvd1F1ZXJ5R2VvbWV0cnksc2hvd1RpbGVBQUJCczp0aGlzLnNob3dUaWxlQUFCQnMscm90YXRpbmc6dGhpcy5pc1JvdGF0aW5nKCksem9vbWluZzp0aGlzLmlzWm9vbWluZygpLG1vdmluZzp0aGlzLmlzTW92aW5nKCksZmFkZUR1cmF0aW9uOmEsaXNJbml0aWFsTG9hZDp0aGlzLl9pc0luaXRpYWxMb2FkLHNob3dQYWRkaW5nOnRoaXMuc2hvd1BhZGRpbmcsZ3B1VGltaW5nOiEhdGhpcy5saXN0ZW5zKFwiZ3B1LXRpbWluZy1sYXllclwiKSxncHVUaW1pbmdEZWZlcnJlZFJlbmRlcjohIXRoaXMubGlzdGVucyhcImdwdS10aW1pbmctZGVmZXJyZWQtcmVuZGVyXCIpLHNwZWVkSW5kZXhUaW1pbmc6dGhpcy5zcGVlZEluZGV4VGltaW5nfSksdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwicmVuZGVyXCIpKSx0aGlzLmxvYWRlZCgpJiYhdGhpcy5fbG9hZGVkJiYodGhpcy5fbG9hZGVkPSEwLHRoaXMuZmlyZShuZXcgZS5FdmVudChcImxvYWRcIikpKSx0aGlzLnN0eWxlJiYodGhpcy5zdHlsZS5oYXNUcmFuc2l0aW9ucygpfHxuKSYmKHRoaXMuX3N0eWxlRGlydHk9ITApLHRoaXMuc3R5bGUmJiF0aGlzLl9wbGFjZW1lbnREaXJ0eSYmdGhpcy5zdHlsZS5fcmVsZWFzZVN5bWJvbEZhZGVUaWxlcygpLGkpe2NvbnN0IHQ9ZS5leHBvcnRlZC5ub3coKS1yO28uZW5kUXVlcnlFWFQoby5USU1FX0VMQVBTRURfRVhULGkpLHNldFRpbWVvdXQoKCgpPT57Y29uc3Qgbj1vLmdldFF1ZXJ5T2JqZWN0RVhUKGksby5RVUVSWV9SRVNVTFRfRVhUKS8xZTY7by5kZWxldGVRdWVyeUVYVChpKSx0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJncHUtdGltaW5nLWZyYW1lXCIse2NwdVRpbWU6dCxncHVUaW1lOm59KSksZS53aW5kb3cucGVyZm9ybWFuY2UubWFyayhcImZyYW1lLWdwdVwiLHtzdGFydFRpbWU6cixkZXRhaWw6e2dwdVRpbWU6bn19KTt9KSw1MCk7fWlmKHRoaXMubGlzdGVucyhcImdwdS10aW1pbmctbGF5ZXJcIikpe2NvbnN0IHQ9dGhpcy5wYWludGVyLmNvbGxlY3RHcHVUaW1lcnMoKTtzZXRUaW1lb3V0KCgoKT0+e2NvbnN0IGk9dGhpcy5wYWludGVyLnF1ZXJ5R3B1VGltZXJzKHQpO3RoaXMuZmlyZShuZXcgZS5FdmVudChcImdwdS10aW1pbmctbGF5ZXJcIix7bGF5ZXJUaW1lczppfSkpO30pLDUwKTt9aWYodGhpcy5saXN0ZW5zKFwiZ3B1LXRpbWluZy1kZWZlcnJlZC1yZW5kZXJcIikpe2NvbnN0IHQ9dGhpcy5wYWludGVyLmNvbGxlY3REZWZlcnJlZFJlbmRlckdwdVF1ZXJpZXMoKTtzZXRUaW1lb3V0KCgoKT0+e2NvbnN0IGk9dGhpcy5wYWludGVyLnF1ZXJ5R3B1VGltZURlZmVycmVkUmVuZGVyKHQpO3RoaXMuZmlyZShuZXcgZS5FdmVudChcImdwdS10aW1pbmctZGVmZXJyZWQtcmVuZGVyXCIse2dwdVRpbWU6aX0pKTt9KSw1MCk7fWNvbnN0IGw9dGhpcy5fc291cmNlc0RpcnR5fHx0aGlzLl9zdHlsZURpcnR5fHx0aGlzLl9wbGFjZW1lbnREaXJ0eXx8cztpZihsfHx0aGlzLl9yZXBhaW50KXRoaXMudHJpZ2dlclJlcGFpbnQoKTtlbHNlIHtjb25zdCB0PSF0aGlzLmlzTW92aW5nKCkmJnRoaXMubG9hZGVkKCk7aWYodCYmKHM9dGhpcy5fdXBkYXRlQXZlcmFnZUVsZXZhdGlvbihyLCEwKSkscyl0aGlzLnRyaWdnZXJSZXBhaW50KCk7ZWxzZSBpZih0aGlzLl90cmlnZ2VyRnJhbWUoITEpLHQmJih0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJpZGxlXCIpKSx0aGlzLl9pc0luaXRpYWxMb2FkPSExLHRoaXMuc3BlZWRJbmRleFRpbWluZykpe2NvbnN0IHQ9dGhpcy5fY2FsY3VsYXRlU3BlZWRJbmRleCgpO3RoaXMuZmlyZShuZXcgZS5FdmVudChcInNwZWVkaW5kZXhjb21wbGV0ZWRcIix7c3BlZWRJbmRleDp0fSkpLHRoaXMuc3BlZWRJbmRleFRpbWluZz0hMTt9fSF0aGlzLl9sb2FkZWR8fHRoaXMuX2Z1bGx5TG9hZGVkfHxsfHwodGhpcy5fZnVsbHlMb2FkZWQ9ITAsZS5MaXZlUGVyZm9ybWFuY2VVdGlscy5tYXJrKGUuUGVyZm9ybWFuY2VNYXJrZXJzLmZ1bGxMb2FkKSx0aGlzLl9wZXJmb3JtYW5jZU1ldHJpY3NDb2xsZWN0aW9uJiZlLnBvc3RQZXJmb3JtYW5jZUV2ZW50KHRoaXMuX3JlcXVlc3RNYW5hZ2VyLl9jdXN0b21BY2Nlc3NUb2tlbix7d2lkdGg6dGhpcy5wYWludGVyLndpZHRoLGhlaWdodDp0aGlzLnBhaW50ZXIuaGVpZ2h0LGludGVyYWN0aW9uUmFuZ2U6dGhpcy5faW50ZXJhY3Rpb25SYW5nZSx0ZXJyYWluRW5hYmxlZDohIXRoaXMucGFpbnRlci5zdHlsZS5nZXRUZXJyYWluKCksZm9nRW5hYmxlZDohIXRoaXMucGFpbnRlci5zdHlsZS5nZXRGb2coKSxwcm9qZWN0aW9uOnRoaXMucGFpbnRlci50cmFuc2Zvcm0ucHJvamVjdGlvbix6b29tOnRoaXMudHJhbnNmb3JtLnpvb20scmVuZGVyZXI6dGhpcy5wYWludGVyLmNvbnRleHQucmVuZGVyZXIsdmVuZG9yOnRoaXMucGFpbnRlci5jb250ZXh0LnZlbmRvcn0pLHRoaXMuX2F1dGhlbnRpY2F0ZSgpKTt9X2ZvcmNlTWFya2VyQW5kUG9wdXBVcGRhdGUoZSl7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fbWFya2VycyllJiYhdGhpcy5nZXRSZW5kZXJXb3JsZENvcGllcygpJiYodC5fbG5nTGF0PXQuX2xuZ0xhdC53cmFwKCkpLHQuX3VwZGF0ZSgpO2Zvcihjb25zdCB0IG9mIHRoaXMuX3BvcHVwcykhZXx8dGhpcy5nZXRSZW5kZXJXb3JsZENvcGllcygpfHx0Ll90cmFja1BvaW50ZXJ8fCh0Ll9sbmdMYXQ9dC5fbG5nTGF0LndyYXAoKSksdC5fdXBkYXRlKCk7fV91cGRhdGVBdmVyYWdlRWxldmF0aW9uKGUsdD0hMSl7Y29uc3QgaT1lPT4odGhpcy50cmFuc2Zvcm0uYXZlcmFnZUVsZXZhdGlvbj1lLHRoaXMuX3VwZGF0ZSghMSksITApO2lmKCF0aGlzLnBhaW50ZXIuYXZlcmFnZUVsZXZhdGlvbk5lZWRzRWFzaW5nKCkpcmV0dXJuIDAhPT10aGlzLnRyYW5zZm9ybS5hdmVyYWdlRWxldmF0aW9uJiZpKDApO2lmKCh0fHxlLXRoaXMuX2F2ZXJhZ2VFbGV2YXRpb25MYXN0U2FtcGxlZEF0PjUwMCkmJiF0aGlzLl9hdmVyYWdlRWxldmF0aW9uLmlzRWFzaW5nKGUpKXtjb25zdCB0PXRoaXMudHJhbnNmb3JtLmF2ZXJhZ2VFbGV2YXRpb247bGV0IG89dGhpcy50cmFuc2Zvcm0uc2FtcGxlQXZlcmFnZUVsZXZhdGlvbigpLHI9ITE7dGhpcy50cmFuc2Zvcm0uZWxldmF0aW9uJiYocj10aGlzLnRyYW5zZm9ybS5lbGV2YXRpb24uZXhhZ2dlcmF0aW9uKCkhPT10aGlzLl9hdmVyYWdlRWxldmF0aW9uRXhhZ2dlcmF0aW9uLHRoaXMuX2F2ZXJhZ2VFbGV2YXRpb25FeGFnZ2VyYXRpb249dGhpcy50cmFuc2Zvcm0uZWxldmF0aW9uLmV4YWdnZXJhdGlvbigpKSxpc05hTihvKT9vPTA6dGhpcy5fYXZlcmFnZUVsZXZhdGlvbkxhc3RTYW1wbGVkQXQ9ZTtjb25zdCBuPU1hdGguYWJzKHQtbyk7aWYobj4xKXtpZih0aGlzLl9pc0luaXRpYWxMb2FkfHxyKXJldHVybiB0aGlzLl9hdmVyYWdlRWxldmF0aW9uLmp1bXBUbyhvKSxpKG8pO3RoaXMuX2F2ZXJhZ2VFbGV2YXRpb24uZWFzZVRvKG8sZSwzMDApO31lbHNlIGlmKG4+MWUtNClyZXR1cm4gdGhpcy5fYXZlcmFnZUVsZXZhdGlvbi5qdW1wVG8obyksaShvKX1yZXR1cm4gISF0aGlzLl9hdmVyYWdlRWxldmF0aW9uLmlzRWFzaW5nKGUpJiZpKHRoaXMuX2F2ZXJhZ2VFbGV2YXRpb24uZ2V0VmFsdWUoZSkpfV9hdXRoZW50aWNhdGUoKXtlLmdldE1hcFNlc3Npb25BUEkodGhpcy5fZ2V0TWFwSWQoKSx0aGlzLl9yZXF1ZXN0TWFuYWdlci5fc2t1VG9rZW4sdGhpcy5fcmVxdWVzdE1hbmFnZXIuX2N1c3RvbUFjY2Vzc1Rva2VuLCh0PT57aWYodCYmKHQubWVzc2FnZT09PWUuQVVUSF9FUlJfTVNHfHw0MDE9PT10LnN0YXR1cykpe2NvbnN0IHQ9dGhpcy5wYWludGVyLmNvbnRleHQuZ2w7ZS5zdG9yZUF1dGhTdGF0ZSh0LCExKSx0aGlzLl9sb2dvQ29udHJvbCBpbnN0YW5jZW9mIEpyJiZ0aGlzLl9sb2dvQ29udHJvbC5fdXBkYXRlTG9nbygpLHQmJnQuY2xlYXIodC5ERVBUSF9CVUZGRVJfQklUfHQuQ09MT1JfQlVGRkVSX0JJVHx0LlNURU5DSUxfQlVGRkVSX0JJVCksdGhpcy5fc2lsZW5jZUF1dGhFcnJvcnN8fHRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihcIkEgdmFsaWQgTWFwYm94IGFjY2VzcyB0b2tlbiBpcyByZXF1aXJlZCB0byB1c2UgTWFwYm94IEdMIEpTLiBUbyBjcmVhdGUgYW4gYWNjb3VudCBvciBhIG5ldyBhY2Nlc3MgdG9rZW4sIHZpc2l0IGh0dHBzOi8vYWNjb3VudC5tYXBib3guY29tL1wiKSkpO319KSksZS5wb3N0TWFwTG9hZEV2ZW50KHRoaXMuX2dldE1hcElkKCksdGhpcy5fcmVxdWVzdE1hbmFnZXIuX3NrdVRva2VuLHRoaXMuX3JlcXVlc3RNYW5hZ2VyLl9jdXN0b21BY2Nlc3NUb2tlbiwoKCk9Pnt9KSk7fV91cGRhdGVUZXJyYWluKCl7dGhpcy5wYWludGVyLnVwZGF0ZVRlcnJhaW4odGhpcy5zdHlsZSx0aGlzLmlzTW92aW5nKCl8fHRoaXMuaXNSb3RhdGluZygpfHx0aGlzLmlzWm9vbWluZygpKTt9X2NhbGN1bGF0ZVNwZWVkSW5kZXgoKXtjb25zdCBlPXRoaXMucGFpbnRlci5jYW52YXNDb3B5KCksdD10aGlzLnBhaW50ZXIuZ2V0Q2FudmFzQ29waWVzQW5kVGltZXN0YW1wcygpO3QudGltZVN0YW1wcy5wdXNoKHBlcmZvcm1hbmNlLm5vdygpKTtjb25zdCBpPXRoaXMucGFpbnRlci5jb250ZXh0LmdsLG89aS5jcmVhdGVGcmFtZWJ1ZmZlcigpO2Z1bmN0aW9uIHIoZSl7aS5mcmFtZWJ1ZmZlclRleHR1cmUyRChpLkZSQU1FQlVGRkVSLGkuQ09MT1JfQVRUQUNITUVOVDAsaS5URVhUVVJFXzJELGUsMCk7Y29uc3QgdD1uZXcgVWludDhBcnJheShpLmRyYXdpbmdCdWZmZXJXaWR0aCppLmRyYXdpbmdCdWZmZXJIZWlnaHQqNCk7cmV0dXJuIGkucmVhZFBpeGVscygwLDAsaS5kcmF3aW5nQnVmZmVyV2lkdGgsaS5kcmF3aW5nQnVmZmVySGVpZ2h0LGkuUkdCQSxpLlVOU0lHTkVEX0JZVEUsdCksdH1yZXR1cm4gaS5iaW5kRnJhbWVidWZmZXIoaS5GUkFNRUJVRkZFUixvKSx0aGlzLl9jYW52YXNQaXhlbENvbXBhcmlzb24ocihlKSx0LmNhbnZhc0NvcGllcy5tYXAociksdC50aW1lU3RhbXBzKX1fY2FudmFzUGl4ZWxDb21wYXJpc29uKGUsdCxpKXtsZXQgbz1pWzFdLWlbMF07Y29uc3Qgcj1lLmxlbmd0aC80O2ZvcihsZXQgbj0wO248dC5sZW5ndGg7bisrKXtjb25zdCBhPXRbbl07bGV0IHM9MDtmb3IobGV0IHQ9MDt0PGEubGVuZ3RoO3QrPTQpYVt0XT09PWVbdF0mJmFbdCsxXT09PWVbdCsxXSYmYVt0KzJdPT09ZVt0KzJdJiZhW3QrM109PT1lW3QrM10mJihzKz0xKTtvKz0oaVtuKzJdLWlbbisxXSkqKDEtcy9yKTt9cmV0dXJuIG99cmVtb3ZlKCl7dGhpcy5faGFzaCYmdGhpcy5faGFzaC5yZW1vdmUoKTtmb3IoY29uc3QgZSBvZiB0aGlzLl9jb250cm9scyllLm9uUmVtb3ZlKHRoaXMpO3RoaXMuX2NvbnRyb2xzPVtdLHRoaXMuX2ZyYW1lJiYodGhpcy5fZnJhbWUuY2FuY2VsKCksdGhpcy5fZnJhbWU9bnVsbCksdGhpcy5fcmVuZGVyVGFza1F1ZXVlLmNsZWFyKCksdGhpcy5fZG9tUmVuZGVyVGFza1F1ZXVlLmNsZWFyKCksdGhpcy5zdHlsZSYmdGhpcy5zdHlsZS5kZXN0cm95KCksdGhpcy5wYWludGVyLmRlc3Ryb3koKSx0aGlzLmhhbmRsZXJzJiZ0aGlzLmhhbmRsZXJzLmRlc3Ryb3koKSx0aGlzLmhhbmRsZXJzPXZvaWQgMCx0aGlzLnNldFN0eWxlKG51bGwpLHZvaWQgMCE9PWUud2luZG93JiYoZS53aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLHRoaXMuX29uV2luZG93UmVzaXplLCExKSxlLndpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwib3JpZW50YXRpb25jaGFuZ2VcIix0aGlzLl9vbldpbmRvd1Jlc2l6ZSwhMSksZS53aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIndlYmtpdGZ1bGxzY3JlZW5jaGFuZ2VcIix0aGlzLl9vbldpbmRvd1Jlc2l6ZSwhMSksZS53aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm9ubGluZVwiLHRoaXMuX29uV2luZG93T25saW5lLCExKSk7Y29uc3QgdD10aGlzLnBhaW50ZXIuY29udGV4dC5nbC5nZXRFeHRlbnNpb24oXCJXRUJHTF9sb3NlX2NvbnRleHRcIik7dCYmdC5sb3NlQ29udGV4dCgpLHRoaXMuX2NhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKFwid2ViZ2xjb250ZXh0bG9zdFwiLHRoaXMuX2NvbnRleHRMb3N0LCExKSx0aGlzLl9jYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIndlYmdsY29udGV4dHJlc3RvcmVkXCIsdGhpcy5fY29udGV4dFJlc3RvcmVkLCExKSxobih0aGlzLl9jYW52YXNDb250YWluZXIpLGhuKHRoaXMuX2NvbnRyb2xDb250YWluZXIpLGhuKHRoaXMuX21pc3NpbmdDU1NDYW5hcnkpLHRoaXMuX2NhbnZhcz12b2lkIDAsdGhpcy5fY2FudmFzQ29udGFpbmVyPXZvaWQgMCx0aGlzLl9jb250cm9sQ29udGFpbmVyPXZvaWQgMCx0aGlzLl9taXNzaW5nQ1NTQ2FuYXJ5PXZvaWQgMCx0aGlzLl9jb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLW1hcFwiKSx0aGlzLl9jb250YWluZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLHRoaXMuX29uTWFwU2Nyb2xsLCExKSxlLnJlbW92ZUF1dGhTdGF0ZSh0aGlzLnBhaW50ZXIuY29udGV4dC5nbCksdGhpcy5fcmVtb3ZlZD0hMCx0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJyZW1vdmVcIikpO310cmlnZ2VyUmVwYWludCgpe3RoaXMuX3RyaWdnZXJGcmFtZSghMCk7fV90cmlnZ2VyRnJhbWUodCl7dGhpcy5fcmVuZGVyTmV4dEZyYW1lPXRoaXMuX3JlbmRlck5leHRGcmFtZXx8dCx0aGlzLnN0eWxlJiYhdGhpcy5fZnJhbWUmJih0aGlzLl9mcmFtZT1lLmV4cG9ydGVkLmZyYW1lKChlPT57Y29uc3QgdD0hIXRoaXMuX3JlbmRlck5leHRGcmFtZTt0aGlzLl9mcmFtZT1udWxsLHRoaXMuX3JlbmRlck5leHRGcmFtZT1udWxsLHQmJnRoaXMuX3JlbmRlcihlKTt9KSkpO31fcHJlbG9hZFRpbGVzKHQpe2NvbnN0IGk9dGhpcy5zdHlsZT9PYmplY3QudmFsdWVzKHRoaXMuc3R5bGUuX3NvdXJjZUNhY2hlcyk6W107cmV0dXJuIGUuYXN5bmNBbGwoaSwoKGUsaSk9PmUuX3ByZWxvYWRUaWxlcyh0LGkpKSwoKCk9Pnt0aGlzLnRyaWdnZXJSZXBhaW50KCk7fSkpLHRoaXN9X29uV2luZG93T25saW5lKCl7dGhpcy5fdXBkYXRlKCk7fV9vbldpbmRvd1Jlc2l6ZShlKXt0aGlzLl90cmFja1Jlc2l6ZSYmdGhpcy5yZXNpemUoe29yaWdpbmFsRXZlbnQ6ZX0pLl91cGRhdGUoKTt9Z2V0IHNob3dUaWxlQm91bmRhcmllcygpe3JldHVybiAhIXRoaXMuX3Nob3dUaWxlQm91bmRhcmllc31zZXQgc2hvd1RpbGVCb3VuZGFyaWVzKGUpe3RoaXMuX3Nob3dUaWxlQm91bmRhcmllcyE9PWUmJih0aGlzLl9zaG93VGlsZUJvdW5kYXJpZXM9ZSx0aGlzLl91cGRhdGUoKSk7fWdldCBzaG93VGVycmFpbldpcmVmcmFtZSgpe3JldHVybiAhIXRoaXMuX3Nob3dUZXJyYWluV2lyZWZyYW1lfXNldCBzaG93VGVycmFpbldpcmVmcmFtZShlKXt0aGlzLl9zaG93VGVycmFpbldpcmVmcmFtZSE9PWUmJih0aGlzLl9zaG93VGVycmFpbldpcmVmcmFtZT1lLHRoaXMuX3VwZGF0ZSgpKTt9Z2V0IHNwZWVkSW5kZXhUaW1pbmcoKXtyZXR1cm4gISF0aGlzLl9zcGVlZEluZGV4VGltaW5nfXNldCBzcGVlZEluZGV4VGltaW5nKGUpe3RoaXMuX3NwZWVkSW5kZXhUaW1pbmchPT1lJiYodGhpcy5fc3BlZWRJbmRleFRpbWluZz1lLHRoaXMuX3VwZGF0ZSgpKTt9Z2V0IHNob3dQYWRkaW5nKCl7cmV0dXJuICEhdGhpcy5fc2hvd1BhZGRpbmd9c2V0IHNob3dQYWRkaW5nKGUpe3RoaXMuX3Nob3dQYWRkaW5nIT09ZSYmKHRoaXMuX3Nob3dQYWRkaW5nPWUsdGhpcy5fdXBkYXRlKCkpO31nZXQgc2hvd0NvbGxpc2lvbkJveGVzKCl7cmV0dXJuICEhdGhpcy5fc2hvd0NvbGxpc2lvbkJveGVzfXNldCBzaG93Q29sbGlzaW9uQm94ZXMoZSl7dGhpcy5fc2hvd0NvbGxpc2lvbkJveGVzIT09ZSYmKHRoaXMuX3Nob3dDb2xsaXNpb25Cb3hlcz1lLGU/dGhpcy5zdHlsZS5fZ2VuZXJhdGVDb2xsaXNpb25Cb3hlcygpOnRoaXMuX3VwZGF0ZSgpKTt9Z2V0IHNob3dPdmVyZHJhd0luc3BlY3Rvcigpe3JldHVybiAhIXRoaXMuX3Nob3dPdmVyZHJhd0luc3BlY3Rvcn1zZXQgc2hvd092ZXJkcmF3SW5zcGVjdG9yKGUpe3RoaXMuX3Nob3dPdmVyZHJhd0luc3BlY3RvciE9PWUmJih0aGlzLl9zaG93T3ZlcmRyYXdJbnNwZWN0b3I9ZSx0aGlzLl91cGRhdGUoKSk7fWdldCByZXBhaW50KCl7cmV0dXJuICEhdGhpcy5fcmVwYWludH1zZXQgcmVwYWludChlKXt0aGlzLl9yZXBhaW50IT09ZSYmKHRoaXMuX3JlcGFpbnQ9ZSx0aGlzLnRyaWdnZXJSZXBhaW50KCkpO31nZXQgdmVydGljZXMoKXtyZXR1cm4gISF0aGlzLl92ZXJ0aWNlc31zZXQgdmVydGljZXMoZSl7dGhpcy5fdmVydGljZXM9ZSx0aGlzLl91cGRhdGUoKTt9Z2V0IHNob3dUaWxlQUFCQnMoKXtyZXR1cm4gISF0aGlzLl9zaG93VGlsZUFBQkJzfXNldCBzaG93VGlsZUFBQkJzKGUpe3RoaXMuX3Nob3dUaWxlQUFCQnMhPT1lJiYodGhpcy5fc2hvd1RpbGVBQUJCcz1lLGUmJnRoaXMuX3VwZGF0ZSgpKTt9X3NldENhY2hlTGltaXRzKHQsaSl7ZS5zZXRDYWNoZUxpbWl0cyh0LGkpO31nZXQgdmVyc2lvbigpe3JldHVybiBlLnZlcnNpb259fSxOYXZpZ2F0aW9uQ29udHJvbDpjbGFzc3tjb25zdHJ1Y3Rvcih0KXt0aGlzLm9wdGlvbnM9ZS5leHRlbmQoe30sX24sdCksdGhpcy5fY29udGFpbmVyPW4oXCJkaXZcIixcIm1hcGJveGdsLWN0cmwgbWFwYm94Z2wtY3RybC1ncm91cFwiKSx0aGlzLl9jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNvbnRleHRtZW51XCIsKGU9PmUucHJldmVudERlZmF1bHQoKSkpLHRoaXMub3B0aW9ucy5zaG93Wm9vbSYmKGUuYmluZEFsbChbXCJfc2V0QnV0dG9uVGl0bGVcIixcIl91cGRhdGVab29tQnV0dG9uc1wiXSx0aGlzKSx0aGlzLl96b29tSW5CdXR0b249dGhpcy5fY3JlYXRlQnV0dG9uKFwibWFwYm94Z2wtY3RybC16b29tLWluXCIsKGU9Pnt0aGlzLl9tYXAmJnRoaXMuX21hcC56b29tSW4oe30se29yaWdpbmFsRXZlbnQ6ZX0pO30pKSxuKFwic3BhblwiLFwibWFwYm94Z2wtY3RybC1pY29uXCIsdGhpcy5fem9vbUluQnV0dG9uKS5zZXRBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiLFwidHJ1ZVwiKSx0aGlzLl96b29tT3V0QnV0dG9uPXRoaXMuX2NyZWF0ZUJ1dHRvbihcIm1hcGJveGdsLWN0cmwtem9vbS1vdXRcIiwoZT0+e3RoaXMuX21hcCYmdGhpcy5fbWFwLnpvb21PdXQoe30se29yaWdpbmFsRXZlbnQ6ZX0pO30pKSxuKFwic3BhblwiLFwibWFwYm94Z2wtY3RybC1pY29uXCIsdGhpcy5fem9vbU91dEJ1dHRvbikuc2V0QXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIixcInRydWVcIikpLHRoaXMub3B0aW9ucy5zaG93Q29tcGFzcyYmKGUuYmluZEFsbChbXCJfcm90YXRlQ29tcGFzc0Fycm93XCJdLHRoaXMpLHRoaXMuX2NvbXBhc3M9dGhpcy5fY3JlYXRlQnV0dG9uKFwibWFwYm94Z2wtY3RybC1jb21wYXNzXCIsKGU9Pntjb25zdCB0PXRoaXMuX21hcDt0JiYodGhpcy5vcHRpb25zLnZpc3VhbGl6ZVBpdGNoP3QucmVzZXROb3J0aFBpdGNoKHt9LHtvcmlnaW5hbEV2ZW50OmV9KTp0LnJlc2V0Tm9ydGgoe30se29yaWdpbmFsRXZlbnQ6ZX0pKTt9KSksdGhpcy5fY29tcGFzc0ljb249bihcInNwYW5cIixcIm1hcGJveGdsLWN0cmwtaWNvblwiLHRoaXMuX2NvbXBhc3MpLHRoaXMuX2NvbXBhc3NJY29uLnNldEF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIsXCJ0cnVlXCIpKTt9X3VwZGF0ZVpvb21CdXR0b25zKCl7Y29uc3QgZT10aGlzLl9tYXA7aWYoIWUpcmV0dXJuO2NvbnN0IHQ9ZS5nZXRab29tKCksaT10PT09ZS5nZXRNYXhab29tKCksbz10PT09ZS5nZXRNaW5ab29tKCk7dGhpcy5fem9vbUluQnV0dG9uLmRpc2FibGVkPWksdGhpcy5fem9vbU91dEJ1dHRvbi5kaXNhYmxlZD1vLHRoaXMuX3pvb21JbkJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWRpc2FibGVkXCIsaS50b1N0cmluZygpKSx0aGlzLl96b29tT3V0QnV0dG9uLnNldEF0dHJpYnV0ZShcImFyaWEtZGlzYWJsZWRcIixvLnRvU3RyaW5nKCkpO31fcm90YXRlQ29tcGFzc0Fycm93KCl7Y29uc3QgZT10aGlzLl9tYXA7aWYoIWUpcmV0dXJuO2NvbnN0IHQ9dGhpcy5vcHRpb25zLnZpc3VhbGl6ZVBpdGNoP2BzY2FsZSgkezEvTWF0aC5wb3coTWF0aC5jb3MoZS50cmFuc2Zvcm0ucGl0Y2gqKE1hdGguUEkvMTgwKSksLjUpfSkgcm90YXRlWCgke2UudHJhbnNmb3JtLnBpdGNofWRlZykgcm90YXRlWigke2UudHJhbnNmb3JtLmFuZ2xlKigxODAvTWF0aC5QSSl9ZGVnKWA6YHJvdGF0ZSgke2UudHJhbnNmb3JtLmFuZ2xlKigxODAvTWF0aC5QSSl9ZGVnKWA7ZS5fcmVxdWVzdERvbVRhc2soKCgpPT57dGhpcy5fY29tcGFzc0ljb24mJih0aGlzLl9jb21wYXNzSWNvbi5zdHlsZS50cmFuc2Zvcm09dCk7fSkpO31vbkFkZChlKXtyZXR1cm4gdGhpcy5fbWFwPWUsdGhpcy5vcHRpb25zLnNob3dab29tJiYodGhpcy5fc2V0QnV0dG9uVGl0bGUodGhpcy5fem9vbUluQnV0dG9uLFwiWm9vbUluXCIpLHRoaXMuX3NldEJ1dHRvblRpdGxlKHRoaXMuX3pvb21PdXRCdXR0b24sXCJab29tT3V0XCIpLGUub24oXCJ6b29tXCIsdGhpcy5fdXBkYXRlWm9vbUJ1dHRvbnMpLHRoaXMuX3VwZGF0ZVpvb21CdXR0b25zKCkpLHRoaXMub3B0aW9ucy5zaG93Q29tcGFzcyYmKHRoaXMuX3NldEJ1dHRvblRpdGxlKHRoaXMuX2NvbXBhc3MsXCJSZXNldEJlYXJpbmdcIiksdGhpcy5vcHRpb25zLnZpc3VhbGl6ZVBpdGNoJiZlLm9uKFwicGl0Y2hcIix0aGlzLl9yb3RhdGVDb21wYXNzQXJyb3cpLGUub24oXCJyb3RhdGVcIix0aGlzLl9yb3RhdGVDb21wYXNzQXJyb3cpLHRoaXMuX3JvdGF0ZUNvbXBhc3NBcnJvdygpLHRoaXMuX2hhbmRsZXI9bmV3IHVuKGUsdGhpcy5fY29tcGFzcyx0aGlzLm9wdGlvbnMudmlzdWFsaXplUGl0Y2gpKSx0aGlzLl9jb250YWluZXJ9b25SZW1vdmUoKXtjb25zdCBlPXRoaXMuX21hcDtlJiYodGhpcy5fY29udGFpbmVyLnJlbW92ZSgpLHRoaXMub3B0aW9ucy5zaG93Wm9vbSYmZS5vZmYoXCJ6b29tXCIsdGhpcy5fdXBkYXRlWm9vbUJ1dHRvbnMpLHRoaXMub3B0aW9ucy5zaG93Q29tcGFzcyYmKHRoaXMub3B0aW9ucy52aXN1YWxpemVQaXRjaCYmZS5vZmYoXCJwaXRjaFwiLHRoaXMuX3JvdGF0ZUNvbXBhc3NBcnJvdyksZS5vZmYoXCJyb3RhdGVcIix0aGlzLl9yb3RhdGVDb21wYXNzQXJyb3cpLHRoaXMuX2hhbmRsZXImJnRoaXMuX2hhbmRsZXIub2ZmKCksdGhpcy5faGFuZGxlcj12b2lkIDApLHRoaXMuX21hcD12b2lkIDApO31fY3JlYXRlQnV0dG9uKGUsdCl7Y29uc3QgaT1uKFwiYnV0dG9uXCIsZSx0aGlzLl9jb250YWluZXIpO3JldHVybiBpLnR5cGU9XCJidXR0b25cIixpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHQpLGl9X3NldEJ1dHRvblRpdGxlKGUsdCl7aWYoIXRoaXMuX21hcClyZXR1cm47Y29uc3QgaT10aGlzLl9tYXAuX2dldFVJU3RyaW5nKGBOYXZpZ2F0aW9uQ29udHJvbC4ke3R9YCk7ZS5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsaSksZS5maXJzdEVsZW1lbnRDaGlsZCYmZS5maXJzdEVsZW1lbnRDaGlsZC5zZXRBdHRyaWJ1dGUoXCJ0aXRsZVwiLGkpO319LEdlb2xvY2F0ZUNvbnRyb2w6Y2xhc3MgZXh0ZW5kcyBlLkV2ZW50ZWR7Y29uc3RydWN0b3IodCl7c3VwZXIoKSx0aGlzLm9wdGlvbnM9ZS5leHRlbmQoe2dlb2xvY2F0aW9uOmUud2luZG93Lm5hdmlnYXRvci5nZW9sb2NhdGlvbn0sZG4sdCksZS5iaW5kQWxsKFtcIl9vblN1Y2Nlc3NcIixcIl9vbkVycm9yXCIsXCJfb25ab29tXCIsXCJfZmluaXNoXCIsXCJfc2V0dXBVSVwiLFwiX3VwZGF0ZUNhbWVyYVwiLFwiX3VwZGF0ZU1hcmtlclwiLFwiX3VwZGF0ZU1hcmtlclJvdGF0aW9uXCIsXCJfb25EZXZpY2VPcmllbnRhdGlvblwiXSx0aGlzKSx0aGlzLl91cGRhdGVNYXJrZXJSb3RhdGlvblRocm90dGxlZD1Kbyh0aGlzLl91cGRhdGVNYXJrZXJSb3RhdGlvbiwyMCksdGhpcy5fbnVtYmVyT2ZXYXRjaGVzPTA7fW9uQWRkKGUpe3JldHVybiB0aGlzLl9tYXA9ZSx0aGlzLl9jb250YWluZXI9bihcImRpdlwiLFwibWFwYm94Z2wtY3RybCBtYXBib3hnbC1jdHJsLWdyb3VwXCIpLHRoaXMuX2NoZWNrR2VvbG9jYXRpb25TdXBwb3J0KHRoaXMuX3NldHVwVUkpLHRoaXMuX2NvbnRhaW5lcn1vblJlbW92ZSgpe3ZvaWQgMCE9PXRoaXMuX2dlb2xvY2F0aW9uV2F0Y2hJRCYmKHRoaXMub3B0aW9ucy5nZW9sb2NhdGlvbi5jbGVhcldhdGNoKHRoaXMuX2dlb2xvY2F0aW9uV2F0Y2hJRCksdGhpcy5fZ2VvbG9jYXRpb25XYXRjaElEPXZvaWQgMCksdGhpcy5vcHRpb25zLnNob3dVc2VyTG9jYXRpb24mJnRoaXMuX3VzZXJMb2NhdGlvbkRvdE1hcmtlciYmdGhpcy5fdXNlckxvY2F0aW9uRG90TWFya2VyLnJlbW92ZSgpLHRoaXMub3B0aW9ucy5zaG93QWNjdXJhY3lDaXJjbGUmJnRoaXMuX2FjY3VyYWN5Q2lyY2xlTWFya2VyJiZ0aGlzLl9hY2N1cmFjeUNpcmNsZU1hcmtlci5yZW1vdmUoKSx0aGlzLl9jb250YWluZXIucmVtb3ZlKCksdGhpcy5fbWFwLm9mZihcInpvb21cIix0aGlzLl9vblpvb20pLHRoaXMuX21hcD12b2lkIDAsdGhpcy5fbnVtYmVyT2ZXYXRjaGVzPTAsdGhpcy5fbm9UaW1lb3V0PSExO31fY2hlY2tHZW9sb2NhdGlvblN1cHBvcnQodCl7Y29uc3QgaT0oZT0hIXRoaXMub3B0aW9ucy5nZW9sb2NhdGlvbik9Pnt0aGlzLl9zdXBwb3J0c0dlb2xvY2F0aW9uPWUsdChlKTt9O3ZvaWQgMCE9PXRoaXMuX3N1cHBvcnRzR2VvbG9jYXRpb24/dCh0aGlzLl9zdXBwb3J0c0dlb2xvY2F0aW9uKTp2b2lkIDAhPT1lLndpbmRvdy5uYXZpZ2F0b3IucGVybWlzc2lvbnM/ZS53aW5kb3cubmF2aWdhdG9yLnBlcm1pc3Npb25zLnF1ZXJ5KHtuYW1lOlwiZ2VvbG9jYXRpb25cIn0pLnRoZW4oKGU9PmkoXCJkZW5pZWRcIiE9PWUuc3RhdGUpKSkuY2F0Y2goKCgpPT5pKCkpKTppKCk7fV9pc091dE9mTWFwTWF4Qm91bmRzKGUpe2NvbnN0IHQ9dGhpcy5fbWFwLmdldE1heEJvdW5kcygpLGk9ZS5jb29yZHM7cmV0dXJuICEhdCYmKGkubG9uZ2l0dWRlPHQuZ2V0V2VzdCgpfHxpLmxvbmdpdHVkZT50LmdldEVhc3QoKXx8aS5sYXRpdHVkZTx0LmdldFNvdXRoKCl8fGkubGF0aXR1ZGU+dC5nZXROb3J0aCgpKX1fc2V0RXJyb3JTdGF0ZSgpe3N3aXRjaCh0aGlzLl93YXRjaFN0YXRlKXtjYXNlXCJXQUlUSU5HX0FDVElWRVwiOnRoaXMuX3dhdGNoU3RhdGU9XCJBQ1RJVkVfRVJST1JcIix0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZVwiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZS1lcnJvclwiKTticmVhaztjYXNlXCJBQ1RJVkVfTE9DS1wiOnRoaXMuX3dhdGNoU3RhdGU9XCJBQ1RJVkVfRVJST1JcIix0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZVwiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZS1lcnJvclwiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLXdhaXRpbmdcIik7YnJlYWs7Y2FzZVwiQkFDS0dST1VORFwiOnRoaXMuX3dhdGNoU3RhdGU9XCJCQUNLR1JPVU5EX0VSUk9SXCIsdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1iYWNrZ3JvdW5kXCIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYmFja2dyb3VuZC1lcnJvclwiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLXdhaXRpbmdcIik7fX1fb25TdWNjZXNzKHQpe2lmKHRoaXMuX21hcCl7aWYodGhpcy5faXNPdXRPZk1hcE1heEJvdW5kcyh0KSlyZXR1cm4gdGhpcy5fc2V0RXJyb3JTdGF0ZSgpLHRoaXMuZmlyZShuZXcgZS5FdmVudChcIm91dG9mbWF4Ym91bmRzXCIsdCkpLHRoaXMuX3VwZGF0ZU1hcmtlcigpLHZvaWQgdGhpcy5fZmluaXNoKCk7aWYodGhpcy5vcHRpb25zLnRyYWNrVXNlckxvY2F0aW9uKXN3aXRjaCh0aGlzLl9sYXN0S25vd25Qb3NpdGlvbj10LHRoaXMuX3dhdGNoU3RhdGUpe2Nhc2VcIldBSVRJTkdfQUNUSVZFXCI6Y2FzZVwiQUNUSVZFX0xPQ0tcIjpjYXNlXCJBQ1RJVkVfRVJST1JcIjp0aGlzLl93YXRjaFN0YXRlPVwiQUNUSVZFX0xPQ0tcIix0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLXdhaXRpbmdcIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1hY3RpdmUtZXJyb3JcIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1hY3RpdmVcIik7YnJlYWs7Y2FzZVwiQkFDS0dST1VORFwiOmNhc2VcIkJBQ0tHUk9VTkRfRVJST1JcIjp0aGlzLl93YXRjaFN0YXRlPVwiQkFDS0dST1VORFwiLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtd2FpdGluZ1wiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmQtZXJyb3JcIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1iYWNrZ3JvdW5kXCIpO310aGlzLm9wdGlvbnMuc2hvd1VzZXJMb2NhdGlvbiYmXCJPRkZcIiE9PXRoaXMuX3dhdGNoU3RhdGUmJnRoaXMuX3VwZGF0ZU1hcmtlcih0KSx0aGlzLm9wdGlvbnMudHJhY2tVc2VyTG9jYXRpb24mJlwiQUNUSVZFX0xPQ0tcIiE9PXRoaXMuX3dhdGNoU3RhdGV8fHRoaXMuX3VwZGF0ZUNhbWVyYSh0KSx0aGlzLm9wdGlvbnMuc2hvd1VzZXJMb2NhdGlvbiYmdGhpcy5fZG90RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtdXNlci1sb2NhdGlvbi1kb3Qtc3RhbGVcIiksdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwiZ2VvbG9jYXRlXCIsdCkpLHRoaXMuX2ZpbmlzaCgpO319X3VwZGF0ZUNhbWVyYSh0KXtjb25zdCBpPW5ldyBlLkxuZ0xhdCh0LmNvb3Jkcy5sb25naXR1ZGUsdC5jb29yZHMubGF0aXR1ZGUpLG89dC5jb29yZHMuYWNjdXJhY3kscj10aGlzLl9tYXAuZ2V0QmVhcmluZygpLG49ZS5leHRlbmQoe2JlYXJpbmc6cn0sdGhpcy5vcHRpb25zLmZpdEJvdW5kc09wdGlvbnMpO3RoaXMuX21hcC5maXRCb3VuZHMoaS50b0JvdW5kcyhvKSxuLHtnZW9sb2NhdGVTb3VyY2U6ITB9KTt9X3VwZGF0ZU1hcmtlcih0KXtpZih0KXtjb25zdCBpPW5ldyBlLkxuZ0xhdCh0LmNvb3Jkcy5sb25naXR1ZGUsdC5jb29yZHMubGF0aXR1ZGUpO3RoaXMuX2FjY3VyYWN5Q2lyY2xlTWFya2VyLnNldExuZ0xhdChpKS5hZGRUbyh0aGlzLl9tYXApLHRoaXMuX3VzZXJMb2NhdGlvbkRvdE1hcmtlci5zZXRMbmdMYXQoaSkuYWRkVG8odGhpcy5fbWFwKSx0aGlzLl9hY2N1cmFjeT10LmNvb3Jkcy5hY2N1cmFjeSx0aGlzLm9wdGlvbnMuc2hvd1VzZXJMb2NhdGlvbiYmdGhpcy5vcHRpb25zLnNob3dBY2N1cmFjeUNpcmNsZSYmdGhpcy5fdXBkYXRlQ2lyY2xlUmFkaXVzKCk7fWVsc2UgdGhpcy5fdXNlckxvY2F0aW9uRG90TWFya2VyLnJlbW92ZSgpLHRoaXMuX2FjY3VyYWN5Q2lyY2xlTWFya2VyLnJlbW92ZSgpO31fdXBkYXRlQ2lyY2xlUmFkaXVzKCl7Y29uc3QgdD10aGlzLl9tYXAudHJhbnNmb3JtLGk9ZS5tZXJjYXRvclpmcm9tQWx0aXR1ZGUoMSx0Ll9jZW50ZXIubGF0KSp0LndvcmxkU2l6ZSxvPU1hdGguY2VpbCgyKnRoaXMuX2FjY3VyYWN5KmkpO3RoaXMuX2NpcmNsZUVsZW1lbnQuc3R5bGUud2lkdGg9YCR7b31weGAsdGhpcy5fY2lyY2xlRWxlbWVudC5zdHlsZS5oZWlnaHQ9YCR7b31weGA7fV9vblpvb20oKXt0aGlzLm9wdGlvbnMuc2hvd1VzZXJMb2NhdGlvbiYmdGhpcy5vcHRpb25zLnNob3dBY2N1cmFjeUNpcmNsZSYmdGhpcy5fdXBkYXRlQ2lyY2xlUmFkaXVzKCk7fV91cGRhdGVNYXJrZXJSb3RhdGlvbigpe3RoaXMuX3VzZXJMb2NhdGlvbkRvdE1hcmtlciYmXCJudW1iZXJcIj09dHlwZW9mIHRoaXMuX2hlYWRpbmc/KHRoaXMuX3VzZXJMb2NhdGlvbkRvdE1hcmtlci5zZXRSb3RhdGlvbih0aGlzLl9oZWFkaW5nKSx0aGlzLl9kb3RFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC11c2VyLWxvY2F0aW9uLXNob3ctaGVhZGluZ1wiKSk6KHRoaXMuX2RvdEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLXVzZXItbG9jYXRpb24tc2hvdy1oZWFkaW5nXCIpLHRoaXMuX3VzZXJMb2NhdGlvbkRvdE1hcmtlci5zZXRSb3RhdGlvbigwKSk7fV9vbkVycm9yKHQpe2lmKHRoaXMuX21hcCl7aWYodGhpcy5vcHRpb25zLnRyYWNrVXNlckxvY2F0aW9uKWlmKDE9PT10LmNvZGUpe3RoaXMuX3dhdGNoU3RhdGU9XCJPRkZcIix0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLXdhaXRpbmdcIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1hY3RpdmVcIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1hY3RpdmUtZXJyb3JcIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1iYWNrZ3JvdW5kXCIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYmFja2dyb3VuZC1lcnJvclwiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uZGlzYWJsZWQ9ITA7Y29uc3QgZT10aGlzLl9tYXAuX2dldFVJU3RyaW5nKFwiR2VvbG9jYXRlQ29udHJvbC5Mb2NhdGlvbk5vdEF2YWlsYWJsZVwiKTt0aGlzLl9nZW9sb2NhdGVCdXR0b24uc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLGUpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5maXJzdEVsZW1lbnRDaGlsZCYmdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmZpcnN0RWxlbWVudENoaWxkLnNldEF0dHJpYnV0ZShcInRpdGxlXCIsZSksdm9pZCAwIT09dGhpcy5fZ2VvbG9jYXRpb25XYXRjaElEJiZ0aGlzLl9jbGVhcldhdGNoKCk7fWVsc2Uge2lmKDM9PT10LmNvZGUmJnRoaXMuX25vVGltZW91dClyZXR1cm47dGhpcy5fc2V0RXJyb3JTdGF0ZSgpO31cIk9GRlwiIT09dGhpcy5fd2F0Y2hTdGF0ZSYmdGhpcy5vcHRpb25zLnNob3dVc2VyTG9jYXRpb24mJnRoaXMuX2RvdEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLXVzZXItbG9jYXRpb24tZG90LXN0YWxlXCIpLHRoaXMuZmlyZShuZXcgZS5FdmVudChcImVycm9yXCIsdCkpLHRoaXMuX2ZpbmlzaCgpO319X2ZpbmlzaCgpe3RoaXMuX3RpbWVvdXRJZCYmY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVvdXRJZCksdGhpcy5fdGltZW91dElkPXZvaWQgMDt9X3NldHVwVUkodCl7aWYodGhpcy5fY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXCJjb250ZXh0bWVudVwiLChlPT5lLnByZXZlbnREZWZhdWx0KCkpKSx0aGlzLl9nZW9sb2NhdGVCdXR0b249bihcImJ1dHRvblwiLFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGVcIix0aGlzLl9jb250YWluZXIpLG4oXCJzcGFuXCIsXCJtYXBib3hnbC1jdHJsLWljb25cIix0aGlzLl9nZW9sb2NhdGVCdXR0b24pLnNldEF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIsXCJ0cnVlXCIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi50eXBlPVwiYnV0dG9uXCIsITE9PT10KXtlLndhcm5PbmNlKFwiR2VvbG9jYXRpb24gc3VwcG9ydCBpcyBub3QgYXZhaWxhYmxlIHNvIHRoZSBHZW9sb2NhdGVDb250cm9sIHdpbGwgYmUgZGlzYWJsZWQuXCIpO2NvbnN0IHQ9dGhpcy5fbWFwLl9nZXRVSVN0cmluZyhcIkdlb2xvY2F0ZUNvbnRyb2wuTG9jYXRpb25Ob3RBdmFpbGFibGVcIik7dGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmRpc2FibGVkPSEwLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsdCksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmZpcnN0RWxlbWVudENoaWxkJiZ0aGlzLl9nZW9sb2NhdGVCdXR0b24uZmlyc3RFbGVtZW50Q2hpbGQuc2V0QXR0cmlidXRlKFwidGl0bGVcIix0KTt9ZWxzZSB7Y29uc3QgZT10aGlzLl9tYXAuX2dldFVJU3RyaW5nKFwiR2VvbG9jYXRlQ29udHJvbC5GaW5kTXlMb2NhdGlvblwiKTt0aGlzLl9nZW9sb2NhdGVCdXR0b24uc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLGUpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5maXJzdEVsZW1lbnRDaGlsZCYmdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmZpcnN0RWxlbWVudENoaWxkLnNldEF0dHJpYnV0ZShcInRpdGxlXCIsZSk7fXRoaXMub3B0aW9ucy50cmFja1VzZXJMb2NhdGlvbiYmKHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJhcmlhLXByZXNzZWRcIixcImZhbHNlXCIpLHRoaXMuX3dhdGNoU3RhdGU9XCJPRkZcIiksdGhpcy5vcHRpb25zLnNob3dVc2VyTG9jYXRpb24mJih0aGlzLl9kb3RFbGVtZW50PW4oXCJkaXZcIixcIm1hcGJveGdsLXVzZXItbG9jYXRpb25cIiksdGhpcy5fZG90RWxlbWVudC5hcHBlbmRDaGlsZChuKFwiZGl2XCIsXCJtYXBib3hnbC11c2VyLWxvY2F0aW9uLWRvdFwiKSksdGhpcy5fZG90RWxlbWVudC5hcHBlbmRDaGlsZChuKFwiZGl2XCIsXCJtYXBib3hnbC11c2VyLWxvY2F0aW9uLWhlYWRpbmdcIikpLHRoaXMuX3VzZXJMb2NhdGlvbkRvdE1hcmtlcj1uZXcgb24oe2VsZW1lbnQ6dGhpcy5fZG90RWxlbWVudCxyb3RhdGlvbkFsaWdubWVudDpcIm1hcFwiLHBpdGNoQWxpZ25tZW50OlwibWFwXCJ9KSx0aGlzLl9jaXJjbGVFbGVtZW50PW4oXCJkaXZcIixcIm1hcGJveGdsLXVzZXItbG9jYXRpb24tYWNjdXJhY3ktY2lyY2xlXCIpLHRoaXMuX2FjY3VyYWN5Q2lyY2xlTWFya2VyPW5ldyBvbih7ZWxlbWVudDp0aGlzLl9jaXJjbGVFbGVtZW50LHBpdGNoQWxpZ25tZW50OlwibWFwXCJ9KSx0aGlzLm9wdGlvbnMudHJhY2tVc2VyTG9jYXRpb24mJih0aGlzLl93YXRjaFN0YXRlPVwiT0ZGXCIpLHRoaXMuX21hcC5vbihcInpvb21cIix0aGlzLl9vblpvb20pKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsdGhpcy50cmlnZ2VyLmJpbmQodGhpcykpLHRoaXMuX3NldHVwPSEwLHRoaXMub3B0aW9ucy50cmFja1VzZXJMb2NhdGlvbiYmdGhpcy5fbWFwLm9uKFwibW92ZXN0YXJ0XCIsKHQ9Pnt0Lmdlb2xvY2F0ZVNvdXJjZXx8XCJBQ1RJVkVfTE9DS1wiIT09dGhpcy5fd2F0Y2hTdGF0ZXx8dC5vcmlnaW5hbEV2ZW50JiZcInJlc2l6ZVwiPT09dC5vcmlnaW5hbEV2ZW50LnR5cGV8fCh0aGlzLl93YXRjaFN0YXRlPVwiQkFDS0dST1VORFwiLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYmFja2dyb3VuZFwiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZVwiKSx0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJ0cmFja3VzZXJsb2NhdGlvbmVuZFwiKSkpO30pKTt9X29uRGV2aWNlT3JpZW50YXRpb24oZSl7dGhpcy5fdXNlckxvY2F0aW9uRG90TWFya2VyJiYoZS53ZWJraXRDb21wYXNzSGVhZGluZz90aGlzLl9oZWFkaW5nPWUud2Via2l0Q29tcGFzc0hlYWRpbmc6ITA9PT1lLmFic29sdXRlJiYodGhpcy5faGVhZGluZz0tMSplLmFscGhhKSx0aGlzLl91cGRhdGVNYXJrZXJSb3RhdGlvblRocm90dGxlZCgpKTt9dHJpZ2dlcigpe2lmKCF0aGlzLl9zZXR1cClyZXR1cm4gZS53YXJuT25jZShcIkdlb2xvY2F0ZSBjb250cm9sIHRyaWdnZXJlZCBiZWZvcmUgYWRkZWQgdG8gYSBtYXBcIiksITE7aWYodGhpcy5vcHRpb25zLnRyYWNrVXNlckxvY2F0aW9uKXtzd2l0Y2godGhpcy5fd2F0Y2hTdGF0ZSl7Y2FzZVwiT0ZGXCI6dGhpcy5fd2F0Y2hTdGF0ZT1cIldBSVRJTkdfQUNUSVZFXCIsdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwidHJhY2t1c2VybG9jYXRpb25zdGFydFwiKSk7YnJlYWs7Y2FzZVwiV0FJVElOR19BQ1RJVkVcIjpjYXNlXCJBQ1RJVkVfTE9DS1wiOmNhc2VcIkFDVElWRV9FUlJPUlwiOmNhc2VcIkJBQ0tHUk9VTkRfRVJST1JcIjp0aGlzLl9udW1iZXJPZldhdGNoZXMtLSx0aGlzLl9ub1RpbWVvdXQ9ITEsdGhpcy5fd2F0Y2hTdGF0ZT1cIk9GRlwiLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtd2FpdGluZ1wiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZVwiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZS1lcnJvclwiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmRcIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1iYWNrZ3JvdW5kLWVycm9yXCIpLHRoaXMuZmlyZShuZXcgZS5FdmVudChcInRyYWNrdXNlcmxvY2F0aW9uZW5kXCIpKTticmVhaztjYXNlXCJCQUNLR1JPVU5EXCI6dGhpcy5fd2F0Y2hTdGF0ZT1cIkFDVElWRV9MT0NLXCIsdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1iYWNrZ3JvdW5kXCIpLHRoaXMuX2xhc3RLbm93blBvc2l0aW9uJiZ0aGlzLl91cGRhdGVDYW1lcmEodGhpcy5fbGFzdEtub3duUG9zaXRpb24pLHRoaXMuZmlyZShuZXcgZS5FdmVudChcInRyYWNrdXNlcmxvY2F0aW9uc3RhcnRcIikpO31zd2l0Y2godGhpcy5fd2F0Y2hTdGF0ZSl7Y2FzZVwiV0FJVElOR19BQ1RJVkVcIjp0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLXdhaXRpbmdcIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1hY3RpdmVcIik7YnJlYWs7Y2FzZVwiQUNUSVZFX0xPQ0tcIjp0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZVwiKTticmVhaztjYXNlXCJBQ1RJVkVfRVJST1JcIjp0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLXdhaXRpbmdcIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1hY3RpdmUtZXJyb3JcIik7YnJlYWs7Y2FzZVwiQkFDS0dST1VORFwiOnRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYmFja2dyb3VuZFwiKTticmVhaztjYXNlXCJCQUNLR1JPVU5EX0VSUk9SXCI6dGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS13YWl0aW5nXCIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYmFja2dyb3VuZC1lcnJvclwiKTt9aWYoXCJPRkZcIj09PXRoaXMuX3dhdGNoU3RhdGUmJnZvaWQgMCE9PXRoaXMuX2dlb2xvY2F0aW9uV2F0Y2hJRCl0aGlzLl9jbGVhcldhdGNoKCk7ZWxzZSBpZih2b2lkIDA9PT10aGlzLl9nZW9sb2NhdGlvbldhdGNoSUQpe2xldCBlO3RoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtd2FpdGluZ1wiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uc2V0QXR0cmlidXRlKFwiYXJpYS1wcmVzc2VkXCIsXCJ0cnVlXCIpLHRoaXMuX251bWJlck9mV2F0Y2hlcysrLHRoaXMuX251bWJlck9mV2F0Y2hlcz4xPyhlPXttYXhpbXVtQWdlOjZlNSx0aW1lb3V0OjB9LHRoaXMuX25vVGltZW91dD0hMCk6KGU9dGhpcy5vcHRpb25zLnBvc2l0aW9uT3B0aW9ucyx0aGlzLl9ub1RpbWVvdXQ9ITEpLHRoaXMuX2dlb2xvY2F0aW9uV2F0Y2hJRD10aGlzLm9wdGlvbnMuZ2VvbG9jYXRpb24ud2F0Y2hQb3NpdGlvbih0aGlzLl9vblN1Y2Nlc3MsdGhpcy5fb25FcnJvcixlKSx0aGlzLm9wdGlvbnMuc2hvd1VzZXJIZWFkaW5nJiZ0aGlzLl9hZGREZXZpY2VPcmllbnRhdGlvbkxpc3RlbmVyKCk7fX1lbHNlIHRoaXMub3B0aW9ucy5nZW9sb2NhdGlvbi5nZXRDdXJyZW50UG9zaXRpb24odGhpcy5fb25TdWNjZXNzLHRoaXMuX29uRXJyb3IsdGhpcy5vcHRpb25zLnBvc2l0aW9uT3B0aW9ucyksdGhpcy5fdGltZW91dElkPXNldFRpbWVvdXQodGhpcy5fZmluaXNoLDFlNCk7cmV0dXJuICEwfV9hZGREZXZpY2VPcmllbnRhdGlvbkxpc3RlbmVyKCl7Y29uc3QgdD0oKT0+e2Uud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJvbmRldmljZW9yaWVudGF0aW9uYWJzb2x1dGVcImluIGUud2luZG93P1wiZGV2aWNlb3JpZW50YXRpb25hYnNvbHV0ZVwiOlwiZGV2aWNlb3JpZW50YXRpb25cIix0aGlzLl9vbkRldmljZU9yaWVudGF0aW9uKTt9O3ZvaWQgMCE9PWUud2luZG93LkRldmljZU1vdGlvbkV2ZW50JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLndpbmRvdy5EZXZpY2VNb3Rpb25FdmVudC5yZXF1ZXN0UGVybWlzc2lvbj9EZXZpY2VPcmllbnRhdGlvbkV2ZW50LnJlcXVlc3RQZXJtaXNzaW9uKCkudGhlbigoZT0+e1wiZ3JhbnRlZFwiPT09ZSYmdCgpO30pKS5jYXRjaChjb25zb2xlLmVycm9yKTp0KCk7fV9jbGVhcldhdGNoKCl7dGhpcy5vcHRpb25zLmdlb2xvY2F0aW9uLmNsZWFyV2F0Y2godGhpcy5fZ2VvbG9jYXRpb25XYXRjaElEKSxlLndpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwiZGV2aWNlb3JpZW50YXRpb25cIix0aGlzLl9vbkRldmljZU9yaWVudGF0aW9uKSxlLndpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwiZGV2aWNlb3JpZW50YXRpb25hYnNvbHV0ZVwiLHRoaXMuX29uRGV2aWNlT3JpZW50YXRpb24pLHRoaXMuX2dlb2xvY2F0aW9uV2F0Y2hJRD12b2lkIDAsdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS13YWl0aW5nXCIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJhcmlhLXByZXNzZWRcIixcImZhbHNlXCIpLHRoaXMub3B0aW9ucy5zaG93VXNlckxvY2F0aW9uJiZ0aGlzLl91cGRhdGVNYXJrZXIobnVsbCk7fX0sQXR0cmlidXRpb25Db250cm9sOktyLFNjYWxlQ29udHJvbDpjbGFzc3tjb25zdHJ1Y3Rvcih0KXt0aGlzLm9wdGlvbnM9ZS5leHRlbmQoe30scG4sdCksZnVuY3Rpb24oKXt0cnl7cmV0dXJuIG5ldyBJbnRsLk51bWJlckZvcm1hdChcImVuXCIse3N0eWxlOlwidW5pdFwiLHVuaXREaXNwbGF5OlwibmFycm93XCIsdW5pdDpcIm1ldGVyXCJ9KSwhMH1jYXRjaChlKXtyZXR1cm4gITF9fSgpfHwodGhpcy5fc2V0U2NhbGU9bW4uYmluZCh0aGlzKSksZS5iaW5kQWxsKFtcIl91cGRhdGVcIixcIl9zZXRTY2FsZVwiLFwic2V0VW5pdFwiXSx0aGlzKTt9Z2V0RGVmYXVsdFBvc2l0aW9uKCl7cmV0dXJuIFwiYm90dG9tLWxlZnRcIn1fdXBkYXRlKCl7Y29uc3QgZT10aGlzLm9wdGlvbnMubWF4V2lkdGh8fDEwMCx0PXRoaXMuX21hcCxpPXQuX2NvbnRhaW5lckhlaWdodC8yLG89dC5fY29udGFpbmVyV2lkdGgvMi1lLzIscj10LnVucHJvamVjdChbbyxpXSksbj10LnVucHJvamVjdChbbytlLGldKSxhPXIuZGlzdGFuY2VUbyhuKTtpZihcImltcGVyaWFsXCI9PT10aGlzLm9wdGlvbnMudW5pdCl7Y29uc3QgdD0zLjI4MDgqYTt0PjUyODA/dGhpcy5fc2V0U2NhbGUoZSx0LzUyODAsXCJtaWxlXCIpOnRoaXMuX3NldFNjYWxlKGUsdCxcImZvb3RcIik7fWVsc2UgXCJuYXV0aWNhbFwiPT09dGhpcy5vcHRpb25zLnVuaXQ/dGhpcy5fc2V0U2NhbGUoZSxhLzE4NTIsXCJuYXV0aWNhbC1taWxlXCIpOmE+PTFlMz90aGlzLl9zZXRTY2FsZShlLGEvMWUzLFwia2lsb21ldGVyXCIpOnRoaXMuX3NldFNjYWxlKGUsYSxcIm1ldGVyXCIpO31fc2V0U2NhbGUoZSx0LGkpe2NvbnN0IG89Zm4odCkscj1vL3Q7dGhpcy5fbWFwLl9yZXF1ZXN0RG9tVGFzaygoKCk9Pnt0aGlzLl9jb250YWluZXIuc3R5bGUud2lkdGg9ZSpyK1wicHhcIix0aGlzLl9jb250YWluZXIuaW5uZXJIVE1MPVwibmF1dGljYWwtbWlsZVwiIT09aT9uZXcgSW50bC5OdW1iZXJGb3JtYXQodGhpcy5fbGFuZ3VhZ2Use3N0eWxlOlwidW5pdFwiLHVuaXREaXNwbGF5OlwibmFycm93XCIsdW5pdDppfSkuZm9ybWF0KG8pOmAke299Jm5ic3A7bm1gO30pKTt9b25BZGQoZSl7cmV0dXJuIHRoaXMuX21hcD1lLHRoaXMuX2xhbmd1YWdlPWUuZ2V0TGFuZ3VhZ2UoKSx0aGlzLl9jb250YWluZXI9bihcImRpdlwiLFwibWFwYm94Z2wtY3RybCBtYXBib3hnbC1jdHJsLXNjYWxlXCIsZS5nZXRDb250YWluZXIoKSksdGhpcy5fY29udGFpbmVyLmRpcj1cImF1dG9cIix0aGlzLl9tYXAub24oXCJtb3ZlXCIsdGhpcy5fdXBkYXRlKSx0aGlzLl91cGRhdGUoKSx0aGlzLl9jb250YWluZXJ9b25SZW1vdmUoKXt0aGlzLl9jb250YWluZXIucmVtb3ZlKCksdGhpcy5fbWFwLm9mZihcIm1vdmVcIix0aGlzLl91cGRhdGUpLHRoaXMuX21hcD12b2lkIDA7fV9zZXRMYW5ndWFnZShlKXt0aGlzLl9sYW5ndWFnZT1lLHRoaXMuX3VwZGF0ZSgpO31zZXRVbml0KGUpe3RoaXMub3B0aW9ucy51bml0PWUsdGhpcy5fdXBkYXRlKCk7fX0sRnVsbHNjcmVlbkNvbnRyb2w6Y2xhc3N7Y29uc3RydWN0b3IodCl7dGhpcy5fZnVsbHNjcmVlbj0hMSx0JiZ0LmNvbnRhaW5lciYmKHQuY29udGFpbmVyIGluc3RhbmNlb2YgZS53aW5kb3cuSFRNTEVsZW1lbnQ/dGhpcy5fY29udGFpbmVyPXQuY29udGFpbmVyOmUud2Fybk9uY2UoXCJGdWxsIHNjcmVlbiBjb250cm9sICdjb250YWluZXInIG11c3QgYmUgYSBET00gZWxlbWVudC5cIikpLGUuYmluZEFsbChbXCJfb25DbGlja0Z1bGxzY3JlZW5cIixcIl9jaGFuZ2VJY29uXCJdLHRoaXMpLFwib25mdWxsc2NyZWVuY2hhbmdlXCJpbiBlLndpbmRvdy5kb2N1bWVudD90aGlzLl9mdWxsc2NyZWVuY2hhbmdlPVwiZnVsbHNjcmVlbmNoYW5nZVwiOlwib253ZWJraXRmdWxsc2NyZWVuY2hhbmdlXCJpbiBlLndpbmRvdy5kb2N1bWVudCYmKHRoaXMuX2Z1bGxzY3JlZW5jaGFuZ2U9XCJ3ZWJraXRmdWxsc2NyZWVuY2hhbmdlXCIpO31vbkFkZCh0KXtyZXR1cm4gdGhpcy5fbWFwPXQsdGhpcy5fY29udGFpbmVyfHwodGhpcy5fY29udGFpbmVyPXRoaXMuX21hcC5nZXRDb250YWluZXIoKSksdGhpcy5fY29udHJvbENvbnRhaW5lcj1uKFwiZGl2XCIsXCJtYXBib3hnbC1jdHJsIG1hcGJveGdsLWN0cmwtZ3JvdXBcIiksdGhpcy5fY2hlY2tGdWxsc2NyZWVuU3VwcG9ydCgpP3RoaXMuX3NldHVwVUkoKToodGhpcy5fY29udHJvbENvbnRhaW5lci5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLGUud2Fybk9uY2UoXCJUaGlzIGRldmljZSBkb2VzIG5vdCBzdXBwb3J0IGZ1bGxzY3JlZW4gbW9kZS5cIikpLHRoaXMuX2NvbnRyb2xDb250YWluZXJ9b25SZW1vdmUoKXt0aGlzLl9jb250cm9sQ29udGFpbmVyLnJlbW92ZSgpLHRoaXMuX21hcD1udWxsLGUud2luZG93LmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIodGhpcy5fZnVsbHNjcmVlbmNoYW5nZSx0aGlzLl9jaGFuZ2VJY29uKTt9X2NoZWNrRnVsbHNjcmVlblN1cHBvcnQoKXtyZXR1cm4gISghZS53aW5kb3cuZG9jdW1lbnQuZnVsbHNjcmVlbkVuYWJsZWQmJiFlLndpbmRvdy5kb2N1bWVudC53ZWJraXRGdWxsc2NyZWVuRW5hYmxlZCl9X3NldHVwVUkoKXtjb25zdCB0PXRoaXMuX2Z1bGxzY3JlZW5CdXR0b249bihcImJ1dHRvblwiLFwibWFwYm94Z2wtY3RybC1mdWxsc2NyZWVuXCIsdGhpcy5fY29udHJvbENvbnRhaW5lcik7bihcInNwYW5cIixcIm1hcGJveGdsLWN0cmwtaWNvblwiLHQpLnNldEF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIsXCJ0cnVlXCIpLHQudHlwZT1cImJ1dHRvblwiLHRoaXMuX3VwZGF0ZVRpdGxlKCksdGhpcy5fZnVsbHNjcmVlbkJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIix0aGlzLl9vbkNsaWNrRnVsbHNjcmVlbiksZS53aW5kb3cuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLl9mdWxsc2NyZWVuY2hhbmdlLHRoaXMuX2NoYW5nZUljb24pO31fdXBkYXRlVGl0bGUoKXtjb25zdCBlPXRoaXMuX2dldFRpdGxlKCk7dGhpcy5fZnVsbHNjcmVlbkJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsZSksdGhpcy5fZnVsbHNjcmVlbkJ1dHRvbi5maXJzdEVsZW1lbnRDaGlsZCYmdGhpcy5fZnVsbHNjcmVlbkJ1dHRvbi5maXJzdEVsZW1lbnRDaGlsZC5zZXRBdHRyaWJ1dGUoXCJ0aXRsZVwiLGUpO31fZ2V0VGl0bGUoKXtyZXR1cm4gdGhpcy5fbWFwLl9nZXRVSVN0cmluZyh0aGlzLl9pc0Z1bGxzY3JlZW4oKT9cIkZ1bGxzY3JlZW5Db250cm9sLkV4aXRcIjpcIkZ1bGxzY3JlZW5Db250cm9sLkVudGVyXCIpfV9pc0Z1bGxzY3JlZW4oKXtyZXR1cm4gdGhpcy5fZnVsbHNjcmVlbn1fY2hhbmdlSWNvbigpeyhlLndpbmRvdy5kb2N1bWVudC5mdWxsc2NyZWVuRWxlbWVudHx8ZS53aW5kb3cuZG9jdW1lbnQud2Via2l0RnVsbHNjcmVlbkVsZW1lbnQpPT09dGhpcy5fY29udGFpbmVyIT09dGhpcy5fZnVsbHNjcmVlbiYmKHRoaXMuX2Z1bGxzY3JlZW49IXRoaXMuX2Z1bGxzY3JlZW4sdGhpcy5fZnVsbHNjcmVlbkJ1dHRvbi5jbGFzc0xpc3QudG9nZ2xlKFwibWFwYm94Z2wtY3RybC1zaHJpbmtcIiksdGhpcy5fZnVsbHNjcmVlbkJ1dHRvbi5jbGFzc0xpc3QudG9nZ2xlKFwibWFwYm94Z2wtY3RybC1mdWxsc2NyZWVuXCIpLHRoaXMuX3VwZGF0ZVRpdGxlKCkpO31fb25DbGlja0Z1bGxzY3JlZW4oKXt0aGlzLl9pc0Z1bGxzY3JlZW4oKT9lLndpbmRvdy5kb2N1bWVudC5leGl0RnVsbHNjcmVlbj9lLndpbmRvdy5kb2N1bWVudC5leGl0RnVsbHNjcmVlbigpOmUud2luZG93LmRvY3VtZW50LndlYmtpdENhbmNlbEZ1bGxTY3JlZW4mJmUud2luZG93LmRvY3VtZW50LndlYmtpdENhbmNlbEZ1bGxTY3JlZW4oKTp0aGlzLl9jb250YWluZXIucmVxdWVzdEZ1bGxzY3JlZW4/dGhpcy5fY29udGFpbmVyLnJlcXVlc3RGdWxsc2NyZWVuKCk6dGhpcy5fY29udGFpbmVyLndlYmtpdFJlcXVlc3RGdWxsc2NyZWVuJiZ0aGlzLl9jb250YWluZXIud2Via2l0UmVxdWVzdEZ1bGxzY3JlZW4oKTt9fSxQb3B1cDpjbGFzcyBleHRlbmRzIGUuRXZlbnRlZHtjb25zdHJ1Y3Rvcih0KXtzdXBlcigpLHRoaXMub3B0aW9ucz1lLmV4dGVuZChPYmplY3QuY3JlYXRlKHJuKSx0KSxlLmJpbmRBbGwoW1wiX3VwZGF0ZVwiLFwiX29uQ2xvc2VcIixcInJlbW92ZVwiLFwiX29uTW91c2VFdmVudFwiXSx0aGlzKSx0aGlzLl9jbGFzc0xpc3Q9bmV3IFNldCh0JiZ0LmNsYXNzTmFtZT90LmNsYXNzTmFtZS50cmltKCkuc3BsaXQoL1xccysvKTpbXSk7fWFkZFRvKHQpe3JldHVybiB0aGlzLl9tYXAmJnRoaXMucmVtb3ZlKCksdGhpcy5fbWFwPXQsdGhpcy5vcHRpb25zLmNsb3NlT25DbGljayYmdC5vbihcInByZWNsaWNrXCIsdGhpcy5fb25DbG9zZSksdGhpcy5vcHRpb25zLmNsb3NlT25Nb3ZlJiZ0Lm9uKFwibW92ZVwiLHRoaXMuX29uQ2xvc2UpLHQub24oXCJyZW1vdmVcIix0aGlzLnJlbW92ZSksdGhpcy5fdXBkYXRlKCksdC5fYWRkUG9wdXAodGhpcyksdGhpcy5fZm9jdXNGaXJzdEVsZW1lbnQoKSx0aGlzLl90cmFja1BvaW50ZXI/KHQub24oXCJtb3VzZW1vdmVcIix0aGlzLl9vbk1vdXNlRXZlbnQpLHQub24oXCJtb3VzZXVwXCIsdGhpcy5fb25Nb3VzZUV2ZW50KSx0Ll9jYW52YXNDb250YWluZXIuY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLXRyYWNrLXBvaW50ZXJcIikpOnQub24oXCJtb3ZlXCIsdGhpcy5fdXBkYXRlKSx0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJvcGVuXCIpKSx0aGlzfWlzT3Blbigpe3JldHVybiAhIXRoaXMuX21hcH1yZW1vdmUoKXt0aGlzLl9jb250ZW50JiZ0aGlzLl9jb250ZW50LnJlbW92ZSgpLHRoaXMuX2NvbnRhaW5lciYmKHRoaXMuX2NvbnRhaW5lci5yZW1vdmUoKSx0aGlzLl9jb250YWluZXI9dm9pZCAwKTtjb25zdCB0PXRoaXMuX21hcDtyZXR1cm4gdCYmKHQub2ZmKFwibW92ZVwiLHRoaXMuX3VwZGF0ZSksdC5vZmYoXCJtb3ZlXCIsdGhpcy5fb25DbG9zZSksdC5vZmYoXCJwcmVjbGlja1wiLHRoaXMuX29uQ2xvc2UpLHQub2ZmKFwiY2xpY2tcIix0aGlzLl9vbkNsb3NlKSx0Lm9mZihcInJlbW92ZVwiLHRoaXMucmVtb3ZlKSx0Lm9mZihcIm1vdXNlbW92ZVwiLHRoaXMuX29uTW91c2VFdmVudCksdC5vZmYoXCJtb3VzZXVwXCIsdGhpcy5fb25Nb3VzZUV2ZW50KSx0Lm9mZihcImRyYWdcIix0aGlzLl9vbk1vdXNlRXZlbnQpLHQuX2NhbnZhc0NvbnRhaW5lciYmdC5fY2FudmFzQ29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC10cmFjay1wb2ludGVyXCIpLHQuX3JlbW92ZVBvcHVwKHRoaXMpLHRoaXMuX21hcD12b2lkIDApLHRoaXMuZmlyZShuZXcgZS5FdmVudChcImNsb3NlXCIpKSx0aGlzfWdldExuZ0xhdCgpe3JldHVybiB0aGlzLl9sbmdMYXR9c2V0TG5nTGF0KHQpe3RoaXMuX2xuZ0xhdD1lLkxuZ0xhdC5jb252ZXJ0KHQpLHRoaXMuX3Bvcz1udWxsLHRoaXMuX3RyYWNrUG9pbnRlcj0hMSx0aGlzLl91cGRhdGUoKTtjb25zdCBpPXRoaXMuX21hcDtyZXR1cm4gaSYmKGkub24oXCJtb3ZlXCIsdGhpcy5fdXBkYXRlKSxpLm9mZihcIm1vdXNlbW92ZVwiLHRoaXMuX29uTW91c2VFdmVudCksaS5fY2FudmFzQ29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC10cmFjay1wb2ludGVyXCIpKSx0aGlzfXRyYWNrUG9pbnRlcigpe3RoaXMuX3RyYWNrUG9pbnRlcj0hMCx0aGlzLl9wb3M9bnVsbCx0aGlzLl91cGRhdGUoKTtjb25zdCBlPXRoaXMuX21hcDtyZXR1cm4gZSYmKGUub2ZmKFwibW92ZVwiLHRoaXMuX3VwZGF0ZSksZS5vbihcIm1vdXNlbW92ZVwiLHRoaXMuX29uTW91c2VFdmVudCksZS5vbihcImRyYWdcIix0aGlzLl9vbk1vdXNlRXZlbnQpLGUuX2NhbnZhc0NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtdHJhY2stcG9pbnRlclwiKSksdGhpc31nZXRFbGVtZW50KCl7cmV0dXJuIHRoaXMuX2NvbnRhaW5lcn1zZXRUZXh0KHQpe3JldHVybiB0aGlzLnNldERPTUNvbnRlbnQoZS53aW5kb3cuZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodCkpfXNldEhUTUwodCl7Y29uc3QgaT1lLndpbmRvdy5kb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksbz1lLndpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYm9keVwiKTtsZXQgcjtmb3Ioby5pbm5lckhUTUw9dDtyPW8uZmlyc3RDaGlsZCxyOylpLmFwcGVuZENoaWxkKHIpO3JldHVybiB0aGlzLnNldERPTUNvbnRlbnQoaSl9Z2V0TWF4V2lkdGgoKXtyZXR1cm4gdGhpcy5fY29udGFpbmVyJiZ0aGlzLl9jb250YWluZXIuc3R5bGUubWF4V2lkdGh9c2V0TWF4V2lkdGgoZSl7cmV0dXJuIHRoaXMub3B0aW9ucy5tYXhXaWR0aD1lLHRoaXMuX3VwZGF0ZSgpLHRoaXN9c2V0RE9NQ29udGVudChlKXtsZXQgdD10aGlzLl9jb250ZW50O2lmKHQpZm9yKDt0Lmhhc0NoaWxkTm9kZXMoKTspdC5maXJzdENoaWxkJiZ0LnJlbW92ZUNoaWxkKHQuZmlyc3RDaGlsZCk7ZWxzZSB0PXRoaXMuX2NvbnRlbnQ9bihcImRpdlwiLFwibWFwYm94Z2wtcG9wdXAtY29udGVudFwiLHRoaXMuX2NvbnRhaW5lcnx8dm9pZCAwKTtpZih0LmFwcGVuZENoaWxkKGUpLHRoaXMub3B0aW9ucy5jbG9zZUJ1dHRvbil7Y29uc3QgZT10aGlzLl9jbG9zZUJ1dHRvbj1uKFwiYnV0dG9uXCIsXCJtYXBib3hnbC1wb3B1cC1jbG9zZS1idXR0b25cIix0KTtlLnR5cGU9XCJidXR0b25cIixlLnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIixcIkNsb3NlIHBvcHVwXCIpLGUuc2V0QXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIixcInRydWVcIiksZS5pbm5lckhUTUw9XCImIzIxNTtcIixlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHRoaXMuX29uQ2xvc2UpO31yZXR1cm4gdGhpcy5fdXBkYXRlKCksdGhpcy5fZm9jdXNGaXJzdEVsZW1lbnQoKSx0aGlzfWFkZENsYXNzTmFtZShlKXtyZXR1cm4gdGhpcy5fY2xhc3NMaXN0LmFkZChlKSx0aGlzLl91cGRhdGVDbGFzc0xpc3QoKSx0aGlzfXJlbW92ZUNsYXNzTmFtZShlKXtyZXR1cm4gdGhpcy5fY2xhc3NMaXN0LmRlbGV0ZShlKSx0aGlzLl91cGRhdGVDbGFzc0xpc3QoKSx0aGlzfXNldE9mZnNldChlKXtyZXR1cm4gdGhpcy5vcHRpb25zLm9mZnNldD1lLHRoaXMuX3VwZGF0ZSgpLHRoaXN9dG9nZ2xlQ2xhc3NOYW1lKGUpe2xldCB0O3JldHVybiB0aGlzLl9jbGFzc0xpc3QuZGVsZXRlKGUpP3Q9ITE6KHRoaXMuX2NsYXNzTGlzdC5hZGQoZSksdD0hMCksdGhpcy5fdXBkYXRlQ2xhc3NMaXN0KCksdH1fb25Nb3VzZUV2ZW50KGUpe3RoaXMuX3VwZGF0ZShlLnBvaW50KTt9X2dldEFuY2hvcihlKXtpZih0aGlzLm9wdGlvbnMuYW5jaG9yKXJldHVybiB0aGlzLm9wdGlvbnMuYW5jaG9yO2NvbnN0IHQ9dGhpcy5fbWFwLGk9dGhpcy5fY29udGFpbmVyLG89dGhpcy5fcG9zO2lmKCF0fHwhaXx8IW8pcmV0dXJuIFwiYm90dG9tXCI7Y29uc3Qgcj1pLm9mZnNldFdpZHRoLG49aS5vZmZzZXRIZWlnaHQsYT1vLng8ci8yLHM9by54PnQudHJhbnNmb3JtLndpZHRoLXIvMjtpZihvLnkrZTxuKXJldHVybiBhP1widG9wLWxlZnRcIjpzP1widG9wLXJpZ2h0XCI6XCJ0b3BcIjtpZihvLnk+dC50cmFuc2Zvcm0uaGVpZ2h0LW4pe2lmKGEpcmV0dXJuIFwiYm90dG9tLWxlZnRcIjtpZihzKXJldHVybiBcImJvdHRvbS1yaWdodFwifXJldHVybiBhP1wibGVmdFwiOnM/XCJyaWdodFwiOlwiYm90dG9tXCJ9X3VwZGF0ZUNsYXNzTGlzdCgpe2NvbnN0IGU9dGhpcy5fY29udGFpbmVyO2lmKCFlKXJldHVybjtjb25zdCB0PVsuLi50aGlzLl9jbGFzc0xpc3RdO3QucHVzaChcIm1hcGJveGdsLXBvcHVwXCIpLHRoaXMuX2FuY2hvciYmdC5wdXNoKGBtYXBib3hnbC1wb3B1cC1hbmNob3ItJHt0aGlzLl9hbmNob3J9YCksdGhpcy5fdHJhY2tQb2ludGVyJiZ0LnB1c2goXCJtYXBib3hnbC1wb3B1cC10cmFjay1wb2ludGVyXCIpLGUuY2xhc3NOYW1lPXQuam9pbihcIiBcIik7fV91cGRhdGUodCl7Y29uc3QgaT10aGlzLl9tYXAsbz10aGlzLl9jb250ZW50O2lmKCFpfHwhdGhpcy5fbG5nTGF0JiYhdGhpcy5fdHJhY2tQb2ludGVyfHwhbylyZXR1cm47bGV0IHI9dGhpcy5fY29udGFpbmVyO2lmKHJ8fChyPXRoaXMuX2NvbnRhaW5lcj1uKFwiZGl2XCIsXCJtYXBib3hnbC1wb3B1cFwiLGkuZ2V0Q29udGFpbmVyKCkpLHRoaXMuX3RpcD1uKFwiZGl2XCIsXCJtYXBib3hnbC1wb3B1cC10aXBcIixyKSxyLmFwcGVuZENoaWxkKG8pKSx0aGlzLm9wdGlvbnMubWF4V2lkdGgmJnIuc3R5bGUubWF4V2lkdGghPT10aGlzLm9wdGlvbnMubWF4V2lkdGgmJihyLnN0eWxlLm1heFdpZHRoPXRoaXMub3B0aW9ucy5tYXhXaWR0aCksaS50cmFuc2Zvcm0ucmVuZGVyV29ybGRDb3BpZXMmJiF0aGlzLl90cmFja1BvaW50ZXImJih0aGlzLl9sbmdMYXQ9ZW4odGhpcy5fbG5nTGF0LHRoaXMuX3BvcyxpLnRyYW5zZm9ybSkpLCF0aGlzLl90cmFja1BvaW50ZXJ8fHQpe2NvbnN0IGU9dGhpcy5fcG9zPXRoaXMuX3RyYWNrUG9pbnRlciYmdD90OmkucHJvamVjdCh0aGlzLl9sbmdMYXQpLG89YW4odGhpcy5vcHRpb25zLm9mZnNldCkscj10aGlzLl9hbmNob3I9dGhpcy5fZ2V0QW5jaG9yKG8ueSksbj1hbih0aGlzLm9wdGlvbnMub2Zmc2V0LHIpLGE9ZS5hZGQobikucm91bmQoKTtpLl9yZXF1ZXN0RG9tVGFzaygoKCk9Pnt0aGlzLl9jb250YWluZXImJnImJih0aGlzLl9jb250YWluZXIuc3R5bGUudHJhbnNmb3JtPWAke3RuW3JdfSB0cmFuc2xhdGUoJHthLnh9cHgsJHthLnl9cHgpYCk7fSkpO31pZighdGhpcy5fbWFya2VyJiZpLl9zaG93aW5nR2xvYmUoKSl7Y29uc3QgdD1lLmlzTG5nTGF0QmVoaW5kR2xvYmUoaS50cmFuc2Zvcm0sdGhpcy5fbG5nTGF0KT8wOjE7dGhpcy5fc2V0T3BhY2l0eSh0KTt9dGhpcy5fdXBkYXRlQ2xhc3NMaXN0KCk7fV9mb2N1c0ZpcnN0RWxlbWVudCgpe2lmKCF0aGlzLm9wdGlvbnMuZm9jdXNBZnRlck9wZW58fCF0aGlzLl9jb250YWluZXIpcmV0dXJuO2NvbnN0IGU9dGhpcy5fY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3Iobm4pO2UmJmUuZm9jdXMoKTt9X29uQ2xvc2UoKXt0aGlzLnJlbW92ZSgpO31fc2V0T3BhY2l0eShlKXt0aGlzLl9jb250YWluZXImJih0aGlzLl9jb250YWluZXIuc3R5bGUub3BhY2l0eT1gJHtlfWApLHRoaXMuX2NvbnRlbnQmJih0aGlzLl9jb250ZW50LnN0eWxlLnBvaW50ZXJFdmVudHM9ZT9cImF1dG9cIjpcIm5vbmVcIik7fX0sTWFya2VyOm9uLFN0eWxlOmVpLExuZ0xhdDplLkxuZ0xhdCxMbmdMYXRCb3VuZHM6ZS5MbmdMYXRCb3VuZHMsUG9pbnQ6ZS5wb2ludEdlb21ldHJ5LE1lcmNhdG9yQ29vcmRpbmF0ZTplLk1lcmNhdG9yQ29vcmRpbmF0ZSxGcmVlQ2FtZXJhT3B0aW9uczpabyxFdmVudGVkOmUuRXZlbnRlZCxjb25maWc6ZS5jb25maWcscHJld2FybTpmdW5jdGlvbigpe0dlKCkuYWNxdWlyZShGZSk7fSxjbGVhclByZXdhcm1lZFJlc291cmNlczpmdW5jdGlvbigpe2NvbnN0IGU9TmU7ZSYmKGUuaXNQcmVsb2FkZWQoKSYmMT09PWUubnVtQWN0aXZlKCk/KGUucmVsZWFzZShGZSksTmU9bnVsbCk6Y29uc29sZS53YXJuKFwiQ291bGQgbm90IGNsZWFyIFdlYldvcmtlcnMgc2luY2UgdGhlcmUgYXJlIGFjdGl2ZSBNYXAgaW5zdGFuY2VzIHRoYXQgc3RpbGwgcmVmZXJlbmNlIGl0LiBUaGUgcHJlLXdhcm1lZCBXZWJXb3JrZXIgcG9vbCBjYW4gb25seSBiZSBjbGVhcmVkIHdoZW4gYWxsIG1hcCBpbnN0YW5jZXMgaGF2ZSBiZWVuIHJlbW92ZWQgd2l0aCBtYXAucmVtb3ZlKClcIikpO30sZ2V0IGFjY2Vzc1Rva2VuKCl7cmV0dXJuIGUuY29uZmlnLkFDQ0VTU19UT0tFTn0sc2V0IGFjY2Vzc1Rva2VuKHQpe2UuY29uZmlnLkFDQ0VTU19UT0tFTj10O30sZ2V0IGJhc2VBcGlVcmwoKXtyZXR1cm4gZS5jb25maWcuQVBJX1VSTH0sc2V0IGJhc2VBcGlVcmwodCl7ZS5jb25maWcuQVBJX1VSTD10O30sZ2V0IHdvcmtlckNvdW50KCl7cmV0dXJuIFVlLndvcmtlckNvdW50fSxzZXQgd29ya2VyQ291bnQoZSl7VWUud29ya2VyQ291bnQ9ZTt9LGdldCBtYXhQYXJhbGxlbEltYWdlUmVxdWVzdHMoKXtyZXR1cm4gZS5jb25maWcuTUFYX1BBUkFMTEVMX0lNQUdFX1JFUVVFU1RTfSxzZXQgbWF4UGFyYWxsZWxJbWFnZVJlcXVlc3RzKHQpe2UuY29uZmlnLk1BWF9QQVJBTExFTF9JTUFHRV9SRVFVRVNUUz10O30sY2xlYXJTdG9yYWdlKHQpe2UuY2xlYXJUaWxlQ2FjaGUodCk7fSx3b3JrZXJVcmw6XCJcIix3b3JrZXJDbGFzczpudWxsLHNldE5vdzplLmV4cG9ydGVkLnNldE5vdyxyZXN0b3JlTm93OmUuZXhwb3J0ZWQucmVzdG9yZU5vd307cmV0dXJuIGdufSkpO1xuXG4vL1xuXG52YXIgbWFwYm94Z2wkMSA9IG1hcGJveGdsO1xuXG5yZXR1cm4gbWFwYm94Z2wkMTtcblxufSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFwYm94LWdsLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/mapbox-gl/dist/mapbox-gl.js\n");

/***/ })

}]);